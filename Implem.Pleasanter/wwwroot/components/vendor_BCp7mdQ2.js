var Qse=Object.defineProperty;var IA=n=>{throw TypeError(n)};var ele=(n,e,t)=>e in n?Qse(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ts=(n,e,t)=>ele(n,typeof e!="symbol"?e+"":e,t),BA=(n,e,t)=>e.has(n)||IA("Cannot "+t);var Ca=(n,e,t)=>(BA(n,e,"read from private field"),t?t.call(n):e.get(n)),v_=(n,e,t)=>e.has(n)?IA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),g_=(n,e,t,r)=>(BA(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);const tle="5";var MO;typeof window<"u"&&((MO=window.__svelte??(window.__svelte={})).v??(MO.v=new Set)).add(tle);let Bd=!1,nle=!1;function rle(){Bd=!0}rle();const YS=1,ZS=2,NO=4,ile=8,ale=16,ole=1,sle=2,lle=4,ule=8,cle=16,fle=1,dle=2,hle=4,ple=1,vle=2,KS="[",JS="[!",XS="]",hd={},_a=Symbol(),gle="http://www.w3.org/1999/xhtml",PA=!1;var tv=Array.isArray,mle=Array.prototype.indexOf,QS=Array.from,g0=Object.keys,Ip=Object.defineProperty,Su=Object.getOwnPropertyDescriptor,DO=Object.getOwnPropertyDescriptors,yle=Object.prototype,ble=Array.prototype,eE=Object.getPrototypeOf,FA=Object.isExtensible;function wle(n){return typeof n=="function"}const ss=()=>{};function Cle(n){return n()}function m0(n){for(var e=0;e<n.length;e++)n[e]()}function bot(n,e){if(Array.isArray(n))return n;if(!(Symbol.iterator in n))return Array.from(n);const t=[];for(const r of n)if(t.push(r),t.length===e)break;return t}const Ao=2,LO=4,f1=8,d1=16,Fl=32,Jc=64,y0=128,io=256,b0=512,ia=1024,$s=2048,zu=4096,Al=8192,h1=16384,OO=32768,p1=65536,RO=1<<17,xle=1<<19,IO=1<<20,RT=1<<21,Ml=Symbol("$state"),BO=Symbol("legacy props"),kle=Symbol("");function PO(n){return n===this.v}function FO(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function tE(n){return!FO(n,this.v)}function _le(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Tle(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Sle(n){throw new Error("https://svelte.dev/e/effect_orphan")}function Ele(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ale(){throw new Error("https://svelte.dev/e/hydration_failed")}function Mle(n){throw new Error("https://svelte.dev/e/props_invalid_value")}function Nle(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Dle(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Lle(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function zO(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let sr=null;function zA(n){sr=n}function Ole(n,e=!1,t){var r=sr={p:sr,c:null,d:!1,e:null,m:!1,s:n,x:null,l:null};Bd&&!e&&(sr.l={s:null,u:null,r1:[],r2:Pp(!1)}),m1(()=>{r.d=!0})}function Rle(n){const e=sr;if(e!==null){n!==void 0&&(e.x=n);const o=e.e;if(o!==null){var t=jn,r=tr;e.e=null;try{for(var i=0;i<o.length;i++){var a=o[i];Mo(a.effect),Da(a.reaction),Pd(a.fn)}}finally{Mo(t),Da(r)}}sr=e.p,e.m=!0}return n||{}}function nv(){return!Bd||sr!==null&&sr.l===null}function Tc(n){if(typeof n!="object"||n===null||Ml in n)return n;const e=eE(n);if(e!==yle&&e!==ble)return n;var t=new Map,r=tv(n),i=uu(0),a=tr,o=l=>{var s=tr;Da(a);var f=l();return Da(s),f};return r&&t.set("length",uu(n.length)),new Proxy(n,{defineProperty(l,s,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Nle();var c=t.get(s);return c===void 0?(c=o(()=>uu(f.value)),t.set(s,c)):eo(c,o(()=>Tc(f.value))),!0},deleteProperty(l,s){var f=t.get(s);if(f===void 0)s in l&&(t.set(s,o(()=>uu(_a))),m_(i));else{if(r&&typeof s=="string"){var c=t.get("length"),v=Number(s);Number.isInteger(v)&&v<c.v&&eo(c,v)}eo(f,_a),m_(i)}return!0},get(l,s,f){var k;if(s===Ml)return n;var c=t.get(s),v=s in l;if(c===void 0&&(!v||(k=Su(l,s))!=null&&k.writable)&&(c=o(()=>uu(Tc(v?l[s]:_a))),t.set(s,c)),c!==void 0){var y=Br(c);return y===_a?void 0:y}return Reflect.get(l,s,f)},getOwnPropertyDescriptor(l,s){var f=Reflect.getOwnPropertyDescriptor(l,s);if(f&&"value"in f){var c=t.get(s);c&&(f.value=Br(c))}else if(f===void 0){var v=t.get(s),y=v==null?void 0:v.v;if(v!==void 0&&y!==_a)return{enumerable:!0,configurable:!0,value:y,writable:!0}}return f},has(l,s){var y;if(s===Ml)return!0;var f=t.get(s),c=f!==void 0&&f.v!==_a||Reflect.has(l,s);if(f!==void 0||jn!==null&&(!c||(y=Su(l,s))!=null&&y.writable)){f===void 0&&(f=o(()=>uu(c?Tc(l[s]):_a)),t.set(s,f));var v=Br(f);if(v===_a)return!1}return c},set(l,s,f,c){var w;var v=t.get(s),y=s in l;if(r&&s==="length")for(var k=f;k<v.v;k+=1){var x=t.get(k+"");x!==void 0?eo(x,_a):k in l&&(x=o(()=>uu(_a)),t.set(k+"",x))}v===void 0?(!y||(w=Su(l,s))!=null&&w.writable)&&(v=o(()=>uu(void 0)),eo(v,o(()=>Tc(f))),t.set(s,v)):(y=v.v!==_a,eo(v,o(()=>Tc(f))));var R=Reflect.getOwnPropertyDescriptor(l,s);if(R!=null&&R.set&&R.set.call(c,f),!y){if(r&&typeof s=="string"){var d=t.get("length"),h=Number(s);Number.isInteger(h)&&h>=d.v&&eo(d,h+1)}m_(i)}return!0},ownKeys(l){Br(i);var s=Reflect.ownKeys(l).filter(v=>{var y=t.get(v);return y===void 0||y.v!==_a});for(var[f,c]of t)c.v!==_a&&!(f in l)&&s.push(f);return s},setPrototypeOf(){Dle()}})}function m_(n,e=1){eo(n,n.v+e)}function HA(n){try{if(n!==null&&typeof n=="object"&&Ml in n)return n[Ml]}catch{}return n}function Ile(n,e){return Object.is(HA(n),HA(e))}function wd(n){var e=Ao|$s,t=tr!==null&&tr.f&Ao?tr:null;return jn===null||t!==null&&t.f&io?e|=io:jn.f|=IO,{ctx:sr,deps:null,effects:null,equals:PO,f:e,fn:n,reactions:null,rv:0,v:null,wv:0,parent:t??jn}}function wot(n){const e=wd(n);return r3(e),e}function HO(n){const e=wd(n);return e.equals=tE,e}function qO(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)Rl(e[t])}}function Ble(n){for(var e=n.parent;e!==null;){if(!(e.f&Ao))return e;e=e.parent}return null}function UO(n){var e,t=jn;Mo(Ble(n));try{qO(n),e=s3(n)}finally{Mo(t)}return e}function VO(n){var e=UO(n);if(n.equals(e)||(n.v=e,n.wv=a3()),!Fd){var t=(Cu||n.f&io)&&n.deps!==null?zu:ia;No(n,t)}}const Bp=new Map;function Pp(n,e){var t={f:0,v:n,reactions:null,equals:PO,rv:0,wv:0};return t}function uu(n,e){const t=Pp(n);return r3(t),t}function v1(n,e=!1){var r;const t=Pp(n);return e||(t.equals=tE),Bd&&sr!==null&&sr.l!==null&&((r=sr.l).s??(r.s=[])).push(t),t}function Cot(n,e){return eo(n,La(()=>Br(n))),e}function eo(n,e,t=!1){tr!==null&&!zs&&nv()&&tr.f&(Ao|d1)&&!(na!=null&&na.includes(n))&&Lle();let r=t?Tc(e):e;return Fp(n,r)}function Fp(n,e){if(!n.equals(e)){var t=n.v;Fd?Bp.set(n,e):Bp.set(n,t),n.v=e,n.f&Ao&&(n.f&$s&&UO(n),No(n,n.f&io?zu:ia)),n.wv=a3(),$O(n,$s),nv()&&jn!==null&&jn.f&ia&&!(jn.f&(Fl|Jc))&&(Co===null?jle([n]):Co.push(n))}return e}function $O(n,e){var t=n.reactions;if(t!==null)for(var r=nv(),i=t.length,a=0;a<i;a++){var o=t[a],l=o.f;l&$s||!r&&o===jn||(No(o,e),l&(ia|io)&&(l&Ao?$O(o,zu):w1(o)))}}function g1(n){console.warn("https://svelte.dev/e/hydration_mismatch")}function Ple(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let On=!1;function us(n){On=n}let ir;function So(n){if(n===null)throw g1(),hd;return ir=n}function rv(){return So(zl(ir))}function xot(n){if(On){if(zl(ir)!==null)throw g1(),hd;ir=n}}function kot(n=1){if(On){for(var e=n,t=ir;e--;)t=zl(t);ir=t}}function IT(){for(var n=0,e=ir;;){if(e.nodeType===8){var t=e.data;if(t===XS){if(n===0)return e;n-=1}else(t===KS||t===JS)&&(n+=1)}var r=zl(e);e.remove(),e=r}}function WO(n){if(!n||n.nodeType!==8)throw g1(),hd;return n.data}var qA,GO,jO,YO;function BT(){if(qA===void 0){qA=window,GO=/Firefox/.test(navigator.userAgent);var n=Element.prototype,e=Node.prototype,t=Text.prototype;jO=Su(e,"firstChild").get,YO=Su(e,"nextSibling").get,FA(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),FA(t)&&(t.__t=void 0)}}function Iu(n=""){return document.createTextNode(n)}function Bu(n){return jO.call(n)}function zl(n){return YO.call(n)}function _ot(n,e){if(!On)return Bu(n);var t=Bu(ir);if(t===null)t=ir.appendChild(Iu());else if(e&&t.nodeType!==3){var r=Iu();return t==null||t.before(r),So(r),r}return So(t),t}function Tot(n,e){if(!On){var t=Bu(n);return t instanceof Comment&&t.data===""?zl(t):t}return ir}function Sot(n,e=1,t=!1){let r=On?ir:n;for(var i;e--;)i=r,r=zl(r);if(!On)return r;var a=r==null?void 0:r.nodeType;if(t&&a!==3){var o=Iu();return r===null?i==null||i.after(o):r.before(o),So(o),o}return So(r),r}function nE(n){n.textContent=""}function ZO(n){jn===null&&tr===null&&Sle(),tr!==null&&tr.f&io&&jn===null&&Tle(),Fd&&_le()}function Fle(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Xc(n,e,t,r=!0){var i=jn,a={ctx:sr,deps:null,nodes_start:null,nodes_end:null,f:n|$s,first:null,fn:e,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(t)try{b1(a),a.f|=OO}catch(s){throw Rl(a),s}else e!==null&&w1(a);var o=t&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(IO|y0))===0;if(!o&&r&&(i!==null&&Fle(a,i),tr!==null&&tr.f&Ao)){var l=tr;(l.effects??(l.effects=[])).push(a)}return a}function m1(n){const e=Xc(f1,null,!1);return No(e,ia),e.teardown=n,e}function PT(n){ZO();var e=jn!==null&&(jn.f&Fl)!==0&&sr!==null&&!sr.m;if(e){var t=sr;(t.e??(t.e=[])).push({fn:n,effect:jn,reaction:tr})}else{var r=Pd(n);return r}}function zle(n){return ZO(),Qc(n)}function Hle(n){const e=Xc(Jc,n,!0);return()=>{Rl(e)}}function qle(n){const e=Xc(Jc,n,!0);return(t={})=>new Promise(r=>{t.outro?w0(e,()=>{Rl(e),r(void 0)}):(Rl(e),r(void 0))})}function Pd(n){return Xc(LO,n,!1)}function Eot(n,e){var t=sr,r={effect:null,ran:!1};t.l.r1.push(r),r.effect=Qc(()=>{n(),!r.ran&&(r.ran=!0,eo(t.l.r2,!0),La(e))})}function Aot(){var n=sr;Qc(()=>{if(Br(n.l.r2)){for(var e of n.l.r1){var t=e.effect;t.f&ia&&No(t,zu),zd(t)&&b1(t),e.ran=!1}n.l.r2.v=!1}})}function Qc(n){return Xc(f1,n,!0)}function Mot(n,e=[],t=wd){const r=e.map(t);return rE(()=>n(...r.map(Br)))}function rE(n,e=0){return Xc(f1|d1|e,n,!0)}function zp(n,e=!0){return Xc(f1|Fl,n,!0,e)}function KO(n){var e=n.teardown;if(e!==null){const t=Fd,r=tr;UA(!0),Da(null);try{e.call(null)}finally{UA(t),Da(r)}}}function JO(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){var r=t.next;t.f&Jc?t.parent=null:Rl(t,e),t=r}}function Ule(n){for(var e=n.first;e!==null;){var t=e.next;e.f&Fl||Rl(e),e=t}}function Rl(n,e=!0){var t=!1;(e||n.f&xle)&&n.nodes_start!==null&&(Vle(n.nodes_start,n.nodes_end),t=!0),JO(n,e&&!t),T0(n,0),No(n,h1);var r=n.transitions;if(r!==null)for(const a of r)a.stop();KO(n);var i=n.parent;i!==null&&i.first!==null&&XO(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=null}function Vle(n,e){for(;n!==null;){var t=n===e?null:zl(n);n.remove(),n=t}}function XO(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function w0(n,e){var t=[];iE(n,t,!0),QO(t,()=>{Rl(n),e&&e()})}function QO(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var i of n)i.out(r)}else e()}function iE(n,e,t){if(!(n.f&Al)){if(n.f^=Al,n.transitions!==null)for(const o of n.transitions)(o.is_global||t)&&e.push(o);for(var r=n.first;r!==null;){var i=r.next,a=(r.f&p1)!==0||(r.f&Fl)!==0;iE(r,e,a?t:!1),r=i}}}function C0(n){e3(n,!0)}function e3(n,e){if(n.f&Al){n.f^=Al,n.f&ia||(n.f^=ia),zd(n)&&(No(n,$s),w1(n));for(var t=n.first;t!==null;){var r=t.next,i=(t.f&p1)!==0||(t.f&Fl)!==0;e3(t,i?e:!1),t=r}if(n.transitions!==null)for(const a of n.transitions)(a.is_global||e)&&a.in()}}const $le=typeof requestIdleCallback>"u"?n=>setTimeout(n,1):requestIdleCallback;let Hp=[],qp=[];function t3(){var n=Hp;Hp=[],m0(n)}function n3(){var n=qp;qp=[],m0(n)}function iv(n){Hp.length===0&&queueMicrotask(t3),Hp.push(n)}function Wle(n){qp.length===0&&$le(n3),qp.push(n)}function Gle(){Hp.length>0&&t3(),qp.length>0&&n3()}let Pm=!1,x0=!1,k0=null,Lc=!1,Fd=!1;function UA(n){Fd=n}let xp=[];let tr=null,zs=!1;function Da(n){tr=n}let jn=null;function Mo(n){jn=n}let na=null;function r3(n){tr!==null&&tr.f&RT&&(na===null?na=[n]:na.push(n))}let ta=null,Xa=0,Co=null;function jle(n){Co=n}let i3=1,_0=0,Cu=!1,mu=null;function a3(){return++i3}function zd(n){var v;var e=n.f;if(e&$s)return!0;if(e&zu){var t=n.deps,r=(e&io)!==0;if(t!==null){var i,a,o=(e&b0)!==0,l=r&&jn!==null&&!Cu,s=t.length;if(o||l){var f=n,c=f.parent;for(i=0;i<s;i++)a=t[i],(o||!((v=a==null?void 0:a.reactions)!=null&&v.includes(f)))&&(a.reactions??(a.reactions=[])).push(f);o&&(f.f^=b0),l&&c!==null&&!(c.f&io)&&(f.f^=io)}for(i=0;i<s;i++)if(a=t[i],zd(a)&&VO(a),a.wv>n.wv)return!0}(!r||jn!==null&&!Cu)&&No(n,ia)}return!1}function Yle(n,e){for(var t=e;t!==null;){if(t.f&y0)try{t.fn(n);return}catch{t.f^=y0}t=t.parent}throw Pm=!1,n}function VA(n){return(n.f&h1)===0&&(n.parent===null||(n.parent.f&y0)===0)}function y1(n,e,t,r){if(Pm){if(t===null&&(Pm=!1),VA(e))throw n;return}if(t!==null&&(Pm=!0),Yle(n,e),VA(e))throw n}function o3(n,e,t=!0){var r=n.reactions;if(r!==null)for(var i=0;i<r.length;i++){var a=r[i];na!=null&&na.includes(n)||(a.f&Ao?o3(a,e,!1):e===a&&(t?No(a,$s):a.f&ia&&No(a,zu),w1(a)))}}function s3(n){var k;var e=ta,t=Xa,r=Co,i=tr,a=Cu,o=na,l=sr,s=zs,f=n.f;ta=null,Xa=0,Co=null,Cu=(f&io)!==0&&(zs||!Lc||tr===null),tr=f&(Fl|Jc)?null:n,na=null,zA(n.ctx),zs=!1,_0++,n.f|=RT;try{var c=(0,n.fn)(),v=n.deps;if(ta!==null){var y;if(T0(n,Xa),v!==null&&Xa>0)for(v.length=Xa+ta.length,y=0;y<ta.length;y++)v[Xa+y]=ta[y];else n.deps=v=ta;if(!Cu)for(y=Xa;y<v.length;y++)((k=v[y]).reactions??(k.reactions=[])).push(n)}else v!==null&&Xa<v.length&&(T0(n,Xa),v.length=Xa);if(nv()&&Co!==null&&!zs&&v!==null&&!(n.f&(Ao|zu|$s)))for(y=0;y<Co.length;y++)o3(Co[y],n);return i!==null&&i!==n&&(_0++,Co!==null&&(r===null?r=Co:r.push(...Co))),c}finally{ta=e,Xa=t,Co=r,tr=i,Cu=a,na=o,zA(l),zs=s,n.f^=RT}}function Zle(n,e){let t=e.reactions;if(t!==null){var r=mle.call(t,n);if(r!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[r]=t[i],t.pop())}}t===null&&e.f&Ao&&(ta===null||!ta.includes(e))&&(No(e,zu),e.f&(io|b0)||(e.f^=b0),qO(e),T0(e,0))}function T0(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)Zle(n,t[r])}function b1(n){var e=n.f;if(!(e&h1)){No(n,ia);var t=jn,r=sr,i=Lc;jn=n,Lc=!0;try{e&d1?Ule(n):JO(n),KO(n);var a=s3(n);n.teardown=typeof a=="function"?a:null,n.wv=i3;var o=n.deps,l;PA&&nle&&n.f&$s}catch(s){y1(s,n,t,r||n.ctx)}finally{Lc=i,jn=t}}}function Kle(){try{Ele()}catch(n){if(k0!==null)y1(n,k0,null);else throw n}}function l3(){var n=Lc;try{var e=0;for(Lc=!0;xp.length>0;){e++>1e3&&Kle();var t=xp,r=t.length;xp=[];for(var i=0;i<r;i++){var a=Xle(t[i]);Jle(a)}Bp.clear()}}finally{x0=!1,Lc=n,k0=null}}function Jle(n){var e=n.length;if(e!==0)for(var t=0;t<e;t++){var r=n[t];if(!(r.f&(h1|Al)))try{zd(r)&&(b1(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?XO(r):r.fn=null))}catch(i){y1(i,r,null,r.ctx)}}}function w1(n){x0||(x0=!0,queueMicrotask(l3));for(var e=k0=n;e.parent!==null;){e=e.parent;var t=e.f;if(t&(Jc|Fl)){if(!(t&ia))return;e.f^=ia}}xp.push(e)}function Xle(n){for(var e=[],t=n;t!==null;){var r=t.f,i=(r&(Fl|Jc))!==0,a=i&&(r&ia)!==0;if(!a&&!(r&Al)){if(r&LO)e.push(t);else if(i)t.f^=ia;else try{zd(t)&&b1(t)}catch(s){y1(s,t,null,t.ctx)}var o=t.first;if(o!==null){t=o;continue}}var l=t.parent;for(t=t.next;t===null&&l!==null;)t=l.next,l=l.parent}return e}function Qle(n){for(var e;;){if(Gle(),xp.length===0)return e;x0=!0,l3()}}function Br(n){var e=n.f,t=(e&Ao)!==0;if(mu!==null&&mu.add(n),tr!==null&&!zs){if(!(na!=null&&na.includes(n))){var r=tr.deps;n.rv<_0&&(n.rv=_0,ta===null&&r!==null&&r[Xa]===n?Xa++:ta===null?ta=[n]:(!Cu||!ta.includes(n))&&ta.push(n))}}else if(t&&n.deps===null&&n.effects===null){var i=n,a=i.parent;a!==null&&!(a.f&io)&&(i.f^=io)}return t&&(i=n,zd(i)&&VO(i)),Fd&&Bp.has(n)?Bp.get(n):n.v}function eue(n){var e=mu;mu=new Set;var t=mu,r;try{if(La(n),e!==null)for(r of mu)e.add(r)}finally{mu=e}return t}function Not(n){var e=eue(()=>La(n));for(var t of e)if(t.f&RO)for(const r of t.deps||[])r.f&Ao||Fp(r,r.v);else Fp(t,t.v)}function La(n){var e=zs;try{return zs=!0,n()}finally{zs=e}}const tue=-7169;function No(n,e){n.f=n.f&tue|e}function nue(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(Ml in n)FT(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&Ml in t&&FT(t)}}}function FT(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{FT(n[r],e)}catch{}const t=eE(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=DO(t);for(let i in r){const a=r[i].get;if(a)try{a.call(n)}catch{}}}}}function Dot(n){On&&Bu(n)!==null&&nE(n)}let $A=!1;function u3(){$A||($A=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function aE(n){var e=tr,t=jn;Da(null),Mo(null);try{return n()}finally{Da(e),Mo(t)}}function oE(n,e,t,r=t){n.addEventListener(e,()=>aE(t));const i=n.__on_r;i?n.__on_r=()=>{i(),r(!0)}:n.__on_r=()=>r(!0),u3()}const rue=new Set,WA=new Set;function iue(n,e,t,r={}){function i(a){if(r.capture||fp.call(e,a),!a.cancelBubble)return aE(()=>t==null?void 0:t.call(this,a))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?iv(()=>{e.addEventListener(n,i,r)}):e.addEventListener(n,i,r),i}function Lot(n,e,t,r,i){var a={capture:r,passive:i},o=iue(n,e,t,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&m1(()=>{e.removeEventListener(n,o,a)})}function fp(n){var w;var e=this,t=e.ownerDocument,r=n.type,i=((w=n.composedPath)==null?void 0:w.call(n))||[],a=i[0]||n.target,o=0,l=n.__root;if(l){var s=i.indexOf(l);if(s!==-1&&(e===document||e===window)){n.__root=e;return}var f=i.indexOf(e);if(f===-1)return;s<=f&&(o=s)}if(a=i[o]||n.target,a!==e){Ip(n,"currentTarget",{configurable:!0,get(){return a||t}});var c=tr,v=jn;Da(null),Mo(null);try{for(var y,k=[];a!==null;){var x=a.assignedSlot||a.parentNode||a.host||null;try{var R=a["__"+r];if(R!=null&&(!a.disabled||n.target===a))if(tv(R)){var[d,...h]=R;d.apply(a,[n,...h])}else R.call(a,n)}catch(A){y?k.push(A):y=A}if(n.cancelBubble||x===e||x===null)break;a=x}if(y){for(let A of k)queueMicrotask(()=>{throw A});throw y}}finally{n.__root=e,delete n.currentTarget,Da(c),Mo(v)}}}function aue(n){var e=document.createElement("template");return e.innerHTML=n.replaceAll("<!>","<!---->"),e.content}function Eu(n,e){var t=jn;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function Oot(n,e){var t=(e&ple)!==0,r=(e&vle)!==0,i,a=!n.startsWith("<!>");return()=>{if(On)return Eu(ir,null),ir;i===void 0&&(i=aue(a?n:"<!>"+n),t||(i=Bu(i)));var o=r||GO?document.importNode(i,!0):i.cloneNode(!0);if(t){var l=Bu(o),s=o.lastChild;Eu(l,s)}else Eu(o,o);return o}}function Rot(n=""){if(!On){var e=Iu(n+"");return Eu(e,e),e}var t=ir;return t.nodeType!==3&&(t.before(t=Iu()),So(t)),Eu(t,t),t}function Iot(){if(On)return Eu(ir,null),ir;var n=document.createDocumentFragment(),e=document.createComment(""),t=Iu();return n.append(e,t),Eu(e,t),n}function oue(n,e){if(On){jn.nodes_end=ir,rv();return}n!==null&&n.before(e)}const sue=["touchstart","touchmove"];function lue(n){return sue.includes(n)}let zT=!0;function Bot(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=t,n.nodeValue=t+"")}function c3(n,e){return f3(n,e)}function uue(n,e){BT(),e.intro=e.intro??!1;const t=e.target,r=On,i=ir;try{for(var a=Bu(t);a&&(a.nodeType!==8||a.data!==KS);)a=zl(a);if(!a)throw hd;us(!0),So(a),rv();const o=f3(n,{...e,anchor:a});if(ir===null||ir.nodeType!==8||ir.data!==XS)throw g1(),hd;return us(!1),o}catch(o){if(o===hd)return e.recover===!1&&Ale(),BT(),nE(t),us(!1),c3(n,e);throw o}finally{us(r),So(i)}}const Zf=new Map;function f3(n,{target:e,anchor:t,props:r={},events:i,context:a,intro:o=!0}){BT();var l=new Set,s=v=>{for(var y=0;y<v.length;y++){var k=v[y];if(!l.has(k)){l.add(k);var x=lue(k);e.addEventListener(k,fp,{passive:x});var R=Zf.get(k);R===void 0?(document.addEventListener(k,fp,{passive:x}),Zf.set(k,1)):Zf.set(k,R+1)}}};s(QS(rue)),WA.add(s);var f=void 0,c=qle(()=>{var v=t??e.appendChild(Iu());return zp(()=>{if(a){Ole({});var y=sr;y.c=a}i&&(r.$$events=i),On&&Eu(v,null),zT=o,f=n(v,r)||{},zT=!0,On&&(jn.nodes_end=ir),a&&Rle()}),()=>{var x;for(var y of l){e.removeEventListener(y,fp);var k=Zf.get(y);--k===0?(document.removeEventListener(y,fp),Zf.delete(y)):Zf.set(y,k)}WA.delete(s),v!==t&&((x=v.parentNode)==null||x.removeChild(v))}});return HT.set(f,c),f}let HT=new WeakMap;function cue(n,e){const t=HT.get(n);return t?(HT.delete(n),t(e)):Promise.resolve()}function fue(n){sr===null&&zO(),Bd&&sr.l!==null?due(sr).m.push(n):PT(()=>{const e=La(n);if(typeof e=="function")return e})}function Pot(n){sr===null&&zO(),fue(()=>()=>La(n))}function due(n){var e=n.l;return e.u??(e.u={a:[],b:[],m:[]})}function Fot(n,e,[t,r]=[0,0]){On&&t===0&&rv();var i=n,a=null,o=null,l=_a,s=t>0?p1:0,f=!1;const c=(y,k=!0)=>{f=!0,v(k,y)},v=(y,k)=>{if(l===(l=y))return;let x=!1;if(On&&r!==-1){if(t===0){const d=WO(i);d===KS?r=0:d===JS?r=1/0:(r=parseInt(d.substring(1)),r!==r&&(r=l?1/0:-1))}const R=r>t;!!l===R&&(i=IT(),So(i),us(!1),x=!0,r=-1)}l?(a?C0(a):k&&(a=zp(()=>k(i))),o&&w0(o,()=>{o=null})):(o?C0(o):k&&(o=zp(()=>k(i,[t+1,r]))),a&&w0(a,()=>{a=null})),x&&us(!0)};rE(()=>{f=!1,e(c),f||v(null,null)},s),On&&(i=ir)}function zot(n,e){return e}function hue(n,e,t,r){for(var i=[],a=e.length,o=0;o<a;o++)iE(e[o].e,i,!0);var l=a>0&&i.length===0&&t!==null;if(l){var s=t.parentNode;nE(s),s.append(t),r.clear(),hu(n,e[0].prev,e[a-1].next)}QO(i,()=>{for(var f=0;f<a;f++){var c=e[f];l||(r.delete(c.k),hu(n,c.prev,c.next)),Rl(c.e,!l)}})}function Hot(n,e,t,r,i,a=null){var o=n,l={flags:e,items:new Map,first:null},s=(e&NO)!==0;if(s){var f=n;o=On?So(Bu(f)):f.appendChild(Iu())}On&&rv();var c=null,v=!1,y=HO(()=>{var k=t();return tv(k)?k:k==null?[]:QS(k)});rE(()=>{var k=Br(y),x=k.length;if(v&&x===0)return;v=x===0;let R=!1;if(On){var d=WO(o)===JS;d!==(x===0)&&(o=IT(),So(o),us(!1),R=!0)}if(On){for(var h=null,w,A=0;A<x;A++){if(ir.nodeType===8&&ir.data===XS){o=ir,R=!0,us(!1);break}var D=k[A],I=r(D,A);w=d3(ir,l,h,null,D,I,A,i,e,t),l.items.set(I,w),h=w}x>0&&So(IT())}On||pue(k,l,o,i,e,r,t),a!==null&&(x===0?c?C0(c):c=zp(()=>a(o)):c!==null&&w0(c,()=>{c=null})),R&&us(!0),Br(y)}),On&&(o=ir)}function pue(n,e,t,r,i,a,o){var be,Ve,Ue,Ge;var l=(i&ile)!==0,s=(i&(YS|ZS))!==0,f=n.length,c=e.items,v=e.first,y=v,k,x=null,R,d=[],h=[],w,A,D,I;if(l)for(I=0;I<f;I+=1)w=n[I],A=a(w,I),D=c.get(A),D!==void 0&&((be=D.a)==null||be.measure(),(R??(R=new Set)).add(D));for(I=0;I<f;I+=1){if(w=n[I],A=a(w,I),D=c.get(A),D===void 0){var O=y?y.e.nodes_start:t;x=d3(O,e,x,x===null?e.first:x.next,w,A,I,r,i,o),c.set(A,x),d=[],h=[],y=x.next;continue}if(s&&vue(D,w,I,i),D.e.f&Al&&(C0(D.e),l&&((Ve=D.a)==null||Ve.unfix(),(R??(R=new Set)).delete(D))),D!==y){if(k!==void 0&&k.has(D)){if(d.length<h.length){var F=h[0],$;x=F.prev;var z=d[0],ee=d[d.length-1];for($=0;$<d.length;$+=1)GA(d[$],F,t);for($=0;$<h.length;$+=1)k.delete(h[$]);hu(e,z.prev,ee.next),hu(e,x,z),hu(e,ee,F),y=F,x=ee,I-=1,d=[],h=[]}else k.delete(D),GA(D,y,t),hu(e,D.prev,D.next),hu(e,D,x===null?e.first:x.next),hu(e,x,D),x=D;continue}for(d=[],h=[];y!==null&&y.k!==A;)y.e.f&Al||(k??(k=new Set)).add(y),h.push(y),y=y.next;if(y===null)continue;D=y}d.push(D),x=D,y=D.next}if(y!==null||k!==void 0){for(var me=k===void 0?[]:QS(k);y!==null;)y.e.f&Al||me.push(y),y=y.next;var ie=me.length;if(ie>0){var pe=i&NO&&f===0?t:null;if(l){for(I=0;I<ie;I+=1)(Ue=me[I].a)==null||Ue.measure();for(I=0;I<ie;I+=1)(Ge=me[I].a)==null||Ge.fix()}hue(e,me,pe,c)}}l&&iv(()=>{var Be;if(R!==void 0)for(D of R)(Be=D.a)==null||Be.apply()}),jn.first=e.first&&e.first.e,jn.last=x&&x.e}function vue(n,e,t,r){r&YS&&Fp(n.v,e),r&ZS?Fp(n.i,t):n.i=t}function d3(n,e,t,r,i,a,o,l,s,f){var c=(s&YS)!==0,v=(s&ale)===0,y=c?v?v1(i):Pp(i):i,k=s&ZS?Pp(o):o,x={i:k,v:y,k:a,a:null,e:null,prev:t,next:r};try{return x.e=zp(()=>l(n,y,k,f),On),x.e.prev=t&&t.e,x.e.next=r&&r.e,t===null?e.first=x:(t.next=x,t.e.next=x.e),r!==null&&(r.prev=x,r.e.prev=x.e),x}finally{}}function GA(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,a=n.e.nodes_start;a!==r;){var o=zl(a);i.before(a),a=o}}function hu(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function qot(n,e,t,r,i){var l;On&&rv();var a=(l=e.$$slots)==null?void 0:l[t],o=!1;a===!0&&(a=e.children,o=!0),a===void 0||a(n,o?()=>r:r)}function Uot(n){const e={};n.children&&(e.default=!0);for(const t in n.$$slots)e[t]=!0;return e}function Vot(n,e){iv(()=>{var t=n.getRootNode(),r=t.host?t:t.head??t.ownerDocument.head;if(!r.querySelector("#"+e.hash)){const i=document.createElement("style");i.id=e.hash,i.textContent=e.code,r.appendChild(i)}})}const jA=[...` 	
\r\fÂ \v\uFEFF`];function gue(n,e,t){var r=n==null?"":""+n;if(e&&(r=r?r+" "+e:e),t){for(var i in t)if(t[i])r=r?r+" "+i:i;else if(r.length)for(var a=i.length,o=0;(o=r.indexOf(i,o))>=0;){var l=o+a;(o===0||jA.includes(r[o-1]))&&(l===r.length||jA.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function YA(n,e=!1){var t=e?" !important;":";",r="";for(var i in n){var a=n[i];a!=null&&a!==""&&(r+=" "+i+": "+a+t)}return r}function mue(n,e){if(e){var t="",r,i;return Array.isArray(e)?(r=e[0],i=e[1]):r=e,r&&(t+=YA(r)),i&&(t+=YA(i,!0)),t=t.trim(),t===""?null:t}return String(n)}function $ot(n,e,t,r,i,a){var o=n.__className;if(On||o!==t||o===void 0){var l=gue(t,r,a);(!On||l!==n.getAttribute("class"))&&(l==null?n.removeAttribute("class"):n.className=l),n.__className=t}else if(a&&i!==a)for(var s in a){var f=!!a[s];(i==null||f!==!!i[s])&&n.classList.toggle(s,f)}return a}function y_(n,e={},t,r){for(var i in t){var a=t[i];e[i]!==a&&(t[i]==null?n.style.removeProperty(i):n.style.setProperty(i,a,r))}}function Wot(n,e,t,r){var i=n.__style;if(On||i!==e){var a=mue(e,r);(!On||a!==n.getAttribute("style"))&&(a==null?n.removeAttribute("style"):n.style.cssText=a),n.__style=e}else r&&(Array.isArray(r)?(y_(n,t==null?void 0:t[0],r[0]),y_(n,t==null?void 0:t[1],r[1],"important")):y_(n,t,r));return r}function h3(n,e,t){if(n.multiple){if(e==null)return;if(!tv(e))return Ple();for(var r of n.options)r.selected=e.includes(kp(r));return}for(r of n.options){var i=kp(r);if(Ile(i,e)){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function yue(n,e){Pd(()=>{var t=new MutationObserver(()=>{var r=n.__value;h3(n,r)});return t.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function Got(n,e,t=e){var r=!0;oE(n,"change",i=>{var a=i?"[selected]":":checked",o;if(n.multiple)o=[].map.call(n.querySelectorAll(a),kp);else{var l=n.querySelector(a)??n.querySelector("option:not([disabled])");o=l&&kp(l)}t(o)}),Pd(()=>{var i=e();if(h3(n,i,r),r&&i===void 0){var a=n.querySelector(":checked");a!==null&&(i=kp(a),t(i))}n.__value=i,r=!1}),yue(n)}function kp(n){return"__value"in n?n.__value:n.value}const bue=Symbol("is custom element"),wue=Symbol("is html");function jot(n){if(On){var e=!1,t=()=>{if(!e){if(e=!0,n.hasAttribute("value")){var r=n.value;qT(n,"value",null),n.value=r}if(n.hasAttribute("checked")){var i=n.checked;qT(n,"checked",null),n.checked=i}}};n.__on_r=t,Wle(t),u3()}}function Yot(n,e){var t=p3(n);t.checked!==(t.checked=e??void 0)&&(n.checked=e)}function qT(n,e,t,r){var i=p3(n);On&&(i[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||i[e]!==(i[e]=t)&&(e==="loading"&&(n[kle]=t),t==null?n.removeAttribute(e):typeof t!="string"&&v3(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function Zot(n,e,t){var r=tr,i=jn;let a=On;On&&us(!1),Da(null),Mo(null);try{e!=="style"&&(UT.has(n.nodeName)||!customElements||customElements.get(n.tagName.toLowerCase())?v3(n).includes(e):t&&typeof t=="object")?n[e]=t:qT(n,e,t==null?t:String(t))}finally{Da(r),Mo(i),a&&us(!0)}}function p3(n){return n.__attributes??(n.__attributes={[bue]:n.nodeName.includes("-"),[wue]:n.namespaceURI===gle})}var UT=new Map;function v3(n){var e=UT.get(n.nodeName);if(e)return e;UT.set(n.nodeName,e=[]);for(var t,r=n,i=Element.prototype;i!==r;){t=DO(r);for(var a in t)t[a].set&&e.push(a);r=eE(r)}return e}const Cue=()=>performance.now(),Tl={tick:n=>requestAnimationFrame(n),now:()=>Cue(),tasks:new Set};function g3(){const n=Tl.now();Tl.tasks.forEach(e=>{e.c(n)||(Tl.tasks.delete(e),e.f())}),Tl.tasks.size!==0&&Tl.tick(g3)}function xue(n){let e;return Tl.tasks.size===0&&Tl.tick(g3),{promise:new Promise(t=>{Tl.tasks.add(e={c:n,f:t})}),abort(){Tl.tasks.delete(e)}}}function dm(n,e){aE(()=>{n.dispatchEvent(new CustomEvent(e))})}function kue(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function ZA(n){const e={},t=n.split(";");for(const r of t){const[i,a]=r.split(":");if(!i||a===void 0)break;const o=kue(i.trim());e[o]=a.trim()}return e}const _ue=n=>n;function Kot(n,e,t,r){var i=(n&fle)!==0,a=(n&dle)!==0,o=i&&a,l=(n&hle)!==0,s=o?"both":i?"in":"out",f,c=e.inert,v=e.style.overflow,y,k;function x(){var A=tr,D=jn;Da(null),Mo(null);try{return f??(f=t()(e,(r==null?void 0:r())??{},{direction:s}))}finally{Da(A),Mo(D)}}var R={is_global:l,in(){var A;if(e.inert=c,!i){k==null||k.abort(),(A=k==null?void 0:k.reset)==null||A.call(k);return}a||y==null||y.abort(),dm(e,"introstart"),y=VT(e,x(),k,1,()=>{dm(e,"introend"),y==null||y.abort(),y=f=void 0,e.style.overflow=v})},out(A){if(!a){A==null||A(),f=void 0;return}e.inert=!0,dm(e,"outrostart"),k=VT(e,x(),y,0,()=>{dm(e,"outroend"),A==null||A()})},stop:()=>{y==null||y.abort(),k==null||k.abort()}},d=jn;if((d.transitions??(d.transitions=[])).push(R),i&&zT){var h=l;if(!h){for(var w=d.parent;w&&w.f&p1;)for(;(w=w.parent)&&!(w.f&d1););h=!w||(w.f&OO)!==0}h&&Pd(()=>{La(()=>R.in())})}}function VT(n,e,t,r,i){var a=r===1;if(wle(e)){var o,l=!1;return iv(()=>{if(!l){var d=e({direction:a?"in":"out"});o=VT(n,d,t,r,i)}}),{abort:()=>{l=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:ss,deactivate:ss,reset:ss,t:()=>r};const{delay:s=0,css:f,tick:c,easing:v=_ue}=e;var y=[];if(a&&t===void 0&&(c&&c(0,1),f)){var k=ZA(f(0,1));y.push(k,k)}var x=()=>1-r,R=n.animate(y,{duration:s});return R.onfinish=()=>{var d=(t==null?void 0:t.t())??1-r;t==null||t.abort();var h=r-d,w=e.duration*Math.abs(h),A=[];if(w>0){var D=!1;if(f)for(var I=Math.ceil(w/16.666666666666668),O=0;O<=I;O+=1){var F=d+h*v(O/I),$=ZA(f(F,1-F));A.push($),D||(D=$.overflow==="hidden")}D&&(n.style.overflow="hidden"),x=()=>{var z=R.currentTime;return d+h*v(z/w)},c&&xue(()=>{if(R.playState!=="running")return!1;var z=x();return c(z,1-z),!0})}R=n.animate(A,{duration:w,fill:"forwards"}),R.onfinish=()=>{x=()=>r,c==null||c(r,1-r),i()}},{abort:()=>{R&&(R.cancel(),R.effect=null,R.onfinish=ss)},deactivate:()=>{i=ss},reset:()=>{r===0&&(c==null||c(1,0))},t:()=>x()}}function Jot(n,e,t=e){var r=nv();oE(n,"input",i=>{var a=i?n.defaultValue:n.value;if(a=b_(n)?w_(a):a,t(a),r&&a!==(a=e())){var o=n.selectionStart,l=n.selectionEnd;n.value=a??"",l!==null&&(n.selectionStart=o,n.selectionEnd=Math.min(l,n.value.length))}}),(On&&n.defaultValue!==n.value||La(e)==null&&n.value)&&t(b_(n)?w_(n.value):n.value),Qc(()=>{var i=e();b_(n)&&i===w_(n.value)||n.type==="date"&&!i&&!n.value||i!==n.value&&(n.value=i??"")})}function Xot(n,e,t=e){oE(n,"change",r=>{var i=r?n.defaultChecked:n.checked;t(i)}),(On&&n.defaultChecked!==n.checked||La(e)==null)&&t(n.checked),Qc(()=>{var r=e();n.checked=!!r})}function b_(n){var e=n.type;return e==="number"||e==="range"}function w_(n){return n===""?null:+n}function Qot(n,e,t){var r=Su(n,e);r&&r.set&&(n[e]=t,m1(()=>{n[e]=null}))}function KA(n,e){return n===e||(n==null?void 0:n[Ml])===e}function est(n={},e,t,r){return Pd(()=>{var i,a;return Qc(()=>{i=a,a=[],La(()=>{n!==t(...a)&&(e(n,...a),i&&KA(t(...i),n)&&e(null,...i))})}),()=>{iv(()=>{a&&KA(t(...a),n)&&e(null,...a)})}}),n}function tst(n=!1){const e=sr,t=e.l.u;if(!t)return;let r=()=>nue(e.s);if(n){let i=0,a={};const o=wd(()=>{let l=!1;const s=e.s;for(const f in s)s[f]!==a[f]&&(a[f]=s[f],l=!0);return l&&i++,i});r=()=>Br(o)}t.b.length&&zle(()=>{JA(e,r),m0(t.b)}),PT(()=>{const i=La(()=>t.m.map(Cle));return()=>{for(const a of i)typeof a=="function"&&a()}}),t.a.length&&PT(()=>{JA(e,r),m0(t.a)})}function JA(n,e){if(n.l.s)for(const t of n.l.s)Br(t);e()}function nst(n,e){var a;var t=(a=n.$$events)==null?void 0:a[e.type],r=tv(t)?t.slice():t==null?[]:[t];for(var i of r)i.call(this,e)}function m3(n,e,t){if(n==null)return e(void 0),ss;const r=La(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}const Kf=[];function rst(n,e=ss){let t=null;const r=new Set;function i(l){if(FO(n,l)&&(n=l,t)){const s=!Kf.length;for(const f of r)f[1](),Kf.push(f,n);if(s){for(let f=0;f<Kf.length;f+=2)Kf[f][0](Kf[f+1]);Kf.length=0}}}function a(l){i(l(n))}function o(l,s=ss){const f=[l,s];return r.add(f),r.size===1&&(t=e(i,a)||ss),l(n),()=>{r.delete(f),r.size===0&&t&&(t(),t=null)}}return{set:i,update:a,subscribe:o}}function Tue(n){let e;return m3(n,t=>e=t)(),e}let hm=!1,$T=Symbol();function ist(n,e,t){const r=t[e]??(t[e]={store:null,source:v1(void 0),unsubscribe:ss});if(r.store!==n&&!($T in t))if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=ss;else{var i=!0;r.unsubscribe=m3(n,a=>{i?r.source.v=a:eo(r.source,a)}),i=!1}return n&&$T in t?Tue(n):Br(r.source)}function ast(n,e){return n.set(e),e}function ost(){const n={};function e(){m1(()=>{for(var t in n)n[t].unsubscribe();Ip(n,$T,{enumerable:!1,value:!0})})}return[n,e]}function sst(n,e,t){return n.set(t),e}function Sue(n){var e=hm;try{return hm=!1,[n(),hm]}finally{hm=e}}function XA(n){var e;return((e=n.ctx)==null?void 0:e.d)??!1}function lst(n,e,t,r){var F;var i=(t&ole)!==0,a=!Bd||(t&sle)!==0,o=(t&ule)!==0,l=(t&cle)!==0,s=!1,f;o?[f,s]=Sue(()=>n[e]):f=n[e];var c=Ml in n||BO in n,v=o&&(((F=Su(n,e))==null?void 0:F.set)??(c&&e in n&&($=>n[e]=$)))||void 0,y=r,k=!0,x=!1,R=()=>(x=!0,k&&(k=!1,l?y=La(r):y=r),y);f===void 0&&r!==void 0&&(v&&a&&Mle(),f=R(),v&&v(f));var d;if(a)d=()=>{var $=n[e];return $===void 0?R():(k=!0,x=!1,$)};else{var h=(i?wd:HO)(()=>n[e]);h.f|=RO,d=()=>{var $=Br(h);return $!==void 0&&(y=void 0),$===void 0?y:$}}if(!(t&lle))return d;if(v){var w=n.$$legacy;return function($,z){return arguments.length>0?((!a||!z||w||s)&&v(z?d():$),$):d()}}var A=!1,D=!1,I=v1(f),O=wd(()=>{var $=d(),z=Br(I);return A?(A=!1,D=!0,z):(D=!1,I.v=$)});return o&&Br(O),i||(O.equals=tE),function($,z){if(mu!==null&&(A=D,d(),Br(I)),arguments.length>0){const ee=z?Br(O):a&&o?Tc($):$;if(!O.equals(ee)){if(A=!0,eo(I,ee),x&&y!==void 0&&(y=ee),XA(O))return $;La(()=>Br(O))}return $}return XA(O)?O.v:Br(O)}}function Eue(n){return new Aue(n)}var _l,ko;class Aue{constructor(e){v_(this,_l);v_(this,ko);var a;var t=new Map,r=(o,l)=>{var s=v1(l);return t.set(o,s),s};const i=new Proxy({...e.props||{},$$events:{}},{get(o,l){return Br(t.get(l)??r(l,Reflect.get(o,l)))},has(o,l){return l===BO?!0:(Br(t.get(l)??r(l,Reflect.get(o,l))),Reflect.has(o,l))},set(o,l,s){return eo(t.get(l)??r(l,s),s),Reflect.set(o,l,s)}});g_(this,ko,(e.hydrate?uue:c3)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover})),(!((a=e==null?void 0:e.props)!=null&&a.$$host)||e.sync===!1)&&Qle(),g_(this,_l,i.$$events);for(const o of Object.keys(Ca(this,ko)))o==="$set"||o==="$destroy"||o==="$on"||Ip(this,o,{get(){return Ca(this,ko)[o]},set(l){Ca(this,ko)[o]=l},enumerable:!0});Ca(this,ko).$set=o=>{Object.assign(i,o)},Ca(this,ko).$destroy=()=>{cue(Ca(this,ko))}}$set(e){Ca(this,ko).$set(e)}$on(e,t){Ca(this,_l)[e]=Ca(this,_l)[e]||[];const r=(...i)=>t.call(this,...i);return Ca(this,_l)[e].push(r),()=>{Ca(this,_l)[e]=Ca(this,_l)[e].filter(i=>i!==r)}}$destroy(){Ca(this,ko).$destroy()}}_l=new WeakMap,ko=new WeakMap;let y3;typeof HTMLElement=="function"&&(y3=class extends HTMLElement{constructor(e,t,r){super();ts(this,"$$ctor");ts(this,"$$s");ts(this,"$$c");ts(this,"$$cn",!1);ts(this,"$$d",{});ts(this,"$$r",!1);ts(this,"$$p_d",{});ts(this,"$$l",{});ts(this,"$$l_u",new Map);ts(this,"$$me");this.$$ctor=e,this.$$s=t,r&&this.attachShadow({mode:"open"})}addEventListener(e,t,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const i=this.$$c.$on(e,t);this.$$l_u.set(t,i)}super.addEventListener(e,t,r)}removeEventListener(e,t,r){if(super.removeEventListener(e,t,r),this.$$c){const i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(i){return a=>{const o=document.createElement("slot");i!=="default"&&(o.name=i),oue(a,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const t={},r=Mue(this);for(const i of this.$$s)i in r&&(i==="default"&&!this.$$d.children?(this.$$d.children=e(i),t.default=!0):t[i]=e(i));for(const i of this.attributes){const a=this.$$g_p(i.name);a in this.$$d||(this.$$d[a]=Fm(a,i.value,this.$$p_d,"toProp"))}for(const i in this.$$p_d)!(i in this.$$d)&&this[i]!==void 0&&(this.$$d[i]=this[i],delete this[i]);this.$$c=Eue({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$host:this}}),this.$$me=Hle(()=>{Qc(()=>{var i;this.$$r=!0;for(const a of g0(this.$$c)){if(!((i=this.$$p_d[a])!=null&&i.reflect))continue;this.$$d[a]=this.$$c[a];const o=Fm(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1})});for(const i in this.$$l)for(const a of this.$$l[i]){const o=this.$$c.$on(i,a);this.$$l_u.set(a,o)}this.$$l={}}}attributeChangedCallback(e,t,r){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=Fm(e,r,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return g0(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function Fm(n,e,t,r){var a;const i=(a=t[n])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!r||!t[n])return e;if(r==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function Mue(n){const e={};return n.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}function ust(n,e,t,r,i,a){let o=class extends y3{constructor(){super(n,t,i),this.$$p_d=e}static get observedAttributes(){return g0(e).map(l=>(e[l].attribute||l).toLowerCase())}};return g0(e).forEach(l=>{Ip(o.prototype,l,{get(){return this.$$c&&l in this.$$c?this.$$c[l]:this.$$d[l]},set(s){var v;s=Fm(l,s,e),this.$$d[l]=s;var f=this.$$c;if(f){var c=(v=Su(f,l))==null?void 0:v.get;c?f[l]=s:f.$set({[l]:s})}}})}),r.forEach(l=>{Ip(o.prototype,l,{get(){var s;return(s=this.$$c)==null?void 0:s[l]}})}),a&&(o=a(o)),n.element=o,o}const Nue=n=>n;function b3(n){const e=n-1;return e*e*e+1}function QA(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}function cst(n,{delay:e=0,duration:t=400,easing:r=Nue}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:a=>`opacity: ${a*i}`}}function fst(n,{delay:e=0,duration:t=400,easing:r=b3,x:i=0,y:a=0,opacity:o=0}={}){const l=getComputedStyle(n),s=+l.opacity,f=l.transform==="none"?"":l.transform,c=s*(1-o),[v,y]=QA(i),[k,x]=QA(a);return{delay:e,duration:t,easing:r,css:(R,d)=>`
			transform: ${f} translate(${(1-R)*v}${y}, ${(1-R)*k}${x});
			opacity: ${s-c*d}`}}function dst(n,{delay:e=0,duration:t=400,easing:r=b3,axis:i="y"}={}){const a=getComputedStyle(n),o=+a.opacity,l=i==="y"?"height":"width",s=parseFloat(a[l]),f=i==="y"?["top","bottom"]:["left","right"],c=f.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),v=parseFloat(a[`padding${c[0]}`]),y=parseFloat(a[`padding${c[1]}`]),k=parseFloat(a[`margin${c[0]}`]),x=parseFloat(a[`margin${c[1]}`]),R=parseFloat(a[`border${c[0]}Width`]),d=parseFloat(a[`border${c[1]}Width`]);return{delay:e,duration:t,easing:r,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*o};${l}: ${h*s}px;padding-${f[0]}: ${h*v}px;padding-${f[1]}: ${h*y}px;margin-${f[0]}: ${h*k}px;margin-${f[1]}: ${h*x}px;border-${f[0]}-width: ${h*R}px;border-${f[1]}-width: ${h*d}px;min-${l}: 0`}}function hst(n){return--n*n*n*n*n+1}function w3(n,e){return function(){return n.apply(e,arguments)}}const{toString:Due}=Object.prototype,{getPrototypeOf:sE}=Object,C1=(n=>e=>{const t=Due.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),gs=n=>(n=n.toLowerCase(),e=>C1(e)===n),x1=n=>e=>typeof e===n,{isArray:Hd}=Array,Up=x1("undefined");function Lue(n){return n!==null&&!Up(n)&&n.constructor!==null&&!Up(n.constructor)&&ao(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const C3=gs("ArrayBuffer");function Oue(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&C3(n.buffer),e}const Rue=x1("string"),ao=x1("function"),x3=x1("number"),k1=n=>n!==null&&typeof n=="object",Iue=n=>n===!0||n===!1,zm=n=>{if(C1(n)!=="object")return!1;const e=sE(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Bue=gs("Date"),Pue=gs("File"),Fue=gs("Blob"),zue=gs("FileList"),Hue=n=>k1(n)&&ao(n.pipe),que=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ao(n.append)&&((e=C1(n))==="formdata"||e==="object"&&ao(n.toString)&&n.toString()==="[object FormData]"))},Uue=gs("URLSearchParams"),[Vue,$ue,Wue,Gue]=["ReadableStream","Request","Response","Headers"].map(gs),jue=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function av(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Hd(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),o=a.length;let l;for(r=0;r<o;r++)l=a[r],e.call(null,n[l],l,n)}}function k3(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Ac=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_3=n=>!Up(n)&&n!==Ac;function WT(){const{caseless:n}=_3(this)&&this||{},e={},t=(r,i)=>{const a=n&&k3(e,i)||i;zm(e[a])&&zm(r)?e[a]=WT(e[a],r):zm(r)?e[a]=WT({},r):Hd(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&av(arguments[r],t);return e}const Yue=(n,e,t,{allOwnKeys:r}={})=>(av(e,(i,a)=>{t&&ao(i)?n[a]=w3(i,t):n[a]=i},{allOwnKeys:r}),n),Zue=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Kue=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Jue=(n,e,t,r)=>{let i,a,o;const l={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),a=i.length;a-- >0;)o=i[a],(!r||r(o,n,e))&&!l[o]&&(e[o]=n[o],l[o]=!0);n=t!==!1&&sE(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Xue=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Que=n=>{if(!n)return null;if(Hd(n))return n;let e=n.length;if(!x3(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},ece=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&sE(Uint8Array)),tce=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(n,a[0],a[1])}},nce=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},rce=gs("HTMLFormElement"),ice=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),eM=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),ace=gs("RegExp"),T3=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};av(t,(i,a)=>{let o;(o=e(i,a,n))!==!1&&(r[a]=o||i)}),Object.defineProperties(n,r)},oce=n=>{T3(n,(e,t)=>{if(ao(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ao(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},sce=(n,e)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return Hd(n)?r(n):r(String(n).split(e)),t},lce=()=>{},uce=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,C_="abcdefghijklmnopqrstuvwxyz",tM="0123456789",S3={DIGIT:tM,ALPHA:C_,ALPHA_DIGIT:C_+C_.toUpperCase()+tM},cce=(n=16,e=S3.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function fce(n){return!!(n&&ao(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const dce=n=>{const e=new Array(10),t=(r,i)=>{if(k1(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=Hd(r)?[]:{};return av(r,(o,l)=>{const s=t(o,i+1);!Up(s)&&(a[l]=s)}),e[i]=void 0,a}}return r};return t(n,0)},hce=gs("AsyncFunction"),pce=n=>n&&(k1(n)||ao(n))&&ao(n.then)&&ao(n.catch),E3=((n,e)=>n?setImmediate:e?((t,r)=>(Ac.addEventListener("message",({source:i,data:a})=>{i===Ac&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Ac.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ao(Ac.postMessage)),vce=typeof queueMicrotask<"u"?queueMicrotask.bind(Ac):typeof process<"u"&&process.nextTick||E3,at={isArray:Hd,isArrayBuffer:C3,isBuffer:Lue,isFormData:que,isArrayBufferView:Oue,isString:Rue,isNumber:x3,isBoolean:Iue,isObject:k1,isPlainObject:zm,isReadableStream:Vue,isRequest:$ue,isResponse:Wue,isHeaders:Gue,isUndefined:Up,isDate:Bue,isFile:Pue,isBlob:Fue,isRegExp:ace,isFunction:ao,isStream:Hue,isURLSearchParams:Uue,isTypedArray:ece,isFileList:zue,forEach:av,merge:WT,extend:Yue,trim:jue,stripBOM:Zue,inherits:Kue,toFlatObject:Jue,kindOf:C1,kindOfTest:gs,endsWith:Xue,toArray:Que,forEachEntry:tce,matchAll:nce,isHTMLForm:rce,hasOwnProperty:eM,hasOwnProp:eM,reduceDescriptors:T3,freezeMethods:oce,toObjectSet:sce,toCamelCase:ice,noop:lce,toFiniteNumber:uce,findKey:k3,global:Ac,isContextDefined:_3,ALPHABET:S3,generateString:cce,isSpecCompliantForm:fce,toJSONObject:dce,isAsyncFn:hce,isThenable:pce,setImmediate:E3,asap:vce};function Cn(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}at.inherits(Cn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:at.toJSONObject(this.config),code:this.code,status:this.status}}});const A3=Cn.prototype,M3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{M3[n]={value:n}});Object.defineProperties(Cn,M3);Object.defineProperty(A3,"isAxiosError",{value:!0});Cn.from=(n,e,t,r,i,a)=>{const o=Object.create(A3);return at.toFlatObject(n,o,function(s){return s!==Error.prototype},l=>l!=="isAxiosError"),Cn.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,a&&Object.assign(o,a),o};const gce=null;function GT(n){return at.isPlainObject(n)||at.isArray(n)}function N3(n){return at.endsWith(n,"[]")?n.slice(0,-2):n}function nM(n,e,t){return n?n.concat(e).map(function(i,a){return i=N3(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function mce(n){return at.isArray(n)&&!n.some(GT)}const yce=at.toFlatObject(at,{},null,function(e){return/^is[A-Z]/.test(e)});function _1(n,e,t){if(!at.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=at.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,d){return!at.isUndefined(d[R])});const r=t.metaTokens,i=t.visitor||c,a=t.dots,o=t.indexes,s=(t.Blob||typeof Blob<"u"&&Blob)&&at.isSpecCompliantForm(e);if(!at.isFunction(i))throw new TypeError("visitor must be a function");function f(x){if(x===null)return"";if(at.isDate(x))return x.toISOString();if(!s&&at.isBlob(x))throw new Cn("Blob is not supported. Use a Buffer instead.");return at.isArrayBuffer(x)||at.isTypedArray(x)?s&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function c(x,R,d){let h=x;if(x&&!d&&typeof x=="object"){if(at.endsWith(R,"{}"))R=r?R:R.slice(0,-2),x=JSON.stringify(x);else if(at.isArray(x)&&mce(x)||(at.isFileList(x)||at.endsWith(R,"[]"))&&(h=at.toArray(x)))return R=N3(R),h.forEach(function(A,D){!(at.isUndefined(A)||A===null)&&e.append(o===!0?nM([R],D,a):o===null?R:R+"[]",f(A))}),!1}return GT(x)?!0:(e.append(nM(d,R,a),f(x)),!1)}const v=[],y=Object.assign(yce,{defaultVisitor:c,convertValue:f,isVisitable:GT});function k(x,R){if(!at.isUndefined(x)){if(v.indexOf(x)!==-1)throw Error("Circular reference detected in "+R.join("."));v.push(x),at.forEach(x,function(h,w){(!(at.isUndefined(h)||h===null)&&i.call(e,h,at.isString(w)?w.trim():w,R,y))===!0&&k(h,R?R.concat(w):[w])}),v.pop()}}if(!at.isObject(n))throw new TypeError("data must be an object");return k(n),e}function rM(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function lE(n,e){this._pairs=[],n&&_1(n,this,e)}const D3=lE.prototype;D3.append=function(e,t){this._pairs.push([e,t])};D3.toString=function(e){const t=e?function(r){return e.call(this,r,rM)}:rM;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function bce(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function L3(n,e,t){if(!e)return n;const r=t&&t.encode||bce;at.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=at.isURLSearchParams(e)?e.toString():new lE(e,t).toString(r),a){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class iM{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){at.forEach(this.handlers,function(r){r!==null&&e(r)})}}const O3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wce=typeof URLSearchParams<"u"?URLSearchParams:lE,Cce=typeof FormData<"u"?FormData:null,xce=typeof Blob<"u"?Blob:null,kce={isBrowser:!0,classes:{URLSearchParams:wce,FormData:Cce,Blob:xce},protocols:["http","https","file","blob","url","data"]},uE=typeof window<"u"&&typeof document<"u",jT=typeof navigator=="object"&&navigator||void 0,_ce=uE&&(!jT||["ReactNative","NativeScript","NS"].indexOf(jT.product)<0),Tce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sce=uE&&window.location.href||"http://localhost",Ece=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uE,hasStandardBrowserEnv:_ce,hasStandardBrowserWebWorkerEnv:Tce,navigator:jT,origin:Sce},Symbol.toStringTag,{value:"Module"})),Hi={...Ece,...kce};function Ace(n,e){return _1(n,new Hi.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return Hi.isNode&&at.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Mce(n){return at.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Nce(n){const e={},t=Object.keys(n);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],e[a]=n[a];return e}function R3(n){function e(t,r,i,a){let o=t[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),s=a>=t.length;return o=!o&&at.isArray(i)?i.length:o,s?(at.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!at.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],a)&&at.isArray(i[o])&&(i[o]=Nce(i[o])),!l)}if(at.isFormData(n)&&at.isFunction(n.entries)){const t={};return at.forEachEntry(n,(r,i)=>{e(Mce(r),i,t,0)}),t}return null}function Dce(n,e,t){if(at.isString(n))try{return(e||JSON.parse)(n),at.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const ov={transitional:O3,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=at.isObject(e);if(a&&at.isHTMLForm(e)&&(e=new FormData(e)),at.isFormData(e))return i?JSON.stringify(R3(e)):e;if(at.isArrayBuffer(e)||at.isBuffer(e)||at.isStream(e)||at.isFile(e)||at.isBlob(e)||at.isReadableStream(e))return e;if(at.isArrayBufferView(e))return e.buffer;if(at.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ace(e,this.formSerializer).toString();if((l=at.isFileList(e))||r.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return _1(l?{"files[]":e}:e,s&&new s,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),Dce(e)):e}],transformResponse:[function(e){const t=this.transitional||ov.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(at.isResponse(e)||at.isReadableStream(e))return e;if(e&&at.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Cn.from(l,Cn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hi.classes.FormData,Blob:Hi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};at.forEach(["delete","get","head","post","put","patch"],n=>{ov.headers[n]={}});const Lce=at.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Oce=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&Lce[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},aM=Symbol("internals");function Jh(n){return n&&String(n).trim().toLowerCase()}function Hm(n){return n===!1||n==null?n:at.isArray(n)?n.map(Hm):String(n)}function Rce(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Ice=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function x_(n,e,t,r,i){if(at.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!at.isString(e)){if(at.isString(r))return e.indexOf(r)!==-1;if(at.isRegExp(r))return r.test(e)}}function Bce(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Pce(n,e){const t=at.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,a,o){return this[r].call(this,e,i,a,o)},configurable:!0})})}let Ma=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function a(l,s,f){const c=Jh(s);if(!c)throw new Error("header name must be a non-empty string");const v=at.findKey(i,c);(!v||i[v]===void 0||f===!0||f===void 0&&i[v]!==!1)&&(i[v||s]=Hm(l))}const o=(l,s)=>at.forEach(l,(f,c)=>a(f,c,s));if(at.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(at.isString(e)&&(e=e.trim())&&!Ice(e))o(Oce(e),t);else if(at.isHeaders(e))for(const[l,s]of e.entries())a(s,l,r);else e!=null&&a(t,e,r);return this}get(e,t){if(e=Jh(e),e){const r=at.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Rce(i);if(at.isFunction(t))return t.call(this,i,r);if(at.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Jh(e),e){const r=at.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||x_(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function a(o){if(o=Jh(o),o){const l=at.findKey(r,o);l&&(!t||x_(r,r[l],l,t))&&(delete r[l],i=!0)}}return at.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!e||x_(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,r={};return at.forEach(this,(i,a)=>{const o=at.findKey(r,a);if(o){t[o]=Hm(i),delete t[a];return}const l=e?Bce(a):String(a).trim();l!==a&&delete t[a],t[l]=Hm(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return at.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&at.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[aM]=this[aM]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=Jh(o);r[l]||(Pce(i,o),r[l]=!0)}return at.isArray(e)?e.forEach(a):a(e),this}};Ma.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);at.reduceDescriptors(Ma.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});at.freezeMethods(Ma);function k_(n,e){const t=this||ov,r=e||t,i=Ma.from(r.headers);let a=r.data;return at.forEach(n,function(l){a=l.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function I3(n){return!!(n&&n.__CANCEL__)}function qd(n,e,t){Cn.call(this,n??"canceled",Cn.ERR_CANCELED,e,t),this.name="CanceledError"}at.inherits(qd,Cn,{__CANCEL__:!0});function B3(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Cn("Request failed with status code "+t.status,[Cn.ERR_BAD_REQUEST,Cn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Fce(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function zce(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(s){const f=Date.now(),c=r[a];o||(o=f),t[i]=s,r[i]=f;let v=a,y=0;for(;v!==i;)y+=t[v++],v=v%n;if(i=(i+1)%n,i===a&&(a=(a+1)%n),f-o<e)return;const k=c&&f-c;return k?Math.round(y*1e3/k):void 0}}function Hce(n,e){let t=0,r=1e3/e,i,a;const o=(f,c=Date.now())=>{t=c,i=null,a&&(clearTimeout(a),a=null),n.apply(null,f)};return[(...f)=>{const c=Date.now(),v=c-t;v>=r?o(f,c):(i=f,a||(a=setTimeout(()=>{a=null,o(i)},r-v)))},()=>i&&o(i)]}const S0=(n,e,t=3)=>{let r=0;const i=zce(50,250);return Hce(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,s=o-r,f=i(s),c=o<=l;r=o;const v={loaded:o,total:l,progress:l?o/l:void 0,bytes:s,rate:f||void 0,estimated:f&&l&&c?(l-o)/f:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};n(v)},t)},oM=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},sM=n=>(...e)=>at.asap(()=>n(...e)),qce=Hi.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Hi.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Hi.origin),Hi.navigator&&/(msie|trident)/i.test(Hi.navigator.userAgent)):()=>!0,Uce=Hi.hasStandardBrowserEnv?{write(n,e,t,r,i,a){const o=[n+"="+encodeURIComponent(e)];at.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),at.isString(r)&&o.push("path="+r),at.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Vce(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function $ce(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function P3(n,e){return n&&!Vce(e)?$ce(n,e):e}const lM=n=>n instanceof Ma?{...n}:n;function zc(n,e){e=e||{};const t={};function r(f,c,v,y){return at.isPlainObject(f)&&at.isPlainObject(c)?at.merge.call({caseless:y},f,c):at.isPlainObject(c)?at.merge({},c):at.isArray(c)?c.slice():c}function i(f,c,v,y){if(at.isUndefined(c)){if(!at.isUndefined(f))return r(void 0,f,v,y)}else return r(f,c,v,y)}function a(f,c){if(!at.isUndefined(c))return r(void 0,c)}function o(f,c){if(at.isUndefined(c)){if(!at.isUndefined(f))return r(void 0,f)}else return r(void 0,c)}function l(f,c,v){if(v in e)return r(f,c);if(v in n)return r(void 0,f)}const s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(f,c,v)=>i(lM(f),lM(c),v,!0)};return at.forEach(Object.keys(Object.assign({},n,e)),function(c){const v=s[c]||i,y=v(n[c],e[c],c);at.isUndefined(y)&&v!==l||(t[c]=y)}),t}const F3=n=>{const e=zc({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=Ma.from(o),e.url=L3(P3(e.baseURL,e.url),n.params,n.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let s;if(at.isFormData(t)){if(Hi.hasStandardBrowserEnv||Hi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((s=o.getContentType())!==!1){const[f,...c]=s?s.split(";").map(v=>v.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...c].join("; "))}}if(Hi.hasStandardBrowserEnv&&(r&&at.isFunction(r)&&(r=r(e)),r||r!==!1&&qce(e.url))){const f=i&&a&&Uce.read(a);f&&o.set(i,f)}return e},Wce=typeof XMLHttpRequest<"u",Gce=Wce&&function(n){return new Promise(function(t,r){const i=F3(n);let a=i.data;const o=Ma.from(i.headers).normalize();let{responseType:l,onUploadProgress:s,onDownloadProgress:f}=i,c,v,y,k,x;function R(){k&&k(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let d=new XMLHttpRequest;d.open(i.method.toUpperCase(),i.url,!0),d.timeout=i.timeout;function h(){if(!d)return;const A=Ma.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),I={data:!l||l==="text"||l==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:A,config:n,request:d};B3(function(F){t(F),R()},function(F){r(F),R()},I),d=null}"onloadend"in d?d.onloadend=h:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(h)},d.onabort=function(){d&&(r(new Cn("Request aborted",Cn.ECONNABORTED,n,d)),d=null)},d.onerror=function(){r(new Cn("Network Error",Cn.ERR_NETWORK,n,d)),d=null},d.ontimeout=function(){let D=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||O3;i.timeoutErrorMessage&&(D=i.timeoutErrorMessage),r(new Cn(D,I.clarifyTimeoutError?Cn.ETIMEDOUT:Cn.ECONNABORTED,n,d)),d=null},a===void 0&&o.setContentType(null),"setRequestHeader"in d&&at.forEach(o.toJSON(),function(D,I){d.setRequestHeader(I,D)}),at.isUndefined(i.withCredentials)||(d.withCredentials=!!i.withCredentials),l&&l!=="json"&&(d.responseType=i.responseType),f&&([y,x]=S0(f,!0),d.addEventListener("progress",y)),s&&d.upload&&([v,k]=S0(s),d.upload.addEventListener("progress",v),d.upload.addEventListener("loadend",k)),(i.cancelToken||i.signal)&&(c=A=>{d&&(r(!A||A.type?new qd(null,n,d):A),d.abort(),d=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const w=Fce(i.url);if(w&&Hi.protocols.indexOf(w)===-1){r(new Cn("Unsupported protocol "+w+":",Cn.ERR_BAD_REQUEST,n));return}d.send(a||null)})},jce=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const a=function(f){if(!i){i=!0,l();const c=f instanceof Error?f:this.reason;r.abort(c instanceof Cn?c:new qd(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,a(new Cn(`timeout ${e} of ms exceeded`,Cn.ETIMEDOUT))},e);const l=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),n=null)};n.forEach(f=>f.addEventListener("abort",a));const{signal:s}=r;return s.unsubscribe=()=>at.asap(l),s}},Yce=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Zce=async function*(n,e){for await(const t of Kce(n))yield*Yce(t,e)},Kce=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},uM=(n,e,t,r)=>{const i=Zce(n,e);let a=0,o,l=s=>{o||(o=!0,r&&r(s))};return new ReadableStream({async pull(s){try{const{done:f,value:c}=await i.next();if(f){l(),s.close();return}let v=c.byteLength;if(t){let y=a+=v;t(y)}s.enqueue(new Uint8Array(c))}catch(f){throw l(f),f}},cancel(s){return l(s),i.return()}},{highWaterMark:2})},T1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",z3=T1&&typeof ReadableStream=="function",Jce=T1&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),H3=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Xce=z3&&H3(()=>{let n=!1;const e=new Request(Hi.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),cM=64*1024,YT=z3&&H3(()=>at.isReadableStream(new Response("").body)),E0={stream:YT&&(n=>n.body)};T1&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!E0[e]&&(E0[e]=at.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Cn(`Response type '${e}' is not supported`,Cn.ERR_NOT_SUPPORT,r)})})})(new Response);const Qce=async n=>{if(n==null)return 0;if(at.isBlob(n))return n.size;if(at.isSpecCompliantForm(n))return(await new Request(Hi.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(at.isArrayBufferView(n)||at.isArrayBuffer(n))return n.byteLength;if(at.isURLSearchParams(n)&&(n=n+""),at.isString(n))return(await Jce(n)).byteLength},efe=async(n,e)=>{const t=at.toFiniteNumber(n.getContentLength());return t??Qce(e)},tfe=T1&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:s,responseType:f,headers:c,withCredentials:v="same-origin",fetchOptions:y}=F3(n);f=f?(f+"").toLowerCase():"text";let k=jce([i,a&&a.toAbortSignal()],o),x;const R=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let d;try{if(s&&Xce&&t!=="get"&&t!=="head"&&(d=await efe(c,r))!==0){let I=new Request(e,{method:"POST",body:r,duplex:"half"}),O;if(at.isFormData(r)&&(O=I.headers.get("content-type"))&&c.setContentType(O),I.body){const[F,$]=oM(d,S0(sM(s)));r=uM(I.body,cM,F,$)}}at.isString(v)||(v=v?"include":"omit");const h="credentials"in Request.prototype;x=new Request(e,{...y,signal:k,method:t.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:h?v:void 0});let w=await fetch(x);const A=YT&&(f==="stream"||f==="response");if(YT&&(l||A&&R)){const I={};["status","statusText","headers"].forEach(z=>{I[z]=w[z]});const O=at.toFiniteNumber(w.headers.get("content-length")),[F,$]=l&&oM(O,S0(sM(l),!0))||[];w=new Response(uM(w.body,cM,F,()=>{$&&$(),R&&R()}),I)}f=f||"text";let D=await E0[at.findKey(E0,f)||"text"](w,n);return!A&&R&&R(),await new Promise((I,O)=>{B3(I,O,{data:D,headers:Ma.from(w.headers),status:w.status,statusText:w.statusText,config:n,request:x})})}catch(h){throw R&&R(),h&&h.name==="TypeError"&&/fetch/i.test(h.message)?Object.assign(new Cn("Network Error",Cn.ERR_NETWORK,n,x),{cause:h.cause||h}):Cn.from(h,h&&h.code,n,x)}}),ZT={http:gce,xhr:Gce,fetch:tfe};at.forEach(ZT,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const fM=n=>`- ${n}`,nfe=n=>at.isFunction(n)||n===null||n===!1,q3={getAdapter:n=>{n=at.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let a=0;a<e;a++){t=n[a];let o;if(r=t,!nfe(t)&&(r=ZT[(o=String(t)).toLowerCase()],r===void 0))throw new Cn(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,s])=>`adapter ${l} `+(s===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(fM).join(`
`):" "+fM(a[0]):"as no adapter specified";throw new Cn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ZT};function __(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new qd(null,n)}function dM(n){return __(n),n.headers=Ma.from(n.headers),n.data=k_.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),q3.getAdapter(n.adapter||ov.adapter)(n).then(function(r){return __(n),r.data=k_.call(n,n.transformResponse,r),r.headers=Ma.from(r.headers),r},function(r){return I3(r)||(__(n),r&&r.response&&(r.response.data=k_.call(n,n.transformResponse,r.response),r.response.headers=Ma.from(r.response.headers))),Promise.reject(r)})}const U3="1.7.9",S1={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{S1[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const hM={};S1.transitional=function(e,t,r){function i(a,o){return"[Axios v"+U3+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,l)=>{if(e===!1)throw new Cn(i(o," has been removed"+(t?" in "+t:"")),Cn.ERR_DEPRECATED);return t&&!hM[o]&&(hM[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,o,l):!0}};S1.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function rfe(n,e,t){if(typeof n!="object")throw new Cn("options must be an object",Cn.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const l=n[a],s=l===void 0||o(l,a,n);if(s!==!0)throw new Cn("option "+a+" must be "+s,Cn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Cn("Unknown option "+a,Cn.ERR_BAD_OPTION)}}const qm={assertOptions:rfe,validators:S1},Is=qm.validators;let Oc=class{constructor(e){this.defaults=e,this.interceptors={request:new iM,response:new iM}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=zc(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&qm.assertOptions(r,{silentJSONParsing:Is.transitional(Is.boolean),forcedJSONParsing:Is.transitional(Is.boolean),clarifyTimeoutError:Is.transitional(Is.boolean)},!1),i!=null&&(at.isFunction(i)?t.paramsSerializer={serialize:i}:qm.assertOptions(i,{encode:Is.function,serialize:Is.function},!0)),qm.assertOptions(t,{baseUrl:Is.spelling("baseURL"),withXsrfToken:Is.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&at.merge(a.common,a[t.method]);a&&at.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=Ma.concat(o,a);const l=[];let s=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(s=s&&R.synchronous,l.unshift(R.fulfilled,R.rejected))});const f=[];this.interceptors.response.forEach(function(R){f.push(R.fulfilled,R.rejected)});let c,v=0,y;if(!s){const x=[dM.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,f),y=x.length,c=Promise.resolve(t);v<y;)c=c.then(x[v++],x[v++]);return c}y=l.length;let k=t;for(v=0;v<y;){const x=l[v++],R=l[v++];try{k=x(k)}catch(d){R.call(this,d);break}}try{c=dM.call(this,k)}catch(x){return Promise.reject(x)}for(v=0,y=f.length;v<y;)c=c.then(f[v++],f[v++]);return c}getUri(e){e=zc(this.defaults,e);const t=P3(e.baseURL,e.url);return L3(t,e.params,e.paramsSerializer)}};at.forEach(["delete","get","head","options"],function(e){Oc.prototype[e]=function(t,r){return this.request(zc(r||{},{method:e,url:t,data:(r||{}).data}))}});at.forEach(["post","put","patch"],function(e){function t(r){return function(a,o,l){return this.request(zc(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Oc.prototype[e]=t(),Oc.prototype[e+"Form"]=t(!0)});let ife=class V3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{r.subscribe(l),a=l}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,l){r.reason||(r.reason=new qd(a,o,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new V3(function(i){e=i}),cancel:e}}};function afe(n){return function(t){return n.apply(null,t)}}function ofe(n){return at.isObject(n)&&n.isAxiosError===!0}const KT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(KT).forEach(([n,e])=>{KT[e]=n});function $3(n){const e=new Oc(n),t=w3(Oc.prototype.request,e);return at.extend(t,Oc.prototype,e,{allOwnKeys:!0}),at.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return $3(zc(n,i))},t}const Wr=$3(ov);Wr.Axios=Oc;Wr.CanceledError=qd;Wr.CancelToken=ife;Wr.isCancel=I3;Wr.VERSION=U3;Wr.toFormData=_1;Wr.AxiosError=Cn;Wr.Cancel=Wr.CanceledError;Wr.all=function(e){return Promise.all(e)};Wr.spread=afe;Wr.isAxiosError=ofe;Wr.mergeConfig=zc;Wr.AxiosHeaders=Ma;Wr.formToJSON=n=>R3(at.isHTMLForm(n)?new FormData(n):n);Wr.getAdapter=q3.getAdapter;Wr.HttpStatusCode=KT;Wr.default=Wr;const{Axios:gst,AxiosError:mst,CanceledError:yst,isCancel:bst,CancelToken:wst,VERSION:Cst,all:xst,Cancel:kst,isAxiosError:_st,spread:Tst,toFormData:Sst,AxiosHeaders:Est,HttpStatusCode:Ast,formToJSON:Mst,getAdapter:Nst,mergeConfig:Dst}=Wr;/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function pM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ws(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(t),!0).forEach(function(r){sfe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pM(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Um(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Um=function(e){return typeof e}:Um=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(n)}function sfe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Il(){return Il=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Il.apply(this,arguments)}function lfe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function ufe(n,e){if(n==null)return{};var t=lfe(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var cfe="1.15.6";function Nl(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Hl=Nl(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),sv=Nl(/Edge/i),vM=Nl(/firefox/i),_p=Nl(/safari/i)&&!Nl(/chrome/i)&&!Nl(/android/i),cE=Nl(/iP(ad|od|hone)/i),W3=Nl(/chrome/i)&&Nl(/android/i),G3={capture:!1,passive:!1};function Pn(n,e,t){n.addEventListener(e,t,!Hl&&G3)}function Dn(n,e,t){n.removeEventListener(e,t,!Hl&&G3)}function A0(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function j3(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function as(n,e,t,r){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&A0(n,e):A0(n,e))||r&&n===t)return n;if(n===t)break}while(n=j3(n))}return null}var gM=/\s+/g;function Ka(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var r=(" "+n.className+" ").replace(gM," ").replace(" "+e+" "," ");n.className=(r+(t?" "+e:"")).replace(gM," ")}}function un(n,e,t){var r=n&&n.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=t+(typeof t=="string"?"":"px")}}function pd(n,e){var t="";if(typeof n=="string")t=n;else do{var r=un(n,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!e&&(n=n.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function Y3(n,e,t){if(n){var r=n.getElementsByTagName(e),i=0,a=r.length;if(t)for(;i<a;i++)t(r[i],i);return r}return[]}function qs(){var n=document.scrollingElement;return n||document.documentElement}function Vr(n,e,t,r,i){if(!(!n.getBoundingClientRect&&n!==window)){var a,o,l,s,f,c,v;if(n!==window&&n.parentNode&&n!==qs()?(a=n.getBoundingClientRect(),o=a.top,l=a.left,s=a.bottom,f=a.right,c=a.height,v=a.width):(o=0,l=0,s=window.innerHeight,f=window.innerWidth,c=window.innerHeight,v=window.innerWidth),(e||t)&&n!==window&&(i=i||n.parentNode,!Hl))do if(i&&i.getBoundingClientRect&&(un(i,"transform")!=="none"||t&&un(i,"position")!=="static")){var y=i.getBoundingClientRect();o-=y.top+parseInt(un(i,"border-top-width")),l-=y.left+parseInt(un(i,"border-left-width")),s=o+a.height,f=l+a.width;break}while(i=i.parentNode);if(r&&n!==window){var k=pd(i||n),x=k&&k.a,R=k&&k.d;k&&(o/=R,l/=x,v/=x,c/=R,s=o+c,f=l+v)}return{top:o,left:l,bottom:s,right:f,width:v,height:c}}}function mM(n,e,t){for(var r=xu(n,!0),i=Vr(n)[e];r;){var a=Vr(r)[t],o=void 0;if(o=i>=a,!o)return r;if(r===qs())break;r=xu(r,!1)}return!1}function Cd(n,e,t,r){for(var i=0,a=0,o=n.children;a<o.length;){if(o[a].style.display!=="none"&&o[a]!==cn.ghost&&(r||o[a]!==cn.dragged)&&as(o[a],t.draggable,n,!1)){if(i===e)return o[a];i++}a++}return null}function fE(n,e){for(var t=n.lastElementChild;t&&(t===cn.ghost||un(t,"display")==="none"||e&&!A0(t,e));)t=t.previousElementSibling;return t||null}function xo(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==cn.clone&&(!e||A0(n,e))&&t++;return t}function yM(n){var e=0,t=0,r=qs();if(n)do{var i=pd(n),a=i.a,o=i.d;e+=n.scrollLeft*a,t+=n.scrollTop*o}while(n!==r&&(n=n.parentNode));return[e,t]}function ffe(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===n[t][r])return Number(t)}return-1}function xu(n,e){if(!n||!n.getBoundingClientRect)return qs();var t=n,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=un(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return qs();if(r||e)return t;r=!0}}while(t=t.parentNode);return qs()}function dfe(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function T_(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var Tp;function Z3(n,e){return function(){if(!Tp){var t=arguments,r=this;t.length===1?n.call(r,t[0]):n.apply(r,t),Tp=setTimeout(function(){Tp=void 0},e)}}}function hfe(){clearTimeout(Tp),Tp=void 0}function K3(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function J3(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function X3(n,e,t){var r={};return Array.from(n.children).forEach(function(i){var a,o,l,s;if(!(!as(i,e.draggable,n,!1)||i.animated||i===t)){var f=Vr(i);r.left=Math.min((a=r.left)!==null&&a!==void 0?a:1/0,f.left),r.top=Math.min((o=r.top)!==null&&o!==void 0?o:1/0,f.top),r.right=Math.max((l=r.right)!==null&&l!==void 0?l:-1/0,f.right),r.bottom=Math.max((s=r.bottom)!==null&&s!==void 0?s:-1/0,f.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Sa="Sortable"+new Date().getTime();function pfe(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(un(i,"display")==="none"||i===cn.ghost)){n.push({target:i,rect:Vr(i)});var a=Ws({},n[n.length-1].rect);if(i.thisAnimationDuration){var o=pd(i,!0);o&&(a.top-=o.f,a.left-=o.e)}i.fromRect=a}})}},addAnimationState:function(r){n.push(r)},removeAnimationState:function(r){n.splice(ffe(n,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var a=!1,o=0;n.forEach(function(l){var s=0,f=l.target,c=f.fromRect,v=Vr(f),y=f.prevFromRect,k=f.prevToRect,x=l.rect,R=pd(f,!0);R&&(v.top-=R.f,v.left-=R.e),f.toRect=v,f.thisAnimationDuration&&T_(y,v)&&!T_(c,v)&&(x.top-v.top)/(x.left-v.left)===(c.top-v.top)/(c.left-v.left)&&(s=gfe(x,y,k,i.options)),T_(v,c)||(f.prevFromRect=c,f.prevToRect=v,s||(s=i.options.animation),i.animate(f,x,v,s)),s&&(a=!0,o=Math.max(o,s),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},s),f.thisAnimationDuration=s)}),clearTimeout(e),a?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),n=[]},animate:function(r,i,a,o){if(o){un(r,"transition",""),un(r,"transform","");var l=pd(this.el),s=l&&l.a,f=l&&l.d,c=(i.left-a.left)/(s||1),v=(i.top-a.top)/(f||1);r.animatingX=!!c,r.animatingY=!!v,un(r,"transform","translate3d("+c+"px,"+v+"px,0)"),this.forRepaintDummy=vfe(r),un(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),un(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){un(r,"transition",""),un(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function vfe(n){return n.offsetWidth}function gfe(n,e,t,r){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*r.animation}var Jf=[],S_={initializeByDefault:!0},lv={mount:function(e){for(var t in S_)S_.hasOwnProperty(t)&&!(t in e)&&(e[t]=S_[t]);Jf.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Jf.push(e)},pluginEvent:function(e,t,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var a=e+"Global";Jf.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][a]&&t[o.pluginName][a](Ws({sortable:t},r)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](Ws({sortable:t},r)))})},initializePlugins:function(e,t,r,i){Jf.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var f=new l(e,t,e.options);f.sortable=e,f.options=e.options,e[s]=f,Il(r,f.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var o=this.modifyOption(e,a,e.options[a]);typeof o<"u"&&(e.options[a]=o)}},getEventProperties:function(e,t){var r={};return Jf.forEach(function(i){typeof i.eventProperties=="function"&&Il(r,i.eventProperties.call(t[i.pluginName],e))}),r},modifyOption:function(e,t,r){var i;return Jf.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[t]=="function"&&(i=a.optionListeners[t].call(e[a.pluginName],r))}),i}};function mfe(n){var e=n.sortable,t=n.rootEl,r=n.name,i=n.targetEl,a=n.cloneEl,o=n.toEl,l=n.fromEl,s=n.oldIndex,f=n.newIndex,c=n.oldDraggableIndex,v=n.newDraggableIndex,y=n.originalEvent,k=n.putSortable,x=n.extraEventProperties;if(e=e||t&&t[Sa],!!e){var R,d=e.options,h="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Hl&&!sv?R=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(R=document.createEvent("Event"),R.initEvent(r,!0,!0)),R.to=o||t,R.from=l||t,R.item=i||t,R.clone=a,R.oldIndex=s,R.newIndex=f,R.oldDraggableIndex=c,R.newDraggableIndex=v,R.originalEvent=y,R.pullMode=k?k.lastPutMode:void 0;var w=Ws(Ws({},x),lv.getEventProperties(r,e));for(var A in w)R[A]=w[A];t&&t.dispatchEvent(R),d[h]&&d[h].call(e,R)}}var yfe=["evt"],xa=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,a=ufe(r,yfe);lv.pluginEvent.bind(cn)(e,t,Ws({dragEl:St,parentEl:Mr,ghostEl:pn,rootEl:mr,nextEl:xc,lastDownEl:Vm,cloneEl:_r,cloneHidden:yu,dragStarted:dp,putSortable:mi,activeSortable:cn.active,originalEvent:i,oldIndex:cd,oldDraggableIndex:Sp,newIndex:Qa,newDraggableIndex:pu,hideGhostForTarget:nR,unhideGhostForTarget:rR,cloneNowHidden:function(){yu=!0},cloneNowShown:function(){yu=!1},dispatchSortableEvent:function(l){ea({sortable:t,name:l,originalEvent:i})}},a))};function ea(n){mfe(Ws({putSortable:mi,cloneEl:_r,targetEl:St,rootEl:mr,oldIndex:cd,oldDraggableIndex:Sp,newIndex:Qa,newDraggableIndex:pu},n))}var St,Mr,pn,mr,xc,Vm,_r,yu,cd,Qa,Sp,pu,pm,mi,od=!1,M0=!1,N0=[],vc,ns,E_,A_,bM,wM,dp,Xf,Ep,Ap=!1,vm=!1,$m,Bi,M_=[],JT=!1,D0=[],E1=typeof document<"u",gm=cE,CM=sv||Hl?"cssFloat":"float",bfe=E1&&!W3&&!cE&&"draggable"in document.createElement("div"),Q3=function(){if(E1){if(Hl)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),eR=function(e,t){var r=un(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),a=Cd(e,0,t),o=Cd(e,1,t),l=a&&un(a),s=o&&un(o),f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Vr(a).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Vr(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&l.float&&l.float!=="none"){var v=l.float==="left"?"left":"right";return o&&(s.clear==="both"||s.clear===v)?"vertical":"horizontal"}return a&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||f>=i&&r[CM]==="none"||o&&r[CM]==="none"&&f+c>i)?"vertical":"horizontal"},wfe=function(e,t,r){var i=r?e.left:e.top,a=r?e.right:e.bottom,o=r?e.width:e.height,l=r?t.left:t.top,s=r?t.right:t.bottom,f=r?t.width:t.height;return i===l||a===s||i+o/2===l+f/2},Cfe=function(e,t){var r;return N0.some(function(i){var a=i[Sa].options.emptyInsertThreshold;if(!(!a||fE(i))){var o=Vr(i),l=e>=o.left-a&&e<=o.right+a,s=t>=o.top-a&&t<=o.bottom+a;if(l&&s)return r=i}}),r},tR=function(e){function t(a,o){return function(l,s,f,c){var v=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(a==null&&(o||v))return!0;if(a==null||a===!1)return!1;if(o&&a==="clone")return a;if(typeof a=="function")return t(a(l,s,f,c),o)(l,s,f,c);var y=(o?l:s).options.group.name;return a===!0||typeof a=="string"&&a===y||a.join&&a.indexOf(y)>-1}}var r={},i=e.group;(!i||Um(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=t(i.pull,!0),r.checkPut=t(i.put),r.revertClone=i.revertClone,e.group=r},nR=function(){!Q3&&pn&&un(pn,"display","none")},rR=function(){!Q3&&pn&&un(pn,"display","")};E1&&!W3&&document.addEventListener("click",function(n){if(M0)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),M0=!1,!1},!0);var gc=function(e){if(St){e=e.touches?e.touches[0]:e;var t=Cfe(e.clientX,e.clientY);if(t){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[Sa]._onDragOver(r)}}},xfe=function(e){St&&St.parentNode[Sa]._isOutsideThisEl(e.target)};function cn(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=Il({},e),n[Sa]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return eR(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,l){o.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:cn.supportPointer!==!1&&"PointerEvent"in window&&(!_p||cE),emptyInsertThreshold:5};lv.initializePlugins(this,n,t);for(var r in t)!(r in e)&&(e[r]=t[r]);tR(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:bfe,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Pn(n,"pointerdown",this._onTapStart):(Pn(n,"mousedown",this._onTapStart),Pn(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Pn(n,"dragover",this),Pn(n,"dragenter",this)),N0.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Il(this,pfe())}cn.prototype={constructor:cn,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Xf=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,St):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,i=this.options,a=i.preventOnFilter,o=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=i.filter;if(Nfe(r),!St&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&_p&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=as(s,i.draggable,r,!1),!(s&&s.animated)&&Vm!==s)){if(cd=xo(s),Sp=xo(s,i.draggable),typeof c=="function"){if(c.call(this,e,s,this)){ea({sortable:t,rootEl:f,name:"filter",targetEl:s,toEl:r,fromEl:r}),xa("filter",t,{evt:e}),a&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(v){if(v=as(f,v.trim(),r,!1),v)return ea({sortable:t,rootEl:v,name:"filter",targetEl:s,fromEl:r,toEl:r}),xa("filter",t,{evt:e}),!0}),c)){a&&e.preventDefault();return}i.handle&&!as(f,i.handle,r,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,t,r){var i=this,a=i.el,o=i.options,l=a.ownerDocument,s;if(r&&!St&&r.parentNode===a){var f=Vr(r);if(mr=a,St=r,Mr=St.parentNode,xc=St.nextSibling,Vm=r,pm=o.group,cn.dragged=St,vc={target:St,clientX:(t||e).clientX,clientY:(t||e).clientY},bM=vc.clientX-f.left,wM=vc.clientY-f.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,St.style["will-change"]="all",s=function(){if(xa("delayEnded",i,{evt:e}),cn.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!vM&&i.nativeDraggable&&(St.draggable=!0),i._triggerDragStart(e,t),ea({sortable:i,name:"choose",originalEvent:e}),Ka(St,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){Y3(St,c.trim(),N_)}),Pn(l,"dragover",gc),Pn(l,"mousemove",gc),Pn(l,"touchmove",gc),o.supportPointer?(Pn(l,"pointerup",i._onDrop),!this.nativeDraggable&&Pn(l,"pointercancel",i._onDrop)):(Pn(l,"mouseup",i._onDrop),Pn(l,"touchend",i._onDrop),Pn(l,"touchcancel",i._onDrop)),vM&&this.nativeDraggable&&(this.options.touchStartThreshold=4,St.draggable=!0),xa("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(sv||Hl))){if(cn.eventCanceled){this._onDrop();return}o.supportPointer?(Pn(l,"pointerup",i._disableDelayedDrag),Pn(l,"pointercancel",i._disableDelayedDrag)):(Pn(l,"mouseup",i._disableDelayedDrag),Pn(l,"touchend",i._disableDelayedDrag),Pn(l,"touchcancel",i._disableDelayedDrag)),Pn(l,"mousemove",i._delayedDragTouchMoveHandler),Pn(l,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&Pn(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,o.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){St&&N_(St),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Dn(e,"mouseup",this._disableDelayedDrag),Dn(e,"touchend",this._disableDelayedDrag),Dn(e,"touchcancel",this._disableDelayedDrag),Dn(e,"pointerup",this._disableDelayedDrag),Dn(e,"pointercancel",this._disableDelayedDrag),Dn(e,"mousemove",this._delayedDragTouchMoveHandler),Dn(e,"touchmove",this._delayedDragTouchMoveHandler),Dn(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?Pn(document,"pointermove",this._onTouchMove):t?Pn(document,"touchmove",this._onTouchMove):Pn(document,"mousemove",this._onTouchMove):(Pn(St,"dragend",this),Pn(mr,"dragstart",this._onDragStart));try{document.selection?Wm(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(od=!1,mr&&St){xa("dragStarted",this,{evt:t}),this.nativeDraggable&&Pn(document,"dragover",xfe);var r=this.options;!e&&Ka(St,r.dragClass,!1),Ka(St,r.ghostClass,!0),cn.active=this,e&&this._appendGhost(),ea({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ns){this._lastX=ns.clientX,this._lastY=ns.clientY,nR();for(var e=document.elementFromPoint(ns.clientX,ns.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ns.clientX,ns.clientY),e!==t);)t=e;if(St.parentNode[Sa]._isOutsideThisEl(e),t)do{if(t[Sa]){var r=void 0;if(r=t[Sa]._onDragOver({clientX:ns.clientX,clientY:ns.clientY,target:e,rootEl:t}),r&&!this.options.dragoverBubble)break}e=t}while(t=j3(t));rR()}},_onTouchMove:function(e){if(vc){var t=this.options,r=t.fallbackTolerance,i=t.fallbackOffset,a=e.touches?e.touches[0]:e,o=pn&&pd(pn,!0),l=pn&&o&&o.a,s=pn&&o&&o.d,f=gm&&Bi&&yM(Bi),c=(a.clientX-vc.clientX+i.x)/(l||1)+(f?f[0]-M_[0]:0)/(l||1),v=(a.clientY-vc.clientY+i.y)/(s||1)+(f?f[1]-M_[1]:0)/(s||1);if(!cn.active&&!od){if(r&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(pn){o?(o.e+=c-(E_||0),o.f+=v-(A_||0)):o={a:1,b:0,c:0,d:1,e:c,f:v};var y="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");un(pn,"webkitTransform",y),un(pn,"mozTransform",y),un(pn,"msTransform",y),un(pn,"transform",y),E_=c,A_=v,ns=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!pn){var e=this.options.fallbackOnBody?document.body:mr,t=Vr(St,!0,gm,!0,e),r=this.options;if(gm){for(Bi=e;un(Bi,"position")==="static"&&un(Bi,"transform")==="none"&&Bi!==document;)Bi=Bi.parentNode;Bi!==document.body&&Bi!==document.documentElement?(Bi===document&&(Bi=qs()),t.top+=Bi.scrollTop,t.left+=Bi.scrollLeft):Bi=qs(),M_=yM(Bi)}pn=St.cloneNode(!0),Ka(pn,r.ghostClass,!1),Ka(pn,r.fallbackClass,!0),Ka(pn,r.dragClass,!0),un(pn,"transition",""),un(pn,"transform",""),un(pn,"box-sizing","border-box"),un(pn,"margin",0),un(pn,"top",t.top),un(pn,"left",t.left),un(pn,"width",t.width),un(pn,"height",t.height),un(pn,"opacity","0.8"),un(pn,"position",gm?"absolute":"fixed"),un(pn,"zIndex","100000"),un(pn,"pointerEvents","none"),cn.ghost=pn,e.appendChild(pn),un(pn,"transform-origin",bM/parseInt(pn.style.width)*100+"% "+wM/parseInt(pn.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,i=e.dataTransfer,a=r.options;if(xa("dragStart",this,{evt:e}),cn.eventCanceled){this._onDrop();return}xa("setupClone",this),cn.eventCanceled||(_r=J3(St),_r.removeAttribute("id"),_r.draggable=!1,_r.style["will-change"]="",this._hideClone(),Ka(_r,this.options.chosenClass,!1),cn.clone=_r),r.cloneId=Wm(function(){xa("clone",r),!cn.eventCanceled&&(r.options.removeCloneOnHide||mr.insertBefore(_r,St),r._hideClone(),ea({sortable:r,name:"clone"}))}),!t&&Ka(St,a.dragClass,!0),t?(M0=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Dn(document,"mouseup",r._onDrop),Dn(document,"touchend",r._onDrop),Dn(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(r,i,St)),Pn(document,"drop",r),un(St,"transform","translateZ(0)")),od=!0,r._dragStartId=Wm(r._dragStarted.bind(r,t,e)),Pn(document,"selectstart",r),dp=!0,window.getSelection().removeAllRanges(),_p&&un(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,r=e.target,i,a,o,l=this.options,s=l.group,f=cn.active,c=pm===s,v=l.sort,y=mi||f,k,x=this,R=!1;if(JT)return;function d(Be,Je){xa(Be,x,Ws({evt:e,isOwner:c,axis:k?"vertical":"horizontal",revert:o,dragRect:i,targetRect:a,canSort:v,fromSortable:y,target:r,completed:w,onMove:function(Me,we){return mm(mr,t,St,i,Me,Vr(Me),e,we)},changed:A},Je))}function h(){d("dragOverAnimationCapture"),x.captureAnimationState(),x!==y&&y.captureAnimationState()}function w(Be){return d("dragOverCompleted",{insertion:Be}),Be&&(c?f._hideClone():f._showClone(x),x!==y&&(Ka(St,mi?mi.options.ghostClass:f.options.ghostClass,!1),Ka(St,l.ghostClass,!0)),mi!==x&&x!==cn.active?mi=x:x===cn.active&&mi&&(mi=null),y===x&&(x._ignoreWhileAnimating=r),x.animateAll(function(){d("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(r===St&&!St.animated||r===t&&!r.animated)&&(Xf=null),!l.dragoverBubble&&!e.rootEl&&r!==document&&(St.parentNode[Sa]._isOutsideThisEl(e.target),!Be&&gc(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),R=!0}function A(){Qa=xo(St),pu=xo(St,l.draggable),ea({sortable:x,name:"change",toEl:t,newIndex:Qa,newDraggableIndex:pu,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=as(r,l.draggable,t,!0),d("dragOver"),cn.eventCanceled)return R;if(St.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||x._ignoreWhileAnimating===r)return w(!1);if(M0=!1,f&&!l.disabled&&(c?v||(o=Mr!==mr):mi===this||(this.lastPutMode=pm.checkPull(this,f,St,e))&&s.checkPut(this,f,St,e))){if(k=this._getDirection(e,r)==="vertical",i=Vr(St),d("dragOverValid"),cn.eventCanceled)return R;if(o)return Mr=mr,h(),this._hideClone(),d("revert"),cn.eventCanceled||(xc?mr.insertBefore(St,xc):mr.appendChild(St)),w(!0);var D=fE(t,l.draggable);if(!D||Sfe(e,k,this)&&!D.animated){if(D===St)return w(!1);if(D&&t===e.target&&(r=D),r&&(a=Vr(r)),mm(mr,t,St,i,r,a,e,!!r)!==!1)return h(),D&&D.nextSibling?t.insertBefore(St,D.nextSibling):t.appendChild(St),Mr=t,A(),w(!0)}else if(D&&Tfe(e,k,this)){var I=Cd(t,0,l,!0);if(I===St)return w(!1);if(r=I,a=Vr(r),mm(mr,t,St,i,r,a,e,!1)!==!1)return h(),t.insertBefore(St,I),Mr=t,A(),w(!0)}else if(r.parentNode===t){a=Vr(r);var O=0,F,$=St.parentNode!==t,z=!wfe(St.animated&&St.toRect||i,r.animated&&r.toRect||a,k),ee=k?"top":"left",me=mM(r,"top","top")||mM(St,"top","top"),ie=me?me.scrollTop:void 0;Xf!==r&&(F=a[ee],Ap=!1,vm=!z&&l.invertSwap||$),O=Efe(e,r,a,k,z?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,vm,Xf===r);var pe;if(O!==0){var be=xo(St);do be-=O,pe=Mr.children[be];while(pe&&(un(pe,"display")==="none"||pe===pn))}if(O===0||pe===r)return w(!1);Xf=r,Ep=O;var Ve=r.nextElementSibling,Ue=!1;Ue=O===1;var Ge=mm(mr,t,St,i,r,a,e,Ue);if(Ge!==!1)return(Ge===1||Ge===-1)&&(Ue=Ge===1),JT=!0,setTimeout(_fe,30),h(),Ue&&!Ve?t.appendChild(St):r.parentNode.insertBefore(St,Ue?Ve:r),me&&K3(me,0,ie-me.scrollTop),Mr=St.parentNode,F!==void 0&&!vm&&($m=Math.abs(F-Vr(r)[ee])),A(),w(!0)}if(t.contains(St))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Dn(document,"mousemove",this._onTouchMove),Dn(document,"touchmove",this._onTouchMove),Dn(document,"pointermove",this._onTouchMove),Dn(document,"dragover",gc),Dn(document,"mousemove",gc),Dn(document,"touchmove",gc)},_offUpEvents:function(){var e=this.el.ownerDocument;Dn(e,"mouseup",this._onDrop),Dn(e,"touchend",this._onDrop),Dn(e,"pointerup",this._onDrop),Dn(e,"pointercancel",this._onDrop),Dn(e,"touchcancel",this._onDrop),Dn(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;if(Qa=xo(St),pu=xo(St,r.draggable),xa("drop",this,{evt:e}),Mr=St&&St.parentNode,Qa=xo(St),pu=xo(St,r.draggable),cn.eventCanceled){this._nulling();return}od=!1,vm=!1,Ap=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),XT(this.cloneId),XT(this._dragStartId),this.nativeDraggable&&(Dn(document,"drop",this),Dn(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_p&&un(document.body,"user-select",""),un(St,"transform",""),e&&(dp&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),pn&&pn.parentNode&&pn.parentNode.removeChild(pn),(mr===Mr||mi&&mi.lastPutMode!=="clone")&&_r&&_r.parentNode&&_r.parentNode.removeChild(_r),St&&(this.nativeDraggable&&Dn(St,"dragend",this),N_(St),St.style["will-change"]="",dp&&!od&&Ka(St,mi?mi.options.ghostClass:this.options.ghostClass,!1),Ka(St,this.options.chosenClass,!1),ea({sortable:this,name:"unchoose",toEl:Mr,newIndex:null,newDraggableIndex:null,originalEvent:e}),mr!==Mr?(Qa>=0&&(ea({rootEl:Mr,name:"add",toEl:Mr,fromEl:mr,originalEvent:e}),ea({sortable:this,name:"remove",toEl:Mr,originalEvent:e}),ea({rootEl:Mr,name:"sort",toEl:Mr,fromEl:mr,originalEvent:e}),ea({sortable:this,name:"sort",toEl:Mr,originalEvent:e})),mi&&mi.save()):Qa!==cd&&Qa>=0&&(ea({sortable:this,name:"update",toEl:Mr,originalEvent:e}),ea({sortable:this,name:"sort",toEl:Mr,originalEvent:e})),cn.active&&((Qa==null||Qa===-1)&&(Qa=cd,pu=Sp),ea({sortable:this,name:"end",toEl:Mr,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){xa("nulling",this),mr=St=Mr=pn=xc=_r=Vm=yu=vc=ns=dp=Qa=pu=cd=Sp=Xf=Ep=mi=pm=cn.dragged=cn.ghost=cn.clone=cn.active=null,D0.forEach(function(e){e.checked=!0}),D0.length=E_=A_=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":St&&(this._onDragOver(e),kfe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,r=this.el.children,i=0,a=r.length,o=this.options;i<a;i++)t=r[i],as(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Mfe(t));return e},sort:function(e,t){var r={},i=this.el;this.toArray().forEach(function(a,o){var l=i.children[o];as(l,this.options.draggable,i,!1)&&(r[a]=l)},this),t&&this.captureAnimationState(),e.forEach(function(a){r[a]&&(i.removeChild(r[a]),i.appendChild(r[a]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return as(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(t===void 0)return r[e];var i=lv.modifyOption(this,e,t);typeof i<"u"?r[e]=i:r[e]=t,e==="group"&&tR(r)},destroy:function(){xa("destroy",this);var e=this.el;e[Sa]=null,Dn(e,"mousedown",this._onTapStart),Dn(e,"touchstart",this._onTapStart),Dn(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Dn(e,"dragover",this),Dn(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),N0.splice(N0.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!yu){if(xa("hideClone",this),cn.eventCanceled)return;un(_r,"display","none"),this.options.removeCloneOnHide&&_r.parentNode&&_r.parentNode.removeChild(_r),yu=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(yu){if(xa("showClone",this),cn.eventCanceled)return;St.parentNode==mr&&!this.options.group.revertClone?mr.insertBefore(_r,St):xc?mr.insertBefore(_r,xc):mr.appendChild(_r),this.options.group.revertClone&&this.animate(St,_r),un(_r,"display",""),yu=!1}}};function kfe(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function mm(n,e,t,r,i,a,o,l){var s,f=n[Sa],c=f.options.onMove,v;return window.CustomEvent&&!Hl&&!sv?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=n,s.dragged=t,s.draggedRect=r,s.related=i||e,s.relatedRect=a||Vr(e),s.willInsertAfter=l,s.originalEvent=o,n.dispatchEvent(s),c&&(v=c.call(f,s,o)),v}function N_(n){n.draggable=!1}function _fe(){JT=!1}function Tfe(n,e,t){var r=Vr(Cd(t.el,0,t.options,!0)),i=X3(t.el,t.options,pn),a=10;return e?n.clientX<i.left-a||n.clientY<r.top&&n.clientX<r.right:n.clientY<i.top-a||n.clientY<r.bottom&&n.clientX<r.left}function Sfe(n,e,t){var r=Vr(fE(t.el,t.options.draggable)),i=X3(t.el,t.options,pn),a=10;return e?n.clientX>i.right+a||n.clientY>r.bottom&&n.clientX>r.left:n.clientY>i.bottom+a||n.clientX>r.right&&n.clientY>r.top}function Efe(n,e,t,r,i,a,o,l){var s=r?n.clientY:n.clientX,f=r?t.height:t.width,c=r?t.top:t.left,v=r?t.bottom:t.right,y=!1;if(!o){if(l&&$m<f*i){if(!Ap&&(Ep===1?s>c+f*a/2:s<v-f*a/2)&&(Ap=!0),Ap)y=!0;else if(Ep===1?s<c+$m:s>v-$m)return-Ep}else if(s>c+f*(1-i)/2&&s<v-f*(1-i)/2)return Afe(e)}return y=y||o,y&&(s<c+f*a/2||s>v-f*a/2)?s>c+f/2?1:-1:0}function Afe(n){return xo(St)<xo(n)?1:-1}function Mfe(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,r=0;t--;)r+=e.charCodeAt(t);return r.toString(36)}function Nfe(n){D0.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var r=e[t];r.checked&&D0.push(r)}}function Wm(n){return setTimeout(n,0)}function XT(n){return clearTimeout(n)}E1&&Pn(document,"touchmove",function(n){(cn.active||od)&&n.cancelable&&n.preventDefault()});cn.utils={on:Pn,off:Dn,css:un,find:Y3,is:function(e,t){return!!as(e,t,e,!1)},extend:dfe,throttle:Z3,closest:as,toggleClass:Ka,clone:J3,index:xo,nextTick:Wm,cancelNextTick:XT,detectDirection:eR,getChild:Cd,expando:Sa};cn.get=function(n){return n[Sa]};cn.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(cn.utils=Ws(Ws({},cn.utils),r.utils)),lv.mount(r)})};cn.create=function(n,e){return new cn(n,e)};cn.version=cfe;var Ur=[],hp,QT,eS=!1,D_,L_,L0,pp;function Dfe(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var r=t.originalEvent;this.sortable.nativeDraggable?Pn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Pn(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Pn(document,"touchmove",this._handleFallbackAutoScroll):Pn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var r=t.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Dn(document,"dragover",this._handleAutoScroll):(Dn(document,"pointermove",this._handleFallbackAutoScroll),Dn(document,"touchmove",this._handleFallbackAutoScroll),Dn(document,"mousemove",this._handleFallbackAutoScroll)),xM(),Gm(),hfe()},nulling:function(){L0=QT=hp=eS=pp=D_=L_=null,Ur.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,r){var i=this,a=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(a,o);if(L0=t,r||this.options.forceAutoScrollFallback||sv||Hl||_p){O_(t,this.options,l,r);var s=xu(l,!0);eS&&(!pp||a!==D_||o!==L_)&&(pp&&xM(),pp=setInterval(function(){var f=xu(document.elementFromPoint(a,o),!0);f!==s&&(s=f,Gm()),O_(t,i.options,f,r)},10),D_=a,L_=o)}else{if(!this.options.bubbleScroll||xu(l,!0)===qs()){Gm();return}O_(t,this.options,xu(l,!1),!1)}}},Il(n,{pluginName:"scroll",initializeByDefault:!0})}function Gm(){Ur.forEach(function(n){clearInterval(n.pid)}),Ur=[]}function xM(){clearInterval(pp)}var O_=Z3(function(n,e,t,r){if(e.scroll){var i=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,o=e.scrollSensitivity,l=e.scrollSpeed,s=qs(),f=!1,c;QT!==t&&(QT=t,Gm(),hp=e.scroll,c=e.scrollFn,hp===!0&&(hp=xu(t,!0)));var v=0,y=hp;do{var k=y,x=Vr(k),R=x.top,d=x.bottom,h=x.left,w=x.right,A=x.width,D=x.height,I=void 0,O=void 0,F=k.scrollWidth,$=k.scrollHeight,z=un(k),ee=k.scrollLeft,me=k.scrollTop;k===s?(I=A<F&&(z.overflowX==="auto"||z.overflowX==="scroll"||z.overflowX==="visible"),O=D<$&&(z.overflowY==="auto"||z.overflowY==="scroll"||z.overflowY==="visible")):(I=A<F&&(z.overflowX==="auto"||z.overflowX==="scroll"),O=D<$&&(z.overflowY==="auto"||z.overflowY==="scroll"));var ie=I&&(Math.abs(w-i)<=o&&ee+A<F)-(Math.abs(h-i)<=o&&!!ee),pe=O&&(Math.abs(d-a)<=o&&me+D<$)-(Math.abs(R-a)<=o&&!!me);if(!Ur[v])for(var be=0;be<=v;be++)Ur[be]||(Ur[be]={});(Ur[v].vx!=ie||Ur[v].vy!=pe||Ur[v].el!==k)&&(Ur[v].el=k,Ur[v].vx=ie,Ur[v].vy=pe,clearInterval(Ur[v].pid),(ie!=0||pe!=0)&&(f=!0,Ur[v].pid=setInterval((function(){r&&this.layer===0&&cn.active._onTouchMove(L0);var Ve=Ur[this.layer].vy?Ur[this.layer].vy*l:0,Ue=Ur[this.layer].vx?Ur[this.layer].vx*l:0;typeof c=="function"&&c.call(cn.dragged.parentNode[Sa],Ue,Ve,n,L0,Ur[this.layer].el)!=="continue"||K3(Ur[this.layer].el,Ue,Ve)}).bind({layer:v}),24))),v++}while(e.bubbleScroll&&y!==s&&(y=xu(y,!1)));eS=f}},30),iR=function(e){var t=e.originalEvent,r=e.putSortable,i=e.dragEl,a=e.activeSortable,o=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var f=r||a;l();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,v=document.elementFromPoint(c.clientX,c.clientY);s(),f&&!f.el.contains(v)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function dE(){}dE.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Cd(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:iR};Il(dE,{pluginName:"revertOnSpill"});function hE(){}hE.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:iR};Il(hE,{pluginName:"removeOnSpill"});cn.mount(new Dfe);cn.mount(hE,dE);var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vp={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Lfe=vp.exports,kM;function Ofe(){return kM||(kM=1,function(n,e){(function(){var t,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",f=500,c="__lodash_placeholder__",v=1,y=2,k=4,x=1,R=2,d=1,h=2,w=4,A=8,D=16,I=32,O=64,F=128,$=256,z=512,ee=30,me="...",ie=800,pe=16,be=1,Ve=2,Ue=3,Ge=1/0,Be=9007199254740991,Je=17976931348623157e292,ye=NaN,Me=4294967295,we=Me-1,Fe=Me>>>1,ke=[["ary",F],["bind",d],["bindKey",h],["curry",A],["curryRight",D],["flip",z],["partial",I],["partialRight",O],["rearg",$]],Ae="[object Arguments]",Ee="[object Array]",Ce="[object AsyncFunction]",ve="[object Boolean]",ge="[object Date]",fe="[object DOMException]",Re="[object Error]",We="[object Function]",it="[object GeneratorFunction]",ht="[object Map]",xt="[object Number]",Dt="[object Null]",Yt="[object Object]",Mt="[object Promise]",on="[object Proxy]",Wt="[object RegExp]",fn="[object Set]",Zt="[object String]",gn="[object Symbol]",En="[object Undefined]",$t="[object WeakMap]",Rn="[object WeakSet]",bt="[object ArrayBuffer]",mt="[object DataView]",Et="[object Float32Array]",Ft="[object Float64Array]",Gt="[object Int8Array]",Nn="[object Int16Array]",hn="[object Int32Array]",an="[object Uint8Array]",Qt="[object Uint8ClampedArray]",lr="[object Uint16Array]",Hn="[object Uint32Array]",Er=/\b__p \+= '';/g,fr=/\b(__p \+=) '' \+/g,dr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qn=/&(?:amp|lt|gt|quot|#39);/g,ar=/[&<>"']/g,Ar=RegExp(Qn.source),se=RegExp(ar.source),he=/<%-([\s\S]+?)%>/g,Oe=/<%([\s\S]+?)%>/g,Xe=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(V.source),K=/^\s+/,de=/\s/,qe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,et=/\{\n\/\* \[wrapped with (.+)\] \*/,Ne=/,? & /,_e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ze=/[()=,{}\[\]\/\s]/,nt=/\\(\\)?/g,wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ht=/\w*$/,J=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,T=/^\[object .+?Constructor\]$/,M=/^0o[0-7]+$/i,q=/^(?:0|[1-9]\d*)$/,X=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oe=/($^)/,Te=/['\n\r\u2028\u2029\\]/g,ze="\\ud800-\\udfff",Ke="\\u0300-\\u036f",ft="\\ufe20-\\ufe2f",pt="\\u20d0-\\u20ff",kt=Ke+ft+pt,Rt="\\u2700-\\u27bf",mn="a-z\\xdf-\\xf6\\xf8-\\xff",qn="\\xac\\xb1\\xd7\\xf7",Ti="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ia="\\u2000-\\u206f",oo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ks="A-Z\\xc0-\\xd6\\xd8-\\xde",ms="\\ufe0e\\ufe0f",so=qn+Ti+Ia+oo,Si="['â]",fa="["+ze+"]",ys="["+so+"]",jr="["+kt+"]",bs="\\d+",ws="["+Rt+"]",Bo="["+mn+"]",Po="[^"+ze+so+bs+Rt+mn+Ks+"]",Fo="\\ud83c[\\udffb-\\udfff]",da="(?:"+jr+"|"+Fo+")",lo="[^"+ze+"]",uo="(?:\\ud83c[\\udde6-\\uddff]){2}",Ei="[\\ud800-\\udbff][\\udc00-\\udfff]",Ba="["+Ks+"]",Js="\\u200d",Pa="(?:"+Bo+"|"+Po+")",ha="(?:"+Ba+"|"+Po+")",Wi="(?:"+Si+"(?:d|ll|m|re|s|t|ve))?",zo="(?:"+Si+"(?:D|LL|M|RE|S|T|VE))?",co=da+"?",Fa="["+ms+"]?",Gi="(?:"+Js+"(?:"+[lo,uo,Ei].join("|")+")"+Fa+co+")*",Xs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Uu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ui=Fa+co+Gi,Vl="(?:"+[ws,uo,Ei].join("|")+")"+ui,$l="(?:"+[lo+jr+"?",jr,uo,Ei,fa].join("|")+")",Cs=RegExp(Si,"g"),Wl=RegExp(jr,"g"),pa=RegExp(Fo+"(?="+Fo+")|"+$l+ui,"g"),Ai=RegExp([Ba+"?"+Bo+"+"+Wi+"(?="+[ys,Ba,"$"].join("|")+")",ha+"+"+zo+"(?="+[ys,Ba+Pa,"$"].join("|")+")",Ba+"?"+Pa+"+"+Wi,Ba+"+"+zo,Uu,Xs,bs,Vl].join("|"),"g"),Qs=RegExp("["+Js+ze+kt+ms+"]"),Gl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vu=-1,_t={};_t[Et]=_t[Ft]=_t[Gt]=_t[Nn]=_t[hn]=_t[an]=_t[Qt]=_t[lr]=_t[Hn]=!0,_t[Ae]=_t[Ee]=_t[bt]=_t[ve]=_t[mt]=_t[ge]=_t[Re]=_t[We]=_t[ht]=_t[xt]=_t[Yt]=_t[Wt]=_t[fn]=_t[Zt]=_t[$t]=!1;var He={};He[Ae]=He[Ee]=He[bt]=He[mt]=He[ve]=He[ge]=He[Et]=He[Ft]=He[Gt]=He[Nn]=He[hn]=He[ht]=He[xt]=He[Yt]=He[Wt]=He[fn]=He[Zt]=He[gn]=He[an]=He[Qt]=He[lr]=He[Hn]=!0,He[Re]=He[We]=He[$t]=!1;var Ct={Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"},qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},In={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},br={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wr=parseFloat,hr=parseInt,ci=typeof ym=="object"&&ym&&ym.Object===Object&&ym,fo=typeof self=="object"&&self&&self.Object===Object&&self,ur=ci||fo||Function("return this")(),xs=e&&!e.nodeType&&e,va=xs&&!0&&n&&!n.nodeType&&n,ef=va&&va.exports===xs,$u=ef&&ci.process,Mi=function(){try{var $e=va&&va.require&&va.require("util").types;return $e||$u&&$u.binding&&$u.binding("util")}catch{}}(),tf=Mi&&Mi.isArrayBuffer,Fr=Mi&&Mi.isDate,zr=Mi&&Mi.isMap,nf=Mi&&Mi.isRegExp,rf=Mi&&Mi.isSet,af=Mi&&Mi.isTypedArray;function pr($e,st,Qe){switch(Qe.length){case 0:return $e.call(st);case 1:return $e.call(st,Qe[0]);case 2:return $e.call(st,Qe[0],Qe[1]);case 3:return $e.call(st,Qe[0],Qe[1],Qe[2])}return $e.apply(st,Qe)}function $d($e,st,Qe,Bt){for(var sn=-1,Bn=$e==null?0:$e.length;++sn<Bn;){var Cr=$e[sn];st(Bt,Cr,Qe(Cr),$e)}return Bt}function ti($e,st){for(var Qe=-1,Bt=$e==null?0:$e.length;++Qe<Bt&&st($e[Qe],Qe,$e)!==!1;);return $e}function Wu($e,st){for(var Qe=$e==null?0:$e.length;Qe--&&st($e[Qe],Qe,$e)!==!1;);return $e}function of($e,st){for(var Qe=-1,Bt=$e==null?0:$e.length;++Qe<Bt;)if(!st($e[Qe],Qe,$e))return!1;return!0}function ho($e,st){for(var Qe=-1,Bt=$e==null?0:$e.length,sn=0,Bn=[];++Qe<Bt;){var Cr=$e[Qe];st(Cr,Qe,$e)&&(Bn[sn++]=Cr)}return Bn}function Ho($e,st){var Qe=$e==null?0:$e.length;return!!Qe&&ks($e,st,0)>-1}function Gu($e,st,Qe){for(var Bt=-1,sn=$e==null?0:$e.length;++Bt<sn;)if(Qe(st,$e[Bt]))return!0;return!1}function Kn($e,st){for(var Qe=-1,Bt=$e==null?0:$e.length,sn=Array(Bt);++Qe<Bt;)sn[Qe]=st($e[Qe],Qe,$e);return sn}function fi($e,st){for(var Qe=-1,Bt=st.length,sn=$e.length;++Qe<Bt;)$e[sn+Qe]=st[Qe];return $e}function ju($e,st,Qe,Bt){var sn=-1,Bn=$e==null?0:$e.length;for(Bt&&Bn&&(Qe=$e[++sn]);++sn<Bn;)Qe=st(Qe,$e[sn],sn,$e);return Qe}function Wd($e,st,Qe,Bt){var sn=$e==null?0:$e.length;for(Bt&&sn&&(Qe=$e[--sn]);sn--;)Qe=st(Qe,$e[sn],sn,$e);return Qe}function Yu($e,st){for(var Qe=-1,Bt=$e==null?0:$e.length;++Qe<Bt;)if(st($e[Qe],Qe,$e))return!0;return!1}var Gd=Zl("length");function jd($e){return $e.split("")}function Yd($e){return $e.match(_e)||[]}function Yl($e,st,Qe){var Bt;return Qe($e,function(sn,Bn,Cr){if(st(sn,Bn,Cr))return Bt=Bn,!1}),Bt}function el($e,st,Qe,Bt){for(var sn=$e.length,Bn=Qe+(Bt?1:-1);Bt?Bn--:++Bn<sn;)if(st($e[Bn],Bn,$e))return Bn;return-1}function ks($e,st,Qe){return st===st?Jd($e,st,Qe):el($e,lf,Qe)}function sf($e,st,Qe,Bt){for(var sn=Qe-1,Bn=$e.length;++sn<Bn;)if(Bt($e[sn],st))return sn;return-1}function lf($e){return $e!==$e}function Zu($e,st){var Qe=$e==null?0:$e.length;return Qe?Ju($e,st)/Qe:ye}function Zl($e){return function(st){return st==null?t:st[$e]}}function Ku($e){return function(st){return $e==null?t:$e[st]}}function uf($e,st,Qe,Bt,sn){return sn($e,function(Bn,Cr,Yn){Qe=Bt?(Bt=!1,Bn):st(Qe,Bn,Cr,Yn)}),Qe}function tl($e,st){var Qe=$e.length;for($e.sort(st);Qe--;)$e[Qe]=$e[Qe].value;return $e}function Ju($e,st){for(var Qe,Bt=-1,sn=$e.length;++Bt<sn;){var Bn=st($e[Bt]);Bn!==t&&(Qe=Qe===t?Bn:Qe+Bn)}return Qe}function qo($e,st){for(var Qe=-1,Bt=Array($e);++Qe<$e;)Bt[Qe]=st(Qe);return Bt}function Zd($e,st){return Kn(st,function(Qe){return[Qe,$e[Qe]]})}function cf($e){return $e&&$e.slice(0,po($e)+1).replace(K,"")}function Nr($e){return function(st){return $e(st)}}function Kl($e,st){return Kn(st,function(Qe){return $e[Qe]})}function _s($e,st){return $e.has(st)}function ff($e,st){for(var Qe=-1,Bt=$e.length;++Qe<Bt&&ks(st,$e[Qe],0)>-1;);return Qe}function Xu($e,st){for(var Qe=$e.length;Qe--&&ks(st,$e[Qe],0)>-1;);return Qe}function df($e,st){for(var Qe=$e.length,Bt=0;Qe--;)$e[Qe]===st&&++Bt;return Bt}var nl=Ku(Ct),hf=Ku(qt);function rl($e){return"\\"+br[$e]}function Kd($e,st){return $e==null?t:$e[st]}function Ni($e){return Qs.test($e)}function Ts($e){return Gl.test($e)}function Uo($e){for(var st,Qe=[];!(st=$e.next()).done;)Qe.push(st.value);return Qe}function di($e){var st=-1,Qe=Array($e.size);return $e.forEach(function(Bt,sn){Qe[++st]=[sn,Bt]}),Qe}function Dr($e,st){return function(Qe){return $e(st(Qe))}}function za($e,st){for(var Qe=-1,Bt=$e.length,sn=0,Bn=[];++Qe<Bt;){var Cr=$e[Qe];(Cr===st||Cr===c)&&($e[Qe]=c,Bn[sn++]=Qe)}return Bn}function Jl($e){var st=-1,Qe=Array($e.size);return $e.forEach(function(Bt){Qe[++st]=Bt}),Qe}function pf($e){var st=-1,Qe=Array($e.size);return $e.forEach(function(Bt){Qe[++st]=[Bt,Bt]}),Qe}function Jd($e,st,Qe){for(var Bt=Qe-1,sn=$e.length;++Bt<sn;)if($e[Bt]===st)return Bt;return-1}function vf($e,st,Qe){for(var Bt=Qe+1;Bt--;)if($e[Bt]===st)return Bt;return Bt}function Vo($e){return Ni($e)?gf($e):Gd($e)}function ni($e){return Ni($e)?ec($e):jd($e)}function po($e){for(var st=$e.length;st--&&de.test($e.charAt(st)););return st}var Qu=Ku(In);function gf($e){for(var st=pa.lastIndex=0;pa.test($e);)++st;return st}function ec($e){return $e.match(pa)||[]}function Xd($e){return $e.match(Ai)||[]}var Qd=function $e(st){st=st==null?ur:Ss.defaults(ur.Object(),st,Ss.pick(ur,jl));var Qe=st.Array,Bt=st.Date,sn=st.Error,Bn=st.Function,Cr=st.Math,Yn=st.Object,tc=st.RegExp,eh=st.String,Di=st.TypeError,il=Qe.prototype,th=Bn.prototype,Es=Yn.prototype,As=st["__core-js_shared__"],Xl=th.toString,Fn=Es.hasOwnProperty,nh=0,mf=function(){var u=/[^.]+$/.exec(As&&As.keys&&As.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Ql=Es.toString,yf=Xl.call(Yn),bf=ur._,wf=tc("^"+Xl.call(Fn).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eu=ef?st.Buffer:t,Ha=st.Symbol,tu=st.Uint8Array,nc=eu?eu.allocUnsafe:t,g=Dr(Yn.getPrototypeOf,Yn),E=Yn.create,m=Es.propertyIsEnumerable,S=il.splice,L=Ha?Ha.isConcatSpreadable:t,B=Ha?Ha.iterator:t,W=Ha?Ha.toStringTag:t,j=function(){try{var u=cl(Yn,"defineProperty");return u({},"",{}),u}catch{}}(),re=st.clearTimeout!==ur.clearTimeout&&st.clearTimeout,le=Bt&&Bt.now!==ur.Date.now&&Bt.now,De=st.setTimeout!==ur.setTimeout&&st.setTimeout,Ye=Cr.ceil,Pe=Cr.floor,tt=Yn.getOwnPropertySymbols,ct=eu?eu.isBuffer:t,Tt=st.isFinite,It=il.join,yt=Dr(Yn.keys,Yn),Jt=Cr.max,jt=Cr.min,Kt=Bt.now,xn=st.parseInt,Un=Cr.random,nr=il.reverse,hi=cl(st,"DataView"),or=cl(st,"Map"),Hr=cl(st,"Promise"),rr=cl(st,"Set"),qa=cl(st,"WeakMap"),Yr=cl(Yn,"create"),Ua=qa&&new qa,Lr={},vr=fl(hi),rh=fl(or),ih=fl(Hr),nu=fl(rr),$o=fl(qa),al=Ha?Ha.prototype:t,Ms=al?al.valueOf:t,mv=al?al.toString:t;function ae(u){if(gr(u)&&!dn(u)&&!(u instanceof Tn)){if(u instanceof ga)return u;if(Fn.call(u,"__wrapped__"))return yg(u)}return new ga(u)}var ru=function(){function u(){}return function(p){if(!cr(p))return{};if(E)return E(p);u.prototype=p;var _=new u;return u.prototype=t,_}}();function Cf(){}function ga(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=t}ae.templateSettings={escape:he,evaluate:Oe,interpolate:Xe,variable:"",imports:{_:ae}},ae.prototype=Cf.prototype,ae.prototype.constructor=ae,ga.prototype=ru(Cf.prototype),ga.prototype.constructor=ga;function Tn(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Me,this.__views__=[]}function J1(){var u=new Tn(this.__wrapped__);return u.__actions__=Li(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Li(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Li(this.__views__),u}function X1(){if(this.__filtered__){var u=new Tn(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Q1(){var u=this.__wrapped__.value(),p=this.__dir__,_=dn(u),H=p<0,Q=_?u.length:0,ce=fb(0,Q,this.__views__),Se=ce.start,Ie=ce.end,je=Ie-Se,lt=H?Ie:Se-1,ut=this.__iteratees__,vt=ut.length,Nt=0,Ut=jt(je,this.__takeCount__);if(!_||!H&&Q==je&&Ut==je)return qv(u,this.__actions__);var nn=[];e:for(;je--&&Nt<Ut;){lt+=p;for(var bn=-1,rn=u[lt];++bn<vt;){var _n=ut[bn],An=_n.iteratee,Zi=_n.type,gi=An(rn);if(Zi==Ve)rn=gi;else if(!gi){if(Zi==be)continue e;break e}}nn[Nt++]=rn}return nn}Tn.prototype=ru(Cf.prototype),Tn.prototype.constructor=Tn;function ol(u){var p=-1,_=u==null?0:u.length;for(this.clear();++p<_;){var H=u[p];this.set(H[0],H[1])}}function ey(){this.__data__=Yr?Yr(null):{},this.size=0}function ty(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function ny(u){var p=this.__data__;if(Yr){var _=p[u];return _===s?t:_}return Fn.call(p,u)?p[u]:t}function ry(u){var p=this.__data__;return Yr?p[u]!==t:Fn.call(p,u)}function iy(u,p){var _=this.__data__;return this.size+=this.has(u)?0:1,_[u]=Yr&&p===t?s:p,this}ol.prototype.clear=ey,ol.prototype.delete=ty,ol.prototype.get=ny,ol.prototype.has=ry,ol.prototype.set=iy;function Wo(u){var p=-1,_=u==null?0:u.length;for(this.clear();++p<_;){var H=u[p];this.set(H[0],H[1])}}function ay(){this.__data__=[],this.size=0}function oy(u){var p=this.__data__,_=xf(p,u);if(_<0)return!1;var H=p.length-1;return _==H?p.pop():S.call(p,_,1),--this.size,!0}function sy(u){var p=this.__data__,_=xf(p,u);return _<0?t:p[_][1]}function ly(u){return xf(this.__data__,u)>-1}function uy(u,p){var _=this.__data__,H=xf(_,u);return H<0?(++this.size,_.push([u,p])):_[H][1]=p,this}Wo.prototype.clear=ay,Wo.prototype.delete=oy,Wo.prototype.get=sy,Wo.prototype.has=ly,Wo.prototype.set=uy;function Go(u){var p=-1,_=u==null?0:u.length;for(this.clear();++p<_;){var H=u[p];this.set(H[0],H[1])}}function cy(){this.size=0,this.__data__={hash:new ol,map:new(or||Wo),string:new ol}}function fy(u){var p=Rf(this,u).delete(u);return this.size-=p?1:0,p}function dy(u){return Rf(this,u).get(u)}function hy(u){return Rf(this,u).has(u)}function py(u,p){var _=Rf(this,u),H=_.size;return _.set(u,p),this.size+=_.size==H?0:1,this}Go.prototype.clear=cy,Go.prototype.delete=fy,Go.prototype.get=dy,Go.prototype.has=hy,Go.prototype.set=py;function sl(u){var p=-1,_=u==null?0:u.length;for(this.__data__=new Go;++p<_;)this.add(u[p])}function vy(u){return this.__data__.set(u,s),this}function gy(u){return this.__data__.has(u)}sl.prototype.add=sl.prototype.push=vy,sl.prototype.has=gy;function Va(u){var p=this.__data__=new Wo(u);this.size=p.size}function my(){this.__data__=new Wo,this.size=0}function yy(u){var p=this.__data__,_=p.delete(u);return this.size=p.size,_}function by(u){return this.__data__.get(u)}function wy(u){return this.__data__.has(u)}function Cy(u,p){var _=this.__data__;if(_ instanceof Wo){var H=_.__data__;if(!or||H.length<i-1)return H.push([u,p]),this.size=++_.size,this;_=this.__data__=new Go(H)}return _.set(u,p),this.size=_.size,this}Va.prototype.clear=my,Va.prototype.delete=yy,Va.prototype.get=by,Va.prototype.has=wy,Va.prototype.set=Cy;function yv(u,p){var _=dn(u),H=!_&&dl(u),Q=!_&&!H&&Rs(u),ce=!_&&!H&&!Q&&su(u),Se=_||H||Q||ce,Ie=Se?qo(u.length,eh):[],je=Ie.length;for(var lt in u)(p||Fn.call(u,lt))&&!(Se&&(lt=="length"||Q&&(lt=="offset"||lt=="parent")||ce&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||Ko(lt,je)))&&Ie.push(lt);return Ie}function bv(u){var p=u.length;return p?u[vh(0,p-1)]:t}function xy(u,p){return If(Li(u),ll(p,0,u.length))}function ky(u){return If(Li(u))}function ah(u,p,_){(_!==t&&!$a(u[p],_)||_===t&&!(p in u))&&jo(u,p,_)}function rc(u,p,_){var H=u[p];(!(Fn.call(u,p)&&$a(H,_))||_===t&&!(p in u))&&jo(u,p,_)}function xf(u,p){for(var _=u.length;_--;)if($a(u[_][0],p))return _;return-1}function _y(u,p,_,H){return Ns(u,function(Q,ce,Se){p(H,Q,_(Q),Se)}),H}function wv(u,p){return u&&go(p,qr(p),u)}function Ty(u,p){return u&&go(p,Ri(p),u)}function jo(u,p,_){p=="__proto__"&&j?j(u,p,{configurable:!0,enumerable:!0,value:_,writable:!0}):u[p]=_}function oh(u,p){for(var _=-1,H=p.length,Q=Qe(H),ce=u==null;++_<H;)Q[_]=ce?t:Hh(u,p[_]);return Q}function ll(u,p,_){return u===u&&(_!==t&&(u=u<=_?u:_),p!==t&&(u=u>=p?u:p)),u}function ma(u,p,_,H,Q,ce){var Se,Ie=p&v,je=p&y,lt=p&k;if(_&&(Se=Q?_(u,H,Q,ce):_(u)),Se!==t)return Se;if(!cr(u))return u;var ut=dn(u);if(ut){if(Se=hb(u),!Ie)return Li(u,Se)}else{var vt=ri(u),Nt=vt==We||vt==it;if(Rs(u))return $v(u,Ie);if(vt==Yt||vt==Ae||Nt&&!Q){if(Se=je||Nt?{}:ug(u),!Ie)return je?nb(u,Ty(Se,u)):tb(u,wv(Se,u))}else{if(!He[vt])return Q?u:{};Se=pb(u,vt,Ie)}}ce||(ce=new Va);var Ut=ce.get(u);if(Ut)return Ut;ce.set(u,Se),Fg(u)?u.forEach(function(rn){Se.add(ma(rn,p,_,rn,u,ce))}):Bg(u)&&u.forEach(function(rn,_n){Se.set(_n,ma(rn,p,_,_n,u,ce))});var nn=lt?je?Sh:Th:je?Ri:qr,bn=ut?t:nn(u);return ti(bn||u,function(rn,_n){bn&&(_n=rn,rn=u[_n]),rc(Se,_n,ma(rn,p,_,_n,u,ce))}),Se}function Sy(u){var p=qr(u);return function(_){return Cv(_,u,p)}}function Cv(u,p,_){var H=_.length;if(u==null)return!H;for(u=Yn(u);H--;){var Q=_[H],ce=p[Q],Se=u[Q];if(Se===t&&!(Q in u)||!ce(Se))return!1}return!0}function xv(u,p,_){if(typeof u!="function")throw new Di(o);return cc(function(){u.apply(t,_)},p)}function ic(u,p,_,H){var Q=-1,ce=Ho,Se=!0,Ie=u.length,je=[],lt=p.length;if(!Ie)return je;_&&(p=Kn(p,Nr(_))),H?(ce=Gu,Se=!1):p.length>=i&&(ce=_s,Se=!1,p=new sl(p));e:for(;++Q<Ie;){var ut=u[Q],vt=_==null?ut:_(ut);if(ut=H||ut!==0?ut:0,Se&&vt===vt){for(var Nt=lt;Nt--;)if(p[Nt]===vt)continue e;je.push(ut)}else ce(p,vt,H)||je.push(ut)}return je}var Ns=Zv(vo),kv=Zv(lh,!0);function Ey(u,p){var _=!0;return Ns(u,function(H,Q,ce){return _=!!p(H,Q,ce),_}),_}function kf(u,p,_){for(var H=-1,Q=u.length;++H<Q;){var ce=u[H],Se=p(ce);if(Se!=null&&(Ie===t?Se===Se&&!Yi(Se):_(Se,Ie)))var Ie=Se,je=ce}return je}function Ay(u,p,_,H){var Q=u.length;for(_=yn(_),_<0&&(_=-_>Q?0:Q+_),H=H===t||H>Q?Q:yn(H),H<0&&(H+=Q),H=_>H?0:Hg(H);_<H;)u[_++]=p;return u}function _v(u,p){var _=[];return Ns(u,function(H,Q,ce){p(H,Q,ce)&&_.push(H)}),_}function Zr(u,p,_,H,Q){var ce=-1,Se=u.length;for(_||(_=gb),Q||(Q=[]);++ce<Se;){var Ie=u[ce];p>0&&_(Ie)?p>1?Zr(Ie,p-1,_,H,Q):fi(Q,Ie):H||(Q[Q.length]=Ie)}return Q}var sh=Kv(),Tv=Kv(!0);function vo(u,p){return u&&sh(u,p,qr)}function lh(u,p){return u&&Tv(u,p,qr)}function _f(u,p){return ho(p,function(_){return Jo(u[_])})}function ul(u,p){p=Ls(p,u);for(var _=0,H=p.length;u!=null&&_<H;)u=u[mo(p[_++])];return _&&_==H?u:t}function Sv(u,p,_){var H=p(u);return dn(u)?H:fi(H,_(u))}function pi(u){return u==null?u===t?En:Dt:W&&W in Yn(u)?cb(u):kb(u)}function uh(u,p){return u>p}function My(u,p){return u!=null&&Fn.call(u,p)}function Ny(u,p){return u!=null&&p in Yn(u)}function Dy(u,p,_){return u>=jt(p,_)&&u<Jt(p,_)}function ch(u,p,_){for(var H=_?Gu:Ho,Q=u[0].length,ce=u.length,Se=ce,Ie=Qe(ce),je=1/0,lt=[];Se--;){var ut=u[Se];Se&&p&&(ut=Kn(ut,Nr(p))),je=jt(ut.length,je),Ie[Se]=!_&&(p||Q>=120&&ut.length>=120)?new sl(Se&&ut):t}ut=u[0];var vt=-1,Nt=Ie[0];e:for(;++vt<Q&&lt.length<je;){var Ut=ut[vt],nn=p?p(Ut):Ut;if(Ut=_||Ut!==0?Ut:0,!(Nt?_s(Nt,nn):H(lt,nn,_))){for(Se=ce;--Se;){var bn=Ie[Se];if(!(bn?_s(bn,nn):H(u[Se],nn,_)))continue e}Nt&&Nt.push(nn),lt.push(Ut)}}return lt}function Ly(u,p,_,H){return vo(u,function(Q,ce,Se){p(H,_(Q),ce,Se)}),H}function ac(u,p,_){p=Ls(p,u),u=hg(u,p);var H=u==null?u:u[mo(ba(p))];return H==null?t:pr(H,u,_)}function Ev(u){return gr(u)&&pi(u)==Ae}function Oy(u){return gr(u)&&pi(u)==bt}function Ry(u){return gr(u)&&pi(u)==ge}function oc(u,p,_,H,Q){return u===p?!0:u==null||p==null||!gr(u)&&!gr(p)?u!==u&&p!==p:Iy(u,p,_,H,oc,Q)}function Iy(u,p,_,H,Q,ce){var Se=dn(u),Ie=dn(p),je=Se?Ee:ri(u),lt=Ie?Ee:ri(p);je=je==Ae?Yt:je,lt=lt==Ae?Yt:lt;var ut=je==Yt,vt=lt==Yt,Nt=je==lt;if(Nt&&Rs(u)){if(!Rs(p))return!1;Se=!0,ut=!1}if(Nt&&!ut)return ce||(ce=new Va),Se||su(u)?og(u,p,_,H,Q,ce):lb(u,p,je,_,H,Q,ce);if(!(_&x)){var Ut=ut&&Fn.call(u,"__wrapped__"),nn=vt&&Fn.call(p,"__wrapped__");if(Ut||nn){var bn=Ut?u.value():u,rn=nn?p.value():p;return ce||(ce=new Va),Q(bn,rn,_,H,ce)}}return Nt?(ce||(ce=new Va),ub(u,p,_,H,Q,ce)):!1}function By(u){return gr(u)&&ri(u)==ht}function fh(u,p,_,H){var Q=_.length,ce=Q,Se=!H;if(u==null)return!ce;for(u=Yn(u);Q--;){var Ie=_[Q];if(Se&&Ie[2]?Ie[1]!==u[Ie[0]]:!(Ie[0]in u))return!1}for(;++Q<ce;){Ie=_[Q];var je=Ie[0],lt=u[je],ut=Ie[1];if(Se&&Ie[2]){if(lt===t&&!(je in u))return!1}else{var vt=new Va;if(H)var Nt=H(lt,ut,je,u,p,vt);if(!(Nt===t?oc(ut,lt,x|R,H,vt):Nt))return!1}}return!0}function Av(u){if(!cr(u)||yb(u))return!1;var p=Jo(u)?wf:T;return p.test(fl(u))}function Py(u){return gr(u)&&pi(u)==Wt}function Fy(u){return gr(u)&&ri(u)==fn}function zy(u){return gr(u)&&qf(u.length)&&!!_t[pi(u)]}function Mv(u){return typeof u=="function"?u:u==null?Ii:typeof u=="object"?dn(u)?Lv(u[0],u[1]):Dv(u):Jg(u)}function dh(u){if(!uc(u))return yt(u);var p=[];for(var _ in Yn(u))Fn.call(u,_)&&_!="constructor"&&p.push(_);return p}function Hy(u){if(!cr(u))return xb(u);var p=uc(u),_=[];for(var H in u)H=="constructor"&&(p||!Fn.call(u,H))||_.push(H);return _}function hh(u,p){return u<p}function Nv(u,p){var _=-1,H=Oi(u)?Qe(u.length):[];return Ns(u,function(Q,ce,Se){H[++_]=p(Q,ce,Se)}),H}function Dv(u){var p=Ah(u);return p.length==1&&p[0][2]?fg(p[0][0],p[0][1]):function(_){return _===u||fh(_,u,p)}}function Lv(u,p){return Nh(u)&&cg(p)?fg(mo(u),p):function(_){var H=Hh(_,u);return H===t&&H===p?qh(_,u):oc(p,H,x|R)}}function Tf(u,p,_,H,Q){u!==p&&sh(p,function(ce,Se){if(Q||(Q=new Va),cr(ce))qy(u,p,Se,_,Tf,H,Q);else{var Ie=H?H(Lh(u,Se),ce,Se+"",u,p,Q):t;Ie===t&&(Ie=ce),ah(u,Se,Ie)}},Ri)}function qy(u,p,_,H,Q,ce,Se){var Ie=Lh(u,_),je=Lh(p,_),lt=Se.get(je);if(lt){ah(u,_,lt);return}var ut=ce?ce(Ie,je,_+"",u,p,Se):t,vt=ut===t;if(vt){var Nt=dn(je),Ut=!Nt&&Rs(je),nn=!Nt&&!Ut&&su(je);ut=je,Nt||Ut||nn?dn(Ie)?ut=Ie:xr(Ie)?ut=Li(Ie):Ut?(vt=!1,ut=$v(je,!0)):nn?(vt=!1,ut=Wv(je,!0)):ut=[]:fc(je)||dl(je)?(ut=Ie,dl(Ie)?ut=qg(Ie):(!cr(Ie)||Jo(Ie))&&(ut=ug(je))):vt=!1}vt&&(Se.set(je,ut),Q(ut,je,H,ce,Se),Se.delete(je)),ah(u,_,ut)}function Ov(u,p){var _=u.length;if(_)return p+=p<0?_:0,Ko(p,_)?u[p]:t}function Rv(u,p,_){p.length?p=Kn(p,function(ce){return dn(ce)?function(Se){return ul(Se,ce.length===1?ce[0]:ce)}:ce}):p=[Ii];var H=-1;p=Kn(p,Nr(tn()));var Q=Nv(u,function(ce,Se,Ie){var je=Kn(p,function(lt){return lt(ce)});return{criteria:je,index:++H,value:ce}});return tl(Q,function(ce,Se){return eb(ce,Se,_)})}function Uy(u,p){return Iv(u,p,function(_,H){return qh(u,H)})}function Iv(u,p,_){for(var H=-1,Q=p.length,ce={};++H<Q;){var Se=p[H],Ie=ul(u,Se);_(Ie,Se)&&sc(ce,Ls(Se,u),Ie)}return ce}function Vy(u){return function(p){return ul(p,u)}}function ph(u,p,_,H){var Q=H?sf:ks,ce=-1,Se=p.length,Ie=u;for(u===p&&(p=Li(p)),_&&(Ie=Kn(u,Nr(_)));++ce<Se;)for(var je=0,lt=p[ce],ut=_?_(lt):lt;(je=Q(Ie,ut,je,H))>-1;)Ie!==u&&S.call(Ie,je,1),S.call(u,je,1);return u}function Bv(u,p){for(var _=u?p.length:0,H=_-1;_--;){var Q=p[_];if(_==H||Q!==ce){var ce=Q;Ko(Q)?S.call(u,Q,1):yh(u,Q)}}return u}function vh(u,p){return u+Pe(Un()*(p-u+1))}function $y(u,p,_,H){for(var Q=-1,ce=Jt(Ye((p-u)/(_||1)),0),Se=Qe(ce);ce--;)Se[H?ce:++Q]=u,u+=_;return Se}function gh(u,p){var _="";if(!u||p<1||p>Be)return _;do p%2&&(_+=u),p=Pe(p/2),p&&(u+=u);while(p);return _}function kn(u,p){return Oh(dg(u,p,Ii),u+"")}function Wy(u){return bv(lu(u))}function Gy(u,p){var _=lu(u);return If(_,ll(p,0,_.length))}function sc(u,p,_,H){if(!cr(u))return u;p=Ls(p,u);for(var Q=-1,ce=p.length,Se=ce-1,Ie=u;Ie!=null&&++Q<ce;){var je=mo(p[Q]),lt=_;if(je==="__proto__"||je==="constructor"||je==="prototype")return u;if(Q!=Se){var ut=Ie[je];lt=H?H(ut,je,Ie):t,lt===t&&(lt=cr(ut)?ut:Ko(p[Q+1])?[]:{})}rc(Ie,je,lt),Ie=Ie[je]}return u}var Pv=Ua?function(u,p){return Ua.set(u,p),u}:Ii,jy=j?function(u,p){return j(u,"toString",{configurable:!0,enumerable:!1,value:Vh(p),writable:!0})}:Ii;function Yy(u){return If(lu(u))}function ya(u,p,_){var H=-1,Q=u.length;p<0&&(p=-p>Q?0:Q+p),_=_>Q?Q:_,_<0&&(_+=Q),Q=p>_?0:_-p>>>0,p>>>=0;for(var ce=Qe(Q);++H<Q;)ce[H]=u[H+p];return ce}function Zy(u,p){var _;return Ns(u,function(H,Q,ce){return _=p(H,Q,ce),!_}),!!_}function Sf(u,p,_){var H=0,Q=u==null?H:u.length;if(typeof p=="number"&&p===p&&Q<=Fe){for(;H<Q;){var ce=H+Q>>>1,Se=u[ce];Se!==null&&!Yi(Se)&&(_?Se<=p:Se<p)?H=ce+1:Q=ce}return Q}return mh(u,p,Ii,_)}function mh(u,p,_,H){var Q=0,ce=u==null?0:u.length;if(ce===0)return 0;p=_(p);for(var Se=p!==p,Ie=p===null,je=Yi(p),lt=p===t;Q<ce;){var ut=Pe((Q+ce)/2),vt=_(u[ut]),Nt=vt!==t,Ut=vt===null,nn=vt===vt,bn=Yi(vt);if(Se)var rn=H||nn;else lt?rn=nn&&(H||Nt):Ie?rn=nn&&Nt&&(H||!Ut):je?rn=nn&&Nt&&!Ut&&(H||!bn):Ut||bn?rn=!1:rn=H?vt<=p:vt<p;rn?Q=ut+1:ce=ut}return jt(ce,we)}function Fv(u,p){for(var _=-1,H=u.length,Q=0,ce=[];++_<H;){var Se=u[_],Ie=p?p(Se):Se;if(!_||!$a(Ie,je)){var je=Ie;ce[Q++]=Se===0?0:Se}}return ce}function zv(u){return typeof u=="number"?u:Yi(u)?ye:+u}function ji(u){if(typeof u=="string")return u;if(dn(u))return Kn(u,ji)+"";if(Yi(u))return mv?mv.call(u):"";var p=u+"";return p=="0"&&1/u==-1/0?"-0":p}function Ds(u,p,_){var H=-1,Q=Ho,ce=u.length,Se=!0,Ie=[],je=Ie;if(_)Se=!1,Q=Gu;else if(ce>=i){var lt=p?null:ob(u);if(lt)return Jl(lt);Se=!1,Q=_s,je=new sl}else je=p?[]:Ie;e:for(;++H<ce;){var ut=u[H],vt=p?p(ut):ut;if(ut=_||ut!==0?ut:0,Se&&vt===vt){for(var Nt=je.length;Nt--;)if(je[Nt]===vt)continue e;p&&je.push(vt),Ie.push(ut)}else Q(je,vt,_)||(je!==Ie&&je.push(vt),Ie.push(ut))}return Ie}function yh(u,p){return p=Ls(p,u),u=hg(u,p),u==null||delete u[mo(ba(p))]}function Hv(u,p,_,H){return sc(u,p,_(ul(u,p)),H)}function Ef(u,p,_,H){for(var Q=u.length,ce=H?Q:-1;(H?ce--:++ce<Q)&&p(u[ce],ce,u););return _?ya(u,H?0:ce,H?ce+1:Q):ya(u,H?ce+1:0,H?Q:ce)}function qv(u,p){var _=u;return _ instanceof Tn&&(_=_.value()),ju(p,function(H,Q){return Q.func.apply(Q.thisArg,fi([H],Q.args))},_)}function bh(u,p,_){var H=u.length;if(H<2)return H?Ds(u[0]):[];for(var Q=-1,ce=Qe(H);++Q<H;)for(var Se=u[Q],Ie=-1;++Ie<H;)Ie!=Q&&(ce[Q]=ic(ce[Q]||Se,u[Ie],p,_));return Ds(Zr(ce,1),p,_)}function Uv(u,p,_){for(var H=-1,Q=u.length,ce=p.length,Se={};++H<Q;){var Ie=H<ce?p[H]:t;_(Se,u[H],Ie)}return Se}function wh(u){return xr(u)?u:[]}function Ch(u){return typeof u=="function"?u:Ii}function Ls(u,p){return dn(u)?u:Nh(u,p)?[u]:mg(Wn(u))}var Ky=kn;function Os(u,p,_){var H=u.length;return _=_===t?H:_,!p&&_>=H?u:ya(u,p,_)}var Vv=re||function(u){return ur.clearTimeout(u)};function $v(u,p){if(p)return u.slice();var _=u.length,H=nc?nc(_):new u.constructor(_);return u.copy(H),H}function xh(u){var p=new u.constructor(u.byteLength);return new tu(p).set(new tu(u)),p}function Jy(u,p){var _=p?xh(u.buffer):u.buffer;return new u.constructor(_,u.byteOffset,u.byteLength)}function Xy(u){var p=new u.constructor(u.source,Ht.exec(u));return p.lastIndex=u.lastIndex,p}function Qy(u){return Ms?Yn(Ms.call(u)):{}}function Wv(u,p){var _=p?xh(u.buffer):u.buffer;return new u.constructor(_,u.byteOffset,u.length)}function Gv(u,p){if(u!==p){var _=u!==t,H=u===null,Q=u===u,ce=Yi(u),Se=p!==t,Ie=p===null,je=p===p,lt=Yi(p);if(!Ie&&!lt&&!ce&&u>p||ce&&Se&&je&&!Ie&&!lt||H&&Se&&je||!_&&je||!Q)return 1;if(!H&&!ce&&!lt&&u<p||lt&&_&&Q&&!H&&!ce||Ie&&_&&Q||!Se&&Q||!je)return-1}return 0}function eb(u,p,_){for(var H=-1,Q=u.criteria,ce=p.criteria,Se=Q.length,Ie=_.length;++H<Se;){var je=Gv(Q[H],ce[H]);if(je){if(H>=Ie)return je;var lt=_[H];return je*(lt=="desc"?-1:1)}}return u.index-p.index}function jv(u,p,_,H){for(var Q=-1,ce=u.length,Se=_.length,Ie=-1,je=p.length,lt=Jt(ce-Se,0),ut=Qe(je+lt),vt=!H;++Ie<je;)ut[Ie]=p[Ie];for(;++Q<Se;)(vt||Q<ce)&&(ut[_[Q]]=u[Q]);for(;lt--;)ut[Ie++]=u[Q++];return ut}function Yv(u,p,_,H){for(var Q=-1,ce=u.length,Se=-1,Ie=_.length,je=-1,lt=p.length,ut=Jt(ce-Ie,0),vt=Qe(ut+lt),Nt=!H;++Q<ut;)vt[Q]=u[Q];for(var Ut=Q;++je<lt;)vt[Ut+je]=p[je];for(;++Se<Ie;)(Nt||Q<ce)&&(vt[Ut+_[Se]]=u[Q++]);return vt}function Li(u,p){var _=-1,H=u.length;for(p||(p=Qe(H));++_<H;)p[_]=u[_];return p}function go(u,p,_,H){var Q=!_;_||(_={});for(var ce=-1,Se=p.length;++ce<Se;){var Ie=p[ce],je=H?H(_[Ie],u[Ie],Ie,_,u):t;je===t&&(je=u[Ie]),Q?jo(_,Ie,je):rc(_,Ie,je)}return _}function tb(u,p){return go(u,Mh(u),p)}function nb(u,p){return go(u,sg(u),p)}function Af(u,p){return function(_,H){var Q=dn(_)?$d:_y,ce=p?p():{};return Q(_,u,tn(H,2),ce)}}function iu(u){return kn(function(p,_){var H=-1,Q=_.length,ce=Q>1?_[Q-1]:t,Se=Q>2?_[2]:t;for(ce=u.length>3&&typeof ce=="function"?(Q--,ce):t,Se&&vi(_[0],_[1],Se)&&(ce=Q<3?t:ce,Q=1),p=Yn(p);++H<Q;){var Ie=_[H];Ie&&u(p,Ie,H,ce)}return p})}function Zv(u,p){return function(_,H){if(_==null)return _;if(!Oi(_))return u(_,H);for(var Q=_.length,ce=p?Q:-1,Se=Yn(_);(p?ce--:++ce<Q)&&H(Se[ce],ce,Se)!==!1;);return _}}function Kv(u){return function(p,_,H){for(var Q=-1,ce=Yn(p),Se=H(p),Ie=Se.length;Ie--;){var je=Se[u?Ie:++Q];if(_(ce[je],je,ce)===!1)break}return p}}function rb(u,p,_){var H=p&d,Q=lc(u);function ce(){var Se=this&&this!==ur&&this instanceof ce?Q:u;return Se.apply(H?_:this,arguments)}return ce}function Jv(u){return function(p){p=Wn(p);var _=Ni(p)?ni(p):t,H=_?_[0]:p.charAt(0),Q=_?Os(_,1).join(""):p.slice(1);return H[u]()+Q}}function au(u){return function(p){return ju(Zg(Yg(p).replace(Cs,"")),u,"")}}function lc(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var _=ru(u.prototype),H=u.apply(_,p);return cr(H)?H:_}}function ib(u,p,_){var H=lc(u);function Q(){for(var ce=arguments.length,Se=Qe(ce),Ie=ce,je=ou(Q);Ie--;)Se[Ie]=arguments[Ie];var lt=ce<3&&Se[0]!==je&&Se[ce-1]!==je?[]:za(Se,je);if(ce-=lt.length,ce<_)return ng(u,p,Mf,Q.placeholder,t,Se,lt,t,t,_-ce);var ut=this&&this!==ur&&this instanceof Q?H:u;return pr(ut,this,Se)}return Q}function Xv(u){return function(p,_,H){var Q=Yn(p);if(!Oi(p)){var ce=tn(_,3);p=qr(p),_=function(Ie){return ce(Q[Ie],Ie,Q)}}var Se=u(p,_,H);return Se>-1?Q[ce?p[Se]:Se]:t}}function Qv(u){return Zo(function(p){var _=p.length,H=_,Q=ga.prototype.thru;for(u&&p.reverse();H--;){var ce=p[H];if(typeof ce!="function")throw new Di(o);if(Q&&!Se&&Of(ce)=="wrapper")var Se=new ga([],!0)}for(H=Se?H:_;++H<_;){ce=p[H];var Ie=Of(ce),je=Ie=="wrapper"?Eh(ce):t;je&&Dh(je[0])&&je[1]==(F|A|I|$)&&!je[4].length&&je[9]==1?Se=Se[Of(je[0])].apply(Se,je[3]):Se=ce.length==1&&Dh(ce)?Se[Ie]():Se.thru(ce)}return function(){var lt=arguments,ut=lt[0];if(Se&&lt.length==1&&dn(ut))return Se.plant(ut).value();for(var vt=0,Nt=_?p[vt].apply(this,lt):ut;++vt<_;)Nt=p[vt].call(this,Nt);return Nt}})}function Mf(u,p,_,H,Q,ce,Se,Ie,je,lt){var ut=p&F,vt=p&d,Nt=p&h,Ut=p&(A|D),nn=p&z,bn=Nt?t:lc(u);function rn(){for(var _n=arguments.length,An=Qe(_n),Zi=_n;Zi--;)An[Zi]=arguments[Zi];if(Ut)var gi=ou(rn),Ki=df(An,gi);if(H&&(An=jv(An,H,Q,Ut)),ce&&(An=Yv(An,ce,Se,Ut)),_n-=Ki,Ut&&_n<lt){var kr=za(An,gi);return ng(u,p,Mf,rn.placeholder,_,An,kr,Ie,je,lt-_n)}var Wa=vt?_:this,Qo=Nt?Wa[u]:u;return _n=An.length,Ie?An=_b(An,Ie):nn&&_n>1&&An.reverse(),ut&&je<_n&&(An.length=je),this&&this!==ur&&this instanceof rn&&(Qo=bn||lc(Qo)),Qo.apply(Wa,An)}return rn}function eg(u,p){return function(_,H){return Ly(_,u,p(H),{})}}function Nf(u,p){return function(_,H){var Q;if(_===t&&H===t)return p;if(_!==t&&(Q=_),H!==t){if(Q===t)return H;typeof _=="string"||typeof H=="string"?(_=ji(_),H=ji(H)):(_=zv(_),H=zv(H)),Q=u(_,H)}return Q}}function kh(u){return Zo(function(p){return p=Kn(p,Nr(tn())),kn(function(_){var H=this;return u(p,function(Q){return pr(Q,H,_)})})})}function Df(u,p){p=p===t?" ":ji(p);var _=p.length;if(_<2)return _?gh(p,u):p;var H=gh(p,Ye(u/Vo(p)));return Ni(p)?Os(ni(H),0,u).join(""):H.slice(0,u)}function ab(u,p,_,H){var Q=p&d,ce=lc(u);function Se(){for(var Ie=-1,je=arguments.length,lt=-1,ut=H.length,vt=Qe(ut+je),Nt=this&&this!==ur&&this instanceof Se?ce:u;++lt<ut;)vt[lt]=H[lt];for(;je--;)vt[lt++]=arguments[++Ie];return pr(Nt,Q?_:this,vt)}return Se}function tg(u){return function(p,_,H){return H&&typeof H!="number"&&vi(p,_,H)&&(_=H=t),p=Xo(p),_===t?(_=p,p=0):_=Xo(_),H=H===t?p<_?1:-1:Xo(H),$y(p,_,H,u)}}function Lf(u){return function(p,_){return typeof p=="string"&&typeof _=="string"||(p=wa(p),_=wa(_)),u(p,_)}}function ng(u,p,_,H,Q,ce,Se,Ie,je,lt){var ut=p&A,vt=ut?Se:t,Nt=ut?t:Se,Ut=ut?ce:t,nn=ut?t:ce;p|=ut?I:O,p&=~(ut?O:I),p&w||(p&=-4);var bn=[u,p,Q,Ut,vt,nn,Nt,Ie,je,lt],rn=_.apply(t,bn);return Dh(u)&&pg(rn,bn),rn.placeholder=H,vg(rn,u,p)}function _h(u){var p=Cr[u];return function(_,H){if(_=wa(_),H=H==null?0:jt(yn(H),292),H&&Tt(_)){var Q=(Wn(_)+"e").split("e"),ce=p(Q[0]+"e"+(+Q[1]+H));return Q=(Wn(ce)+"e").split("e"),+(Q[0]+"e"+(+Q[1]-H))}return p(_)}}var ob=rr&&1/Jl(new rr([,-0]))[1]==Ge?function(u){return new rr(u)}:Gh;function rg(u){return function(p){var _=ri(p);return _==ht?di(p):_==fn?pf(p):Zd(p,u(p))}}function Yo(u,p,_,H,Q,ce,Se,Ie){var je=p&h;if(!je&&typeof u!="function")throw new Di(o);var lt=H?H.length:0;if(lt||(p&=-97,H=Q=t),Se=Se===t?Se:Jt(yn(Se),0),Ie=Ie===t?Ie:yn(Ie),lt-=Q?Q.length:0,p&O){var ut=H,vt=Q;H=Q=t}var Nt=je?t:Eh(u),Ut=[u,p,_,H,Q,ut,vt,ce,Se,Ie];if(Nt&&Cb(Ut,Nt),u=Ut[0],p=Ut[1],_=Ut[2],H=Ut[3],Q=Ut[4],Ie=Ut[9]=Ut[9]===t?je?0:u.length:Jt(Ut[9]-lt,0),!Ie&&p&(A|D)&&(p&=-25),!p||p==d)var nn=rb(u,p,_);else p==A||p==D?nn=ib(u,p,Ie):(p==I||p==(d|I))&&!Q.length?nn=ab(u,p,_,H):nn=Mf.apply(t,Ut);var bn=Nt?Pv:pg;return vg(bn(nn,Ut),u,p)}function ig(u,p,_,H){return u===t||$a(u,Es[_])&&!Fn.call(H,_)?p:u}function ag(u,p,_,H,Q,ce){return cr(u)&&cr(p)&&(ce.set(p,u),Tf(u,p,t,ag,ce),ce.delete(p)),u}function sb(u){return fc(u)?t:u}function og(u,p,_,H,Q,ce){var Se=_&x,Ie=u.length,je=p.length;if(Ie!=je&&!(Se&&je>Ie))return!1;var lt=ce.get(u),ut=ce.get(p);if(lt&&ut)return lt==p&&ut==u;var vt=-1,Nt=!0,Ut=_&R?new sl:t;for(ce.set(u,p),ce.set(p,u);++vt<Ie;){var nn=u[vt],bn=p[vt];if(H)var rn=Se?H(bn,nn,vt,p,u,ce):H(nn,bn,vt,u,p,ce);if(rn!==t){if(rn)continue;Nt=!1;break}if(Ut){if(!Yu(p,function(_n,An){if(!_s(Ut,An)&&(nn===_n||Q(nn,_n,_,H,ce)))return Ut.push(An)})){Nt=!1;break}}else if(!(nn===bn||Q(nn,bn,_,H,ce))){Nt=!1;break}}return ce.delete(u),ce.delete(p),Nt}function lb(u,p,_,H,Q,ce,Se){switch(_){case mt:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case bt:return!(u.byteLength!=p.byteLength||!ce(new tu(u),new tu(p)));case ve:case ge:case xt:return $a(+u,+p);case Re:return u.name==p.name&&u.message==p.message;case Wt:case Zt:return u==p+"";case ht:var Ie=di;case fn:var je=H&x;if(Ie||(Ie=Jl),u.size!=p.size&&!je)return!1;var lt=Se.get(u);if(lt)return lt==p;H|=R,Se.set(u,p);var ut=og(Ie(u),Ie(p),H,Q,ce,Se);return Se.delete(u),ut;case gn:if(Ms)return Ms.call(u)==Ms.call(p)}return!1}function ub(u,p,_,H,Q,ce){var Se=_&x,Ie=Th(u),je=Ie.length,lt=Th(p),ut=lt.length;if(je!=ut&&!Se)return!1;for(var vt=je;vt--;){var Nt=Ie[vt];if(!(Se?Nt in p:Fn.call(p,Nt)))return!1}var Ut=ce.get(u),nn=ce.get(p);if(Ut&&nn)return Ut==p&&nn==u;var bn=!0;ce.set(u,p),ce.set(p,u);for(var rn=Se;++vt<je;){Nt=Ie[vt];var _n=u[Nt],An=p[Nt];if(H)var Zi=Se?H(An,_n,Nt,p,u,ce):H(_n,An,Nt,u,p,ce);if(!(Zi===t?_n===An||Q(_n,An,_,H,ce):Zi)){bn=!1;break}rn||(rn=Nt=="constructor")}if(bn&&!rn){var gi=u.constructor,Ki=p.constructor;gi!=Ki&&"constructor"in u&&"constructor"in p&&!(typeof gi=="function"&&gi instanceof gi&&typeof Ki=="function"&&Ki instanceof Ki)&&(bn=!1)}return ce.delete(u),ce.delete(p),bn}function Zo(u){return Oh(dg(u,t,Cg),u+"")}function Th(u){return Sv(u,qr,Mh)}function Sh(u){return Sv(u,Ri,sg)}var Eh=Ua?function(u){return Ua.get(u)}:Gh;function Of(u){for(var p=u.name+"",_=Lr[p],H=Fn.call(Lr,p)?_.length:0;H--;){var Q=_[H],ce=Q.func;if(ce==null||ce==u)return Q.name}return p}function ou(u){var p=Fn.call(ae,"placeholder")?ae:u;return p.placeholder}function tn(){var u=ae.iteratee||$h;return u=u===$h?Mv:u,arguments.length?u(arguments[0],arguments[1]):u}function Rf(u,p){var _=u.__data__;return mb(p)?_[typeof p=="string"?"string":"hash"]:_.map}function Ah(u){for(var p=qr(u),_=p.length;_--;){var H=p[_],Q=u[H];p[_]=[H,Q,cg(Q)]}return p}function cl(u,p){var _=Kd(u,p);return Av(_)?_:t}function cb(u){var p=Fn.call(u,W),_=u[W];try{u[W]=t;var H=!0}catch{}var Q=Ql.call(u);return H&&(p?u[W]=_:delete u[W]),Q}var Mh=tt?function(u){return u==null?[]:(u=Yn(u),ho(tt(u),function(p){return m.call(u,p)}))}:jh,sg=tt?function(u){for(var p=[];u;)fi(p,Mh(u)),u=g(u);return p}:jh,ri=pi;(hi&&ri(new hi(new ArrayBuffer(1)))!=mt||or&&ri(new or)!=ht||Hr&&ri(Hr.resolve())!=Mt||rr&&ri(new rr)!=fn||qa&&ri(new qa)!=$t)&&(ri=function(u){var p=pi(u),_=p==Yt?u.constructor:t,H=_?fl(_):"";if(H)switch(H){case vr:return mt;case rh:return ht;case ih:return Mt;case nu:return fn;case $o:return $t}return p});function fb(u,p,_){for(var H=-1,Q=_.length;++H<Q;){var ce=_[H],Se=ce.size;switch(ce.type){case"drop":u+=Se;break;case"dropRight":p-=Se;break;case"take":p=jt(p,u+Se);break;case"takeRight":u=Jt(u,p-Se);break}}return{start:u,end:p}}function db(u){var p=u.match(et);return p?p[1].split(Ne):[]}function lg(u,p,_){p=Ls(p,u);for(var H=-1,Q=p.length,ce=!1;++H<Q;){var Se=mo(p[H]);if(!(ce=u!=null&&_(u,Se)))break;u=u[Se]}return ce||++H!=Q?ce:(Q=u==null?0:u.length,!!Q&&qf(Q)&&Ko(Se,Q)&&(dn(u)||dl(u)))}function hb(u){var p=u.length,_=new u.constructor(p);return p&&typeof u[0]=="string"&&Fn.call(u,"index")&&(_.index=u.index,_.input=u.input),_}function ug(u){return typeof u.constructor=="function"&&!uc(u)?ru(g(u)):{}}function pb(u,p,_){var H=u.constructor;switch(p){case bt:return xh(u);case ve:case ge:return new H(+u);case mt:return Jy(u,_);case Et:case Ft:case Gt:case Nn:case hn:case an:case Qt:case lr:case Hn:return Wv(u,_);case ht:return new H;case xt:case Zt:return new H(u);case Wt:return Xy(u);case fn:return new H;case gn:return Qy(u)}}function vb(u,p){var _=p.length;if(!_)return u;var H=_-1;return p[H]=(_>1?"& ":"")+p[H],p=p.join(_>2?", ":" "),u.replace(qe,`{
/* [wrapped with `+p+`] */
`)}function gb(u){return dn(u)||dl(u)||!!(L&&u&&u[L])}function Ko(u,p){var _=typeof u;return p=p??Be,!!p&&(_=="number"||_!="symbol"&&q.test(u))&&u>-1&&u%1==0&&u<p}function vi(u,p,_){if(!cr(_))return!1;var H=typeof p;return(H=="number"?Oi(_)&&Ko(p,_.length):H=="string"&&p in _)?$a(_[p],u):!1}function Nh(u,p){if(dn(u))return!1;var _=typeof u;return _=="number"||_=="symbol"||_=="boolean"||u==null||Yi(u)?!0:ne.test(u)||!te.test(u)||p!=null&&u in Yn(p)}function mb(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function Dh(u){var p=Of(u),_=ae[p];if(typeof _!="function"||!(p in Tn.prototype))return!1;if(u===_)return!0;var H=Eh(_);return!!H&&u===H[0]}function yb(u){return!!mf&&mf in u}var bb=As?Jo:Yh;function uc(u){var p=u&&u.constructor,_=typeof p=="function"&&p.prototype||Es;return u===_}function cg(u){return u===u&&!cr(u)}function fg(u,p){return function(_){return _==null?!1:_[u]===p&&(p!==t||u in Yn(_))}}function wb(u){var p=zf(u,function(H){return _.size===f&&_.clear(),H}),_=p.cache;return p}function Cb(u,p){var _=u[1],H=p[1],Q=_|H,ce=Q<(d|h|F),Se=H==F&&_==A||H==F&&_==$&&u[7].length<=p[8]||H==(F|$)&&p[7].length<=p[8]&&_==A;if(!(ce||Se))return u;H&d&&(u[2]=p[2],Q|=_&d?0:w);var Ie=p[3];if(Ie){var je=u[3];u[3]=je?jv(je,Ie,p[4]):Ie,u[4]=je?za(u[3],c):p[4]}return Ie=p[5],Ie&&(je=u[5],u[5]=je?Yv(je,Ie,p[6]):Ie,u[6]=je?za(u[5],c):p[6]),Ie=p[7],Ie&&(u[7]=Ie),H&F&&(u[8]=u[8]==null?p[8]:jt(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=Q,u}function xb(u){var p=[];if(u!=null)for(var _ in Yn(u))p.push(_);return p}function kb(u){return Ql.call(u)}function dg(u,p,_){return p=Jt(p===t?u.length-1:p,0),function(){for(var H=arguments,Q=-1,ce=Jt(H.length-p,0),Se=Qe(ce);++Q<ce;)Se[Q]=H[p+Q];Q=-1;for(var Ie=Qe(p+1);++Q<p;)Ie[Q]=H[Q];return Ie[p]=_(Se),pr(u,this,Ie)}}function hg(u,p){return p.length<2?u:ul(u,ya(p,0,-1))}function _b(u,p){for(var _=u.length,H=jt(p.length,_),Q=Li(u);H--;){var ce=p[H];u[H]=Ko(ce,_)?Q[ce]:t}return u}function Lh(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var pg=gg(Pv),cc=De||function(u,p){return ur.setTimeout(u,p)},Oh=gg(jy);function vg(u,p,_){var H=p+"";return Oh(u,vb(H,Tb(db(H),_)))}function gg(u){var p=0,_=0;return function(){var H=Kt(),Q=pe-(H-_);if(_=H,Q>0){if(++p>=ie)return arguments[0]}else p=0;return u.apply(t,arguments)}}function If(u,p){var _=-1,H=u.length,Q=H-1;for(p=p===t?H:p;++_<p;){var ce=vh(_,Q),Se=u[ce];u[ce]=u[_],u[_]=Se}return u.length=p,u}var mg=wb(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(G,function(_,H,Q,ce){p.push(Q?ce.replace(nt,"$1"):H||_)}),p});function mo(u){if(typeof u=="string"||Yi(u))return u;var p=u+"";return p=="0"&&1/u==-1/0?"-0":p}function fl(u){if(u!=null){try{return Xl.call(u)}catch{}try{return u+""}catch{}}return""}function Tb(u,p){return ti(ke,function(_){var H="_."+_[0];p&_[1]&&!Ho(u,H)&&u.push(H)}),u.sort()}function yg(u){if(u instanceof Tn)return u.clone();var p=new ga(u.__wrapped__,u.__chain__);return p.__actions__=Li(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function Sb(u,p,_){(_?vi(u,p,_):p===t)?p=1:p=Jt(yn(p),0);var H=u==null?0:u.length;if(!H||p<1)return[];for(var Q=0,ce=0,Se=Qe(Ye(H/p));Q<H;)Se[ce++]=ya(u,Q,Q+=p);return Se}function Eb(u){for(var p=-1,_=u==null?0:u.length,H=0,Q=[];++p<_;){var ce=u[p];ce&&(Q[H++]=ce)}return Q}function Ab(){var u=arguments.length;if(!u)return[];for(var p=Qe(u-1),_=arguments[0],H=u;H--;)p[H-1]=arguments[H];return fi(dn(_)?Li(_):[_],Zr(p,1))}var Mb=kn(function(u,p){return xr(u)?ic(u,Zr(p,1,xr,!0)):[]}),Nb=kn(function(u,p){var _=ba(p);return xr(_)&&(_=t),xr(u)?ic(u,Zr(p,1,xr,!0),tn(_,2)):[]}),Db=kn(function(u,p){var _=ba(p);return xr(_)&&(_=t),xr(u)?ic(u,Zr(p,1,xr,!0),t,_):[]});function Lb(u,p,_){var H=u==null?0:u.length;return H?(p=_||p===t?1:yn(p),ya(u,p<0?0:p,H)):[]}function Ob(u,p,_){var H=u==null?0:u.length;return H?(p=_||p===t?1:yn(p),p=H-p,ya(u,0,p<0?0:p)):[]}function Rb(u,p){return u&&u.length?Ef(u,tn(p,3),!0,!0):[]}function Ib(u,p){return u&&u.length?Ef(u,tn(p,3),!0):[]}function Bb(u,p,_,H){var Q=u==null?0:u.length;return Q?(_&&typeof _!="number"&&vi(u,p,_)&&(_=0,H=Q),Ay(u,p,_,H)):[]}function bg(u,p,_){var H=u==null?0:u.length;if(!H)return-1;var Q=_==null?0:yn(_);return Q<0&&(Q=Jt(H+Q,0)),el(u,tn(p,3),Q)}function wg(u,p,_){var H=u==null?0:u.length;if(!H)return-1;var Q=H-1;return _!==t&&(Q=yn(_),Q=_<0?Jt(H+Q,0):jt(Q,H-1)),el(u,tn(p,3),Q,!0)}function Cg(u){var p=u==null?0:u.length;return p?Zr(u,1):[]}function Pb(u){var p=u==null?0:u.length;return p?Zr(u,Ge):[]}function Fb(u,p){var _=u==null?0:u.length;return _?(p=p===t?1:yn(p),Zr(u,p)):[]}function zb(u){for(var p=-1,_=u==null?0:u.length,H={};++p<_;){var Q=u[p];H[Q[0]]=Q[1]}return H}function xg(u){return u&&u.length?u[0]:t}function Hb(u,p,_){var H=u==null?0:u.length;if(!H)return-1;var Q=_==null?0:yn(_);return Q<0&&(Q=Jt(H+Q,0)),ks(u,p,Q)}function qb(u){var p=u==null?0:u.length;return p?ya(u,0,-1):[]}var Ub=kn(function(u){var p=Kn(u,wh);return p.length&&p[0]===u[0]?ch(p):[]}),Vb=kn(function(u){var p=ba(u),_=Kn(u,wh);return p===ba(_)?p=t:_.pop(),_.length&&_[0]===u[0]?ch(_,tn(p,2)):[]}),$b=kn(function(u){var p=ba(u),_=Kn(u,wh);return p=typeof p=="function"?p:t,p&&_.pop(),_.length&&_[0]===u[0]?ch(_,t,p):[]});function Wb(u,p){return u==null?"":It.call(u,p)}function ba(u){var p=u==null?0:u.length;return p?u[p-1]:t}function Gb(u,p,_){var H=u==null?0:u.length;if(!H)return-1;var Q=H;return _!==t&&(Q=yn(_),Q=Q<0?Jt(H+Q,0):jt(Q,H-1)),p===p?vf(u,p,Q):el(u,lf,Q,!0)}function jb(u,p){return u&&u.length?Ov(u,yn(p)):t}var Yb=kn(kg);function kg(u,p){return u&&u.length&&p&&p.length?ph(u,p):u}function Zb(u,p,_){return u&&u.length&&p&&p.length?ph(u,p,tn(_,2)):u}function Kb(u,p,_){return u&&u.length&&p&&p.length?ph(u,p,t,_):u}var Jb=Zo(function(u,p){var _=u==null?0:u.length,H=oh(u,p);return Bv(u,Kn(p,function(Q){return Ko(Q,_)?+Q:Q}).sort(Gv)),H});function Xb(u,p){var _=[];if(!(u&&u.length))return _;var H=-1,Q=[],ce=u.length;for(p=tn(p,3);++H<ce;){var Se=u[H];p(Se,H,u)&&(_.push(Se),Q.push(H))}return Bv(u,Q),_}function Rh(u){return u==null?u:nr.call(u)}function Qb(u,p,_){var H=u==null?0:u.length;return H?(_&&typeof _!="number"&&vi(u,p,_)?(p=0,_=H):(p=p==null?0:yn(p),_=_===t?H:yn(_)),ya(u,p,_)):[]}function ew(u,p){return Sf(u,p)}function tw(u,p,_){return mh(u,p,tn(_,2))}function nw(u,p){var _=u==null?0:u.length;if(_){var H=Sf(u,p);if(H<_&&$a(u[H],p))return H}return-1}function rw(u,p){return Sf(u,p,!0)}function iw(u,p,_){return mh(u,p,tn(_,2),!0)}function aw(u,p){var _=u==null?0:u.length;if(_){var H=Sf(u,p,!0)-1;if($a(u[H],p))return H}return-1}function ow(u){return u&&u.length?Fv(u):[]}function sw(u,p){return u&&u.length?Fv(u,tn(p,2)):[]}function lw(u){var p=u==null?0:u.length;return p?ya(u,1,p):[]}function uw(u,p,_){return u&&u.length?(p=_||p===t?1:yn(p),ya(u,0,p<0?0:p)):[]}function cw(u,p,_){var H=u==null?0:u.length;return H?(p=_||p===t?1:yn(p),p=H-p,ya(u,p<0?0:p,H)):[]}function fw(u,p){return u&&u.length?Ef(u,tn(p,3),!1,!0):[]}function dw(u,p){return u&&u.length?Ef(u,tn(p,3)):[]}var hw=kn(function(u){return Ds(Zr(u,1,xr,!0))}),pw=kn(function(u){var p=ba(u);return xr(p)&&(p=t),Ds(Zr(u,1,xr,!0),tn(p,2))}),vw=kn(function(u){var p=ba(u);return p=typeof p=="function"?p:t,Ds(Zr(u,1,xr,!0),t,p)});function gw(u){return u&&u.length?Ds(u):[]}function mw(u,p){return u&&u.length?Ds(u,tn(p,2)):[]}function yw(u,p){return p=typeof p=="function"?p:t,u&&u.length?Ds(u,t,p):[]}function Ih(u){if(!(u&&u.length))return[];var p=0;return u=ho(u,function(_){if(xr(_))return p=Jt(_.length,p),!0}),qo(p,function(_){return Kn(u,Zl(_))})}function _g(u,p){if(!(u&&u.length))return[];var _=Ih(u);return p==null?_:Kn(_,function(H){return pr(p,t,H)})}var bw=kn(function(u,p){return xr(u)?ic(u,p):[]}),ww=kn(function(u){return bh(ho(u,xr))}),Cw=kn(function(u){var p=ba(u);return xr(p)&&(p=t),bh(ho(u,xr),tn(p,2))}),xw=kn(function(u){var p=ba(u);return p=typeof p=="function"?p:t,bh(ho(u,xr),t,p)}),kw=kn(Ih);function _w(u,p){return Uv(u||[],p||[],rc)}function Tw(u,p){return Uv(u||[],p||[],sc)}var Sw=kn(function(u){var p=u.length,_=p>1?u[p-1]:t;return _=typeof _=="function"?(u.pop(),_):t,_g(u,_)});function Tg(u){var p=ae(u);return p.__chain__=!0,p}function Ew(u,p){return p(u),u}function Bf(u,p){return p(u)}var Aw=Zo(function(u){var p=u.length,_=p?u[0]:0,H=this.__wrapped__,Q=function(ce){return oh(ce,u)};return p>1||this.__actions__.length||!(H instanceof Tn)||!Ko(_)?this.thru(Q):(H=H.slice(_,+_+(p?1:0)),H.__actions__.push({func:Bf,args:[Q],thisArg:t}),new ga(H,this.__chain__).thru(function(ce){return p&&!ce.length&&ce.push(t),ce}))});function Mw(){return Tg(this)}function Nw(){return new ga(this.value(),this.__chain__)}function Dw(){this.__values__===t&&(this.__values__=zg(this.value()));var u=this.__index__>=this.__values__.length,p=u?t:this.__values__[this.__index__++];return{done:u,value:p}}function Lw(){return this}function Ow(u){for(var p,_=this;_ instanceof Cf;){var H=yg(_);H.__index__=0,H.__values__=t,p?Q.__wrapped__=H:p=H;var Q=H;_=_.__wrapped__}return Q.__wrapped__=u,p}function Rw(){var u=this.__wrapped__;if(u instanceof Tn){var p=u;return this.__actions__.length&&(p=new Tn(this)),p=p.reverse(),p.__actions__.push({func:Bf,args:[Rh],thisArg:t}),new ga(p,this.__chain__)}return this.thru(Rh)}function Iw(){return qv(this.__wrapped__,this.__actions__)}var Bw=Af(function(u,p,_){Fn.call(u,_)?++u[_]:jo(u,_,1)});function Pw(u,p,_){var H=dn(u)?of:Ey;return _&&vi(u,p,_)&&(p=t),H(u,tn(p,3))}function Fw(u,p){var _=dn(u)?ho:_v;return _(u,tn(p,3))}var zw=Xv(bg),Hw=Xv(wg);function qw(u,p){return Zr(Pf(u,p),1)}function Uw(u,p){return Zr(Pf(u,p),Ge)}function Vw(u,p,_){return _=_===t?1:yn(_),Zr(Pf(u,p),_)}function Sg(u,p){var _=dn(u)?ti:Ns;return _(u,tn(p,3))}function Eg(u,p){var _=dn(u)?Wu:kv;return _(u,tn(p,3))}var $w=Af(function(u,p,_){Fn.call(u,_)?u[_].push(p):jo(u,_,[p])});function Ww(u,p,_,H){u=Oi(u)?u:lu(u),_=_&&!H?yn(_):0;var Q=u.length;return _<0&&(_=Jt(Q+_,0)),Uf(u)?_<=Q&&u.indexOf(p,_)>-1:!!Q&&ks(u,p,_)>-1}var Gw=kn(function(u,p,_){var H=-1,Q=typeof p=="function",ce=Oi(u)?Qe(u.length):[];return Ns(u,function(Se){ce[++H]=Q?pr(p,Se,_):ac(Se,p,_)}),ce}),jw=Af(function(u,p,_){jo(u,_,p)});function Pf(u,p){var _=dn(u)?Kn:Nv;return _(u,tn(p,3))}function Yw(u,p,_,H){return u==null?[]:(dn(p)||(p=p==null?[]:[p]),_=H?t:_,dn(_)||(_=_==null?[]:[_]),Rv(u,p,_))}var Zw=Af(function(u,p,_){u[_?0:1].push(p)},function(){return[[],[]]});function Kw(u,p,_){var H=dn(u)?ju:uf,Q=arguments.length<3;return H(u,tn(p,4),_,Q,Ns)}function Jw(u,p,_){var H=dn(u)?Wd:uf,Q=arguments.length<3;return H(u,tn(p,4),_,Q,kv)}function Xw(u,p){var _=dn(u)?ho:_v;return _(u,Hf(tn(p,3)))}function Qw(u){var p=dn(u)?bv:Wy;return p(u)}function eC(u,p,_){(_?vi(u,p,_):p===t)?p=1:p=yn(p);var H=dn(u)?xy:Gy;return H(u,p)}function tC(u){var p=dn(u)?ky:Yy;return p(u)}function nC(u){if(u==null)return 0;if(Oi(u))return Uf(u)?Vo(u):u.length;var p=ri(u);return p==ht||p==fn?u.size:dh(u).length}function rC(u,p,_){var H=dn(u)?Yu:Zy;return _&&vi(u,p,_)&&(p=t),H(u,tn(p,3))}var iC=kn(function(u,p){if(u==null)return[];var _=p.length;return _>1&&vi(u,p[0],p[1])?p=[]:_>2&&vi(p[0],p[1],p[2])&&(p=[p[0]]),Rv(u,Zr(p,1),[])}),Ff=le||function(){return ur.Date.now()};function aC(u,p){if(typeof p!="function")throw new Di(o);return u=yn(u),function(){if(--u<1)return p.apply(this,arguments)}}function Ag(u,p,_){return p=_?t:p,p=u&&p==null?u.length:p,Yo(u,F,t,t,t,t,p)}function Mg(u,p){var _;if(typeof p!="function")throw new Di(o);return u=yn(u),function(){return--u>0&&(_=p.apply(this,arguments)),u<=1&&(p=t),_}}var Bh=kn(function(u,p,_){var H=d;if(_.length){var Q=za(_,ou(Bh));H|=I}return Yo(u,H,p,_,Q)}),Ng=kn(function(u,p,_){var H=d|h;if(_.length){var Q=za(_,ou(Ng));H|=I}return Yo(p,H,u,_,Q)});function Dg(u,p,_){p=_?t:p;var H=Yo(u,A,t,t,t,t,t,p);return H.placeholder=Dg.placeholder,H}function Lg(u,p,_){p=_?t:p;var H=Yo(u,D,t,t,t,t,t,p);return H.placeholder=Lg.placeholder,H}function Og(u,p,_){var H,Q,ce,Se,Ie,je,lt=0,ut=!1,vt=!1,Nt=!0;if(typeof u!="function")throw new Di(o);p=wa(p)||0,cr(_)&&(ut=!!_.leading,vt="maxWait"in _,ce=vt?Jt(wa(_.maxWait)||0,p):ce,Nt="trailing"in _?!!_.trailing:Nt);function Ut(kr){var Wa=H,Qo=Q;return H=Q=t,lt=kr,Se=u.apply(Qo,Wa),Se}function nn(kr){return lt=kr,Ie=cc(_n,p),ut?Ut(kr):Se}function bn(kr){var Wa=kr-je,Qo=kr-lt,Xg=p-Wa;return vt?jt(Xg,ce-Qo):Xg}function rn(kr){var Wa=kr-je,Qo=kr-lt;return je===t||Wa>=p||Wa<0||vt&&Qo>=ce}function _n(){var kr=Ff();if(rn(kr))return An(kr);Ie=cc(_n,bn(kr))}function An(kr){return Ie=t,Nt&&H?Ut(kr):(H=Q=t,Se)}function Zi(){Ie!==t&&Vv(Ie),lt=0,H=je=Q=Ie=t}function gi(){return Ie===t?Se:An(Ff())}function Ki(){var kr=Ff(),Wa=rn(kr);if(H=arguments,Q=this,je=kr,Wa){if(Ie===t)return nn(je);if(vt)return Vv(Ie),Ie=cc(_n,p),Ut(je)}return Ie===t&&(Ie=cc(_n,p)),Se}return Ki.cancel=Zi,Ki.flush=gi,Ki}var oC=kn(function(u,p){return xv(u,1,p)}),sC=kn(function(u,p,_){return xv(u,wa(p)||0,_)});function lC(u){return Yo(u,z)}function zf(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new Di(o);var _=function(){var H=arguments,Q=p?p.apply(this,H):H[0],ce=_.cache;if(ce.has(Q))return ce.get(Q);var Se=u.apply(this,H);return _.cache=ce.set(Q,Se)||ce,Se};return _.cache=new(zf.Cache||Go),_}zf.Cache=Go;function Hf(u){if(typeof u!="function")throw new Di(o);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function uC(u){return Mg(2,u)}var cC=Ky(function(u,p){p=p.length==1&&dn(p[0])?Kn(p[0],Nr(tn())):Kn(Zr(p,1),Nr(tn()));var _=p.length;return kn(function(H){for(var Q=-1,ce=jt(H.length,_);++Q<ce;)H[Q]=p[Q].call(this,H[Q]);return pr(u,this,H)})}),Ph=kn(function(u,p){var _=za(p,ou(Ph));return Yo(u,I,t,p,_)}),Rg=kn(function(u,p){var _=za(p,ou(Rg));return Yo(u,O,t,p,_)}),fC=Zo(function(u,p){return Yo(u,$,t,t,t,p)});function dC(u,p){if(typeof u!="function")throw new Di(o);return p=p===t?p:yn(p),kn(u,p)}function hC(u,p){if(typeof u!="function")throw new Di(o);return p=p==null?0:Jt(yn(p),0),kn(function(_){var H=_[p],Q=Os(_,0,p);return H&&fi(Q,H),pr(u,this,Q)})}function pC(u,p,_){var H=!0,Q=!0;if(typeof u!="function")throw new Di(o);return cr(_)&&(H="leading"in _?!!_.leading:H,Q="trailing"in _?!!_.trailing:Q),Og(u,p,{leading:H,maxWait:p,trailing:Q})}function vC(u){return Ag(u,1)}function gC(u,p){return Ph(Ch(p),u)}function mC(){if(!arguments.length)return[];var u=arguments[0];return dn(u)?u:[u]}function yC(u){return ma(u,k)}function bC(u,p){return p=typeof p=="function"?p:t,ma(u,k,p)}function wC(u){return ma(u,v|k)}function CC(u,p){return p=typeof p=="function"?p:t,ma(u,v|k,p)}function xC(u,p){return p==null||Cv(u,p,qr(p))}function $a(u,p){return u===p||u!==u&&p!==p}var kC=Lf(uh),_C=Lf(function(u,p){return u>=p}),dl=Ev(function(){return arguments}())?Ev:function(u){return gr(u)&&Fn.call(u,"callee")&&!m.call(u,"callee")},dn=Qe.isArray,TC=tf?Nr(tf):Oy;function Oi(u){return u!=null&&qf(u.length)&&!Jo(u)}function xr(u){return gr(u)&&Oi(u)}function SC(u){return u===!0||u===!1||gr(u)&&pi(u)==ve}var Rs=ct||Yh,EC=Fr?Nr(Fr):Ry;function AC(u){return gr(u)&&u.nodeType===1&&!fc(u)}function MC(u){if(u==null)return!0;if(Oi(u)&&(dn(u)||typeof u=="string"||typeof u.splice=="function"||Rs(u)||su(u)||dl(u)))return!u.length;var p=ri(u);if(p==ht||p==fn)return!u.size;if(uc(u))return!dh(u).length;for(var _ in u)if(Fn.call(u,_))return!1;return!0}function NC(u,p){return oc(u,p)}function DC(u,p,_){_=typeof _=="function"?_:t;var H=_?_(u,p):t;return H===t?oc(u,p,t,_):!!H}function Fh(u){if(!gr(u))return!1;var p=pi(u);return p==Re||p==fe||typeof u.message=="string"&&typeof u.name=="string"&&!fc(u)}function LC(u){return typeof u=="number"&&Tt(u)}function Jo(u){if(!cr(u))return!1;var p=pi(u);return p==We||p==it||p==Ce||p==on}function Ig(u){return typeof u=="number"&&u==yn(u)}function qf(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Be}function cr(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function gr(u){return u!=null&&typeof u=="object"}var Bg=zr?Nr(zr):By;function OC(u,p){return u===p||fh(u,p,Ah(p))}function RC(u,p,_){return _=typeof _=="function"?_:t,fh(u,p,Ah(p),_)}function IC(u){return Pg(u)&&u!=+u}function BC(u){if(bb(u))throw new sn(a);return Av(u)}function PC(u){return u===null}function FC(u){return u==null}function Pg(u){return typeof u=="number"||gr(u)&&pi(u)==xt}function fc(u){if(!gr(u)||pi(u)!=Yt)return!1;var p=g(u);if(p===null)return!0;var _=Fn.call(p,"constructor")&&p.constructor;return typeof _=="function"&&_ instanceof _&&Xl.call(_)==yf}var zh=nf?Nr(nf):Py;function zC(u){return Ig(u)&&u>=-9007199254740991&&u<=Be}var Fg=rf?Nr(rf):Fy;function Uf(u){return typeof u=="string"||!dn(u)&&gr(u)&&pi(u)==Zt}function Yi(u){return typeof u=="symbol"||gr(u)&&pi(u)==gn}var su=af?Nr(af):zy;function HC(u){return u===t}function qC(u){return gr(u)&&ri(u)==$t}function UC(u){return gr(u)&&pi(u)==Rn}var VC=Lf(hh),$C=Lf(function(u,p){return u<=p});function zg(u){if(!u)return[];if(Oi(u))return Uf(u)?ni(u):Li(u);if(B&&u[B])return Uo(u[B]());var p=ri(u),_=p==ht?di:p==fn?Jl:lu;return _(u)}function Xo(u){if(!u)return u===0?u:0;if(u=wa(u),u===Ge||u===-1/0){var p=u<0?-1:1;return p*Je}return u===u?u:0}function yn(u){var p=Xo(u),_=p%1;return p===p?_?p-_:p:0}function Hg(u){return u?ll(yn(u),0,Me):0}function wa(u){if(typeof u=="number")return u;if(Yi(u))return ye;if(cr(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=cr(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=cf(u);var _=U.test(u);return _||M.test(u)?hr(u.slice(2),_?2:8):J.test(u)?ye:+u}function qg(u){return go(u,Ri(u))}function WC(u){return u?ll(yn(u),-9007199254740991,Be):u===0?u:0}function Wn(u){return u==null?"":ji(u)}var GC=iu(function(u,p){if(uc(p)||Oi(p)){go(p,qr(p),u);return}for(var _ in p)Fn.call(p,_)&&rc(u,_,p[_])}),Ug=iu(function(u,p){go(p,Ri(p),u)}),Vf=iu(function(u,p,_,H){go(p,Ri(p),u,H)}),jC=iu(function(u,p,_,H){go(p,qr(p),u,H)}),YC=Zo(oh);function ZC(u,p){var _=ru(u);return p==null?_:wv(_,p)}var KC=kn(function(u,p){u=Yn(u);var _=-1,H=p.length,Q=H>2?p[2]:t;for(Q&&vi(p[0],p[1],Q)&&(H=1);++_<H;)for(var ce=p[_],Se=Ri(ce),Ie=-1,je=Se.length;++Ie<je;){var lt=Se[Ie],ut=u[lt];(ut===t||$a(ut,Es[lt])&&!Fn.call(u,lt))&&(u[lt]=ce[lt])}return u}),JC=kn(function(u){return u.push(t,ag),pr(Vg,t,u)});function XC(u,p){return Yl(u,tn(p,3),vo)}function QC(u,p){return Yl(u,tn(p,3),lh)}function ex(u,p){return u==null?u:sh(u,tn(p,3),Ri)}function tx(u,p){return u==null?u:Tv(u,tn(p,3),Ri)}function nx(u,p){return u&&vo(u,tn(p,3))}function rx(u,p){return u&&lh(u,tn(p,3))}function ix(u){return u==null?[]:_f(u,qr(u))}function ax(u){return u==null?[]:_f(u,Ri(u))}function Hh(u,p,_){var H=u==null?t:ul(u,p);return H===t?_:H}function ox(u,p){return u!=null&&lg(u,p,My)}function qh(u,p){return u!=null&&lg(u,p,Ny)}var sx=eg(function(u,p,_){p!=null&&typeof p.toString!="function"&&(p=Ql.call(p)),u[p]=_},Vh(Ii)),lx=eg(function(u,p,_){p!=null&&typeof p.toString!="function"&&(p=Ql.call(p)),Fn.call(u,p)?u[p].push(_):u[p]=[_]},tn),ux=kn(ac);function qr(u){return Oi(u)?yv(u):dh(u)}function Ri(u){return Oi(u)?yv(u,!0):Hy(u)}function cx(u,p){var _={};return p=tn(p,3),vo(u,function(H,Q,ce){jo(_,p(H,Q,ce),H)}),_}function fx(u,p){var _={};return p=tn(p,3),vo(u,function(H,Q,ce){jo(_,Q,p(H,Q,ce))}),_}var dx=iu(function(u,p,_){Tf(u,p,_)}),Vg=iu(function(u,p,_,H){Tf(u,p,_,H)}),hx=Zo(function(u,p){var _={};if(u==null)return _;var H=!1;p=Kn(p,function(ce){return ce=Ls(ce,u),H||(H=ce.length>1),ce}),go(u,Sh(u),_),H&&(_=ma(_,v|y|k,sb));for(var Q=p.length;Q--;)yh(_,p[Q]);return _});function px(u,p){return $g(u,Hf(tn(p)))}var vx=Zo(function(u,p){return u==null?{}:Uy(u,p)});function $g(u,p){if(u==null)return{};var _=Kn(Sh(u),function(H){return[H]});return p=tn(p),Iv(u,_,function(H,Q){return p(H,Q[0])})}function gx(u,p,_){p=Ls(p,u);var H=-1,Q=p.length;for(Q||(Q=1,u=t);++H<Q;){var ce=u==null?t:u[mo(p[H])];ce===t&&(H=Q,ce=_),u=Jo(ce)?ce.call(u):ce}return u}function mx(u,p,_){return u==null?u:sc(u,p,_)}function yx(u,p,_,H){return H=typeof H=="function"?H:t,u==null?u:sc(u,p,_,H)}var Wg=rg(qr),Gg=rg(Ri);function bx(u,p,_){var H=dn(u),Q=H||Rs(u)||su(u);if(p=tn(p,4),_==null){var ce=u&&u.constructor;Q?_=H?new ce:[]:cr(u)?_=Jo(ce)?ru(g(u)):{}:_={}}return(Q?ti:vo)(u,function(Se,Ie,je){return p(_,Se,Ie,je)}),_}function wx(u,p){return u==null?!0:yh(u,p)}function Cx(u,p,_){return u==null?u:Hv(u,p,Ch(_))}function xx(u,p,_,H){return H=typeof H=="function"?H:t,u==null?u:Hv(u,p,Ch(_),H)}function lu(u){return u==null?[]:Kl(u,qr(u))}function kx(u){return u==null?[]:Kl(u,Ri(u))}function _x(u,p,_){return _===t&&(_=p,p=t),_!==t&&(_=wa(_),_=_===_?_:0),p!==t&&(p=wa(p),p=p===p?p:0),ll(wa(u),p,_)}function Tx(u,p,_){return p=Xo(p),_===t?(_=p,p=0):_=Xo(_),u=wa(u),Dy(u,p,_)}function Sx(u,p,_){if(_&&typeof _!="boolean"&&vi(u,p,_)&&(p=_=t),_===t&&(typeof p=="boolean"?(_=p,p=t):typeof u=="boolean"&&(_=u,u=t)),u===t&&p===t?(u=0,p=1):(u=Xo(u),p===t?(p=u,u=0):p=Xo(p)),u>p){var H=u;u=p,p=H}if(_||u%1||p%1){var Q=Un();return jt(u+Q*(p-u+wr("1e-"+((Q+"").length-1))),p)}return vh(u,p)}var Ex=au(function(u,p,_){return p=p.toLowerCase(),u+(_?jg(p):p)});function jg(u){return Uh(Wn(u).toLowerCase())}function Yg(u){return u=Wn(u),u&&u.replace(X,nl).replace(Wl,"")}function Ax(u,p,_){u=Wn(u),p=ji(p);var H=u.length;_=_===t?H:ll(yn(_),0,H);var Q=_;return _-=p.length,_>=0&&u.slice(_,Q)==p}function Mx(u){return u=Wn(u),u&&se.test(u)?u.replace(ar,hf):u}function Nx(u){return u=Wn(u),u&&Y.test(u)?u.replace(V,"\\$&"):u}var Dx=au(function(u,p,_){return u+(_?"-":"")+p.toLowerCase()}),Lx=au(function(u,p,_){return u+(_?" ":"")+p.toLowerCase()}),Ox=Jv("toLowerCase");function Rx(u,p,_){u=Wn(u),p=yn(p);var H=p?Vo(u):0;if(!p||H>=p)return u;var Q=(p-H)/2;return Df(Pe(Q),_)+u+Df(Ye(Q),_)}function Ix(u,p,_){u=Wn(u),p=yn(p);var H=p?Vo(u):0;return p&&H<p?u+Df(p-H,_):u}function Bx(u,p,_){u=Wn(u),p=yn(p);var H=p?Vo(u):0;return p&&H<p?Df(p-H,_)+u:u}function Px(u,p,_){return _||p==null?p=0:p&&(p=+p),xn(Wn(u).replace(K,""),p||0)}function Fx(u,p,_){return(_?vi(u,p,_):p===t)?p=1:p=yn(p),gh(Wn(u),p)}function zx(){var u=arguments,p=Wn(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var Hx=au(function(u,p,_){return u+(_?"_":"")+p.toLowerCase()});function qx(u,p,_){return _&&typeof _!="number"&&vi(u,p,_)&&(p=_=t),_=_===t?Me:_>>>0,_?(u=Wn(u),u&&(typeof p=="string"||p!=null&&!zh(p))&&(p=ji(p),!p&&Ni(u))?Os(ni(u),0,_):u.split(p,_)):[]}var Ux=au(function(u,p,_){return u+(_?" ":"")+Uh(p)});function Vx(u,p,_){return u=Wn(u),_=_==null?0:ll(yn(_),0,u.length),p=ji(p),u.slice(_,_+p.length)==p}function $x(u,p,_){var H=ae.templateSettings;_&&vi(u,p,_)&&(p=t),u=Wn(u),p=Vf({},p,H,ig);var Q=Vf({},p.imports,H.imports,ig),ce=qr(Q),Se=Kl(Q,ce),Ie,je,lt=0,ut=p.interpolate||oe,vt="__p += '",Nt=tc((p.escape||oe).source+"|"+ut.source+"|"+(ut===Xe?wt:oe).source+"|"+(p.evaluate||oe).source+"|$","g"),Ut="//# sourceURL="+(Fn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vu+"]")+`
`;u.replace(Nt,function(rn,_n,An,Zi,gi,Ki){return An||(An=Zi),vt+=u.slice(lt,Ki).replace(Te,rl),_n&&(Ie=!0,vt+=`' +
__e(`+_n+`) +
'`),gi&&(je=!0,vt+=`';
`+gi+`;
__p += '`),An&&(vt+=`' +
((__t = (`+An+`)) == null ? '' : __t) +
'`),lt=Ki+rn.length,rn}),vt+=`';
`;var nn=Fn.call(p,"variable")&&p.variable;if(!nn)vt=`with (obj) {
`+vt+`
}
`;else if(Ze.test(nn))throw new sn(l);vt=(je?vt.replace(Er,""):vt).replace(fr,"$1").replace(dr,"$1;"),vt="function("+(nn||"obj")+`) {
`+(nn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ie?", __e = _.escape":"")+(je?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+vt+`return __p
}`;var bn=Kg(function(){return Bn(ce,Ut+"return "+vt).apply(t,Se)});if(bn.source=vt,Fh(bn))throw bn;return bn}function Wx(u){return Wn(u).toLowerCase()}function Gx(u){return Wn(u).toUpperCase()}function jx(u,p,_){if(u=Wn(u),u&&(_||p===t))return cf(u);if(!u||!(p=ji(p)))return u;var H=ni(u),Q=ni(p),ce=ff(H,Q),Se=Xu(H,Q)+1;return Os(H,ce,Se).join("")}function Yx(u,p,_){if(u=Wn(u),u&&(_||p===t))return u.slice(0,po(u)+1);if(!u||!(p=ji(p)))return u;var H=ni(u),Q=Xu(H,ni(p))+1;return Os(H,0,Q).join("")}function Zx(u,p,_){if(u=Wn(u),u&&(_||p===t))return u.replace(K,"");if(!u||!(p=ji(p)))return u;var H=ni(u),Q=ff(H,ni(p));return Os(H,Q).join("")}function Kx(u,p){var _=ee,H=me;if(cr(p)){var Q="separator"in p?p.separator:Q;_="length"in p?yn(p.length):_,H="omission"in p?ji(p.omission):H}u=Wn(u);var ce=u.length;if(Ni(u)){var Se=ni(u);ce=Se.length}if(_>=ce)return u;var Ie=_-Vo(H);if(Ie<1)return H;var je=Se?Os(Se,0,Ie).join(""):u.slice(0,Ie);if(Q===t)return je+H;if(Se&&(Ie+=je.length-Ie),zh(Q)){if(u.slice(Ie).search(Q)){var lt,ut=je;for(Q.global||(Q=tc(Q.source,Wn(Ht.exec(Q))+"g")),Q.lastIndex=0;lt=Q.exec(ut);)var vt=lt.index;je=je.slice(0,vt===t?Ie:vt)}}else if(u.indexOf(ji(Q),Ie)!=Ie){var Nt=je.lastIndexOf(Q);Nt>-1&&(je=je.slice(0,Nt))}return je+H}function Jx(u){return u=Wn(u),u&&Ar.test(u)?u.replace(Qn,Qu):u}var Xx=au(function(u,p,_){return u+(_?" ":"")+p.toUpperCase()}),Uh=Jv("toUpperCase");function Zg(u,p,_){return u=Wn(u),p=_?t:p,p===t?Ts(u)?Xd(u):Yd(u):u.match(p)||[]}var Kg=kn(function(u,p){try{return pr(u,t,p)}catch(_){return Fh(_)?_:new sn(_)}}),Qx=Zo(function(u,p){return ti(p,function(_){_=mo(_),jo(u,_,Bh(u[_],u))}),u});function ek(u){var p=u==null?0:u.length,_=tn();return u=p?Kn(u,function(H){if(typeof H[1]!="function")throw new Di(o);return[_(H[0]),H[1]]}):[],kn(function(H){for(var Q=-1;++Q<p;){var ce=u[Q];if(pr(ce[0],this,H))return pr(ce[1],this,H)}})}function tk(u){return Sy(ma(u,v))}function Vh(u){return function(){return u}}function nk(u,p){return u==null||u!==u?p:u}var rk=Qv(),ik=Qv(!0);function Ii(u){return u}function $h(u){return Mv(typeof u=="function"?u:ma(u,v))}function ak(u){return Dv(ma(u,v))}function ok(u,p){return Lv(u,ma(p,v))}var sk=kn(function(u,p){return function(_){return ac(_,u,p)}}),lk=kn(function(u,p){return function(_){return ac(u,_,p)}});function Wh(u,p,_){var H=qr(p),Q=_f(p,H);_==null&&!(cr(p)&&(Q.length||!H.length))&&(_=p,p=u,u=this,Q=_f(p,qr(p)));var ce=!(cr(_)&&"chain"in _)||!!_.chain,Se=Jo(u);return ti(Q,function(Ie){var je=p[Ie];u[Ie]=je,Se&&(u.prototype[Ie]=function(){var lt=this.__chain__;if(ce||lt){var ut=u(this.__wrapped__),vt=ut.__actions__=Li(this.__actions__);return vt.push({func:je,args:arguments,thisArg:u}),ut.__chain__=lt,ut}return je.apply(u,fi([this.value()],arguments))})}),u}function uk(){return ur._===this&&(ur._=bf),this}function Gh(){}function ck(u){return u=yn(u),kn(function(p){return Ov(p,u)})}var fk=kh(Kn),dk=kh(of),hk=kh(Yu);function Jg(u){return Nh(u)?Zl(mo(u)):Vy(u)}function pk(u){return function(p){return u==null?t:ul(u,p)}}var vk=tg(),gk=tg(!0);function jh(){return[]}function Yh(){return!1}function mk(){return{}}function yk(){return""}function bk(){return!0}function wk(u,p){if(u=yn(u),u<1||u>Be)return[];var _=Me,H=jt(u,Me);p=tn(p),u-=Me;for(var Q=qo(H,p);++_<u;)p(_);return Q}function Ck(u){return dn(u)?Kn(u,mo):Yi(u)?[u]:Li(mg(Wn(u)))}function xk(u){var p=++nh;return Wn(u)+p}var kk=Nf(function(u,p){return u+p},0),_k=_h("ceil"),Tk=Nf(function(u,p){return u/p},1),Sk=_h("floor");function Ek(u){return u&&u.length?kf(u,Ii,uh):t}function Ak(u,p){return u&&u.length?kf(u,tn(p,2),uh):t}function Mk(u){return Zu(u,Ii)}function Nk(u,p){return Zu(u,tn(p,2))}function Dk(u){return u&&u.length?kf(u,Ii,hh):t}function Lk(u,p){return u&&u.length?kf(u,tn(p,2),hh):t}var Ok=Nf(function(u,p){return u*p},1),Rk=_h("round"),Ik=Nf(function(u,p){return u-p},0);function Bk(u){return u&&u.length?Ju(u,Ii):0}function Pk(u,p){return u&&u.length?Ju(u,tn(p,2)):0}return ae.after=aC,ae.ary=Ag,ae.assign=GC,ae.assignIn=Ug,ae.assignInWith=Vf,ae.assignWith=jC,ae.at=YC,ae.before=Mg,ae.bind=Bh,ae.bindAll=Qx,ae.bindKey=Ng,ae.castArray=mC,ae.chain=Tg,ae.chunk=Sb,ae.compact=Eb,ae.concat=Ab,ae.cond=ek,ae.conforms=tk,ae.constant=Vh,ae.countBy=Bw,ae.create=ZC,ae.curry=Dg,ae.curryRight=Lg,ae.debounce=Og,ae.defaults=KC,ae.defaultsDeep=JC,ae.defer=oC,ae.delay=sC,ae.difference=Mb,ae.differenceBy=Nb,ae.differenceWith=Db,ae.drop=Lb,ae.dropRight=Ob,ae.dropRightWhile=Rb,ae.dropWhile=Ib,ae.fill=Bb,ae.filter=Fw,ae.flatMap=qw,ae.flatMapDeep=Uw,ae.flatMapDepth=Vw,ae.flatten=Cg,ae.flattenDeep=Pb,ae.flattenDepth=Fb,ae.flip=lC,ae.flow=rk,ae.flowRight=ik,ae.fromPairs=zb,ae.functions=ix,ae.functionsIn=ax,ae.groupBy=$w,ae.initial=qb,ae.intersection=Ub,ae.intersectionBy=Vb,ae.intersectionWith=$b,ae.invert=sx,ae.invertBy=lx,ae.invokeMap=Gw,ae.iteratee=$h,ae.keyBy=jw,ae.keys=qr,ae.keysIn=Ri,ae.map=Pf,ae.mapKeys=cx,ae.mapValues=fx,ae.matches=ak,ae.matchesProperty=ok,ae.memoize=zf,ae.merge=dx,ae.mergeWith=Vg,ae.method=sk,ae.methodOf=lk,ae.mixin=Wh,ae.negate=Hf,ae.nthArg=ck,ae.omit=hx,ae.omitBy=px,ae.once=uC,ae.orderBy=Yw,ae.over=fk,ae.overArgs=cC,ae.overEvery=dk,ae.overSome=hk,ae.partial=Ph,ae.partialRight=Rg,ae.partition=Zw,ae.pick=vx,ae.pickBy=$g,ae.property=Jg,ae.propertyOf=pk,ae.pull=Yb,ae.pullAll=kg,ae.pullAllBy=Zb,ae.pullAllWith=Kb,ae.pullAt=Jb,ae.range=vk,ae.rangeRight=gk,ae.rearg=fC,ae.reject=Xw,ae.remove=Xb,ae.rest=dC,ae.reverse=Rh,ae.sampleSize=eC,ae.set=mx,ae.setWith=yx,ae.shuffle=tC,ae.slice=Qb,ae.sortBy=iC,ae.sortedUniq=ow,ae.sortedUniqBy=sw,ae.split=qx,ae.spread=hC,ae.tail=lw,ae.take=uw,ae.takeRight=cw,ae.takeRightWhile=fw,ae.takeWhile=dw,ae.tap=Ew,ae.throttle=pC,ae.thru=Bf,ae.toArray=zg,ae.toPairs=Wg,ae.toPairsIn=Gg,ae.toPath=Ck,ae.toPlainObject=qg,ae.transform=bx,ae.unary=vC,ae.union=hw,ae.unionBy=pw,ae.unionWith=vw,ae.uniq=gw,ae.uniqBy=mw,ae.uniqWith=yw,ae.unset=wx,ae.unzip=Ih,ae.unzipWith=_g,ae.update=Cx,ae.updateWith=xx,ae.values=lu,ae.valuesIn=kx,ae.without=bw,ae.words=Zg,ae.wrap=gC,ae.xor=ww,ae.xorBy=Cw,ae.xorWith=xw,ae.zip=kw,ae.zipObject=_w,ae.zipObjectDeep=Tw,ae.zipWith=Sw,ae.entries=Wg,ae.entriesIn=Gg,ae.extend=Ug,ae.extendWith=Vf,Wh(ae,ae),ae.add=kk,ae.attempt=Kg,ae.camelCase=Ex,ae.capitalize=jg,ae.ceil=_k,ae.clamp=_x,ae.clone=yC,ae.cloneDeep=wC,ae.cloneDeepWith=CC,ae.cloneWith=bC,ae.conformsTo=xC,ae.deburr=Yg,ae.defaultTo=nk,ae.divide=Tk,ae.endsWith=Ax,ae.eq=$a,ae.escape=Mx,ae.escapeRegExp=Nx,ae.every=Pw,ae.find=zw,ae.findIndex=bg,ae.findKey=XC,ae.findLast=Hw,ae.findLastIndex=wg,ae.findLastKey=QC,ae.floor=Sk,ae.forEach=Sg,ae.forEachRight=Eg,ae.forIn=ex,ae.forInRight=tx,ae.forOwn=nx,ae.forOwnRight=rx,ae.get=Hh,ae.gt=kC,ae.gte=_C,ae.has=ox,ae.hasIn=qh,ae.head=xg,ae.identity=Ii,ae.includes=Ww,ae.indexOf=Hb,ae.inRange=Tx,ae.invoke=ux,ae.isArguments=dl,ae.isArray=dn,ae.isArrayBuffer=TC,ae.isArrayLike=Oi,ae.isArrayLikeObject=xr,ae.isBoolean=SC,ae.isBuffer=Rs,ae.isDate=EC,ae.isElement=AC,ae.isEmpty=MC,ae.isEqual=NC,ae.isEqualWith=DC,ae.isError=Fh,ae.isFinite=LC,ae.isFunction=Jo,ae.isInteger=Ig,ae.isLength=qf,ae.isMap=Bg,ae.isMatch=OC,ae.isMatchWith=RC,ae.isNaN=IC,ae.isNative=BC,ae.isNil=FC,ae.isNull=PC,ae.isNumber=Pg,ae.isObject=cr,ae.isObjectLike=gr,ae.isPlainObject=fc,ae.isRegExp=zh,ae.isSafeInteger=zC,ae.isSet=Fg,ae.isString=Uf,ae.isSymbol=Yi,ae.isTypedArray=su,ae.isUndefined=HC,ae.isWeakMap=qC,ae.isWeakSet=UC,ae.join=Wb,ae.kebabCase=Dx,ae.last=ba,ae.lastIndexOf=Gb,ae.lowerCase=Lx,ae.lowerFirst=Ox,ae.lt=VC,ae.lte=$C,ae.max=Ek,ae.maxBy=Ak,ae.mean=Mk,ae.meanBy=Nk,ae.min=Dk,ae.minBy=Lk,ae.stubArray=jh,ae.stubFalse=Yh,ae.stubObject=mk,ae.stubString=yk,ae.stubTrue=bk,ae.multiply=Ok,ae.nth=jb,ae.noConflict=uk,ae.noop=Gh,ae.now=Ff,ae.pad=Rx,ae.padEnd=Ix,ae.padStart=Bx,ae.parseInt=Px,ae.random=Sx,ae.reduce=Kw,ae.reduceRight=Jw,ae.repeat=Fx,ae.replace=zx,ae.result=gx,ae.round=Rk,ae.runInContext=$e,ae.sample=Qw,ae.size=nC,ae.snakeCase=Hx,ae.some=rC,ae.sortedIndex=ew,ae.sortedIndexBy=tw,ae.sortedIndexOf=nw,ae.sortedLastIndex=rw,ae.sortedLastIndexBy=iw,ae.sortedLastIndexOf=aw,ae.startCase=Ux,ae.startsWith=Vx,ae.subtract=Ik,ae.sum=Bk,ae.sumBy=Pk,ae.template=$x,ae.times=wk,ae.toFinite=Xo,ae.toInteger=yn,ae.toLength=Hg,ae.toLower=Wx,ae.toNumber=wa,ae.toSafeInteger=WC,ae.toString=Wn,ae.toUpper=Gx,ae.trim=jx,ae.trimEnd=Yx,ae.trimStart=Zx,ae.truncate=Kx,ae.unescape=Jx,ae.uniqueId=xk,ae.upperCase=Xx,ae.upperFirst=Uh,ae.each=Sg,ae.eachRight=Eg,ae.first=xg,Wh(ae,function(){var u={};return vo(ae,function(p,_){Fn.call(ae.prototype,_)||(u[_]=p)}),u}(),{chain:!1}),ae.VERSION=r,ti(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){ae[u].placeholder=ae}),ti(["drop","take"],function(u,p){Tn.prototype[u]=function(_){_=_===t?1:Jt(yn(_),0);var H=this.__filtered__&&!p?new Tn(this):this.clone();return H.__filtered__?H.__takeCount__=jt(_,H.__takeCount__):H.__views__.push({size:jt(_,Me),type:u+(H.__dir__<0?"Right":"")}),H},Tn.prototype[u+"Right"]=function(_){return this.reverse()[u](_).reverse()}}),ti(["filter","map","takeWhile"],function(u,p){var _=p+1,H=_==be||_==Ue;Tn.prototype[u]=function(Q){var ce=this.clone();return ce.__iteratees__.push({iteratee:tn(Q,3),type:_}),ce.__filtered__=ce.__filtered__||H,ce}}),ti(["head","last"],function(u,p){var _="take"+(p?"Right":"");Tn.prototype[u]=function(){return this[_](1).value()[0]}}),ti(["initial","tail"],function(u,p){var _="drop"+(p?"":"Right");Tn.prototype[u]=function(){return this.__filtered__?new Tn(this):this[_](1)}}),Tn.prototype.compact=function(){return this.filter(Ii)},Tn.prototype.find=function(u){return this.filter(u).head()},Tn.prototype.findLast=function(u){return this.reverse().find(u)},Tn.prototype.invokeMap=kn(function(u,p){return typeof u=="function"?new Tn(this):this.map(function(_){return ac(_,u,p)})}),Tn.prototype.reject=function(u){return this.filter(Hf(tn(u)))},Tn.prototype.slice=function(u,p){u=yn(u);var _=this;return _.__filtered__&&(u>0||p<0)?new Tn(_):(u<0?_=_.takeRight(-u):u&&(_=_.drop(u)),p!==t&&(p=yn(p),_=p<0?_.dropRight(-p):_.take(p-u)),_)},Tn.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Tn.prototype.toArray=function(){return this.take(Me)},vo(Tn.prototype,function(u,p){var _=/^(?:filter|find|map|reject)|While$/.test(p),H=/^(?:head|last)$/.test(p),Q=ae[H?"take"+(p=="last"?"Right":""):p],ce=H||/^find/.test(p);Q&&(ae.prototype[p]=function(){var Se=this.__wrapped__,Ie=H?[1]:arguments,je=Se instanceof Tn,lt=Ie[0],ut=je||dn(Se),vt=function(_n){var An=Q.apply(ae,fi([_n],Ie));return H&&Nt?An[0]:An};ut&&_&&typeof lt=="function"&&lt.length!=1&&(je=ut=!1);var Nt=this.__chain__,Ut=!!this.__actions__.length,nn=ce&&!Nt,bn=je&&!Ut;if(!ce&&ut){Se=bn?Se:new Tn(this);var rn=u.apply(Se,Ie);return rn.__actions__.push({func:Bf,args:[vt],thisArg:t}),new ga(rn,Nt)}return nn&&bn?u.apply(this,Ie):(rn=this.thru(vt),nn?H?rn.value()[0]:rn.value():rn)})}),ti(["pop","push","shift","sort","splice","unshift"],function(u){var p=il[u],_=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",H=/^(?:pop|shift)$/.test(u);ae.prototype[u]=function(){var Q=arguments;if(H&&!this.__chain__){var ce=this.value();return p.apply(dn(ce)?ce:[],Q)}return this[_](function(Se){return p.apply(dn(Se)?Se:[],Q)})}}),vo(Tn.prototype,function(u,p){var _=ae[p];if(_){var H=_.name+"";Fn.call(Lr,H)||(Lr[H]=[]),Lr[H].push({name:p,func:_})}}),Lr[Mf(t,h).name]=[{name:"wrapper",func:t}],Tn.prototype.clone=J1,Tn.prototype.reverse=X1,Tn.prototype.value=Q1,ae.prototype.at=Aw,ae.prototype.chain=Mw,ae.prototype.commit=Nw,ae.prototype.next=Dw,ae.prototype.plant=Ow,ae.prototype.reverse=Rw,ae.prototype.toJSON=ae.prototype.valueOf=ae.prototype.value=Iw,ae.prototype.first=ae.prototype.head,B&&(ae.prototype[B]=Lw),ae},Ss=Qd();va?((va.exports=Ss)._=Ss,xs._=Ss):ur._=Ss}).call(Lfe)}(vp,vp.exports)),vp.exports}var Lst=Ofe(),R_=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],vd={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Vp={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Ta=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},wo=function(n){return n===!0?1:0};function _M(n,e){var t;return function(){var r=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(r,i)},e)}}var I_=function(n){return n instanceof Array?n:[n]};function Ji(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function Zn(n,e,t){var r=window.document.createElement(n);return e=e||"",t=t||"",r.className=e,t!==void 0&&(r.textContent=t),r}function bm(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function aR(n,e){if(e(n))return n;if(n.parentNode)return aR(n.parentNode,e)}function wm(n,e){var t=Zn("div","numInputWrapper"),r=Zn("input","numInput "+n),i=Zn("span","arrowUp"),a=Zn("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),e!==void 0)for(var o in e)r.setAttribute(o,e[o]);return t.appendChild(r),t.appendChild(i),t.appendChild(a),t}function Za(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var B_=function(){},O0=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},Rfe={D:B_,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*wo(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var r=parseInt(e),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:B_,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:B_,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},Sc={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Mp={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[Mp.w(n,e,t)]},F:function(n,e,t){return O0(Mp.n(n,e,t)-1,!1,e)},G:function(n,e,t){return Ta(Mp.h(n,e,t))},H:function(n){return Ta(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[wo(n.getHours()>11)]},M:function(n,e){return O0(n.getMonth(),!0,e)},S:function(n){return Ta(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return Ta(n.getFullYear(),4)},d:function(n){return Ta(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return Ta(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return Ta(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},oR=function(n){var e=n.config,t=e===void 0?vd:e,r=n.l10n,i=r===void 0?Vp:r,a=n.isMobile,o=a===void 0?!1:a;return function(l,s,f){var c=f||i;return t.formatDate!==void 0&&!o?t.formatDate(l,s,c):s.split("").map(function(v,y,k){return Mp[v]&&k[y-1]!=="\\"?Mp[v](l,c,t):v!=="\\"?v:""}).join("")}},tS=function(n){var e=n.config,t=e===void 0?vd:e,r=n.l10n,i=r===void 0?Vp:r;return function(a,o,l,s){if(!(a!==0&&!a)){var f=s||i,c,v=a;if(a instanceof Date)c=new Date(a.getTime());else if(typeof a!="string"&&a.toFixed!==void 0)c=new Date(a);else if(typeof a=="string"){var y=o||(t||vd).dateFormat,k=String(a).trim();if(k==="today")c=new Date,l=!0;else if(t&&t.parseDate)c=t.parseDate(a,y);else if(/Z$/.test(k)||/GMT$/.test(k))c=new Date(a);else{for(var x=void 0,R=[],d=0,h=0,w="";d<y.length;d++){var A=y[d],D=A==="\\",I=y[d-1]==="\\"||D;if(Sc[A]&&!I){w+=Sc[A];var O=new RegExp(w).exec(a);O&&(x=!0)&&R[A!=="Y"?"push":"unshift"]({fn:Rfe[A],val:O[++h]})}else D||(w+=".")}c=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),R.forEach(function(F){var $=F.fn,z=F.val;return c=$(c,z,f)||c}),c=x?c:void 0}}if(!(c instanceof Date&&!isNaN(c.getTime()))){t.errorHandler(new Error("Invalid date provided: "+v));return}return l===!0&&c.setHours(0,0,0,0),c}}};function Ja(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var Ife=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},P_=function(n,e,t){return n*3600+e*60+t},Bfe=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},Pfe={DAY:864e5};function F_(n){var e=n.defaultHour,t=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),a=n.minDate.getMinutes(),o=n.minDate.getSeconds();e<i&&(e=i),e===i&&t<a&&(t=a),e===i&&t===a&&r<o&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var l=n.maxDate.getHours(),s=n.maxDate.getMinutes();e=Math.min(e,l),e===l&&(t=Math.min(s,t)),e===l&&t===s&&(r=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(l){l&&Object.keys(l).forEach(function(s){return n[s]=l[s]})},i=0,a=e;i<a.length;i++){var o=a[i];r(o)}return n});var Fi=function(){return Fi=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Fi.apply(this,arguments)},TM=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,i++)r[i]=a[o];return r},Ffe=300;function zfe(n,e){var t={config:Fi(Fi({},vd),Xr.defaultConfig),l10n:Vp};t.parseDate=tS({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=R,t._setHoursFromDate=y,t._positionCalendar=on,t.changeMonth=Me,t.changeYear=Ce,t.clear=we,t.close=Fe,t.onMouseOver=We,t._createElement=Zn,t.createDay=O,t.destroy=ke,t.isEnabled=ve,t.jumpToDate=w,t.updateValue=Qn,t.open=ht,t.redraw=Zt,t.set=Rn,t.setDate=mt,t.toggle=an;function r(){t.utils={getDaysInMonth:function(se,he){return se===void 0&&(se=t.currentMonth),he===void 0&&(he=t.currentYear),se===1&&(he%4===0&&he%100!==0||he%400===0)?29:t.l10n.daysInMonth[se]}}}function i(){t.element=t.input=n,t.isOpen=!1,Dt(),Mt(),Gt(),Ft(),r(),t.isMobile||I(),h(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&y(t.config.noCalendar?t.latestSelectedDateObj:void 0),Qn(!1)),l();var se=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&se&&on(),Qt("onReady")}function a(){var se;return((se=t.calendarContainer)===null||se===void 0?void 0:se.getRootNode()).activeElement||document.activeElement}function o(se){return se.bind(t)}function l(){var se=t.config;se.weekNumbers===!1&&se.showMonths===1||se.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var he=(t.days.offsetWidth+1)*se.showMonths;t.daysContainer.style.width=he+"px",t.calendarContainer.style.width=he+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function s(se){if(t.selectedDates.length===0){var he=t.config.minDate===void 0||Ja(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Oe=F_(t.config);he.setHours(Oe.hours,Oe.minutes,Oe.seconds,he.getMilliseconds()),t.selectedDates=[he],t.latestSelectedDateObj=he}se!==void 0&&se.type!=="blur"&&Ar(se);var Xe=t._input.value;v(),Qn(),t._input.value!==Xe&&t._debouncedChange()}function f(se,he){return se%12+12*wo(he===t.l10n.amPM[1])}function c(se){switch(se%24){case 0:case 12:return 12;default:return se%12}}function v(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var se=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,he=(parseInt(t.minuteElement.value,10)||0)%60,Oe=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(se=f(se,t.amPM.textContent));var Xe=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&Ja(t.latestSelectedDateObj,t.config.minDate,!0)===0,te=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&Ja(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var ne=P_(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),G=P_(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),V=P_(se,he,Oe);if(V>G&&V<ne){var Y=Bfe(ne);se=Y[0],he=Y[1],Oe=Y[2]}}else{if(te){var K=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;se=Math.min(se,K.getHours()),se===K.getHours()&&(he=Math.min(he,K.getMinutes())),he===K.getMinutes()&&(Oe=Math.min(Oe,K.getSeconds()))}if(Xe){var de=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;se=Math.max(se,de.getHours()),se===de.getHours()&&he<de.getMinutes()&&(he=de.getMinutes()),he===de.getMinutes()&&(Oe=Math.max(Oe,de.getSeconds()))}}k(se,he,Oe)}}function y(se){var he=se||t.latestSelectedDateObj;he&&he instanceof Date&&k(he.getHours(),he.getMinutes(),he.getSeconds())}function k(se,he,Oe){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(se%24,he,Oe||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Ta(t.config.time_24hr?se:(12+se)%12+12*wo(se%12===0)),t.minuteElement.value=Ta(he),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[wo(se>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Ta(Oe)))}function x(se){var he=Za(se),Oe=parseInt(he.value)+(se.delta||0);(Oe/1e3>1||se.key==="Enter"&&!/[^\d]/.test(Oe.toString()))&&Ce(Oe)}function R(se,he,Oe,Xe){if(he instanceof Array)return he.forEach(function(te){return R(se,te,Oe,Xe)});if(se instanceof Array)return se.forEach(function(te){return R(te,he,Oe,Xe)});se.addEventListener(he,Oe,Xe),t._handlers.push({remove:function(){return se.removeEventListener(he,Oe,Xe)}})}function d(){Qt("onChange")}function h(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(Oe){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+Oe+"]"),function(Xe){return R(Xe,"click",t[Oe])})}),t.isMobile){hn();return}var se=_M(it,50);if(t._debouncedChange=_M(d,Ffe),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&R(t.daysContainer,"mouseover",function(Oe){t.config.mode==="range"&&We(Za(Oe))}),R(t._input,"keydown",Re),t.calendarContainer!==void 0&&R(t.calendarContainer,"keydown",Re),!t.config.inline&&!t.config.static&&R(window,"resize",se),window.ontouchstart!==void 0?R(window.document,"touchstart",Ee):R(window.document,"mousedown",Ee),R(window.document,"focus",Ee,{capture:!0}),t.config.clickOpens===!0&&(R(t._input,"focus",t.open),R(t._input,"click",t.open)),t.daysContainer!==void 0&&(R(t.monthNav,"click",ar),R(t.monthNav,["keyup","increment"],x),R(t.daysContainer,"click",En)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var he=function(Oe){return Za(Oe).select()};R(t.timeContainer,["increment"],s),R(t.timeContainer,"blur",s,{capture:!0}),R(t.timeContainer,"click",A),R([t.hourElement,t.minuteElement],["focus","click"],he),t.secondElement!==void 0&&R(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&R(t.amPM,"click",function(Oe){s(Oe)})}t.config.allowInput&&R(t._input,"blur",fe)}function w(se,he){var Oe=se!==void 0?t.parseDate(se):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Xe=t.currentYear,te=t.currentMonth;try{Oe!==void 0&&(t.currentYear=Oe.getFullYear(),t.currentMonth=Oe.getMonth())}catch(ne){ne.message="Invalid date supplied: "+Oe,t.config.errorHandler(ne)}he&&t.currentYear!==Xe&&(Qt("onYearChange"),pe()),he&&(t.currentYear!==Xe||t.currentMonth!==te)&&Qt("onMonthChange"),t.redraw()}function A(se){var he=Za(se);~he.className.indexOf("arrow")&&D(se,he.classList.contains("arrowUp")?1:-1)}function D(se,he,Oe){var Xe=se&&Za(se),te=Oe||Xe&&Xe.parentNode&&Xe.parentNode.firstChild,ne=lr("increment");ne.delta=he,te&&te.dispatchEvent(ne)}function I(){var se=window.document.createDocumentFragment();if(t.calendarContainer=Zn("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(se.appendChild(Ue()),t.innerContainer=Zn("div","flatpickr-innerContainer"),t.config.weekNumbers){var he=ye(),Oe=he.weekWrapper,Xe=he.weekNumbers;t.innerContainer.appendChild(Oe),t.weekNumbers=Xe,t.weekWrapper=Oe}t.rContainer=Zn("div","flatpickr-rContainer"),t.rContainer.appendChild(Be()),t.daysContainer||(t.daysContainer=Zn("div","flatpickr-days"),t.daysContainer.tabIndex=-1),ie(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),se.appendChild(t.innerContainer)}t.config.enableTime&&se.appendChild(Ge()),Ji(t.calendarContainer,"rangeMode",t.config.mode==="range"),Ji(t.calendarContainer,"animate",t.config.animate===!0),Ji(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(se);var te=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!te&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var ne=Zn("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(ne,t.element),ne.appendChild(t.element),t.altInput&&ne.appendChild(t.altInput),ne.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function O(se,he,Oe,Xe){var te=ve(he,!0),ne=Zn("span",se,he.getDate().toString());return ne.dateObj=he,ne.$i=Xe,ne.setAttribute("aria-label",t.formatDate(he,t.config.ariaDateFormat)),se.indexOf("hidden")===-1&&Ja(he,t.now)===0&&(t.todayDateElem=ne,ne.classList.add("today"),ne.setAttribute("aria-current","date")),te?(ne.tabIndex=-1,Hn(he)&&(ne.classList.add("selected"),t.selectedDateElem=ne,t.config.mode==="range"&&(Ji(ne,"startRange",t.selectedDates[0]&&Ja(he,t.selectedDates[0],!0)===0),Ji(ne,"endRange",t.selectedDates[1]&&Ja(he,t.selectedDates[1],!0)===0),se==="nextMonthDay"&&ne.classList.add("inRange")))):ne.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Er(he)&&!Hn(he)&&ne.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&se!=="prevMonthDay"&&Xe%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(he)+"</span>"),Qt("onDayCreate",ne),ne}function F(se){se.focus(),t.config.mode==="range"&&We(se)}function $(se){for(var he=se>0?0:t.config.showMonths-1,Oe=se>0?t.config.showMonths:-1,Xe=he;Xe!=Oe;Xe+=se)for(var te=t.daysContainer.children[Xe],ne=se>0?0:te.children.length-1,G=se>0?te.children.length:-1,V=ne;V!=G;V+=se){var Y=te.children[V];if(Y.className.indexOf("hidden")===-1&&ve(Y.dateObj))return Y}}function z(se,he){for(var Oe=se.className.indexOf("Month")===-1?se.dateObj.getMonth():t.currentMonth,Xe=he>0?t.config.showMonths:-1,te=he>0?1:-1,ne=Oe-t.currentMonth;ne!=Xe;ne+=te)for(var G=t.daysContainer.children[ne],V=Oe-t.currentMonth===ne?se.$i+he:he<0?G.children.length-1:0,Y=G.children.length,K=V;K>=0&&K<Y&&K!=(he>0?Y:-1);K+=te){var de=G.children[K];if(de.className.indexOf("hidden")===-1&&ve(de.dateObj)&&Math.abs(se.$i-K)>=Math.abs(he))return F(de)}t.changeMonth(te),ee($(te),0)}function ee(se,he){var Oe=a(),Xe=ge(Oe||document.body),te=se!==void 0?se:Xe?Oe:t.selectedDateElem!==void 0&&ge(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&ge(t.todayDateElem)?t.todayDateElem:$(he>0?1:-1);te===void 0?t._input.focus():Xe?z(te,he):F(te)}function me(se,he){for(var Oe=(new Date(se,he,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Xe=t.utils.getDaysInMonth((he-1+12)%12,se),te=t.utils.getDaysInMonth(he,se),ne=window.document.createDocumentFragment(),G=t.config.showMonths>1,V=G?"prevMonthDay hidden":"prevMonthDay",Y=G?"nextMonthDay hidden":"nextMonthDay",K=Xe+1-Oe,de=0;K<=Xe;K++,de++)ne.appendChild(O("flatpickr-day "+V,new Date(se,he-1,K),K,de));for(K=1;K<=te;K++,de++)ne.appendChild(O("flatpickr-day",new Date(se,he,K),K,de));for(var qe=te+1;qe<=42-Oe&&(t.config.showMonths===1||de%7!==0);qe++,de++)ne.appendChild(O("flatpickr-day "+Y,new Date(se,he+1,qe%te),qe,de));var et=Zn("div","dayContainer");return et.appendChild(ne),et}function ie(){if(t.daysContainer!==void 0){bm(t.daysContainer),t.weekNumbers&&bm(t.weekNumbers);for(var se=document.createDocumentFragment(),he=0;he<t.config.showMonths;he++){var Oe=new Date(t.currentYear,t.currentMonth,1);Oe.setMonth(t.currentMonth+he),se.appendChild(me(Oe.getFullYear(),Oe.getMonth()))}t.daysContainer.appendChild(se),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&We()}}function pe(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var se=function(Xe){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&Xe<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&Xe>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var he=0;he<12;he++)if(se(he)){var Oe=Zn("option","flatpickr-monthDropdown-month");Oe.value=new Date(t.currentYear,he).getMonth().toString(),Oe.textContent=O0(he,t.config.shorthandCurrentMonth,t.l10n),Oe.tabIndex=-1,t.currentMonth===he&&(Oe.selected=!0),t.monthsDropdownContainer.appendChild(Oe)}}}function be(){var se=Zn("div","flatpickr-month"),he=window.document.createDocumentFragment(),Oe;t.config.showMonths>1||t.config.monthSelectorType==="static"?Oe=Zn("span","cur-month"):(t.monthsDropdownContainer=Zn("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),R(t.monthsDropdownContainer,"change",function(G){var V=Za(G),Y=parseInt(V.value,10);t.changeMonth(Y-t.currentMonth),Qt("onMonthChange")}),pe(),Oe=t.monthsDropdownContainer);var Xe=wm("cur-year",{tabindex:"-1"}),te=Xe.getElementsByTagName("input")[0];te.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&te.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(te.setAttribute("max",t.config.maxDate.getFullYear().toString()),te.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var ne=Zn("div","flatpickr-current-month");return ne.appendChild(Oe),ne.appendChild(Xe),he.appendChild(ne),se.appendChild(he),{container:se,yearElement:te,monthElement:Oe}}function Ve(){bm(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var se=t.config.showMonths;se--;){var he=be();t.yearElements.push(he.yearElement),t.monthElements.push(he.monthElement),t.monthNav.appendChild(he.container)}t.monthNav.appendChild(t.nextMonthNav)}function Ue(){return t.monthNav=Zn("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Zn("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Zn("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,Ve(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(se){t.__hidePrevMonthArrow!==se&&(Ji(t.prevMonthNav,"flatpickr-disabled",se),t.__hidePrevMonthArrow=se)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(se){t.__hideNextMonthArrow!==se&&(Ji(t.nextMonthNav,"flatpickr-disabled",se),t.__hideNextMonthArrow=se)}}),t.currentYearElement=t.yearElements[0],fr(),t.monthNav}function Ge(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var se=F_(t.config);t.timeContainer=Zn("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var he=Zn("span","flatpickr-time-separator",":"),Oe=wm("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=Oe.getElementsByTagName("input")[0];var Xe=wm("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Xe.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Ta(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?se.hours:c(se.hours)),t.minuteElement.value=Ta(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():se.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Oe),t.timeContainer.appendChild(he),t.timeContainer.appendChild(Xe),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var te=wm("flatpickr-second");t.secondElement=te.getElementsByTagName("input")[0],t.secondElement.value=Ta(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():se.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Zn("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(te)}return t.config.time_24hr||(t.amPM=Zn("span","flatpickr-am-pm",t.l10n.amPM[wo((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function Be(){t.weekdayContainer?bm(t.weekdayContainer):t.weekdayContainer=Zn("div","flatpickr-weekdays");for(var se=t.config.showMonths;se--;){var he=Zn("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(he)}return Je(),t.weekdayContainer}function Je(){if(t.weekdayContainer){var se=t.l10n.firstDayOfWeek,he=TM(t.l10n.weekdays.shorthand);se>0&&se<he.length&&(he=TM(he.splice(se,he.length),he.splice(0,se)));for(var Oe=t.config.showMonths;Oe--;)t.weekdayContainer.children[Oe].innerHTML=`
      <span class='flatpickr-weekday'>
        `+he.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function ye(){t.calendarContainer.classList.add("hasWeeks");var se=Zn("div","flatpickr-weekwrapper");se.appendChild(Zn("span","flatpickr-weekday",t.l10n.weekAbbreviation));var he=Zn("div","flatpickr-weeks");return se.appendChild(he),{weekWrapper:se,weekNumbers:he}}function Me(se,he){he===void 0&&(he=!0);var Oe=he?se:se-t.currentMonth;Oe<0&&t._hidePrevMonthArrow===!0||Oe>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=Oe,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Qt("onYearChange"),pe()),ie(),Qt("onMonthChange"),fr())}function we(se,he){if(se===void 0&&(se=!0),he===void 0&&(he=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,he===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var Oe=F_(t.config),Xe=Oe.hours,te=Oe.minutes,ne=Oe.seconds;k(Xe,te,ne)}t.redraw(),se&&Qt("onChange")}function Fe(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Qt("onClose")}function ke(){t.config!==void 0&&Qt("onDestroy");for(var se=t._handlers.length;se--;)t._handlers[se].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var he=t.calendarContainer.parentNode;if(he.lastChild&&he.removeChild(he.lastChild),he.parentNode){for(;he.firstChild;)he.parentNode.insertBefore(he.firstChild,he);he.parentNode.removeChild(he)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Oe){try{delete t[Oe]}catch{}})}function Ae(se){return t.calendarContainer.contains(se)}function Ee(se){if(t.isOpen&&!t.config.inline){var he=Za(se),Oe=Ae(he),Xe=he===t.input||he===t.altInput||t.element.contains(he)||se.path&&se.path.indexOf&&(~se.path.indexOf(t.input)||~se.path.indexOf(t.altInput)),te=!Xe&&!Oe&&!Ae(se.relatedTarget),ne=!t.config.ignoredFocusElements.some(function(G){return G.contains(he)});te&&ne&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&s(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Ce(se){if(!(!se||t.config.minDate&&se<t.config.minDate.getFullYear()||t.config.maxDate&&se>t.config.maxDate.getFullYear())){var he=se,Oe=t.currentYear!==he;t.currentYear=he||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),Oe&&(t.redraw(),Qt("onYearChange"),pe())}}function ve(se,he){var Oe;he===void 0&&(he=!0);var Xe=t.parseDate(se,void 0,he);if(t.config.minDate&&Xe&&Ja(Xe,t.config.minDate,he!==void 0?he:!t.minDateHasTime)<0||t.config.maxDate&&Xe&&Ja(Xe,t.config.maxDate,he!==void 0?he:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(Xe===void 0)return!1;for(var te=!!t.config.enable,ne=(Oe=t.config.enable)!==null&&Oe!==void 0?Oe:t.config.disable,G=0,V=void 0;G<ne.length;G++){if(V=ne[G],typeof V=="function"&&V(Xe))return te;if(V instanceof Date&&Xe!==void 0&&V.getTime()===Xe.getTime())return te;if(typeof V=="string"){var Y=t.parseDate(V,void 0,!0);return Y&&Y.getTime()===Xe.getTime()?te:!te}else if(typeof V=="object"&&Xe!==void 0&&V.from&&V.to&&Xe.getTime()>=V.from.getTime()&&Xe.getTime()<=V.to.getTime())return te}return!te}function ge(se){return t.daysContainer!==void 0?se.className.indexOf("hidden")===-1&&se.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(se):!1}function fe(se){var he=se.target===t._input,Oe=t._input.value.trimEnd()!==dr();he&&Oe&&!(se.relatedTarget&&Ae(se.relatedTarget))&&t.setDate(t._input.value,!0,se.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Re(se){var he=Za(se),Oe=t.config.wrap?n.contains(he):he===t._input,Xe=t.config.allowInput,te=t.isOpen&&(!Xe||!Oe),ne=t.config.inline&&Oe&&!Xe;if(se.keyCode===13&&Oe){if(Xe)return t.setDate(t._input.value,!0,he===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),he.blur();t.open()}else if(Ae(he)||te||ne){var G=!!t.timeContainer&&t.timeContainer.contains(he);switch(se.keyCode){case 13:G?(se.preventDefault(),s(),gn()):En(se);break;case 27:se.preventDefault(),gn();break;case 8:case 46:Oe&&!t.config.allowInput&&(se.preventDefault(),t.clear());break;case 37:case 39:if(!G&&!Oe){se.preventDefault();var V=a();if(t.daysContainer!==void 0&&(Xe===!1||V&&ge(V))){var Y=se.keyCode===39?1:-1;se.ctrlKey?(se.stopPropagation(),Me(Y),ee($(1),0)):ee(void 0,Y)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:se.preventDefault();var K=se.keyCode===40?1:-1;t.daysContainer&&he.$i!==void 0||he===t.input||he===t.altInput?se.ctrlKey?(se.stopPropagation(),Ce(t.currentYear-K),ee($(1),0)):G||ee(void 0,K*7):he===t.currentYearElement?Ce(t.currentYear-K):t.config.enableTime&&(!G&&t.hourElement&&t.hourElement.focus(),s(se),t._debouncedChange());break;case 9:if(G){var de=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Ne){return Ne}),qe=de.indexOf(he);if(qe!==-1){var et=de[qe+(se.shiftKey?-1:1)];se.preventDefault(),(et||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(he)&&se.shiftKey&&(se.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&he===t.amPM)switch(se.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],v(),Qn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],v(),Qn();break}(Oe||Ae(he))&&Qt("onKeyDown",se)}function We(se,he){if(he===void 0&&(he="flatpickr-day"),!(t.selectedDates.length!==1||se&&(!se.classList.contains(he)||se.classList.contains("flatpickr-disabled")))){for(var Oe=se?se.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),Xe=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),te=Math.min(Oe,t.selectedDates[0].getTime()),ne=Math.max(Oe,t.selectedDates[0].getTime()),G=!1,V=0,Y=0,K=te;K<ne;K+=Pfe.DAY)ve(new Date(K),!0)||(G=G||K>te&&K<ne,K<Xe&&(!V||K>V)?V=K:K>Xe&&(!Y||K<Y)&&(Y=K));var de=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+he));de.forEach(function(qe){var et=qe.dateObj,Ne=et.getTime(),_e=V>0&&Ne<V||Y>0&&Ne>Y;if(_e){qe.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Ze){qe.classList.remove(Ze)});return}else if(G&&!_e)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Ze){qe.classList.remove(Ze)}),se!==void 0&&(se.classList.add(Oe<=t.selectedDates[0].getTime()?"startRange":"endRange"),Xe<Oe&&Ne===Xe?qe.classList.add("startRange"):Xe>Oe&&Ne===Xe&&qe.classList.add("endRange"),Ne>=V&&(Y===0||Ne<=Y)&&Ife(Ne,Xe,Oe)&&qe.classList.add("inRange"))})}}function it(){t.isOpen&&!t.config.static&&!t.config.inline&&on()}function ht(se,he){if(he===void 0&&(he=t._positionElement),t.isMobile===!0){if(se){se.preventDefault();var Oe=Za(se);Oe&&Oe.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Qt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var Xe=t.isOpen;t.isOpen=!0,Xe||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Qt("onOpen"),on(he)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(se===void 0||!t.timeContainer.contains(se.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function xt(se){return function(he){var Oe=t.config["_"+se+"Date"]=t.parseDate(he,t.config.dateFormat),Xe=t.config["_"+(se==="min"?"max":"min")+"Date"];Oe!==void 0&&(t[se==="min"?"minDateHasTime":"maxDateHasTime"]=Oe.getHours()>0||Oe.getMinutes()>0||Oe.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(te){return ve(te)}),!t.selectedDates.length&&se==="min"&&y(Oe),Qn()),t.daysContainer&&(Zt(),Oe!==void 0?t.currentYearElement[se]=Oe.getFullYear().toString():t.currentYearElement.removeAttribute(se),t.currentYearElement.disabled=!!Xe&&Oe!==void 0&&Xe.getFullYear()===Oe.getFullYear())}}function Dt(){var se=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],he=Fi(Fi({},JSON.parse(JSON.stringify(n.dataset||{}))),e),Oe={};t.config.parseDate=he.parseDate,t.config.formatDate=he.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(de){t.config._enable=Et(de)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(de){t.config._disable=Et(de)}});var Xe=he.mode==="time";if(!he.dateFormat&&(he.enableTime||Xe)){var te=Xr.defaultConfig.dateFormat||vd.dateFormat;Oe.dateFormat=he.noCalendar||Xe?"H:i"+(he.enableSeconds?":S":""):te+" H:i"+(he.enableSeconds?":S":"")}if(he.altInput&&(he.enableTime||Xe)&&!he.altFormat){var ne=Xr.defaultConfig.altFormat||vd.altFormat;Oe.altFormat=he.noCalendar||Xe?"h:i"+(he.enableSeconds?":S K":" K"):ne+(" h:i"+(he.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:xt("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:xt("max")});var G=function(de){return function(qe){t.config[de==="min"?"_minTime":"_maxTime"]=t.parseDate(qe,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:G("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:G("max")}),he.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,Oe,he);for(var V=0;V<se.length;V++)t.config[se[V]]=t.config[se[V]]===!0||t.config[se[V]]==="true";R_.filter(function(de){return t.config[de]!==void 0}).forEach(function(de){t.config[de]=I_(t.config[de]||[]).map(o)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var V=0;V<t.config.plugins.length;V++){var Y=t.config.plugins[V](t)||{};for(var K in Y)R_.indexOf(K)>-1?t.config[K]=I_(Y[K]).map(o).concat(t.config[K]):typeof he[K]>"u"&&(t.config[K]=Y[K])}he.altInputClass||(t.config.altInputClass=Yt().className+" "+t.config.altInputClass),Qt("onParseConfig")}function Yt(){return t.config.wrap?n.querySelector("[data-input]"):n}function Mt(){typeof t.config.locale!="object"&&typeof Xr.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Fi(Fi({},Xr.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Xr.l10ns[t.config.locale]:void 0),Sc.D="("+t.l10n.weekdays.shorthand.join("|")+")",Sc.l="("+t.l10n.weekdays.longhand.join("|")+")",Sc.M="("+t.l10n.months.shorthand.join("|")+")",Sc.F="("+t.l10n.months.longhand.join("|")+")",Sc.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var se=Fi(Fi({},e),JSON.parse(JSON.stringify(n.dataset||{})));se.time_24hr===void 0&&Xr.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=oR(t),t.parseDate=tS({config:t.config,l10n:t.l10n})}function on(se){if(typeof t.config.position=="function")return void t.config.position(t,se);if(t.calendarContainer!==void 0){Qt("onPreCalendarPosition");var he=se||t._positionElement,Oe=Array.prototype.reduce.call(t.calendarContainer.children,function(X,oe){return X+oe.offsetHeight},0),Xe=t.calendarContainer.offsetWidth,te=t.config.position.split(" "),ne=te[0],G=te.length>1?te[1]:null,V=he.getBoundingClientRect(),Y=window.innerHeight-V.bottom,K=ne==="above"||ne!=="below"&&Y<Oe&&V.top>Oe,de=window.pageYOffset+V.top+(K?-Oe-2:he.offsetHeight+2);if(Ji(t.calendarContainer,"arrowTop",!K),Ji(t.calendarContainer,"arrowBottom",K),!t.config.inline){var qe=window.pageXOffset+V.left,et=!1,Ne=!1;G==="center"?(qe-=(Xe-V.width)/2,et=!0):G==="right"&&(qe-=Xe-V.width,Ne=!0),Ji(t.calendarContainer,"arrowLeft",!et&&!Ne),Ji(t.calendarContainer,"arrowCenter",et),Ji(t.calendarContainer,"arrowRight",Ne);var _e=window.document.body.offsetWidth-(window.pageXOffset+V.right),Ze=qe+Xe>window.document.body.offsetWidth,nt=_e+Xe>window.document.body.offsetWidth;if(Ji(t.calendarContainer,"rightMost",Ze),!t.config.static)if(t.calendarContainer.style.top=de+"px",!Ze)t.calendarContainer.style.left=qe+"px",t.calendarContainer.style.right="auto";else if(!nt)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=_e+"px";else{var wt=Wt();if(wt===void 0)return;var Ht=window.document.body.offsetWidth,J=Math.max(0,Ht/2-Xe/2),U=".flatpickr-calendar.centerMost:before",T=".flatpickr-calendar.centerMost:after",M=wt.cssRules.length,q="{left:"+V.left+"px;right:auto;}";Ji(t.calendarContainer,"rightMost",!1),Ji(t.calendarContainer,"centerMost",!0),wt.insertRule(U+","+T+q,M),t.calendarContainer.style.left=J+"px",t.calendarContainer.style.right="auto"}}}}function Wt(){for(var se=null,he=0;he<document.styleSheets.length;he++){var Oe=document.styleSheets[he];if(Oe.cssRules){try{Oe.cssRules}catch{continue}se=Oe;break}}return se??fn()}function fn(){var se=document.createElement("style");return document.head.appendChild(se),se.sheet}function Zt(){t.config.noCalendar||t.isMobile||(pe(),fr(),ie())}function gn(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function En(se){se.preventDefault(),se.stopPropagation();var he=function(de){return de.classList&&de.classList.contains("flatpickr-day")&&!de.classList.contains("flatpickr-disabled")&&!de.classList.contains("notAllowed")},Oe=aR(Za(se),he);if(Oe!==void 0){var Xe=Oe,te=t.latestSelectedDateObj=new Date(Xe.dateObj.getTime()),ne=(te.getMonth()<t.currentMonth||te.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=Xe,t.config.mode==="single")t.selectedDates=[te];else if(t.config.mode==="multiple"){var G=Hn(te);G?t.selectedDates.splice(parseInt(G),1):t.selectedDates.push(te)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=te,t.selectedDates.push(te),Ja(te,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(de,qe){return de.getTime()-qe.getTime()}));if(v(),ne){var V=t.currentYear!==te.getFullYear();t.currentYear=te.getFullYear(),t.currentMonth=te.getMonth(),V&&(Qt("onYearChange"),pe()),Qt("onMonthChange")}if(fr(),ie(),Qn(),!ne&&t.config.mode!=="range"&&t.config.showMonths===1?F(Xe):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Y=t.config.mode==="single"&&!t.config.enableTime,K=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Y||K)&&gn()}d()}}var $t={locale:[Mt,Je],showMonths:[Ve,l,Be],minDate:[w],maxDate:[w],positionElement:[Nn],clickOpens:[function(){t.config.clickOpens===!0?(R(t._input,"focus",t.open),R(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function Rn(se,he){if(se!==null&&typeof se=="object"){Object.assign(t.config,se);for(var Oe in se)$t[Oe]!==void 0&&$t[Oe].forEach(function(Xe){return Xe()})}else t.config[se]=he,$t[se]!==void 0?$t[se].forEach(function(Xe){return Xe()}):R_.indexOf(se)>-1&&(t.config[se]=I_(he));t.redraw(),Qn(!0)}function bt(se,he){var Oe=[];if(se instanceof Array)Oe=se.map(function(Xe){return t.parseDate(Xe,he)});else if(se instanceof Date||typeof se=="number")Oe=[t.parseDate(se,he)];else if(typeof se=="string")switch(t.config.mode){case"single":case"time":Oe=[t.parseDate(se,he)];break;case"multiple":Oe=se.split(t.config.conjunction).map(function(Xe){return t.parseDate(Xe,he)});break;case"range":Oe=se.split(t.l10n.rangeSeparator).map(function(Xe){return t.parseDate(Xe,he)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(se)));t.selectedDates=t.config.allowInvalidPreload?Oe:Oe.filter(function(Xe){return Xe instanceof Date&&ve(Xe,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(Xe,te){return Xe.getTime()-te.getTime()})}function mt(se,he,Oe){if(he===void 0&&(he=!1),Oe===void 0&&(Oe=t.config.dateFormat),se!==0&&!se||se instanceof Array&&se.length===0)return t.clear(he);bt(se,Oe),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),w(void 0,he),y(),t.selectedDates.length===0&&t.clear(!1),Qn(he),he&&Qt("onChange")}function Et(se){return se.slice().map(function(he){return typeof he=="string"||typeof he=="number"||he instanceof Date?t.parseDate(he,void 0,!0):he&&typeof he=="object"&&he.from&&he.to?{from:t.parseDate(he.from,void 0),to:t.parseDate(he.to,void 0)}:he}).filter(function(he){return he})}function Ft(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var se=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);se&&bt(se,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Gt(){if(t.input=Yt(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Zn(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Nn()}function Nn(){t._positionElement=t.config.positionElement||t._input}function hn(){var se=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Zn("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=se,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=se==="datetime-local"?"Y-m-d\\TH:i:S":se==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}R(t.mobileInput,"change",function(he){t.setDate(Za(he).value,!1,t.mobileFormatStr),Qt("onChange"),Qt("onClose")})}function an(se){if(t.isOpen===!0)return t.close();t.open(se)}function Qt(se,he){if(t.config!==void 0){var Oe=t.config[se];if(Oe!==void 0&&Oe.length>0)for(var Xe=0;Oe[Xe]&&Xe<Oe.length;Xe++)Oe[Xe](t.selectedDates,t.input.value,t,he);se==="onChange"&&(t.input.dispatchEvent(lr("change")),t.input.dispatchEvent(lr("input")))}}function lr(se){var he=document.createEvent("Event");return he.initEvent(se,!0,!0),he}function Hn(se){for(var he=0;he<t.selectedDates.length;he++){var Oe=t.selectedDates[he];if(Oe instanceof Date&&Ja(Oe,se)===0)return""+he}return!1}function Er(se){return t.config.mode!=="range"||t.selectedDates.length<2?!1:Ja(se,t.selectedDates[0])>=0&&Ja(se,t.selectedDates[1])<=0}function fr(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(se,he){var Oe=new Date(t.currentYear,t.currentMonth,1);Oe.setMonth(t.currentMonth+he),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[he].textContent=O0(Oe.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=Oe.getMonth().toString(),se.value=Oe.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function dr(se){var he=se||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(Oe){return t.formatDate(Oe,he)}).filter(function(Oe,Xe,te){return t.config.mode!=="range"||t.config.enableTime||te.indexOf(Oe)===Xe}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Qn(se){se===void 0&&(se=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=dr(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=dr(t.config.altFormat)),se!==!1&&Qt("onValueUpdate")}function ar(se){var he=Za(se),Oe=t.prevMonthNav.contains(he),Xe=t.nextMonthNav.contains(he);Oe||Xe?Me(Oe?-1:1):t.yearElements.indexOf(he)>=0?he.select():he.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):he.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Ar(se){se.preventDefault();var he=se.type==="keydown",Oe=Za(se),Xe=Oe;t.amPM!==void 0&&Oe===t.amPM&&(t.amPM.textContent=t.l10n.amPM[wo(t.amPM.textContent===t.l10n.amPM[0])]);var te=parseFloat(Xe.getAttribute("min")),ne=parseFloat(Xe.getAttribute("max")),G=parseFloat(Xe.getAttribute("step")),V=parseInt(Xe.value,10),Y=se.delta||(he?se.which===38?1:-1:0),K=V+G*Y;if(typeof Xe.value<"u"&&Xe.value.length===2){var de=Xe===t.hourElement,qe=Xe===t.minuteElement;K<te?(K=ne+K+wo(!de)+(wo(de)&&wo(!t.amPM)),qe&&D(void 0,-1,t.hourElement)):K>ne&&(K=Xe===t.hourElement?K-ne-wo(!t.amPM):te,qe&&D(void 0,1,t.hourElement)),t.amPM&&de&&(G===1?K+V===23:Math.abs(K-V)>G)&&(t.amPM.textContent=t.l10n.amPM[wo(t.amPM.textContent===t.l10n.amPM[0])]),Xe.value=Ta(K)}}return i(),t}function gd(n,e){for(var t=Array.prototype.slice.call(n).filter(function(o){return o instanceof HTMLElement}),r=[],i=0;i<t.length;i++){var a=t[i];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=zfe(a,e||{}),r.push(a._flatpickr)}catch(o){console.error(o)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return gd(this,n)},HTMLElement.prototype.flatpickr=function(n){return gd([this],n)});var Xr=function(n,e){return typeof n=="string"?gd(window.document.querySelectorAll(n),e):n instanceof Node?gd([n],e):gd(n,e)};Xr.defaultConfig={};Xr.l10ns={en:Fi({},Vp),default:Fi({},Vp)};Xr.localize=function(n){Xr.l10ns.default=Fi(Fi({},Xr.l10ns.default),n)};Xr.setDefaults=function(n){Xr.defaultConfig=Fi(Fi({},Xr.defaultConfig),n)};Xr.parseDate=tS({});Xr.formatDate=oR({});Xr.compareDates=Ja;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return gd(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Xr);const sR=6048e5,Hfe=864e5,SM=Symbol.for("constructDateFrom");function Bl(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&SM in n?n[SM](e):n instanceof Date?new n.constructor(e):new Date(e)}function Ro(n,e){return Bl(e||n,n)}function Ost(n,e,t){const r=Ro(n,t==null?void 0:t.in);return isNaN(e)?Bl(n,NaN):(e&&r.setDate(r.getDate()+e),r)}let qfe={};function A1(){return qfe}function $p(n,e){var l,s,f,c;const t=A1(),r=(e==null?void 0:e.weekStartsOn)??((s=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:s.weekStartsOn)??t.weekStartsOn??((c=(f=t.locale)==null?void 0:f.options)==null?void 0:c.weekStartsOn)??0,i=Ro(n,e==null?void 0:e.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function R0(n,e){return $p(n,{...e,weekStartsOn:1})}function lR(n,e){const t=Ro(n,e==null?void 0:e.in),r=t.getFullYear(),i=Bl(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=R0(i),o=Bl(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=R0(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function EM(n){const e=Ro(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Ufe(n,...e){const t=Bl.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function AM(n,e){const t=Ro(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Vfe(n,e,t){const[r,i]=Ufe(t==null?void 0:t.in,n,e),a=AM(r),o=AM(i),l=+a-EM(a),s=+o-EM(o);return Math.round((l-s)/Hfe)}function $fe(n,e){const t=lR(n,e),r=Bl(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),R0(r)}function Wfe(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Gfe(n){return!(!Wfe(n)&&typeof n!="number"||isNaN(+Ro(n)))}function jfe(n,e){const t=Ro(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Yfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zfe=(n,e,t)=>{let r;const i=Yfe[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function z_(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Kfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qfe={date:z_({formats:Kfe,defaultWidth:"full"}),time:z_({formats:Jfe,defaultWidth:"full"}),dateTime:z_({formats:Xfe,defaultWidth:"full"})},ede={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tde=(n,e,t,r)=>ede[n];function Xh(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,l=t!=null&&t.width?String(t.width):o;i=n.formattingValues[l]||n.formattingValues[o]}else{const o=n.defaultWidth,l=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[l]||n.values[o]}const a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}const nde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ide={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ade={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ode={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lde=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},ude={ordinalNumber:lde,era:Xh({values:nde,defaultWidth:"wide"}),quarter:Xh({values:rde,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Xh({values:ide,defaultWidth:"wide"}),day:Xh({values:ade,defaultWidth:"wide"}),dayPeriod:Xh({values:ode,defaultWidth:"wide",formattingValues:sde,defaultFormattingWidth:"wide"})};function Qh(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],s=Array.isArray(l)?fde(l,v=>v.test(o)):cde(l,v=>v.test(o));let f;f=n.valueCallback?n.valueCallback(s):s,f=t.valueCallback?t.valueCallback(f):f;const c=e.slice(o.length);return{value:f,rest:c}}}function cde(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function fde(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function dde(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],a=e.match(n.parsePattern);if(!a)return null;let o=n.valueCallback?n.valueCallback(a[0]):a[0];o=t.valueCallback?t.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const hde=/^(\d+)(th|st|nd|rd)?/i,pde=/\d+/i,vde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gde={any:[/^b/i,/^(a|c)/i]},mde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yde={any:[/1/i,/2/i,/3/i,/4/i]},bde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_de={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tde={ordinalNumber:dde({matchPattern:hde,parsePattern:pde,valueCallback:n=>parseInt(n,10)}),era:Qh({matchPatterns:vde,defaultMatchWidth:"wide",parsePatterns:gde,defaultParseWidth:"any"}),quarter:Qh({matchPatterns:mde,defaultMatchWidth:"wide",parsePatterns:yde,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Qh({matchPatterns:bde,defaultMatchWidth:"wide",parsePatterns:wde,defaultParseWidth:"any"}),day:Qh({matchPatterns:Cde,defaultMatchWidth:"wide",parsePatterns:xde,defaultParseWidth:"any"}),dayPeriod:Qh({matchPatterns:kde,defaultMatchWidth:"any",parsePatterns:_de,defaultParseWidth:"any"})},Sde={code:"en-US",formatDistance:Zfe,formatLong:Qfe,formatRelative:tde,localize:ude,match:Tde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ede(n,e){const t=Ro(n,e==null?void 0:e.in);return Vfe(t,jfe(t))+1}function Ade(n,e){const t=Ro(n,e==null?void 0:e.in),r=+R0(t)-+$fe(t);return Math.round(r/sR)+1}function uR(n,e){var c,v,y,k;const t=Ro(n,e==null?void 0:e.in),r=t.getFullYear(),i=A1(),a=(e==null?void 0:e.firstWeekContainsDate)??((v=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((k=(y=i.locale)==null?void 0:y.options)==null?void 0:k.firstWeekContainsDate)??1,o=Bl((e==null?void 0:e.in)||n,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=$p(o,e),s=Bl((e==null?void 0:e.in)||n,0);s.setFullYear(r,0,a),s.setHours(0,0,0,0);const f=$p(s,e);return+t>=+l?r+1:+t>=+f?r:r-1}function Mde(n,e){var l,s,f,c;const t=A1(),r=(e==null?void 0:e.firstWeekContainsDate)??((s=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:s.firstWeekContainsDate)??t.firstWeekContainsDate??((c=(f=t.locale)==null?void 0:f.options)==null?void 0:c.firstWeekContainsDate)??1,i=uR(n,e),a=Bl((e==null?void 0:e.in)||n,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),$p(a,e)}function Nde(n,e){const t=Ro(n,e==null?void 0:e.in),r=+$p(t,e)-+Mde(t,e);return Math.round(r/sR)+1}function er(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const cu={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return er(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):er(t+1,2)},d(n,e){return er(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return er(n.getHours()%12||12,e.length)},H(n,e){return er(n.getHours(),e.length)},m(n,e){return er(n.getMinutes(),e.length)},s(n,e){return er(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return er(i,e.length)}},Qf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MM={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return cu.y(n,e)},Y:function(n,e,t,r){const i=uR(n,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return er(o,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):er(a,e.length)},R:function(n,e){const t=lR(n);return er(t,e.length)},u:function(n,e){const t=n.getFullYear();return er(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return er(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return er(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return cu.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return er(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=Nde(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):er(i,e.length)},I:function(n,e,t){const r=Ade(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):er(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):cu.d(n,e)},D:function(n,e,t){const r=Ede(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):er(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return er(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return er(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return er(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Qf.noon:r===0?i=Qf.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Qf.evening:r>=12?i=Qf.afternoon:r>=4?i=Qf.morning:i=Qf.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return cu.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):cu.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):er(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):er(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):cu.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):cu.s(n,e)},S:function(n,e){return cu.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return DM(r);case"XXXX":case"XX":return kc(r);case"XXXXX":case"XXX":default:return kc(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return DM(r);case"xxxx":case"xx":return kc(r);case"xxxxx":case"xxx":default:return kc(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+NM(r,":");case"OOOO":default:return"GMT"+kc(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+NM(r,":");case"zzzz":default:return"GMT"+kc(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return er(r,e.length)},T:function(n,e,t){return er(+n,e.length)}};function NM(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+e+er(a,2)}function DM(n,e){return n%60===0?(n>0?"-":"+")+er(Math.abs(n)/60,2):kc(n,e)}function kc(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=er(Math.trunc(r/60),2),a=er(r%60,2);return t+i+e+a}const LM=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cR=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Dde=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return LM(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",LM(r,e)).replace("{{time}}",cR(i,e))},Lde={p:cR,P:Dde},Ode=/^D+$/,Rde=/^Y+$/,Ide=["D","DD","YY","YYYY"];function Bde(n){return Ode.test(n)}function Pde(n){return Rde.test(n)}function Fde(n,e,t){const r=zde(n,e,t);if(console.warn(r),Ide.includes(n))throw new RangeError(r)}function zde(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Hde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ude=/^'([^]*?)'?$/,Vde=/''/g,$de=/[a-zA-Z]/;function Rst(n,e,t){var c,v,y,k;const r=A1(),i=r.locale??Sde,a=r.firstWeekContainsDate??((v=(c=r.locale)==null?void 0:c.options)==null?void 0:v.firstWeekContainsDate)??1,o=r.weekStartsOn??((k=(y=r.locale)==null?void 0:y.options)==null?void 0:k.weekStartsOn)??0,l=Ro(n,t==null?void 0:t.in);if(!Gfe(l))throw new RangeError("Invalid time value");let s=e.match(qde).map(x=>{const R=x[0];if(R==="p"||R==="P"){const d=Lde[R];return d(x,i.formatLong)}return x}).join("").match(Hde).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const R=x[0];if(R==="'")return{isToken:!1,value:Wde(x)};if(MM[R])return{isToken:!0,value:x};if(R.match($de))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(s=i.localize.preprocessor(l,s));const f={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return s.map(x=>{if(!x.isToken)return x.value;const R=x.value;(Pde(R)||Bde(R))&&Fde(R,e,String(n));const d=MM[R[0]];return d(l,R,i.localize,f)}).join("")}function Wde(n){const e=n.match(Ude);return e?e[1].replace(Vde,"'"):n}var gp={exports:{}},Gde=gp.exports,OM;function jde(){return OM||(OM=1,function(n,e){(function(t,r){r(e)})(Gde,function(t){var r=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},i={weekdays:{shorthand:["æ¥","æ","ç«","æ°´","æ¨","é","å"],longhand:["æ¥ææ¥","æææ¥","ç«ææ¥","æ°´ææ¥","æ¨ææ¥","éææ¥","åææ¥"]},months:{shorthand:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],longhand:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"]},time_24hr:!0,rangeSeparator:" ãã ",monthAriaLabel:"æ",amPM:["åå","åå¾"],yearAriaLabel:"å¹´",hourAriaLabel:"æé",minuteAriaLabel:"å"};r.l10ns.ja=i;var a=r.l10ns;t.Japanese=i,t.default=a,Object.defineProperty(t,"__esModule",{value:!0})})}(gp,gp.exports)),gp.exports}var Ist=jde();const RM={rtl:{italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.5 15.8" xml:space="preserve"><g><path d="M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><path d="M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z"/></g><path d="M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z"/><path d="M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z"/><path d="M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z"/></g></svg>'},redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',bookmark:'<svg viewBox="0 0 24 24"><path d="M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z" /></svg>',download:'<svg viewBox="0 0 24 24"><path d="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z" /></svg>',dir_ltr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z"/></svg>',dir_rtl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z"/></svg>',alert_outline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'};var jm={exports:{}},Yde=jm.exports,IM;function Zde(){return IM||(IM=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("SUNEDITOR_LANG a window with a document");return t(r)}})(typeof window<"u"?window:Yde,function(e,t){const r={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery",dir_ltr:"Left to right",dir_rtl:"Right to left",mention:"Mention"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window",downloadLinkCheck:"Download link",bookmark:"Bookmark"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return typeof t>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:r})),r})}(jm)),jm.exports}var Kde=Zde();const Jde=Oo(Kde),ln={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,isChromium:null,isMobile:null,isResizeObserverSupported:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform),this.isChromium=!!window.chrome,this.isResizeObserverSupported=typeof ResizeObserver=="function",this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"ontouchstart"in window)},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(n){const e={"&":"&amp;","Â ":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return n.replace(/&|\u00A0|'|"|<|>/g,function(t){return typeof e[t]=="string"?e[t]:t})},zeroWidthSpace:"â",zeroWidthRegExp:new RegExp("â","g"),onlyZeroWidthRegExp:new RegExp("^â+$"),fontValueMap:{"xx-small":1,"x-small":2,small:3,medium:4,large:5,"x-large":6,"xx-large":7},onlyZeroWidthSpace:function(n){return n==null?!1:(typeof n!="string"&&(n=n.textContent),n===""||this.onlyZeroWidthRegExp.test(n))},getXMLHttpRequest:function(){if(this._w.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{return null}}else return this._w.XMLHttpRequest?new XMLHttpRequest:null},getValues:function(n){return n?this._w.Object.keys(n).map(function(e){return n[e]}):[]},camelToKebabCase:function(n){return typeof n=="string"?n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}):n.map(function(e){return ln.camelToKebabCase(e)})},kebabToCamelCase:function(n){return typeof n=="string"?n.replace(/-[a-zA-Z]/g,function(e){return e.replace("-","").toUpperCase()}):n.map(function(e){return ln.camelToKebabCase(e)})},createElement:function(n){return this._d.createElement(n)},createTextNode:function(n){return this._d.createTextNode(n||"")},HTMLEncoder:function(n){const e={"<":"$lt;",">":"$gt;"};return n.replace(/<|>/g,function(t){return typeof e[t]=="string"?e[t]:t})},HTMLDecoder:function(n){const e={"$lt;":"<","$gt;":">"};return n.replace(/\$lt;|\$gt;/g,function(t){return typeof e[t]=="string"?e[t]:t})},hasOwn:function(n,e){return this._hasOwn.call(n,e)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(n,e){let t="";const r=[],i=e==="js"?"script":"link",a=e==="js"?"src":"href";let o="(?:";for(let f=0,c=n.length;f<c;f++)o+=n[f]+(f<c-1?"|":")");const l=new this._w.RegExp("(^|.*[\\/])"+o+"(\\.[^\\/]+)?."+e+"(?:\\?.*|;.*)?$","i"),s=new this._w.RegExp(".+\\."+e+"(?:\\?.*|;.*)?$","i");for(let f=this._d.getElementsByTagName(i),c=0;c<f.length;c++)s.test(f[c][a])&&r.push(f[c]);for(let f=0;f<r.length;f++){let c=r[f][a].match(l);if(c){t=c[0];break}}if(t===""&&(t=r.length>0?r[0][a]:""),t.indexOf(":/")===-1&&t.slice(0,2)!=="//"&&(t=t.indexOf("/")===0?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+e+")";return t},getPageStyle:function(n){let e="";const t=(n||this._d).styleSheets;for(let r=0,i=t.length,a;r<i;r++){try{a=t[r].cssRules}catch{continue}if(a)for(let o=0,l=a.length;o<l;o++)e+=a[o].cssText}return e},getIframeDocument:function(n){let e=n.contentWindow||n.contentDocument;return e.document&&(e=e.document),e},getAttributesToString:function(n,e){if(!n.attributes)return"";const t=n.attributes;let r="";for(let i=0,a=t.length;i<a;i++)e&&e.indexOf(t[i].name)>-1||(r+=t[i].name+'="'+t[i].value+'" ');return r},getByteLength:function(n){if(!n||!n.toString)return 0;n=n.toString();const e=this._w.encodeURIComponent;let t,r;return this.isIE_Edge?(r=this._w.unescape(e(n)).length,t=0,e(n).match(/(%0A|%0D)/gi)!==null&&(t=e(n).match(/(%0A|%0D)/gi).length),r+t):(r=new this._w.TextEncoder("utf-8").encode(n).length,t=0,e(n).match(/(%0A|%0D)/gi)!==null&&(t=e(n).match(/(%0A|%0D)/gi).length),r+t)},isWysiwygDiv:function(n){return n&&n.nodeType===1&&(this.hasClass(n,"se-wrapper-wysiwyg")||/^BODY$/i.test(n.nodeName))},isNonEditable:function(n){return n&&n.nodeType===1&&n.getAttribute("contenteditable")==="false"},isTextStyleElement:function(n){return n&&n.nodeType!==3&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(n.nodeName)},isInputElement:function(n){return n&&n.nodeType===1&&/^(INPUT|TEXTAREA)$/i.test(n.nodeName)},isFormatElement:function(n){return n&&n.nodeType===1&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(n.nodeName)||this.hasClass(n,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(n)&&!this.isWysiwygDiv(n)},isRangeFormatElement:function(n){return n&&n.nodeType===1&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(n.nodeName)||this.hasClass(n,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(n){return n&&n.nodeType===1&&(/^(TH|TD)$/i.test(n.nodeName)||this.hasClass(n,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(n){return n&&n.nodeType===1&&(/^PRE$/i.test(n.nodeName)||this.hasClass(n,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(n)&&!this.isWysiwygDiv(n)},isClosureFreeFormatElement:function(n){return n&&n.nodeType===1&&this.hasClass(n,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(n){return n&&(/se-component/.test(n.className)||/^(TABLE|HR)$/.test(n.nodeName))},isUneditableComponent:function(n){return n&&this.hasClass(n,"__se__uneditable")},isMediaComponent:function(n){return n&&/se-component/.test(n.className)},isNotCheckingNode:function(n){return n&&/katex|__se__tag/.test(n.className)},getFormatElement:function(n,e){if(!n)return null;for(e||(e=function(){return!0});n;){if(this.isWysiwygDiv(n))return null;if(this.isRangeFormatElement(n)&&n.firstElementChild,this.isFormatElement(n)&&e(n))return n;n=n.parentNode}return null},getRangeFormatElement:function(n,e){if(!n)return null;for(e||(e=function(){return!0});n;){if(this.isWysiwygDiv(n))return null;if(this.isRangeFormatElement(n)&&!/^(THEAD|TBODY|TR)$/i.test(n.nodeName)&&e(n))return n;n=n.parentNode}return null},getFreeFormatElement:function(n,e){if(!n)return null;for(e||(e=function(){return!0});n;){if(this.isWysiwygDiv(n))return null;if(this.isFreeFormatElement(n)&&e(n))return n;n=n.parentNode}return null},getClosureFreeFormatElement:function(n,e){if(!n)return null;for(e||(e=function(){return!0});n;){if(this.isWysiwygDiv(n))return null;if(this.isClosureFreeFormatElement(n)&&e(n))return n;n=n.parentNode}return null},copyTagAttributes:function(n,e,t){if(e.style.cssText){const i=e.style;for(let a=0,o=i.length;a<o;a++)n.style[i[a]]=i[i[a]]}const r=e.attributes;for(let i=0,a=r.length,o;i<a;i++)o=r[i].name.toLowerCase(),t&&t.indexOf(o)>-1||!r[i].value?n.removeAttribute(o):o!=="style"&&n.setAttribute(r[i].name,r[i].value)},copyFormatAttributes:function(n,e){e=e.cloneNode(!1),e.className=e.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(n,e)},getArrayItem:function(n,e,t){if(!n||n.length===0)return null;e=e||function(){return!0};const r=[];for(let i=0,a=n.length,o;i<a;i++)if(o=n[i],e(o))if(t)r.push(o);else return o;return t?r:null},arrayIncludes:function(n,e){for(let t=0;t<n.length;t++)if(n[t]===e)return!0;return!1},getArrayIndex:function(n,e){let t=-1;for(let r=0,i=n.length;r<i;r++)if(n[r]===e){t=r;break}return t},nextIdx:function(n,e){let t=this.getArrayIndex(n,e);return t===-1?-1:t+1},prevIdx:function(n,e){let t=this.getArrayIndex(n,e);return t===-1?-1:t-1},getPositionIndex:function(n){let e=0;for(;n=n.previousSibling;)e+=1;return e},getNodePath:function(n,e,t){const r=[];let i=!0;return this.getParentElement(n,(function(a){if(a===e&&(i=!1),i&&!this.isWysiwygDiv(a)){if(t&&a.nodeType===3){let o=null,l=null;t.s=t.e=0;let s=a.previousSibling;for(;s&&s.nodeType===3;)l=s.textContent.replace(this.zeroWidthRegExp,""),t.s+=l.length,a.textContent=l+a.textContent,o=s,s=s.previousSibling,this.removeItem(o);let f=a.nextSibling;for(;f&&f.nodeType===3;)l=f.textContent.replace(this.zeroWidthRegExp,""),t.e+=l.length,a.textContent+=l,o=f,f=f.nextSibling,this.removeItem(o)}r.push(a)}return!1}).bind(this)),r.map(this.getPositionIndex).reverse()},getNodeFromPath:function(n,e){let t=e,r;for(let i=0,a=n.length;i<a&&(r=t.childNodes,r.length!==0);i++)r.length<=n[i]?t=r[r.length-1]:t=r[n[i]];return t},isSameAttributes:function(n,e){if(n.nodeType===3&&e.nodeType===3)return!0;if(n.nodeType===3||e.nodeType===3)return!1;const t=n.style,r=e.style;let i=0;for(let f=0,c=t.length;f<c;f++)t[t[f]]===r[t[f]]&&i++;const a=n.classList,o=e.classList,l=this._w.RegExp;let s=0;for(let f=0,c=a.length;f<c;f++)l("(s|^)"+a[f]+"(s|$)").test(o.value)&&s++;return i===r.length&&i===t.length&&s===o.length&&s===a.length},isEmptyLine:function(n){return!n||!n.parentNode||!n.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&n.children.length===0&&this.onlyZeroWidthSpace(n.textContent)},isSpanWithoutAttr:function(n){return!!n&&n.nodeType===1&&/^SPAN$/i.test(n.nodeName)&&!n.className&&!n.style.cssText},isList:function(n){return n&&/^(OL|UL)$/i.test(typeof n=="string"?n:n.nodeName)},isListCell:function(n){return n&&/^LI$/i.test(typeof n=="string"?n:n.nodeName)},isTable:function(n){return n&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof n=="string"?n:n.nodeName)},isCell:function(n){return n&&/^(TD|TH)$/i.test(typeof n=="string"?n:n.nodeName)},isBreak:function(n){return n&&/^BR$/i.test(typeof n=="string"?n:n.nodeName)},isAnchor:function(n){return n&&/^A$/i.test(typeof n=="string"?n:n.nodeName)},isMedia:function(n){return n&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof n=="string"?n:n.nodeName)},isFigures:function(n){return n&&(this.isMedia(n)||/^(FIGURE)$/i.test(typeof n=="string"?n:n.nodeName))},isNumber:function(n){return!!n&&/^-?\d+(\.\d+)?$/.test(n+"")},getNumber:function(n,e){if(!n)return 0;let t=(n+"").match(/-?\d+(\.\d+)?/);return!t||!t[0]?0:(t=t[0],e<0?t*1:e===0?this._w.Math.round(t*1):(t*1).toFixed(e)*1)},getListChildren:function(n,e){const t=[];return!n||!n.children||n.children.length===0||(e=e||function(){return!0},function r(i){if(n!==i&&e(i)&&t.push(i),i.children)for(let a=0,o=i.children.length;a<o;a++)r(i.children[a])}(n)),t},getListChildNodes:function(n,e){const t=[];return!n||n.childNodes.length===0||(e=e||function(){return!0},function r(i){n!==i&&e(i)&&t.push(i);for(let a=0,o=i.childNodes.length;a<o;a++)r(i.childNodes[a])}(n)),t},getElementDepth:function(n){if(!n||this.isWysiwygDiv(n))return-1;let e=0;for(n=n.parentNode;n&&!this.isWysiwygDiv(n);)e+=1,n=n.parentNode;return e},compareElements:function(n,e){let t=n,r=e;for(;t&&r&&t.parentNode!==r.parentNode;)t=t.parentNode,r=r.parentNode;if(!t||!r)return{ancestor:null,a:n,b:e,result:0};const i=t.parentNode.childNodes,a=this.getArrayIndex(i,t),o=this.getArrayIndex(i,r);return{ancestor:t.parentNode,a:t,b:r,result:a>o?1:a<o?-1:0}},getParentElement:function(n,e){let t;if(typeof e=="function")t=e;else{let r;/^\./.test(e)?(r="className",e=e.split(".")[1]):/^#/.test(e)?(r="id",e="^"+e.split("#")[1]+"$"):/^:/.test(e)?(r="name",e="^"+e.split(":")[1]+"$"):(r="nodeName",e="^"+e+"$");const i=new this._w.RegExp(e,"i");t=function(a){return i.test(a[r])}}for(;n&&!t(n);){if(this.isWysiwygDiv(n))return null;n=n.parentNode}return n},getPreviousDeepestNode:function(n,e){let t=n.previousSibling;if(!t){for(let r=n.parentNode;r;r=r.parentNode){if(r===e)return null;if(r.previousSibling){t=r.previousSibling;break}}if(!t)return null}for(;t.lastChild;)t=t.lastChild;return t},getNextDeepestNode:function(n,e){let t=n.nextSibling;if(!t){for(let r=n.parentNode;r;r=r.parentNode){if(r===e)return null;if(r.nextSibling){t=r.nextSibling;break}}if(!t)return null}for(;t.firstChild;)t=t.firstChild;return t},getChildElement:function(n,e,t){let r;if(typeof e=="function")r=e;else{let a;/^\./.test(e)?(a="className",e=e.split(".")[1]):/^#/.test(e)?(a="id",e="^"+e.split("#")[1]+"$"):/^:/.test(e)?(a="name",e="^"+e.split(":")[1]+"$"):(a="nodeName",e="^"+(e==="text"?"#"+e:e)+"$");const o=new this._w.RegExp(e,"i");r=function(l){return o.test(l[a])}}const i=this.getListChildNodes(n,function(a){return r(a)});return i[t?i.length-1:0]},getEdgeChildNodes:function(n,e){if(n){for(e||(e=n);n&&n.nodeType===1&&n.childNodes.length>0&&!this.isBreak(n);)n=n.firstChild;for(;e&&e.nodeType===1&&e.childNodes.length>0&&!this.isBreak(e);)e=e.lastChild;return{sc:n,ec:e||n}}},getOffset:function(n,e){let t=0,r=0,i=n.nodeType===3?n.parentElement:n;const a=this.getParentElement(n,this.isWysiwygDiv.bind(this));for(;i&&!this.hasClass(i,"se-container")&&i!==a;)t+=i.offsetLeft,r+=i.offsetTop,i=i.offsetParent;const o=e&&/iframe/i.test(e.nodeName);return{left:t+(o?e.parentElement.offsetLeft:0),top:r-(a?a.scrollTop:0)+(o?e.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(n,e,t,r){if(n<=r?e<t:e>t)return 0;const i=(n>t?n:t)-(e<r?e:r);return(i<0?i*-1:i)+1},changeTxt:function(n,e){!n||!e||(n.textContent=e)},changeElement:function(n,e){if(typeof e=="string")if(n.outerHTML)n.outerHTML=e;else{const t=this.createElement("DIV");t.innerHTML=e,e=t.firstChild,n.parentNode.replaceChild(e,n)}else e.nodeType===1&&n.parentNode.replaceChild(e,n)},setStyle:function(n,e,t){n.style[e]=t,!t&&!n.style.cssText&&n.removeAttribute("style")},hasClass:function(n,e){if(n)return new this._w.RegExp(e).test(n.className)},addClass:function(n,e){!n||new this._w.RegExp("(\\s|^)"+e+"(\\s|$)").test(n.className)||(n.className+=(n.className.length>0?" ":"")+e)},removeClass:function(n,e){if(!n)return;const t=new this._w.RegExp("(\\s|^)"+e+"(\\s|$)");n.className=n.className.replace(t," ").trim(),n.className.trim()||n.removeAttribute("class")},toggleClass:function(n,e){if(!n)return;let t=!1;const r=new this._w.RegExp("(\\s|^)"+e+"(\\s|$)");return r.test(n.className)?n.className=n.className.replace(r," ").trim():(n.className+=" "+e,t=!0),n.className.trim()||n.removeAttribute("class"),t},isImportantDisabled:function(n){return n.hasAttribute("data-important-disabled")},setDisabledButtons:function(n,e,t){for(let r=0,i=e.length;r<i;r++){let a=e[r];(t||!this.isImportantDisabled(a))&&(a.disabled=n),t&&(n?a.setAttribute("data-important-disabled",""):a.removeAttribute("data-important-disabled"))}},removeItem:function(n){n&&(typeof n.remove=="function"?n.remove():n.parentNode&&n.parentNode.removeChild(n))},removeItemAllParents:function(n,e,t){if(!n)return null;let r=null;return e||(e=(function(i){if(i===t||this.isComponent(i))return!1;const a=i.textContent.trim();return a.length===0||/^(\n|\u200B)+$/.test(a)}).bind(this)),function i(a){if(!ln.isWysiwygDiv(a)){const o=a.parentNode;o&&e(a)&&(r={sc:a.previousElementSibling,ec:a.nextElementSibling},ln.removeItem(a),i(o))}}(n),r},detachNestedList:function(n,e){const t=this._deleteNestedList(n);let r,i;if(t){r=t.cloneNode(!1),i=t.childNodes;const o=this.getPositionIndex(n);for(;i[o];)r.appendChild(i[o])}else r=n;let a;if(e)a=this.getListChildren(r,(function(o){return this.isListCell(o)&&!o.previousElementSibling}).bind(this));else{const o=this.getElementDepth(n)+2;a=this.getListChildren(n,(function(l){return this.isListCell(l)&&!l.previousElementSibling&&this.getElementDepth(l)===o}).bind(this))}for(let o=0,l=a.length;o<l;o++)this._deleteNestedList(a[o]);return t&&(t.parentNode.insertBefore(r,t.nextSibling),i&&i.length===0&&this.removeItem(t)),r===n?r.parentNode:r},_deleteNestedList:function(n){const e=n.parentNode;let t=e,r=t.parentNode,i,a,o,l,s;for(;this.isListCell(r);){for(l=this.getPositionIndex(n),i=r.nextElementSibling,a=r.parentNode,o=t;o;){if(t=t.nextSibling,this.isList(o)){for(s=o.childNodes;s[l];)a.insertBefore(s[l],i);s.length===0&&this.removeItem(o)}else a.appendChild(o);o=t}t=a,r=a.parentNode}return e.children.length===0&&this.removeItem(e),a},splitElement:function(n,e,t){if(this.isWysiwygDiv(n))return n;if(e&&!this.isNumber(e)){const y=n.childNodes;let k=this.getPositionIndex(e);const x=n.cloneNode(!1),R=n.cloneNode(!1);for(let d=0,h=y.length;d<h;d++){if(d<k)x.appendChild(y[d]);else if(d>k)R.appendChild(y[d]);else continue;d--,h--,k--}return x.childNodes.length>0&&n.parentNode.insertBefore(x,n),R.childNodes.length>0&&n.parentNode.insertBefore(R,n.nextElementSibling),n}const r=n.parentNode;let i=0,a=1,o=!0,l,s,f;if((!t||t<0)&&(t=0),n.nodeType===3){if(i=this.getPositionIndex(n),e>=0&&n.length!==e){n.splitText(e);const y=this.getNodeFromPath([i+1],r);this.onlyZeroWidthSpace(y)&&(y.data=this.zeroWidthSpace)}}else if(n.nodeType===1){if(e===0){for(;n.firstChild;)n=n.firstChild;if(n.nodeType===3){const y=this.createTextNode(this.zeroWidthSpace);n.parentNode.insertBefore(y,n),n=y}}n.previousSibling?n=n.previousSibling:this.getElementDepth(n)===t&&(o=!1)}n.nodeType===1&&(a=0);let c=n;for(;this.getElementDepth(c)>t;)for(i=this.getPositionIndex(c)+a,c=c.parentNode,f=l,l=c.cloneNode(!1),s=c.childNodes,f&&(this.isListCell(l)&&this.isList(f)&&f.firstElementChild?(l.innerHTML=f.firstElementChild.innerHTML,ln.removeItem(f.firstElementChild),f.children.length>0&&l.appendChild(f)):l.appendChild(f));s[i];)l.appendChild(s[i]);c.childNodes.length<=1&&(!c.firstChild||c.firstChild.textContent.length===0)&&(c.innerHTML="<br>");const v=c.parentNode;return o&&(c=c.nextSibling),l?(this.mergeSameTags(l,null,!1),this.mergeNestedTags(l,(function(y){return this.isList(y)}).bind(this)),l.childNodes.length>0?v.insertBefore(l,c):l=c,this.isListCell(l)&&l.children&&this.isList(l.children[0])&&l.insertBefore(this.createElement("BR"),l.children[0]),r.childNodes.length===0&&this.removeItem(r),l):c},mergeSameTags:function(n,e,t){const r=this,i=e?e.length:0;let a=null;return i&&(a=this._w.Array.apply(null,new this._w.Array(i)).map(this._w.Number.prototype.valueOf,0)),function o(l,s,f){const c=l.childNodes;for(let v=0,y=c.length,k,x;v<y&&(k=c[v],x=c[v+1],!!k);v++)if(!(r.isBreak(k)||r.isMedia(k)||r.isInputElement(k))){if(t&&r._isIgnoreNodeChange(k)||!t&&(r.isTable(k)||r.isListCell(k)||r.isFormatElement(k)&&!r.isFreeFormatElement(k))){(r.isTable(k)||r.isListCell(k))&&o(k,s+1,v);continue}if(y===1&&l.nodeName===k.nodeName&&l.parentNode){if(i){let R,d,h,w,A;for(let D=0;D<i;D++)if(R=e[D],R&&R[s]===v){for(d=k,h=l,w=s,A=!0;w>=0;){if(r.getArrayIndex(h.childNodes,d)!==R[w]){A=!1;break}d=k.parentNode,h=d.parentNode,w--}A&&(R.splice(s,1),R[s]=v)}}r.copyTagAttributes(k,l),l.parentNode.insertBefore(k,l),r.removeItem(l)}if(!x){k.nodeType===1&&o(k,s+1,v);break}if(k.nodeName===x.nodeName&&r.isSameAttributes(k,x)&&k.href===x.href){const R=k.childNodes;let d=0;for(let D=0,I=R.length;D<I;D++)R[D].textContent.length>0&&d++;const h=k.lastChild,w=x.firstChild;let A=0;if(h&&w){const D=h.nodeType===3&&w.nodeType===3;A=h.textContent.length;let I=h.previousSibling;for(;I&&I.nodeType===3;)A+=I.textContent.length,I=I.previousSibling;if(d>0&&h.nodeType===3&&w.nodeType===3&&(h.textContent.length>0||w.textContent.length>0)&&d--,i){let O=null;for(let F=0;F<i;F++)if(O=e[F],O&&O[s]>v){if(s>0&&O[s-1]!==f)continue;O[s]-=1,O[s+1]>=0&&O[s]===v&&(O[s+1]+=d,D&&h&&h.nodeType===3&&w&&w.nodeType===3&&(a[F]+=A))}}}if(k.nodeType===3){if(A=k.textContent.length,k.textContent+=x.textContent,i){let D=null;for(let I=0;I<i;I++)if(D=e[I],D&&D[s]>v){if(s>0&&D[s-1]!==f)continue;D[s]-=1,D[s+1]>=0&&D[s]===v&&(D[s+1]+=d,a[I]+=A)}}}else k.innerHTML+=x.innerHTML;r.removeItem(x),v--}else k.nodeType===1&&o(k,s+1,v)}}(n,0,0),a},mergeNestedTags:function(n,e){typeof e=="string"?e=(function(t){return this.test(t.tagName)}).bind(new this._w.RegExp("^("+(e||".+")+")$","i")):typeof e!="function"&&(e=function(){return!0}),function t(r){let i=r.children;if(i.length===1&&i[0].nodeName===r.nodeName&&e(r)){const a=i[0];for(i=a.children;i[0];)r.appendChild(i[0]);r.removeChild(a)}for(let a=0,o=r.children.length;a<o;a++)t(r.children[a])}(n)},removeEmptyNode:function(n,e,t){const r=this;e&&(e=r.getParentElement(e,function(i){return n===i.parentElement})),function i(a){if(r._notTextNode(a)||a===e||r.isNonEditable(a))return 0;if(a!==n&&r.onlyZeroWidthSpace(a.textContent)&&(!a.firstChild||!r.isBreak(a.firstChild))&&!a.querySelector(r._allowedEmptyNodeList)){if(a.parentNode)return a.parentNode.removeChild(a),-1}else{const o=a.children;for(let l=0,s=o.length,f=0;l<s;l++)!o[l+f]||r.isComponent(o[l+f])||(f+=i(o[l+f]))}return 0}(n),n.childNodes.length===0&&(t?this.removeItem(n):n.innerHTML="<br>")},htmlRemoveWhiteSpace:function(n){return n?n.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/ig,function(e){return e.replace(/\n/g,"").replace(/\s+/," ")}):""},htmlCompress:function(n){return n.replace(/\n/g,"").replace(/(>)(?:\s+)(<)/g,"$1$2")},sortByDepth:function(n,e){const t=e?1:-1,r=t*-1;n.sort((function(i,a){return!this.isListCell(i)||!this.isListCell(a)?0:(i=this.getElementDepth(i),a=this.getElementDepth(a),i>a?t:i<a?r:0)}).bind(this))},escapeStringRegexp:function(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},_isExcludeSelectionElement:function(n){return!/FIGCAPTION/i.test(n.nodeName)&&(this.isComponent(n)||/FIGURE/i.test(n.nodeName))},_isIgnoreNodeChange:function(n){return n&&n.nodeType!==3&&(this.isNonEditable(n)||!this.isTextStyleElement(n))},_isMaintainedNode:function(n){return n&&n.nodeType!==3&&/^(a|label|code|summary)$/i.test(typeof n=="string"?n:n.nodeName)},_isSizeNode:function(n){return n&&n.nodeType!==3&&this.isTextStyleElement(n)&&!!n.style.fontSize},_notTextNode:function(n){return n&&n.nodeType!==3&&(this.isComponent(n)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof n=="string"?n:n.nodeName))},_disallowedTags:function(n){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(n.nodeName)},createTagsWhitelist:function(n){return new RegExp("<\\/?\\b(?!\\b"+(n||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(n){return new RegExp("<\\/?\\b(?:\\b"+(n||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(n,e,t,r,i){const a=[],o=[],l=[],s=[],f=this.getListChildNodes(n,(function(v){if(v.nodeType!==1)return this.isList(v.parentElement)&&a.push(v),!1;if(t.test(v.nodeName)||!e.test(v.nodeName)&&v.childNodes.length===0&&this.isNotCheckingNode(v))return a.push(v),!1;const y=!this.getParentElement(v,this.isNotCheckingNode);if(!this.isTable(v)&&!this.isListCell(v)&&!this.isAnchor(v)&&(this.isFormatElement(v)||this.isRangeFormatElement(v)||this.isTextStyleElement(v))&&v.childNodes.length===0&&y)return o.push(v),!1;if(this.isList(v.parentNode)&&!this.isList(v)&&!this.isListCell(v))return l.push(v),!1;if(this.isCell(v)){const x=v.firstElementChild;if(!this.isFormatElement(x)&&!this.isRangeFormatElement(x)&&!this.isComponent(x))return s.push(v),!1}if(y&&v.className){const x=new this._w.Array(v.classList).map(r).join(" ").trim();x?v.className=x:v.removeAttribute("class")}return i&&v.parentNode!==n&&y&&(this.isListCell(v)&&!this.isList(v.parentNode)||(this.isFormatElement(v)||this.isComponent(v))&&!this.isRangeFormatElement(v.parentNode)&&!this.getParentElement(v,this.isComponent))}).bind(this));for(let v=0,y=a.length;v<y;v++)this.removeItem(a[v]);const c=[];for(let v=0,y=f.length,k,x;v<y;v++)if(k=f[v],x=k.parentNode,!(!x||!x.parentNode))if(this.getParentElement(k,this.isListCell)){const R=k.childNodes;for(let d=R.length-1;y>=0;d--)x.insertBefore(k,R[d]);c.push(k)}else x.parentNode.insertBefore(k,x),c.push(x);for(let v=0,y=c.length,k;v<y;v++)k=c[v],this.onlyZeroWidthSpace(k.textContent.trim())&&this.removeItem(k);for(let v=0,y=o.length;v<y;v++)this.removeItem(o[v]);for(let v=0,y=l.length,k,x,R,d;v<y;v++)if(k=l[v],d=k.parentNode,!!d)if(x=this.createElement("LI"),this.isFormatElement(k)){for(R=k.childNodes;R[0];)x.appendChild(R[0]);d.insertBefore(x,k),this.removeItem(k)}else k=k.nextSibling,x.appendChild(l[v]),d.insertBefore(x,k);for(let v=0,y=s.length,k,x;v<y;v++)k=s[v],x=this.createElement("DIV"),x.innerHTML=k.textContent.trim().length===0&&k.children.length===0?"<br>":k.innerHTML,k.innerHTML=x.outerHTML},_setDefaultOptionStyle:function(n,e){let t="";n.height&&(t+="height:"+n.height+";"),n.minHeight&&(t+="min-height:"+n.minHeight+";"),n.maxHeight&&(t+="max-height:"+n.maxHeight+";"),n.position&&(t+="position:"+n.position+";"),n.width&&(t+="width:"+n.width+";"),n.minWidth&&(t+="min-width:"+n.minWidth+";"),n.maxWidth&&(t+="max-width:"+n.maxWidth+";");let r="",i="",a="";e=t+e;const o=e.split(";");for(let l=0,s=o.length,f;l<s;l++)if(f=o[l].trim(),!!f){if(/^(min-|max-)?width\s*:/.test(f)||/^(z-index|position)\s*:/.test(f)){r+=f+";";continue}if(/^(min-|max-)?height\s*:/.test(f)){/^height/.test(f)&&f.split(":")[1].trim()==="auto"&&(n.height="auto"),i+=f+";";continue}a+=f+";"}return{top:r,frame:i,editor:a}},_setIframeDocument:function(n,e){n.setAttribute("scrolling","auto"),n.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'+this._setIframeCssTags(e),n.contentDocument.body.className=e._editableClass,n.contentDocument.body.setAttribute("contenteditable",!0),n.contentDocument.body.setAttribute("autocorrect","off")},_setIframeCssTags:function(n){const e=n.iframeCSSFileName,t=this._w.RegExp;let r="";for(let i=0,a=e.length,o;i<a;i++){if(o=[],/(^https?:\/\/)|(^data:text\/css,)/.test(e[i]))o.push(e[i]);else{const l=new t("(^|.*[\\/])"+e[i]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let s=document.getElementsByTagName("link"),f=0,c=s.length,v;f<c;f++)v=s[f].href.match(l),v&&o.push(v[0])}if(!o||o.length===0)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let l=0,s=o.length;l<s;l++)r+='<link href="'+o[l]+'" rel="stylesheet">'}return r+(n.height==="auto"?`<style>
/** Iframe height auto */
body{height: min-content; overflow: hidden;}
</style>`:"")}},nS={init:function(n,e){typeof e!="object"&&(e={});const t=document;this._initOptions(n,e);const r=t.createElement("DIV");r.className="sun-editor"+(e.rtl?" se-rtl":""),n.id&&(r.id="suneditor_"+n.id);const i=t.createElement("DIV");i.className="se-container";const a=this._createToolBar(t,e.buttonList,e.plugins,e),o=a.element.cloneNode(!1);o.className+=" se-toolbar-shadow",a.element.style.visibility="hidden",a.pluginCallButtons.math&&this._checkKatexMath(e.katex);const l=t.createElement("DIV");l.className="se-arrow";const s=t.createElement("DIV");s.className="se-toolbar-sticky-dummy";const f=t.createElement("DIV");f.className="se-wrapper";const c=this._initElements(e,r,a.element,l),v=c.bottomBar,y=c.wysiwygFrame,k=c.placeholder;let x=c.codeView;const R=v.resizingBar,d=v.navigation,h=v.charWrapper,w=v.charCounter,A=t.createElement("DIV");A.className="se-loading-box sun-editor-common",A.innerHTML='<div class="se-loading-effect"></div>';const D=t.createElement("DIV");D.className="se-line-breaker",D.innerHTML='<button class="se-btn">'+e.icons.line_break+"</button>";const I=t.createElement("DIV");I.className+="se-line-breaker-component";const O=I.cloneNode(!0);I.innerHTML=O.innerHTML=e.icons.line_break;const F=t.createElement("DIV");F.className="se-resizing-back";const $=t.createElement("INPUT");$.tabIndex=-1,$.style.cssText="position: fixed !important; top: -10000px !important; display: block !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important;";const z=e.toolbarContainer;z&&(z.appendChild(a.element),z.appendChild(o));const ee=e.resizingBarContainer;return R&&ee&&ee.appendChild(R),f.appendChild(x),k&&f.appendChild(k),z||(i.appendChild(a.element),i.appendChild(o)),i.appendChild(s),i.appendChild(f),i.appendChild(F),i.appendChild(A),i.appendChild(D),i.appendChild(I),i.appendChild(O),i.appendChild($),R&&!ee&&i.appendChild(R),r.appendChild(i),x=this._checkCodeMirror(e,x),{constructed:{_top:r,_relative:i,_toolBar:a.element,_toolbarShadow:o,_menuTray:a._menuTray,_editorArea:f,_wysiwygArea:y,_codeArea:x,_placeholder:k,_resizingBar:R,_navigation:d,_charWrapper:h,_charCounter:w,_loading:A,_lineBreaker:D,_lineBreaker_t:I,_lineBreaker_b:O,_resizeBack:F,_stickyDummy:s,_arrow:l,_focusTemp:$},options:e,plugins:a.plugins,pluginCallButtons:a.pluginCallButtons,_responsiveButtons:a.responsiveButtons}},_checkCodeMirror:function(n,e){if(n.codeMirror){const t=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},n.codeMirror.options||{}].reduce(function(i,a){for(let o in a)ln.hasOwn(a,o)&&(i[o]=a[o]);return i},{});n.height==="auto"&&(t.viewportMargin=1/0,t.height="auto");const r=n.codeMirror.src.fromTextArea(e,t);r.display.wrapper.style.cssText=e.style.cssText,n.codeMirrorEditor=r,e=r.display.wrapper,e.className+=" se-wrapper-code-mirror"}return e},_checkKatexMath:function(n){if(!n)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');const e=[{throwOnError:!1},n.options||{}].reduce(function(t,r){for(let i in r)ln.hasOwn(r,i)&&(t[i]=r[i]);return t},{});n.options=e},_setOptions:function(n,e,t){this._initOptions(e.element.originElement,n);const r=e.element,i=r.relative,a=r.editorArea,o=n.toolbarContainer&&n.toolbarContainer!==t.toolbarContainer,l=n.lang!==t.lang||n.buttonList!==t.buttonList||n.mode!==t.mode||o,s=this._createToolBar(document,l?n.buttonList:t.buttonList,n.plugins,n);s.pluginCallButtons.math&&this._checkKatexMath(n.katex);const f=document.createElement("DIV");f.className="se-arrow",l&&(s.element.style.visibility="hidden",o?(n.toolbarContainer.appendChild(s.element),r.toolbar.parentElement.removeChild(r.toolbar)):r.toolbar.parentElement.replaceChild(s.element,r.toolbar),r.toolbar=s.element,r._menuTray=s._menuTray,r._arrow=f);const c=this._initElements(n,r.topArea,l?s.element:r.toolbar,f),v=c.bottomBar,y=c.wysiwygFrame,k=c.placeholder;let x=c.codeView;return r.resizingBar&&ln.removeItem(r.resizingBar),v.resizingBar&&(n.resizingBarContainer&&n.resizingBarContainer!==t.resizingBarContainer?n.resizingBarContainer.appendChild(v.resizingBar):i.appendChild(v.resizingBar)),a.innerHTML="",a.appendChild(x),k&&a.appendChild(k),x=this._checkCodeMirror(n,x),r.resizingBar=v.resizingBar,r.navigation=v.navigation,r.charWrapper=v.charWrapper,r.charCounter=v.charCounter,r.wysiwygFrame=y,r.code=x,r.placeholder=k,n.rtl?ln.addClass(r.topArea,"se-rtl"):ln.removeClass(r.topArea,"se-rtl"),{callButtons:s.pluginCallButtons,plugins:s.plugins,toolbar:s}},_initElements:function(n,e,t,r){e.style.cssText=n._editorStyles.top,/inline/i.test(n.mode)?(t.className+=" se-toolbar-inline",t.style.width=n.toolbarWidth):/balloon/i.test(n.mode)&&(t.className+=" se-toolbar-balloon",t.style.width=n.toolbarWidth,t.appendChild(r));const i=document.createElement(n.iframe?"IFRAME":"DIV");if(i.className="se-wrapper-inner se-wrapper-wysiwyg",n.iframe)i.allowFullscreen=!0,i.frameBorder=0,i.style.cssText=n._editorStyles.frame,i.className+=n.className;else{i.setAttribute("contenteditable",!0),i.setAttribute("autocorrect","off"),i.setAttribute("scrolling","auto");for(let v in n.iframeAttributes)i.setAttribute(v,n.iframeAttributes[v]);i.className+=" "+n._editableClass,i.style.cssText=n._editorStyles.frame+n._editorStyles.editor,i.className+=n.className}const a=document.createElement("TEXTAREA");a.className="se-wrapper-inner se-wrapper-code"+n.className,a.style.cssText=n._editorStyles.frame,a.style.display="none",n.height==="auto"&&(a.style.overflow="hidden");let o=null,l=null,s=null,f=null;if(n.resizingBar&&(o=document.createElement("DIV"),o.className="se-resizing-bar sun-editor-common",l=document.createElement("DIV"),l.className="se-navigation sun-editor-common",o.appendChild(l),n.charCounter)){if(s=document.createElement("DIV"),s.className="se-char-counter-wrapper",n.charCounterLabel){const v=document.createElement("SPAN");v.className="se-char-label",v.textContent=n.charCounterLabel,s.appendChild(v)}if(f=document.createElement("SPAN"),f.className="se-char-counter",f.textContent="0",s.appendChild(f),n.maxCharCount>0){const v=document.createElement("SPAN");v.textContent=" / "+n.maxCharCount,s.appendChild(v)}o.appendChild(s)}let c=null;return n.placeholder&&(c=document.createElement("SPAN"),c.className="se-placeholder",c.innerText=n.placeholder),{bottomBar:{resizingBar:o,navigation:l,charWrapper:s,charCounter:f},wysiwygFrame:i,codeView:a,placeholder:c}},_initOptions:function(n,e){const t={};if(e.plugins){const a=e.plugins,o=a.length?a:Object.keys(a).map(function(l){return a[l]});for(let l=0,s=o.length,f;l<s;l++)f=o[l].default||o[l],t[f.name]=f}e.plugins=t,e.strictMode=e.strictMode!==!1,e.strictHTMLValidation=e.strictHTMLValidation!==!1,e.lang=e.lang||Jde,e.value=typeof e.value=="string"?e.value:null,e.allowedClassNames=new ln._w.RegExp((e.allowedClassNames&&typeof e.allowedClassNames=="string"?e.allowedClassNames+"|":"")+"^__se__|se-|katex"),e.historyStackDelayTime=typeof e.historyStackDelayTime=="number"?e.historyStackDelayTime:400,e.frameAttrbutes=e.frameAttrbutes||{},e.defaultTag=typeof e.defaultTag=="string"&&e.defaultTag.length>0?e.defaultTag:"p";const r=e.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},e.textTags||{}].reduce(function(a,o){for(let l in o)a[l]=o[l];return a},{});e._textTagsMap={strong:r.bold.toLowerCase(),b:r.bold.toLowerCase(),u:r.underline.toLowerCase(),ins:r.underline.toLowerCase(),em:r.italic.toLowerCase(),i:r.italic.toLowerCase(),del:r.strike.toLowerCase(),strike:r.strike.toLowerCase(),s:r.strike.toLowerCase(),sub:r.sub.toLowerCase(),sup:r.sup.toLowerCase()},e._defaultCommand={bold:e.textTags.bold,underline:e.textTags.underline,italic:e.textTags.italic,strike:e.textTags.strike,subscript:e.textTags.sub,superscript:e.textTags.sup},e.__allowedScriptTag=e.__allowedScriptTag===!0;const i="br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary";e.tagsBlacklist=e.tagsBlacklist||"",e._defaultTagsWhitelist=(typeof e._defaultTagsWhitelist=="string"?e._defaultTagsWhitelist:i)+(e.__allowedScriptTag?"|script":""),e._editorTagsWhitelist=e.addTagsWhitelist==="*"?"*":this._setWhitelist(e._defaultTagsWhitelist+(typeof e.addTagsWhitelist=="string"&&e.addTagsWhitelist.length>0?"|"+e.addTagsWhitelist:""),e.tagsBlacklist),e.pasteTagsBlacklist=e.tagsBlacklist+(e.tagsBlacklist&&e.pasteTagsBlacklist?"|"+e.pasteTagsBlacklist:e.pasteTagsBlacklist||""),e.pasteTagsWhitelist=e.pasteTagsWhitelist==="*"?"*":this._setWhitelist(typeof e.pasteTagsWhitelist=="string"?e.pasteTagsWhitelist:e._editorTagsWhitelist,e.pasteTagsBlacklist),e.attributesWhitelist=!e.attributesWhitelist||typeof e.attributesWhitelist!="object"?null:e.attributesWhitelist,e.attributesBlacklist=!e.attributesBlacklist||typeof e.attributesBlacklist!="object"?null:e.attributesBlacklist,e.mode=e.mode||"classic",e.rtl=!!e.rtl,e.lineAttrReset=["id"].concat(e.lineAttrReset&&typeof e.lineAttrReset=="string"?e.lineAttrReset.toLowerCase().split("|"):[]),e._editableClass="sun-editor-editable"+(e.rtl?" se-rtl":""),e._printClass=typeof e._printClass=="string"?e._printClass:null,e.toolbarWidth=e.toolbarWidth?ln.isNumber(e.toolbarWidth)?e.toolbarWidth+"px":e.toolbarWidth:"auto",e.toolbarContainer=typeof e.toolbarContainer=="string"?document.querySelector(e.toolbarContainer):e.toolbarContainer,e.stickyToolbar=/balloon/i.test(e.mode)||e.toolbarContainer?-1:e.stickyToolbar===void 0?0:/^\d+/.test(e.stickyToolbar)?ln.getNumber(e.stickyToolbar,0):-1,e.hideToolbar=!!e.hideToolbar,e.fullScreenOffset=e.fullScreenOffset===void 0?0:/^\d+/.test(e.fullScreenOffset)?ln.getNumber(e.fullScreenOffset,0):0,e.fullPage=!!e.fullPage,e.iframe=e.fullPage||!!e.iframe,e.iframeAttributes=e.iframeAttributes||{},e.iframeCSSFileName=e.iframe?typeof e.iframeCSSFileName=="string"?[e.iframeCSSFileName]:e.iframeCSSFileName||["suneditor"]:null,e.previewTemplate=typeof e.previewTemplate=="string"?e.previewTemplate:null,e.printTemplate=typeof e.printTemplate=="string"?e.printTemplate:null,e.codeMirror=e.codeMirror?e.codeMirror.src?e.codeMirror:{src:e.codeMirror}:null,e.katex=e.katex?e.katex.src?e.katex:{src:e.katex}:null,e.mathFontSize=e.mathFontSize?e.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],e.position=typeof e.position=="string"?e.position:null,e.display=e.display||(n.style.display==="none"||!n.style.display?"block":n.style.display),e.popupDisplay=e.popupDisplay||"full",e.resizingBar=e.resizingBar===void 0?!/inline|balloon/i.test(e.mode):e.resizingBar,e.showPathLabel=e.resizingBar?typeof e.showPathLabel=="boolean"?e.showPathLabel:!0:!1,e.resizeEnable=e.resizeEnable===void 0?!0:!!e.resizeEnable,e.resizingBarContainer=typeof e.resizingBarContainer=="string"?document.querySelector(e.resizingBarContainer):e.resizingBarContainer,e.charCounter=e.maxCharCount>0?!0:typeof e.charCounter=="boolean"?e.charCounter:!1,e.charCounterType=typeof e.charCounterType=="string"?e.charCounterType:"char",e.charCounterLabel=typeof e.charCounterLabel=="string"?e.charCounterLabel.trim():null,e.maxCharCount=ln.isNumber(e.maxCharCount)&&e.maxCharCount>-1?e.maxCharCount*1:null,e.width=e.width?ln.isNumber(e.width)?e.width+"px":e.width:n.clientWidth?n.clientWidth+"px":"100%",e.minWidth=(ln.isNumber(e.minWidth)?e.minWidth+"px":e.minWidth)||"",e.maxWidth=(ln.isNumber(e.maxWidth)?e.maxWidth+"px":e.maxWidth)||"",e.height=e.height?ln.isNumber(e.height)?e.height+"px":e.height:n.clientHeight?n.clientHeight+"px":"auto",e.minHeight=(ln.isNumber(e.minHeight)?e.minHeight+"px":e.minHeight)||"",e.maxHeight=(ln.isNumber(e.maxHeight)?e.maxHeight+"px":e.maxHeight)||"",e.className=typeof e.className=="string"&&e.className.length>0?" "+e.className:"",e.defaultStyle=typeof e.defaultStyle=="string"?e.defaultStyle:"",e.font=e.font?e.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],e.fontSize=e.fontSize?e.fontSize:null,e.formats=e.formats?e.formats:null,e.colorList=e.colorList?e.colorList:null,e.lineHeights=e.lineHeights?e.lineHeights:null,e.paragraphStyles=e.paragraphStyles?e.paragraphStyles:null,e.textStyles=e.textStyles?e.textStyles:null,e.fontSizeUnit=typeof e.fontSizeUnit=="string"&&e.fontSizeUnit.trim().toLowerCase()||"px",e.alignItems=typeof e.alignItems=="object"?e.alignItems:e.rtl?["right","center","left","justify"]:["left","center","right","justify"],e.imageResizing=e.imageResizing===void 0?!0:e.imageResizing,e.imageHeightShow=e.imageHeightShow===void 0?!0:!!e.imageHeightShow,e.imageAlignShow=e.imageAlignShow===void 0?!0:!!e.imageAlignShow,e.imageWidth=e.imageWidth?ln.isNumber(e.imageWidth)?e.imageWidth+"px":e.imageWidth:"auto",e.imageHeight=e.imageHeight?ln.isNumber(e.imageHeight)?e.imageHeight+"px":e.imageHeight:"auto",e.imageSizeOnlyPercentage=!!e.imageSizeOnlyPercentage,e._imageSizeUnit=e.imageSizeOnlyPercentage?"%":"px",e.imageRotation=e.imageRotation!==void 0?e.imageRotation:!(e.imageSizeOnlyPercentage||!e.imageHeightShow),e.imageFileInput=e.imageFileInput===void 0?!0:e.imageFileInput,e.imageUrlInput=e.imageUrlInput===void 0||!e.imageFileInput?!0:e.imageUrlInput,e.imageUploadHeader=e.imageUploadHeader||null,e.imageUploadUrl=typeof e.imageUploadUrl=="string"?e.imageUploadUrl:null,e.imageUploadSizeLimit=/\d+/.test(e.imageUploadSizeLimit)?ln.getNumber(e.imageUploadSizeLimit,0):null,e.imageMultipleFile=!!e.imageMultipleFile,e.imageAccept=typeof e.imageAccept!="string"||e.imageAccept.trim()==="*"?"image/*":e.imageAccept.trim()||"image/*",e.imageGalleryData=e.imageGalleryData||null,e.imageGalleryUrl=typeof e.imageGalleryUrl=="string"?e.imageGalleryUrl:null,e.imageGalleryHeader=e.imageGalleryHeader||null,e.videoResizing=e.videoResizing===void 0?!0:e.videoResizing,e.videoHeightShow=e.videoHeightShow===void 0?!0:!!e.videoHeightShow,e.videoAlignShow=e.videoAlignShow===void 0?!0:!!e.videoAlignShow,e.videoRatioShow=e.videoRatioShow===void 0?!0:!!e.videoRatioShow,e.videoWidth=!e.videoWidth||!ln.getNumber(e.videoWidth,0)?"":ln.isNumber(e.videoWidth)?e.videoWidth+"px":e.videoWidth,e.videoHeight=!e.videoHeight||!ln.getNumber(e.videoHeight,0)?"":ln.isNumber(e.videoHeight)?e.videoHeight+"px":e.videoHeight,e.videoSizeOnlyPercentage=!!e.videoSizeOnlyPercentage,e._videoSizeUnit=e.videoSizeOnlyPercentage?"%":"px",e.videoRotation=e.videoRotation!==void 0?e.videoRotation:!(e.videoSizeOnlyPercentage||!e.videoHeightShow),e.videoRatio=ln.getNumber(e.videoRatio,4)||.5625,e.videoRatioList=e.videoRatioList?e.videoRatioList:null,e.youtubeQuery=(e.youtubeQuery||"").replace("?",""),e.vimeoQuery=(e.vimeoQuery||"").replace("?",""),e.videoFileInput=!!e.videoFileInput,e.videoUrlInput=e.videoUrlInput===void 0||!e.videoFileInput?!0:e.videoUrlInput,e.videoUploadHeader=e.videoUploadHeader||null,e.videoUploadUrl=typeof e.videoUploadUrl=="string"?e.videoUploadUrl:null,e.videoUploadSizeLimit=/\d+/.test(e.videoUploadSizeLimit)?ln.getNumber(e.videoUploadSizeLimit,0):null,e.videoMultipleFile=!!e.videoMultipleFile,e.videoTagAttrs=e.videoTagAttrs||null,e.videoIframeAttrs=e.videoIframeAttrs||null,e.videoAccept=typeof e.videoAccept!="string"||e.videoAccept.trim()==="*"?"video/*":e.videoAccept.trim()||"video/*",e.audioWidth=e.audioWidth?ln.isNumber(e.audioWidth)?e.audioWidth+"px":e.audioWidth:"",e.audioHeight=e.audioHeight?ln.isNumber(e.audioHeight)?e.audioHeight+"px":e.audioHeight:"",e.audioFileInput=!!e.audioFileInput,e.audioUrlInput=e.audioUrlInput===void 0||!e.audioFileInput?!0:e.audioUrlInput,e.audioUploadHeader=e.audioUploadHeader||null,e.audioUploadUrl=typeof e.audioUploadUrl=="string"?e.audioUploadUrl:null,e.audioUploadSizeLimit=/\d+/.test(e.audioUploadSizeLimit)?ln.getNumber(e.audioUploadSizeLimit,0):null,e.audioMultipleFile=!!e.audioMultipleFile,e.audioTagAttrs=e.audioTagAttrs||null,e.audioAccept=typeof e.audioAccept!="string"||e.audioAccept.trim()==="*"?"audio/*":e.audioAccept.trim()||"audio/*",e.tableCellControllerPosition=typeof e.tableCellControllerPosition=="string"?e.tableCellControllerPosition.toLowerCase():"cell",e.linkTargetNewWindow=!!e.linkTargetNewWindow,e.linkProtocol=typeof e.linkProtocol=="string"?e.linkProtocol:null,e.linkRel=Array.isArray(e.linkRel)?e.linkRel:[],e.linkRelDefault=e.linkRelDefault||{},e.tabDisable=!!e.tabDisable,e.shortcutsDisable=Array.isArray(e.shortcutsDisable)?e.shortcutsDisable:[],e.shortcutsHint=e.shortcutsHint===void 0?!0:!!e.shortcutsHint,e.callBackSave=e.callBackSave?e.callBackSave:null,e.templates=e.templates?e.templates:null,e.placeholder=typeof e.placeholder=="string"?e.placeholder:null,e.mediaAutoSelect=e.mediaAutoSelect===void 0?!0:!!e.mediaAutoSelect,e.buttonList=e.buttonList?e.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],e.rtl&&(e.buttonList=e.buttonList.reverse()),e.icons=!e.icons||typeof e.icons!="object"?RM:[RM,e.icons].reduce(function(a,o){for(let l in o)ln.hasOwn(o,l)&&(a[l]=o[l]);return a},{}),e.icons=e.rtl?[e.icons,e.icons.rtl].reduce(function(a,o){for(let l in o)ln.hasOwn(o,l)&&(a[l]=o[l]);return a},{}):e.icons,e.__listCommonStyle=e.__listCommonStyle||["fontSize","color","fontFamily","fontWeight","fontStyle"],e._editorStyles=ln._setDefaultOptionStyle(e,e.defaultStyle)},_setWhitelist:function(n,e){if(typeof e!="string")return n;e=e.split("|"),n=n.split("|");for(let t=0,r=e.length,i;t<r;t++)i=n.indexOf(e[t]),i>-1&&n.splice(i,1);return n.join("|")},_defaultButtons:function(n){const e=n.icons,t=n.lang,r=ln.isOSX_IOS?"â":"CTRL",i=ln.isOSX_IOS?"â§":"+SHIFT",a=n.shortcutsHint?n.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],o=n.rtl?["[","]"]:["]","["],l=n.rtl?[e.outdent,e.indent]:[e.indent,e.outdent];return{bold:["",t.toolbar.bold+'<span class="se-shortcut">'+(a.indexOf("bold")>-1?"":r+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",e.bold],underline:["",t.toolbar.underline+'<span class="se-shortcut">'+(a.indexOf("underline")>-1?"":r+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",e.underline],italic:["",t.toolbar.italic+'<span class="se-shortcut">'+(a.indexOf("italic")>-1?"":r+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",e.italic],strike:["",t.toolbar.strike+'<span class="se-shortcut">'+(a.indexOf("strike")>-1?"":r+i+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",e.strike],subscript:["",t.toolbar.subscript,"SUB","",e.subscript],superscript:["",t.toolbar.superscript,"SUP","",e.superscript],removeFormat:["",t.toolbar.removeFormat,"removeFormat","",e.erase],indent:["",t.toolbar.indent+'<span class="se-shortcut">'+(a.indexOf("indent")>-1?"":r+'+<span class="se-shortcut-key">'+o[0]+"</span>")+"</span>","indent","",l[0]],outdent:["",t.toolbar.outdent+'<span class="se-shortcut">'+(a.indexOf("indent")>-1?"":r+'+<span class="se-shortcut-key">'+o[1]+"</span>")+"</span>","outdent","",l[1]],fullScreen:["se-code-view-enabled se-resizing-enabled",t.toolbar.fullScreen,"fullScreen","",e.expansion],showBlocks:["",t.toolbar.showBlocks,"showBlocks","",e.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled",t.toolbar.codeView,"codeView","",e.code_view],undo:["",t.toolbar.undo+'<span class="se-shortcut">'+(a.indexOf("undo")>-1?"":r+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",e.undo],redo:["",t.toolbar.redo+'<span class="se-shortcut">'+(a.indexOf("undo")>-1?"":r+'+<span class="se-shortcut-key">Y</span> / '+r+i+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",e.redo],preview:["se-resizing-enabled",t.toolbar.preview,"preview","",e.preview],print:["se-resizing-enabled",t.toolbar.print,"print","",e.print],dir:["",t.toolbar[n.rtl?"dir_ltr":"dir_rtl"],"dir","",e[n.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["",t.toolbar.dir_ltr,"dir_ltr","",e.dir_ltr],dir_rtl:["",t.toolbar.dir_rtl,"dir_rtl","",e.dir_rtl],save:["se-resizing-enabled",t.toolbar.save+'<span class="se-shortcut">'+(a.indexOf("save")>-1?"":r+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",e.save],blockquote:["",t.toolbar.tag_blockquote,"blockquote","command",e.blockquote],font:["se-btn-select se-btn-tool-font",t.toolbar.font,"font","submenu",'<span class="txt">'+t.toolbar.font+"</span>"+e.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",t.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+t.toolbar.formats+"</span>"+e.arrow_down],fontSize:["se-btn-select se-btn-tool-size",t.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+t.toolbar.fontSize+"</span>"+e.arrow_down],fontColor:["",t.toolbar.fontColor,"fontColor","submenu",e.font_color],hiliteColor:["",t.toolbar.hiliteColor,"hiliteColor","submenu",e.highlight_color],align:["se-btn-align",t.toolbar.align,"align","submenu",n.rtl?e.align_right:e.align_left],list:["",t.toolbar.list,"list","submenu",e.list_number],horizontalRule:["btn_line",t.toolbar.horizontalRule,"horizontalRule","submenu",e.horizontal_rule],table:["",t.toolbar.table,"table","submenu",e.table],lineHeight:["",t.toolbar.lineHeight,"lineHeight","submenu",e.line_height],template:["",t.toolbar.template,"template","submenu",e.template],paragraphStyle:["",t.toolbar.paragraphStyle,"paragraphStyle","submenu",e.paragraph_style],textStyle:["",t.toolbar.textStyle,"textStyle","submenu",e.text_style],link:["",t.toolbar.link,"link","dialog",e.link],image:["",t.toolbar.image,"image","dialog",e.image],video:["",t.toolbar.video,"video","dialog",e.video],audio:["",t.toolbar.audio,"audio","dialog",e.audio],math:["",t.toolbar.math,"math","dialog",e.math],imageGallery:["",t.toolbar.imageGallery,"imageGallery","fileBrowser",e.image_gallery]}},_createModuleGroup:function(){const n=ln.createElement("DIV");n.className="se-btn-module se-btn-module-border";const e=ln.createElement("UL");return e.className="se-menu-list",n.appendChild(e),{div:n,ul:e}},_createButton:function(n,e,t,r,i,a,o){const l=ln.createElement("LI"),s=ln.createElement("BUTTON"),f=e||t;return s.setAttribute("type","button"),s.setAttribute("class","se-btn"+(n?" "+n:"")+" se-tooltip"),s.setAttribute("data-command",t),s.setAttribute("data-display",r),s.setAttribute("aria-label",f.replace(/<span .+<\/span>/,"")),s.setAttribute("tabindex","-1"),i||(i='<span class="se-icon-text">!</span>'),/^default\./i.test(i)&&(i=o[i.replace(/^default\./i,"")]),/^text\./i.test(i)&&(i=i.replace(/^text\./i,""),s.className+=" se-btn-more-text"),i+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+f+"</span></span>",a&&s.setAttribute("disabled",!0),s.innerHTML=i,l.appendChild(s),{li:l,button:s}},_createToolBar:function(n,e,t,r){const i=n.createElement("DIV");i.className="se-toolbar-separator-vertical";const a=n.createElement("DIV");a.className="se-toolbar sun-editor-common";const o=n.createElement("DIV");o.className="se-btn-tray",a.appendChild(o),e=JSON.parse(JSON.stringify(e));const l=r.icons,s=this._defaultButtons(r),f={},c=[];let v=null,y=null,k=null,x=null,R="",d=!1;const h=ln.createElement("DIV");h.className="se-toolbar-more-layer";e:for(let D=0,I,O,F,$,z;D<e.length;D++)if(I=!1,z="",$=e[D],k=this._createModuleGroup(),typeof $=="object"){for(let ee=0,me;ee<$.length;ee++){if(y=$[ee],me=!1,/^\%\d+/.test(y)&&ee===0){$[0]=y.replace(/[^\d]/g,""),c.push($),e.splice(D--,1);continue e}if(typeof y=="object")typeof y.add=="function"?(R=y.name,v=s[R],t[R]=y):(R=y.name,v=[y.buttonClass,y.title,y.name,y.dataDisplay,y.innerHTML,y._disabled]);else{if(/^\-/.test(y)){z=y.substr(1),k.div.className+=" module-float-"+z;continue}if(/^\#/.test(y)){y.substr(1)==="fix"&&(k.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(y)){me=!0;const ie=y.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);F="__se__"+ie[1].trim();const pe=ie[2].trim(),be=ie[3].trim();v=["se-btn-more",pe,F,"MORE",be]}else v=s[y];if(R=y,!v){const ie=t[R];if(!ie)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+R+"]");v=[ie.buttonClass,ie.title,ie.name,ie.display,ie.innerHTML,ie._disabled]}}x=this._createButton(v[0],v[1],v[2],v[3],v[4],v[5],l),(I?O:k.ul).appendChild(x.li),t[R]&&(f[R]=x.button),me&&(I=!0,O=ln.createElement("DIV"),O.className="se-more-layer "+F,O.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(z?' style="float: '+z+';"':"")+"></ul></div>",h.appendChild(O),O=O.firstElementChild.firstElementChild)}if(d){const ee=i.cloneNode(!1);o.appendChild(ee)}o.appendChild(k.div),d=!0}else if(/^\/$/.test($)){const ee=n.createElement("DIV");ee.className="se-btn-module-enter",o.appendChild(ee),d=!1}switch(o.children.length){case 0:o.style.display="none";break;case 1:ln.removeClass(o.firstElementChild,"se-btn-module-border");break;default:if(r.rtl){const D=i.cloneNode(!1);D.style.float=o.lastElementChild.style.float,o.appendChild(D)}}c.length>0&&c.unshift(e),h.children.length>0&&o.appendChild(h);const w=n.createElement("DIV");w.className="se-menu-tray",a.appendChild(w);const A=n.createElement("DIV");return A.className="se-toolbar-cover",a.appendChild(A),r.hideToolbar&&(a.style.display="none"),{element:a,plugins:t,pluginCallButtons:f,responsiveButtons:c,_menuTray:w,_buttonTray:o}}},rS=function(n,e,t){return{element:{originElement:n,topArea:e._top,relative:e._relative,toolbar:e._toolBar,_toolbarShadow:e._toolbarShadow,_buttonTray:e._toolBar.querySelector(".se-btn-tray"),_menuTray:e._menuTray,resizingBar:e._resizingBar,navigation:e._navigation,charWrapper:e._charWrapper,charCounter:e._charCounter,editorArea:e._editorArea,wysiwygFrame:e._wysiwygArea,wysiwyg:e._wysiwygArea,code:e._codeArea,placeholder:e._placeholder,loading:e._loading,lineBreaker:e._lineBreaker,lineBreaker_t:e._lineBreaker_t,lineBreaker_b:e._lineBreaker_b,resizeBackground:e._resizeBack,_stickyDummy:e._stickyDummy,_arrow:e._arrow,_focusTemp:e._focusTemp},tool:{cover:e._toolBar.querySelector(".se-toolbar-cover"),bold:e._toolBar.querySelector('[data-command="bold"]'),underline:e._toolBar.querySelector('[data-command="underline"]'),italic:e._toolBar.querySelector('[data-command="italic"]'),strike:e._toolBar.querySelector('[data-command="strike"]'),sub:e._toolBar.querySelector('[data-command="SUB"]'),sup:e._toolBar.querySelector('[data-command="SUP"]'),undo:e._toolBar.querySelector('[data-command="undo"]'),redo:e._toolBar.querySelector('[data-command="redo"]'),save:e._toolBar.querySelector('[data-command="save"]'),outdent:e._toolBar.querySelector('[data-command="outdent"]'),indent:e._toolBar.querySelector('[data-command="indent"]'),fullScreen:e._toolBar.querySelector('[data-command="fullScreen"]'),showBlocks:e._toolBar.querySelector('[data-command="showBlocks"]'),codeView:e._toolBar.querySelector('[data-command="codeView"]'),dir:e._toolBar.querySelector('[data-command="dir"]'),dir_ltr:e._toolBar.querySelector('[data-command="dir_ltr"]'),dir_rtl:e._toolBar.querySelector('[data-command="dir_rtl"]')},options:t,option:t}};function Xde(n,e){const t=n._w,r=n.util,i=n.options.historyStackDelayTime;let a=n.context.element,o=n.context.tool.undo,l=n.context.tool.redo,s=null,f=0,c=[];function v(){const k=c[f];a.wysiwyg.innerHTML=k.contents,n.setRange(r.getNodeFromPath(k.s.path,a.wysiwyg),k.s.offset,r.getNodeFromPath(k.e.path,a.wysiwyg),k.e.offset),n.focus(),c.length<=1?(o&&o.setAttribute("disabled",!0),l&&l.setAttribute("disabled",!0)):f===0?(o&&o.setAttribute("disabled",!0),l&&l.removeAttribute("disabled")):f===c.length-1?(o&&o.removeAttribute("disabled"),l&&l.setAttribute("disabled",!0)):(o&&o.removeAttribute("disabled"),l&&l.removeAttribute("disabled")),n.controllersOff(),n._checkComponents(),n._setCharCount(),n._resourcesStateChange(),e()}function y(){n._checkComponents();const k=a.wysiwyg.innerHTML;if(!k||c[f]&&k===c[f].contents)return;f++;const x=n._variable._range;c.length>f&&(c=c.slice(0,f),l&&l.setAttribute("disabled",!0)),x?c[f]={contents:k,s:{path:r.getNodePath(x.startContainer,null,null),offset:x.startOffset},e:{path:r.getNodePath(x.endContainer,null,null),offset:x.endOffset}}:c[f]={contents:k,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},f===1&&o&&o.removeAttribute("disabled"),n._setCharCount(),e()}return{stack:c,push:function(k){t.setTimeout(n._resourcesStateChange.bind(n));const x=typeof k=="number"?k>0?k:0:k?i:0;if((!x||s)&&(t.clearTimeout(s),!x)){y();return}s=t.setTimeout(function(){t.clearTimeout(s),s=null,y()},x)},undo:function(){f>0&&(f--,v())},redo:function(){c.length-1>f&&(f++,v())},go:function(k){f=k<0?c.length-1:k,v()},getCurrentIndex:function(){return f},reset:function(k){o&&o.setAttribute("disabled",!0),l&&l.setAttribute("disabled",!0),n._variable.isChanged=!1,n.context.tool.save&&n.context.tool.save.setAttribute("disabled",!0),c.splice(0),f=0,c[f]={contents:n.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},k||e()},_resetCachingButton:function(){a=n.context.element,o=n.context.tool.undo,l=n.context.tool.redo,f===0?(o&&o.setAttribute("disabled",!0),l&&f===c.length-1&&l.setAttribute("disabled",!0),n._variable.isChanged=!1,n.context.tool.save&&n.context.tool.save.setAttribute("disabled",!0)):f===c.length-1&&l&&l.setAttribute("disabled",!0)},_destroy:function(){s&&t.clearTimeout(s),c=null}}}const BM={name:"notice",add:function(n){const e=n.context;e.notice={};let t=n.util.createElement("DIV"),r=n.util.createElement("SPAN"),i=n.util.createElement("BUTTON");t.className="se-notice",i.className="close",i.setAttribute("aria-label","Close"),i.setAttribute("title",n.lang.dialogBox.close),i.innerHTML=n.icons.cancel,t.appendChild(r),t.appendChild(i),e.notice.modal=t,e.notice.message=r,i.addEventListener("click",this.onClick_cancel.bind(n)),e.element.editorArea.appendChild(t),t=null},onClick_cancel:function(n){n.preventDefault(),n.stopPropagation(),this.plugins.notice.close.call(this)},open:function(n){this.context.notice.message.textContent=n,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}};function Qde(n,e,t,r,i,a){const o=n.element.originElement.ownerDocument||document,l=o.defaultView||window,s=ln,f=i.icons,c={_d:o,_w:l,_parser:new l.DOMParser,_prevRtl:i.rtl,_editorHeight:0,_editorHeightPadding:0,_listCamel:i.__listCommonStyle,_listKebab:s.camelToKebabCase(i.__listCommonStyle),__focusTemp:n.element._focusTemp,_wd:null,_ww:null,_shadowRoot:null,_shadowRootControllerEventTarget:null,util:s,functions:null,options:null,wwComputedStyle:null,notice:BM,icons:f,history:null,context:n,pluginCallButtons:e,plugins:t||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:r,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:[],resizingDisabledButtons:[],_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_htmlCheckBlacklistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,editorTagsBlacklistRegExp:null,pasteTagsWhitelistRegExp:null,pasteTagsBlacklistRegExp:null,hasFocus:!1,isDisabled:!1,isReadOnly:!1,_attributesWhitelistRegExp:null,_attributesWhitelistRegExp_all_data:null,_attributesBlacklistRegExp:null,_attributesTagsWhitelist:null,_attributesTagsBlacklist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:{},_commandMapStyles:{STRONG:["font-weight"],U:["text-decoration"],EM:["font-style"],DEL:["text-decoration"]},_styleCommandMap:null,_cleanStyleRegExp:{div:new l.RegExp("\\s*[^-a-zA-Z](.+)\\s*:[^;]+(?!;)*","ig"),span:new l.RegExp("\\s*[^-a-zA-Z](font-family|font-size|color|background-color)\\s*:[^;]+(?!;)*","ig"),format:new l.RegExp("\\s*[^-a-zA-Z](text-align|margin-left|margin-right|width|height|line-height)\\s*:[^;]+(?!;)*","ig"),fontSizeUnit:new l.RegExp("\\d+"+i.fontSizeUnit+"$","i")},_variable:{isChanged:!1,isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:2,minResizingSize:s.getNumber(n.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:n.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},_formatAttrsTemp:null,_saveButtonStates:function(){this.allCommandButtons||(this.allCommandButtons={});const d=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let h=0,w,A;h<d.length;h++)w=d[h],A=w.getAttribute("data-command"),this.allCommandButtons[A]=w},_recoverButtonStates:function(){if(this.allCommandButtons){const d=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let h=0,w,A,D;h<d.length;h++)w=d[h],A=w.getAttribute("data-command"),D=this.allCommandButtons[A],D&&(w.parentElement.replaceChild(D,w),this.context.tool[A]&&(this.context.tool[A]=D))}},callPlugin:function(d,h,w){if(w=w||e[d],this.plugins[d])this.initPlugins[d]?typeof this._targetPlugins[d]=="object"&&w&&this.initMenuTarget(d,w,this._targetPlugins[d]):(this.plugins[d].add(this,w),this.initPlugins[d]=!0);else throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+d+'")');this.plugins[d].active&&!this.commandMap[d]&&w&&(this.commandMap[d]=w,this.activePlugins.push(d)),typeof h=="function"&&h()},addModule:function(d){for(let h=0,w=d.length,A;h<w;h++)A=d[h].name,this.plugins[A]||(this.plugins[A]=d[h]),this.initPlugins[A]||(this.initPlugins[A]=!0,typeof this.plugins[A].add=="function"&&this.plugins[A].add(this))},getGlobalScrollOffset:function(){let d=0,h=0,w=n.element.topArea;for(;w;)d+=w.scrollTop,h+=w.scrollLeft,w=w.parentElement;for(w=this._shadowRoot?this._shadowRoot.host:null;w;)d+=w.scrollTop,h+=w.scrollLeft,w=w.parentElement;return{top:d,left:h}},initMenuTarget:function(d,h,w){h?(n.element._menuTray.appendChild(w),this._targetPlugins[d]=!0,this._menuTray[h.getAttribute("data-command")]=w):this._targetPlugins[d]=w},submenuOn:function(d){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();const h=this._submenuName=d.getAttribute("data-command"),w=this.submenu=this._menuTray[h];this.submenuActiveButton=d,this._setMenuPosition(d,w),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[h].on&&this.plugins[h].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,s.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},moreLayerOff:function(){if(this._moreLayerActiveButton){const d=n.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"));d.style.display="none",s.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null}},containerOn:function(d){this._bindedContainerOff&&this._bindedContainerOff();const h=this._containerName=d.getAttribute("data-command"),w=this.container=this._menuTray[h];this.containerActiveButton=d,this._setMenuPosition(d,w),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[h].on&&this.plugins[h].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,s.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(d,h){h.style.visibility="hidden",h.style.display="block",h.style.height="",s.addClass(d,"on");const w=this.context.element.toolbar,A=w.offsetWidth,D=v._getEditorOffsets(n.element.toolbar),I=h.offsetWidth,O=d.parentElement.offsetLeft+3;if(i.rtl){const be=d.offsetWidth,Ve=I>be?I-be:0,Ue=Ve>0?0:be-I;h.style.left=O-Ve+Ue+"px",D.left>v._getEditorOffsets(h).left&&(h.style.left="0px")}else{const be=A<=I?0:A-(O+I);be<0?h.style.left=O+be+"px":h.style.left=O+"px"}let F=0,$=d;for(;$&&$!==w;)F+=$.offsetTop,$=$.offsetParent;const z=F;this._isBalloon?F+=w.offsetTop+d.offsetHeight:F-=d.offsetHeight;const ee=D.top,me=h.offsetHeight,ie=this.getGlobalScrollOffset().top,pe=l.innerHeight-(ee-ie+z+d.parentElement.offsetHeight);if(pe<me){let be=-1*(me-z+3);const Ve=ee-ie+be,Ue=me+(Ve<0?Ve:0);Ue>pe?(h.style.height=Ue+"px",be=-1*(Ue-z+3)):(h.style.height=pe+"px",be=z+d.parentElement.offsetHeight),h.style.top=be+"px"}else h.style.top=z+d.parentElement.offsetHeight+"px";h.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let d=0,h;d<arguments.length;d++)if(h=arguments[d],!!h){if(typeof h=="string"){this.currentControllerName=h;continue}if(typeof h=="function"){this.controllerArray.push(h);continue}if(!s.hasClass(h,"se-controller")){this.currentControllerTarget=h,this.currentFileComponentInfo=this.getFileComponent(h);continue}h.style&&(h.style.display="block",this._shadowRoot&&this._shadowRootControllerEventTarget.indexOf(h)===-1&&(h.addEventListener("mousedown",function(w){w.preventDefault(),w.stopPropagation()}),this._shadowRootControllerEventTarget.push(h))),this.controllerArray.push(h)}this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,typeof y.showController=="function"&&y.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(d){this._lineBreaker.style.display="none";const h=this.controllerArray.length;if(d&&d.target&&h>0){for(let w=0;w<h;w++)if(typeof this.controllerArray[w].contains=="function"&&this.controllerArray[w].contains(d.target))return}if(!(this._fileManager.pluginRegExp.test(this.currentControllerName)&&d&&d.type==="keydown"&&d.keyCode!==27)&&(n.element.lineBreaker_t.style.display=n.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,!!this._bindControllersOff)){if(this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null,h>0){for(let w=0;w<h;w++)typeof this.controllerArray[w]=="function"?this.controllerArray[w]():this.controllerArray[w].style.display="none";this.controllerArray=[]}this._antiBlur=!1}},setControllerPosition:function(d,h,w,A){i.rtl&&(A.left*=-1);const D=s.getOffset(h,n.element.wysiwygFrame);d.style.visibility="hidden",d.style.display="block";const I=w==="top"?-(d.offsetHeight+2):h.offsetHeight+12;d.style.top=D.top+I+A.top+"px";const O=D.left-n.element.wysiwygFrame.scrollLeft+A.left,F=d.offsetWidth,$=h.offsetWidth,z=s.hasClass(d.firstElementChild,"se-arrow")?d.firstElementChild:null;if(i.rtl){const ee=F>$?F-$:0,me=ee>0?0:$-F;d.style.left=O-ee+me+"px",ee>0&&z&&(z.style.left=(F-14<10+ee?F-14:10+ee)+"px");const ie=n.element.wysiwygFrame.offsetLeft-d.offsetLeft;ie>0&&(d.style.left="0px",z&&(z.style.left=ie+"px"))}else{d.style.left=O+"px";const ee=n.element.wysiwygFrame.offsetWidth-(d.offsetLeft+F);ee<0?(d.style.left=d.offsetLeft+ee+"px",z&&(z.style.left=20-ee+"px")):z&&(z.style.left="20px")}d.style.visibility=""},execCommand:function(d,h,w){this._wd.execCommand(d,h,d==="formatBlock"?"<"+w+">":w),this.history.push(!0)},nativeFocus:function(){this.__focus(),this._editorRange()},__focus:function(){const d=s.getParentElement(this.getSelectionNode(),"figcaption");d?d.focus():n.element.wysiwyg.focus()},focus:function(){if(n.element.wysiwygFrame.style.display!=="none"){if(i.iframe)this.nativeFocus();else try{const d=this.getRange();if(d.startContainer===d.endContainer&&s.isWysiwygDiv(d.startContainer)){const h=d.commonAncestorContainer.children[d.startOffset];if(!s.isFormatElement(h)&&!s.isComponent(h)){const w=s.createElement(i.defaultTag),A=s.createElement("BR");w.appendChild(A),n.element.wysiwyg.insertBefore(w,h),this.setRange(A,0,A,0);return}}this.setRange(d.startContainer,d.startOffset,d.endContainer,d.endOffset)}catch{this.nativeFocus()}v._applyTagEffects(),this._isBalloon&&v._toggleToolbarBalloon()}},focusEdge:function(d){d||(d=n.element.wysiwyg.lastElementChild);const h=this.getFileComponent(d);h?this.selectComponent(h.target,h.pluginName):d?(d=s.getChildElement(d,function(w){return w.childNodes.length===0||w.nodeType===3},!0),d?this.setRange(d,d.textContent.length,d,d.textContent.length):this.nativeFocus()):this.focus()},blur:function(){i.iframe?n.element.wysiwygFrame.blur():n.element.wysiwyg.blur()},setRange:function(d,h,w,A){if(!d||!w)return;h>d.textContent.length&&(h=d.textContent.length),A>w.textContent.length&&(A=w.textContent.length),s.isFormatElement(d)&&(d=d.childNodes[h]||d.childNodes[h-1]||d,h=h>0?d.nodeType===1?1:d.textContent?d.textContent.length:0:0),s.isFormatElement(w)&&(w=w.childNodes[A]||w.childNodes[A-1]||w,A=A>0?w.nodeType===1?1:w.textContent?w.textContent.length:0:0);const D=this._wd.createRange();try{D.setStart(d,h),D.setEnd(w,A)}catch(O){console.warn("[SUNEDITOR.core.focus.error] "+O),this.nativeFocus();return}const I=this.getSelection();return I.removeAllRanges&&I.removeAllRanges(),I.addRange(D),this._rangeInfo(D,this.getSelection()),i.iframe&&this.__focus(),D},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.hasFocus&&this.getSelection().removeAllRanges(),this._setKeyEffect([])},getRange:function(){const d=this._variable._range||this._createDefaultRange(),h=this.getSelection();if(d.collapsed===h.isCollapsed||!n.element.wysiwyg.contains(h.focusNode))return d;if(h.rangeCount>0)return this._variable._range=h.getRangeAt(0),this._variable._range;{const w=h.anchorNode,A=h.focusNode,D=h.anchorOffset,I=h.focusOffset,O=s.compareElements(w,A),F=O.ancestor&&(O.result===0?D<=I:O.result>1);return this.setRange(F?w:A,F?D:I,F?A:w,F?I:D)}},getRange_addLine:function(d,h){if(this._selectionVoid(d)){const w=n.element.wysiwyg,A=s.createElement(i.defaultTag);A.innerHTML="<br>",w.insertBefore(A,h&&h!==w?h.nextElementSibling:w.firstElementChild),this.setRange(A.firstElementChild,0,A.firstElementChild,1),d=this._variable._range}return d},getSelection:function(){const d=this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection();return!this._variable._range&&!n.element.wysiwyg.contains(d.focusNode)&&(d.removeAllRanges(),d.addRange(this._createDefaultRange())),d},getSelectionNode:function(){if(n.element.wysiwyg.contains(this._variable._selectionNode)||this._editorRange(),!this._variable._selectionNode){const d=s.getChildElement(n.element.wysiwyg.firstChild,function(h){return h.childNodes.length===0||h.nodeType===3},!1);if(!d)this._editorRange();else return this._variable._selectionNode=d,d}return this._variable._selectionNode},_editorRange:function(){const d=this._wd.activeElement;if(s.isInputElement(d))return this._variable._selectionNode=d,d;const h=this.getSelection();if(!h)return null;let w=null;h.rangeCount>0?w=h.getRangeAt(0):w=this._createDefaultRange(),this._rangeInfo(w,h)},_rangeInfo:function(d,h){let w=null;this._variable._range=d,d.collapsed?s.isWysiwygDiv(d.commonAncestorContainer)?w=d.commonAncestorContainer.children[d.startOffset]||d.commonAncestorContainer:w=d.commonAncestorContainer:w=h.extentNode||h.anchorNode,this._variable._selectionNode=w},_createDefaultRange:function(){const d=n.element.wysiwyg,h=this._wd.createRange();let w=d.firstElementChild,A=null;return w?(A=w.firstChild,A||(A=s.createElement("BR"),w.appendChild(A))):(w=s.createElement(i.defaultTag),A=s.createElement("BR"),w.appendChild(A),d.appendChild(w)),h.setStart(A,0),h.setEnd(A,0),h},_selectionVoid:function(d){const h=d.commonAncestorContainer;return s.isWysiwygDiv(d.startContainer)&&s.isWysiwygDiv(d.endContainer)||/FIGURE/i.test(h.nodeName)||this._fileManager.regExp.test(h.nodeName)||s.isMediaComponent(h)},_resetRangeToTextNode:function(){const d=this.getRange();if(this._selectionVoid(d))return!1;const h=d.collapsed;let w=d.startContainer,A=d.startOffset,D=d.endContainer,I=d.endOffset,O,F,$;if(s.isFormatElement(w))for(w.childNodes[A]?(w=w.childNodes[A]||w,A=0):(w=w.lastChild||w,A=w.textContent.length);w&&w.nodeType===1&&w.firstChild;)w=w.firstChild||w,A=0;if(s.isFormatElement(D)){for(D=D.childNodes[I]||D.lastChild||D;D&&D.nodeType===1&&D.lastChild;)D=D.lastChild;I=h?0:D.textContent.length}if(O=s.isWysiwygDiv(w)?n.element.wysiwyg.firstChild:w,F=A,s.isBreak(O)||O.nodeType===1&&O.childNodes.length>0){const z=s.isBreak(O);if(!z){for(;O&&!s.isBreak(O)&&O.nodeType===1;)O=O.childNodes[F]||O.nextElementSibling||O.nextSibling,F=0;let ee=s.getFormatElement(O,null);ee===s.getRangeFormatElement(ee,null)&&(ee=s.createElement(s.getParentElement(O,s.isCell)?"DIV":i.defaultTag),O.parentNode.insertBefore(ee,O),ee.appendChild(O))}if(s.isBreak(O)){const ee=s.createTextNode(s.zeroWidthSpace);O.parentNode.insertBefore(ee,O),O=ee,z&&w===D&&(D=O,I=1)}}if(w=O,A=F,O=s.isWysiwygDiv(D)?n.element.wysiwyg.lastChild:D,F=I,s.isBreak(O)||O.nodeType===1&&O.childNodes.length>0){const z=s.isBreak(O);if(!z){for(;O&&!s.isBreak(O)&&O.nodeType===1&&($=O.childNodes,$.length!==0);)O=$[F>0?F-1:F]||!/FIGURE/i.test($[0].nodeName)?$[0]:O.previousElementSibling||O.previousSibling||w,F=F>0?O.textContent.length:F;let ee=s.getFormatElement(O,null);ee===s.getRangeFormatElement(ee,null)&&(ee=s.createElement(s.isCell(ee)?"DIV":i.defaultTag),O.parentNode.insertBefore(ee,O),ee.appendChild(O))}if(s.isBreak(O)){const ee=s.createTextNode(s.zeroWidthSpace);O.parentNode.insertBefore(ee,O),O=ee,F=1,z&&!O.previousSibling&&s.removeItem(D)}}return D=O,I=F,this.setRange(w,A,D,I),!0},getSelectedElements:function(d){if(!this._resetRangeToTextNode())return[];let h=this.getRange();if(s.isWysiwygDiv(h.startContainer)){const be=n.element.wysiwyg.children;if(be.length===0)return[];this.setRange(be[0],0,be[be.length-1],be[be.length-1].textContent.trim().length),h=this.getRange()}const w=h.startContainer,A=h.endContainer,D=h.commonAncestorContainer,I=s.getListChildren(D,function(be){return d?d(be):s.isFormatElement(be)});if(!s.isWysiwygDiv(D)&&!s.isRangeFormatElement(D)&&I.unshift(s.getFormatElement(D,null)),w===A||I.length===1)return I;let O=s.getFormatElement(w,null),F=s.getFormatElement(A,null),$=null,z=null;const ee=function(be){return s.isTable(be)?/^TABLE$/i.test(be.nodeName):!0};let me=s.getRangeFormatElement(O,ee),ie=s.getRangeFormatElement(F,ee);s.isTable(me)&&s.isListCell(me.parentNode)&&(me=me.parentNode),s.isTable(ie)&&s.isListCell(ie.parentNode)&&(ie=ie.parentNode);const pe=me===ie;for(let be=0,Ve=I.length,Ue;be<Ve;be++){if(Ue=I[be],O===Ue||!pe&&Ue===me){$=be;continue}if(F===Ue||!pe&&Ue===ie){z=be;break}}return $===null&&($=0),z===null&&(z=I.length-1),I.slice($,z+1)},getSelectedElementsAndComponents:function(d){const h=this.getRange().commonAncestorContainer,w=s.getParentElement(h,s.isComponent),A=s.isTable(h)?this.getSelectedElements(null):this.getSelectedElements((function(D){const I=this.getParentElement(D,this.isComponent);return this.isFormatElement(D)&&(!I||I===w)||this.isComponent(D)&&!this.getFormatElement(D)}).bind(s));if(d){for(let D=0,I=A.length;D<I;D++)for(let O=D-1;O>=0;O--)if(A[O].contains(A[D])){A.splice(D,1),D--,I--;break}}return A},isEdgePoint:function(d,h,w){return d.nodeType===1&&!d.textContent.length?!0:w!=="end"&&h===0||(!w||w!=="start")&&!d.nodeValue&&h===1||(!w||w==="end")&&!!d.nodeValue&&h===d.nodeValue.length},_isEdgeFormat:function(d,h,w){if(!this.isEdgePoint(d,h,w))return!1;const A=[];for(w=w==="start"?"previousSibling":"nextSibling";d&&!s.isFormatElement(d)&&!s.isWysiwygDiv(d);)if(!d[w]||s.isBreak(d[w])&&!d[w][w])d.nodeType===1&&A.push(d.cloneNode(!1)),d=d.parentNode;else return null;return A},showLoading:function(){n.element.loading.style.display="block"},closeLoading:function(){n.element.loading.style.display="none"},appendFormatTag:function(d,h){if(!d||!d.parentNode)return null;const w=s.getFormatElement(this.getSelectionNode(),null);let A=null;if(!s.isFormatElement(d)&&s.isFreeFormatElement(w||d.parentNode))A=s.createElement("BR");else{const D=h?typeof h=="string"?h:h.nodeName:s.isFormatElement(w)&&!s.isRangeFormatElement(w)&&!s.isFreeFormatElement(w)?w.nodeName:i.defaultTag;A=s.createElement(D),A.innerHTML="<br>",(h&&typeof h!="string"||!h&&s.isFormatElement(w))&&s.copyTagAttributes(A,h||w,["id"])}return s.isCell(d)?d.insertBefore(A,d.nextElementSibling):d.parentNode.insertBefore(A,d.nextElementSibling),A},insertComponent:function(d,h,w,A){if(this.isReadOnly||w&&!this.checkCharCount(d,null))return null;const D=this.removeNode();this.getRange_addLine(this.getRange(),D.container);let I=null,O=this.getSelectionNode(),F=s.getFormatElement(O,null);if(s.isListCell(F))this.insertNode(d,O===F?null:D.container.nextSibling,!1),d.nextSibling||d.parentNode.appendChild(s.createElement("BR"));else{if(this.getRange().collapsed&&(D.container.nodeType===3||s.isBreak(D.container))){const $=s.getParentElement(D.container,(function(z){return this.isRangeFormatElement(z)}).bind(s));I=s.splitElement(D.container,D.offset,$?s.getElementDepth($)+1:0),I&&(F=I.previousSibling)}this.insertNode(d,s.isRangeFormatElement(F)?null:F,!1),F&&s.onlyZeroWidthSpace(F)&&s.removeItem(F)}if(!A){this.setRange(d,0,d,0);const $=this.getFileComponent(d);$?this.selectComponent($.target,$.pluginName):I&&(I=s.getEdgeChildNodes(I,null).sc||I,this.setRange(I,0,I,0))}return h||this.history.push(1),I||d},getFileComponent:function(d){if(!this._fileManager.queryString||!d)return null;let h,w;return(/^FIGURE$/i.test(d.nodeName)||/se-component/.test(d.className))&&(h=d.querySelector(this._fileManager.queryString)),!h&&d.nodeName&&this._fileManager.regExp.test(d.nodeName)&&(h=d),h&&(w=this._fileManager.pluginMap[h.nodeName.toLowerCase()],w)?{target:h,component:s.getParentElement(h,s.isComponent),pluginName:w}:null},selectComponent:function(d,h){if(s.isUneditableComponent(s.getParentElement(d,s.isComponent))||s.isUneditableComponent(d))return!1;this.hasFocus||this.focus();const w=this.plugins[h];w&&l.setTimeout((function(){typeof w.select=="function"&&this.callPlugin(h,w.select.bind(this,d),null),this._setComponentLineBreaker(d)}).bind(this))},_setComponentLineBreaker:function(d){this._lineBreaker.style.display="none";const h=s.getParentElement(d,s.isComponent),w=n.element.lineBreaker_t.style,A=n.element.lineBreaker_b.style,D=this.context.resizing.resizeContainer.style.display==="block"?this.context.resizing.resizeContainer:d,I=s.isListCell(h.parentNode);let O,F,$;(I?!h.previousSibling:!s.isFormatElement(h.previousElementSibling))?(this._variable._lineBreakComp=h,F=n.element.wysiwyg.scrollTop,O=s.getOffset(d,n.element.wysiwygFrame).top+F,$=D.offsetWidth/2/2,w.top=O-F-12+"px",w.left=s.getOffset(D).left+$+"px",w.display="block"):w.display="none",(I?!h.nextSibling:!s.isFormatElement(h.nextElementSibling))?(O||(this._variable._lineBreakComp=h,F=n.element.wysiwyg.scrollTop,O=s.getOffset(d,n.element.wysiwygFrame).top+F,$=D.offsetWidth/2/2),A.top=O+D.offsetHeight-F-12+"px",A.left=s.getOffset(D).left+D.offsetWidth-$-24+"px",A.display="block"):A.display="none"},_checkDuplicateNode:function(d,h){(function w(A){c._dupleCheck(A,h);const D=A.childNodes;for(let I=0,O=D.length;I<O;I++)w(D[I])})(d)},_dupleCheck:function(d,h){if(!s.isTextStyleElement(d))return;const w=(d.style.cssText.match(/[^;]+;/g)||[]).map(function(I){return I.trim()}),A=d.nodeName;if(/^span$/i.test(A)&&w.length===0)return d;let D=!1;return function I(O){if(!(s.isWysiwygDiv(O)||!s.isTextStyleElement(O))){if(O.nodeName===A){D=!0;const F=O.style.cssText.match(/[^;]+;/g)||[];for(let $=0,z=F.length,ee;$<z;$++)(ee=w.indexOf(F[$].trim()))>-1&&w.splice(ee,1);for(let $=0,z=O.classList.length;$<z;$++)d.classList.remove(O.classList[$])}I(O.parentElement)}}(h),D&&((d.style.cssText=w.join(" "))||(d.setAttribute("style",""),d.removeAttribute("style")),d.attributes.length||d.setAttribute("data-se-duple","true")),d},insertNode:function(d,h,w){if(this.isReadOnly||w&&!this.checkCharCount(d,null))return null;let A=null,D=this.getRange(),I=s.isListCell(D.commonAncestorContainer)?D.commonAncestorContainer:s.getFormatElement(this.getSelectionNode(),null),O=s.isListCell(I)&&(s.isListCell(d)||s.isList(d)),F,$,z,ee=null;const me=s.isFreeFormatElement(I),ie=!me&&(s.isFormatElement(d)||s.isRangeFormatElement(d))||s.isComponent(d);if(O&&(z=h||s.isList(d)?I.lastChild:I.nextElementSibling,ee=s.isList(d)?I:(z||I).parentNode),!h&&(ie||s.isComponent(d)||s.isMedia(d))){const Je=this.isEdgePoint(D.endContainer,D.endOffset,"end"),ye=this.removeNode(),Me=ye.container,we=Me===ye.prevContainer&&D.collapsed?null:ye.prevContainer;if(O&&we)if(ee=we.nodeType===3?we.parentNode:we,ee.contains(Me)){let Fe=!0;for(z=Me;z.parentNode&&z.parentNode!==ee;)z=z.parentNode,Fe=!1;Fe&&Me===we&&(z=z.nextSibling)}else z=null;else if(O&&s.isListCell(Me)&&!I.parentElement)I=s.createElement("LI"),ee.appendChild(I),Me.appendChild(ee),z=null;else if(Me.nodeType===3||s.isBreak(Me)||O){const Fe=s.getParentElement(Me,(function(ke){return this.isRangeFormatElement(ke)||this.isListCell(ke)}).bind(s));if(h=s.splitElement(Me,ye.offset,Fe?s.getElementDepth(Fe)+1:0),!h)z=h=I;else if(O){if(I.contains(Me)){const ke=s.isList(I.lastElementChild);let Ae=null;Je||(Ae=I.cloneNode(!1),Ae.appendChild(h.textContent.trim()?h:s.createTextNode(s.zeroWidthSpace))),ke&&(Ae||(Ae=I.cloneNode(!1),Ae.appendChild(s.createTextNode(s.zeroWidthSpace))),Ae.appendChild(I.lastElementChild)),Ae&&(I.parentNode.insertBefore(Ae,I.nextElementSibling),z=h=Ae)}}else h=h.previousSibling}}D=!h&&!ie?this.getRange_addLine(this.getRange(),null):this.getRange();const pe=D.commonAncestorContainer,be=D.startOffset,Ve=D.endOffset,Ue=D.startContainer===pe&&s.isFormatElement(pe),Ge=Ue&&(pe.childNodes[be]||pe.childNodes[0])||D.startContainer,Be=Ue&&(pe.childNodes[Ve]||pe.childNodes[pe.childNodes.length-1])||D.endContainer;if(!O)if(h)F=h.parentNode,h=h.nextSibling,$=!0;else if(F=Ge,Ge.nodeType===3&&(F=Ge.parentNode),D.collapsed)if(pe.nodeType===3)pe.textContent.length>Ve?h=pe.splitText(Ve):h=pe.nextSibling;else if(s.isBreak(F))h=F,F=F.parentNode;else{let Je=F.childNodes[be];const ye=Je&&Je.nodeType===3&&s.onlyZeroWidthSpace(Je)&&s.isBreak(Je.nextSibling)?Je.nextSibling:Je;ye?!ye.nextSibling&&s.isBreak(ye)?(F.removeChild(ye),h=null):h=s.isBreak(ye)&&!s.isBreak(d)?ye:ye.nextSibling:h=null}else if(Ge===Be){this.isEdgePoint(Be,Ve)?h=Be.nextSibling:h=Be.splitText(Ve);let ye=Ge;this.isEdgePoint(Ge,be)||(ye=Ge.splitText(be)),F.removeChild(ye),F.childNodes.length===0&&ie&&(F.innerHTML="<br>")}else{const ye=this.removeNode(),Me=ye.container,we=ye.prevContainer;if(Me&&Me.childNodes.length===0&&ie&&(s.isFormatElement(Me)?Me.innerHTML="<br>":s.isRangeFormatElement(Me)&&(Me.innerHTML="<"+i.defaultTag+"><br></"+i.defaultTag+">")),s.isListCell(Me)&&d.nodeType===3)F=Me,h=null;else if(!ie&&we)if(F=we.nodeType===3?we.parentNode:we,F.contains(Me)){let Fe=!0;for(h=Me;h.parentNode&&h.parentNode!==F;)h=h.parentNode,Fe=!1;Fe&&Me===we&&(h=h.nextSibling)}else h=null;else s.isWysiwygDiv(Me)&&!s.isFormatElement(d)?(F=Me.appendChild(s.createElement(i.defaultTag)),h=null):(h=ie?Be:Me===we?Me.nextSibling:Me,F=!h||!h.parentNode?pe:h.parentNode);for(;h&&!s.isFormatElement(h)&&h.parentNode!==pe;)h=h.parentNode}try{if(!O){if((s.isWysiwygDiv(h)||F===n.element.wysiwyg.parentNode)&&(F=n.element.wysiwyg,h=null),s.isFormatElement(d)||s.isRangeFormatElement(d)||!s.isListCell(F)&&s.isComponent(d)){const Je=F;if(s.isList(h))F=h,h=null;else if(s.isListCell(h))F=h.previousElementSibling||h;else if(!$&&!h){const ye=this.removeNode(),Me=ye.container.nodeType===3?s.isListCell(s.getFormatElement(ye.container,null))?ye.container:s.getFormatElement(ye.container,null)||ye.container.parentNode:ye.container,we=s.isWysiwygDiv(Me)||s.isRangeFormatElement(Me);F=we?Me:Me.parentNode,h=we?null:Me.nextSibling}Je.childNodes.length===0&&F!==Je&&s.removeItem(Je)}if(ie&&!me&&!s.isRangeFormatElement(F)&&!s.isListCell(F)&&!s.isWysiwygDiv(F)&&(h=F.nextElementSibling,F=F.parentNode),s.isWysiwygDiv(F)&&(d.nodeType===3||s.isBreak(d))){const Je=s.createElement(i.defaultTag);Je.appendChild(d),A=d,d=Je}}if(O?ee.parentNode?(F=ee,h=z):(F=n.element.wysiwyg,h=null):h=F===h?F.lastChild:h,s.isListCell(d)&&!s.isList(F)){if(s.isListCell(F))h=F.nextElementSibling,F=F.parentNode;else{const Je=s.createElement("ol");F.insertBefore(Je,h),F=Je,h=null}O=!0}if(this._checkDuplicateNode(d,F),F.insertBefore(d,h),O)if(s.onlyZeroWidthSpace(I.textContent.trim()))s.removeItem(I),d=d.lastChild;else{const Je=s.getArrayItem(I.children,s.isList);Je&&(d!==Je?(d.appendChild(Je),d=Je.previousSibling):(F.appendChild(d),d=F),s.onlyZeroWidthSpace(I.textContent.trim())&&s.removeItem(I))}}catch(Je){F.appendChild(d),console.warn("[SUNEDITOR.insertNode.warn] "+Je)}finally{A&&(d=A);const Je=F.querySelectorAll("[data-se-duple]");if(Je.length>0)for(let ye=0,Me=Je.length,we,Fe,ke,Ae;ye<Me;ye++){for(we=Je[ye],ke=we.childNodes,Ae=we.parentNode;ke[0];)Fe=ke[0],Ae.insertBefore(Fe,we);we===d&&(d=Fe),s.removeItem(we)}if((s.isFormatElement(d)||s.isComponent(d))&&Ge===Be){const ye=s.getFormatElement(pe,null);ye&&ye.nodeType===1&&s.isEmptyLine(ye)&&s.removeItem(ye)}if(me&&(s.isFormatElement(d)||s.isRangeFormatElement(d))&&(d=this._setIntoFreeFormat(d)),!s.isComponent(d)){let ye=1;if(d.nodeType===3)ye=d.textContent.length,this.setRange(d,ye,d,ye);else if(!s.isBreak(d)&&!s.isListCell(d)&&s.isFormatElement(F)){let Me=null;(!d.previousSibling||s.isBreak(d.previousSibling))&&(Me=s.createTextNode(s.zeroWidthSpace),d.parentNode.insertBefore(Me,d)),(!d.nextSibling||s.isBreak(d.nextSibling))&&(Me=s.createTextNode(s.zeroWidthSpace),d.parentNode.insertBefore(Me,d.nextSibling)),s._isIgnoreNodeChange(d)&&(d=d.nextSibling,ye=0)}this.setRange(d,ye,d,ye)}return d}},_setIntoFreeFormat:function(d){const h=d.parentNode;let w,A;for(;s.isFormatElement(d)||s.isRangeFormatElement(d);){for(w=d.childNodes,A=null;w[0];){if(A=w[0],s.isFormatElement(A)||s.isRangeFormatElement(A)){if(this._setIntoFreeFormat(A),!d.parentNode)break;w=d.childNodes;continue}h.insertBefore(A,d)}d.childNodes.length===0&&s.removeItem(d),d=s.createElement("BR"),h.insertBefore(d,A.nextSibling)}return d},removeNode:function(){this._resetRangeToTextNode();const d=this.getRange();if(d.startContainer===d.endContainer){const ye=s.getParentElement(d.startContainer,s.isMediaComponent);if(ye){const Me=s.createElement("BR"),we=s.createElement(i.defaultTag);return we.appendChild(Me),s.changeElement(ye,we),c.setRange(we,0,we,0),this.history.push(!0),{container:we,offset:0,prevContainer:null}}}const h=d.startOffset===0,w=c.isEdgePoint(d.endContainer,d.endOffset,"end");let A=null,D=null,I=null;h&&(D=s.getFormatElement(d.startContainer),D&&(A=D.previousElementSibling,D=A)),w&&(I=s.getFormatElement(d.endContainer),I=I&&I.nextElementSibling);let O,F=0,$=d.startContainer,z=d.endContainer,ee=d.startOffset,me=d.endOffset;const ie=d.commonAncestorContainer.nodeType===3&&d.commonAncestorContainer.parentNode===$.parentNode?$.parentNode:d.commonAncestorContainer;if(ie===$&&ie===z&&($=ie.children[ee],z=ie.children[me],ee=me=0),!$||!z)return{container:ie,offset:0};if($===z&&d.collapsed&&$.textContent&&s.onlyZeroWidthSpace($.textContent.substr(ee)))return{container:$,offset:ee,prevContainer:$&&$.parentNode?$:null};let pe=null,be=null;const Ve=s.getListChildNodes(ie,null);let Ue=s.getArrayIndex(Ve,$),Ge=s.getArrayIndex(Ve,z);if(Ve.length>0&&Ue>-1&&Ge>-1){for(let ye=Ue+1,Me=$;ye>=0;ye--)Ve[ye]===Me.parentNode&&Ve[ye].firstChild===Me&&ee===0&&(Ue=ye,Me=Me.parentNode);for(let ye=Ge-1,Me=z;ye>Ue;ye--)Ve[ye]===Me.parentNode&&Ve[ye].nodeType===1&&(Ve.splice(ye,1),Me=Me.parentNode,--Ge)}else{if(Ve.length===0){if(s.isFormatElement(ie)||s.isRangeFormatElement(ie)||s.isWysiwygDiv(ie)||s.isBreak(ie)||s.isMedia(ie))return{container:ie,offset:0};if(ie.nodeType===3)return{container:ie,offset:me};Ve.push(ie),$=z=ie}else if($=z=Ve[0],s.isBreak($)||s.onlyZeroWidthSpace($))return{container:s.isMedia(ie)?ie:$,offset:0};Ue=Ge=0}for(let ye=Ue;ye<=Ge;ye++){const Me=Ve[ye];if(Me.length===0||Me.nodeType===3&&Me.data===void 0){this._nodeRemoveListItem(Me);continue}if(Me===$){if($.nodeType===1){if(s.isComponent($))continue;pe=s.createTextNode($.textContent)}else Me===z?(pe=s.createTextNode($.substringData(0,ee)+z.substringData(me,z.length-me)),F=ee):pe=s.createTextNode($.substringData(0,ee));if(pe.length>0?$.data=pe.data:this._nodeRemoveListItem($),Me===z)break;continue}if(Me===z){if(z.nodeType===1){if(s.isComponent(z))continue;be=s.createTextNode(z.textContent)}else be=s.createTextNode(z.substringData(me,z.length-me));be.length>0?z.data=be.data:this._nodeRemoveListItem(z);continue}this._nodeRemoveListItem(Me)}const Be=s.getParentElement(z,"ul"),Je=s.getParentElement($,"li");if(Be&&Je&&Je.contains(Be)?(O=Be.previousSibling,F=O.textContent.length):(O=z&&z.parentNode?z:$&&$.parentNode?$:d.endContainer||d.startContainer,F=!h&&!w?F:w?O.textContent.length:0),!s.isWysiwygDiv(O)&&O.childNodes.length===0){const ye=s.removeItemAllParents(O,null,null);ye&&(O=ye.sc||ye.ec||n.element.wysiwyg)}return!s.getFormatElement(O)&&!($&&$.parentNode)&&(I?(O=I,F=0):D&&(O=D,F=1)),this.setRange(O,F,O,F),this.history.push(!0),{container:O,offset:F,prevContainer:A}},_nodeRemoveListItem:function(d){const h=s.getFormatElement(d,null);s.removeItem(d),s.isListCell(h)&&(s.removeItemAllParents(h,null,null),h&&s.isList(h.firstChild)&&h.insertBefore(s.createTextNode(s.zeroWidthSpace),h.firstChild))},applyRangeFormatElement:function(d){this.getRange_addLine(this.getRange(),null);const h=this.getSelectedElementsAndComponents(!1);if(!h||h.length===0)return;e:for(let me=0,ie=h.length,pe,be,Ve,Ue,Ge,Be;me<ie;me++)if(pe=h[me],!!s.isListCell(pe)&&(be=pe.lastElementChild,be&&s.isListCell(pe.nextElementSibling)&&h.indexOf(pe.nextElementSibling)>-1&&(Ue=be.lastElementChild,h.indexOf(Ue)>-1))){let Je=null;for(;Je=Ue.lastElementChild;)if(s.isList(Je))if(h.indexOf(Je.lastElementChild)>-1)Ue=Je.lastElementChild;else continue e;Ve=be.firstElementChild,Ge=h.indexOf(Ve),Be=h.indexOf(Ue),h.splice(Ge,Be-Ge+1),ie=h.length;continue}let w=h[h.length-1],A,D,I;s.isRangeFormatElement(w)||s.isFormatElement(w)?A=w:A=s.getRangeFormatElement(w,null)||s.getFormatElement(w,null),s.isCell(A)?(D=null,I=A):(D=A.nextSibling,I=A.parentNode);let O=s.getElementDepth(A),F=null;const $=[],z=function(me,ie,pe){let be=null;if(me!==ie&&!s.isTable(ie)){if(ie&&s.getElementDepth(me)===s.getElementDepth(ie))return pe;be=s.removeItemAllParents(ie,null,me)}return be?be.ec:pe};for(let me=0,ie=h.length,pe,be,Ve,Ue,Ge,Be,Je;me<ie;me++)if(pe=h[me],be=pe.parentNode,!(!be||d.contains(be)))if(Ve=s.getElementDepth(pe),s.isList(be)){if(F===null&&(Be?(F=Be,Je=!0,Be=null):F=be.cloneNode(!1)),$.push(pe),Ge=h[me+1],me===ie-1||Ge&&Ge.parentNode!==be){Ge&&pe.contains(Ge.parentNode)&&(Be=Ge.parentNode.cloneNode(!1));let ye=be.parentNode,Me;for(;s.isList(ye);)Me=s.createElement(ye.nodeName),Me.appendChild(F),F=Me,ye=ye.parentNode;const we=this.detachRangeFormatElement(be,$,null,!0,!0);O>=Ve?(O=Ve,I=we.cc,D=z(I,be,we.ec),D&&(I=D.parentNode)):I===we.cc&&(D=we.ec),I!==we.cc&&(Ue=z(I,we.cc,Ue),Ue!==void 0?D=Ue:D=we.cc);for(let Fe=0,ke=we.removeArray.length;Fe<ke;Fe++)F.appendChild(we.removeArray[Fe]);Je||d.appendChild(F),Be&&we.removeArray[we.removeArray.length-1].appendChild(Be),F=null,Je=!1}}else O>=Ve&&(O=Ve,I=be,D=pe.nextSibling),d.appendChild(pe),I!==be&&(Ue=z(I,be),Ue!==void 0&&(D=Ue));if(this.effectNode=null,s.mergeSameTags(d,null,!1),s.mergeNestedTags(d,(function(me){return this.isList(me)}).bind(s)),D&&s.getElementDepth(D)>0&&(s.isList(D.parentNode)||s.isList(D.parentNode.parentNode))){const me=s.getParentElement(D,(function(pe){return this.isRangeFormatElement(pe)&&!this.isList(pe)}).bind(s)),ie=s.splitElement(D,null,me?s.getElementDepth(me)+1:0);ie.parentNode.insertBefore(d,ie)}else I.insertBefore(d,D),z(d,D);const ee=s.getEdgeChildNodes(d.firstElementChild,d.lastElementChild);h.length>1?this.setRange(ee.sc,0,ee.ec,ee.ec.textContent.length):this.setRange(ee.ec,ee.ec.textContent.length,ee.ec,ee.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(d,h,w,A,D){const I=this.getRange();let O=I.startOffset,F=I.endOffset,$=s.getListChildNodes(d,function(we){return we.parentNode===d}),z=d.parentNode,ee=null,me=null,ie=d.cloneNode(!1);const pe=[],be=s.isList(w);let Ve=!1,Ue=!1,Ge=!1;function Be(we,Fe,ke,Ae){if(s.onlyZeroWidthSpace(Fe)&&(Fe.innerHTML=s.zeroWidthSpace,O=F=1),Fe.nodeType===3)return we.insertBefore(Fe,ke),Fe;const Ee=(Ge?Fe:Ae).childNodes;let Ce=Fe.cloneNode(!1),ve=null,ge=null;for(;Ee[0];)ge=Ee[0],s._notTextNode(ge)&&!s.isBreak(ge)&&!s.isListCell(Ce)?(Ce.childNodes.length>0&&(ve||(ve=Ce),we.insertBefore(Ce,ke),Ce=Fe.cloneNode(!1)),we.insertBefore(ge,ke),ve||(ve=ge)):Ce.appendChild(ge);if(Ce.childNodes.length>0){if(s.isListCell(we)&&s.isListCell(Ce)&&s.isList(ke))if(be){for(ve=ke;ke;)Ce.appendChild(ke),ke=ke.nextSibling;we.parentNode.insertBefore(Ce,we.nextElementSibling)}else{const fe=Ae.nextElementSibling,Re=s.detachNestedList(Ae,!1);if(d!==Re||fe!==Ae.nextElementSibling){const We=Ce.childNodes;for(;We[0];)Ae.appendChild(We[0]);d=Re,Ue=!0}}else we.insertBefore(Ce,ke);ve||(ve=Ce)}return ve}for(let we=0,Fe=$.length,ke,Ae,Ee;we<Fe;we++)if(ke=$[we],!(ke.nodeType===3&&s.isList(ie)))if(Ge=!1,A&&we===0&&(!h||h.length===Fe||h[0]===ke?ee=d.previousSibling:ee=ie),h&&(Ae=h.indexOf(ke)),h&&Ae===-1)ie||(ie=d.cloneNode(!1)),ie.appendChild(ke);else{if(h&&(Ee=h[Ae+1]),ie&&ie.children.length>0&&(z.insertBefore(ie,d),ie=null),!be&&s.isListCell(ke))if(Ee&&s.getElementDepth(ke)!==s.getElementDepth(Ee)&&(s.isListCell(z)||s.getArrayItem(ke.children,s.isList,!1))){const Ce=ke.nextElementSibling,ve=s.detachNestedList(ke,!1);(d!==ve||Ce!==ke.nextElementSibling)&&(d=ve,Ue=!0)}else{const Ce=ke;ke=s.createElement(A?Ce.nodeName:s.isList(d.parentNode)||s.isListCell(d.parentNode)?"LI":s.isCell(d.parentNode)?"DIV":i.defaultTag);const ve=s.isListCell(ke),ge=Ce.childNodes;for(;ge[0]&&!(s.isList(ge[0])&&!ve);)ke.appendChild(ge[0]);s.copyFormatAttributes(ke,Ce),Ge=!0}else ke=ke.cloneNode(!1);if(!Ue&&(A?(pe.push(ke),s.removeItem($[we])):(w?(Ve||(z.insertBefore(w,d),Ve=!0),ke=Be(w,ke,null,$[we])):ke=Be(z,ke,d,$[we]),Ue||(h?(me=ke,ee||(ee=ke)):ee||(ee=me=ke))),Ue)){Ue=Ge=!1,$=s.getListChildNodes(d,function(Ce){return Ce.parentNode===d}),ie=d.cloneNode(!1),z=d.parentNode,we=-1,Fe=$.length;continue}}const Je=d.parentNode;let ye=d.nextSibling;ie&&ie.children.length>0&&Je.insertBefore(ie,ye),w?ee=w.previousSibling:ee||(ee=d.previousSibling),ye=d.nextSibling!==ie?d.nextSibling:ie?ie.nextSibling:null,d.children.length===0||d.textContent.length===0?s.removeItem(d):s.removeEmptyNode(d,null,!1);let Me=null;if(A)Me={cc:Je,sc:ee,so:O,ec:ye,eo:F,removeArray:pe};else{ee||(ee=me),me||(me=ee);const we=s.getEdgeChildNodes(ee,me.parentNode?ee:me);Me={cc:(we.sc||we.ec).parentNode,sc:we.sc,so:O,ec:we.ec,eo:F,removeArray:null}}if(this.effectNode=null,D)return Me;!A&&Me&&(h?this.setRange(Me.sc,O,Me.ec,F):this.setRange(Me.sc,0,Me.sc,0)),this.history.push(!1)},detachList:function(d,h){let w={},A=!1,D=!1,I=null,O=null;const F=(function($){return!this.isComponent($)}).bind(s);for(let $=0,z=d.length,ee,me,ie,pe;$<z;$++){if(ie=$===z-1,me=s.getRangeFormatElement(d[$],F),pe=s.isList(me),!ee&&pe)ee=me,w={r:ee,f:[s.getParentElement(d[$],"LI")]},$===0&&(A=!0);else if(ee&&pe)if(ee!==me){const be=this.detachRangeFormatElement(w.f[0].parentNode,w.f,null,h,!0);me=d[$].parentNode,A&&(I=be.sc,A=!1),ie&&(O=be.ec),pe?(ee=me,w={r:ee,f:[s.getParentElement(d[$],"LI")]},ie&&(D=!0)):ee=null}else w.f.push(s.getParentElement(d[$],"LI")),ie&&(D=!0);if(ie&&s.isList(ee)){const be=this.detachRangeFormatElement(w.f[0].parentNode,w.f,null,h,!0);(D||z===1)&&(O=be.ec),A&&(I=be.sc||O)}}return{sc:I,ec:O}},nodeChange:function(d,h,w,A){this._resetRangeToTextNode();let D=this.getRange_addLine(this.getRange(),null);h=h&&h.length>0?h:!1,w=w&&w.length>0?w:!1;const I=!d,O=I&&!w&&!h;let F=D.startContainer,$=D.startOffset,z=D.endContainer,ee=D.endOffset;if(O&&D.collapsed&&s.isFormatElement(F.parentNode)||F===z&&F.nodeType===1&&s.isNonEditable(F)){const ge=F.parentNode;if(!s.isListCell(ge)||!s.getValues(ge.style).some((function(fe){return this._listKebab.indexOf(fe)>-1}).bind(this)))return}if(D.collapsed&&!O&&F.nodeType===1&&!s.isBreak(F)&&!s.isComponent(F)){let ge=null;const fe=F.childNodes[$];fe&&(fe.nextSibling?ge=s.isBreak(fe)?fe:fe.nextSibling:ge=null);const Re=s.createTextNode(s.zeroWidthSpace);F.insertBefore(Re,ge),this.setRange(Re,1,Re,1),D=this.getRange(),F=D.startContainer,$=D.startOffset,z=D.endContainer,ee=D.endOffset}s.isFormatElement(F)&&(F=F.childNodes[$]||F.firstChild,$=0),s.isFormatElement(z)&&(z=z.childNodes[ee]||z.lastChild,ee=z.textContent.length),I&&(d=s.createElement("DIV"));const me=l.RegExp,ie=d.nodeName;if(!O&&F===z&&!w&&d){let ge=F,fe=0;const Re=[],We=d.style;for(let ht=0,xt=We.length;ht<xt;ht++)Re.push(We[ht]);const it=d.classList;for(let ht=0,xt=it.length;ht<xt;ht++)Re.push("."+it[ht]);if(Re.length>0){for(;!s.isFormatElement(ge)&&!s.isWysiwygDiv(ge);){for(let ht=0;ht<Re.length;ht++)if(ge.nodeType===1){const xt=Re[ht],Dt=/^\./.test(xt)?new me("\\s*"+xt.replace(/^\./,"")+"(\\s+|$)","ig"):!1,Yt=I?!!ge.style[xt]:!!ge.style[xt]&&!!d.style[xt]&&ge.style[xt]===d.style[xt],Mt=Dt===!1?!1:I?!!ge.className.match(Dt):!!ge.className.match(Dt)&&!!d.className.match(Dt);(Yt||Mt)&&fe++}ge=ge.parentNode}if(fe>=Re.length)return}}let pe={},be={},Ve,Ue="",Ge="",Be="";if(h){for(let ge=0,fe=h.length,Re;ge<fe;ge++)Re=h[ge],/^\./.test(Re)?Ge+=(Ge?"|":"\\s*(?:")+Re.replace(/^\./,""):Ue+=(Ue?"|":"(?:;|^|\\s)(?:")+Re;Ue&&(Ue+=")\\s*:[^;]*\\s*(?:;|$)",Ue=new me(Ue,"ig")),Ge&&(Ge+=")(?=\\s+|$)",Ge=new me(Ge,"ig"))}if(w){Be="^(?:"+w[0];for(let ge=1;ge<w.length;ge++)Be+="|"+w[ge];Be+=")$",Be=new me(Be,"i")}const Je=l.Boolean,ye={v:!1},Me=function(ge){const fe=ge.cloneNode(!1);if(fe.nodeType===3||s.isBreak(fe))return fe;if(O)return null;const Re=!Be&&I||Be&&Be.test(fe.nodeName);if(Re&&!A)return ye.v=!0,null;const We=fe.style.cssText;let it="";Ue&&We.length>0&&(it=We.replace(Ue,"").trim(),it!==We&&(ye.v=!0));const ht=fe.className;let xt="";return Ge&&ht.length>0&&(xt=ht.replace(Ge,"").trim(),xt!==ht&&(ye.v=!0)),I&&(Ge||!ht)&&(Ue||!We)&&!it&&!xt&&Re?(ye.v=!0,null):it||xt||fe.nodeName!==ie||Je(Ue)!==Je(We)||Je(Ge)!==Je(ht)?(Ue&&We.length>0&&(fe.style.cssText=it),fe.style.cssText||fe.removeAttribute("style"),Ge&&ht.length>0&&(fe.className=xt.trim()),fe.className.trim()||fe.removeAttribute("class"),!fe.style.cssText&&!fe.className&&(fe.nodeName===ie||Re)?(ye.v=!0,null):fe):(ye.v=!0,null)},we=this.getSelectedElements(null);D=this.getRange(),F=D.startContainer,$=D.startOffset,z=D.endContainer,ee=D.endOffset,s.getFormatElement(F,null)||(F=s.getChildElement(we[0],function(ge){return ge.nodeType===3},!1),$=0),s.getFormatElement(z,null)||(z=s.getChildElement(we[we.length-1],function(ge){return ge.nodeType===3},!1),ee=z.textContent.length);const Fe=s.getFormatElement(F,null)===s.getFormatElement(z,null),ke=we.length-(Fe?0:1);Ve=d.cloneNode(!1);const Ae=O||I&&function(ge){for(let fe=0,Re=ge.length;fe<Re;fe++)if(s._isMaintainedNode(ge[fe])||s._isSizeNode(ge[fe]))return!0;return!1}(w),Ee=I||s._isSizeNode(Ve),Ce=this._util_getMaintainedNode.bind(s,Ae,Ee),ve=this._util_isMaintainedNode.bind(s,Ae,Ee);if(Fe){this._resetCommonListCell(we[0],h)&&(D=this.setRange(F,$,z,ee));const ge=this._nodeChange_oneLine(we[0],Ve,Me,F,$,z,ee,O,I,D.collapsed,ye,Ce,ve);pe.container=ge.startContainer,pe.offset=ge.startOffset,be.container=ge.endContainer,be.offset=ge.endOffset,pe.container===be.container&&s.onlyZeroWidthSpace(pe.container)&&(pe.offset=be.offset=1),this._setCommonListStyle(ge.ancestor,null)}else{let ge=!1;ke>0&&this._resetCommonListCell(we[ke],h)&&(ge=!0),this._resetCommonListCell(we[0],h)&&(ge=!0),ge&&this.setRange(F,$,z,ee),ke>0&&(Ve=d.cloneNode(!1),be=this._nodeChange_endLine(we[ke],Ve,Me,z,ee,O,I,ye,Ce,ve));for(let fe=ke-1,Re;fe>0;fe--)this._resetCommonListCell(we[fe],h),Ve=d.cloneNode(!1),Re=this._nodeChange_middleLine(we[fe],Ve,Me,O,I,ye,be.container),Re.endContainer&&Re.ancestor.contains(Re.endContainer)&&(be.ancestor=null,be.container=Re.endContainer),this._setCommonListStyle(Re.ancestor,null);Ve=d.cloneNode(!1),pe=this._nodeChange_startLine(we[0],Ve,Me,F,$,O,I,ye,Ce,ve,be.container),pe.endContainer&&(be.ancestor=null,be.container=pe.endContainer),ke<=0?be=pe:be.container||(be.ancestor=null,be.container=pe.container,be.offset=pe.container.textContent.length),this._setCommonListStyle(pe.ancestor,null),this._setCommonListStyle(be.ancestor||s.getFormatElement(be.container),null)}this.controllersOff(),this.setRange(pe.container,pe.offset,be.container,be.offset),this.history.push(!1)},_resetCommonListCell:function(d,h){if(!s.isListCell(d))return;h||(h=this._listKebab);const w=s.getArrayItem(d.childNodes,function(me){return!s.isBreak(me)},!0),A=d.style,D=[],I=[],O=s.getValues(A);for(let me=0,ie=this._listKebab.length;me<ie;me++)O.indexOf(this._listKebab[me])>-1&&h.indexOf(this._listKebab[me])>-1&&(D.push(this._listCamel[me]),I.push(this._listKebab[me]));if(!D.length)return;const F=s.createElement("SPAN");for(let me=0,ie=D.length;me<ie;me++)F.style[D[me]]=A[I[me]],A.removeProperty(I[me]);let $=F.cloneNode(!1),z=null,ee=!1;for(let me=0,ie=w.length,pe,be;me<ie;me++)pe=w[me],!i._textTagsMap[pe.nodeName.toLowerCase()]&&(be=s.getValues(pe.style),be.length===0||D.some(function(Ve){return be.indexOf(Ve)===-1})&&be.some(function(Ve){})?(z=pe.nextSibling,$.appendChild(pe)):$.childNodes.length>0&&(d.insertBefore($,z),$=F.cloneNode(!1),z=null,ee=!0));return $.childNodes.length>0&&(d.insertBefore($,z),ee=!0),A.length||d.removeAttribute("style"),ee},_setCommonListStyle:function(d,h){if(!s.isListCell(d))return;const w=s.getArrayItem((h||d).childNodes,function($){return!s.isBreak($)},!0);if(h=w[0],!h||w.length>1||h.nodeType!==1)return;const A=h.style,D=d.style,I=h.nodeName.toLowerCase();let O=!1;i._textTagsMap[I]===i._defaultCommand.bold.toLowerCase()&&(D.fontWeight="bold"),i._textTagsMap[I]===i._defaultCommand.italic.toLowerCase()&&(D.fontStyle="italic");const F=s.getValues(A);if(F.length>0)for(let $=0,z=this._listCamel.length;$<z;$++)F.indexOf(this._listKebab[$])>-1&&(D[this._listCamel[$]]=A[this._listCamel[$]],A.removeProperty(this._listKebab[$]),O=!0);if(this._setCommonListStyle(d,h),!!O&&!A.length){const $=h.childNodes,z=h.parentNode,ee=h.nextSibling;for(;$.length>0;)z.insertBefore($[0],ee);s.removeItem(h)}},_stripRemoveNode:function(d){const h=d.parentNode;if(!d||d.nodeType===3||!h)return;const w=d.childNodes;for(;w[0];)h.insertBefore(w[0],d);h.removeChild(d)},_util_getMaintainedNode:function(d,h,w){return!w||d?null:this.getParentElement(w,this._isMaintainedNode.bind(this))||(h?null:this.getParentElement(w,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(d,h,w){if(!w||d||w.nodeType!==1)return!1;const A=this._isMaintainedNode(w);return this.getParentElement(w,this._isMaintainedNode.bind(this))?A:A||(h?!1:this._isSizeNode(w))},_nodeChange_oneLine:function(d,h,w,A,D,I,O,F,$,z,ee,me,ie){let pe=A.parentNode;for(;!pe.nextSibling&&!pe.previousSibling&&!s.isFormatElement(pe.parentNode)&&!s.isWysiwygDiv(pe.parentNode)&&pe.nodeName!==h.nodeName;)pe=pe.parentNode;if(!$&&pe===I.parentNode&&pe.nodeName===h.nodeName&&s.onlyZeroWidthSpace(A.textContent.slice(0,D))&&s.onlyZeroWidthSpace(I.textContent.slice(O))){const Mt=pe.childNodes;let on=!0;for(let Wt=0,fn=Mt.length,Zt,gn,En,$t;Wt<fn;Wt++){if(Zt=Mt[Wt],$t=!s.onlyZeroWidthSpace(Zt),Zt===A){gn=!0;continue}if(Zt===I){En=!0;continue}if(!gn&&$t||gn&&En&&$t){on=!1;break}}if(on)return s.copyTagAttributes(pe,h),{ancestor:d,startContainer:A,startOffset:D,endContainer:I,endOffset:O}}ee.v=!1;const be=d,Ve=[h],Ue=d.cloneNode(!1),Ge=A===I;let Be=A,Je=D,ye=I,Me=O,we=!1,Fe=!1,ke,Ae,Ee,Ce,ve;const ge=l.RegExp;function fe(Mt){const on=new ge("(?:;|^|\\s)(?:"+Ce+"null)\\s*:[^;]*\\s*(?:;|$)","ig");let Wt="";return on&&Mt.style.cssText.length>0&&(Wt=on.test(Mt.style.cssText)),!Wt}if(function Mt(on,Wt){const fn=on.childNodes;for(let Zt=0,gn=fn.length,En;Zt<gn;Zt++){let $t=fn[Zt];if(!$t)continue;let Rn=Wt,bt;if(!we&&$t===Be){let mt=Ue;ve=me($t);const Et=s.createTextNode(Be.nodeType===1?"":Be.substringData(0,Je)),Ft=s.createTextNode(Be.nodeType===1?"":Be.substringData(Je,Ge&&Me>=Je?Me-Je:Be.data.length-Je));if(ve){const hn=me(Wt);if(hn&&hn.parentNode!==mt){let an=hn,Qt=null;for(;an.parentNode!==mt;){for(Wt=Qt=an.parentNode.cloneNode(!1);an.childNodes[0];)Qt.appendChild(an.childNodes[0]);an.appendChild(Qt),an=an.parentNode}an.parentNode.appendChild(hn)}ve=ve.cloneNode(!1)}s.onlyZeroWidthSpace(Et)||Wt.appendChild(Et);const Gt=me(Wt);for(Gt&&(ve=Gt),ve&&(mt=ve),Ae=$t,ke=[],Ce="";Ae!==mt&&Ae!==be&&Ae!==null;)En=ie(Ae)?null:w(Ae),En&&Ae.nodeType===1&&fe(Ae)&&(ke.push(En),Ce+=Ae.style.cssText.substr(0,Ae.style.cssText.indexOf(":"))+"|"),Ae=Ae.parentNode;const Nn=ke.pop()||Ft;for(Ee=Ae=Nn;ke.length>0;)Ae=ke.pop(),Ee.appendChild(Ae),Ee=Ae;if(h.appendChild(Nn),mt.appendChild(h),ve&&!me(ye)&&(h=h.cloneNode(!1),Ue.appendChild(h),Ve.push(h)),Be=Ft,Je=0,we=!0,Ae!==Ft&&Ae.appendChild(Be),!Ge)continue}if(!Fe&&$t===ye){ve=me($t);const mt=s.createTextNode(ye.nodeType===1?"":ye.substringData(Me,ye.length-Me)),Et=s.createTextNode(Ge||ye.nodeType===1?"":ye.substringData(0,Me));if(ve?ve=ve.cloneNode(!1):ie(h.parentNode)&&!ve&&(h=h.cloneNode(!1),Ue.appendChild(h),Ve.push(h)),!s.onlyZeroWidthSpace(mt)){Ae=$t,Ce="",ke=[];const Gt=[];for(;Ae!==Ue&&Ae!==be&&Ae!==null;)Ae.nodeType===1&&fe(Ae)&&(ie(Ae)?Gt.push(Ae.cloneNode(!1)):ke.push(Ae.cloneNode(!1)),Ce+=Ae.style.cssText.substr(0,Ae.style.cssText.indexOf(":"))+"|"),Ae=Ae.parentNode;for(ke=ke.concat(Gt),bt=Ee=Ae=ke.pop()||mt;ke.length>0;)Ae=ke.pop(),Ee.appendChild(Ae),Ee=Ae;Ue.appendChild(bt),Ae.textContent=mt.data}if(ve&&bt){const Gt=me(bt);Gt&&(ve=Gt)}for(Ae=$t,ke=[],Ce="";Ae!==Ue&&Ae!==be&&Ae!==null;)En=ie(Ae)?null:w(Ae),En&&Ae.nodeType===1&&fe(Ae)&&(ke.push(En),Ce+=Ae.style.cssText.substr(0,Ae.style.cssText.indexOf(":"))+"|"),Ae=Ae.parentNode;const Ft=ke.pop()||Et;for(Ee=Ae=Ft;ke.length>0;)Ae=ke.pop(),Ee.appendChild(Ae),Ee=Ae;ve?(h=h.cloneNode(!1),h.appendChild(Ft),ve.insertBefore(h,ve.firstChild),Ue.appendChild(ve),Ve.push(h),ve=null):h.appendChild(Ft),ye=Et,Me=Et.data.length,Fe=!0,!F&&z&&(h=Et,Et.textContent=s.zeroWidthSpace),Ae!==Et&&Ae.appendChild(ye);continue}if(we){if($t.nodeType===1&&!s.isBreak($t)){s._isIgnoreNodeChange($t)?(Ue.appendChild($t.cloneNode(!0)),z||(h=h.cloneNode(!1),Ue.appendChild(h),Ve.push(h))):Mt($t,$t);continue}Ae=$t,ke=[],Ce="";const mt=[];for(;Ae.parentNode!==null&&Ae!==be&&Ae!==h;)En=Fe?Ae.cloneNode(!1):w(Ae),Ae.nodeType===1&&!s.isBreak($t)&&En&&fe(Ae)&&(ie(Ae)?ve||mt.push(En):ke.push(En),Ce+=Ae.style.cssText.substr(0,Ae.style.cssText.indexOf(":"))+"|"),Ae=Ae.parentNode;ke=ke.concat(mt);const Et=ke.pop()||$t;for(Ee=Ae=Et;ke.length>0;)Ae=ke.pop(),Ee.appendChild(Ae),Ee=Ae;if(ie(h.parentNode)&&!ie(Et)&&!s.onlyZeroWidthSpace(h)&&(h=h.cloneNode(!1),Ue.appendChild(h),Ve.push(h)),!Fe&&!ve&&ie(Et)){h=h.cloneNode(!1);const Ft=Et.childNodes;for(let Gt=0,Nn=Ft.length;Gt<Nn;Gt++)h.appendChild(Ft[Gt]);Et.appendChild(h),Ue.appendChild(Et),Ve.push(h),h.children.length>0?Wt=Ae:Wt=h}else Et===$t?Fe?Wt=Ue:Wt=h:Fe?(Ue.appendChild(Et),Wt=Ae):(h.appendChild(Et),Wt=Ae);if(ve&&$t.nodeType===3)if(me($t)){const Ft=s.getParentElement(Wt,(function(Gt){return this._isMaintainedNode(Gt.parentNode)||Gt.parentNode===Ue}).bind(s));ve.appendChild(Ft),h=Ft.cloneNode(!1),Ve.push(h),Ue.appendChild(h)}else ve=null}bt=$t.cloneNode(!1),Wt.appendChild(bt),$t.nodeType===1&&!s.isBreak($t)&&(Rn=bt),Mt($t,Rn)}}(d,Ue),$&&!F&&!ee.v)return{ancestor:d,startContainer:A,startOffset:D,endContainer:I,endOffset:O};if(F=F&&$,F)for(let Mt=0;Mt<Ve.length;Mt++){let on=Ve[Mt],Wt,fn,Zt;if(z)Wt=s.createTextNode(s.zeroWidthSpace),Ue.replaceChild(Wt,on);else{const gn=on.childNodes;for(fn=gn[0];gn[0];)Zt=gn[0],Ue.insertBefore(Zt,on);s.removeItem(on)}Mt===0&&(z?Be=ye=Wt:(Be=fn,ye=Zt))}else{if($)for(let Mt=0;Mt<Ve.length;Mt++)this._stripRemoveNode(Ve[Mt]);z&&(Be=ye=h)}s.removeEmptyNode(Ue,h,!1),z&&(Je=Be.textContent.length,Me=ye.textContent.length);const Re=F||ye.textContent.length===0;!s.isBreak(ye)&&ye.textContent.length===0&&(s.removeItem(ye),ye=Be),Me=Re?ye.textContent.length:Me;const We={s:0,e:0},it=s.getNodePath(Be,Ue,We),ht=!ye.parentNode;ht&&(ye=Be);const xt={s:0,e:0},Dt=s.getNodePath(ye,Ue,!ht&&!Re?xt:null);Je+=We.s,Me=z?Je:ht?Be.textContent.length:Re?Me+We.s:Me+xt.s;const Yt=s.mergeSameTags(Ue,[it,Dt],!0);return d.parentNode.replaceChild(Ue,d),Be=s.getNodeFromPath(it,Ue),ye=s.getNodeFromPath(Dt,Ue),{ancestor:Ue,startContainer:Be,startOffset:Je+Yt[0],endContainer:ye,endOffset:Me+Yt[1]}},_nodeChange_startLine:function(d,h,w,A,D,I,O,F,$,z,ee){let me=A.parentNode;for(;!me.nextSibling&&!me.previousSibling&&!s.isFormatElement(me.parentNode)&&!s.isWysiwygDiv(me.parentNode)&&me.nodeName!==h.nodeName;)me=me.parentNode;if(!O&&me.nodeName===h.nodeName&&!s.isFormatElement(me)&&!me.nextSibling&&s.onlyZeroWidthSpace(A.textContent.slice(0,D))){let we=!0,Fe=A.previousSibling;for(;Fe;){if(!s.onlyZeroWidthSpace(Fe)){we=!1;break}Fe=Fe.previousSibling}if(we)return s.copyTagAttributes(me,h),{ancestor:d,container:A,offset:D}}F.v=!1;const ie=d,pe=[h],be=d.cloneNode(!1);let Ve=A,Ue=D,Ge=!1,Be,Je,ye,Me;if(function we(Fe,ke){const Ae=Fe.childNodes;for(let Ee=0,Ce=Ae.length,ve,ge;Ee<Ce;Ee++){const fe=Ae[Ee];if(!fe)continue;let Re=ke;if(Ge&&!s.isBreak(fe)){if(fe.nodeType===1){if(s._isIgnoreNodeChange(fe)){if(h=h.cloneNode(!1),ge=fe.cloneNode(!0),be.appendChild(ge),be.appendChild(h),pe.push(h),ee&&fe.contains(ee)){const xt=s.getNodePath(ee,fe);ee=s.getNodeFromPath(xt,ge)}}else we(fe,fe);continue}Je=fe,Be=[];const We=[];for(;Je.parentNode!==null&&Je!==ie&&Je!==h;)ve=w(Je),Je.nodeType===1&&ve&&(z(Je)?Me||We.push(ve):Be.push(ve)),Je=Je.parentNode;Be=Be.concat(We);const it=Be.length>0,ht=Be.pop()||fe;for(ye=Je=ht;Be.length>0;)Je=Be.pop(),ye.appendChild(Je),ye=Je;if(z(h.parentNode)&&!z(ht)&&(h=h.cloneNode(!1),be.appendChild(h),pe.push(h)),!Me&&z(ht)){h=h.cloneNode(!1);const xt=ht.childNodes;for(let Dt=0,Yt=xt.length;Dt<Yt;Dt++)h.appendChild(xt[Dt]);ht.appendChild(h),be.appendChild(ht),ke=z(Je)?h:Je,pe.push(h)}else it?(h.appendChild(ht),ke=Je):ke=h;if(Me&&fe.nodeType===3)if($(fe)){const xt=s.getParentElement(ke,(function(Dt){return this._isMaintainedNode(Dt.parentNode)||Dt.parentNode===be}).bind(s));Me.appendChild(xt),h=xt.cloneNode(!1),pe.push(h),be.appendChild(h)}else Me=null}if(!Ge&&fe===Ve){let We=be;Me=$(fe);const it=s.createTextNode(Ve.nodeType===1?"":Ve.substringData(0,Ue)),ht=s.createTextNode(Ve.nodeType===1?"":Ve.substringData(Ue,Ve.length-Ue));if(Me){const Yt=$(ke);if(Yt&&Yt.parentNode!==We){let Mt=Yt,on=null;for(;Mt.parentNode!==We;){for(ke=on=Mt.parentNode.cloneNode(!1);Mt.childNodes[0];)on.appendChild(Mt.childNodes[0]);Mt.appendChild(on),Mt=Mt.parentNode}Mt.parentNode.appendChild(Yt)}Me=Me.cloneNode(!1)}s.onlyZeroWidthSpace(it)||ke.appendChild(it);const xt=$(ke);for(xt&&(Me=xt),Me&&(We=Me),Je=ke,Be=[];Je!==We&&Je!==null;)ve=w(Je),Je.nodeType===1&&ve&&Be.push(ve),Je=Je.parentNode;const Dt=Be.pop()||ke;for(ye=Je=Dt;Be.length>0;)Je=Be.pop(),ye.appendChild(Je),ye=Je;Dt!==ke?(h.appendChild(Dt),ke=Je):ke=h,s.isBreak(fe)&&h.appendChild(fe.cloneNode(!1)),We.appendChild(h),Ve=ht,Ue=0,Ge=!0,ke.appendChild(Ve);continue}ve=Ge?w(fe):fe.cloneNode(!1),ve&&(ke.appendChild(ve),fe.nodeType===1&&!s.isBreak(fe)&&(Re=ve)),we(fe,Re)}}(d,be),O&&!I&&!F.v)return{ancestor:d,container:A,offset:D,endContainer:ee};if(I=I&&O,I)for(let we=0;we<pe.length;we++){let Fe=pe[we];const ke=Fe.childNodes,Ae=ke[0];for(;ke[0];)be.insertBefore(ke[0],Fe);s.removeItem(Fe),we===0&&(Ve=Ae)}else if(O){h=h.firstChild;for(let we=0;we<pe.length;we++)this._stripRemoveNode(pe[we])}if(!I&&be.childNodes.length===0)d.childNodes?Ve=d.childNodes[0]:(Ve=s.createTextNode(s.zeroWidthSpace),d.appendChild(Ve));else{s.removeEmptyNode(be,h,!1),s.onlyZeroWidthSpace(be.textContent)&&(Ve=be.firstChild,Ue=0);const we={s:0,e:0},Fe=s.getNodePath(Ve,be,we);Ue+=we.s;const ke=s.mergeSameTags(be,[Fe],!0);d.parentNode.replaceChild(be,d),Ve=s.getNodeFromPath(Fe,be),Ue+=ke[0]}return{ancestor:be,container:Ve,offset:Ue,endContainer:ee}},_nodeChange_middleLine:function(d,h,w,A,D,I,O){if(!D){let ee=null;O&&d.contains(O)&&(ee=s.getNodePath(O,d));const me=d.cloneNode(!0),ie=h.nodeName,pe=h.style.cssText,be=h.className;let Ve=me.childNodes,Ue=0,Ge=Ve.length;for(let Be;Ue<Ge&&(Be=Ve[Ue],Be.nodeType!==3);Ue++)if(Be.nodeName===ie)Be.style.cssText+=pe,s.addClass(Be,be);else{if(!s.isBreak(Be)&&s._isIgnoreNodeChange(Be))continue;if(Ge===1){Ve=Be.childNodes,Ge=Ve.length,Ue=-1;continue}else break}if(Ge>0&&Ue===Ge)return d.innerHTML=me.innerHTML,{ancestor:d,endContainer:ee?s.getNodeFromPath(ee,d):null}}I.v=!1;const F=d.cloneNode(!1),$=[h];let z=!0;if(function ee(me,ie){const pe=me.childNodes;for(let be=0,Ve=pe.length,Ue,Ge;be<Ve;be++){let Be=pe[be];if(!Be)continue;let Je=ie;if(!s.isBreak(Be)&&s._isIgnoreNodeChange(Be)){if(h.childNodes.length>0&&(F.appendChild(h),h=h.cloneNode(!1)),Ge=Be.cloneNode(!0),F.appendChild(Ge),F.appendChild(h),$.push(h),ie=h,O&&Be.contains(O)){const ye=s.getNodePath(O,Be);O=s.getNodeFromPath(ye,Ge)}continue}else Ue=w(Be),Ue&&(z=!1,ie.appendChild(Ue),Be.nodeType===1&&(Je=Ue));s.isBreak(Be)||ee(Be,Je)}}(d,h),z||D&&!A&&!I.v)return{ancestor:d,endContainer:O};if(F.appendChild(h),A&&D)for(let ee=0;ee<$.length;ee++){let me=$[ee];const ie=me.childNodes;for(;ie[0];)F.insertBefore(ie[0],me);s.removeItem(me)}else if(D){h=h.firstChild;for(let ee=0;ee<$.length;ee++)this._stripRemoveNode($[ee])}return s.removeEmptyNode(F,h,!1),s.mergeSameTags(F,null,!0),d.parentNode.replaceChild(F,d),{ancestor:F,endContainer:O}},_nodeChange_endLine:function(d,h,w,A,D,I,O,F,$,z){let ee=A.parentNode;for(;!ee.nextSibling&&!ee.previousSibling&&!s.isFormatElement(ee.parentNode)&&!s.isWysiwygDiv(ee.parentNode)&&ee.nodeName!==h.nodeName;)ee=ee.parentNode;if(!O&&ee.nodeName===h.nodeName&&!s.isFormatElement(ee)&&!ee.previousSibling&&s.onlyZeroWidthSpace(A.textContent.slice(D))){let Me=!0,we=A.nextSibling;for(;we;){if(!s.onlyZeroWidthSpace(we)){Me=!1;break}we=we.nextSibling}if(Me)return s.copyTagAttributes(ee,h),{ancestor:d,container:A,offset:D}}F.v=!1;const me=d,ie=[h],pe=d.cloneNode(!1);let be=A,Ve=D,Ue=!1,Ge,Be,Je,ye;if(function Me(we,Fe){const ke=we.childNodes;for(let Ae=ke.length-1,Ee;0<=Ae;Ae--){const Ce=ke[Ae];if(!Ce)continue;let ve=Fe;if(Ue&&!s.isBreak(Ce)){if(Ce.nodeType===1){if(s._isIgnoreNodeChange(Ce)){h=h.cloneNode(!1);const We=Ce.cloneNode(!0);pe.insertBefore(We,Fe),pe.insertBefore(h,We),ie.push(h)}else Me(Ce,Ce);continue}Be=Ce,Ge=[];const ge=[];for(;Be.parentNode!==null&&Be!==me&&Be!==h;)Ee=w(Be),Ee&&Be.nodeType===1&&(z(Be)?ye||ge.push(Ee):Ge.push(Ee)),Be=Be.parentNode;Ge=Ge.concat(ge);const fe=Ge.length>0,Re=Ge.pop()||Ce;for(Je=Be=Re;Ge.length>0;)Be=Ge.pop(),Je.appendChild(Be),Je=Be;if(z(h.parentNode)&&!z(Re)&&(h=h.cloneNode(!1),pe.insertBefore(h,pe.firstChild),ie.push(h)),!ye&&z(Re)){h=h.cloneNode(!1);const We=Re.childNodes;for(let it=0,ht=We.length;it<ht;it++)h.appendChild(We[it]);Re.appendChild(h),pe.insertBefore(Re,pe.firstChild),ie.push(h),h.children.length>0?Fe=Be:Fe=h}else fe?(h.insertBefore(Re,h.firstChild),Fe=Be):Fe=h;if(ye&&Ce.nodeType===3)if($(Ce)){const We=s.getParentElement(Fe,(function(it){return this._isMaintainedNode(it.parentNode)||it.parentNode===pe}).bind(s));ye.appendChild(We),h=We.cloneNode(!1),ie.push(h),pe.insertBefore(h,pe.firstChild)}else ye=null}if(!Ue&&Ce===be){ye=$(Ce);const ge=s.createTextNode(be.nodeType===1?"":be.substringData(Ve,be.length-Ve)),fe=s.createTextNode(be.nodeType===1?"":be.substringData(0,Ve));if(ye){ye=ye.cloneNode(!1);const We=$(Fe);if(We&&We.parentNode!==pe){let it=We,ht=null;for(;it.parentNode!==pe;){for(Fe=ht=it.parentNode.cloneNode(!1);it.childNodes[0];)ht.appendChild(it.childNodes[0]);it.appendChild(ht),it=it.parentNode}it.parentNode.insertBefore(We,it.parentNode.firstChild)}ye=ye.cloneNode(!1)}else z(h.parentNode)&&!ye&&(h=h.cloneNode(!1),pe.appendChild(h),ie.push(h));for(s.onlyZeroWidthSpace(ge)||Fe.insertBefore(ge,Fe.firstChild),Be=Fe,Ge=[];Be!==pe&&Be!==null;)Ee=z(Be)?null:w(Be),Ee&&Be.nodeType===1&&Ge.push(Ee),Be=Be.parentNode;const Re=Ge.pop()||Fe;for(Je=Be=Re;Ge.length>0;)Be=Ge.pop(),Je.appendChild(Be),Je=Be;Re!==Fe?(h.insertBefore(Re,h.firstChild),Fe=Be):Fe=h,s.isBreak(Ce)&&h.appendChild(Ce.cloneNode(!1)),ye?(ye.insertBefore(h,ye.firstChild),pe.insertBefore(ye,pe.firstChild),ye=null):pe.insertBefore(h,pe.firstChild),be=fe,Ve=fe.data.length,Ue=!0,Fe.insertBefore(be,Fe.firstChild);continue}Ee=Ue?w(Ce):Ce.cloneNode(!1),Ee&&(Fe.insertBefore(Ee,Fe.firstChild),Ce.nodeType===1&&!s.isBreak(Ce)&&(ve=Ee)),Me(Ce,ve)}}(d,pe),O&&!I&&!F.v)return{ancestor:d,container:A,offset:D};if(I=I&&O,I)for(let Me=0;Me<ie.length;Me++){let we=ie[Me];const Fe=we.childNodes;let ke=null;for(;Fe[0];)ke=Fe[0],pe.insertBefore(ke,we);s.removeItem(we),Me===ie.length-1&&(be=ke,Ve=ke.textContent.length)}else if(O){h=h.firstChild;for(let Me=0;Me<ie.length;Me++)this._stripRemoveNode(ie[Me])}if(!I&&pe.childNodes.length===0)d.childNodes?be=d.childNodes[0]:(be=s.createTextNode(s.zeroWidthSpace),d.appendChild(be));else{if(!O&&h.textContent.length===0)return s.removeEmptyNode(pe,null,!1),{ancestor:null,container:null,offset:0};s.removeEmptyNode(pe,h,!1),s.onlyZeroWidthSpace(pe.textContent)?(be=pe.firstChild,Ve=be.textContent.length):s.onlyZeroWidthSpace(be)&&(be=h,Ve=1);const Me={s:0,e:0},we=s.getNodePath(be,pe,Me);Ve+=Me.s;const Fe=s.mergeSameTags(pe,[we],!0);d.parentNode.replaceChild(pe,d),be=s.getNodeFromPath(we,pe),Ve+=Fe[0]}return{ancestor:pe,container:be,offset:be.nodeType===1&&Ve===1?be.childNodes.length:Ve}},actionCall:function(d,h,w){if(h){if(/more/i.test(h)){if(w!==this._moreLayerActiveButton){const A=n.element.toolbar.querySelector("."+d);A&&(this._moreLayerActiveButton&&this.moreLayerOff(),this._moreLayerActiveButton=w,A.style.display="block",v._showToolbarBalloon(),v._showToolbarInline()),s.addClass(w,"on")}else n.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"))&&(this.moreLayerOff(),v._showToolbarBalloon(),v._showToolbarInline());return}if(/container/.test(h)&&(this._menuTray[d]===null||w!==this.containerActiveButton)){this.callPlugin(d,this.containerOn.bind(this,w),w);return}if(this.isReadOnly&&s.arrayIncludes(this.resizingDisabledButtons,w))return;if(/submenu/.test(h)&&(this._menuTray[d]===null||w!==this.submenuActiveButton)){this.callPlugin(d,this.submenuOn.bind(this,w),w);return}else if(/dialog/.test(h)){this.callPlugin(d,this.plugins[d].open.bind(this),w);return}else/command/.test(h)?this.callPlugin(d,this.plugins[d].action.bind(this),w):/fileBrowser/.test(h)&&this.callPlugin(d,this.plugins[d].open.bind(this,null),w)}else d&&this.commandHandler(w,d);/submenu/.test(h)?this.submenuOff():/command/.test(h)||(this.submenuOff(),this.containerOff())},commandHandler:function(d,h){if(!(c.isReadOnly&&!/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(h)))switch(h){case"copy":case"cut":this.execCommand(h);break;case"paste":break;case"selectAll":this.containerOff();const w=n.element.wysiwyg;let A=s.getChildElement(w.firstChild,function($){return $.childNodes.length===0||$.nodeType===3},!1)||w.firstChild,D=s.getChildElement(w.lastChild,function($){return $.childNodes.length===0||$.nodeType===3},!0)||w.lastChild;if(!A||!D)return;if(s.isMedia(A)){const $=this.getFileComponent(A),z=s.createElement("BR"),ee=s.createElement(i.defaultTag);ee.appendChild(z),A=$?$.component:A,A.parentNode.insertBefore(ee,A),A=z}if(s.isMedia(D)){const $=s.createElement("BR"),z=s.createElement(i.defaultTag);z.appendChild($),w.appendChild(z),D=$}v._showToolbarBalloon(this.setRange(A,0,D,D.textContent.length));break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(d);break;case"indent":case"outdent":this.indent(h);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"dir":this.setDir(i.rtl?"ltr":"rtl");break;case"dir_ltr":this.setDir("ltr");break;case"dir_rtl":this.setDir("rtl");break;case"save":if(typeof i.callBackSave=="function")i.callBackSave(this.getContents(!1),this._variable.isChanged);else if(this._variable.isChanged&&typeof y.save=="function")y.save();else throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");this._variable.isChanged=!1,n.tool.save&&n.tool.save.setAttribute("disabled",!0);break;default:h=i._defaultCommand[h.toLowerCase()]||h,this.commandMap[h]||(this.commandMap[h]=d);const I=this._variable.currentNodesMap,O=I.indexOf(h)>-1?null:s.createElement(h);let F=h;/^SUB$/i.test(h)&&I.indexOf("SUP")>-1?F="SUP":/^SUP$/i.test(h)&&I.indexOf("SUB")>-1&&(F="SUB"),this.nodeChange(O,this._commandMapStyles[h]||null,[F],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(d){const h=this.getRange(),w=this.getSelectedElements(null),A=[],D=d!=="indent",I=i.rtl?"marginRight":"marginLeft";let O=h.startContainer,F=h.endContainer,$=h.startOffset,z=h.endOffset;for(let ee=0,me=w.length,ie,pe;ee<me;ee++)ie=w[ee],!s.isListCell(ie)||!this.plugins.list?(pe=/\d+/.test(ie.style[I])?s.getNumber(ie.style[I],0):0,D?pe-=25:pe+=25,s.setStyle(ie,I,pe<=0?"":pe+"px")):(D||ie.previousElementSibling)&&A.push(ie);A.length>0&&this.plugins.list.editInsideList.call(this,D,A),this.effectNode=null,this.setRange(O,$,F,z),this.history.push(!1)},toggleDisplayBlocks:function(){const d=n.element.wysiwyg;s.toggleClass(d,"se-show-block"),s.hasClass(d,"se-show-block")?s.addClass(this._styleCommandMap.showBlocks,"active"):s.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){const d=this._variable.isCodeView;this.controllersOff(),s.setDisabledButtons(!d,this.codeViewDisabledButtons),d?(s.isNonEditable(n.element.wysiwygFrame)||this._setCodeDataToEditor(),n.element.wysiwygFrame.scrollTop=0,n.element.code.style.display="none",n.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),i.height==="auto"&&!i.codeMirrorEditor&&(n.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(i.mode)&&(n.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,v._hideToolbar())),this.nativeFocus(),s.removeClass(this._styleCommandMap.codeView,"active"),s.isNonEditable(n.element.wysiwygFrame)||(this.history.push(!1),this.history._resetCachingButton())):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable.isFullScreen?n.element.code.style.height="100%":i.height==="auto"&&!i.codeMirrorEditor&&(n.element.code.style.height=n.element.code.scrollHeight>0?n.element.code.scrollHeight+"px":"auto"),i.codeMirrorEditor&&i.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(n.element._arrow.style.display="none",n.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,v._showToolbarInline())),this._variable._range=null,n.element.code.focus(),s.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),this.isReadOnly&&s.setDisabledButtons(!0,this.resizingDisabledButtons),typeof y.toggleCodeView=="function"&&y.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){const d=this._getCodeView();if(i.fullPage){const h=this._parser.parseFromString(d,"text/html");if(!this.options.__allowedScriptTag){const D=h.head.children;for(let I=0,O=D.length;I<O;I++)/^script$/i.test(D[I].tagName)&&(h.head.removeChild(D[I]),I--,O--)}let w=h.head.innerHTML;(!h.head.querySelector('link[rel="stylesheet"]')||this.options.height==="auto"&&!h.head.querySelector("style"))&&(w+=s._setIframeCssTags(this.options)),this._wd.head.innerHTML=w,this._wd.body.innerHTML=this.convertContentsForEditor(h.body.innerHTML);const A=h.body.attributes;for(let D=0,I=A.length;D<I;D++)A[D].name!=="contenteditable"&&this._wd.body.setAttribute(A[D].name,A[D].value);if(!s.hasClass(this._wd.body,"sun-editor-editable")){const D=i._editableClass.split(" ");for(let I=0;I<D.length;I++)s.addClass(this._wd.body,i._editableClass[I])}}else n.element.wysiwyg.innerHTML=d.length>0?this.convertContentsForEditor(d):"<"+i.defaultTag+"><br></"+i.defaultTag+">"},_setEditorDataToCodeView:function(){const d=this.convertHTMLForCodeView(n.element.wysiwyg,!1);let h="";if(i.fullPage){const w=s.getAttributesToString(this._wd.body,null);h=`<!DOCTYPE html>
<html>
`+this._wd.head.outerHTML.replace(/>(?!\n)/g,`>
`)+"<body "+w+`>
`+d+`</body>
</html>`}else h=d;n.element.code.style.display="block",n.element.wysiwygFrame.style.display="none",this._setCodeView(h)},toggleFullScreen:function(d){const h=n.element.topArea,w=n.element.toolbar,A=n.element.editorArea,D=n.element.wysiwygFrame,I=n.element.code,O=this._variable;this.controllersOff();const F=w.style.display==="none"||this._isInline&&!this._inlineToolbarAttr.isShow;O.isFullScreen?(O.isFullScreen=!1,D.style.cssText=O._wysiwygOriginCssText,I.style.cssText=O._codeOriginCssText,w.style.cssText="",A.style.cssText=O._editorAreaOriginCssText,h.style.cssText=O._originCssText,o.body.style.overflow=O._bodyOverflow,i.height==="auto"&&!i.codeMirrorEditor&&v._codeViewAutoHeight(),i.toolbarContainer&&i.toolbarContainer.appendChild(w),i.stickyToolbar>-1&&s.removeClass(w,"se-toolbar-sticky"),O._fullScreenAttrs.sticky&&!i.toolbarContainer&&(O._fullScreenAttrs.sticky=!1,n.element._stickyDummy.style.display="block",s.addClass(w,"se-toolbar-sticky")),this._isInline=O._fullScreenAttrs.inline,this._isBalloon=O._fullScreenAttrs.balloon,this._isInline&&v._showToolbarInline(),i.toolbarContainer&&s.removeClass(w,"se-toolbar-balloon"),v.onScroll_window(),d&&s.changeElement(d.firstElementChild,f.expansion),n.element.topArea.style.marginTop="",s.removeClass(this._styleCommandMap.fullScreen,"active")):(O.isFullScreen=!0,O._fullScreenAttrs.inline=this._isInline,O._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),i.toolbarContainer&&n.element.relative.insertBefore(w,A),h.style.position="fixed",h.style.top="0",h.style.left="0",h.style.width="100%",h.style.maxWidth="100%",h.style.height="100%",h.style.zIndex="2147483647",n.element._stickyDummy.style.display!==""&&(O._fullScreenAttrs.sticky=!0,n.element._stickyDummy.style.display="none",s.removeClass(w,"se-toolbar-sticky")),O._bodyOverflow=o.body.style.overflow,o.body.style.overflow="hidden",O._editorAreaOriginCssText=A.style.cssText,O._wysiwygOriginCssText=D.style.cssText,O._codeOriginCssText=I.style.cssText,A.style.cssText=w.style.cssText="",D.style.cssText=(D.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0]+i._editorStyles.editor,I.style.cssText=(I.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],w.style.width=D.style.height=I.style.height="100%",w.style.position="relative",w.style.display="block",O.innerHeight_fullScreen=l.innerHeight-w.offsetHeight,A.style.height=O.innerHeight_fullScreen-i.fullScreenOffset+"px",d&&s.changeElement(d.firstElementChild,f.reduction),i.iframe&&i.height==="auto"&&(A.style.overflow="auto",this._iframeAutoHeight()),n.element.topArea.style.marginTop=i.fullScreenOffset+"px",s.addClass(this._styleCommandMap.fullScreen,"active")),F&&y.toolbar.hide(),typeof y.toggleFullScreen=="function"&&y.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){const d=s.createElement("IFRAME");d.style.display="none",o.body.appendChild(d);const h=i.printTemplate?i.printTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),w=s.getIframeDocument(d),A=this._wd;if(i.iframe){const D=i._printClass!==null?'class="'+i._printClass+'"':i.fullPage?s.getAttributesToString(A.body,["contenteditable"]):'class="'+i._editableClass+'"';w.write("<!DOCTYPE html><html><head>"+A.head.innerHTML+"</head><body "+D+">"+h+"</body></html>")}else{const D=o.head.getElementsByTagName("link"),I=o.head.getElementsByTagName("style");let O="";for(let F=0,$=D.length;F<$;F++)O+=D[F].outerHTML;for(let F=0,$=I.length;F<$;F++)O+=I[F].outerHTML;w.write("<!DOCTYPE html><html><head>"+O+'</head><body class="'+(i._printClass!==null?i._printClass:i._editableClass)+'">'+h+"</body></html>")}this.showLoading(),l.setTimeout(function(){try{if(d.focus(),s.isIE_Edge||s.isChromium||o.documentMode||l.StyleMedia)try{d.contentWindow.document.execCommand("print",!1,null)}catch{d.contentWindow.print()}else d.contentWindow.print()}catch(D){throw Error("[SUNEDITOR.core.print.fail] error: "+D)}finally{c.closeLoading(),s.removeItem(d)}},1e3)},preview:function(){c.submenuOff(),c.containerOff(),c.controllersOff();const d=i.previewTemplate?i.previewTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),h=l.open("","_blank");h.mimeType="text/html";const w=this._wd;if(i.iframe){const A=i._printClass!==null?'class="'+i._printClass+'"':i.fullPage?s.getAttributesToString(w.body,["contenteditable"]):'class="'+i._editableClass+'"';h.document.write("<!DOCTYPE html><html><head>"+w.head.innerHTML+"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style></head><body "+A+">"+d+"</body></html>")}else{const A=o.head.getElementsByTagName("link"),D=o.head.getElementsByTagName("style");let I="";for(let O=0,F=A.length;O<F;O++)I+=A[O].outerHTML;for(let O=0,F=D.length;O<F;O++)I+=D[O].outerHTML;h.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>'+r.toolbar.preview+"</title>"+I+'</head><body class="'+(i._printClass!==null?i._printClass:i._editableClass)+'" style="margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;">'+d+"</body></html>")}},setDir:function(d){const h=d==="rtl",w=this._prevRtl!==h;this._prevRtl=i.rtl=h,w&&(this.plugins.align&&this.plugins.align.exchangeDir.call(this),n.tool.indent&&s.changeElement(n.tool.indent.firstElementChild,f.indent),n.tool.outdent&&s.changeElement(n.tool.outdent.firstElementChild,f.outdent));const A=n.element;h?(s.addClass(A.topArea,"se-rtl"),s.addClass(A.wysiwygFrame,"se-rtl")):(s.removeClass(A.topArea,"se-rtl"),s.removeClass(A.wysiwygFrame,"se-rtl"));const D=s.getListChildren(A.wysiwyg,function(O){return s.isFormatElement(O)&&(O.style.marginRight||O.style.marginLeft||O.style.textAlign)});for(let O=0,F=D.length,$,z,ee;O<F;O++)$=D[O],ee=$.style.marginRight,z=$.style.marginLeft,(ee||z)&&($.style.marginRight=z,$.style.marginLeft=ee),ee=$.style.textAlign,ee==="left"?$.style.textAlign="right":ee==="right"&&($.style.textAlign="left");const I=n.tool;I.dir&&(s.changeTxt(I.dir.querySelector(".se-tooltip-text"),r.toolbar[i.rtl?"dir_ltr":"dir_rtl"]),s.changeElement(I.dir.firstElementChild,f[i.rtl?"dir_ltr":"dir_rtl"])),I.dir_ltr&&(h?s.removeClass(I.dir_ltr,"active"):s.addClass(I.dir_ltr,"active")),I.dir_rtl&&(h?s.addClass(I.dir_rtl,"active"):s.removeClass(I.dir_rtl,"active"))},setContents:function(d){this.removeRange();const h=d==null?"":this.convertContentsForEditor(d,null,null);if(!this._variable.isCodeView)n.element.wysiwyg.innerHTML=h,this._resetComponents(),this.history.push(!1);else{const w=this.convertHTMLForCodeView(h,!1);this._setCodeView(w)}},setIframeContents:function(d){if(!i.iframe)return!1;d.head&&(this._wd.head.innerHTML=this.options.__allowedScriptTag?d.head:d.head.replace(this.__scriptTagRegExp,"")),d.body&&(this._wd.body.innerHTML=this.convertContentsForEditor(d.body)),this._resetComponents()},getContents:function(d){const h=this.cleanHTML(n.element.wysiwyg.innerHTML,null,null),w=s.createElement("DIV");w.innerHTML=h;const A=s.getListChildren(w,function(D){return D.hasAttribute("contenteditable")});for(let D=0,I=A.length;D<I;D++)A[D].removeAttribute("contenteditable");if(i.fullPage&&!d){const D=s.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+D+">"+w.innerHTML+"</body></html>"}else return w.innerHTML},getFullContents:function(d){return'<div class="sun-editor-editable'+(i.rtl?" se-rtl":"")+'">'+this.getContents(d)+"</div>"},_makeLine:function(d,h){const w=i.defaultTag;if(d.nodeType===1){if(this.__disallowedTagNameRegExp.test(d.nodeName))return"";if(/__se__tag/.test(d.className))return d.outerHTML;const A=s.getListChildNodes(d,function(D){return s.isSpanWithoutAttr(D)&&!s.getParentElement(D,s.isNotCheckingNode)})||[];for(let D=A.length-1;D>=0;D--)A[D].outerHTML=A[D].innerHTML;return!h||s.isFormatElement(d)||s.isRangeFormatElement(d)||s.isComponent(d)||s.isFigures(d)||s.isAnchor(d)&&s.isMedia(d.firstElementChild)?s.isSpanWithoutAttr(d)?d.innerHTML:d.outerHTML:"<"+w+">"+(s.isSpanWithoutAttr(d)?d.innerHTML:d.outerHTML)+"</"+w+">"}if(d.nodeType===3){if(!h)return s._HTMLConvertor(d.textContent);const A=d.textContent.split(/\n/g);let D="";for(let I=0,O=A.length,F;I<O;I++)F=A[I].trim(),F.length>0&&(D+="<"+w+">"+s._HTMLConvertor(F)+"</"+w+">");return D}return d.nodeType===8&&this._allowHTMLComments?"<!--"+d.textContent.trim()+"-->":""},_tagConvertor:function(d){if(!this._disallowedTextTagsRegExp)return d;const h=i._textTagsMap;return d.replace(this._disallowedTextTagsRegExp,function(w,A,D,I){return A+(typeof h[D]=="string"?h[D]:D)+(I?" "+I:"")})},_deleteDisallowedTags:function(d){return d=d.replace(this.__disallowedTagsRegExp,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,""),/\bfont\b/i.test(this.options._editorTagsWhitelist)||(d=d.replace(/(<\/?)font(\s?)/gi,"$1span$2")),d.replace(this.editorTagsWhitelistRegExp,"").replace(this.editorTagsBlacklistRegExp,"")},_convertFontSize:function(d,h){const w=this._w.Math,A=h.match(/(\d+(?:\.\d+)?)(.+)/),D=A?A[1]*1:s.fontValueMap[h],I=A?A[2]:"rem";let O=D;switch(/em/.test(I)?O=w.round(D/.0625):I==="pt"?O=w.round(D*1.333):I==="%"&&(O=D/100),d){case"em":case"rem":case"%":return(O*.0625).toFixed(2)+d;case"pt":return w.floor(O/1.333)+d;default:return O+d}},_cleanStyle:function(d,h,w){let A=(d.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/)||[])[0];if(/span/i.test(w)&&!A&&(d.match(/<[^\s]+\s(.+)/)||[])[1]){const D=(d.match(/\ssize="([^"]+)"/i)||[])[1],I=(d.match(/\sface="([^"]+)"/i)||[])[1],O=(d.match(/\scolor="([^"]+)"/i)||[])[1];(D||I||O)&&(A='style="'+(D?"font-size:"+this.util.getNumber(D/3.333,1)+"rem;":"")+(I?"font-family:"+I+";":"")+(O?"color:"+O+";":"")+'"')}if(A){h||(h=[]);const D=A.replace(/&quot;/g,"").match(this._cleanStyleRegExp[w]);if(D){const I=[];for(let O=0,F=D.length,$;O<F;O++)if($=D[O].match(/([a-zA-Z0-9-]+)(:)([^"']+)/),$&&!/inherit|initial|revert|unset/i.test($[3])){const z=s.kebabToCamelCase($[1].trim()),ee=this.wwComputedStyle[z]?this.wwComputedStyle[z].replace(/"/g,""):"",me=$[3].trim();switch(z){case"fontFamily":if(!i.plugins.font||i.font.indexOf(me)===-1)continue;break;case"fontSize":if(!i.plugins.fontSize)continue;this._cleanStyleRegExp.fontSizeUnit.test($[0])||($[0]=$[0].replace(($[0].match(/:\s*([^;]+)/)||[])[1],this._convertFontSize.bind(this,i.fontSizeUnit)));break;case"color":if(!i.plugins.fontColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(me))continue;break;case"backgroundColor":if(!i.plugins.hiliteColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(me))continue;break}ee!==me&&I.push($[0])}I.length>0&&h.push('style="'+I.join(";")+'"')}}return h},_cleanTags:function(d,h,w){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(h))return h;let A=null;const D=w.match(/(?!<)[a-zA-Z0-9\-]+/)[0].toLowerCase(),I=this._attributesTagsBlacklist[D];h=h.replace(/\s(?:on[a-z]+)\s*=\s*(")[^"]*\1/ig,""),I?h=h.replace(I,""):h=h.replace(this._attributesBlacklistRegExp,"");const O=this._attributesTagsWhitelist[D];if(O?A=h.match(O):A=h.match(d?this._attributesWhitelistRegExp:this._attributesWhitelistRegExp_all_data),d||D==="span"||D==="li"||this._cleanStyleRegExp[D])if(D==="a"){const F=h.match(/(?:(?:id|name)\s*=\s*(?:"|')[^"']*(?:"|'))/g);F&&(A||(A=[]),A.push(F[0]))}else(!A||!/style=/i.test(A.toString()))&&((D==="span"||D==="li")&&(A=this._cleanStyle(h,A,"span")),this._cleanStyleRegExp[D]?A=this._cleanStyle(h,A,D):/^(P|DIV|H[1-6]|PRE)$/i.test(D)&&(A=this._cleanStyle(h,A,"format")));else{const F=h.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);F&&!A?A=[F[0]]:F&&!A.some(function($){return/^style/.test($.trim())})&&A.push(F[0])}if(s.isFigures(D)){const F=h.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);A||(A=[]),F&&A.push(F[0])}if(A)for(let F=0,$=A.length,z;F<$;F++)z=/^(?:href|src)\s*=\s*('|"|\s)*javascript\s*\:/i.test(A[F].trim())?"":A[F],w+=(/^\s/.test(z)?"":" ")+z;return w},_editFormat:function(d){let h="",w;const A=d.childNodes;for(let D=0,I=A.length,O;D<I;D++)O=A[D],O.nodeType===8?h+="<!-- "+O.textContent+" -->":!s.isFormatElement(O)&&!s.isRangeFormatElement(O)&&!s.isComponent(O)&&!/meta/i.test(O.nodeName)?(w||(w=s.createElement(i.defaultTag)),w.appendChild(O),D--,I--):(w&&(h+=w.outerHTML,w=null),h+=O.outerHTML);return w&&(h+=w.outerHTML),o.createRange().createContextualFragment(h)},_convertListCell:function(d){let h="";for(let w=0,A=d.length,D;w<A;w++)D=d[w],D.nodeType===1?s.isList(D)?h+=D.innerHTML:s.isListCell(D)?h+=D.outerHTML:s.isFormatElement(D)?h+="<li>"+(D.innerHTML.trim()||"<br>")+"</li>":s.isRangeFormatElement(D)&&!s.isTable(D)?h+=this._convertListCell(D):h+="<li>"+D.outerHTML+"</li>":h+="<li>"+(D.textContent||"<br>")+"</li>";return h},_isFormatData:function(d){let h=!1;for(let w=0,A=d.length,D;w<A;w++)if(D=d[w],D.nodeType===1&&!s.isTextStyleElement(D)&&!s.isBreak(D)&&!this.__disallowedTagNameRegExp.test(D.nodeName)){h=!0;break}return h},cleanHTML:function(d,h,w){if(!i.strictMode)return s.htmlCompress(d);d=this._deleteDisallowedTags(this._parser.parseFromString(s.htmlCompress(d),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0)).replace(/<br\/?>$/i,"");const A=o.createRange().createContextualFragment(d);try{s._consistencyCheckOfHTML(A,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,i.strictHTMLValidation)}catch(F){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+F)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const F=A.querySelectorAll(this.managedTagsInfo.query);for(let $=0,z=F.length,ee,me;$<z;$++){me=[].slice.call(F[$].classList);for(let ie=0,pe=me.length;ie<pe;ie++)if(ee=this.managedTagsInfo.map[me[ie]],ee){ee(F[$]);break}}}let D=A.childNodes,I="";const O=this._isFormatData(D);O&&(D=this._editFormat(A).childNodes);for(let F=0,$=D.length,z;F<$;F++){if(z=D[F],this.__allowedScriptRegExp.test(z.nodeName)){I+=z.outerHTML;continue}I+=this._makeLine(z,O)}return I=s.htmlRemoveWhiteSpace(I),I?(h&&(I=I.replace(typeof h=="string"?s.createTagsWhitelist(h):h,"")),w&&(I=I.replace(typeof w=="string"?s.createTagsBlacklist(w):w,""))):I=d,this._tagConvertor(I)},convertContentsForEditor:function(d){if(!i.strictMode)return s.htmlCompress(d);d=this._deleteDisallowedTags(this._parser.parseFromString(s.htmlCompress(d),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0));const h=o.createRange().createContextualFragment(d);try{s._consistencyCheckOfHTML(h,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,i.strictHTMLValidation)}catch(I){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+I)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const I=h.querySelectorAll(this.managedTagsInfo.query);for(let O=0,F=I.length,$,z;O<F;O++){z=[].slice.call(I[O].classList);for(let ee=0,me=z.length;ee<me;ee++)if($=this.managedTagsInfo.map[z[ee]],$){$(I[O]);break}}}const w=h.childNodes;let A="",D=null;for(let I=0,O;I<w.length;I++){if(O=w[I],this.__allowedScriptRegExp.test(O.nodeName)){A+=O.outerHTML;continue}if(!s.isFormatElement(O)&&!s.isRangeFormatElement(O)&&!s.isComponent(O)&&!s.isFigures(O)&&O.nodeType!==8&&!/__se__tag/.test(O.className)){if(D||(D=s.createElement(i.defaultTag)),D.appendChild(O),I--,w[I+1]&&!s.isFormatElement(w[I+1]))continue;O=D,D=null}D&&(A+=this._makeLine(D,!0),D=null),A+=this._makeLine(O,!0)}return D&&(A+=this._makeLine(D,!0)),A.length===0?"<"+i.defaultTag+"><br></"+i.defaultTag+">":(A=s.htmlRemoveWhiteSpace(A),this._tagConvertor(A))},convertHTMLForCodeView:function(d,h){let w="";const A=l.RegExp,D=new A("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),I=typeof d=="string"?o.createRange().createContextualFragment(d):d,O=(function(z){return this.isFormatElement(z)||this.isComponent(z)}).bind(s),F=h?"":`
`;let $=h?0:this._variable.codeIndent*1;return $=$>0?new l.Array($+1).join(" "):"",function z(ee,me){const ie=ee.childNodes,pe=D.test(ee.nodeName),be=pe?me:"";for(let Ve=0,Ue=ie.length,Ge,Be,Je,ye,Me,we;Ve<Ue;Ve++){if(Ge=ie[Ve],ye=D.test(Ge.nodeName),Be=ye?F:"",Je=O(Ge)&&!pe&&!/^(TH|TD)$/i.test(ee.nodeName)?F:"",Ge.nodeType===8){w+=`
<!-- `+Ge.textContent.trim()+" -->"+Be;continue}if(Ge.nodeType===3){s.isList(Ge.parentElement)||(w+=s._HTMLConvertor(/^\n+$/.test(Ge.data)?"":Ge.data));continue}if(Ge.childNodes.length===0){w+=(/^HR$/i.test(Ge.nodeName)?F:"")+(/^PRE$/i.test(Ge.parentElement.nodeName)&&/^BR$/i.test(Ge.nodeName)?"":be)+Ge.outerHTML+Be;continue}Ge.outerHTML?(Me=Ge.nodeName.toLowerCase(),we=be||ye?me:"",w+=(Je||(pe?"":Be))+we+Ge.outerHTML.match(A("<"+Me+"[^>]*>","i"))[0]+Be,z(Ge,me+$),w+=(/\n$/.test(w)?we:"")+"</"+Me+">"+(Je||Be||pe||/^(TH|TD)$/i.test(Ge.nodeName)?F:"")):w+=new l.XMLSerializer().serializeToString(Ge)}}(I,""),w.trim()+F},addDocEvent:function(d,h,w){o.addEventListener(d,h,w),i.iframe&&this._wd.addEventListener(d,h)},removeDocEvent:function(d,h){o.removeEventListener(d,h),i.iframe&&this._wd.removeEventListener(d,h)},_charCount:function(d){const h=i.maxCharCount,w=i.charCounterType;let A=0;if(d&&(A=this.getCharLength(d,w)),this._setCharCount(),h>0){let D=!1;const I=y.getCharCount(w);if(I>h){if(D=!0,A>0){this._editorRange();const O=this.getRange(),F=O.endOffset-1,$=this.getSelectionNode().textContent,z=O.endOffset-(I-h);this.getSelectionNode().textContent=$.slice(0,z<0?0:z)+$.slice(O.endOffset,$.length),this.setRange(O.endContainer,F,O.endContainer,F)}}else I+A>h&&(D=!0);if(D&&(this._callCounterBlink(),A>0))return!1}return!0},checkCharCount:function(d,h){if(i.maxCharCount){const w=h||i.charCounterType,A=this.getCharLength(typeof d=="string"?d:this._charTypeHTML&&d.nodeType===1?d.outerHTML:d.textContent,w);if(A>0&&A+y.getCharCount(w)>i.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(d,h){return/byte/.test(h)?s.getByteLength(d):d.length},resetResponsiveToolbar:function(){c.controllersOff();const d=v._responsiveButtonSize;if(d){let h=0;(c._isBalloon||c._isInline)&&i.toolbarWidth==="auto"?h=n.element.topArea.offsetWidth:h=n.element.toolbar.offsetWidth;let w="default";for(let A=1,D=d.length;A<D;A++)if(h<d[A]){w=d[A]+"";break}v._responsiveCurrentSize!==w&&(v._responsiveCurrentSize=w,y.setToolbarButtons(v._responsiveButtons[w]))}},_setCharCount:function(){n.element.charCounter&&l.setTimeout((function(d,h){this.textContent&&d&&(this.textContent=d.getCharCount(h.charCounterType))}).bind(n.element.charCounter,y,i),0)},_callCounterBlink:function(){const d=n.element.charWrapper;d&&!s.hasClass(d,"se-blink")&&(s.addClass(d,"se-blink"),l.setTimeout(function(){s.removeClass(d,"se-blink")},600))},_checkComponents:function(){for(let d=0,h=this._fileInfoPluginsCheck.length;d<h;d++)this._fileInfoPluginsCheck[d]()},_resetComponents:function(){for(let d=0,h=this._fileInfoPluginsReset.length;d<h;d++)this._fileInfoPluginsReset[d]()},_setCodeView:function(d){i.codeMirrorEditor?i.codeMirrorEditor.getDoc().setValue(d):n.element.code.value=d},_getCodeView:function(){return i.codeMirrorEditor?i.codeMirrorEditor.getDoc().getValue():n.element.code.value},_setKeyEffect:function(d){const h=this.commandMap,w=this.activePlugins;for(let A in h)d.indexOf(A)>-1||!s.hasOwn(h,A)||(w.indexOf(A)>-1?t[A].active.call(this,null):h.OUTDENT&&/^OUTDENT$/i.test(A)?s.isImportantDisabled(h.OUTDENT)||h.OUTDENT.setAttribute("disabled",!0):h.INDENT&&/^INDENT$/i.test(A)?s.isImportantDisabled(h.INDENT)||h.INDENT.removeAttribute("disabled"):s.removeClass(h[A],"active"))},_init:function(d,h){const w=l.RegExp;this._ww=i.iframe?n.element.wysiwygFrame.contentWindow:l,this._wd=o,this._charTypeHTML=i.charCounterType==="byte-html",this.wwComputedStyle=l.getComputedStyle(n.element.wysiwyg),this._editorHeight=n.element.wysiwygFrame.offsetHeight,this._editorHeightPadding=s.getNumber(this.wwComputedStyle.getPropertyValue("padding-top"))+s.getNumber(this.wwComputedStyle.getPropertyValue("padding-bottom")),this._classNameFilter=(function(ye){return this.test(ye)?ye:""}).bind(i.allowedClassNames);const A=i.__allowedScriptTag?"":"script|";if(this.__scriptTagRegExp=new w("<(script)[^>]*>([\\s\\S]*?)<\\/\\1>|<script[^>]*\\/?>","gi"),this.__disallowedTagsRegExp=new w("<("+A+"style)[^>]*>([\\s\\S]*?)<\\/\\1>|<("+A+"style)[^>]*\\/?>","gi"),this.__disallowedTagNameRegExp=new w("^("+A+"meta|link|style|[a-z]+:[a-z]+)$","i"),this.__allowedScriptRegExp=new w("^"+(i.__allowedScriptTag?"script":"")+"$","i"),!i.iframe&&typeof l.ShadowRoot=="function"){let ye=n.element.wysiwygFrame;for(;ye;){if(ye.shadowRoot){this._shadowRoot=ye.shadowRoot;break}else if(ye instanceof l.ShadowRoot){this._shadowRoot=ye;break}ye=ye.parentNode}this._shadowRoot&&(this._shadowRootControllerEventTarget=[])}const D=l.Object.keys(i._textTagsMap),I=i.addTagsWhitelist?i.addTagsWhitelist.split("|").filter(function(ye){return/b|i|ins|s|strike/i.test(ye)}):[];for(let ye=0;ye<I.length;ye++)D.splice(D.indexOf(I[ye].toLowerCase()),1);this._disallowedTextTagsRegExp=D.length===0?null:new w("(<\\/?)("+D.join("|")+")\\b\\s*([^>^<]+)?\\s*(?=>)","gi");const O=function(ye,Me){return ye?ye==="*"?"[a-z-]+":Me?ye+"|"+Me:ye:"^"},z="contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|origin-size"+"|controls|autoplay|loop|muted|poster|preload|playsinline"+"|allowfullscreen|sandbox|loading|allow|referrerpolicy|frameborder|scrolling",ee="data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|data-exp|data-font-size";this._allowHTMLComments=i._editorTagsWhitelist.indexOf("//")>-1||i._editorTagsWhitelist==="*",this._htmlCheckWhitelistRegExp=new w("^("+O(i._editorTagsWhitelist.replace("|//",""),"")+")$","i"),this._htmlCheckBlacklistRegExp=new w("^("+(i.tagsBlacklist||"^")+")$","i"),this.editorTagsWhitelistRegExp=s.createTagsWhitelist(O(i._editorTagsWhitelist.replace("|//","|<!--|-->"),"")),this.editorTagsBlacklistRegExp=s.createTagsBlacklist(i.tagsBlacklist.replace("|//","|<!--|-->")),this.pasteTagsWhitelistRegExp=s.createTagsWhitelist(O(i.pasteTagsWhitelist,"")),this.pasteTagsBlacklistRegExp=s.createTagsBlacklist(i.pasteTagsBlacklist);const me='\\s*=\\s*(")[^"]*\\1',ie=i.attributesWhitelist;let pe={},be="";if(ie)for(let ye in ie)!s.hasOwn(ie,ye)||/^on[a-z]+$/i.test(ie[ye])||(ye==="all"?be=O(ie[ye],z):pe[ye]=new w("\\s(?:"+O(ie[ye],"")+")"+me,"ig"));this._attributesWhitelistRegExp=new w("\\s(?:"+(be||z+"|"+ee)+")"+me,"ig"),this._attributesWhitelistRegExp_all_data=new w("\\s(?:"+((be||z)+"|data-[a-z0-9\\-]+")+")"+me,"ig"),this._attributesTagsWhitelist=pe;const Ve=i.attributesBlacklist;if(pe={},be="",Ve)for(let ye in Ve)s.hasOwn(Ve,ye)&&(ye==="all"?be=O(Ve[ye],""):pe[ye]=new w("\\s(?:"+O(Ve[ye],"")+")"+me,"ig"));this._attributesBlacklistRegExp=new w("\\s(?:"+(be||"^")+")"+me,"ig"),this._attributesTagsBlacklist=pe,this._isInline=/inline/i.test(i.mode),this._isBalloon=/balloon|balloon-always/i.test(i.mode),this._isBalloonAlways=/balloon-always/i.test(i.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};const Ue=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let Ge=[],Be,Je;for(let ye in t)if(s.hasOwn(t,ye)){if(Be=t[ye],Je=e[ye],(Be.active||Be.action)&&Je&&this.callPlugin(ye,null,Je),typeof Be.checkFileInfo=="function"&&typeof Be.resetFileInfo=="function"&&(this.callPlugin(ye,null,Je),this._fileInfoPluginsCheck.push(Be.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(Be.resetFileInfo.bind(this))),l.Array.isArray(Be.fileTags)){const Me=Be.fileTags;this.callPlugin(ye,null,Je),this._fileManager.tags=this._fileManager.tags.concat(Me),Ge.push(ye);for(let we=0,Fe=Me.length;we<Fe;we++)this._fileManager.pluginMap[Me[we].toLowerCase()]=ye}if(Be.managedTags){const Me=Be.managedTags();Ue.push("."+Me.className),this.managedTagsInfo.map[Me.className]=Me.method.bind(this)}}this.managedTagsInfo.query=Ue.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new w("^("+(this._fileManager.tags.join("|")||"^")+")$","i"),this._fileManager.pluginRegExp=new w("^("+(Ge.length===0?"^":Ge.join("|"))+")$","i"),this._variable._originCssText=n.element.topArea.style.cssText,this._placeholder=n.element.placeholder,this._lineBreaker=n.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=Xde(this,this._onChange_historyStack.bind(this)),this.addModule([BM]),i.iframe&&(this._wd=n.element.wysiwygFrame.contentDocument,n.element.wysiwyg=this._wd.body,i._editorStyles.editor&&(n.element.wysiwyg.style.cssText=i._editorStyles.editor),i.height==="auto"&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(d,h)},_cachingButtons:function(){this.codeViewDisabledButtons=n.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-code-view-enabled"]):not([data-display="MORE"])'),this.resizingDisabledButtons=n.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-resizing-enabled"]):not([data-display="MORE"])');const d=n.tool,h=this.commandMap;h.INDENT=d.indent,h.OUTDENT=d.outdent,h[i.textTags.bold.toUpperCase()]=d.bold,h[i.textTags.underline.toUpperCase()]=d.underline,h[i.textTags.italic.toUpperCase()]=d.italic,h[i.textTags.strike.toUpperCase()]=d.strike,h[i.textTags.sub.toUpperCase()]=d.subscript,h[i.textTags.sup.toUpperCase()]=d.superscript,this._styleCommandMap={fullScreen:d.fullScreen,showBlocks:d.showBlocks,codeView:d.codeView},this._saveButtonStates()},_initWysiwygArea:function(d,h){n.element.wysiwyg.innerHTML=d?h:this.convertContentsForEditor((typeof h=="string"?h:/^TEXTAREA$/i.test(n.element.originElement.nodeName)?n.element.originElement.value:n.element.originElement.innerHTML)||"")},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){this.hasFocus&&v._applyTagEffects(),this._variable.isChanged=!0,n.tool.save&&n.tool.save.removeAttribute("disabled"),y.onChange&&y.onChange(this.getContents(!0),this),n.element.toolbar.style.display==="block"&&v._showToolbarBalloon()},_iframeAutoHeight:function(){this._iframeAuto?l.setTimeout(function(){const d=c._iframeAuto.offsetHeight;n.element.wysiwygFrame.style.height=d+"px",s.isResizeObserverSupported||c.__callResizeFunction(d,null)}):s.isResizeObserverSupported||c.__callResizeFunction(n.element.wysiwygFrame.offsetHeight,null)},__callResizeFunction:function(d,h){d=d===-1?h.borderBoxSize&&h.borderBoxSize[0]?h.borderBoxSize[0].blockSize:h.contentRect.height+this._editorHeightPadding:d,this._editorHeight!==d&&(typeof y.onResizeEditor=="function"&&y.onResizeEditor(d,this._editorHeight,c,h),this._editorHeight=d)},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView){this._placeholder.style.display="none";return}const d=n.element.wysiwyg;!s.onlyZeroWidthSpace(d.textContent)||d.querySelector(s._allowedEmptyNodeList)||(d.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(d){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;const h=this.getRange(),w=h.commonAncestorContainer,A=h.startContainer,D=s.getRangeFormatElement(w,null);let I,O,F;const $=s.getParentElement(w,s.isComponent);if(!($&&!s.isTable($))){if(w.nodeType===1&&w.getAttribute("data-se-embed")==="true"){let z=w.nextElementSibling;s.isFormatElement(z)||(z=this.appendFormatTag(w,i.defaultTag)),this.setRange(z.firstChild,0,z.firstChild,0);return}if(!((s.isRangeFormatElement(A)||s.isWysiwygDiv(A))&&(s.isComponent(A.children[h.startOffset])||s.isComponent(A.children[h.startOffset-1])))){if(s.getParentElement(w,s.isNotCheckingNode))return null;if(D){F=s.createElement(d||i.defaultTag),F.innerHTML=D.innerHTML,F.childNodes.length===0&&(F.innerHTML=s.zeroWidthSpace),D.innerHTML=F.outerHTML,F=D.firstChild,I=s.getEdgeChildNodes(F,null).sc,I||(I=s.createTextNode(s.zeroWidthSpace),F.insertBefore(I,F.firstChild)),O=I.textContent.length,this.setRange(I,O,I,O);return}if(s.isRangeFormatElement(w)&&w.childNodes.length<=1){let z=null;w.childNodes.length===1&&s.isBreak(w.firstChild)?z=w.firstChild:(z=s.createTextNode(s.zeroWidthSpace),w.appendChild(z)),this.setRange(z,1,z,1);return}try{if(w.nodeType===3&&(F=s.createElement(d||i.defaultTag),w.parentNode.insertBefore(F,w),F.appendChild(w)),s.isBreak(F.nextSibling)&&s.removeItem(F.nextSibling),s.isBreak(F.previousSibling)&&s.removeItem(F.previousSibling),s.isBreak(I)){const z=s.createTextNode(s.zeroWidthSpace);I.parentNode.insertBefore(z,I),I=z}}catch{this.execCommand("formatBlock",!1,d||i.defaultTag),this.removeRange(),this._editorRange(),this.effectNode=null;return}if(F&&(s.isBreak(F.nextSibling)&&s.removeItem(F.nextSibling),s.isBreak(F.previousSibling)&&s.removeItem(F.previousSibling),s.isBreak(I))){const z=s.createTextNode(s.zeroWidthSpace);I.parentNode.insertBefore(z,I),I=z}this.effectNode=null,A?this.setRange(A,1,A,1):this.nativeFocus()}}},_setOptionsInit:function(d,h){this.context=n=rS(d.originElement,this._getConstructed(d),i),this._componentsInfoReset=!0,this._editorInit(!0,h)},_editorInit:function(d,h){this._init(d,h),v._addEvent(),this._setCharCount(),v._offStickyToolbar(),v.onResize_window(),n.element.toolbar.style.visibility="";const w=i.frameAttrbutes;for(let A in w)n.element.wysiwyg.setAttribute(A,w[A]);this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),l.setTimeout(function(){typeof c._resourcesStateChange=="function"&&(v._resizeObserver&&v._resizeObserver.observe(n.element.wysiwygFrame),v._toolbarObserver&&v._toolbarObserver.observe(n.element._toolbarShadow),c._resourcesStateChange(),typeof y.onload=="function"&&y.onload(c,d))})},_getConstructed:function(d){return{_top:d.topArea,_relative:d.relative,_toolBar:d.toolbar,_toolbarShadow:d._toolbarShadow,_menuTray:d._menuTray,_editorArea:d.editorArea,_wysiwygArea:d.wysiwygFrame,_codeArea:d.code,_placeholder:d.placeholder,_resizingBar:d.resizingBar,_navigation:d.navigation,_charCounter:d.charCounter,_charWrapper:d.charWrapper,_loading:d.loading,_lineBreaker:d.lineBreaker,_lineBreaker_t:d.lineBreaker_t,_lineBreaker_b:d.lineBreaker_b,_resizeBack:d.resizeBackground,_stickyDummy:d._stickyDummy,_arrow:d._arrow}}},v={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_deleteKeyCode:new l.RegExp("^(8|46)$"),_cursorMoveKeyCode:new l.RegExp("^(8|3[2-9]|40|46)$"),_directionKeyCode:new l.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new l.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new l.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new l.RegExp("^("+l.Object.keys(i._textTagsMap).join("|")+")$","i"),_frontZeroWidthReg:new l.RegExp(s.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(d,h){let w=null;const A=v._keyCodeShortcut[d];switch(A){case"A":w="selectAll";break;case"B":i.shortcutsDisable.indexOf("bold")===-1&&(w="bold");break;case"S":h&&i.shortcutsDisable.indexOf("strike")===-1?w="strike":!h&&i.shortcutsDisable.indexOf("save")===-1&&(w="save");break;case"U":i.shortcutsDisable.indexOf("underline")===-1&&(w="underline");break;case"I":i.shortcutsDisable.indexOf("italic")===-1&&(w="italic");break;case"Z":i.shortcutsDisable.indexOf("undo")===-1&&(h?w="redo":w="undo");break;case"Y":i.shortcutsDisable.indexOf("undo")===-1&&(w="redo");break;case"[":i.shortcutsDisable.indexOf("indent")===-1&&(w=i.rtl?"indent":"outdent");break;case"]":i.shortcutsDisable.indexOf("indent")===-1&&(w=i.rtl?"outdent":"indent");break}return w?(c.commandHandler(c.commandMap[w],w),!0):!!A},_applyTagEffects:function(){if(s.hasClass(n.element.wysiwyg,"se-read-only"))return!1;let d=c.getSelectionNode();if(d===c.effectNode)return;c.effectNode=d;const h=i.rtl?"marginRight":"marginLeft",w=c.commandMap,A=v._onButtonsCheck,D=[],I=[],O=c.activePlugins,F=O.length;let $="";for(;d.firstChild;)d=d.firstChild;for(let z=d;!s.isWysiwygDiv(z)&&z;z=z.parentNode)if(!(z.nodeType!==1||s.isBreak(z))){if($=z.nodeName.toUpperCase(),I.push($),!c.isReadOnly)for(let ee=0,me;ee<F;ee++)me=O[ee],D.indexOf(me)===-1&&t[me].active.call(c,z)&&D.push(me);if(s.isFormatElement(z)){D.indexOf("OUTDENT")===-1&&w.OUTDENT&&!s.isImportantDisabled(w.OUTDENT)&&(s.isListCell(z)||z.style[h]&&s.getNumber(z.style[h],0)>0)&&(D.push("OUTDENT"),w.OUTDENT.removeAttribute("disabled")),D.indexOf("INDENT")===-1&&w.INDENT&&!s.isImportantDisabled(w.INDENT)&&(D.push("INDENT"),s.isListCell(z)&&!z.previousElementSibling?w.INDENT.setAttribute("disabled",!0):w.INDENT.removeAttribute("disabled"));continue}A&&A.test($)&&(D.push($),s.addClass(w[$],"active"))}c._setKeyEffect(D),c._variable.currentNodes=I.reverse(),c._variable.currentNodesMap=D,i.showPathLabel&&(n.element.navigation.textContent=c._variable.currentNodes.join(" > "))},_buttonsEventHandler:function(d){let h=d.target;if(c._bindControllersOff&&d.stopPropagation(),/^(input|textarea|select|option)$/i.test(h.nodeName)?c._antiBlur=!1:d.preventDefault(),s.getParentElement(h,".se-submenu"))d.stopPropagation(),c._notHideToolbar=!0;else{let w=h.getAttribute("data-command"),A=h.className;for(;!w&&!/se-menu-list/.test(A)&&!/sun-editor-common/.test(A);)h=h.parentNode,w=h.getAttribute("data-command"),A=h.className;(w===c._submenuName||w===c._containerName)&&d.stopPropagation()}},addGlobalEvent:function(d,h,w){return i.iframe&&c._ww.addEventListener(d,h,w),c._w.addEventListener(d,h,w),{type:d,listener:h,useCapture:w}},removeGlobalEvent:function(d,h,w){d&&(typeof d=="object"&&(h=d.listener,w=d.useCapture,d=d.type),i.iframe&&c._ww.removeEventListener(d,h,w),c._w.removeEventListener(d,h,w))},onClick_toolbar:function(d){let h=d.target,w=h.getAttribute("data-display"),A=h.getAttribute("data-command"),D=h.className;for(c.controllersOff();h.parentNode&&!A&&!/se-menu-list/.test(D)&&!/se-toolbar/.test(D);)h=h.parentNode,A=h.getAttribute("data-command"),w=h.getAttribute("data-display"),D=h.className;!A&&!w||h.disabled||c.actionCall(A,w,h)},__selectionSyncEvent:null,onMouseDown_wysiwyg:function(d){if(c.isReadOnly||s.isNonEditable(n.element.wysiwyg))return;if(s._isExcludeSelectionElement(d.target)){d.preventDefault();return}if(v.removeGlobalEvent(v.__selectionSyncEvent),v.__selectionSyncEvent=v.addGlobalEvent("mouseup",function(){c&&c._editorRange(),v.removeGlobalEvent(v.__selectionSyncEvent)}),typeof y.onMouseDown=="function"&&y.onMouseDown(d,c)===!1)return;const h=s.getParentElement(d.target,s.isCell);if(h){const w=c.plugins.table;w&&h!==w._fixedCell&&!w._shift&&c.callPlugin("table",function(){w.onTableCellMultiSelect.call(c,h,!1)},null)}c._isBalloon&&v._hideToolbar()},onClick_wysiwyg:function(d){const h=d.target;if(c.isReadOnly)return d.preventDefault(),s.isAnchor(h)&&l.open(h.href,h.target),!1;if(s.isNonEditable(n.element.wysiwyg)||typeof y.onClick=="function"&&y.onClick(d,c)===!1)return;const w=c.getFileComponent(h);if(w){d.preventDefault(),c.selectComponent(w.target,w.pluginName);return}const A=s.getParentElement(h,"FIGCAPTION");if(A&&s.isNonEditable(A)&&(d.preventDefault(),A.focus(),c._isInline&&!c._inlineToolbarAttr.isShow)){v._showToolbarInline();const z=function(){v._hideToolbar(),A.removeEventListener("blur",z)};A.addEventListener("blur",z)}if(c._editorRange(),d.detail===3){let z=c.getRange();s.isFormatElement(z.endContainer)&&z.endOffset===0&&(z=c.setRange(z.startContainer,z.startOffset,z.startContainer,z.startContainer.length),c._rangeInfo(z,c.getSelection()))}const D=c.getSelectionNode(),I=s.getFormatElement(D,null),O=s.getRangeFormatElement(D,null);let F=D;for(;F&&F.firstChild;)F=F.firstChild;const $=c.getFileComponent(F);if($){const z=c.getRange();!O&&z.startContainer===z.endContainer&&c.selectComponent($.target,$.pluginName)}else c.currentFileComponentInfo&&c.controllersOff();if(!I&&!s.isNonEditable(h)&&!s.isList(O)){const z=c.getRange();if(s.getFormatElement(z.startContainer)===s.getFormatElement(z.endContainer))if(s.isList(O)){d.preventDefault();const ee=s.createElement("LI"),me=D.nextElementSibling;ee.appendChild(D),O.insertBefore(ee,me),c.focus()}else!s.isWysiwygDiv(D)&&!s.isComponent(D)&&(!s.isTable(D)||s.isCell(D))&&c._setDefaultFormat(s.isRangeFormatElement(O)?"DIV":i.defaultTag)!==null?(d.preventDefault(),c.focus()):v._applyTagEffects()}else v._applyTagEffects();c._isBalloon&&l.setTimeout(v._toggleToolbarBalloon)},_balloonDelay:null,_showToolbarBalloonDelay:function(){v._balloonDelay&&l.clearTimeout(v._balloonDelay),v._balloonDelay=l.setTimeout((function(){l.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}).bind(v),350)},_toggleToolbarBalloon:function(){if(c){c._editorRange();const d=c.getRange();c._bindControllersOff||!c._isBalloonAlways&&d.collapsed?v._hideToolbar():v._showToolbarBalloon(d)}},_showToolbarBalloon:function(d){if(!c._isBalloon)return;const h=d||c.getRange(),w=n.element.toolbar,A=n.element.topArea,D=c.getSelection();let I;if(c._isBalloonAlways&&h.collapsed)I=!0;else if(D.focusNode===D.anchorNode)I=D.focusOffset<D.anchorOffset;else{const Be=s.getListChildNodes(h.commonAncestorContainer,null);I=s.getArrayIndex(Be,D.focusNode)<s.getArrayIndex(Be,D.anchorNode)}let O=h.getClientRects();O=O[I?0:O.length-1];const F=c.getGlobalScrollOffset();let $=F.left,z=F.top;const ee=A.offsetWidth,me=v._getEditorOffsets(null),ie=me.top,pe=me.left;if(w.style.top="-10000px",w.style.visibility="hidden",w.style.display="block",!O){const Be=c.getSelectionNode();if(s.isFormatElement(Be)){const Je=s.createTextNode(s.zeroWidthSpace);c.insertNode(Je,null,!1),c.setRange(Je,1,Je,1),c._editorRange(),O=c.getRange().getClientRects(),O=O[I?0:O.length-1]}if(!O){const Je=s.getOffset(Be,n.element.wysiwygFrame);O={left:Je.left,top:Je.top,right:Je.left,bottom:Je.top+Be.offsetHeight,noText:!0},$=0,z=0}I=!0}const be=l.Math.round(n.element._arrow.offsetWidth/2),Ve=w.offsetWidth,Ue=w.offsetHeight,Ge=/iframe/i.test(n.element.wysiwygFrame.nodeName)?n.element.wysiwygFrame.getClientRects()[0]:null;if(Ge&&(O={left:O.left+Ge.left,top:O.top+Ge.top,right:O.right+Ge.right-Ge.width,bottom:O.bottom+Ge.bottom-Ge.height}),v._setToolbarOffset(I,O,w,pe,ee,$,z,ie,be),(Ve!==w.offsetWidth||Ue!==w.offsetHeight)&&v._setToolbarOffset(I,O,w,pe,ee,$,z,ie,be),i.toolbarContainer){const Be=A.parentElement;let Je=i.toolbarContainer,ye=Je.offsetLeft,Me=Je.offsetTop;for(;!Je.parentElement.contains(Be)||!/^(BODY|HTML)$/i.test(Je.parentElement.nodeName);)Je=Je.offsetParent,ye+=Je.offsetLeft,Me+=Je.offsetTop;w.style.left=w.offsetLeft-ye+A.offsetLeft+"px",w.style.top=w.offsetTop-Me+A.offsetTop+"px"}w.style.visibility=""},_setToolbarOffset:function(d,h,w,A,D,I,O,F,$){const ee=w.offsetWidth,me=h.noText&&!d?0:w.offsetHeight,ie=(d?h.left:h.right)-A-ee/2+I,pe=ie+ee-D;let be=(d?h.top-me-$:h.bottom+$)-(h.noText?0:F)+O,Ve=ie<0?1:pe<0?ie:ie-pe-1-1,Ue=!1;const Ge=be+(d?v._getEditorOffsets(null).top:w.offsetHeight-n.element.wysiwyg.offsetHeight);!d&&Ge>0&&v._getPageBottomSpace()<Ge?(d=!0,Ue=!0):d&&o.documentElement.offsetTop>Ge&&(d=!1,Ue=!0),Ue&&(be=(d?h.top-me-$:h.bottom+$)-(h.noText?0:F)+O),w.style.left=l.Math.floor(Ve)+"px",w.style.top=l.Math.floor(be)+"px",d?(s.removeClass(n.element._arrow,"se-arrow-up"),s.addClass(n.element._arrow,"se-arrow-down"),n.element._arrow.style.top=me+"px"):(s.removeClass(n.element._arrow,"se-arrow-down"),s.addClass(n.element._arrow,"se-arrow-up"),n.element._arrow.style.top=-$+"px");const Be=l.Math.floor(ee/2+(ie-Ve));n.element._arrow.style.left=(Be+$>w.offsetWidth?w.offsetWidth-$:Be<$?$:Be)+"px"},_showToolbarInline:function(){if(!c._isInline)return;const d=n.element.toolbar;i.toolbarContainer?d.style.position="relative":d.style.position="absolute",d.style.visibility="hidden",d.style.display="block",c._inlineToolbarAttr.width=d.style.width=i.toolbarWidth,c._inlineToolbarAttr.top=d.style.top=(i.toolbarContainer?0:-1-d.offsetHeight)+"px",typeof y.showInline=="function"&&y.showInline(d,n,c),v.onScroll_window(),c._inlineToolbarAttr.isShow=!0,d.style.visibility=""},_hideToolbar:function(){!c._notHideToolbar&&!c._variable.isFullScreen&&(n.element.toolbar.style.display="none",c._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(d){if(/AUDIO/.test(d.target.nodeName))return!1;if(c.isReadOnly||c.isDisabled)return d.preventDefault(),d.stopPropagation(),c.history.go(c.history.getCurrentIndex()),!1;const h=c.getRange(),w=c.getSelectionNode(),A=s.getFormatElement(w,null);if(!A&&h.collapsed&&!s.isComponent(w)&&!s.isList(w)){const I=s.getRangeFormatElement(A,null);c._setDefaultFormat(s.isRangeFormatElement(I)?"DIV":i.defaultTag)}c._editorRange();const D=(d.data===null?"":d.data===void 0?" ":d.data)||"";if(!c._charCount(D))return d.preventDefault(),d.stopPropagation(),!1;typeof y.onInput=="function"&&y.onInput(d,c)===!1||c.history.push(!0)},_isUneditableNode:function(d,h){const w=h?d.startContainer:d.endContainer,A=h?d.startOffset:d.endOffset,D=h?"previousSibling":"nextSibling",I=w.nodeType===1;let O;return I?(O=v._isUneditableNode_getSibling(w.childNodes[A],D,w),O&&O.nodeType===1&&O.getAttribute("contenteditable")==="false"):(O=v._isUneditableNode_getSibling(w,D,w),c.isEdgePoint(w,A,h?"start":"end")&&O&&O.nodeType===1&&O.getAttribute("contenteditable")==="false")},_isUneditableNode_getSibling:function(d,h,w){if(!d)return null;let A=d[h];if(!A)if(A=s.getFormatElement(w),A=A?A[h]:null,A&&!s.isComponent(A))A=h==="previousSibling"?A.firstChild:A.lastChild;else return null;return A},_onShortcutKey:!1,onKeyDown_wysiwyg:function(d){let h=c.getSelectionNode();if(s.isInputElement(h))return;const w=d.keyCode,A=d.shiftKey,D=d.ctrlKey||d.metaKey||w===91||w===92||w===224,I=d.altKey;if(v._IEisComposing=w===229,!D&&c.isReadOnly&&!v._cursorMoveKeyCode.test(w))return d.preventDefault(),!1;if(c.submenuOff(),c._isBalloon&&v._hideToolbar(),typeof y.onKeyDown=="function"&&y.onKeyDown(d,c)===!1)return;if(D&&v._shortcutCommand(w,A))return v._onShortcutKey=!0,d.preventDefault(),d.stopPropagation(),!1;v._onShortcutKey&&(v._onShortcutKey=!1),w===13&&s.isFormatElement(c.getRange().startContainer)&&(c._resetRangeToTextNode(),h=c.getSelectionNode());const O=c.getRange(),F=!O.collapsed||O.startContainer!==O.endContainer,$=c._fileManager.pluginRegExp.test(c.currentControllerName)?c.currentControllerName:"";let z=s.getFormatElement(h,null)||h,ee=s.getRangeFormatElement(z,null);if(!(/37|38|39|40/.test(d.keyCode)&&v._onKeyDown_wysiwyg_arrowKey(d)===!1)){switch(w){case 8:if(!F&&$){d.preventDefault(),d.stopPropagation(),c.plugins[$].destroy.call(c);break}if(F&&v._hardDelete()){d.preventDefault(),d.stopPropagation();break}if(!s.isFormatElement(z)&&!n.element.wysiwyg.firstElementChild&&!s.isComponent(h)&&c._setDefaultFormat(i.defaultTag)!==null)return d.preventDefault(),d.stopPropagation(),!1;if(!F&&!z.previousElementSibling&&O.startOffset===0&&!h.previousSibling&&!s.isListCell(z)&&s.isFormatElement(z)&&(!s.isFreeFormatElement(z)||s.isClosureFreeFormatElement(z))){if(s.isClosureRangeFormatElement(z.parentNode))return d.preventDefault(),d.stopPropagation(),!1;if(s.isWysiwygDiv(z.parentNode)&&z.childNodes.length<=1&&(!z.firstChild||s.onlyZeroWidthSpace(z.textContent))){if(d.preventDefault(),d.stopPropagation(),z.nodeName.toUpperCase()===i.defaultTag.toUpperCase()){z.innerHTML="<br>";const we=z.attributes;for(;we[0];)z.removeAttribute(we[0].name)}else{const we=s.createElement(i.defaultTag);we.innerHTML="<br>",z.parentElement.replaceChild(we,z)}return c.nativeFocus(),!1}}const ie=O.startContainer;if(z&&!z.previousElementSibling&&O.startOffset===0&&ie.nodeType===3&&!s.isFormatElement(ie.parentNode)){let we=ie.parentNode.previousSibling;const Fe=ie.parentNode.nextSibling;we||(Fe?we=Fe:(we=s.createElement("BR"),z.appendChild(we)));let ke=ie;for(;z.contains(ke)&&!ke.previousSibling;)ke=ke.parentNode;if(!z.contains(ke)){ie.textContent="",s.removeItemAllParents(ie,null,z);break}}if(v._isUneditableNode(O,!0)){d.preventDefault(),d.stopPropagation();break}!F&&c._isEdgeFormat(O.startContainer,O.startOffset,"start")&&s.isFormatElement(z.previousElementSibling)&&(c._formatAttrsTemp=z.previousElementSibling.attributes);const pe=O.commonAncestorContainer;if(z=s.getFormatElement(O.startContainer,null),ee=s.getRangeFormatElement(z,null),ee&&z&&!s.isCell(ee)&&!/^FIGCAPTION$/i.test(ee.nodeName)){if(s.isListCell(z)&&s.isList(ee)&&(s.isListCell(ee.parentNode)||z.previousElementSibling)&&(h===z||h.nodeType===3&&(!h.previousSibling||s.isList(h.previousSibling)))&&(s.getFormatElement(O.startContainer,null)!==s.getFormatElement(O.endContainer,null)?ee.contains(O.startContainer):O.startOffset===0&&O.collapsed)){if(O.startContainer!==O.endContainer)d.preventDefault(),c.removeNode(),O.startContainer.nodeType===3&&c.setRange(O.startContainer,O.startContainer.textContent.length,O.startContainer,O.startContainer.textContent.length),c.history.push(!0);else{let we=z.previousElementSibling||ee.parentNode;if(s.isListCell(we)){d.preventDefault();let Fe=we;if(!we.contains(z)&&s.isListCell(Fe)&&s.isList(Fe.lastElementChild)){for(Fe=Fe.lastElementChild.lastElementChild;s.isListCell(Fe)&&s.isList(Fe.lastElementChild);)Fe=Fe.lastElementChild&&Fe.lastElementChild.lastElementChild;we=Fe}let ke=we===ee.parentNode?ee.previousSibling:we.lastChild;ke||(ke=s.createTextNode(s.zeroWidthSpace),ee.parentNode.insertBefore(ke,ee.parentNode.firstChild));const Ae=ke.nodeType===3?ke.textContent.length:1,Ee=z.childNodes;let Ce=ke,ve=Ee[0];for(;ve=Ee[0];)we.insertBefore(ve,Ce.nextSibling),Ce=ve;s.removeItem(z),ee.children.length===0&&s.removeItem(ee),c.setRange(ke,Ae,ke,Ae),c.history.push(!0)}}break}if(!F&&O.startOffset===0){let we=!0,Fe=pe;for(;Fe&&Fe!==ee&&!s.isWysiwygDiv(Fe);){if(Fe.previousSibling&&(Fe.previousSibling.nodeType===1||!s.onlyZeroWidthSpace(Fe.previousSibling.textContent.trim()))){we=!1;break}Fe=Fe.parentNode}if(we&&ee.parentNode){d.preventDefault(),c.detachRangeFormatElement(ee,s.isListCell(z)?[z]:null,null,!1,!1),c.history.push(!0);break}}}if(!F&&z&&(O.startOffset===0||h===z&&z.childNodes[O.startOffset])){const we=h===z?z.childNodes[O.startOffset]:h,Fe=z.previousSibling,ke=(pe.nodeType===3||s.isBreak(pe))&&!pe.previousSibling&&O.startOffset===0;if(we&&!we.previousSibling&&(pe&&s.isComponent(pe.previousSibling)||ke&&s.isComponent(Fe))){const Ae=c.getFileComponent(Fe);Ae?(d.preventDefault(),d.stopPropagation(),z.textContent.length===0&&s.removeItem(z),c.selectComponent(Ae.target,Ae.pluginName)===!1&&c.blur()):s.isComponent(Fe)&&(d.preventDefault(),d.stopPropagation(),s.removeItem(Fe));break}if(we&&s.isNonEditable(we.previousSibling)){d.preventDefault(),d.stopPropagation(),s.removeItem(we.previousSibling);break}}break;case 46:if($){d.preventDefault(),d.stopPropagation(),c.plugins[$].destroy.call(c);break}if(F&&v._hardDelete()){d.preventDefault(),d.stopPropagation();break}if(!F&&c._isEdgeFormat(O.endContainer,O.endOffset,"end")&&!z.nextSibling){d.preventDefault(),d.stopPropagation();return}if(v._isUneditableNode(O,!1)){d.preventDefault(),d.stopPropagation();break}if((s.isFormatElement(h)||h.nextSibling===null||s.onlyZeroWidthSpace(h.nextSibling)&&h.nextSibling.nextSibling===null)&&O.startOffset===h.textContent.length){const we=z.nextElementSibling;if(!we)break;if(s.isComponent(we)){if(d.preventDefault(),s.onlyZeroWidthSpace(z)&&(s.removeItem(z),s.isTable(we))){let ke=s.getChildElement(we,s.isCell,!1);ke=ke.firstElementChild||ke,c.setRange(ke,0,ke,0);break}const Fe=c.getFileComponent(we);Fe?(d.stopPropagation(),c.selectComponent(Fe.target,Fe.pluginName)===!1&&c.blur()):s.isComponent(we)&&(d.stopPropagation(),s.removeItem(we));break}}if(!F&&(c.isEdgePoint(O.endContainer,O.endOffset)||h===z&&z.childNodes[O.startOffset])){const we=h===z&&z.childNodes[O.startOffset]||h;if(we&&s.isNonEditable(we.nextSibling)){d.preventDefault(),d.stopPropagation(),s.removeItem(we.nextSibling);break}else if(s.isComponent(we)){d.preventDefault(),d.stopPropagation(),s.removeItem(we);break}}if(!F&&c._isEdgeFormat(O.endContainer,O.endOffset,"end")&&s.isFormatElement(z.nextElementSibling)&&(c._formatAttrsTemp=z.attributes),z=s.getFormatElement(O.startContainer,null),ee=s.getRangeFormatElement(z,null),s.isListCell(z)&&s.isList(ee)&&(h===z||h.nodeType===3&&(!h.nextSibling||s.isList(h.nextSibling))&&(s.getFormatElement(O.startContainer,null)!==s.getFormatElement(O.endContainer,null)?ee.contains(O.endContainer):O.endOffset===h.textContent.length&&O.collapsed))){O.startContainer!==O.endContainer&&c.removeNode();let we=s.getArrayItem(z.children,s.isList,!1);if(we=we||z.nextElementSibling||ee.parentNode.nextElementSibling,we&&(s.isList(we)||s.getArrayItem(we.children,s.isList,!1))){d.preventDefault();let Fe,ke;if(s.isList(we)){const Ae=we.firstElementChild;for(ke=Ae.childNodes,Fe=ke[0];ke[0];)z.insertBefore(ke[0],we);s.removeItem(Ae)}else{for(Fe=we.firstChild,ke=we.childNodes;ke[0];)z.appendChild(ke[0]);s.removeItem(we)}c.setRange(Fe,0,Fe,0),c.history.push(!0)}break}break;case 9:if($||i.tabDisable||(d.preventDefault(),D||I||s.isWysiwygDiv(h)))break;const be=!O.collapsed||c.isEdgePoint(O.startContainer,O.startOffset),Ve=c.getSelectedElements(null);h=c.getSelectionNode();const Ue=[];let Ge=[],Be=s.isListCell(Ve[0]),Je=s.isListCell(Ve[Ve.length-1]),ye={sc:O.startContainer,so:O.startOffset,ec:O.endContainer,eo:O.endOffset};for(let we=0,Fe=Ve.length,ke;we<Fe;we++)if(ke=Ve[we],s.isListCell(ke)){if(!ke.previousElementSibling&&!A)continue;Ue.push(ke)}else Ge.push(ke);if(Ue.length>0&&be&&c.plugins.list)ye=c.plugins.list.editInsideList.call(c,A,Ue);else{const we=s.getParentElement(h,s.isCell);if(we&&be){const Fe=s.getParentElement(we,"table"),ke=s.getListChildren(Fe,s.isCell);let Ae=A?s.prevIdx(ke,we):s.nextIdx(ke,we);Ae===ke.length&&!A&&(Ae=0),Ae===-1&&A&&(Ae=ke.length-1);let Ee=ke[Ae];if(!Ee)break;Ee=Ee.firstElementChild||Ee,c.setRange(Ee,0,Ee,0);break}Ge=Ge.concat(Ue),Be=Je=null}if(Ge.length>0)if(A){const we=Ge.length-1;for(let Ae=0,Ee;Ae<=we;Ae++){Ee=Ge[Ae].childNodes;for(let Ce=0,ve=Ee.length,ge;Ce<ve&&(ge=Ee[Ce],!!ge);Ce++)if(!s.onlyZeroWidthSpace(ge)){/^\s{1,4}$/.test(ge.textContent)?s.removeItem(ge):/^\s{1,4}/.test(ge.textContent)&&(ge.textContent=ge.textContent.replace(/^\s{1,4}/,""));break}}const Fe=s.getChildElement(Ge[0],"text",!1),ke=s.getChildElement(Ge[we],"text",!0);!Be&&Fe&&(ye.sc=Fe,ye.so=0),!Je&&ke&&(ye.ec=ke,ye.eo=ke.textContent.length)}else{const we=s.createTextNode(new l.Array(c._variable.tabSize+1).join("Â "));if(Ge.length===1){if(!c.insertNode(we,null,!0))return!1;Be||(ye.sc=we,ye.so=we.length),Je||(ye.ec=we,ye.eo=we.length)}else{const Fe=Ge.length-1;for(let Ee=0,Ce;Ee<=Fe;Ee++)Ce=Ge[Ee].firstChild,Ce&&(s.isBreak(Ce)?Ge[Ee].insertBefore(we.cloneNode(!1),Ce):Ce.textContent=we.textContent+Ce.textContent);const ke=s.getChildElement(Ge[0],"text",!1),Ae=s.getChildElement(Ge[Fe],"text",!0);!Be&&ke&&(ye.sc=ke,ye.so=0),!Je&&Ae&&(ye.ec=Ae,ye.eo=Ae.textContent.length)}}c.setRange(ye.sc,ye.so,ye.ec,ye.eo),c.history.push(!1);break;case 13:const Me=s.getFreeFormatElement(h,null);if(c._charTypeHTML){let we="";if(!A&&Me||A?we="<br>":we="<"+z.nodeName+"><br></"+z.nodeName+">",!c.checkCharCount(we,"byte-html"))return d.preventDefault(),!1}if(!A&&!$){const we=c._isEdgeFormat(O.endContainer,O.endOffset,"end"),Fe=c._isEdgeFormat(O.startContainer,O.startOffset,"start");if(we&&(/^H[1-6]$/i.test(z.nodeName)||/^HR$/i.test(z.nodeName))){v._enterPrevent(d);let ke=null;const Ae=c.appendFormatTag(z,i.defaultTag);if(we&&we.length>0){ke=we.pop();const Ee=ke;for(;we.length>0;)ke=ke.appendChild(we.pop());Ae.appendChild(Ee)}if(ke=ke?ke.appendChild(Ae.firstChild):Ae.firstChild,s.isBreak(ke)){const Ee=s.createTextNode(s.zeroWidthSpace);ke.parentNode.insertBefore(Ee,ke),c.setRange(Ee,1,Ee,1)}else c.setRange(ke,0,ke,0);break}else if(ee&&z&&!s.isCell(ee)&&!/^FIGCAPTION$/i.test(ee.nodeName)){const ke=c.getRange();if(c.isEdgePoint(ke.endContainer,ke.endOffset)&&s.isList(h.nextSibling)){v._enterPrevent(d);const Ae=s.createElement("LI"),Ee=s.createElement("BR");Ae.appendChild(Ee),z.parentNode.insertBefore(Ae,z.nextElementSibling),Ae.appendChild(h.nextSibling),c.setRange(Ee,1,Ee,1);break}if((ke.commonAncestorContainer.nodeType!==3||!ke.commonAncestorContainer.nextElementSibling)&&s.onlyZeroWidthSpace(z.innerText.trim())&&!s.isListCell(z.nextElementSibling)){v._enterPrevent(d);let Ae=null;if(s.isListCell(ee.parentNode)){const Ee=z.parentNode.parentNode;ee=Ee.parentNode;const Ce=s.createElement("LI");Ce.innerHTML="<br>",s.copyTagAttributes(Ce,z,i.lineAttrReset),Ae=Ce,ee.insertBefore(Ae,Ee.nextElementSibling)}else{const Ee=s.isCell(ee.parentNode)?"DIV":s.isList(ee.parentNode)?"LI":s.isFormatElement(ee.nextElementSibling)&&!s.isRangeFormatElement(ee.nextElementSibling)?ee.nextElementSibling.nodeName:s.isFormatElement(ee.previousElementSibling)&&!s.isRangeFormatElement(ee.previousElementSibling)?ee.previousElementSibling.nodeName:i.defaultTag;Ae=s.createElement(Ee),s.copyTagAttributes(Ae,z,i.lineAttrReset);const Ce=c.detachRangeFormatElement(ee,[z],null,!0,!0);Ce.cc.insertBefore(Ae,Ce.ec)}Ae.innerHTML="<br>",s.removeItemAllParents(z,null,null),c.setRange(Ae,1,Ae,1);break}}if(Me){v._enterPrevent(d);const ke=h===Me,Ae=c.getSelection(),Ee=h.childNodes,Ce=Ae.focusOffset,ve=h.previousElementSibling,ge=h.nextSibling;if(!s.isClosureFreeFormatElement(Me)&&Ee&&(ke&&O.collapsed&&Ee.length-1<=Ce+1&&s.isBreak(Ee[Ce])&&(!Ee[Ce+1]||(!Ee[Ce+2]||s.onlyZeroWidthSpace(Ee[Ce+2].textContent))&&Ee[Ce+1].nodeType===3&&s.onlyZeroWidthSpace(Ee[Ce+1].textContent))&&Ce>0&&s.isBreak(Ee[Ce-1])||!ke&&s.onlyZeroWidthSpace(h.textContent)&&s.isBreak(ve)&&(s.isBreak(ve.previousSibling)||!s.onlyZeroWidthSpace(ve.previousSibling.textContent))&&(!ge||!s.isBreak(ge)&&s.onlyZeroWidthSpace(ge.textContent)))){ke?s.removeItem(Ee[Ce-1]):s.removeItem(h);const fe=c.appendFormatTag(Me,s.isFormatElement(Me.nextElementSibling)&&!s.isRangeFormatElement(Me.nextElementSibling)?Me.nextElementSibling:null);s.copyFormatAttributes(fe,Me),c.setRange(fe,1,fe,1);break}if(ke){y.insertHTML(O.collapsed&&s.isBreak(O.startContainer.childNodes[O.startOffset-1])?"<br>":"<br><br>",!0,!1);let fe=Ae.focusNode;const Re=Ae.focusOffset;Me===fe&&(fe=fe.childNodes[Re-Ce>1?Re-1:Re]),c.setRange(fe,1,fe,1)}else{const fe=Ae.focusNode.nextSibling,Re=s.createElement("BR");c.insertNode(Re,null,!1);const We=Re.previousSibling,it=Re.nextSibling;!s.isBreak(fe)&&!s.isBreak(We)&&(!it||s.onlyZeroWidthSpace(it))?(Re.parentNode.insertBefore(Re.cloneNode(!1),Re),c.setRange(Re,1,Re,1)):c.setRange(it,0,it,0)}v._onShortcutKey=!0;break}if(O.collapsed&&(Fe||we)){v._enterPrevent(d);const ke=s.createElement("BR"),Ae=s.createElement(z.nodeName);s.copyTagAttributes(Ae,z,i.lineAttrReset);let Ee=ke;do{if(!s.isBreak(h)&&h.nodeType===1){const Ce=h.cloneNode(!1);Ce.appendChild(Ee),Ee=Ce}h=h.parentNode}while(z!==h&&z.contains(h));Ae.appendChild(Ee),z.parentNode.insertBefore(Ae,Fe&&!we?z:z.nextElementSibling),we&&c.setRange(ke,1,ke,1);break}if(z){d.stopPropagation();let ke,Ae=0;if(O.collapsed)s.onlyZeroWidthSpace(z)?ke=c.appendFormatTag(z,z.cloneNode(!1)):ke=s.splitElement(O.endContainer,O.endOffset,s.getElementDepth(z));else{const Ee=s.getFormatElement(O.startContainer,null)!==s.getFormatElement(O.endContainer,null),Ce=z.cloneNode(!1);Ce.innerHTML="<br>";const ve=O.commonAncestorContainer,ge=ve===O.startContainer&&ve===O.endContainer&&s.onlyZeroWidthSpace(ve)?O:c.removeNode();if(ke=s.getFormatElement(ge.container,null),!ke){s.isWysiwygDiv(ge.container)&&(v._enterPrevent(d),n.element.wysiwyg.appendChild(Ce),ke=Ce,s.copyTagAttributes(ke,z,i.lineAttrReset),c.setRange(ke,Ae,ke,Ae));break}const fe=s.getRangeFormatElement(ge.container);if(ke=ke.contains(fe)?s.getChildElement(fe,s.getFormatElement.bind(s)):ke,Ee){if(we&&!Fe)ke.parentNode.insertBefore(Ce,!ge.prevContainer||ge.container===ge.prevContainer?ke.nextElementSibling:ke),ke=Ce,Ae=0;else if(Ae=ge.offset,Fe){const Re=ke.parentNode.insertBefore(Ce,ke);we&&(ke=Re,Ae=0)}}else we&&Fe?(ke.parentNode.insertBefore(Ce,ge.prevContainer&&ge.container===ge.prevContainer?ke.nextElementSibling:ke),ke=Ce,Ae=0):ke=s.splitElement(ge.container,ge.offset,s.getElementDepth(z))}v._enterPrevent(d),s.copyTagAttributes(ke,z,i.lineAttrReset),c.setRange(ke,Ae,ke,Ae);break}}if(F)break;if(ee&&s.getParentElement(ee,"FIGCAPTION")&&s.getParentElement(ee,s.isList)&&(v._enterPrevent(d),z=c.appendFormatTag(z,null),c.setRange(z,0,z,0)),$){d.preventDefault(),d.stopPropagation(),c.containerOff(),c.controllersOff();const we=n[$],Fe=we._container,ke=Fe.previousElementSibling||Fe.nextElementSibling;let Ae=null;s.isListCell(Fe.parentNode)?Ae=s.createElement("BR"):(Ae=s.createElement(s.isFormatElement(ke)&&!s.isRangeFormatElement(ke)?ke.nodeName:i.defaultTag),Ae.innerHTML="<br>"),A?Fe.parentNode.insertBefore(Ae,Fe):Fe.parentNode.insertBefore(Ae,Fe.nextElementSibling),c.callPlugin($,function(){c.selectComponent(we._element,$)===!1&&c.blur()},null)}break;case 27:if($)return d.preventDefault(),d.stopPropagation(),c.controllersOff(),!1;break}if(A&&w===16){d.preventDefault(),d.stopPropagation();const ie=c.plugins.table;if(ie&&!ie._shift&&!ie._ref){const pe=s.getParentElement(z,s.isCell);if(pe){ie.onTableCellMultiSelect.call(c,pe,!0);return}}}else if(A&&(s.isOSX_IOS?I:D)&&w===32){d.preventDefault(),d.stopPropagation();const ie=c.insertNode(s.createTextNode("Â "));if(ie){c.setRange(ie,ie.length,ie,ie.length);return}}if(s.isIE&&!D&&!I&&!F&&!v._nonTextKeyCode.test(w)&&s.isBreak(O.commonAncestorContainer)){const ie=s.createTextNode(s.zeroWidthSpace);c.insertNode(ie,null,!1),c.setRange(ie,1,ie,1)}v._directionKeyCode.test(w)&&(l.setTimeout(c._editorRange.bind(c),0),v._applyTagEffects())}},_onKeyDown_wysiwyg_arrowKey:function(d){if(d.shiftKey)return;let h=c.getSelectionNode();const w=function(I,O){if(O||(O=0),d.preventDefault(),d.stopPropagation(),!I)return;let F=c.getFileComponent(I);F?c.selectComponent(F.target,F.pluginName):(c.setRange(I,O,I,O),c.controllersOff())},A=s.getParentElement(h,"table");if(A){const I=s.getParentElement(h,"tr"),O=s.getParentElement(h,"td");let F=O,$=O;if(O){for(;F&&F.firstChild;)F=F.firstChild;for(;$&&$.lastChild;)$=$.lastChild}let z=h;for(;z&&z.firstChild;)z=z.firstChild;const ee=z===F,me=z===$;let ie=null,pe=0;if(d.keyCode===38&&ee){const be=I&&I.previousElementSibling;for(be?ie=be.children[O.cellIndex]:ie=s.getPreviousDeepestNode(A,c.context.element.wysiwyg);ie&&ie.lastChild;)ie=ie.lastChild;ie&&(pe=ie.textContent.length)}else if(d.keyCode===40&&me){const be=I&&I.nextElementSibling;for(be?ie=be.children[O.cellIndex]:ie=s.getNextDeepestNode(A,c.context.element.wysiwyg);ie&&ie.firstChild;)ie=ie.firstChild}if(ie)return w(ie,pe),!1}const D=c.getFileComponent(h);if(D){const I=/37|38/.test(d.keyCode),O=/39|40/.test(d.keyCode);if(I){const F=s.getPreviousDeepestNode(D.target,c.context.element.wysiwyg);w(F,F&&F.textContent.length)}else if(O){const F=s.getNextDeepestNode(D.target,c.context.element.wysiwyg);w(F)}}},onKeyUp_wysiwyg:function(d){if(v._onShortcutKey)return;c._editorRange();const h=d.keyCode,w=d.ctrlKey||d.metaKey||h===91||h===92||h===224,A=d.altKey;if(c.isReadOnly){!w&&v._cursorMoveKeyCode.test(h)&&v._applyTagEffects();return}const D=c.getRange();let I=c.getSelectionNode();if(c._isBalloon&&(c._isBalloonAlways&&h!==27||!D.collapsed))if(c._isBalloonAlways)h!==27&&v._showToolbarBalloonDelay();else{v._showToolbarBalloon();return}let O=I;for(;O&&O.firstChild;)O=O.firstChild;const F=c.getFileComponent(O);if(!(d.keyCode===16||d.shiftKey)&&F?c.selectComponent(F.target,F.pluginName):c.currentFileComponentInfo&&c.controllersOff(),h===8&&s.isWysiwygDiv(I)&&I.textContent===""&&I.children.length===0){d.preventDefault(),d.stopPropagation(),I.innerHTML="";const ie=s.createElement(s.isFormatElement(c._variable.currentNodes[0])?c._variable.currentNodes[0]:i.defaultTag);ie.innerHTML="<br>",I.appendChild(ie),c.setRange(ie,0,ie,0),v._applyTagEffects(),c.history.push(!1);return}const $=s.getFormatElement(I,null),z=s.getRangeFormatElement(I,null),ee=c._formatAttrsTemp;if(ee){for(let ie=0,pe=ee.length;ie<pe;ie++){if(h===13&&/^id$/i.test(ee[ie].name)){$.removeAttribute("id");continue}$.setAttribute(ee[ie].name,ee[ie].value)}c._formatAttrsTemp=null}if(!$&&D.collapsed&&!s.isComponent(I)&&!s.isList(I)&&c._setDefaultFormat(s.isRangeFormatElement(z)?"DIV":i.defaultTag)!==null&&(I=c.getSelectionNode()),!w&&!A&&!v._nonTextKeyCode.test(h)&&I.nodeType===3&&s.zeroWidthRegExp.test(I.textContent)&&!(d.isComposing!==void 0?d.isComposing:v._IEisComposing)){let ie=D.startOffset,pe=D.endOffset;const be=(I.textContent.substring(0,pe).match(v._frontZeroWidthReg)||"").length;ie=D.startOffset-be,pe=D.endOffset-be,I.textContent=I.textContent.replace(s.zeroWidthRegExp,""),c.setRange(I,ie<0?0:ie,I,pe<0?0:pe)}v._deleteKeyCode.test(h)&&$&&s.onlyZeroWidthSpace($.textContent)&&!$.previousElementSibling&&($.innerHTML="<br>",c.setRange($,0,$,0)),c._charCount(""),!(typeof y.onKeyUp=="function"&&y.onKeyUp(d,c)===!1)&&!w&&!A&&!v._historyIgnoreKeyCode.test(h)&&c.history.push(!0)},onScroll_wysiwyg:function(d){c.controllersOff(),c._isBalloon&&v._hideToolbar(),typeof y.onScroll=="function"&&y.onScroll(d,c)},onFocus_wysiwyg:function(d){c._antiBlur||(c.hasFocus=!0,l.setTimeout(v._applyTagEffects),c._isInline&&v._showToolbarInline(),typeof y.onFocus=="function"&&y.onFocus(d,c))},onBlur_wysiwyg:function(d){c._antiBlur||c._variable.isCodeView||(c.hasFocus=!1,c.effectNode=null,c.controllersOff(),(c._isInline||c._isBalloon)&&v._hideToolbar(),c._setKeyEffect([]),c._variable.currentNodes=[],c._variable.currentNodesMap=[],i.showPathLabel&&(n.element.navigation.textContent=""),typeof y.onBlur=="function"&&y.onBlur(d,c,this))},onMouseDown_resizingBar:function(d){d.stopPropagation(),c.submenuOff(),c.controllersOff(),c._variable.resizeClientY=d.clientY,n.element.resizeBackground.style.display="block";function h(){n.element.resizeBackground.style.display="none",o.removeEventListener("mousemove",v._resize_editor),o.removeEventListener("mouseup",h)}o.addEventListener("mousemove",v._resize_editor),o.addEventListener("mouseup",h)},_resize_editor:function(d){const h=n.element.editorArea.offsetHeight+(d.clientY-c._variable.resizeClientY),w=h<c._variable.minResizingSize?c._variable.minResizingSize:h;n.element.wysiwygFrame.style.height=n.element.code.style.height=w+"px",c._variable.resizeClientY=d.clientY,s.isResizeObserverSupported||c.__callResizeFunction(w,null)},onResize_window:function(){s.isResizeObserverSupported||c.resetResponsiveToolbar();const d=n.element.toolbar,h=d.style.display==="none"||c._isInline&&!c._inlineToolbarAttr.isShow;if(!(d.offsetWidth===0&&!h)){if(n.fileBrowser&&n.fileBrowser.area.style.display==="block"&&(n.fileBrowser.body.style.maxHeight=l.innerHeight-n.fileBrowser.header.offsetHeight-50+"px"),c.submenuActiveButton&&c.submenu&&c._setMenuPosition(c.submenuActiveButton,c.submenu),c._variable.isFullScreen){c._variable.innerHeight_fullScreen+=l.innerHeight-d.offsetHeight-c._variable.innerHeight_fullScreen,n.element.editorArea.style.height=c._variable.innerHeight_fullScreen+"px";return}if(c._variable.isCodeView&&c._isInline){v._showToolbarInline();return}c._iframeAutoHeight(),c._sticky&&(d.style.width=n.element.topArea.offsetWidth-2+"px",v.onScroll_window())}},onScroll_window:function(){if(c._variable.isFullScreen||n.element.toolbar.offsetWidth===0||i.stickyToolbar<0)return;const d=n.element,h=d.editorArea.offsetHeight,w=(this.scrollY||o.documentElement.scrollTop)+i.stickyToolbar,A=v._getEditorOffsets(i.toolbarContainer).top-(c._isInline?d.toolbar.offsetHeight:0),D=c._isInline&&w-A>0?w-A-n.element.toolbar.offsetHeight:0;w<A?v._offStickyToolbar():w+c._variable.minResizingSize>=h+A?(c._sticky||v._onStickyToolbar(D),d.toolbar.style.top=D+h+A+i.stickyToolbar-w-c._variable.minResizingSize+"px"):w>=A&&v._onStickyToolbar(D)},_getEditorOffsets:function(d){let h=d||n.element.topArea,w=0,A=0,D=0;for(;h;)w+=h.offsetTop,A+=h.offsetLeft,D+=h.scrollTop,h=h.offsetParent;return{top:w,left:A,scroll:D}},_getPageBottomSpace:function(){return o.documentElement.scrollHeight-(v._getEditorOffsets(null).top+n.element.topArea.offsetHeight)},_onStickyToolbar:function(d){const h=n.element;!c._isInline&&!i.toolbarContainer&&(h._stickyDummy.style.height=h.toolbar.offsetHeight+"px",h._stickyDummy.style.display="block"),h.toolbar.style.top=i.stickyToolbar+d+"px",h.toolbar.style.width=c._isInline?c._inlineToolbarAttr.width:h.toolbar.offsetWidth+"px",s.addClass(h.toolbar,"se-toolbar-sticky"),c._sticky=!0},_offStickyToolbar:function(){const d=n.element;d._stickyDummy.style.display="none",d.toolbar.style.top=c._isInline?c._inlineToolbarAttr.top:"",d.toolbar.style.width=c._isInline?c._inlineToolbarAttr.width:"",d.editorArea.style.marginTop="",s.removeClass(d.toolbar,"se-toolbar-sticky"),c._sticky=!1},_codeViewAutoHeight:function(){c._variable.isFullScreen||(n.element.code.style.height=n.element.code.scrollHeight+"px")},_hardDelete:function(){const d=c.getRange(),h=d.startContainer,w=d.endContainer,A=s.getRangeFormatElement(h),D=s.getRangeFormatElement(w),I=s.isCell(A),O=s.isCell(D),F=d.commonAncestorContainer;if((I&&!A.previousElementSibling&&!A.parentElement.previousElementSibling||O&&!D.nextElementSibling&&!D.parentElement.nextElementSibling)&&A!==D)if(!I)s.removeItem(s.getParentElement(D,function(ee){return F===ee.parentNode}));else if(!O)s.removeItem(s.getParentElement(A,function(ee){return F===ee.parentNode}));else return s.removeItem(s.getParentElement(A,function(ee){return F===ee.parentNode})),c.nativeFocus(),!0;const $=h.nodeType===1?s.getParentElement(h,".se-component"):null,z=w.nodeType===1?s.getParentElement(w,".se-component"):null;return $&&s.removeItem($),z&&s.removeItem(z),!1},onPaste_wysiwyg:function(d){const h=s.isIE?l.clipboardData:d.clipboardData;return h?v._dataTransferAction("paste",d,h):!0},_setClipboardComponent:function(d,h,w){d.preventDefault(),d.stopPropagation(),w.setData("text/html",h.component.outerHTML)},onCopy_wysiwyg:function(d){const h=s.isIE?l.clipboardData:d.clipboardData;if(typeof y.onCopy=="function"&&y.onCopy(d,h,c)===!1)return d.preventDefault(),d.stopPropagation(),!1;const w=c.currentFileComponentInfo;w&&!s.isIE&&(v._setClipboardComponent(d,w,h),s.addClass(w.component,"se-component-copy"),l.setTimeout(function(){s.removeClass(w.component,"se-component-copy")},150))},onSave_wysiwyg:function(d){if(typeof y.onSave=="function"){y.onSave(d,c);return}},onCut_wysiwyg:function(d){const h=s.isIE?l.clipboardData:d.clipboardData;if(typeof y.onCut=="function"&&y.onCut(d,h,c)===!1)return d.preventDefault(),d.stopPropagation(),!1;const w=c.currentFileComponentInfo;w&&!s.isIE&&(v._setClipboardComponent(d,w,h),s.removeItem(w.component),c.controllersOff()),l.setTimeout(function(){c.history.push(!1)})},onDrop_wysiwyg:function(d){if(c.isReadOnly||s.isIE)return d.preventDefault(),d.stopPropagation(),!1;const h=d.dataTransfer;return h?(v._setDropLocationSelection(d),c.removeNode(),document.body.contains(c.currentControllerTarget)||c.controllersOff(),v._dataTransferAction("drop",d,h)):!0},_setDropLocationSelection:function(d){const h={startContainer:null,startOffset:null,endContainer:null,endOffset:null};let w=null;if(d.rangeParent?(h.startContainer=d.rangeParent,h.startOffset=d.rangeOffset,h.endContainer=d.rangeParent,h.endOffset=d.rangeOffset):c._wd.caretRangeFromPoint?w=c._wd.caretRangeFromPoint(d.clientX,d.clientY):w=c.getRange(),w&&(h.startContainer=w.startContainer,h.startOffset=w.startOffset,h.endContainer=w.endContainer,h.endOffset=w.endOffset),h.startContainer===h.endContainer){const A=s.getParentElement(h.startContainer,s.isComponent);A&&(h.startContainer=A,h.startOffset=0,h.endContainer=A,h.endOffset=0)}c.setRange(h.startContainer,h.startOffset,h.endContainer,h.endOffset)},_dataTransferAction:function(d,h,w){let A,D;if(s.isIE){A=w.getData("Text");const I=c.getRange(),O=s.createElement("DIV"),F={sc:I.startContainer,so:I.startOffset,ec:I.endContainer,eo:I.endOffset};return O.setAttribute("contenteditable",!0),O.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",n.element.relative.appendChild(O),O.focus(),l.setTimeout(function(){D=O.innerHTML,s.removeItem(O),c.setRange(F.sc,F.so,F.ec,F.eo),v._setClipboardData(d,h,A,D,w)}),!0}else if(A=w.getData("text/plain"),D=w.getData("text/html"),v._setClipboardData(d,h,A,D,w)===!1)return h.preventDefault(),h.stopPropagation(),!1},_setClipboardData:function(d,h,w,A,D){const I=/class=["']*Mso(Normal|List)/i.test(A)||/content=["']*Word.Document/i.test(A)||/content=["']*OneNote.File/i.test(A)||/content=["']*Excel.Sheet/i.test(A);!A?A=s._HTMLConvertor(w).replace(/\n/g,"<br>"):(A=A.replace(/^<html>\r?\n?<body>\r?\n?\x3C!--StartFragment--\>|\x3C!--EndFragment-->\r?\n?<\/body\>\r?\n?<\/html>$/g,""),I&&(A=A.replace(/\n/g," "),w=w.replace(/\n/g," ")),A=c.cleanHTML(A,c.pasteTagsWhitelistRegExp,c.pasteTagsBlacklistRegExp));const F=c._charCount(c._charTypeHTML?A:w);if(d==="paste"&&typeof y.onPaste=="function"){const z=y.onPaste(h,A,F,c);if(z===!1)return!1;if(typeof z=="string"){if(!z)return!1;A=z}}if(d==="drop"&&typeof y.onDrop=="function"){const z=y.onDrop(h,A,F,c);if(z===!1)return!1;if(typeof z=="string"){if(!z)return!1;A=z}}const $=D.files;if($.length>0&&!I)return/^image/.test($[0].type)&&c.plugins.image&&y.insertImage($),!1;if(!F)return!1;if(A)return y.insertHTML(A,!0,!1),!1},onMouseMove_wysiwyg:function(d){if(c.isDisabled||c.isReadOnly)return!1;const h=s.getParentElement(d.target,s.isComponent),w=c._lineBreaker.style;if(h&&!c.currentControllerName){const A=n.element;let D=0,I=A.wysiwyg;do D+=I.scrollTop,I=I.parentElement;while(I&&!/^(BODY|HTML)$/i.test(I.nodeName));const O=A.wysiwyg.scrollTop,F=v._getEditorOffsets(null),$=s.getOffset(h,A.wysiwygFrame).top+O,z=d.pageY+D+(i.iframe&&!i.toolbarContainer?A.toolbar.offsetHeight:0),ee=$+(i.iframe?D:F.top),me=s.isListCell(h.parentNode);let ie="",pe="";if((me?!h.previousSibling:!s.isFormatElement(h.previousElementSibling))&&z<ee+20)pe=$,ie="t";else if((me?!h.nextSibling:!s.isFormatElement(h.nextElementSibling))&&z>ee+h.offsetHeight-20)pe=$+h.offsetHeight,ie="b";else{w.display="none";return}c._variable._lineBreakComp=h,c._variable._lineBreakDir=ie,w.top=pe-O+"px",c._lineBreakerButton.style.left=s.getOffset(h).left+h.offsetWidth/2-15+"px",w.display="block"}else w.display!=="none"&&(w.display="none")},_enterPrevent:function(d){d.preventDefault(),s.isMobile&&c.__focusTemp.focus()},_onMouseDown_lineBreak:function(d){d.preventDefault()},_onLineBreak:function(d){d.preventDefault();const h=c._variable._lineBreakComp,w=this?this:c._variable._lineBreakDir,A=s.isListCell(h.parentNode),D=s.createElement(A?"BR":s.isCell(h.parentNode)?"DIV":i.defaultTag);if(A||(D.innerHTML="<br>"),c._charTypeHTML&&!c.checkCharCount(D.outerHTML,"byte-html"))return;h.parentNode.insertBefore(D,w==="t"?h:h.nextSibling),c._lineBreaker.style.display="none",c._variable._lineBreakComp=null;const I=A?D:D.firstChild;c.setRange(I,1,I,1),c.history.push(!1)},_resizeObserver:null,_toolbarObserver:null,_addEvent:function(){const d=i.iframe?c._ww:n.element.wysiwyg;s.isResizeObserverSupported&&(this._resizeObserver=new l.ResizeObserver(function(h){c.__callResizeFunction(-1,h[0])})),n.element.toolbar.addEventListener("mousedown",v._buttonsEventHandler,!1),n.element._menuTray.addEventListener("mousedown",v._buttonsEventHandler,!1),n.element.toolbar.addEventListener("click",v.onClick_toolbar,!1),d.addEventListener("mousedown",v.onMouseDown_wysiwyg,!1),d.addEventListener("click",v.onClick_wysiwyg,!1),d.addEventListener(s.isIE?"textinput":"input",v.onInput_wysiwyg,!1),d.addEventListener("keydown",v.onKeyDown_wysiwyg,!1),d.addEventListener("keyup",v.onKeyUp_wysiwyg,!1),d.addEventListener("paste",v.onPaste_wysiwyg,!1),d.addEventListener("copy",v.onCopy_wysiwyg,!1),d.addEventListener("cut",v.onCut_wysiwyg,!1),d.addEventListener("drop",v.onDrop_wysiwyg,!1),d.addEventListener("scroll",v.onScroll_wysiwyg,!1),d.addEventListener("focus",v.onFocus_wysiwyg,!1),d.addEventListener("blur",v.onBlur_wysiwyg,!1),v._lineBreakerBind={a:v._onLineBreak.bind(""),t:v._onLineBreak.bind("t"),b:v._onLineBreak.bind("b")},d.addEventListener("mousemove",v.onMouseMove_wysiwyg,!1),c._lineBreakerButton.addEventListener("mousedown",v._onMouseDown_lineBreak,!1),c._lineBreakerButton.addEventListener("click",v._lineBreakerBind.a,!1),n.element.lineBreaker_t.addEventListener("mousedown",v._lineBreakerBind.t,!1),n.element.lineBreaker_b.addEventListener("mousedown",v._lineBreakerBind.b,!1),d.addEventListener("touchstart",v.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),d.addEventListener("touchend",v.onClick_wysiwyg,{passive:!0,useCapture:!1}),i.height==="auto"&&!i.codeMirrorEditor&&(n.element.code.addEventListener("keydown",v._codeViewAutoHeight,!1),n.element.code.addEventListener("keyup",v._codeViewAutoHeight,!1),n.element.code.addEventListener("paste",v._codeViewAutoHeight,!1)),n.element.resizingBar&&(/\d+/.test(i.height)&&i.resizeEnable?n.element.resizingBar.addEventListener("mousedown",v.onMouseDown_resizingBar,!1):s.addClass(n.element.resizingBar,"se-resizing-none")),v._setResponsiveToolbar(),s.isResizeObserverSupported&&(this._toolbarObserver=new l.ResizeObserver(c.resetResponsiveToolbar)),l.addEventListener("resize",v.onResize_window,!1),i.stickyToolbar>-1&&l.addEventListener("scroll",v.onScroll_window,!1)},_removeEvent:function(){const d=i.iframe?c._ww:n.element.wysiwyg;n.element.toolbar.removeEventListener("mousedown",v._buttonsEventHandler),n.element._menuTray.removeEventListener("mousedown",v._buttonsEventHandler),n.element.toolbar.removeEventListener("click",v.onClick_toolbar),d.removeEventListener("mousedown",v.onMouseDown_wysiwyg),d.removeEventListener("click",v.onClick_wysiwyg),d.removeEventListener(s.isIE?"textinput":"input",v.onInput_wysiwyg),d.removeEventListener("keydown",v.onKeyDown_wysiwyg),d.removeEventListener("keyup",v.onKeyUp_wysiwyg),d.removeEventListener("paste",v.onPaste_wysiwyg),d.removeEventListener("copy",v.onCopy_wysiwyg),d.removeEventListener("cut",v.onCut_wysiwyg),d.removeEventListener("drop",v.onDrop_wysiwyg),d.removeEventListener("scroll",v.onScroll_wysiwyg),d.removeEventListener("mousemove",v.onMouseMove_wysiwyg),c._lineBreakerButton.removeEventListener("mousedown",v._onMouseDown_lineBreak),c._lineBreakerButton.removeEventListener("click",v._lineBreakerBind.a),n.element.lineBreaker_t.removeEventListener("mousedown",v._lineBreakerBind.t),n.element.lineBreaker_b.removeEventListener("mousedown",v._lineBreakerBind.b),v._lineBreakerBind=null,d.removeEventListener("touchstart",v.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),d.removeEventListener("touchend",v.onClick_wysiwyg,{passive:!0,useCapture:!1}),d.removeEventListener("focus",v.onFocus_wysiwyg),d.removeEventListener("blur",v.onBlur_wysiwyg),n.element.code.removeEventListener("keydown",v._codeViewAutoHeight),n.element.code.removeEventListener("keyup",v._codeViewAutoHeight),n.element.code.removeEventListener("paste",v._codeViewAutoHeight),n.element.resizingBar&&n.element.resizingBar.removeEventListener("mousedown",v.onMouseDown_resizingBar),v._resizeObserver&&(v._resizeObserver.unobserve(n.element.wysiwygFrame),v._resizeObserver=null),v._toolbarObserver&&(v._toolbarObserver.unobserve(n.element._toolbarShadow),v._toolbarObserver=null),l.removeEventListener("resize",v.onResize_window),l.removeEventListener("scroll",v.onScroll_window)},_setResponsiveToolbar:function(){if(a.length===0){a=null;return}v._responsiveCurrentSize="default";const d=v._responsiveButtonSize=[],h=v._responsiveButtons={default:a[0]};for(let w=1,A=a.length,D,I;w<A;w++)I=a[w],D=I[0]*1,d.push(D),h[D]=I[1];d.sort(function(w,A){return w-A}).unshift("default")}},y={core:c,util:s,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onCopy:null,onCut:null,onFocus:null,onBlur:null,onChange:null,onSave:null,onDrop:null,onPaste:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,onResizeEditor:null,onSetToolbarButtons:null,setToolbarButtons:function(d){c.submenuOff(),c.containerOff(),c.moreLayerOff();const h=nS._createToolBar(o,d,c.plugins,i);a=h.responsiveButtons,v._setResponsiveToolbar(),n.element.toolbar.replaceChild(h._buttonTray,n.element._buttonTray);const w=rS(n.element.originElement,c._getConstructed(n.element),i);n.element=w.element,n.tool=w.tool,i.iframe&&(n.element.wysiwyg=c._wd.body),c._recoverButtonStates(),c._cachingButtons(),c.history._resetCachingButton(),c.effectNode=null,c.hasFocus&&v._applyTagEffects(),c.isReadOnly&&s.setDisabledButtons(!0,c.resizingDisabledButtons),typeof y.onSetToolbarButtons=="function"&&y.onSetToolbarButtons(h._buttonTray.querySelectorAll("button"),c)},setOptions:function(d){v._removeEvent(),c._resetComponents(),s.removeClass(c._styleCommandMap.showBlocks,"active"),s.removeClass(c._styleCommandMap.codeView,"active"),c._variable.isCodeView=!1,c._iframeAuto=null,c.plugins=d.plugins||c.plugins;const h=[i,d].reduce(function(I,O){for(let F in O)if(s.hasOwn(O,F))if(F==="plugins"&&O[F]&&I[F]){let $=I[F],z=O[F];$=$.length?$:l.Object.keys($).map(function(ee){return $[ee]}),z=z.length?z:l.Object.keys(z).map(function(ee){return z[ee]}),I[F]=z.filter(function(ee){return $.indexOf(ee)===-1}).concat($)}else I[F]=O[F];return I},{}),w=n.element,A=w.wysiwyg.innerHTML,D=nS._setOptions(h,n,i);D.callButtons&&(e=D.callButtons,c.initPlugins={}),D.plugins&&(c.plugins=t=D.plugins),w._menuTray.children.length===0&&(this._menuTray={}),a=D.toolbar.responsiveButtons,c.options=i=h,c.lang=r=i.lang,i.iframe&&w.wysiwygFrame.addEventListener("load",function(){s._setIframeDocument(this,i),c._setOptionsInit(w,A)}),w.editorArea.appendChild(w.wysiwygFrame),i.iframe||c._setOptionsInit(w,A)},setDefaultStyle:function(d){const h=i._editorStyles=s._setDefaultOptionStyle(i,d),w=n.element;w.topArea.style.cssText=h.top,w.code.style.cssText=i._editorStyles.frame,w.code.style.display="none",i.height==="auto"?w.code.style.overflow="hidden":w.code.style.overflow="",i.iframe?(w.wysiwygFrame.style.cssText=h.frame,w.wysiwyg.style.cssText=h.editor):w.wysiwygFrame.style.cssText=h.frame+h.editor},noticeOpen:function(d){c.notice.open.call(c,d)},noticeClose:function(){c.notice.close.call(c)},save:function(){const d=c.getContents(!1);n.element.originElement.value=d,v.onSave_wysiwyg(d,c)},getContext:function(){return n},getContents:function(d){return c.getContents(d)},getText:function(){return n.element.wysiwyg.textContent},getCharCount:function(d){return d=typeof d=="string"?d:i.charCounterType,c.getCharLength(c._charTypeHTML?n.element.wysiwyg.innerHTML:n.element.wysiwyg.textContent,d)},getImagesInfo:function(){return n.image?n.image._infoList:[]},getFilesInfo:function(d){return n[d]?n[d]._infoList:[]},insertImage:function(d){!c.plugins.image||!d||(c.initPlugins.image?c.plugins.image.submitAction.call(c,d):c.callPlugin("image",c.plugins.image.submitAction.bind(c,d),null),c.focus())},insertHTML:function(d,h,w,A){if(n.element.wysiwygFrame.contains(c.getSelection().focusNode)||c.focus(),typeof d=="string"){h||(d=c.cleanHTML(d,null,null));try{if(s.isListCell(s.getFormatElement(c.getSelectionNode(),null))){const pe=o.createRange().createContextualFragment(d).childNodes;c._isFormatData(pe)&&(d=c._convertListCell(pe))}const I=o.createRange().createContextualFragment(d).childNodes;if(w){const ie=c._charTypeHTML?"outerHTML":"textContent";let pe="";for(let be=0,Ve=I.length;be<Ve;be++)pe+=I[be][ie];if(!c.checkCharCount(pe,null))return}let O,F,$,z,ee;for(;O=I[0];){if(z&&z.nodeType===3&&F&&F.nodeType===1&&s.isBreak(O)){z=O,s.removeItem(O);continue}$=c.insertNode(O,F,!1),F=$.container||$,ee||(ee=$),z=O}z.nodeType===3&&F.nodeType===1&&(F=z);const me=F.nodeType===3?$.endOffset||F.textContent.length:F.childNodes.length;A?c.setRange(ee.container||ee,ee.startOffset||0,F,me):c.setRange(F,me,F,me)}catch(D){if(c.isDisabled||c.isReadOnly)return;console.warn("[SUNEDITOR.insertHTML.fail] "+D),c.execCommand("insertHTML",!1,d)}}else if(s.isComponent(d))c.insertComponent(d,!1,w,!1);else{let D=null;(s.isFormatElement(d)||s.isMedia(d))&&(D=s.getFormatElement(c.getSelectionNode(),null)),c.insertNode(d,D,w)}c.effectNode=null,c.focus(),c.history.push(!1)},setContents:function(d){c.setContents(d)},appendContents:function(d){const h=c.convertContentsForEditor(d);if(c._variable.isCodeView)c._setCodeView(c._getCodeView()+`
`+c.convertHTMLForCodeView(h,!1));else{const w=s.createElement("DIV");w.innerHTML=h;const A=n.element.wysiwyg,D=w.children;for(let I=0,O=D.length;I<O;I++)D[I]&&A.appendChild(D[I])}c.history.push(!1)},readOnly:function(d){c.isReadOnly=d,s.setDisabledButtons(!!d,c.resizingDisabledButtons),d?(c.controllersOff(),c.submenuActiveButton&&c.submenuActiveButton.disabled&&c.submenuOff(),c._moreLayerActiveButton&&c._moreLayerActiveButton.disabled&&c.moreLayerOff(),c.containerActiveButton&&c.containerActiveButton.disabled&&c.containerOff(),c.modalForm&&c.plugins.dialog.close.call(c),n.element.code.setAttribute("readOnly","true"),s.addClass(n.element.wysiwygFrame,"se-read-only")):(n.element.code.removeAttribute("readOnly"),s.removeClass(n.element.wysiwygFrame,"se-read-only")),i.codeMirrorEditor&&i.codeMirrorEditor.setOption("readOnly",!!d)},disable:function(){this.toolbar.disable(),this.wysiwyg.disable()},disabled:function(){this.disable()},enable:function(){this.toolbar.enable(),this.wysiwyg.enable()},enabled:function(){this.enable()},show:function(){const d=n.element.topArea.style;d.display==="none"&&(d.display=i.display)},hide:function(){n.element.topArea.style.display="none"},destroy:function(){c.submenuOff(),c.containerOff(),c.controllersOff(),c.notice&&c.notice.close.call(c),c.modalForm&&c.plugins.dialog.close.call(c),c.history._destroy(),v._removeEvent(),s.removeItem(n.element.toolbar),s.removeItem(n.element.topArea);for(let d in c.functions)s.hasOwn(c,d)&&delete c.functions[d];for(let d in c)s.hasOwn(c,d)&&delete c[d];for(let d in v)s.hasOwn(v,d)&&delete v[d];for(let d in n)s.hasOwn(n,d)&&delete n[d];for(let d in e)s.hasOwn(e,d)&&delete e[d];for(let d in this)s.hasOwn(this,d)&&delete this[d]},toolbar:{disable:function(){c.submenuOff(),c.moreLayerOff(),c.containerOff(),n.tool.cover.style.display="block"},disabled:function(){this.disable()},enable:function(){n.tool.cover.style.display="none"},enabled:function(){this.enable()},show:function(){c._isInline?v._showToolbarInline():(n.element.toolbar.style.display="",n.element._stickyDummy.style.display=""),v.onResize_window()},hide:function(){c._isInline?v._hideToolbar():(n.element.toolbar.style.display="none",n.element._stickyDummy.style.display="none"),v.onResize_window()}},wysiwyg:{disable:function(){c.controllersOff(),c.modalForm&&c.plugins.dialog.close.call(c),n.element.wysiwyg.setAttribute("contenteditable",!1),c.isDisabled=!0,i.codeMirrorEditor?i.codeMirrorEditor.setOption("readOnly",!0):n.element.code.setAttribute("disabled","disabled")},enable:function(){n.element.wysiwyg.setAttribute("contenteditable",!0),c.isDisabled=!1,i.codeMirrorEditor?i.codeMirrorEditor.setOption("readOnly",!1):n.element.code.removeAttribute("disabled")}}};c.functions=y,c.options=i;let k=n.element,x=k.originElement,R=k.topArea;return x.style.display="none",R.style.display="block",i.iframe&&k.wysiwygFrame.addEventListener("load",function(){s._setIframeDocument(this,i),c._editorInit(!1,i.value),i.value=null}),typeof x.nextElementSibling=="object"?x.parentNode.insertBefore(R,x.nextElementSibling):x.parentNode.appendChild(R),k.editorArea.appendChild(k.wysiwygFrame),k=x=R=null,i.iframe||(c._editorInit(!1,i.value),i.value=null),y}const Bst={init:function(n){return{create:(function(e,t){return this.create(e,t,n)}).bind(this)}},create:function(n,e,t){ln._propertiesInit(),typeof e!="object"&&(e={}),t&&(e=[t,e].reduce(function(a,o){for(let l in o)if(ln.hasOwn(o,l))if(l==="plugins"&&o[l]&&a[l]){let s=a[l],f=o[l];s=s.length?s:Object.keys(s).map(function(c){return s[c]}),f=f.length?f:Object.keys(f).map(function(c){return f[c]}),a[l]=f.filter(function(c){return s.indexOf(c)===-1}).concat(s)}else a[l]=o[l];return a},{}));const r=typeof n=="string"?document.getElementById(n):n;if(!r)throw Error(typeof n=="string"?'[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+n+'")':"[SUNEDITOR.create.fail] suneditor requires textarea's element or id value");const i=nS.init(r,e);if(i.constructed._top.id&&document.getElementById(i.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+i.constructed._top.id+'")');return Qde(rS(r,i.constructed,i.options),i.pluginCallButtons,i.plugins,i.options.lang,e,i._responsiveButtons)}};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:fR,setPrototypeOf:PM,isFrozen:ehe,getPrototypeOf:the,getOwnPropertyDescriptor:nhe}=Object;let{freeze:aa,seal:Do,create:dR}=Object,{apply:iS,construct:aS}=typeof Reflect<"u"&&Reflect;aa||(aa=function(e){return e});Do||(Do=function(e){return e});iS||(iS=function(e,t,r){return e.apply(t,r)});aS||(aS=function(e,t){return new e(...t)});const Cm=oa(Array.prototype.forEach),rhe=oa(Array.prototype.lastIndexOf),FM=oa(Array.prototype.pop),ep=oa(Array.prototype.push),ihe=oa(Array.prototype.splice),Ym=oa(String.prototype.toLowerCase),H_=oa(String.prototype.toString),zM=oa(String.prototype.match),tp=oa(String.prototype.replace),ahe=oa(String.prototype.indexOf),ohe=oa(String.prototype.trim),is=oa(Object.prototype.hasOwnProperty),Xi=oa(RegExp.prototype.test),np=she(TypeError);function oa(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return iS(n,e,r)}}function she(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return aS(n,t)}}function Mn(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ym;PM&&PM(n,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const a=t(i);a!==i&&(ehe(e)||(e[r]=a),i=a)}n[i]=!0}return n}function lhe(n){for(let e=0;e<n.length;e++)is(n,e)||(n[e]=null);return n}function wl(n){const e=dR(null);for(const[t,r]of fR(n))is(n,t)&&(Array.isArray(r)?e[t]=lhe(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=wl(r):e[t]=r);return e}function rp(n,e){for(;n!==null;){const r=nhe(n,e);if(r){if(r.get)return oa(r.get);if(typeof r.value=="function")return oa(r.value)}n=the(n)}function t(){return null}return t}const HM=aa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),q_=aa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U_=aa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uhe=aa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),V_=aa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),che=aa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),qM=aa(["#text"]),UM=aa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$_=aa(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),VM=aa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xm=aa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fhe=Do(/\{\{[\w\W]*|[\w\W]*\}\}/gm),dhe=Do(/<%[\w\W]*|[\w\W]*%>/gm),hhe=Do(/\$\{[\w\W]*/gm),phe=Do(/^data-[\-\w.\u00B7-\uFFFF]+$/),vhe=Do(/^aria-[\-\w]+$/),hR=Do(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ghe=Do(/^(?:\w+script|data):/i),mhe=Do(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pR=Do(/^html$/i),yhe=Do(/^[a-z][.\w]*(-[.\w]+)+$/i);var $M=Object.freeze({__proto__:null,ARIA_ATTR:vhe,ATTR_WHITESPACE:mhe,CUSTOM_ELEMENT:yhe,DATA_ATTR:phe,DOCTYPE_NAME:pR,ERB_EXPR:dhe,IS_ALLOWED_URI:hR,IS_SCRIPT_OR_DATA:ghe,MUSTACHE_EXPR:fhe,TMPLIT_EXPR:hhe});const ip={element:1,text:3,progressingInstruction:7,comment:8,document:9},bhe=function(){return typeof window>"u"?null:window},whe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));const a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},WM=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function vR(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bhe();const e=T=>vR(T);if(e.version="3.2.6",e.removed=[],!n||!n.document||n.document.nodeType!==ip.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const r=t,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:l,Element:s,NodeFilter:f,NamedNodeMap:c=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:v,DOMParser:y,trustedTypes:k}=n,x=s.prototype,R=rp(x,"cloneNode"),d=rp(x,"remove"),h=rp(x,"nextSibling"),w=rp(x,"childNodes"),A=rp(x,"parentNode");if(typeof o=="function"){const T=t.createElement("template");T.content&&T.content.ownerDocument&&(t=T.content.ownerDocument)}let D,I="";const{implementation:O,createNodeIterator:F,createDocumentFragment:$,getElementsByTagName:z}=t,{importNode:ee}=r;let me=WM();e.isSupported=typeof fR=="function"&&typeof A=="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ie,ERB_EXPR:pe,TMPLIT_EXPR:be,DATA_ATTR:Ve,ARIA_ATTR:Ue,IS_SCRIPT_OR_DATA:Ge,ATTR_WHITESPACE:Be,CUSTOM_ELEMENT:Je}=$M;let{IS_ALLOWED_URI:ye}=$M,Me=null;const we=Mn({},[...HM,...q_,...U_,...V_,...qM]);let Fe=null;const ke=Mn({},[...UM,...$_,...VM,...xm]);let Ae=Object.seal(dR(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ee=null,Ce=null,ve=!0,ge=!0,fe=!1,Re=!0,We=!1,it=!0,ht=!1,xt=!1,Dt=!1,Yt=!1,Mt=!1,on=!1,Wt=!0,fn=!1;const Zt="user-content-";let gn=!0,En=!1,$t={},Rn=null;const bt=Mn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let mt=null;const Et=Mn({},["audio","video","img","source","image","track"]);let Ft=null;const Gt=Mn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Nn="http://www.w3.org/1998/Math/MathML",hn="http://www.w3.org/2000/svg",an="http://www.w3.org/1999/xhtml";let Qt=an,lr=!1,Hn=null;const Er=Mn({},[Nn,hn,an],H_);let fr=Mn({},["mi","mo","mn","ms","mtext"]),dr=Mn({},["annotation-xml"]);const Qn=Mn({},["title","style","font","a","script"]);let ar=null;const Ar=["application/xhtml+xml","text/html"],se="text/html";let he=null,Oe=null;const Xe=t.createElement("form"),te=function(M){return M instanceof RegExp||M instanceof Function},ne=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Oe&&Oe===M)){if((!M||typeof M!="object")&&(M={}),M=wl(M),ar=Ar.indexOf(M.PARSER_MEDIA_TYPE)===-1?se:M.PARSER_MEDIA_TYPE,he=ar==="application/xhtml+xml"?H_:Ym,Me=is(M,"ALLOWED_TAGS")?Mn({},M.ALLOWED_TAGS,he):we,Fe=is(M,"ALLOWED_ATTR")?Mn({},M.ALLOWED_ATTR,he):ke,Hn=is(M,"ALLOWED_NAMESPACES")?Mn({},M.ALLOWED_NAMESPACES,H_):Er,Ft=is(M,"ADD_URI_SAFE_ATTR")?Mn(wl(Gt),M.ADD_URI_SAFE_ATTR,he):Gt,mt=is(M,"ADD_DATA_URI_TAGS")?Mn(wl(Et),M.ADD_DATA_URI_TAGS,he):Et,Rn=is(M,"FORBID_CONTENTS")?Mn({},M.FORBID_CONTENTS,he):bt,Ee=is(M,"FORBID_TAGS")?Mn({},M.FORBID_TAGS,he):wl({}),Ce=is(M,"FORBID_ATTR")?Mn({},M.FORBID_ATTR,he):wl({}),$t=is(M,"USE_PROFILES")?M.USE_PROFILES:!1,ve=M.ALLOW_ARIA_ATTR!==!1,ge=M.ALLOW_DATA_ATTR!==!1,fe=M.ALLOW_UNKNOWN_PROTOCOLS||!1,Re=M.ALLOW_SELF_CLOSE_IN_ATTR!==!1,We=M.SAFE_FOR_TEMPLATES||!1,it=M.SAFE_FOR_XML!==!1,ht=M.WHOLE_DOCUMENT||!1,Yt=M.RETURN_DOM||!1,Mt=M.RETURN_DOM_FRAGMENT||!1,on=M.RETURN_TRUSTED_TYPE||!1,Dt=M.FORCE_BODY||!1,Wt=M.SANITIZE_DOM!==!1,fn=M.SANITIZE_NAMED_PROPS||!1,gn=M.KEEP_CONTENT!==!1,En=M.IN_PLACE||!1,ye=M.ALLOWED_URI_REGEXP||hR,Qt=M.NAMESPACE||an,fr=M.MATHML_TEXT_INTEGRATION_POINTS||fr,dr=M.HTML_INTEGRATION_POINTS||dr,Ae=M.CUSTOM_ELEMENT_HANDLING||{},M.CUSTOM_ELEMENT_HANDLING&&te(M.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=M.CUSTOM_ELEMENT_HANDLING.tagNameCheck),M.CUSTOM_ELEMENT_HANDLING&&te(M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),M.CUSTOM_ELEMENT_HANDLING&&typeof M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ae.allowCustomizedBuiltInElements=M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),We&&(ge=!1),Mt&&(Yt=!0),$t&&(Me=Mn({},qM),Fe=[],$t.html===!0&&(Mn(Me,HM),Mn(Fe,UM)),$t.svg===!0&&(Mn(Me,q_),Mn(Fe,$_),Mn(Fe,xm)),$t.svgFilters===!0&&(Mn(Me,U_),Mn(Fe,$_),Mn(Fe,xm)),$t.mathMl===!0&&(Mn(Me,V_),Mn(Fe,VM),Mn(Fe,xm))),M.ADD_TAGS&&(Me===we&&(Me=wl(Me)),Mn(Me,M.ADD_TAGS,he)),M.ADD_ATTR&&(Fe===ke&&(Fe=wl(Fe)),Mn(Fe,M.ADD_ATTR,he)),M.ADD_URI_SAFE_ATTR&&Mn(Ft,M.ADD_URI_SAFE_ATTR,he),M.FORBID_CONTENTS&&(Rn===bt&&(Rn=wl(Rn)),Mn(Rn,M.FORBID_CONTENTS,he)),gn&&(Me["#text"]=!0),ht&&Mn(Me,["html","head","body"]),Me.table&&(Mn(Me,["tbody"]),delete Ee.tbody),M.TRUSTED_TYPES_POLICY){if(typeof M.TRUSTED_TYPES_POLICY.createHTML!="function")throw np('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof M.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw np('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');D=M.TRUSTED_TYPES_POLICY,I=D.createHTML("")}else D===void 0&&(D=whe(k,i)),D!==null&&typeof I=="string"&&(I=D.createHTML(""));aa&&aa(M),Oe=M}},G=Mn({},[...q_,...U_,...uhe]),V=Mn({},[...V_,...che]),Y=function(M){let q=A(M);(!q||!q.tagName)&&(q={namespaceURI:Qt,tagName:"template"});const X=Ym(M.tagName),oe=Ym(q.tagName);return Hn[M.namespaceURI]?M.namespaceURI===hn?q.namespaceURI===an?X==="svg":q.namespaceURI===Nn?X==="svg"&&(oe==="annotation-xml"||fr[oe]):!!G[X]:M.namespaceURI===Nn?q.namespaceURI===an?X==="math":q.namespaceURI===hn?X==="math"&&dr[oe]:!!V[X]:M.namespaceURI===an?q.namespaceURI===hn&&!dr[oe]||q.namespaceURI===Nn&&!fr[oe]?!1:!V[X]&&(Qn[X]||!G[X]):!!(ar==="application/xhtml+xml"&&Hn[M.namespaceURI]):!1},K=function(M){ep(e.removed,{element:M});try{A(M).removeChild(M)}catch{d(M)}},de=function(M,q){try{ep(e.removed,{attribute:q.getAttributeNode(M),from:q})}catch{ep(e.removed,{attribute:null,from:q})}if(q.removeAttribute(M),M==="is")if(Yt||Mt)try{K(q)}catch{}else try{q.setAttribute(M,"")}catch{}},qe=function(M){let q=null,X=null;if(Dt)M="<remove></remove>"+M;else{const ze=zM(M,/^[\r\n\t ]+/);X=ze&&ze[0]}ar==="application/xhtml+xml"&&Qt===an&&(M='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+M+"</body></html>");const oe=D?D.createHTML(M):M;if(Qt===an)try{q=new y().parseFromString(oe,ar)}catch{}if(!q||!q.documentElement){q=O.createDocument(Qt,"template",null);try{q.documentElement.innerHTML=lr?I:oe}catch{}}const Te=q.body||q.documentElement;return M&&X&&Te.insertBefore(t.createTextNode(X),Te.childNodes[0]||null),Qt===an?z.call(q,ht?"html":"body")[0]:ht?q.documentElement:Te},et=function(M){return F.call(M.ownerDocument||M,M,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},Ne=function(M){return M instanceof v&&(typeof M.nodeName!="string"||typeof M.textContent!="string"||typeof M.removeChild!="function"||!(M.attributes instanceof c)||typeof M.removeAttribute!="function"||typeof M.setAttribute!="function"||typeof M.namespaceURI!="string"||typeof M.insertBefore!="function"||typeof M.hasChildNodes!="function")},_e=function(M){return typeof l=="function"&&M instanceof l};function Ze(T,M,q){Cm(T,X=>{X.call(e,M,q,Oe)})}const nt=function(M){let q=null;if(Ze(me.beforeSanitizeElements,M,null),Ne(M))return K(M),!0;const X=he(M.nodeName);if(Ze(me.uponSanitizeElement,M,{tagName:X,allowedTags:Me}),it&&M.hasChildNodes()&&!_e(M.firstElementChild)&&Xi(/<[/\w!]/g,M.innerHTML)&&Xi(/<[/\w!]/g,M.textContent)||M.nodeType===ip.progressingInstruction||it&&M.nodeType===ip.comment&&Xi(/<[/\w]/g,M.data))return K(M),!0;if(!Me[X]||Ee[X]){if(!Ee[X]&&Ht(X)&&(Ae.tagNameCheck instanceof RegExp&&Xi(Ae.tagNameCheck,X)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(X)))return!1;if(gn&&!Rn[X]){const oe=A(M)||M.parentNode,Te=w(M)||M.childNodes;if(Te&&oe){const ze=Te.length;for(let Ke=ze-1;Ke>=0;--Ke){const ft=R(Te[Ke],!0);ft.__removalCount=(M.__removalCount||0)+1,oe.insertBefore(ft,h(M))}}}return K(M),!0}return M instanceof s&&!Y(M)||(X==="noscript"||X==="noembed"||X==="noframes")&&Xi(/<\/no(script|embed|frames)/i,M.innerHTML)?(K(M),!0):(We&&M.nodeType===ip.text&&(q=M.textContent,Cm([ie,pe,be],oe=>{q=tp(q,oe," ")}),M.textContent!==q&&(ep(e.removed,{element:M.cloneNode()}),M.textContent=q)),Ze(me.afterSanitizeElements,M,null),!1)},wt=function(M,q,X){if(Wt&&(q==="id"||q==="name")&&(X in t||X in Xe))return!1;if(!(ge&&!Ce[q]&&Xi(Ve,q))){if(!(ve&&Xi(Ue,q))){if(!Fe[q]||Ce[q]){if(!(Ht(M)&&(Ae.tagNameCheck instanceof RegExp&&Xi(Ae.tagNameCheck,M)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(M))&&(Ae.attributeNameCheck instanceof RegExp&&Xi(Ae.attributeNameCheck,q)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(q))||q==="is"&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&Xi(Ae.tagNameCheck,X)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(X))))return!1}else if(!Ft[q]){if(!Xi(ye,tp(X,Be,""))){if(!((q==="src"||q==="xlink:href"||q==="href")&&M!=="script"&&ahe(X,"data:")===0&&mt[M])){if(!(fe&&!Xi(Ge,tp(X,Be,"")))){if(X)return!1}}}}}}return!0},Ht=function(M){return M!=="annotation-xml"&&zM(M,Je)},J=function(M){Ze(me.beforeSanitizeAttributes,M,null);const{attributes:q}=M;if(!q||Ne(M))return;const X={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Fe,forceKeepAttr:void 0};let oe=q.length;for(;oe--;){const Te=q[oe],{name:ze,namespaceURI:Ke,value:ft}=Te,pt=he(ze),kt=ft;let Rt=ze==="value"?kt:ohe(kt);if(X.attrName=pt,X.attrValue=Rt,X.keepAttr=!0,X.forceKeepAttr=void 0,Ze(me.uponSanitizeAttribute,M,X),Rt=X.attrValue,fn&&(pt==="id"||pt==="name")&&(de(ze,M),Rt=Zt+Rt),it&&Xi(/((--!?|])>)|<\/(style|title)/i,Rt)){de(ze,M);continue}if(X.forceKeepAttr)continue;if(!X.keepAttr){de(ze,M);continue}if(!Re&&Xi(/\/>/i,Rt)){de(ze,M);continue}We&&Cm([ie,pe,be],qn=>{Rt=tp(Rt,qn," ")});const mn=he(M.nodeName);if(!wt(mn,pt,Rt)){de(ze,M);continue}if(D&&typeof k=="object"&&typeof k.getAttributeType=="function"&&!Ke)switch(k.getAttributeType(mn,pt)){case"TrustedHTML":{Rt=D.createHTML(Rt);break}case"TrustedScriptURL":{Rt=D.createScriptURL(Rt);break}}if(Rt!==kt)try{Ke?M.setAttributeNS(Ke,ze,Rt):M.setAttribute(ze,Rt),Ne(M)?K(M):FM(e.removed)}catch{de(ze,M)}}Ze(me.afterSanitizeAttributes,M,null)},U=function T(M){let q=null;const X=et(M);for(Ze(me.beforeSanitizeShadowDOM,M,null);q=X.nextNode();)Ze(me.uponSanitizeShadowNode,q,null),nt(q),J(q),q.content instanceof a&&T(q.content);Ze(me.afterSanitizeShadowDOM,M,null)};return e.sanitize=function(T){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=null,X=null,oe=null,Te=null;if(lr=!T,lr&&(T="<!-->"),typeof T!="string"&&!_e(T))if(typeof T.toString=="function"){if(T=T.toString(),typeof T!="string")throw np("dirty is not a string, aborting")}else throw np("toString is not a function");if(!e.isSupported)return T;if(xt||ne(M),e.removed=[],typeof T=="string"&&(En=!1),En){if(T.nodeName){const ft=he(T.nodeName);if(!Me[ft]||Ee[ft])throw np("root node is forbidden and cannot be sanitized in-place")}}else if(T instanceof l)q=qe("<!---->"),X=q.ownerDocument.importNode(T,!0),X.nodeType===ip.element&&X.nodeName==="BODY"||X.nodeName==="HTML"?q=X:q.appendChild(X);else{if(!Yt&&!We&&!ht&&T.indexOf("<")===-1)return D&&on?D.createHTML(T):T;if(q=qe(T),!q)return Yt?null:on?I:""}q&&Dt&&K(q.firstChild);const ze=et(En?T:q);for(;oe=ze.nextNode();)nt(oe),J(oe),oe.content instanceof a&&U(oe.content);if(En)return T;if(Yt){if(Mt)for(Te=$.call(q.ownerDocument);q.firstChild;)Te.appendChild(q.firstChild);else Te=q;return(Fe.shadowroot||Fe.shadowrootmode)&&(Te=ee.call(r,Te,!0)),Te}let Ke=ht?q.outerHTML:q.innerHTML;return ht&&Me["!doctype"]&&q.ownerDocument&&q.ownerDocument.doctype&&q.ownerDocument.doctype.name&&Xi(pR,q.ownerDocument.doctype.name)&&(Ke="<!DOCTYPE "+q.ownerDocument.doctype.name+`>
`+Ke),We&&Cm([ie,pe,be],ft=>{Ke=tp(Ke,ft," ")}),D&&on?D.createHTML(Ke):Ke},e.setConfig=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ne(T),xt=!0},e.clearConfig=function(){Oe=null,xt=!1},e.isValidAttribute=function(T,M,q){Oe||ne({});const X=he(T),oe=he(M);return wt(X,oe,q)},e.addHook=function(T,M){typeof M=="function"&&ep(me[T],M)},e.removeHook=function(T,M){if(M!==void 0){const q=rhe(me[T],M);return q===-1?void 0:ihe(me[T],q,1)[0]}return FM(me[T])},e.removeHooks=function(T){me[T]=[]},e.removeAllHooks=function(){me=WM()},e}var Pst=vR(),Zm={exports:{}},Che=Zm.exports,GM;function xhe(){return GM||(GM=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("SUNEDITOR_LANG a window with a document");return t(r)}})(typeof window<"u"?window:Che,function(e,t){const r={code:"zh_cn",toolbar:{default:"é»è®¤",save:"ä¿å­",font:"å­ä½",formats:"æ ¼å¼",fontSize:"å­å·",bold:"ç²ä½",underline:"ä¸åçº¿",italic:"æä½",strike:"å é¤çº¿",subscript:"ä¸æ ",superscript:"ä¸æ ",removeFormat:"æ¸é¤æ ¼å¼",fontColor:"å­ä½é¢è²",hiliteColor:"èæ¯é¢è²",indent:"å¢å ç¼©è¿",outdent:"åå°ç¼©è¿",align:"å¯¹é½æ¹å¼",alignLeft:"å·¦å¯¹é½",alignRight:"å³å¯¹é½",alignCenter:"å±ä¸­",alignJustify:"ä¸¤ç«¯å¯¹é½",list:"åè¡¨",orderList:"æåºåè¡¨",unorderList:"æ åºåè¡¨",horizontalRule:"æ°´å¹³çº¿",hr_solid:"å®çº¿",hr_dotted:"ç¹çº¿",hr_dashed:"èçº¿",table:"è¡¨æ ¼",link:"è¶é¾æ¥",math:"æ°å­¦",image:"å¾ç",video:"è§é¢",audio:"é³è®¯",fullScreen:"å¨å±",showBlocks:"æ¾ç¤ºååºå",codeView:"ä»£ç è§å¾",undo:"æ¤æ¶",redo:"æ¢å¤",preview:"é¢è§",print:"æå°",tag_p:"æ®µè½",tag_div:"æ­£æ (DIV)",tag_h:"æ é¢",tag_blockquote:"å¼ç¨",tag_pre:"ä»£ç ",template:"æ¨¡æ¿",lineHeight:"è¡é«",paragraphStyle:"æ®µè½æ ·å¼",textStyle:"æå­æ ·å¼",imageGallery:"å¾çåº",dir_ltr:"å·¦å°å³",dir_rtl:"å³å°å·¦",mention:"æå°"},dialogBox:{linkBox:{title:"æå¥è¶é¾æ¥",url:"ç½å",text:"è¦æ¾ç¤ºçæå­",newWindowCheck:"å¨æ°æ ç­¾é¡µä¸­æå¼",downloadLinkCheck:"ä¸è½½é¾æ¥",bookmark:"ä¹¦ç­¾"},mathBox:{title:"æ°å­¦",inputLabel:"æ°å­¦ç¬¦å·",fontSizeLabel:"å­å·",previewLabel:"é¢è§"},imageBox:{title:"æå¥å¾ç",file:"ä¸ä¼ å¾ç",url:"å¾çç½å",altText:"æ¿æ¢æå­"},videoBox:{title:"æå¥è§é¢",file:"ä¸ä¼ å¾ç",url:"åµå¥ç½å, Youtube,Vimeo"},audioBox:{title:"æå¥é³é¢",file:"ä¸ä¼ å¾ç",url:"é³é¢ç½å"},browser:{tags:"æ ç­¾",search:"æç´¢"},caption:"æ é¢",close:"åæ¶",submitButton:"ç¡®å®",revertButton:"æ¢å¤",proportion:"æ¯ä¾",basic:"åºæ¬",left:"å·¦",right:"å³",center:"å±ä¸­",width:"å®½åº¦",height:"é«åº¦",size:"å°ºå¯¸",ratio:"æ¯"},controller:{edit:"ç¼è¾",unlink:"å»é¤é¾æ¥",remove:"å é¤",insertRowAbove:"å¨ä¸æ¹æå¥",insertRowBelow:"å¨ä¸æ¹æå¥",deleteRow:"å é¤è¡",insertColumnBefore:"å¨å·¦ä¾§æå¥",insertColumnAfter:"å¨å³ä¾§æå¥",deleteColumn:"å é¤å",fixedColumnWidth:"åºå®åå®½",resize100:"æ¾å¤§ 100%",resize75:"æ¾å¤§ 75%",resize50:"æ¾å¤§ 50%",resize25:"æ¾å¤§ 25%",mirrorHorizontal:"ç¿»è½¬å·¦å³",mirrorVertical:"ç¿»è½¬ä¸ä¸",rotateLeft:"åå·¦æè½¬",rotateRight:"åå³æè½¬",maxSize:"æå¤§å°ºå¯¸",minSize:"æå°å°ºå¯¸",tableHeader:"è¡¨æ ¼æ é¢",mergeCells:"åå¹¶ååæ ¼",splitCells:"åå²ååæ ¼",HorizontalSplit:"æ°´å¹³åå²",VerticalSplit:"åç´åå²"},menu:{spaced:"é´éå¼",bordered:"è¾¹ççº¿",neon:"éè¹ç¯",translucent:"åéæ",shadow:"é´å½±",code:"ä»£ç "}};return typeof t>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"zh_cn",{enumerable:!0,writable:!0,configurable:!0,value:r})),r})}(Zm)),Zm.exports}var khe=xhe();const Fst=Oo(khe);var Km={exports:{}},_he=Km.exports,jM;function The(){return jM||(jM=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("SUNEDITOR_LANG a window with a document");return t(r)}})(typeof window<"u"?window:_he,function(e,t){const r={code:"ja",toolbar:{default:"ããã©ã«ã",save:"ä¿å­",font:"ãã©ã³ã",formats:"æ®µè½å½¢å¼",fontSize:"ãµã¤ãº",bold:"å¤ªå­",underline:"ä¸ç·",italic:"ã¤ã¿ãªãã¯",strike:"åãæ¶ãç·",subscript:"ä¸ä»ã",superscript:"ä¸ä»ã",removeFormat:"å½¢å¼ãåé¤",fontColor:"æå­è²",hiliteColor:"æå­ã®èæ¯è²",indent:"ã¤ã³ãã³ã",outdent:"ã¤ã³ãã³ã",align:"ã½ã¼ã",alignLeft:"å·¦æã",alignRight:"å³æã",alignCenter:"ä¸­å¤®æã",alignJustify:"ä¸¡ç«¯æã",list:"ãªã¹ã",orderList:"æ°å¤ããªãã",unorderList:"åå½¢ããªãã",horizontalRule:"æ°´å¹³ç·ãæ¿å¥",hr_solid:"å®ç·",hr_dotted:"ç¹ç·",hr_dashed:"ããã·ã¥",table:"ãã¼ãã«",link:"ãªã³ã¯",math:"æ°å­¦",image:"ç»å",video:"åç»",audio:"ãªã¼ãã£ãª",fullScreen:"ãã«ã¹ã¯ãªã¼ã³",showBlocks:"ãã­ãã¯è¡¨ç¤º",codeView:"HTMLã®ç·¨é",undo:"åã«æ»ã",redo:"åå®è¡",preview:"ãã¬ãã¥ã¼",print:"å°å·",tag_p:"æ¬æ",tag_div:"åºæ¬ï¼DIVï¼",tag_h:"ã¿ã¤ãã«",tag_blockquote:"å¼ç¨",tag_pre:"ã³ã¼ã",template:"ãã³ãã¬ã¼ã",lineHeight:"è¡ã®é«ã",paragraphStyle:"æ®µè½ã¹ã¿ã¤ã«",textStyle:"ãã­ã¹ãã¹ã¿ã¤ã«",imageGallery:"ã¤ã¡ã¼ã¸ã®ã£ã©ãªã¼",dir_ltr:"å·¦ããå³ã¸",dir_rtl:"å³ããå·¦ã«",mention:"è¨åãã"},dialogBox:{linkBox:{title:"ãªã³ã¯ã®æ¿å¥",url:"ã¤ã³ã¿ã¼ãããã¢ãã¬ã¹",text:"ç»é¢ã®ãã­ã¹ã",newWindowCheck:"å¥ã¦ã£ã³ãã¦ã§éã",downloadLinkCheck:"ãã¦ã³ã­ã¼ããªã³ã¯",bookmark:"ããã¯ãã¼ã¯"},mathBox:{title:"æ°å­¦",inputLabel:"æ°å­¦è¡¨è¨",fontSizeLabel:"ãµã¤ãº",previewLabel:"ãã¬ãã¥ã¼"},imageBox:{title:"ç»åã®æ¿å¥",file:"ãã¡ã¤ã«ã®é¸æ",url:"ã¤ã¡ã¼ã¸ã¢ãã¬ã¹",altText:"ç½®ææå­å"},videoBox:{title:"åç»ãæ¿å¥",file:"ãã¡ã¤ã«ã®é¸æ",url:"ã¡ãã£ã¢åãè¾¼ã¿ã¢ãã¬ã¹, YouTube/Vimeo"},audioBox:{title:"ãªã¼ãã£ãªãæ¿å¥",file:"ãã¡ã¤ã«ã®é¸æ",url:"ãªã¼ãã£ãªã¢ãã¬ã¹"},browser:{tags:"ã¿ã°",search:"æ¢ã"},caption:"èª¬æä»ã",close:"éãã",submitButton:"ç¢ºèª",revertButton:"åã«æ»ã",proportion:"ã®å²åã«ã¹ã¿ãã¤ãº",basic:"åºæ¬",left:"å·¦",right:"å³",center:"ä¸­å¤®",width:"æ¨ª",height:"ç¸¦",size:"ãµã¤ãº",ratio:"æ¯ç"},controller:{edit:"ç·¨é",unlink:"ãªã³ã¯è§£é¤",remove:"åé¤",insertRowAbove:"ä¸ã«è¡ãæ¿å¥",insertRowBelow:"ä¸ã«è¡ãæ¿å¥",deleteRow:"è¡ã®åé¤",insertColumnBefore:"å·¦ã«åãæ¿å¥",insertColumnAfter:"å³ã«åãæ¿å¥",deleteColumn:"åãåé¤ãã",fixedColumnWidth:"åºå®åå¹",resize100:"100ï¼ ãµã¤ãº",resize75:"75ï¼ ãµã¤ãº",resize50:"50ï¼ ãµã¤ãº",resize25:"25ï¼ ãµã¤ãº",autoSize:"èªåãµã¤ãº",mirrorHorizontal:"å·¦å³åè»¢",mirrorVertical:"ä¸ä¸åè»¢",rotateLeft:"å·¦ã«åè»¢",rotateRight:"å³ã«åè»¢",maxSize:"æå¤§ãµã¤ãº",minSize:"æå°ãµã¤ãº",tableHeader:"è¡¨ã®ãããã¼",mergeCells:"ã»ã«ã®çµå",splitCells:"ã»ã«ãåå²",HorizontalSplit:"æ¨ªåå²",VerticalSplit:"åç´åå²"},menu:{spaced:"æå­éé",bordered:"å¢çç·",neon:"ããªã³",translucent:"åéæ",shadow:"å½±",code:"ã³ã¼ã"}};return typeof t>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ja",{enumerable:!0,writable:!0,configurable:!0,value:r})),r})}(Km)),Km.exports}var She=The();const zst=Oo(She);var Jm={exports:{}},Ehe=Jm.exports,YM;function Ahe(){return YM||(YM=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("SUNEDITOR_LANG a window with a document");return t(r)}})(typeof window<"u"?window:Ehe,function(e,t){const r={code:"de",toolbar:{default:"Standard",save:"Speichern",font:"Schriftart",formats:"Format",fontSize:"SchriftgrÃ¶Ãe",bold:"Fett",underline:"Unterstrichen",italic:"Kursiv",strike:"Durchgestrichen",subscript:"Tiefgestellt",superscript:"Hochgestellt",removeFormat:"Format entfernen",fontColor:"Schriftfarbe",hiliteColor:"Farbe fÃ¼r Hervorhebungen",indent:"Einzug vergrÃ¶Ãern",outdent:"Einzug verkleinern",align:"Ausrichtung",alignLeft:"Links ausrichten",alignRight:"Rechts ausrichten",alignCenter:"Zentriert ausrichten",alignJustify:"Blocksatz",list:"Liste",orderList:"Nummerierte Liste",unorderList:"AufzÃ¤hlung",horizontalRule:"Horizontale Linie",hr_solid:"Strich",hr_dotted:"Gepunktet",hr_dashed:"Gestrichelt",table:"Tabelle",link:"Link",math:"Mathematik",image:"Bild",video:"Video",audio:"Audio",fullScreen:"Vollbild",showBlocks:"Blockformatierungen anzeigen",codeView:"Quelltext anzeigen",undo:"RÃ¼ckgÃ¤ngig",redo:"Wiederholen",preview:"Vorschau",print:"Drucken",tag_p:"Absatz",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Zitat",tag_pre:"Quellcode",template:"Vorlage",lineHeight:"ZeilenhÃ¶he",paragraphStyle:"Absatzstil",textStyle:"Textstil",imageGallery:"Bildergalerie",dir_ltr:"Links nach rechts",dir_rtl:"Rechts nach links",mention:"ErwÃ¤hnen"},dialogBox:{linkBox:{title:"Link einfÃ¼gen",url:"Link-URL",text:"Link-Text",newWindowCheck:"In neuem Fenster anzeigen",downloadLinkCheck:"Download-Link",bookmark:"Lesezeichen"},mathBox:{title:"Mathematik",inputLabel:"Mathematische Notation",fontSizeLabel:"SchriftgrÃ¶Ãe",previewLabel:"Vorschau"},imageBox:{title:"Bild einfÃ¼gen",file:"Datei auswÃ¤hlen",url:"Bild-URL",altText:"Alternativer Text"},videoBox:{title:"Video einfÃ¼gen",file:"Datei auswÃ¤hlen",url:"Video-URL, YouTube/Vimeo"},audioBox:{title:"Audio einfÃ¼gen",file:"Datei auswÃ¤hlen",url:"Audio-URL"},browser:{tags:"Stichworte",search:"Suche"},caption:"Beschreibung eingeben",close:"SchlieÃen",submitButton:"Ãbernehmen",revertButton:"RÃ¼ckgÃ¤ngig",proportion:"SeitenverhÃ¤ltnis beibehalten",basic:"Standard",left:"Links",right:"Rechts",center:"Zentriert",width:"Breite",height:"HÃ¶he",size:"GrÃ¶Ãe",ratio:"VerhÃ¤ltnis"},controller:{edit:"Bearbeiten",unlink:"Link entfernen",remove:"LÃ¶schen",insertRowAbove:"Zeile oberhalb einfÃ¼gen",insertRowBelow:"Zeile unterhalb einfÃ¼gen",deleteRow:"Zeile lÃ¶schen",insertColumnBefore:"Spalte links einfÃ¼gen",insertColumnAfter:"Spalte rechts einfÃ¼gen",deleteColumn:"Spalte lÃ¶schen",fixedColumnWidth:"Feste Spaltenbreite",resize100:"Zoom 100%",resize75:"Zoom 75%",resize50:"Zoom 50%",resize25:"Zoom 25%",autoSize:"Automatische GrÃ¶Ãenanpassung",mirrorHorizontal:"Horizontal spiegeln",mirrorVertical:"Vertikal spiegeln",rotateLeft:"Nach links drehen",rotateRight:"Nach rechts drehen",maxSize:"Maximale GrÃ¶Ãe",minSize:"MindestgrÃ¶Ãe",tableHeader:"TabellenÃ¼berschrift",mergeCells:"Zellen verbinden",splitCells:"Zellen teilen",HorizontalSplit:"Horizontal teilen",VerticalSplit:"Vertikal teilen"},menu:{spaced:"Buchstabenabstand",bordered:"Umrandet",neon:"Neon",translucent:"Durchscheinend",shadow:"Schatten",code:"Quellcode"}};return typeof t>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"de",{enumerable:!0,writable:!0,configurable:!0,value:r})),r})}(Jm)),Jm.exports}var Mhe=Ahe();const Hst=Oo(Mhe);var Xm={exports:{}},Nhe=Xm.exports,ZM;function Dhe(){return ZM||(ZM=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("SUNEDITOR_LANG a window with a document");return t(r)}})(typeof window<"u"?window:Nhe,function(e,t){const r={code:"ko",toolbar:{default:"ê¸°ë³¸ê°",save:"ì ì¥",font:"ê¸ê¼´",formats:"ë¬¸ë¨ íì",fontSize:"í¬ê¸°",bold:"êµµê²",underline:"ë°ì¤",italic:"ê¸°ì¸ì",strike:"ì·¨ìì ",subscript:"ìë ì²¨ì",superscript:"ì ì²¨ì",removeFormat:"íì ì ê±°",fontColor:"ê¸ìì",hiliteColor:"ë°°ê²½ì",indent:"ë¤ì¬ì°ê¸°",outdent:"ë´ì´ì°ê¸°",align:"ì ë ¬",alignLeft:"ì¼ìª½ ì ë ¬",alignRight:"ì¤ë¥¸ìª½ ì ë ¬",alignCenter:"ê°ì´ë° ì ë ¬",alignJustify:"ììª½ ì ë ¬",list:"ë¦¬ì¤í¸",orderList:"ì«ìí ë¦¬ì¤í¸",unorderList:"ìí ë¦¬ì¤í¸",horizontalRule:"ê°ë¡ ì¤ ì½ì",hr_solid:"ì¤ì ",hr_dotted:"ì ì ",hr_dashed:"ëì",table:"íì´ë¸",link:"ë§í¬",math:"ìì",image:"ì´ë¯¸ì§",video:"ëìì",audio:"ì¤ëì¤",fullScreen:"ì ì²´ íë©´",showBlocks:"ë¸ë¡ ë³´ê¸°",codeView:"HTML í¸ì§",undo:"ì¤í ì·¨ì",redo:"ë¤ì ì¤í",preview:"ë¯¸ë¦¬ë³´ê¸°",print:"ì¸ì",tag_p:"ë³¸ë¬¸",tag_div:"ê¸°ë³¸ (DIV)",tag_h:"ì ëª©",tag_blockquote:"ì¸ì©ë¬¸",tag_pre:"ì½ë",template:"ííë¦¿",lineHeight:"ì¤ ëì´",paragraphStyle:"ë¬¸ë¨ ì¤íì¼",textStyle:"ê¸ì ì¤íì¼",imageGallery:"ì´ë¯¸ì§ ê°¤ë¬ë¦¬",dir_ltr:"ì¼ìª½ìì ì¤ë¥¸ìª½",dir_rtl:"ì¤ë¥¸ìª½ìì ì¼ìª½",mention:"ë©ì"},dialogBox:{linkBox:{title:"ë§í¬ ì½ì",url:"ì¸í°ë· ì£¼ì",text:"íë©´ íì¤í¸",newWindowCheck:"ìì°½ì¼ë¡ ì´ê¸°",downloadLinkCheck:"ë¤ì´ë¡ë ë§í¬",bookmark:"ë¶ë§í¬"},mathBox:{title:"ìì",inputLabel:"ìíì  íê¸°ë²",fontSizeLabel:"ê¸ì í¬ê¸°",previewLabel:"ë¯¸ë¦¬ë³´ê¸°"},imageBox:{title:"ì´ë¯¸ì§ ì½ì",file:"íì¼ ì í",url:"ì´ë¯¸ì§ ì£¼ì",altText:"ëì²´ ë¬¸ìì´"},videoBox:{title:"ëìì ì½ì",file:"íì¼ ì í",url:"ë¯¸ëì´ ìë² ë ì£¼ì, ì íë¸/ë¹ë©ì¤"},audioBox:{title:"ì¤ëì¤ ì½ì",file:"íì¼ ì í",url:"ì¤ëì¤ íì¼ ì£¼ì"},browser:{tags:"íê·¸",search:"ê²ì"},caption:"ì¤ëª ë£ê¸°",close:"ë«ê¸°",submitButton:"íì¸",revertButton:"ëëë¦¬ê¸°",proportion:"ë¹ì¨ ë§ì¶¤",basic:"ê¸°ë³¸",left:"ì¼ìª½",right:"ì¤ë¥¸ìª½",center:"ê°ì´ë°",width:"ê°ë¡",height:"ì¸ë¡",size:"í¬ê¸°",ratio:"ë¹ì¨"},controller:{edit:"í¸ì§",unlink:"ë§í¬ í´ì ",remove:"ì­ì ",insertRowAbove:"ìì í ì½ì",insertRowBelow:"ìëì í ì½ì",deleteRow:"í ì­ì ",insertColumnBefore:"ì¼ìª½ì ì´ ì½ì",insertColumnAfter:"ì¤ë¥¸ìª½ì ì´ ì½ì",deleteColumn:"ì´ ì­ì ",fixedColumnWidth:"ê³ ì  ë ì´ ëë¹",resize100:"100% í¬ê¸°",resize75:"75% í¬ê¸°",resize50:"50% í¬ê¸°",resize25:"25% í¬ê¸°",autoSize:"ìë í¬ê¸°",mirrorHorizontal:"ì¢ì° ë°ì ",mirrorVertical:"ìí ë°ì ",rotateLeft:"ì¼ìª½ì¼ë¡ íì ",rotateRight:"ì¤ë¥¸ìª½ì¼ë¡ íì ",maxSize:"ìµëí",minSize:"ìµìí",tableHeader:"íì´ë¸ ì ëª©",mergeCells:"ì ë³í©",splitCells:"ì ë¶í ",HorizontalSplit:"ê°ë¡ ë¶í ",VerticalSplit:"ì¸ë¡ ë¶í "},menu:{spaced:"ê¸ì ê°ê²©",bordered:"ê²½ê³ì ",neon:"ë¤ì¨",translucent:"ë°í¬ëª",shadow:"ê·¸ë¦¼ì",code:"ì½ë"}};return typeof t>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"ko",{enumerable:!0,writable:!0,configurable:!0,value:r})),r})}(Xm)),Xm.exports}var Lhe=Dhe();const qst=Oo(Lhe);var Qm={exports:{}},Ohe=Qm.exports,KM;function Rhe(){return KM||(KM=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("SUNEDITOR_LANG a window with a document");return t(r)}})(typeof window<"u"?window:Ohe,function(e,t){const r={code:"es",toolbar:{default:"Valor por defecto",save:"Guardar",font:"Fuente",formats:"Formato",fontSize:"TamaÃ±o de fuente",bold:"Negrita",underline:"Subrayado",italic:"Cursiva",strike:"Tachado",subscript:"SubÃ­ndice",superscript:"SuperÃ­ndice",removeFormat:"Eliminar formato",fontColor:"Color de fuente",hiliteColor:"Color de resaltado",indent:"MÃ¡s tabulaciÃ³n",outdent:"Menos tabulaciÃ³n",align:"Alinear",alignLeft:"Alinear a la izquierda",alignRight:"Alinear a la derecha",alignCenter:"Alinear al centro",alignJustify:"Justificar",list:"Lista",orderList:"Lista ordenada",unorderList:"Lista desordenada",horizontalRule:"Horizontal line",hr_solid:"LÃ­nea horizontal solida",hr_dotted:"LÃ­nea horizontal punteada",hr_dashed:"LÃ­nea horizontal discontinua",table:"Tabla",link:"Link",math:"MatemÃ¡ticas",image:"Imagen",video:"Video",audio:"Audio",fullScreen:"Pantalla completa",showBlocks:"Ver bloques",codeView:"Ver cÃ³digo fuente",undo:"UndoDeshacer Ãºltima acciÃ³n",redo:"Rehacer Ãºltima acciÃ³n",preview:"Vista previa",print:"Imprimir",tag_p:"PÃ¡rrafo",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Cita",tag_pre:"CÃ³digo",template:"Plantilla",lineHeight:"Altura de la lÃ­nea",paragraphStyle:"Estilo del parrafo",textStyle:"Estilo del texto",imageGallery:"GalerÃ­a de imÃ¡genes",dir_ltr:"De izquierda a derecha",dir_rtl:"De derecha a izquierda",mention:"Mencionar"},dialogBox:{linkBox:{title:"Insertar Link",url:"Â¿Hacia que URL lleva el link?",text:"Texto para mostrar",newWindowCheck:"Abrir en una nueva ventana",downloadLinkCheck:"Enlace de descarga",bookmark:"Marcador"},mathBox:{title:"MatemÃ¡ticas",inputLabel:"NotaciÃ³n MatemÃ¡tica",fontSizeLabel:"TamaÃ±o de fuente",previewLabel:"Vista previa"},imageBox:{title:"Insertar imagen",file:"Seleccionar desde los archivos",url:"URL de la imagen",altText:"Texto alternativo"},videoBox:{title:"Insertar Video",file:"Seleccionar desde los archivos",url:"Â¿URL del vÃ­deo? Youtube/Vimeo"},audioBox:{title:"Insertar Audio",file:"Seleccionar desde los archivos",url:"URL de la audio"},browser:{tags:"Etiquetas",search:"Buscar"},caption:"Insertar descripciÃ³n",close:"Cerrar",submitButton:"Enviar",revertButton:"revertir",proportion:"Restringir las proporciones",basic:"Basico",left:"Izquierda",right:"derecha",center:"Centro",width:"Ancho",height:"Alto",size:"TamaÃ±o",ratio:"ProporciÃ³n"},controller:{edit:"Editar",unlink:"Desvincular",remove:"RemoveQuitar",insertRowAbove:"Insertar fila arriba",insertRowBelow:"Insertar fila debajo",deleteRow:"Eliminar fila",insertColumnBefore:"Insertar columna antes",insertColumnAfter:"Insertar columna despuÃ©s",deleteColumn:"Eliminar columna",fixedColumnWidth:"Ancho de columna fijo",resize100:"Redimensionar 100%",resize75:"Redimensionar 75%",resize50:"Redimensionar 50%",resize25:"Redimensionar 25%",autoSize:"TamaÃ±o automÃ¡tico",mirrorHorizontal:"Espejo, Horizontal",mirrorVertical:"Espejo, Vertical",rotateLeft:"Girar a la izquierda",rotateRight:"Girar a la derecha",maxSize:"TamaÃ±o mÃ¡ximo",minSize:"TamaÃ±o minÃ­mo",tableHeader:"Encabezado de tabla",mergeCells:"Combinar celdas",splitCells:"Dividir celdas",HorizontalSplit:"DivisiÃ³n horizontal",VerticalSplit:"DivisiÃ³n vertical"},menu:{spaced:"Espaciado",bordered:"Bordeado",neon:"NeÃ³n",translucent:"TranslÃºcido",shadow:"Sombreado",code:"CÃ³digo"}};return typeof t>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"es",{enumerable:!0,writable:!0,configurable:!0,value:r})),r})}(Qm)),Qm.exports}var Ihe=Rhe();const Ust=Oo(Ihe),Bhe={name:"blockquote",display:"command",add:function(n,e){const t=n.context;t.blockquote={targetButton:e,tag:n.util.createElement("BLOCKQUOTE")}},active:function(n){if(!n)this.util.removeClass(this.context.blockquote.targetButton,"active");else if(/blockquote/i.test(n.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0;return!1},action:function(){const n=this.util.getParentElement(this.getSelectionNode(),"blockquote");n?this.detachRangeFormatElement(n,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}},Phe={name:"align",display:"submenu",add:function(n,e){const t=n.icons,r=n.context;r.align={targetButton:e,_itemMenu:null,_alignList:null,currentAlign:"",defaultDir:n.options.rtl?"right":"left",icons:{justify:t.align_justify,left:t.align_left,right:t.align_right,center:t.align_center}};let i=this.setSubmenu(n),a=r.align._itemMenu=i.querySelector("ul");a.addEventListener("click",this.pickup.bind(n)),r.align._alignList=a.querySelectorAll("li button"),n.initMenuTarget(this.name,e,i),i=null,a=null},setSubmenu:function(n){const e=n.lang,t=n.icons,r=n.util.createElement("DIV"),i=n.options.alignItems;let a="";for(let o=0,l,s;o<i.length;o++)l=i[o],s=e.toolbar["align"+l.charAt(0).toUpperCase()+l.slice(1)],a+='<li><button type="button" class="se-btn-list se-btn-align" data-value="'+l+'" title="'+s+'" aria-label="'+s+'"><span class="se-list-icon">'+t["align_"+l]+"</span>"+s+"</button></li>";return r.className="se-submenu se-list-layer se-list-align",r.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+a+"</ul></div>",r},active:function(n){const e=this.context.align,t=e.targetButton,r=t.firstElementChild;if(!n)this.util.changeElement(r,e.icons[e.defaultDir]),t.removeAttribute("data-focus");else if(this.util.isFormatElement(n)){const i=n.style.textAlign;if(i)return this.util.changeElement(r,e.icons[i]||e.icons[e.defaultDir]),t.setAttribute("data-focus",i),!0}return!1},on:function(){const n=this.context.align,e=n._alignList,t=n.targetButton.getAttribute("data-focus")||n.defaultDir;if(t!==n.currentAlign){for(let r=0,i=e.length;r<i;r++)t===e[r].getAttribute("data-value")?this.util.addClass(e[r],"active"):this.util.removeClass(e[r],"active");n.currentAlign=t}},exchangeDir:function(){const n=this.options.rtl?"right":"left";if(!this.context.align||this.context.align.defaultDir===n)return;this.context.align.defaultDir=n;let e=this.context.align._itemMenu,t=e.querySelector('[data-value="left"]'),r=e.querySelector('[data-value="right"]');if(t&&r){const i=t.parentElement,a=r.parentElement;i.appendChild(r),a.appendChild(t)}},pickup:function(n){n.preventDefault(),n.stopPropagation();let e=n.target,t=null;for(;!t&&!/UL/i.test(e.tagName);)t=e.getAttribute("data-value"),e=e.parentNode;if(!t)return;const r=this.context.align.defaultDir,i=this.getSelectedElements();for(let a=0,o=i.length;a<o;a++)this.util.setStyle(i[a],"textAlign",t===r?"":t);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}},Fhe={name:"font",display:"submenu",add:function(n,e){const t=n.context;t.font={targetText:e.querySelector(".txt"),targetTooltip:e.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let r=this.setSubmenu(n);r.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(n)),t.font._fontList=r.querySelectorAll("ul li button"),n.initMenuTarget(this.name,e,r),r=null},setSubmenu:function(n){const e=n.lang,t=n.util.createElement("DIV");t.className="se-submenu se-list-layer se-list-font-family";let r,i,a,o,l=n.options.font,s='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+e.toolbar.default+'" aria-label="'+e.toolbar.default+'">('+e.toolbar.default+")</button></li>";for(a=0,o=l.length;a<o;a++)r=l[a],i=r.split(",")[0],s+='<li><button type="button" class="se-btn-list" data-value="'+r+'" data-txt="'+i+'" title="'+i+'" aria-label="'+i+'" style="font-family:'+r+';">'+i+"</button></li>";return s+="</ul></div>",t.innerHTML=s,t},active:function(n){const e=this.context.font.targetText,t=this.context.font.targetTooltip;if(n){if(n.style&&n.style.fontFamily.length>0){const r=n.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(e,r),this.util.changeTxt(t,this.lang.toolbar.font+" ("+r+")"),!0}}else{const r=this.hasFocus?this.wwComputedStyle.fontFamily:this.lang.toolbar.font;this.util.changeTxt(e,r),this.util.changeTxt(t,this.hasFocus?this.lang.toolbar.font+(r?" ("+r+")":""):r)}return!1},on:function(){const n=this.context.font,e=n._fontList,t=n.targetText.textContent;if(t!==n.currentFont){for(let r=0,i=e.length;r<i;r++)t===(e[r].getAttribute("data-value")||"").replace(/'|"/g,"")?this.util.addClass(e[r],"active"):this.util.removeClass(e[r],"active");n.currentFont=t}},pickup:function(n){if(!/^BUTTON$/i.test(n.target.tagName))return!1;n.preventDefault(),n.stopPropagation();let e=n.target.getAttribute("data-value");if(e){const t=this.util.createElement("SPAN");/[\s\d\W]/.test(e)&&!/^['"].*['"]$/.test(e)&&(e='"'+e+'"'),t.style.fontFamily=e,this.nodeChange(t,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}},zhe={name:"fontSize",display:"submenu",add:function(n,e){const t=n.context;t.fontSize={targetText:e.querySelector(".txt"),_sizeList:null,currentSize:""};let r=this.setSubmenu(n),i=r.querySelector("ul");i.addEventListener("click",this.pickup.bind(n)),t.fontSize._sizeList=i.querySelectorAll("li button"),n.initMenuTarget(this.name,e,r),r=null,i=null},setSubmenu:function(n){const e=n.options,t=n.lang,r=n.util.createElement("DIV");r.className="se-submenu se-list-layer se-list-font-size";const i=e.fontSize?e.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];let a='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'" aria-label="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(let o=0,l=e.fontSizeUnit,s=i.length,f;o<s;o++)f=i[o],a+='<li><button type="button" class="se-btn-list" data-value="'+f+l+'" title="'+f+l+'" aria-label="'+f+l+'" style="font-size:'+f+l+';">'+f+"</button></li>";return a+="</ul></div>",r.innerHTML=a,r},active:function(n){if(!n)this.util.changeTxt(this.context.fontSize.targetText,this.hasFocus?this._convertFontSize.call(this,this.options.fontSizeUnit,this.wwComputedStyle.fontSize):this.lang.toolbar.fontSize);else if(n.style&&n.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,this._convertFontSize.call(this,this.options.fontSizeUnit,n.style.fontSize)),!0;return!1},on:function(){const n=this.context.fontSize,e=n._sizeList,t=n.targetText.textContent;if(t!==n.currentSize){for(let r=0,i=e.length;r<i;r++)t===e[r].getAttribute("data-value")?this.util.addClass(e[r],"active"):this.util.removeClass(e[r],"active");n.currentSize=t}},pickup:function(n){if(!/^BUTTON$/i.test(n.target.tagName))return!1;n.preventDefault(),n.stopPropagation();const e=n.target.getAttribute("data-value");if(e){const t=this.util.createElement("SPAN");t.style.fontSize=e,this.nodeChange(t,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}},gR={name:"colorPicker",add:function(n){const e=n.context;e.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]},e.colorPicker.colorListHTML=this.createColorList(n,this._makeColorList)},createColorList:function(n,e){const t=n.options,r=n.lang,i=!t.colorList||t.colorList.length===0?["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"]:t.colorList;let a=[],o='<div class="se-list-inner">';for(let l=0,s=i.length,f;l<s;l++)f=i[l],f&&(typeof f=="string"&&(a.push(f),l<s-1)||(a.length>0&&(o+='<div class="se-selector-color">'+e(a)+"</div>",a=[]),typeof f=="object"&&(o+='<div class="se-selector-color">'+e(f)+"</div>")));return o+='<form class="se-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+r.dialogBox.submitButton+'" aria-label="'+r.dialogBox.submitButton+'">'+n.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+r.toolbar.removeFormat+'" aria-label="'+r.toolbar.removeFormat+'">'+n.icons.erase+"</button></form></div>",o},_makeColorList:function(n){let e="";e+='<ul class="se-color-pallet">';for(let t=0,r=n.length,i;t<r;t++)i=n[t],typeof i=="string"&&(e+='<li><button type="button" data-value="'+i+'" title="'+i+'" aria-label="'+i+'" style="background-color:'+i+';"></button></li>');return e+="</ul>",e},init:function(n,e){const t=this.plugins.colorPicker;let r=e||t.getColorInNode.call(this,n)||this.context.colorPicker._defaultColor;r=t.isHexColor(r)?r:t.rgb2hex(r)||r;const i=this.context.colorPicker._colorList;if(i)for(let a=0,o=i.length;a<o;a++)r.toLowerCase()===i[a].getAttribute("data-value").toLowerCase()?this.util.addClass(i[a],"active"):this.util.removeClass(i[a],"active");t.setInputText.call(this,t.colorName2hex.call(this,r))},setCurrentColor:function(n){this.context.colorPicker._currentColor=n,this.context.colorPicker._colorInput.style.borderColor=n},setInputText:function(n){n=/^#/.test(n)?n:"#"+n,this.context.colorPicker._colorInput.value=n,this.plugins.colorPicker.setCurrentColor.call(this,n)},getColorInNode:function(n){let e="";const t=this.context.colorPicker._styleProperty;for(;n&&!this.util.isWysiwygDiv(n)&&e.length===0;)n.nodeType===1&&n.style[t]&&(e=n.style[t]),n=n.parentNode;return e},isHexColor:function(n){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(n)},rgb2hex:function(n){const e=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return e&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},colorName2hex:function(n){if(/^#/.test(n))return n;var e=this.util.createElement("div");e.style.display="none",e.style.color=n;var t=this._w.getComputedStyle(this._d.body.appendChild(e)).color.match(/\d+/g).map(function(r){return parseInt(r,10)});return this.util.removeItem(e),t.length>=3?"#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+t[2]).toString(16).substr(1):!1}},Hhe={name:"fontColor",display:"submenu",add:function(n,e){n.addModule([gR]);const t=n.context;t.fontColor={previewEl:null,colorInput:null,colorList:null};let r=this.setSubmenu(n);t.fontColor.colorInput=r.querySelector("._se_color_picker_input"),t.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(n)),r.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(n)),r.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(n)),r.addEventListener("click",this.pickup.bind(n)),t.fontColor.colorList=r.querySelectorAll("li button"),n.initMenuTarget(this.name,e,r),r=null},setSubmenu:function(n){const e=n.context.colorPicker.colorListHTML,t=n.util.createElement("DIV");return t.className="se-submenu se-list-layer",t.innerHTML=e,t},on:function(){const n=this.context.colorPicker,e=this.context.fontColor;n._colorInput=e.colorInput;const t=this.wwComputedStyle.color;n._defaultColor=t?this.plugins.colorPicker.isHexColor(t)?t:this.plugins.colorPicker.rgb2hex(t):"#333333",n._styleProperty="color",n._colorList=e.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(n){this.plugins.colorPicker.setCurrentColor.call(this,n.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(n){n.preventDefault(),n.stopPropagation(),this.plugins.fontColor.applyColor.call(this,n.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(n){if(!n)return;const e=this.util.createElement("SPAN");e.style.color=n,this.nodeChange(e,["color"],null,null),this.submenuOff()}},qhe={name:"hiliteColor",display:"submenu",add:function(n,e){n.addModule([gR]);const t=n.context;t.hiliteColor={previewEl:null,colorInput:null,colorList:null};let r=this.setSubmenu(n);t.hiliteColor.colorInput=r.querySelector("._se_color_picker_input"),t.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(n)),r.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(n)),r.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(n)),r.addEventListener("click",this.pickup.bind(n)),t.hiliteColor.colorList=r.querySelectorAll("li button"),n.initMenuTarget(this.name,e,r),r=null},setSubmenu:function(n){const e=n.context.colorPicker.colorListHTML,t=n.util.createElement("DIV");return t.className="se-submenu se-list-layer",t.innerHTML=e,t},on:function(){const n=this.context.colorPicker,e=this.context.hiliteColor;n._colorInput=e.colorInput;const t=this.wwComputedStyle.backgroundColor;n._defaultColor=t?this.plugins.colorPicker.isHexColor(t)?t:this.plugins.colorPicker.rgb2hex(t):"#ffffff",n._styleProperty="backgroundColor",n._colorList=e.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(n){this.plugins.colorPicker.setCurrentColor.call(this,n.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(n){n.preventDefault(),n.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,n.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(n){if(!n)return;const e=this.util.createElement("SPAN");e.style.backgroundColor=n,this.nodeChange(e,["background-color"],null,null),this.submenuOff()}},Uhe={name:"horizontalRule",display:"submenu",add:function(n,e){n.context.horizontalRule={currentHR:null};let t=this.setSubmenu(n);t.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(n)),n.initMenuTarget(this.name,e,t),t=null},setSubmenu:function(n){const e=n.lang,t=n.util.createElement("DIV"),r=n.options.hrItems||[{name:e.toolbar.hr_solid,class:"__se__solid"},{name:e.toolbar.hr_dashed,class:"__se__dashed"},{name:e.toolbar.hr_dotted,class:"__se__dotted"}];let i="";for(let a=0,o=r.length;a<o;a++)i+='<li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="'+r[a].class+'" title="'+r[a].name+'" aria-label="'+r[a].name+'"><hr'+(r[a].class?' class="'+r[a].class+'"':"")+(r[a].style?' style="'+r[a].style+'"':"")+"/></button></li>";return t.className="se-submenu se-list-layer se-list-line",t.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+i+"</ul></div>",t},active:function(n){if(!n)this.util.hasClass(this.context.horizontalRule.currentHR,"on")&&this.controllersOff();else if(/HR/i.test(n.nodeName))return this.context.horizontalRule.currentHR=n,this.util.hasClass(n,"on")||(this.util.addClass(n,"on"),this.controllersOn("hr",this.util.removeClass.bind(this.util,n,"on"))),!0;return!1},appendHr:function(n){return this.focus(),this.insertComponent(n.cloneNode(!1),!1,!0,!1)},horizontalRulePick:function(n){n.preventDefault(),n.stopPropagation();let e=n.target,t=e.getAttribute("data-command");for(;!t&&!/UL/i.test(e.tagName);)e=e.parentNode,t=e.getAttribute("data-command");if(!t)return;const r=this.plugins.horizontalRule.appendHr.call(this,e.firstElementChild);r&&(this.setRange(r,0,r,0),this.submenuOff())}},Vhe={name:"list",display:"submenu",add:function(n,e){const t=n.context;t.list={targetButton:e,_list:null,currentList:"",icons:{bullets:n.icons.list_bullets,number:n.icons.list_number}};let r=this.setSubmenu(n),i=r.querySelector("ul");i.addEventListener("click",this.pickup.bind(n)),t.list._list=i.querySelectorAll("li button"),n.initMenuTarget(this.name,e,r),r=null,i=null},setSubmenu:function(n){const e=n.lang,t=n.util.createElement("DIV");return t.className="se-submenu se-list-layer",t.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+e.toolbar.orderList+'" aria-label="'+e.toolbar.orderList+'">'+n.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+e.toolbar.unorderList+'" aria-label="'+e.toolbar.unorderList+'">'+n.icons.list_bullets+"</button></li></ul></div>",t},active:function(n){const e=this.context.list.targetButton,t=e.firstElementChild,r=this.util;if(r.isList(n)){const i=n.nodeName;return e.setAttribute("data-focus",i),r.addClass(e,"active"),/UL/i.test(i)?r.changeElement(t,this.context.list.icons.bullets):r.changeElement(t,this.context.list.icons.number),!0}else e.removeAttribute("data-focus"),r.changeElement(t,this.context.list.icons.number),r.removeClass(e,"active");return!1},on:function(){const n=this.context.list,e=n._list,t=n.targetButton.getAttribute("data-focus")||"";if(t!==n.currentList){for(let r=0,i=e.length;r<i;r++)t===e[r].getAttribute("data-command")?this.util.addClass(e[r],"active"):this.util.removeClass(e[r],"active");n.currentList=t}},editList:function(n,e,t){let r=this.getRange(),i=e||this.getSelectedElementsAndComponents(!1);if(i.length===0&&(e||(r=this.getRange_addLine(r,null),i=this.getSelectedElementsAndComponents(!1),i.length===0)))return;const a=this.util;a.sortByDepth(i,!0);let o=i[0],l=i[i.length-1],s=(a.isListCell(o)||a.isComponent(o))&&!o.previousElementSibling?o.parentNode.previousElementSibling:o.previousElementSibling,f=(a.isListCell(l)||a.isComponent(l))&&!l.nextElementSibling?l.parentNode.nextElementSibling:l.nextElementSibling;const c=r.collapsed,v={sc:r.startContainer,so:r.startContainer===r.endContainer&&a.onlyZeroWidthSpace(r.startContainer)&&r.startOffset===0&&r.endOffset===1?r.endOffset:r.startOffset,ec:r.endContainer,eo:r.endOffset};let y=null,k=!0;for(let x=0,R=i.length;x<R;x++)if(!a.isList(a.getRangeFormatElement(i[x],(function(d){return this.getRangeFormatElement(d)&&d!==i[x]}).bind(a)))){k=!1;break}if(k&&(!s||o.tagName!==s.tagName||n!==s.tagName.toUpperCase())&&(!f||l.tagName!==f.tagName||n!==f.tagName.toUpperCase())){if(t){for(let A=0,D=i.length;A<D;A++)for(let I=A-1;I>=0;I--)if(i[I].contains(i[A])){i.splice(A,1),A--,D--;break}}const x=a.getRangeFormatElement(o),R=x&&x.tagName===n;let d,h;const w=(function(A){return!this.isComponent(A)}).bind(a);R||(h=a.createElement(n));for(let A=0,D=i.length,I,O;A<D;A++)O=a.getRangeFormatElement(i[A],w),!(!O||!a.isList(O))&&(I?I!==O?(t&&a.isListCell(O.parentNode)?this.plugins.list._detachNested.call(this,d.f):y=this.detachRangeFormatElement(d.f[0].parentNode,d.f,h,!1,!0),O=i[A].parentNode,R||(h=a.createElement(n)),I=O,d={r:I,f:[a.getParentElement(i[A],"LI")]}):d.f.push(a.getParentElement(i[A],"LI")):(I=O,d={r:I,f:[a.getParentElement(i[A],"LI")]}),A===D-1&&(t&&a.isListCell(O.parentNode)?this.plugins.list._detachNested.call(this,d.f):y=this.detachRangeFormatElement(d.f[0].parentNode,d.f,h,!1,!0)))}else{const x=s&&s.parentNode,R=f&&f.parentNode;s=x&&!a.isWysiwygDiv(x)&&x.nodeName===n?x:s,f=R&&!a.isWysiwygDiv(R)&&R.nodeName===n?R:f;const d=s&&s.tagName===n,h=f&&f.tagName===n;let w=d?s:a.createElement(n),A=null,D=null,I=null;const O=(function(F){return!this.isComponent(F)&&!this.isList(F)}).bind(a);for(let F=0,$=i.length,z,ee,me,ie,pe,be,Ve,Ue,Ge;F<$;F++){if(ee=i[F],ee.childNodes.length===0&&!a._isIgnoreNodeChange(ee)){a.removeItem(ee);continue}if(ie=i[F+1],pe=ee.parentNode,be=ie?ie.parentNode:null,me=a.isListCell(ee),Ge=a.isRangeFormatElement(pe)?pe:null,Ve=me&&!a.isWysiwygDiv(pe)?pe.parentNode:pe,Ue=me&&!a.isWysiwygDiv(pe)?!ie||a.isListCell(Ve)?pe:pe.nextSibling:ee.nextSibling,z=a.createElement("LI"),a.copyFormatAttributes(z,ee),F===0&&v.sc===ee&&(v.sc=z),F===$-1&&v.ec===ee&&(v.ec=z),a.isComponent(ee)){const Be=/^HR$/i.test(ee.nodeName);Be||(z.innerHTML="<br>"),z.innerHTML+=ee.outerHTML,Be&&(z.innerHTML+="<br>")}else{const Be=ee.childNodes;for(;Be[0];)z.appendChild(Be[0])}w.appendChild(z),(!ie||Ve!==be||a.isRangeFormatElement(Ue))&&(A||(A=w),(!d||!ie||Ve!==be)&&!(ie&&a.isList(be)&&be===pe)&&w.parentNode!==Ve&&Ve.insertBefore(w,Ue)),a.removeItem(ee),d&&D===null&&(D=w.children.length-1),ie&&(a.getRangeFormatElement(be,O)!==a.getRangeFormatElement(pe,O)||a.isList(be)&&a.isList(pe)&&a.getElementDepth(be)!==a.getElementDepth(pe))&&(w=a.createElement(n)),Ge&&Ge.children.length===0&&a.removeItem(Ge)}D&&(A=A.children[D]),h&&(I=w.children.length-1,w.innerHTML+=f.innerHTML,w.children[I],a.removeItem(f))}return this.effectNode=null,c&&y||v},_detachNested:function(n){const e=n[0],t=n[n.length-1],r=t.nextElementSibling,i=e.parentNode,a=i.parentNode.nextElementSibling,o=i.parentNode.parentNode;for(let s=0,f=n.length;s<f;s++)o.insertBefore(n[s],a);if(r&&i.children.length>0){const s=i.cloneNode(!1),f=i.childNodes,c=this.util.getPositionIndex(r);for(;f[c];)s.appendChild(f[c]);t.appendChild(s)}i.children.length===0&&this.util.removeItem(i),this.util.mergeSameTags(o);const l=this.util.getEdgeChildNodes(e,t);return{cc:e.parentNode,sc:l.sc,ec:l.ec}},editInsideList:function(n,e){e=e||this.getSelectedElements().filter((function(o){return this.isListCell(o)}).bind(this.util));const t=e.length;if(t===0||!n&&!this.util.isListCell(e[0].previousElementSibling)&&!this.util.isListCell(e[t-1].nextElementSibling))return{sc:e[0],so:0,ec:e[t-1],eo:1};let r=e[0].parentNode,i=e[t-1],a=null;if(n){if(r!==i.parentNode&&this.util.isList(i.parentNode.parentNode)&&i.nextElementSibling)for(i=i.nextElementSibling;i;)e.push(i),i=i.nextElementSibling;a=this.plugins.list.editList.call(this,r.nodeName.toUpperCase(),e,!0)}else{let o=this.util.createElement(r.nodeName),l=e[0].previousElementSibling,s=i.nextElementSibling;const f={s:null,e:null,sl:r,el:r};for(let y=0,k=t,x;y<k;y++)x=e[y],x.parentNode!==r&&(this.plugins.list._insiedList.call(this,r,o,l,s,f),r=x.parentNode,o=this.util.createElement(r.nodeName)),l=x.previousElementSibling,s=x.nextElementSibling,o.appendChild(x);this.plugins.list._insiedList.call(this,r,o,l,s,f);const c=this.util.getNodeFromPath(f.s,f.sl),v=this.util.getNodeFromPath(f.e,f.el);a={sc:c,so:0,ec:v,eo:v.textContent.length}}return a},_insiedList:function(n,e,t,r,i){let a=!1;if(t&&e.tagName===t.tagName){const o=e.children;for(;o[0];)t.appendChild(o[0]);e=t,a=!0}if(r&&e.tagName===r.tagName){const o=r.children;for(;o[0];)e.appendChild(o[0]);const l=r.nextElementSibling;r.parentNode.removeChild(r),r=l}if(!a){this.util.isListCell(t)&&(n=t,r=null),n.insertBefore(e,r),i.s||(i.s=this.util.getNodePath(e.firstElementChild.firstChild,n,null),i.sl=n);const o=n.contains(i.sl)?this.util.getNodePath(i.sl,n):null;i.e=this.util.getNodePath(e.lastElementChild.firstChild,n,null),i.el=n,this.util.mergeSameTags(n,[i.s,i.e,o],!1),this.util.mergeNestedTags(n),o&&(i.sl=this.util.getNodeFromPath(o,n))}return e},pickup:function(n){n.preventDefault(),n.stopPropagation();let e=n.target,t="";for(;!t&&!/^UL$/i.test(e.tagName);)t=e.getAttribute("data-command"),e=e.parentNode;if(!t)return;const r=this.plugins.list.editList.call(this,t,null,!1);r&&this.setRange(r.sc,r.so,r.ec,r.eo),this.submenuOff(),this.history.push(!1)}},$he={name:"table",display:"submenu",add:function(n,e){const t=n.context;let r=t.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,_rtl:n.options.rtl,cellControllerTop:n.options.tableCellControllerPosition==="top",resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:n.lang.controller.maxSize,minText:n.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:n.icons.expansion,reduction:n.icons.reduction}},i=this.setSubmenu(n),a=i.querySelector(".se-controller-table-picker");r.tableHighlight=i.querySelector(".se-table-size-highlighted"),r.tableUnHighlight=i.querySelector(".se-table-size-unhighlighted"),r.tableDisplay=i.querySelector(".se-table-size-display"),n.options.rtl&&(r.tableHighlight.style.left=10*18-13+"px");let o=this.setController_table(n);r.tableController=o,r.resizeButton=o.querySelector("._se_table_resize"),r.resizeText=o.querySelector("._se_table_resize > span > span"),r.columnFixedButton=o.querySelector("._se_table_fixed_column"),r.headerButton=o.querySelector("._se_table_header");let l=this.setController_tableEditor(n,r.cellControllerTop);r.resizeDiv=l,r.splitMenu=l.querySelector(".se-btn-group-sub"),r.mergeButton=l.querySelector("._se_table_merge_button"),r.splitButton=l.querySelector("._se_table_split_button"),r.insertRowAboveButton=l.querySelector("._se_table_insert_row_a"),r.insertRowBelowButton=l.querySelector("._se_table_insert_row_b"),a.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(n,r)),a.addEventListener("click",this.appendTable.bind(n)),l.addEventListener("click",this.onClick_tableController.bind(n)),o.addEventListener("click",this.onClick_tableController.bind(n)),n.initMenuTarget(this.name,e,i),t.element.relative.appendChild(l),t.element.relative.appendChild(o),i=null,a=null,l=null,o=null,r=null},setSubmenu:function(n){const e=n.util.createElement("DIV");return e.className="se-submenu se-selector-table",e.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',e},setController_table:function(n){const e=n.lang,t=n.icons,r=n.util.createElement("DIV");return r.className="se-controller se-controller-table",r.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+t.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+t.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+t.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+t.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",r},setController_tableEditor:function(n,e){const t=n.lang,r=n.icons,i=n.util.createElement("DIV");return i.className="se-controller se-controller-table-cell",i.innerHTML=(e?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+r.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+r.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+r.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+r.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+r.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+r.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+r.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+r.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-table-split"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+t.controller.VerticalSplit+'" aria-label="'+t.controller.VerticalSplit+'">'+t.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+t.controller.HorizontalSplit+'" aria-label="'+t.controller.HorizontalSplit+'">'+t.controller.HorizontalSplit+"</li></ul></div></div></div>",i},appendTable:function(){const n=this.util.createElement("TABLE"),e=this.plugins.table.createCells,t=this.context.table._tableXY[0];let r=this.context.table._tableXY[1],i="<tbody>";for(;r>0;)i+="<tr>"+e.call(this,"td",t)+"</tr>",--r;if(i+="</tbody>",n.innerHTML=i,this.insertComponent(n,!1,!0,!1)){const o=n.querySelector("td div");this.setRange(o,0,o,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(n,e,t){if(n=n.toLowerCase(),t){const r=this.util.createElement(n);return r.innerHTML="<div><br></div>",r}else{let r="";for(;e>0;)r+="<"+n+"><div><br></div></"+n+">",e--;return r}},onMouseMove_tablePicker:function(n,e){e.stopPropagation();let t=this._w.Math.ceil(e.offsetX/18),r=this._w.Math.ceil(e.offsetY/18);t=t<1?1:t,r=r<1?1:r,n._rtl&&(n.tableHighlight.style.left=t*18-13+"px",t=11-t),n.tableHighlight.style.width=t+"em",n.tableHighlight.style.height=r+"em",this.util.changeTxt(n.tableDisplay,t+" x "+r),n._tableXY=[t,r]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;const n=this.context.table.tableHighlight.style,e=this.context.table.tableUnHighlight.style;n.width="1em",n.height="1em",e.width="10em",e.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){const n=this.context.table,e=this.plugins.table;if(e._removeEvents.call(this),e._selectedTable){const t=e._selectedTable.querySelectorAll(".se-table-selected-cell");for(let r=0,i=t.length;r<i;r++)this.util.removeClass(t[r],"se-table-selected-cell")}e._toggleEditor.call(this,!0),n._element=null,n._tdElement=null,n._trElement=null,n._trElements=null,n._tableXY=[],n._maxWidth=!0,n._fixedColumn=!1,n._physical_cellCnt=0,n._logical_cellCnt=0,n._rowCnt=0,n._rowIndex=0,n._physical_cellIndex=0,n._logical_cellIndex=0,n._current_colSpan=0,n._current_rowSpan=0,e._shift=!1,e._selectedCells=null,e._selectedTable=null,e._ref=null,e._fixedCell=null,e._selectedCell=null,e._fixedCellName=null},call_controller_tableEdit:function(n){const e=this.plugins.table,t=this.context.table;if(!this.getSelection().isCollapsed&&!e._selectedCell){this.controllersOff(),this.util.removeClass(n,"se-table-selected-cell");return}const r=t._element||this.plugins.table._selectedTable||this.util.getParentElement(n,"TABLE");t._maxWidth=this.util.hasClass(r,"se-table-size-100")||r.style.width==="100%"||!r.style.width&&!this.util.hasClass(r,"se-table-size-auto"),t._fixedColumn=this.util.hasClass(r,"se-table-layout-fixed")||r.style.tableLayout==="fixed",e.setTableStyle.call(this,t._maxWidth?"width|column":"width"),e.setPositionControllerTop.call(this,r),e.setPositionControllerDiv.call(this,n,e._shift),e._shift||this.controllersOn(t.resizeDiv,t.tableController,e.init.bind(this),n,"table")},setPositionControllerTop:function(n){this.setControllerPosition(this.context.table.tableController,n,"top",{left:0,top:0})},setPositionControllerDiv:function(n,e){const t=this.context.table,r=t.resizeDiv;this.plugins.table.setCellInfo.call(this,n,e),t.cellControllerTop?this.setControllerPosition(r,t._element,"top",{left:t.tableController.offsetWidth,top:0}):this.setControllerPosition(r,n,"bottom",{left:0,top:0})},setCellInfo:function(n,e){const t=this.context.table,r=t._element=this.plugins.table._selectedTable||this.util.getParentElement(n,"TABLE");if(/THEAD/i.test(r.firstElementChild.nodeName)?this.util.addClass(t.headerButton,"active"):this.util.removeClass(t.headerButton,"active"),e||t._physical_cellCnt===0){t._tdElement!==n&&(t._tdElement=n,t._trElement=n.parentNode);const i=t._trElements=r.rows,a=n.cellIndex;let o=0;for(let c=0,v=i[0].cells,y=i[0].cells.length;c<y;c++)o+=v[c].colSpan;const l=t._rowIndex=t._trElement.rowIndex;t._rowCnt=i.length,t._physical_cellCnt=t._trElement.cells.length,t._logical_cellCnt=o,t._physical_cellIndex=a,t._current_colSpan=t._tdElement.colSpan-1,t._current_rowSpan-t._trElement.cells[a].rowSpan-1;let s=[],f=[];for(let c=0,v,y;c<=l;c++){v=i[c].cells,y=0;for(let k=0,x=v.length,R,d,h,w;k<x;k++){if(R=v[k],d=R.colSpan-1,h=R.rowSpan-1,w=k+y,f.length>0)for(let A=0,D;A<f.length;A++)D=f[A],!(D.row>c)&&(w>=D.index?(y+=D.cs,w+=D.cs,D.rs-=1,D.row=c+1,D.rs<1&&(f.splice(A,1),A--)):k===x-1&&(D.rs-=1,D.row=c+1,D.rs<1&&(f.splice(A,1),A--)));if(c===l&&k===a){t._logical_cellIndex=w;break}h>0&&s.push({index:w,cs:d+1,rs:h,row:-1}),y+=d}f=f.concat(s).sort(function(k,x){return k.index-x.index}),s=[]}s=null,f=null}},editTable:function(n,e){const t=this.plugins.table,r=this.context.table,i=r._element,a=n==="row";if(a){const o=r._trElement.parentNode;if(/^THEAD$/i.test(o.nodeName)){if(e==="up")return;if(!o.nextElementSibling||!/^TBODY$/i.test(o.nextElementSibling.nodeName)){i.innerHTML+="<tbody><tr>"+t.createCells.call(this,"td",r._logical_cellCnt,!1)+"</tr></tbody>";return}}}if(t._ref){const o=r._tdElement,l=t._selectedCells;if(a)if(e)t.setCellInfo.call(this,e==="up"?l[0]:l[l.length-1],!0),t.editRow.call(this,e,o);else{let s=l[0].parentNode;const f=[l[0]];for(let c=1,v=l.length,y;c<v;c++)y=l[c],s!==y.parentNode&&(f.push(y),s=y.parentNode);for(let c=0,v=f.length;c<v;c++)t.setCellInfo.call(this,f[c],!0),t.editRow.call(this,e)}else{const s=l[0].parentNode;if(e){let f=null;for(let c=0,v=l.length-1;c<v;c++)if(s!==l[c+1].parentNode){f=l[c];break}t.setCellInfo.call(this,e==="left"?l[0]:f||l[0],!0),t.editCell.call(this,e,o)}else{const f=[l[0]];for(let c=1,v=l.length,y;c<v&&(y=l[c],s===y.parentNode);c++)f.push(y);for(let c=0,v=f.length;c<v;c++)t.setCellInfo.call(this,f[c],!0),t.editCell.call(this,e)}}e||t.init.call(this)}else t[a?"editRow":"editCell"].call(this,e);if(!e){const o=i.children;for(let l=0;l<o.length;l++)o[l].children.length===0&&(this.util.removeItem(o[l]),l--);i.children.length===0&&this.util.removeItem(i)}},editRow:function(n,e){const t=this.context.table,r=!n,i=n==="up",a=t._rowIndex,o=r||i?a:a+t._current_rowSpan+1,l=r?-1:1,s=t._trElements;let f=t._logical_cellCnt;for(let c=0,v=a+(r?-1:0),y;c<=v;c++){if(y=s[c].cells,y.length===0)return;for(let k=0,x=y.length,R,d;k<x;k++)R=y[k].rowSpan,d=y[k].colSpan,!(R<2&&d<2)&&R+c>o&&o>c&&(y[k].rowSpan=R+l,f-=d)}if(r){const c=s[a+1];if(c){const v=[];let y=s[a].cells,k=0;for(let x=0,R=y.length,d,h;x<R;x++)d=y[x],h=x+k,k+=d.colSpan-1,d.rowSpan>1&&(d.rowSpan-=1,v.push({cell:d.cloneNode(!1),index:h}));if(v.length>0){let x=v.shift();y=c.cells,k=0;for(let R=0,d=y.length,h,w;R<d&&(h=y[R],w=R+k,k+=h.colSpan-1,!(w>=x.index&&(R--,k--,k+=x.cell.colSpan-1,c.insertBefore(x.cell,h),x=v.shift(),!x)));R++);if(x){c.appendChild(x.cell);for(let R=0,d=v.length;R<d;R++)c.appendChild(v[R].cell)}}}t._element.deleteRow(o)}else{const c=t._element.insertRow(o);c.innerHTML=this.plugins.table.createCells.call(this,"td",f,!1)}r?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,e||t._tdElement,!0)},editCell:function(n,e){const t=this.context.table,r=this.util,i=!n,a=n==="left",o=t._current_colSpan,l=i||a?t._logical_cellIndex:t._logical_cellIndex+o+1,s=t._trElements;let f=[],c=[],v=0;const y=[],k=[];for(let x=0,R=t._rowCnt,d,h,w,A,D,I;x<R;x++){d=s[x],h=l,D=!1,w=d.cells,I=0;for(let O=0,F,$=w.length,z,ee,me;O<$&&(F=w[O],!!F);O++)if(z=F.rowSpan-1,ee=F.colSpan-1,i){if(me=O+I,c.length>0){const ie=!w[O+1];for(let pe=0,be;pe<c.length;pe++)be=c[pe],!(be.row>x)&&(me>=be.index?(I+=be.cs,me=O+I,be.rs-=1,be.row=x+1,be.rs<1&&(c.splice(pe,1),pe--)):ie&&(be.rs-=1,be.row=x+1,be.rs<1&&(c.splice(pe,1),pe--)))}z>0&&f.push({rs:z,cs:ee+1,index:me,row:-1}),me>=h&&me+ee<=h+o?y.push(F):me<=h+o&&me+ee>=h?F.colSpan-=r.getOverlapRangeAtIndex(l,l+o,me,me+ee):z>0&&(me<h||me+ee>h+o)&&k.push({cell:F,i:x,rs:x+z}),I+=ee}else{if(O>=h)break;if(ee>0){if(v<1&&ee+O>=h){F.colSpan+=1,h=null,v=z+1;break}h-=ee}if(!D){for(let ie=0,pe;ie<c.length;ie++)pe=c[ie],h-=pe.cs,pe.rs-=1,pe.rs<1&&(c.splice(ie,1),ie--);D=!0}}if(c=c.concat(f).sort(function(O,F){return O.index-F.index}),f=[],!i){if(v>0){v-=1;continue}h!==null&&w.length>0&&(A=this.plugins.table.createCells.call(this,w[0].nodeName,0,!0),A=d.insertBefore(A,w[h]))}}if(i){let x,R;for(let d=0,h=y.length,w;d<h;d++)w=y[d].parentNode,r.removeItem(y[d]),w.cells.length===0&&(x||(x=r.getArrayIndex(s,w)),R=r.getArrayIndex(s,w),r.removeItem(w));for(let d=0,h=k.length,w;d<h;d++)w=k[d],w.cell.rowSpan=r.getOverlapRangeAtIndex(x,R,w.i,w.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,e||t._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=(function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("click",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}).bind(this),this.addDocEvent("click",this.plugins.table._closeSplitMenu)},splitCells:function(n){const e=this.util,t=n==="vertical",r=this.context.table,i=r._tdElement,a=r._trElements,o=r._trElement,l=r._logical_cellIndex,s=r._rowIndex,f=this.plugins.table.createCells.call(this,i.nodeName,0,!0);if(t){const c=i.colSpan;if(f.rowSpan=i.rowSpan,c>1)f.colSpan=this._w.Math.floor(c/2),i.colSpan=c-f.colSpan,o.insertBefore(f,i.nextElementSibling);else{let v=[],y=[];for(let k=0,x=r._rowCnt,R,d;k<x;k++){R=a[k].cells,d=0;for(let h=0,w=R.length,A,D,I,O;h<w;h++){if(A=R[h],D=A.colSpan-1,I=A.rowSpan-1,O=h+d,y.length>0)for(let F=0,$;F<y.length;F++)$=y[F],!($.row>k)&&(O>=$.index?(d+=$.cs,O+=$.cs,$.rs-=1,$.row=k+1,$.rs<1&&(y.splice(F,1),F--)):h===w-1&&($.rs-=1,$.row=k+1,$.rs<1&&(y.splice(F,1),F--)));if(O<=l&&I>0&&v.push({index:O,cs:D+1,rs:I,row:-1}),A!==i&&O<=l&&O+D>=l+c-1){A.colSpan+=1;break}if(O>l)break;d+=D}y=y.concat(v).sort(function(h,w){return h.index-w.index}),v=[]}o.insertBefore(f,i.nextElementSibling)}}else{const c=i.rowSpan;if(f.colSpan=i.colSpan,c>1){f.rowSpan=this._w.Math.floor(c/2);const v=c-f.rowSpan,y=[],k=e.getArrayIndex(a,o)+v;for(let h=0,w,A;h<k;h++){w=a[h].cells,A=0;for(let D=0,I=w.length,O,F,$;D<I&&($=D+A,!($>=l));D++)O=w[D],F=O.rowSpan-1,F>0&&F+h>=k&&$<l&&y.push({index:$,cs:O.colSpan}),A+=O.colSpan-1}const x=a[k],R=x.cells;let d=y.shift();for(let h=0,w=R.length,A=0,D,I,O,F;h<w;h++){if(O=h+A,D=R[h],I=D.colSpan-1,F=O+I+1,d&&F>=d.index&&(A+=d.cs,F+=d.cs,d=y.shift()),F>=l||h===w-1){x.insertBefore(f,D.nextElementSibling);break}A+=I}i.rowSpan=v}else{f.rowSpan=i.rowSpan;const v=e.createElement("TR");v.appendChild(f);for(let x=0,R;x<s;x++){if(R=a[x].cells,R.length===0)return;for(let d=0,h=R.length;d<h;d++)x+R[d].rowSpan-1>=s&&(R[d].rowSpan+=1)}const y=r._physical_cellIndex,k=o.cells;for(let x=0,R=k.length;x<R;x++)x!==y&&(k[x].rowSpan+=1);o.parentNode.insertBefore(v,o.nextElementSibling)}}this.focusEdge(i),this.plugins.table.setPositionControllerDiv.call(this,i,!0)},mergeCells:function(){const n=this.plugins.table,e=this.context.table,t=this.util,r=n._ref,i=n._selectedCells,a=i[0];let o=null,l=null,s=r.ce-r.cs+1,f=r.re-r.rs+1,c="",v=null;for(let y=1,k=i.length,x,R;y<k;y++){x=i[y],v!==x.parentNode&&(v=x.parentNode),R=x.children;for(let d=0,h=R.length;d<h;d++)t.isFormatElement(R[d])&&t.onlyZeroWidthSpace(R[d].textContent)&&t.removeItem(R[d]);c+=x.innerHTML,t.removeItem(x),v.cells.length===0&&(o?l=v:o=v,f-=1)}if(o){const y=e._trElements,k=t.getArrayIndex(y,o),x=t.getArrayIndex(y,l||o),R=[];for(let d=0,h;d<=x;d++){if(h=y[d].cells,h.length===0){R.push(y[d]);continue}for(let w=0,A=h.length,D,I;w<A;w++)D=h[w],I=D.rowSpan-1,I>0&&d+I>=k&&(D.rowSpan-=t.getOverlapRangeAtIndex(k,x,d,d+I))}for(let d=0,h=R.length;d<h;d++)t.removeItem(R[d])}a.innerHTML+=c,a.colSpan=s,a.rowSpan=f,this.controllersOff(),n.setActiveButton.call(this,!0,!1),n.call_controller_tableEdit.call(this,a),t.addClass(a,"se-table-selected-cell"),this.focusEdge(a)},toggleHeader:function(){const n=this.util,e=this.context.table.headerButton,t=n.hasClass(e,"active"),r=this.context.table._element;if(t)n.removeItem(r.querySelector("thead"));else{const i=n.createElement("THEAD");i.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",r.insertBefore(i,r.firstElementChild)}n.toggleClass(e,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(n){const e=this.context.table,t=e._element;let r,i,a,o;n.indexOf("width")>-1&&(r=e.resizeButton.firstElementChild,i=e.resizeText,e._maxWidth?(a=e.icons.reduction,o=e.minText,e.columnFixedButton.style.display="block",this.util.removeClass(t,"se-table-size-auto"),this.util.addClass(t,"se-table-size-100")):(a=e.icons.expansion,o=e.maxText,e.columnFixedButton.style.display="none",this.util.removeClass(t,"se-table-size-100"),this.util.addClass(t,"se-table-size-auto")),this.util.changeElement(r,a),this.util.changeTxt(i,o)),n.indexOf("column")>-1&&(e._fixedColumn?(this.util.removeClass(t,"se-table-layout-auto"),this.util.addClass(t,"se-table-layout-fixed"),this.util.addClass(e.columnFixedButton,"active")):(this.util.removeClass(t,"se-table-layout-fixed"),this.util.addClass(t,"se-table-layout-auto"),this.util.removeClass(e.columnFixedButton,"active")))},setActiveButton:function(n,e){const t=this.context.table;/^TH$/i.test(n.nodeName)?(t.insertRowAboveButton.setAttribute("disabled",!0),t.insertRowBelowButton.setAttribute("disabled",!0)):(t.insertRowAboveButton.removeAttribute("disabled"),t.insertRowBelowButton.removeAttribute("disabled")),!e||n===e?(t.splitButton.removeAttribute("disabled"),t.mergeButton.setAttribute("disabled",!0)):(t.splitButton.setAttribute("disabled",!0),t.mergeButton.removeAttribute("disabled"))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(n){this.context.element.wysiwyg.setAttribute("contenteditable",n),n?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(n){n.stopPropagation();const e=this.plugins.table;e._shift?e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null):(e._removeEvents.call(this),e._toggleEditor.call(this,!0)),!(!e._fixedCell||!e._selectedTable)&&(e.setActiveButton.call(this,e._fixedCell,e._selectedCell),e.call_controller_tableEdit.call(this,e._selectedCell||e._fixedCell),e._selectedCells=e._selectedTable.querySelectorAll(".se-table-selected-cell"),e._selectedCell&&e._fixedCell&&this.focusEdge(e._selectedCell),e._shift||(e._fixedCell=null,e._selectedCell=null,e._fixedCellName=null))},_onCellMultiSelect:function(n){this._antiBlur=!0;const e=this.plugins.table,t=this.util.getParentElement(n.target,this.util.isCell);if(e._shift)t===e._fixedCell?e._toggleEditor.call(this,!0):e._toggleEditor.call(this,!1);else if(!e._ref){if(t===e._fixedCell)return;e._toggleEditor.call(this,!1)}!t||t===e._selectedCell||e._fixedCellName!==t.nodeName||e._selectedTable!==this.util.getParentElement(t,"TABLE")||(e._selectedCell=t,e._setMultiCells.call(this,e._fixedCell,t))},_setMultiCells:function(n,e){const t=this.plugins.table,r=t._selectedTable.rows,i=this.util,a=t._selectedTable.querySelectorAll(".se-table-selected-cell");for(let c=0,v=a.length;c<v;c++)i.removeClass(a[c],"se-table-selected-cell");if(n===e&&(i.addClass(n,"se-table-selected-cell"),!t._shift))return;let o=!0,l=[],s=[];const f=t._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let c=0,v=r.length,y,k;c<v;c++){y=r[c].cells,k=0;for(let x=0,R=y.length,d,h,w,A;x<R;x++){if(d=y[x],w=d.colSpan-1,A=d.rowSpan-1,h=x+k,l.length>0)for(let D=0,I;D<l.length;D++)I=l[D],!(I.row>c)&&(h>=I.index?(k+=I.cs,h+=I.cs,I.rs-=1,I.row=c+1,I.rs<1&&(l.splice(D,1),D--)):x===R-1&&(I.rs-=1,I.row=c+1,I.rs<1&&(l.splice(D,1),D--)));if(o){if((d===n||d===e)&&(f.cs=f.cs!==null&&f.cs<h?f.cs:h,f.ce=f.ce!==null&&f.ce>h+w?f.ce:h+w,f.rs=f.rs!==null&&f.rs<c?f.rs:c,f.re=f.re!==null&&f.re>c+A?f.re:c+A,f._i+=1),f._i===2){o=!1,l=[],s=[],c=-1;break}}else if(i.getOverlapRangeAtIndex(f.cs,f.ce,h,h+w)&&i.getOverlapRangeAtIndex(f.rs,f.re,c,c+A)){const D=f.cs<h?f.cs:h,I=f.ce>h+w?f.ce:h+w,O=f.rs<c?f.rs:c,F=f.re>c+A?f.re:c+A;if(f.cs!==D||f.ce!==I||f.rs!==O||f.re!==F){f.cs=D,f.ce=I,f.rs=O,f.re=F,c=-1,l=[],s=[];break}i.addClass(d,"se-table-selected-cell")}A>0&&s.push({index:h,cs:w+1,rs:A,row:-1}),k+=d.colSpan-1}l=l.concat(s).sort(function(x,R){return x.index-R.index}),s=[]}},_removeEvents:function(){const n=this.plugins.table;n._initBind&&(this._wd.removeEventListener("touchmove",n._initBind),n._initBind=null),n._bindOnSelect&&(this._wd.removeEventListener("mousedown",n._bindOnSelect),this._wd.removeEventListener("mousemove",n._bindOnSelect),n._bindOnSelect=null),n._bindOffSelect&&(this._wd.removeEventListener("mouseup",n._bindOffSelect),n._bindOffSelect=null),n._bindOffShift&&(this._wd.removeEventListener("keyup",n._bindOffShift),n._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(n,e){const t=this.plugins.table;t._removeEvents.call(this),this.controllersOff(),t._shift=e,t._fixedCell=n,t._fixedCellName=n.nodeName,t._selectedTable=this.util.getParentElement(n,"TABLE");const r=t._selectedTable.querySelectorAll(".se-table-selected-cell");for(let i=0,a=r.length;i<a;i++)this.util.removeClass(r[i],"se-table-selected-cell");this.util.addClass(n,"se-table-selected-cell"),t._bindOnSelect=t._onCellMultiSelect.bind(this),t._bindOffSelect=t._offCellMultiSelect.bind(this),e?(t._bindOffShift=(function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),n,"table"),t._ref||this.controllersOff()}).bind(this),this._wd.addEventListener("keyup",t._bindOffShift,!1),this._wd.addEventListener("mousedown",t._bindOnSelect,!1)):this._wd.addEventListener("mousemove",t._bindOnSelect,!1),this._wd.addEventListener("mouseup",t._bindOffSelect,!1),t._initBind=t.init.bind(this),this._wd.addEventListener("touchmove",t._initBind,!1)},onClick_tableController:function(n){n.stopPropagation();const e=n.target.getAttribute("data-command")?n.target:n.target.parentNode;if(e.getAttribute("disabled"))return;const t=e.getAttribute("data-command"),r=e.getAttribute("data-value"),i=e.getAttribute("data-option"),a=this.plugins.table;if(typeof a._closeSplitMenu=="function"&&(a._closeSplitMenu(),t==="onsplit")||!t)return;n.preventDefault();const o=this.context.table;switch(t){case"insert":case"delete":a.editTable.call(this,r,i);break;case"header":a.toggleHeader.call(this);break;case"onsplit":a.openSplitMenu.call(this);break;case"split":a.splitCells.call(this,r);break;case"merge":a.mergeCells.call(this);break;case"resize":o._maxWidth=!o._maxWidth,a.setTableStyle.call(this,"width"),a.setPositionControllerTop.call(this,o._element),a.setPositionControllerDiv.call(this,o._tdElement,a._shift);break;case"layout":o._fixedColumn=!o._fixedColumn,a.setTableStyle.call(this,"column"),a.setPositionControllerTop.call(this,o._element),a.setPositionControllerDiv.call(this,o._tdElement,a._shift);break;case"remove":const l=o._element.parentNode;this.util.removeItem(o._element),this.controllersOff(),l!==this.context.element.wysiwyg&&this.util.removeItemAllParents(l,function(s){return s.childNodes.length===0},null),this.focus()}this.history.push(!1)}},Whe={name:"formatBlock",display:"submenu",add:function(n,e){const t=n.context;t.formatBlock={targetText:e.querySelector(".txt"),targetTooltip:e.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let r=this.setSubmenu(n);r.querySelector("ul").addEventListener("click",this.pickUp.bind(n)),t.formatBlock._formatList=r.querySelectorAll("li button"),n.initMenuTarget(this.name,e,r),r=null},setSubmenu:function(n){const e=n.options,t=n.lang.toolbar,r=n.util.createElement("DIV");r.className="se-submenu se-list-layer se-list-format";const i=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],a=!e.formats||e.formats.length===0?i:e.formats;let o='<div class="se-list-inner"><ul class="se-list-basic">';for(let l=0,s=a.length,f,c,v,y,k,x,R;l<s;l++)f=a[l],typeof f=="string"&&i.indexOf(f)>-1?(c=f.toLowerCase(),v=c==="blockquote"?"range":c==="pre"?"free":"replace",k=/^h/.test(c)?c.match(/\d+/)[0]:"",y=t["tag_"+(k?"h":c)]+k,R="",x=""):(c=f.tag.toLowerCase(),v=f.command,y=f.name||c,R=f.class,x=R?' class="'+R+'"':""),o+='<li><button type="button" class="se-btn-list" data-command="'+v+'" data-value="'+c+'" data-class="'+R+'" title="'+y+'" aria-label="'+y+'"><'+c+x+">"+y+"</"+c+"></button></li>";return o+="</ul></div>",r.innerHTML=o,r},active:function(n){let e=this.lang.toolbar.formats;const t=this.context.formatBlock.targetText;if(!n)this.util.changeTxt(t,e);else if(this.util.isFormatElement(n)){const i=this.context.formatBlock._formatList,a=n.nodeName.toLowerCase(),o=(n.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let l=0,s=i.length,f;l<s;l++)if(f=i[l],a===f.getAttribute("data-value")&&o===f.getAttribute("data-class")){e=f.title;break}return this.util.changeTxt(t,e),t.setAttribute("data-value",a),t.setAttribute("data-class",o),!0}return!1},on:function(){const n=this.context.formatBlock,e=n._formatList,t=n.targetText,r=(t.getAttribute("data-value")||"")+(t.getAttribute("data-class")||"");if(r!==n.currentFormat){for(let i=0,a=e.length,o;i<a;i++)o=e[i],r===o.getAttribute("data-value")+o.getAttribute("data-class")?this.util.addClass(o,"active"):this.util.removeClass(o,"active");n.currentFormat=r}},pickUp:function(n){n.preventDefault(),n.stopPropagation();let e=n.target,t=null,r=null,i=null,a="";for(;!t&&!/UL/i.test(e.tagName);){if(t=e.getAttribute("data-command"),r=e.getAttribute("data-value"),a=e.getAttribute("data-class"),t){i=e.firstChild;break}e=e.parentNode}if(t){if(t==="range"){const o=i.cloneNode(!1);this.applyRangeFormatElement(o)}else{let o=this.getRange(),l=this.getSelectedElementsAndComponents(!1);if(l.length===0&&(o=this.getRange_addLine(o,null),l=this.getSelectedElementsAndComponents(!1),l.length===0))return;const s=o.startOffset,f=o.endOffset,c=this.util;let v=l[0],y=l[l.length-1];const k=c.getNodePath(o.startContainer,v,null,null),x=c.getNodePath(o.endContainer,y,null,null),R=this.detachList(l,!1);R.sc&&(v=R.sc),R.ec&&(y=R.ec),this.setRange(c.getNodeFromPath(k,v),s,c.getNodeFromPath(x,y),f);const d=this.getSelectedElementsAndComponents(!1);if(t==="free"){const h=d.length-1;let w=d[h].parentNode,A=i.cloneNode(!1);const D=A;for(let I=h,O,F,$,z,ee,me,ie=!0;I>=0;I--)if(O=d[I],O!==(d[I+1]?d[I+1].parentNode:null)){if(me=c.isComponent(O),F=me?"":O.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),$=c.getParentElement(O,function(pe){return pe.parentNode===w}),(w!==O.parentNode||me)&&(c.isFormatElement(w)?(w.parentNode.insertBefore(A,w.nextSibling),w=w.parentNode):(w.insertBefore(A,$?$.nextSibling:null),w=O.parentNode),z=A.nextSibling,z&&A.nodeName===z.nodeName&&c.isSameAttributes(A,z)&&(A.innerHTML+="<BR>"+z.innerHTML,c.removeItem(z)),A=i.cloneNode(!1),ie=!0),ee=A.innerHTML,A.innerHTML=(ie||!F||!ee||/<br>$/i.test(F)?F:F+"<BR>")+ee,I===0){w.insertBefore(A,O),z=O.nextSibling,z&&A.nodeName===z.nodeName&&c.isSameAttributes(A,z)&&(A.innerHTML+="<BR>"+z.innerHTML,c.removeItem(z));const pe=A.previousSibling;pe&&A.nodeName===pe.nodeName&&c.isSameAttributes(A,pe)&&(pe.innerHTML+="<BR>"+A.innerHTML,c.removeItem(A))}me||c.removeItem(O),F&&(ie=!1)}this.setRange(D,0,D,0)}else{for(let h=0,w=d.length,A,D;h<w;h++)A=d[h],(A.nodeName.toLowerCase()!==r.toLowerCase()||(A.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()!==a)&&!c.isComponent(A)&&(D=i.cloneNode(!1),c.copyFormatAttributes(D,A),D.innerHTML=A.innerHTML,A.parentNode.replaceChild(D,A)),h===0&&(v=D||A),h===w-1&&(y=D||A),D=null;this.setRange(c.getNodeFromPath(k,v),s,c.getNodeFromPath(x,y),f)}this.history.push(!1)}this.submenuOff()}}},Ghe={name:"lineHeight",display:"submenu",add:function(n,e){const t=n.context;t.lineHeight={_sizeList:null,currentSize:-1};let r=this.setSubmenu(n),i=r.querySelector("ul");i.addEventListener("click",this.pickup.bind(n)),t.lineHeight._sizeList=i.querySelectorAll("li button"),n.initMenuTarget(this.name,e,r),r=null,i=null},setSubmenu:function(n){const e=n.options,t=n.lang,r=n.util.createElement("DIV");r.className="se-submenu se-list-layer";const i=e.lineHeights?e.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}];let a='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+t.toolbar.default+'" aria-label="'+t.toolbar.default+'">('+t.toolbar.default+")</button></li>";for(let o=0,l=i.length,s;o<l;o++)s=i[o],a+='<li><button type="button" class="se-btn-list" data-value="'+s.value+'" title="'+s.text+'" aria-label="'+s.text+'">'+s.text+"</button></li>";return a+="</ul></div>",r.innerHTML=a,r},on:function(){const n=this.context.lineHeight,e=n._sizeList,t=this.util.getFormatElement(this.getSelectionNode()),r=t?t.style.lineHeight+"":"";if(r!==n.currentSize){for(let i=0,a=e.length;i<a;i++)r===e[i].getAttribute("data-value")?this.util.addClass(e[i],"active"):this.util.removeClass(e[i],"active");n.currentSize=r}},pickup:function(n){if(!/^BUTTON$/i.test(n.target.tagName))return!1;n.preventDefault(),n.stopPropagation();const e=n.target.getAttribute("data-value")||"",t=this.getSelectedElements();for(let r=0,i=t.length;r<i;r++)t[r].style.lineHeight=e;this.submenuOff(),this.history.push(!1)}},jhe={name:"template",display:"submenu",add:function(n,e){const t=n.context;t.template={selectedIndex:-1};let r=this.setSubmenu(n);r.querySelector("ul").addEventListener("click",this.pickup.bind(n)),n.initMenuTarget(this.name,e,r),r=null},setSubmenu:function(n){const e=n.options.templates;if(!e||e.length===0)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');const t=n.util.createElement("DIV");t.className="se-list-layer";let r='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let i=0,a=e.length,o;i<a;i++)o=e[i],r+='<li><button type="button" class="se-btn-list" data-value="'+i+'" title="'+o.name+'" aria-label="'+o.name+'">'+o.name+"</button></li>";return r+="</ul></div>",t.innerHTML=r,t},pickup:function(n){if(!/^BUTTON$/i.test(n.target.tagName))return!1;n.preventDefault(),n.stopPropagation(),this.context.template.selectedIndex=n.target.getAttribute("data-value")*1;const e=this.options.templates[this.context.template.selectedIndex];if(e.html)this.setContents(e.html);else throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.submenuOff()}},Yhe={name:"paragraphStyle",display:"submenu",add:function(n,e){const t=n.context;t.paragraphStyle={_classList:null};let r=this.setSubmenu(n);r.querySelector("ul").addEventListener("click",this.pickUp.bind(n)),t.paragraphStyle._classList=r.querySelectorAll("li button"),n.initMenuTarget(this.name,e,r),r=null},setSubmenu:function(n){const e=n.options,t=n.util.createElement("DIV");t.className="se-submenu se-list-layer se-list-format";const r=n.lang.menu,i={spaced:{name:r.spaced,class:"__se__p-spaced",_class:""},bordered:{name:r.bordered,class:"__se__p-bordered",_class:""},neon:{name:r.neon,class:"__se__p-neon",_class:""}},a=!e.paragraphStyles||e.paragraphStyles.length===0?["spaced","bordered","neon"]:e.paragraphStyles;let o='<div class="se-list-inner"><ul class="se-list-basic">';for(let l=0,s=a.length,f,c,v,y;l<s;l++){if(f=a[l],typeof f=="string"){const k=i[f.toLowerCase()];if(!k)continue;f=k}c=f.name,v=f.class?' class="'+f.class+'"':"",y=f._class,o+='<li><button type="button" class="se-btn-list'+(y?" "+y:"")+'" data-value="'+f.class+'" title="'+c+'" aria-label="'+c+'"><div'+v+">"+c+"</div></button></li>"}return o+="</ul></div>",t.innerHTML=o,t},on:function(){const e=this.context.paragraphStyle._classList,t=this.util.getFormatElement(this.getSelectionNode());for(let r=0,i=e.length;r<i;r++)this.util.hasClass(t,e[r].getAttribute("data-value"))?this.util.addClass(e[r],"active"):this.util.removeClass(e[r],"active")},pickUp:function(n){n.preventDefault(),n.stopPropagation();let e=n.target,t=null;for(;!/^UL$/i.test(e.tagName)&&(t=e.getAttribute("data-value"),!t);)e=e.parentNode;if(!t)return;let r=this.getSelectedElements();if(r.length===0&&(this.getRange_addLine(this.getRange(),null),r=this.getSelectedElements(),r.length===0))return;const i=this.util.hasClass(e,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let a=0,o=r.length;a<o;a++)i(r[a],t);this.submenuOff(),this.history.push(!1)}},Zhe={name:"textStyle",display:"submenu",add:function(n,e){const t=n.context;t.textStyle={_styleList:null};let r=this.setSubmenu(n),i=r.querySelector("ul");i.addEventListener("click",this.pickup.bind(n)),t.textStyle._styleList=r.querySelectorAll("li button"),n.initMenuTarget(this.name,e,r),r=null,i=null},setSubmenu:function(n){const e=n.options,t=n.util.createElement("DIV");t.className="se-submenu se-list-layer se-list-format";const r={code:{name:n.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:n.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:n.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},i=e.textStyles?e.textStyles:n._w.Object.keys(r);let a='<div class="se-list-inner"><ul class="se-list-basic">';for(let o=0,l=i.length,s,f,c,v,y,k,x;o<l;o++){if(s=i[o],v="",k="",y=[],typeof s=="string"){const R=r[s.toLowerCase()];if(!R)continue;s=R}c=s.name,f=s.tag||"span",x=s._class,s.style&&(v+=' style="'+s.style+'"',k+=s.style.replace(/:[^;]+(;|$)\s*/g,","),y.push("style")),s.class&&(v+=' class="'+s.class+'"',k+="."+s.class.trim().replace(/\s+/g,",."),y.push("class")),k=k.replace(/,$/,""),a+='<li><button type="button" class="se-btn-list'+(x?" "+x:"")+'" data-command="'+f+'" data-value="'+k+'" title="'+c+'" aria-label="'+c+'"><'+f+v+">"+c+"</"+f+"></button></li>"}return a+="</ul></div>",t.innerHTML=a,t},on:function(){const n=this.util,t=this.context.textStyle._styleList,r=this.getSelectionNode();for(let i=0,a=t.length,o,l,s;i<a;i++){o=t[i],l=o.getAttribute("data-value").split(",");for(let f=0,c,v;f<l.length;f++){for(c=r,s=!1;c&&!n.isFormatElement(c)&&!n.isComponent(c);){if(c.nodeName.toLowerCase()===o.getAttribute("data-command").toLowerCase()&&(v=l[f],/^\./.test(v)?n.hasClass(c,v.replace(/^\./,"")):c.style[v])){s=!0;break}c=c.parentNode}if(!s)break}s?n.addClass(o,"active"):n.removeClass(o,"active")}},pickup:function(n){n.preventDefault(),n.stopPropagation();let e=n.target,t=null,r=null;for(;!t&&!/UL/i.test(e.tagName);){if(t=e.getAttribute("data-command"),t){r=e.firstChild;break}e=e.parentNode}if(!t)return;const i=r.style.cssText.replace(/:.+(;|$)/g,",").split(",");i.pop();const a=r.classList;for(let s=0,f=a.length;s<f;s++)i.push("."+a[s]);const o=this.util.hasClass(e,"active")?null:r.cloneNode(!1),l=o?null:[r.nodeName];this.nodeChange(o,i,l,!0),this.submenuOff()}};var e0={exports:{}},Khe=e0.exports,JM;function Jhe(){return JM||(JM=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(r)}})(typeof window<"u"?window:Khe,function(e,t){const r={name:"dialog",add:function(i){const a=i.context;a.dialog={kind:"",updateModal:!1,_closeSignal:!1};let o=i.util.createElement("DIV");o.className="se-dialog sun-editor-common";let l=i.util.createElement("DIV");l.className="se-dialog-back",l.style.display="none";let s=i.util.createElement("DIV");s.className="se-dialog-inner",s.style.display="none",o.appendChild(l),o.appendChild(s),a.dialog.modalArea=o,a.dialog.back=l,a.dialog.modal=s,a.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(i)),a.dialog.modal.addEventListener("click",this._onClick_dialog.bind(i)),a.element.relative.appendChild(o),o=null,l=null,s=null},_onMouseDown_dialog:function(i){/se-dialog-inner/.test(i.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(i){(/close/.test(i.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(i,a){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=(function(l){/27/.test(l.keyCode)&&this.plugins.dialog.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=a,this.options.popupDisplay==="full"?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=i,this.modalForm=this.context[i].modal;const o=this.context[i].focusElement;typeof this.plugins[i].on=="function"&&this.plugins[i].on.call(this,a),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",o&&o.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);const i=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,typeof this.plugins[i].init=="function"&&this.plugins[i].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:r})),r})}(e0)),e0.exports}var Xhe=Jhe();const uv=Oo(Xhe),Qhe={name:"selectMenu",add:function(n){n.context.selectMenu={caller:{},callerContext:null}},setForm:function(){return'<div class="se-select-list"></div>'},createList:function(n,e,t){n.form.innerHTML="<ul>"+t+"</ul>",n.items=e,n.menus=n.form.querySelectorAll("li")},initEvent:function(n,e){const t=e.querySelector(".se-select-list"),r=this.context.selectMenu.caller[n]={form:t,items:[],menus:[],index:-1,item:null,clickMethod:null,callerName:n};t.addEventListener("mousedown",this.plugins.selectMenu.onMousedown_list),t.addEventListener("mousemove",this.plugins.selectMenu.onMouseMove_list.bind(this,r)),t.addEventListener("click",this.plugins.selectMenu.onClick_list.bind(this,r))},onMousedown_list:function(n){n.preventDefault(),n.stopPropagation()},onMouseMove_list:function(n,e){this.util.addClass(n.form,"__se_select-menu-mouse-move");const t=e.target.getAttribute("data-index");t&&(n.index=t*1)},onClick_list:function(n,e){const t=e.target.getAttribute("data-index");t&&n.clickMethod.call(this,n.items[t])},moveItem:function(n,e){this.util.removeClass(n.form,"__se_select-menu-mouse-move"),e=n.index+e;const t=n.menus,r=t.length,i=n.index=e>=r?0:e<0?r-1:e;for(let a=0;a<r;a++)a===i?this.util.addClass(t[a],"active"):this.util.removeClass(t[a],"active");n.item=n.items[i]},getItem:function(n,e){return e=!e||e<0?n.index:e,n.items[e]},on:function(n,e){const t=this.context.selectMenu.caller[n];this.context.selectMenu.callerContext=t,t.clickMethod=e,t.callerName=n},open:function(n,e){const t=n.form;t.style.visibility="hidden",t.style.display="block",e(t),t.style.visibility=""},close:function(n){n.form.style.display="none",n.items=[],n.menus=[],n.index=-1,n.item=null},init:function(n){n&&(n.items=[],n.menus=[],n.index=-1,n.item=null,n.callerName="",this.context.selectMenu.callerContext=null)}},mR={name:"anchor",add:function(n){n.addModule([Qhe]),n.context.anchor={caller:{},forms:this.setDialogForm(n),host:(n._w.location.origin+n._w.location.pathname).replace(/\/$/,""),callerContext:null}},setDialogForm:function(n){const e=n.lang,t=n.options.linkRel,r=(n.options.linkRelDefault.default||"").split(" "),i=n.icons,a=n.util.createElement("DIV");let o='<div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" placeholder="'+(n.options.protocol||"")+'" /><button type="button" class="se-btn se-dialog-files-edge-button _se_bookmark_button" title="'+e.dialogBox.linkBox.bookmark+'" aria-label="'+e.dialogBox.linkBox.bookmark+'">'+i.bookmark+"</button>"+n.plugins.selectMenu.setForm()+'</div><div class="se-anchor-preview-form"><span class="se-svg se-anchor-preview-icon _se_anchor_bookmark_icon">'+i.bookmark+'</span><span class="se-svg se-anchor-preview-icon _se_anchor_download_icon">'+i.download+'</span><pre class="se-link-preview"></pre></div></div><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.text+'</label><input class="se-input-form _se_anchor_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_check" />&nbsp;'+e.dialogBox.linkBox.newWindowCheck+'</label><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_download" />&nbsp;'+e.dialogBox.linkBox.downloadLinkCheck+"</label>";if(t.length>0){o+='<div class="se-anchor-rel"><button type="button" class="se-btn se-btn-select se-anchor-rel-btn">&lt;rel&gt;</button><div class="se-anchor-rel-wrapper"><pre class="se-link-preview se-anchor-rel-preview"></pre></div><div class="se-list-layer"><div class="se-list-inner"><ul class="se-list-basic se-list-checked">';for(let l=0,s=t.length,f;l<s;l++)f=t[l],o+='<li><button type="button" class="se-btn-list'+(r.indexOf(f)>-1?" se-checked":"")+'" data-command="'+f+'" title="'+f+'" aria-label="'+f+'"><span class="se-svg">'+i.checked+"</span>"+f+"</button></li>";o+="</ul></div></div></div>"}return o+="</div></div>",a.innerHTML=o,a},initEvent:function(n,e){const t=this.plugins.anchor,r=this.context.anchor.caller[n]={modal:e,urlInput:null,linkDefaultRel:this.options.linkRelDefault,defaultRel:this.options.linkRelDefault.default||"",currentRel:[],linkAnchor:null,linkValue:"",_change:!1,callerName:n};typeof r.linkDefaultRel.default=="string"&&(r.linkDefaultRel.default=r.linkDefaultRel.default.trim()),typeof r.linkDefaultRel.check_new_window=="string"&&(r.linkDefaultRel.check_new_window=r.linkDefaultRel.check_new_window.trim()),typeof r.linkDefaultRel.check_bookmark=="string"&&(r.linkDefaultRel.check_bookmark=r.linkDefaultRel.check_bookmark.trim()),r.urlInput=e.querySelector(".se-input-url"),r.anchorText=e.querySelector("._se_anchor_text"),r.newWindowCheck=e.querySelector("._se_anchor_check"),r.downloadCheck=e.querySelector("._se_anchor_download"),r.download=e.querySelector("._se_anchor_download_icon"),r.preview=e.querySelector(".se-link-preview"),r.bookmark=e.querySelector("._se_anchor_bookmark_icon"),r.bookmarkButton=e.querySelector("._se_bookmark_button"),this.plugins.selectMenu.initEvent.call(this,n,e);const i=this.context.selectMenu.caller[n];this.options.linkRel.length>0&&(r.relButton=e.querySelector(".se-anchor-rel-btn"),r.relList=e.querySelector(".se-list-layer"),r.relPreview=e.querySelector(".se-anchor-rel-preview"),r.relButton.addEventListener("click",t.onClick_relButton.bind(this,r)),r.relList.addEventListener("click",t.onClick_relList.bind(this,r))),r.newWindowCheck.addEventListener("change",t.onChange_newWindowCheck.bind(this,r)),r.downloadCheck.addEventListener("change",t.onChange_downloadCheck.bind(this,r)),r.anchorText.addEventListener("input",t.onChangeAnchorText.bind(this,r)),r.urlInput.addEventListener("input",t.onChangeUrlInput.bind(this,r)),r.urlInput.addEventListener("keydown",t.onKeyDownUrlInput.bind(this,i)),r.urlInput.addEventListener("focus",t.onFocusUrlInput.bind(this,r,i)),r.urlInput.addEventListener("blur",t.onBlurUrlInput.bind(this,i)),r.bookmarkButton.addEventListener("click",t.onClick_bookmarkButton.bind(this,r))},on:function(n,e){const t=this.plugins.anchor;if(!e)t.init.call(this,n),n.anchorText.value=this.getSelection().toString().trim(),n.newWindowCheck.checked=this.options.linkTargetNewWindow;else if(n.linkAnchor){this.context.dialog.updateModal=!0;const r=n.linkAnchor.getAttribute("href");n.linkValue=n.preview.textContent=n.urlInput.value=t.selfPathBookmark.call(this,r)?r.substr(r.lastIndexOf("#")):r,n.anchorText.value=n.linkAnchor.textContent,n.newWindowCheck.checked=!!/_blank/i.test(n.linkAnchor.target),n.downloadCheck.checked=n.linkAnchor.download}this.context.anchor.callerContext=n,t.setRel.call(this,n,e&&n.linkAnchor?n.linkAnchor.rel:n.defaultRel),t.setLinkPreview.call(this,n,n.linkValue),this.plugins.selectMenu.on.call(this,n.callerName,this.plugins.anchor.setHeaderBookmark)},selfPathBookmark:function(n){const e=this._w.location.href.replace(/\/$/,"");return n.indexOf("#")===0||n.indexOf(e)===0&&n.indexOf("#")===(e.indexOf("#")===-1?e.length:e.substr(0,e.indexOf("#")).length)},_closeRelMenu:null,toggleRelList:function(n,e){if(!e)this.plugins.anchor._closeRelMenu&&this.plugins.anchor._closeRelMenu();else{const t=n.relButton,r=n.relList;this.util.addClass(t,"active"),r.style.visibility="hidden",r.style.display="block",this.options.rtl?r.style.left=t.offsetLeft-r.offsetWidth-1+"px":r.style.left=t.offsetLeft+t.offsetWidth+1+"px",r.style.top=t.offsetTop+t.offsetHeight/2-r.offsetHeight/2+"px",r.style.visibility="",this.plugins.anchor._closeRelMenu=(function(i,a,o){o&&(i.relButton.contains(o.target)||i.relList.contains(o.target))||(this.util.removeClass(a,"active"),i.relList.style.display="none",this.modalForm.removeEventListener("click",this.plugins.anchor._closeRelMenu),this.plugins.anchor._closeRelMenu=null)}).bind(this,n,t),this.modalForm.addEventListener("click",this.plugins.anchor._closeRelMenu)}},onClick_relButton:function(n,e){this.plugins.anchor.toggleRelList.call(this,n,!this.util.hasClass(e.target,"active"))},onClick_relList:function(n,e){const t=e.target,r=t.getAttribute("data-command");if(!r)return;const i=n.currentRel,a=this.util.toggleClass(t,"se-checked"),o=i.indexOf(r);a?o===-1&&i.push(r):o>-1&&i.splice(o,1),n.relPreview.title=n.relPreview.textContent=i.join(" ")},setRel:function(n,e){const t=n.relList,r=n.currentRel=e?e.split(" "):[];if(!t)return;const i=t.querySelectorAll("button");for(let a=0,o=i.length,l;a<o;a++)l=i[a].getAttribute("data-command"),r.indexOf(l)>-1?this.util.addClass(i[a],"se-checked"):this.util.removeClass(i[a],"se-checked");n.relPreview.title=n.relPreview.textContent=r.join(" ")},createHeaderList:function(n,e,t){const r=this.util.getListChildren(this.context.element.wysiwyg,function(l){return/h[1-6]/i.test(l.nodeName)});if(r.length===0)return;const i=new this._w.RegExp("^"+t.replace(/^#/,""),"i"),a=[];let o="";for(let l=0,s=r.length,f;l<s;l++)f=r[l],i.test(f.textContent)&&(a.push(f),o+='<li class="se-select-item" data-index="'+l+'">'+f.textContent+"</li>");a.length===0?this.plugins.selectMenu.close.call(this,e):(this.plugins.selectMenu.createList(e,a,o),this.plugins.selectMenu.open.call(this,e,this.plugins.anchor._setMenuListPosition.bind(this,n)))},_setMenuListPosition:function(n,e){e.style.top=n.urlInput.offsetHeight+1+"px"},onKeyDownUrlInput:function(n,e){switch(e.keyCode){case 38:e.preventDefault(),e.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,n,-1);break;case 40:e.preventDefault(),e.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,n,1);break;case 13:n.index>-1&&(e.preventDefault(),e.stopPropagation(),this.plugins.anchor.setHeaderBookmark.call(this,this.plugins.selectMenu.getItem(n,null)));break}},setHeaderBookmark:function(n){const e=this.context.anchor.callerContext,t=n.id||"h_"+this._w.Math.random().toString().replace(/.+\./,"");n.id=t,e.urlInput.value="#"+t,(!e.anchorText.value.trim()||!e._change)&&(e.anchorText.value=n.textContent),this.plugins.anchor.setLinkPreview.call(this,e,e.urlInput.value),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext),this.context.anchor.callerContext.urlInput.focus()},onChangeAnchorText:function(n,e){n._change=!!e.target.value.trim()},onChangeUrlInput:function(n,e){const t=e.target.value.trim();this.plugins.anchor.setLinkPreview.call(this,n,t),this.plugins.anchor.selfPathBookmark.call(this,t)?this.plugins.anchor.createHeaderList.call(this,n,this.context.selectMenu.callerContext,t):this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)},onFocusUrlInput:function(n,e){const t=n.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,t)&&this.plugins.anchor.createHeaderList.call(this,n,e,t)},onBlurUrlInput:function(n){this.plugins.selectMenu.close.call(this,n)},setLinkPreview:function(n,e){const t=n.preview,r=this.options.linkProtocol,i=this.options.linkNoPrefix,a=/^(mailto\:|tel\:|sms\:|https*\:\/\/|#)/.test(e)||e.indexOf(r)===0,o=r?this._w.RegExp("^"+this.util.escapeStringRegexp(e.substr(0,r.length))).test(r):!1;e=n.linkValue=t.textContent=e?i?e:r&&!a&&!o?r+e:a?e:/^www\./.test(e)?"http://"+e:this.context.anchor.host+(/^\//.test(e)?"":"/")+e:"",this.plugins.anchor.selfPathBookmark.call(this,e)?(n.bookmark.style.display="block",this.util.addClass(n.bookmarkButton,"active")):(n.bookmark.style.display="none",this.util.removeClass(n.bookmarkButton,"active")),!this.plugins.anchor.selfPathBookmark.call(this,e)&&n.downloadCheck.checked?n.download.style.display="block":n.download.style.display="none"},setCtx:function(n,e){n&&(e.linkAnchor=n,e.linkValue=n.href,e.currentRel=n.rel.split(" "))},updateAnchor:function(n,e,t,r,i){!this.plugins.anchor.selfPathBookmark.call(this,e)&&r.downloadCheck.checked?n.setAttribute("download",t||e):n.removeAttribute("download"),r.newWindowCheck.checked?n.target="_blank":n.removeAttribute("target");const a=r.currentRel.join(" ");a?n.rel=a:n.removeAttribute("rel"),n.href=e,i?n.children.length===0&&(n.textContent=""):n.textContent=t},createAnchor:function(n,e){if(n.linkValue.length===0)return null;const t=n.linkValue,r=n.anchorText,i=r.value.length===0?t:r.value,a=n.linkAnchor||this.util.createElement("A");return this.plugins.anchor.updateAnchor.call(this,a,t,i,n,e),n.linkValue=n.preview.textContent=n.urlInput.value=n.anchorText.value="",a},onClick_bookmarkButton:function(n){let e=n.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,e)?(e=e.substr(1),n.bookmark.style.display="none",this.util.removeClass(n.bookmarkButton,"active"),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)):(e="#"+e,n.bookmark.style.display="block",this.util.addClass(n.bookmarkButton,"active"),n.downloadCheck.checked=!1,n.download.style.display="none",this.plugins.anchor.createHeaderList.call(this,n,this.context.selectMenu.callerContext,e)),n.urlInput.value=e,this.plugins.anchor.setLinkPreview.call(this,n,e),n.urlInput.focus()},onChange_newWindowCheck:function(n,e){typeof n.linkDefaultRel.check_new_window=="string"&&(e.target.checked?this.plugins.anchor.setRel.call(this,n,this.plugins.anchor._relMerge.call(this,n,n.linkDefaultRel.check_new_window)):this.plugins.anchor.setRel.call(this,n,this.plugins.anchor._relDelete.call(this,n,n.linkDefaultRel.check_new_window)))},onChange_downloadCheck:function(n,e){e.target.checked?(n.download.style.display="block",n.bookmark.style.display="none",this.util.removeClass(n.bookmarkButton,"active"),n.linkValue=n.preview.textContent=n.urlInput.value=n.urlInput.value.replace(/^\#+/,""),typeof n.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,n,this.plugins.anchor._relMerge.call(this,n,n.linkDefaultRel.check_bookmark))):(n.download.style.display="none",typeof n.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,n,this.plugins.anchor._relDelete.call(this,n,n.linkDefaultRel.check_bookmark)))},_relMerge:function(n,e){const t=n.currentRel;if(!e)return t.join(" ");if(/^only\:/.test(e))return e=e.replace(/^only\:/,"").trim(),n.currentRel=e.split(" "),e;const r=e.split(" ");for(let i=0,a=r.length,o;i<a;i++)o=t.indexOf(r[i]),o===-1&&t.push(r[i]);return t.join(" ")},_relDelete:function(n,e){if(!e)return n.currentRel.join(" ");/^only\:/.test(e)&&(e=e.replace(/^only\:/,"").trim());const t=n.currentRel.join(" ").replace(this._w.RegExp(e+"\\s*"),"");return n.currentRel=t.split(" "),t},init:function(n){n.linkAnchor=null,n.linkValue=n.preview.textContent=n.urlInput.value="",n.anchorText.value="",n.newWindowCheck.checked=!1,n.downloadCheck.checked=!1,n._change=!1,this.plugins.anchor.setRel.call(this,n,n.defaultRel),n.relList&&this.plugins.anchor.toggleRelList.call(this,n,!1),this.context.anchor.callerContext=null,this.plugins.selectMenu.init.call(this,this.context.selectMenu.callerContext)}},epe={name:"link",display:"dialog",add:function(n){n.addModule([uv,mR]);const e=n.context,t=e.link={focusElement:null,_linkAnchor:null,anchorCtx:null};let r=this.setDialog(n);t.modal=r;let i=this.setController_LinkButton(n);t.linkController=i,r.querySelector("form").addEventListener("submit",this.submit.bind(n)),i.addEventListener("click",this.onClick_linkController.bind(n)),e.dialog.modal.appendChild(r),e.element.relative.appendChild(i),n.plugins.anchor.initEvent.call(n,"link",r),t.focusElement=e.anchor.caller.link.urlInput,r=null,i=null},setDialog:function(n){const e=n.lang,t=n.util.createElement("DIV"),r=n.icons;t.className="se-dialog-content",t.style.display="none";let i='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+e.dialogBox.close+'" aria-label="'+e.dialogBox.close+'">'+r.cancel+'</button><span class="se-modal-title">'+e.dialogBox.linkBox.title+"</span></div>"+n.context.anchor.forms.innerHTML+'<div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'" aria-label="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>";return t.innerHTML=i,t},setController_LinkButton:function(n){const e=n.lang,t=n.icons,r=n.util.createElement("DIV");return r.className="se-controller se-controller-link",r.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+t.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+t.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+t.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",r},open:function(){this.plugins.dialog.open.call(this,"link",this.currentControllerName==="link")},submit:function(n){this.showLoading(),n.preventDefault(),n.stopPropagation();try{const e=this.plugins.anchor.createAnchor.call(this,this.context.anchor.caller.link,!1);if(e===null)return;if(this.context.dialog.updateModal){const t=this.context.link._linkAnchor.childNodes[0];this.setRange(t,0,t,t.textContent.length)}else{const t=this.getSelectedElements();if(t.length>1){const r=this.util.createElement(t[0].nodeName);if(r.appendChild(e),!this.insertNode(r,null,!0))return}else if(!this.insertNode(e,null,!0))return;this.setRange(e.childNodes[0],0,e.childNodes[0],e.textContent.length)}}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(n){if(!n)this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();else if(this.util.isAnchor(n)&&n.getAttribute("data-image-link")===null)return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,n),!0;return!1},on:function(n){this.plugins.anchor.on.call(this,this.context.anchor.caller.link,n)},call_controller:function(n){this.editLink=this.context.link._linkAnchor=this.context.anchor.caller.link.linkAnchor=n;const e=this.context.link.linkController,t=e.querySelector("a");t.href=n.href,t.title=n.textContent,t.textContent=n.textContent,this.util.addClass(n,"on"),this.setControllerPosition(e,n,"bottom",{left:0,top:0}),this.controllersOn(e,n,"link",this.util.removeClass.bind(this.util,this.context.link._linkAnchor,"on"))},onClick_linkController:function(n){n.stopPropagation();const e=n.target.getAttribute("data-command")||n.target.parentNode.getAttribute("data-command");if(e){if(n.preventDefault(),/update/.test(e))this.plugins.dialog.open.call(this,"link",!0);else if(/unlink/.test(e)){const t=this.util.getChildElement(this.context.link._linkAnchor,function(i){return i.childNodes.length===0||i.nodeType===3},!1),r=this.util.getChildElement(this.context.link._linkAnchor,function(i){return i.childNodes.length===0||i.nodeType===3},!0);this.setRange(t,0,r,r.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.anchor.caller.link.linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){this.context.link.linkController.style.display="none",this.plugins.anchor.init.call(this,this.context.anchor.caller.link)}};var t0={exports:{}},tpe=t0.exports,XM;function npe(){return XM||(XM=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(r)}})(typeof window<"u"?window:tpe,function(e,t){const r={name:"component",set_container:function(i,a){const o=this.util.createElement("DIV");return o.className="se-component "+a,o.appendChild(i),o},set_cover:function(i){const a=this.util.createElement("FIGURE");return a.appendChild(i),a},create_caption:function(){const i=this.util.createElement("FIGCAPTION");return i.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",i}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:r})),r})}(t0)),t0.exports}var rpe=npe();const pE=Oo(rpe);var n0={exports:{}},ipe=n0.exports,QM;function ape(){return QM||(QM=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(r)}})(typeof window<"u"?window:ipe,function(e,t){const r={name:"resizing",add:function(i){const a=i.icons,o=i.context;o.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:a.align_justify,left:a.align_left,right:a.align_right,center:a.align_center}};let l=this.setController_resize(i);o.resizing.resizeContainer=l,o.resizing.resizeDiv=l.querySelector(".se-modal-resize"),o.resizing.resizeDot=l.querySelector(".se-resize-dot"),o.resizing.resizeDisplay=l.querySelector(".se-resize-display");let s=this.setController_button(i);o.resizing.resizeButton=s;let f=o.resizing.resizeHandles=o.resizing.resizeDot.querySelectorAll("span");o.resizing.resizeButtonGroup=s.querySelector("._se_resizing_btn_group"),o.resizing.rotationButtons=s.querySelectorAll("._se_resizing_btn_group ._se_rotation"),o.resizing.percentageButtons=s.querySelectorAll("._se_resizing_btn_group ._se_percentage"),o.resizing.alignMenu=s.querySelector(".se-resizing-align-list"),o.resizing.alignMenuList=o.resizing.alignMenu.querySelectorAll("button"),o.resizing.alignButton=s.querySelector("._se_resizing_align_button"),o.resizing.autoSizeButton=s.querySelector("._se_resizing_btn_group ._se_auto_size"),o.resizing.captionButton=s.querySelector("._se_resizing_caption_button"),l.addEventListener("mousedown",function(c){c.preventDefault()}),f[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),f[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),f[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),f[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),f[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),f[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),f[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),f[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(i)),s.addEventListener("click",this.onClick_resizeButton.bind(i)),o.element.relative.appendChild(l),o.element.relative.appendChild(s),l=null,s=null,f=null},setController_resize:function(i){const a=i.util.createElement("DIV");return a.className="se-controller se-resizing-container",a.style.display="none",a.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',a},setController_button:function(i){const a=i.lang,o=i.icons,l=i.util.createElement("DIV");return l.className="se-controller se-controller-resizing",l.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+o.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+o.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+o.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+o.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+o.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+o.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+o.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+o.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+o.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+o.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+o.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+o.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+o.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+o.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.remove+"</span></span></button></div>",l},_module_getSizeX:function(i,a,o,l){return a||(a=i._element),o||(o=i._cover),l||(l=i._container),a?/%$/.test(a.style.width)?(l&&this.util.getNumber(l.style.width,2)||100)+"%":a.style.width:""},_module_getSizeY:function(i,a,o,l){return a||(a=i._element),o||(o=i._cover),l||(l=i._container),!l||!o?a&&a.style.height||"":this.util.getNumber(o.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?o.style.height:!/%$/.test(a.style.height)||!/%$/.test(a.style.width)?a.style.height:(l&&this.util.getNumber(l.style.height,2)||100)+"%"},_module_setModifyInputSize:function(i,a){const o=i._onlyPercentage&&this.context.resizing._rotateVertical;i.proportion.checked=i._proportionChecked=i._element.getAttribute("data-proportion")!=="false";let l=o?"":this.plugins.resizing._module_getSizeX.call(this,i);if(l===i._defaultSizeX&&(l=""),i._onlyPercentage&&(l=this.util.getNumber(l,2)),i.inputX.value=l,a.setInputSize.call(this,"x"),!i._onlyPercentage){let s=o?"":this.plugins.resizing._module_getSizeY.call(this,i);s===i._defaultSizeY&&(s=""),i._onlyPercentage&&(s=this.util.getNumber(s,2)),i.inputY.value=s}i.inputX.disabled=!!o,i.inputY.disabled=!!o,i.proportion.disabled=!!o,a.setRatio.call(this)},_module_setInputSize:function(i,a){if(i._onlyPercentage){a==="x"&&i.inputX.value>100&&(i.inputX.value=100);return}if(i.proportion.checked&&i._ratio&&/\d/.test(i.inputX.value)&&/\d/.test(i.inputY.value)){const o=i.inputX.value.replace(/\d+|\./g,"")||i.sizeUnit,l=i.inputY.value.replace(/\d+|\./g,"")||i.sizeUnit;if(o!==l)return;const s=o==="%"?2:0;a==="x"?i.inputY.value=this.util.getNumber(i._ratioY*this.util.getNumber(i.inputX.value,s),s)+l:i.inputX.value=this.util.getNumber(i._ratioX*this.util.getNumber(i.inputY.value,s),s)+o}},_module_setRatio:function(i){const a=i.inputX.value,o=i.inputY.value;if(i.proportion.checked&&/\d+/.test(a)&&/\d+/.test(o)){const l=a.replace(/\d+|\./g,"")||i.sizeUnit,s=o.replace(/\d+|\./g,"")||i.sizeUnit;if(l!==s)i._ratio=!1;else if(!i._ratio){const f=this.util.getNumber(a,0),c=this.util.getNumber(o,0);i._ratio=!0,i._ratioX=f/c,i._ratioY=c/f}}else i._ratio=!1},_module_sizeRevert:function(i){i._onlyPercentage?i.inputX.value=i._origin_w>100?100:i._origin_w:(i.inputX.value=i._origin_w,i.inputY.value=i._origin_h)},_module_saveCurrentSize:function(i){const a=this.plugins.resizing._module_getSizeX.call(this,i),o=this.plugins.resizing._module_getSizeY.call(this,i);i._element.setAttribute("width",a.replace("px","")),i._element.setAttribute("height",o.replace("px","")),i._element.setAttribute("data-size",a+","+o),i._videoRatio&&(i._videoRatio=o)},call_controller_resize:function(i,a){const o=this.context.resizing,l=this.context[a];o._resize_plugin=a;const s=o.resizeContainer,f=o.resizeDiv,c=this.util.getOffset(i,this.context.element.wysiwygFrame),v=o._rotateVertical=/^(90|270)$/.test(Math.abs(i.getAttribute("data-rotate")).toString()),y=v?i.offsetHeight:i.offsetWidth,k=v?i.offsetWidth:i.offsetHeight,x=c.top,R=c.left-this.context.element.wysiwygFrame.scrollLeft;s.style.top=x+"px",s.style.left=R+"px",s.style.width=y+"px",s.style.height=k+"px",f.style.top="0px",f.style.left="0px",f.style.width=y+"px",f.style.height=k+"px";let d=i.getAttribute("data-align")||"basic";d=d==="none"?"basic":d;const h=this.util.getParentElement(i,this.util.isComponent),w=this.util.getParentElement(i,"FIGURE"),A=this.plugins.resizing._module_getSizeX.call(this,l,i,w,h)||"auto",D=l._onlyPercentage&&a==="image"?"":", "+(this.plugins.resizing._module_getSizeY.call(this,l,i,w,h)||"auto");this.util.changeTxt(o.resizeDisplay,this.lang.dialogBox[d]+" ("+A+D+")"),o.resizeButtonGroup.style.display=l._resizing?"":"none";const I=l._resizing&&!l._resizeDotHide&&!l._onlyPercentage?"flex":"none",O=o.resizeHandles;for(let ie=0,pe=O.length;ie<pe;ie++)O[ie].style.display=I;if(l._resizing){const ie=o.rotationButtons;ie[0].style.display=ie[1].style.display=l._rotation?"":"none"}if(l._alignHide)o.alignButton.style.display="none";else{o.alignButton.style.display="";const ie=o.alignMenuList;this.util.changeElement(o.alignButton.firstElementChild,o.alignIcons[d]);for(let pe=0,be=ie.length;pe<be;pe++)ie[pe].getAttribute("data-value")===d?this.util.addClass(ie[pe],"on"):this.util.removeClass(ie[pe],"on")}const F=o.percentageButtons,$=/%$/.test(i.style.width)&&/%$/.test(h.style.width)?this.util.getNumber(h.style.width,0)/100+"":"";for(let ie=0,pe=F.length;ie<pe;ie++)F[ie].getAttribute("data-value")===$?this.util.addClass(F[ie],"active"):this.util.removeClass(F[ie],"active");l._captionShow?(o.captionButton.style.display="",this.util.getChildElement(i.parentNode,"figcaption")?(this.util.addClass(o.captionButton,"active"),l._captionChecked=!0):(this.util.removeClass(o.captionButton,"active"),l._captionChecked=!1)):o.captionButton.style.display="none",s.style.display="block";const z={left:0,top:50};this.options.iframe&&(z.left-=this.context.element.wysiwygFrame.parentElement.offsetLeft,z.top-=this.context.element.wysiwygFrame.parentElement.offsetTop),this.setControllerPosition(o.resizeButton,s,"bottom",z);const ee=function(){this.util.setDisabledButtons.call(this.util,!1,this.resizingDisabledButtons),this.history._resetCachingButton()};this.controllersOn(s,o.resizeButton,ee.bind(this),i,a),this.util.setDisabledButtons(!0,this.resizingDisabledButtons),o._resize_w=y,o._resize_h=k;const me=(i.getAttribute("origin-size")||"").split(",");return o._origin_w=me[0]||i.naturalWidth,o._origin_h=me[1]||i.naturalHeight,{w:y,h:k,t:x,l:R}},_closeAlignMenu:null,openAlignMenu:function(){const i=this.context.resizing.alignButton;this.util.addClass(i,"on"),this.context.resizing.alignMenu.style.top=i.offsetTop+i.offsetHeight+"px",this.context.resizing.alignMenu.style.left=i.offsetLeft-i.offsetWidth/2+"px",this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=(function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("click",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}).bind(this),this.addDocEvent("click",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(i){i.stopPropagation();const a=i.target,o=a.getAttribute("data-command")||a.parentNode.getAttribute("data-command");if(!o)return;const l=a.getAttribute("data-value")||a.parentNode.getAttribute("data-value"),s=this.context.resizing._resize_plugin,f=this.context[s],c=f._element,v=this.plugins[s];if(i.preventDefault(),!(typeof this.plugins.resizing._closeAlignMenu=="function"&&(this.plugins.resizing._closeAlignMenu(),o==="onalign"))){switch(o){case"auto":this.plugins.resizing.resetTransform.call(this,c),v.setAutoSize.call(this),this.selectComponent(c,s);break;case"percent":let y=this.plugins.resizing._module_getSizeY.call(this,f);if(this.context.resizing._rotateVertical){const I=c.getAttribute("data-percentage");I&&(y=I.split(",")[1])}this.plugins.resizing.resetTransform.call(this,c),v.setPercentSize.call(this,l*100,this.util.getNumber(y,0)===null||!/%$/.test(y)?"":y),this.selectComponent(c,s);break;case"mirror":const k=c.getAttribute("data-rotate")||"0";let x=c.getAttribute("data-rotateX")||"",R=c.getAttribute("data-rotateY")||"";l==="h"&&!this.context.resizing._rotateVertical||l==="v"&&this.context.resizing._rotateVertical?R=R?"":"180":x=x?"":"180",c.setAttribute("data-rotateX",x),c.setAttribute("data-rotateY",R),this.plugins.resizing._setTransForm(c,k,x,R);break;case"rotate":const d=this.context.resizing,h=c.getAttribute("data-rotate")*1+l*1,w=this._w.Math.abs(h)>=360?0:h;c.setAttribute("data-rotate",w),d._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(w).toString()),this.plugins.resizing.setTransformSize.call(this,c,null,null),this.selectComponent(c,s);break;case"onalign":this.plugins.resizing.openAlignMenu.call(this);return;case"align":const A=l==="basic"?"none":l;v.setAlign.call(this,A,null,null,null),this.selectComponent(c,s);break;case"caption":const D=!f._captionChecked;if(v.openModify.call(this,!0),f._captionChecked=f.captionCheckEl.checked=D,v.update_image.call(this,!1,!1,!1),D){const I=this.util.getChildElement(f._caption,function(O){return O.nodeType===3});I?this.setRange(I,0,I,I.textContent.length):f._caption.focus(),this.controllersOff()}else this.selectComponent(c,s),v.openModify.call(this,!0);break;case"revert":v.setOriginSize.call(this),this.selectComponent(c,s);break;case"update":v.openModify.call(this),this.controllersOff();break;case"delete":v.destroy.call(this);break}this.history.push(!1)}},resetTransform:function(i){const a=(i.getAttribute("data-size")||i.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,i.style.maxWidth="",i.style.transform="",i.style.transformOrigin="",i.setAttribute("data-rotate",""),i.setAttribute("data-rotateX",""),i.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,a[0]?a[0]:"auto",a[1]?a[1]:"",!0)},setTransformSize:function(i,a,o){let l=i.getAttribute("data-percentage");const s=this.context.resizing._rotateVertical,f=i.getAttribute("data-rotate")*1;let c="";if(l&&!s)l=l.split(","),l[0]==="auto"&&l[1]==="auto"?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,l[0],l[1]);else{const v=this.util.getParentElement(i,"FIGURE"),y=a||i.offsetWidth,k=o||i.offsetHeight,x=(s?k:y)+"px",R=(s?y:k)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,y+"px",k+"px",!0),v.style.width=x,v.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":R,s){let d=y/2+"px "+y/2+"px 0",h=k/2+"px "+k/2+"px 0";c=f===90||f===-270?h:d}}i.style.transformOrigin=c,this.plugins.resizing._setTransForm(i,f.toString(),i.getAttribute("data-rotateX")||"",i.getAttribute("data-rotateY")||""),s?i.style.maxWidth="none":i.style.maxWidth="",this.plugins.resizing.setCaptionPosition.call(this,i)},_setTransForm:function(i,a,o,l){let s=(i.offsetWidth-i.offsetHeight)*(/-/.test(a)?1:-1),f="";if(/[1-9]/.test(a)&&(o||l))switch(f=o?"Y":"X",a){case"90":f=o&&l?"X":l?f:"";break;case"270":s*=-1,f=o&&l?"Y":o?f:"";break;case"-90":f=o&&l?"Y":o?f:"";break;case"-270":s*=-1,f=o&&l?"X":l?f:"";break;default:f=""}a%180===0&&(i.style.maxWidth=""),i.style.transform="rotate("+a+"deg)"+(o?" rotateX("+o+"deg)":"")+(l?" rotateY("+l+"deg)":"")+(f?" translate"+f+"("+s+"px)":"")},setCaptionPosition:function(i){const a=this.util.getChildElement(this.util.getParentElement(i,"FIGURE"),"FIGCAPTION");a&&(a.style.marginTop=(this.context.resizing._rotateVertical?i.offsetWidth-i.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(i){i.stopPropagation(),i.preventDefault();const a=this.context.resizing,o=a._resize_direction=i.target.classList[0];a._resizeClientX=i.clientX,a._resizeClientY=i.clientY,this.context.element.resizeBackground.style.display="block",a.resizeButton.style.display="none",a.resizeDiv.style.float=/l/.test(o)?"right":/r/.test(o)?"left":"none";const l=(function(c){if(c.type==="keydown"&&c.keyCode!==27)return;const v=a._isChange;a._isChange=!1,this.removeDocEvent("mousemove",s),this.removeDocEvent("mouseup",l),this.removeDocEvent("keydown",l),c.type==="keydown"?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,o),v&&this.history.push(!1))}).bind(this),s=this.plugins.resizing.resizing_element.bind(this,a,o,this.context[a._resize_plugin]);this.addDocEvent("mousemove",s),this.addDocEvent("mouseup",l),this.addDocEvent("keydown",l)},resizing_element:function(i,a,o,l){const s=l.clientX,f=l.clientY;let c=o._element_w,v=o._element_h;const y=o._element_w+(/r/.test(a)?s-i._resizeClientX:i._resizeClientX-s),k=o._element_h+(/b/.test(a)?f-i._resizeClientY:i._resizeClientY-f),x=o._element_h/o._element_w*y;/t/.test(a)&&(i.resizeDiv.style.top=o._element_h-(/h/.test(a)?k:x)+"px"),/l/.test(a)&&(i.resizeDiv.style.left=o._element_w-y+"px"),/r|l/.test(a)&&(i.resizeDiv.style.width=y+"px",c=y),/^(t|b)[^h]$/.test(a)?(i.resizeDiv.style.height=x+"px",v=x):/^(t|b)h$/.test(a)&&(i.resizeDiv.style.height=k+"px",v=k),i._resize_w=c,i._resize_h=v,this.util.changeTxt(i.resizeDisplay,this._w.Math.round(c)+" x "+this._w.Math.round(v)),i._isChange=!0},cancel_controller_resize:function(i){const a=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let o=this._w.Math.round(a?this.context.resizing._resize_h:this.context.resizing._resize_w),l=this._w.Math.round(a?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!a&&!/%$/.test(o)){const c=this.context.element.wysiwygFrame.clientWidth-32-2;this.util.getNumber(o,0)>c&&(l=this._w.Math.round(l/o*c),o=c)}const s=this.context.resizing._resize_plugin;this.plugins[s].setSize.call(this,o,l,!1,i),a&&this.plugins.resizing.setTransformSize.call(this,this.context[this.context.resizing._resize_plugin]._element,o,l),this.selectComponent(this.context[s]._element,s)}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:r})),r})}(n0)),n0.exports}var ope=ape();const yR=Oo(ope);var r0={exports:{}},spe=r0.exports,eN;function lpe(){return eN||(eN=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(r)}})(typeof window<"u"?window:spe,function(e,t){const r={name:"fileManager",_xmlHttp:null,_checkMediaComponent:function(i){return/IMG/i.test(i)?!/FIGURE/i.test(i.parentElement.nodeName)||!/FIGURE/i.test(i.parentElement.parentElement.nodeName):!0},upload:function(i,a,o,l,s){this.showLoading();const f=this.plugins.fileManager,c=f._xmlHttp=this.util.getXMLHttpRequest();if(c.onreadystatechange=f._callBackUpload.bind(this,c,l,s),c.open("post",i,!0),a!==null&&typeof a=="object"&&this._w.Object.keys(a).length>0)for(let v in a)c.setRequestHeader(v,a[v]);c.send(o)},_callBackUpload:function(i,a,o){if(i.readyState===4)if(i.status===200)try{a(i)}catch(l){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+l.message+'"')}finally{this.closeLoading()}else{this.closeLoading();const l=i.responseText?JSON.parse(i.responseText):i;if(typeof o!="function"||o("",l,this)){const s="[SUNEDITOR.fileManager.upload.serverException] status: "+i.status+", response: "+(l.errorMessage||i.responseText);throw this.functions.noticeOpen(s),Error(s)}}},checkInfo:function(i,a,o,l,s){let f=[];for(let h=0,w=a.length;h<w;h++)f=f.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(a[h]+':not([data-se-embed="true"])')));const c=this.plugins.fileManager,v=this.context[i],y=v._infoList,k=c.setInfo.bind(this);if(f.length===y.length)if(this._componentsInfoReset){for(let h=0,w=f.length;h<w;h++)k(i,f[h],o,null,s);return}else{let h=!1;for(let w=0,A=y.length,D;w<A;w++)if(D=y[w],f.filter(function(I){return D.src===I.src&&D.index.toString()===I.getAttribute("data-index")}).length===0){h=!0;break}if(!h)return}const x=s?this.context.resizing._resize_plugin:"";s&&(this.context.resizing._resize_plugin=i);const R=[],d=[];for(let h=0,w=y.length;h<w;h++)d[h]=y[h].index;for(v.__updateTags=f;f.length>0;){const h=f.shift();!this.util.getParentElement(h,this.util.isMediaComponent)||!c._checkMediaComponent(h)?(R.push(v._infoIndex),l(h)):!h.getAttribute("data-index")||d.indexOf(h.getAttribute("data-index")*1)<0?(R.push(v._infoIndex),h.removeAttribute("data-index"),k(i,h,o,null,s)):R.push(h.getAttribute("data-index")*1)}for(let h=0,w;h<y.length;h++)w=y[h].index,!(R.indexOf(w)>-1)&&(y.splice(h,1),typeof o=="function"&&o(null,w,"delete",null,0,this),h--);s&&(this.context.resizing._resize_plugin=x)},setInfo:function(i,a,o,l,s){const f=s?this.context.resizing._resize_plugin:"";s&&(this.context.resizing._resize_plugin=i);const c=this.plugins[i],v=this.context[i],y=v._infoList;let k=a.getAttribute("data-index"),x=null,R="";if(l||(l={name:a.getAttribute("data-file-name")||(typeof a.src=="string"?a.src.split("/").pop():""),size:a.getAttribute("data-file-size")||0}),!k||this._componentsInfoInit)R="create",k=v._infoIndex++,a.setAttribute("data-index",k),a.setAttribute("data-file-name",l.name),a.setAttribute("data-file-size",l.size),x={src:a.src,index:k*1,name:l.name,size:l.size},y.push(x);else{R="update",k*=1;for(let d=0,h=y.length;d<h;d++)if(k===y[d].index){x=y[d];break}x||(k=v._infoIndex++,x={index:k},y.push(x)),x.src=a.src,x.name=a.getAttribute("data-file-name"),x.size=a.getAttribute("data-file-size")*1}if(x.element=a,x.delete=c.destroy.bind(this,a),x.select=(function(d){d.scrollIntoView(!0),this._w.setTimeout(c.select.bind(this,d))}).bind(this,a),s){if(!a.getAttribute("origin-size")&&a.naturalWidth&&a.setAttribute("origin-size",a.naturalWidth+","+a.naturalHeight),!a.getAttribute("data-origin")){const d=this.util.getParentElement(a,this.util.isMediaComponent),h=this.util.getParentElement(a,"FIGURE"),w=this.plugins.resizing._module_getSizeX.call(this,v,a,h,d),A=this.plugins.resizing._module_getSizeY.call(this,v,a,h,d);a.setAttribute("data-origin",w+","+A),a.setAttribute("data-size",w+","+A)}if(!a.style.width){const d=(a.getAttribute("data-size")||a.getAttribute("data-origin")||"").split(",");c.onModifyMode.call(this,a,null),c.applySize.call(this,d[0],d[1])}this.context.resizing._resize_plugin=f}typeof o=="function"&&o(a,k,R,x,--v._uploadFileLength<0?0:v._uploadFileLength,this)},deleteInfo:function(i,a,o){if(a>=0){const l=this.context[i]._infoList;for(let s=0,f=l.length;s<f;s++)if(a===l[s].index){l.splice(s,1),typeof o=="function"&&o(null,a,"delete",null,0,this);return}}},resetInfo:function(i,a){const o=this.context[i];if(typeof a=="function"){const l=o._infoList;for(let s=0,f=l.length;s<f;s++)a(null,l[s].index,"delete",null,0,this)}o._infoList=[],o._infoIndex=0}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:r})),r})}(r0)),r0.exports}var upe=lpe();const vE=Oo(upe),cpe={name:"image",display:"dialog",add:function(n){n.addModule([uv,mR,pE,yR,vE]);const e=n.options,t=n.context,r=t.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:e._imageSizeUnit,_linkElement:"",_altText:"",_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_src:{_linkValue:""},svgDefaultSize:"30%",base64RenderIndex:0,_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:e.imageWidth==="auto"?"":e.imageWidth,_origin_h:e.imageHeight==="auto"?"":e.imageHeight,_proportionChecked:!0,_resizing:e.imageResizing,_resizeDotHide:!e.imageHeightShow,_rotation:e.imageRotation,_alignHide:!e.imageAlignShow,_onlyPercentage:e.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null};let i=this.setDialog(n);r.modal=i,r.imgInputFile=i.querySelector("._se_image_file"),r.imgUrlFile=i.querySelector("._se_image_url"),r.focusElement=r.imgInputFile||r.imgUrlFile,r.altText=i.querySelector("._se_image_alt"),r.captionCheckEl=i.querySelector("._se_image_check_caption"),r.previewSrc=i.querySelector("._se_tab_content_image .se-link-preview"),i.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(n)),i.querySelector("form").addEventListener("submit",this.submit.bind(n)),r.imgInputFile&&i.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(r.imgInputFile,r.imgUrlFile,r.previewSrc)),r.imgUrlFile&&r.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(r.previewSrc,r._v_src,e.linkProtocol)),r.imgInputFile&&r.imgUrlFile&&r.imgInputFile.addEventListener("change",this._fileInputChange.bind(r));const a=i.querySelector(".__se__gallery");a&&a.addEventListener("click",this._openGallery.bind(n)),r.proportion={},r.inputX={},r.inputY={},e.imageResizing&&(r.proportion=i.querySelector("._se_image_check_proportion"),r.inputX=i.querySelector("._se_image_size_x"),r.inputY=i.querySelector("._se_image_size_y"),r.inputX.value=e.imageWidth,r.inputY.value=e.imageHeight,r.inputX.addEventListener("keyup",this.setInputSize.bind(n,"x")),r.inputY.addEventListener("keyup",this.setInputSize.bind(n,"y")),r.inputX.addEventListener("change",this.setRatio.bind(n)),r.inputY.addEventListener("change",this.setRatio.bind(n)),r.proportion.addEventListener("change",this.setRatio.bind(n)),i.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(n))),t.dialog.modal.appendChild(i),n.plugins.anchor.initEvent.call(n,"image",i.querySelector("._se_tab_content_url")),r.anchorCtx=n.context.anchor.caller.image,i=null},setDialog:function(n){const e=n.options,t=n.lang,r=n.util.createElement("DIV");r.className="se-dialog-content se-dialog-image",r.style.display="none";let i='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+n.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+t.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+t.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(e.imageFileInput&&(i+='<div class="se-dialog-form"><label>'+t.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+e.imageAccept+'"'+(e.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+t.controller.remove+'" aria-label="'+t.controller.remove+'">'+n.icons.cancel+"</button></div></div>"),e.imageUrlInput&&(i+='<div class="se-dialog-form"><label>'+t.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url _se_image_url" type="text" />'+(e.imageGalleryUrl&&n.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+t.toolbar.imageGallery+'" aria-label="'+t.toolbar.imageGallery+'">'+n.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),i+='</div><div class="se-dialog-form"><label>'+t.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',e.imageResizing){const a=e.imageSizeOnlyPercentage,o=a?' style="display: none !important;"':"",l=e.imageHeightShow?"":' style="display: none !important;"';i+='<div class="se-dialog-form">',a||!e.imageHeightShow?i+='<div class="se-dialog-size-text"><label class="size-w">'+t.dialogBox.size+"</label></div>":i+='<div class="se-dialog-size-text"><label class="size-w">'+t.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+t.dialogBox.height+"</label></div>",i+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(a?' type="number" min="1"':'type="text"')+(a?' max="100"':"")+' /><label class="se-dialog-size-x"'+l+">"+(a?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+o+(a?' max="100"':"")+l+"/><label"+o+l+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+t.dialogBox.proportion+'</label><button type="button" title="'+t.dialogBox.revertButton+'" aria-label="'+t.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+n.icons.revert+"</button></div>"}return i+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+t.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none">'+n.context.anchor.forms.innerHTML+'</div><div class="se-dialog-footer"><div'+(e.imageAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+t.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+t.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+t.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+t.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",r.innerHTML=i,r},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(n,e){this.value="",n&&(n.removeAttribute("disabled"),e.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(n){this.altText.value=n.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=n.getAttribute("data-value")||n.src,this.imgUrlFile.focus()},_onLinkPreview:function(n,e,t){const r=t.target.value.trim();n._linkValue=this.textContent=r?e&&r.indexOf("://")===-1&&r.indexOf("#")!==0?e+r:r.indexOf("://")===-1?"/"+r:r:""},fileTags:["img"],select:function(n){this.plugins.image.onModifyMode.call(this,n,this.plugins.resizing.call_controller_resize.call(this,n,"image"))},destroy:function(n){const e=n||this.context.image._element,t=this.util.getParentElement(e,this.util.isMediaComponent)||e,r=e.getAttribute("data-index")*1;if(typeof this.functions.onImageDeleteBefore=="function"&&this.functions.onImageDeleteBefore(e,t,r,this)===!1)return;let i=t.previousElementSibling||t.nextElementSibling;const a=t.parentNode;this.util.removeItem(t),this.plugins.image.init.call(this),this.controllersOff(),a!==this.context.element.wysiwyg&&this.util.removeItemAllParents(a,function(o){return o.childNodes.length===0},null),this.focusEdge(i),this.plugins.fileManager.deleteInfo.call(this,"image",r,this.functions.onImageUpload),this.history.push(!1)},on:function(n){const e=this.context.image;n?e.imgInputFile&&this.options.imageMultipleFile&&e.imgInputFile.removeAttribute("multiple"):(e.inputX.value=e._origin_w=this.options.imageWidth===e._defaultSizeX?"":this.options.imageWidth,e.inputY.value=e._origin_h=this.options.imageHeight===e._defaultSizeY?"":this.options.imageHeight,e.imgInputFile&&this.options.imageMultipleFile&&e.imgInputFile.setAttribute("multiple","multiple")),this.plugins.anchor.on.call(this,e.anchorCtx,n)},open:function(){this.plugins.dialog.open.call(this,"image",this.currentControllerName==="image")},openTab:function(n){const e=this.context.image.modal,t=n==="init"?e.querySelector("._se_tab_link"):n.target;if(!/^BUTTON$/i.test(t.tagName))return!1;const r=t.getAttribute("data-tab-link"),i="_se_tab_content";let a,o,l;for(o=e.getElementsByClassName(i),a=0;a<o.length;a++)o[a].style.display="none";for(l=e.getElementsByClassName("_se_tab_link"),a=0;a<l.length;a++)this.util.removeClass(l[a],"active");return e.querySelector("."+i+"_"+r).style.display="block",this.util.addClass(t,"active"),r==="image"&&this.context.image.focusElement?this.context.image.focusElement.focus():r==="url"&&this.context.anchor.caller.image.urlInput.focus(),!1},submit:function(n){const e=this.context.image,t=this.plugins.image;n.preventDefault(),n.stopPropagation(),e._altText=e.altText.value,e._align=e.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,e._captionChecked=e.captionCheckEl.checked,e._resizing&&(e._proportionChecked=e.proportion.checked);try{this.context.dialog.updateModal&&t.update_image.call(this,!1,!0,!1),e.imgInputFile&&e.imgInputFile.files.length>0?(this.showLoading(),t.submitAction.call(this,this.context.image.imgInputFile.files)):e.imgUrlFile&&e._v_src._linkValue.length>0&&(this.showLoading(),t.onRender_imgUrl.call(this,e._v_src._linkValue))}catch(r){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+r.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(n){if(n.length===0)return;let e=0,t=[];for(let l=0,s=n.length;l<s;l++)/image/i.test(n[l].type)&&(t.push(n[l]),e+=n[l].size);const r=this.options.imageUploadSizeLimit;if(r>0){let l=0;const s=this.context.image._infoList;for(let f=0,c=s.length;f<c;f++)l+=s[f].size*1;if(e+l>r){this.closeLoading();const f="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+r/1e3+"KB";(typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(f,{limitSize:r,currentSize:l,uploadSize:e},this))&&this.functions.noticeOpen(f);return}}const i=this.context.image;i._uploadFileLength=t.length;const o={anchor:this.plugins.anchor.createAnchor.call(this,i.anchorCtx,!0),inputWidth:i.inputX.value,inputHeight:i.inputY.value,align:i._align,isUpdate:this.context.dialog.updateModal,alt:i._altText,element:i._element};if(typeof this.functions.onImageUploadBefore=="function"){const l=this.functions.onImageUploadBefore(t,o,this,(function(s){s&&this._w.Array.isArray(s.result)?this.plugins.image.register.call(this,o,s):this.plugins.image.upload.call(this,o,s)}).bind(this));if(typeof l>"u")return;if(!l){this.closeLoading();return}this._w.Array.isArray(l)&&l.length>0&&(t=l)}this.plugins.image.upload.call(this,o,t)},error:function(n,e){if(this.closeLoading(),typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(n,e,this))throw this.functions.noticeOpen(n),Error("[SUNEDITOR.plugin.image.error] response: "+n)},upload:function(n,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.image.error.call(this,e,null);return}const t=this.options.imageUploadUrl,r=this.context.dialog.updateModal?1:e.length;if(typeof t=="string"&&t.length>0){const i=new FormData;for(let a=0;a<r;a++)i.append("file-"+a,e[a]);this.plugins.fileManager.upload.call(this,t,this.options.imageUploadHeader,i,this.plugins.image.callBack_imgUpload.bind(this,n),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,e,n.anchor,n.inputWidth,n.inputHeight,n.align,n.alt,r,n.isUpdate)},callBack_imgUpload:function(n,e){if(typeof this.functions.imageUploadHandler=="function")this.functions.imageUploadHandler(e,n,this);else{const t=JSON.parse(e.responseText);t.errorMessage?this.plugins.image.error.call(this,t.errorMessage,t):this.plugins.image.register.call(this,n,t)}},register:function(n,e){const t=e.result;for(let r=0,i=t.length,a;r<i;r++)if(a={name:t[r].name,size:t[r].size},n.isUpdate){this.plugins.image.update_src.call(this,t[r].url,n.element,a);break}else this.plugins.image.create_image.call(this,t[r].url,n.anchor,n.inputWidth,n.inputHeight,n.align,a,n.alt);this.closeLoading()},setup_reader:function(n,e,t,r,i,a,o,l){try{if(o===0){this.closeLoading(),console.warn("[SUNEDITOR.image.base64.fail] cause : No applicable files");return}this.context.image.base64RenderIndex=o;const s=this._w.FileReader,f=[o];this.context.image.inputX.value=t,this.context.image.inputY.value=r;for(let c=0,v,y;c<o;c++)v=new s,y=n[c],v.onload=(function(k,x,R,d,h){f[h]={result:k.result,file:d},--this.context.image.base64RenderIndex===0&&(this.plugins.image.onRender_imgBase64.call(this,x,f,R,e,t,r,i,a),this.closeLoading())}).bind(this,v,l,this.context.image._element,y,c),v.readAsDataURL(y)}catch(s){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+s.message+'"')}},onRender_imgBase64:function(n,e,t,r,i,a,o,l){const s=this.plugins.image.update_src,f=this.plugins.image.create_image;for(let c=0,v=e.length;c<v;c++)n?(this.context.image._element.setAttribute("data-file-name",e[c].file.name),this.context.image._element.setAttribute("data-file-size",e[c].file.size),s.call(this,e[c].result,t,e[c].file)):f.call(this,e[c].result,r,i,a,o,e[c].file,l)},onRender_imgUrl:function(n){if(n||(n=this.context.image._v_src._linkValue),!n)return!1;const e=this.context.image;try{const t={name:n.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,n,e._element,t):this.plugins.image.create_image.call(this,n,this.plugins.anchor.createAnchor.call(this,e.anchorCtx,!0),e.inputX.value,e.inputY.value,e._align,t,e._altText)}catch(t){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+t.message+'"')}finally{this.closeLoading()}},onRender_link:function(n,e){return e?(e.setAttribute("data-image-link","image"),n.setAttribute("data-image-link",e.href),e.appendChild(n),e):n},setInputSize:function(n,e){if(e&&e.keyCode===32){e.preventDefault();return}this.plugins.resizing._module_setInputSize.call(this,this.context.image,n)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){const n=this.plugins.image,e=this.context.image,t=(function(r){n.onModifyMode.call(this,r,null),n.openModify.call(this,!0),e.inputX.value=e._origin_w,e.inputY.value=e._origin_h;const i=this.util.getFormatElement(r);i&&(e._align=i.style.textAlign||i.style.float),this.util.isAnchor(r.parentNode)&&!e.anchorCtx.linkValue&&(e.anchorCtx.linkValue=" "),n.update_image.call(this,!0,!1,!0),n.init.call(this)}).bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,t,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(n,e,t,r,i,a,o){const l=this.plugins.image,s=this.context.image;this.context.resizing._resize_plugin="image";let f=this.util.createElement("IMG");f.src=n,f.alt=o,f.setAttribute("data-rotate","0"),e=l.onRender_link.call(this,f,e?e.cloneNode(!1):null),s._resizing&&f.setAttribute("data-proportion",s._proportionChecked);const c=this.plugins.component.set_cover.call(this,e),v=this.plugins.component.set_container.call(this,c,"se-image-container");s._captionChecked&&(s._caption=this.plugins.component.create_caption.call(this),c.appendChild(s._caption)),s._element=f,s._cover=c,s._container=v,l.applySize.call(this,t,r),l.setAlign.call(this,i,f,c,v),f.onload=l._image_create_onload.bind(this,f,s.svgDefaultSize,v),this.insertComponent(v,!0,!0,!this.options.mediaAutoSelect)&&this.plugins.fileManager.setInfo.call(this,"image",f,this.functions.onImageUpload,a,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(n,e,t){if(n.offsetWidth===0&&this.plugins.image.applySize.call(this,e,""),this.options.mediaAutoSelect)this.selectComponent(n,"image");else{const r=this.appendFormatTag(t,null);r&&this.setRange(r,0,r,0)}this.history.push(!1)},update_image:function(n,e,t){const r=this.context.image;let i=r._element,a=r._cover,o=r._container,l=!1;a===null&&(l=!0,i=r._element.cloneNode(!0),a=this.plugins.component.set_cover.call(this,i)),o===null?(a=a.cloneNode(!0),i=a.querySelector("img"),l=!0,o=this.plugins.component.set_container.call(this,a,"se-image-container")):l&&(o.innerHTML="",o.appendChild(a),r._cover=a,r._element=i,l=!1);let s;const f=this.util.isNumber(r.inputX.value)?r.inputX.value+r.sizeUnit:r.inputX.value,c=this.util.isNumber(r.inputY.value)?r.inputY.value+r.sizeUnit:r.inputY.value;/%$/.test(i.style.width)?s=f!==o.style.width||c!==o.style.height:s=f!==i.style.width||c!==i.style.height,i.alt=r._altText;let v=!1;r._captionChecked?r._caption||(r._caption=this.plugins.component.create_caption.call(this),a.appendChild(r._caption),v=!0):r._caption&&(this.util.removeItem(r._caption),r._caption=null,v=!0);let y=null;const k=this.plugins.anchor.createAnchor.call(this,r.anchorCtx,!0);if(k)r._linkElement!==k||l&&!o.contains(k)?(r._linkElement=k.cloneNode(!1),a.insertBefore(this.plugins.image.onRender_link.call(this,i,r._linkElement),r._caption),y=r._element):r._linkElement.setAttribute("data-image-link","image");else if(r._linkElement!==null){const R=i;if(R.setAttribute("data-image-link",""),a.contains(r._linkElement)){const d=R.cloneNode(!0);a.removeChild(r._linkElement),a.insertBefore(d,r._caption),r._element=i=d}}let x=null;if(l){if(x=this.util.isRangeFormatElement(r._element.parentNode)||this.util.isWysiwygDiv(r._element.parentNode)?r._element:this.util.isAnchor(r._element.parentNode)?r._element.parentNode:this.util.getFormatElement(r._element)||r._element,this.util.getParentElement(r._element,this.util.isNotCheckingNode))x=y?k:r._element,x.parentNode.replaceChild(o,x);else if(this.util.isListCell(x)){const R=this.util.getParentElement(r._element,function(d){return d.parentNode===x});x.insertBefore(o,R),this.util.removeItem(r._element),this.util.removeEmptyNode(R,null,!0)}else if(this.util.isFormatElement(x)){const R=this.util.getParentElement(r._element,function(d){return d.parentNode===x});x=this.util.splitElement(x,R),x.parentNode.insertBefore(o,x),this.util.removeItem(r._element),this.util.removeEmptyNode(x,null,!0),x.children.length===0&&(x.innerHTML=this.util.htmlRemoveWhiteSpace(x.innerHTML))}else if(this.util.isFormatElement(x.parentNode)){const R=x.parentNode;R.parentNode.insertBefore(o,x.previousSibling?R.nextElementSibling:R),r.__updateTags.map(function(d){return x.contains(d)}).length===0&&this.util.removeItem(x)}else x=this.util.isFigures(x.parentNode)?x.parentNode:x,x.parentNode.replaceChild(o,x);i=o.querySelector("img"),r._element=i,r._cover=a,r._container=o}y&&(l?(this.util.removeItem(y),this.util.getListChildren(k,function(R){return/IMG/i.test(R.tagName)}).length===0&&this.util.removeItem(k)):this.util.removeItem(k)),(v||!r._onlyPercentage&&s)&&!n&&(/\d+/.test(i.style.height)||this.context.resizing._rotateVertical&&r._captionChecked)&&(/%$/.test(r.inputX.value)||/%$/.test(r.inputY.value)?this.plugins.resizing.resetTransform.call(this,i):this.plugins.resizing.setTransformSize.call(this,i,this.util.getNumber(r.inputX.value,0),this.util.getNumber(r.inputY.value,0))),r._resizing&&(i.setAttribute("data-proportion",r._proportionChecked),s&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,i,null,null),n&&this.plugins.fileManager.setInfo.call(this,"image",i,this.functions.onImageUpload,null,!0),e&&this.selectComponent(i,"image"),t||this.history.push(!1)},update_src:function(n,e,t){e.src=n,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",e,this.functions.onImageUpload,t,!0)),this.selectComponent(e,"image")},onModifyMode:function(n,e){if(!n)return;const t=this.context.image;t._linkElement=t.anchorCtx.linkAnchor=this.util.isAnchor(n.parentNode)?n.parentNode:null,t._element=n,t._cover=this.util.getParentElement(n,"FIGURE"),t._container=this.util.getParentElement(n,this.util.isMediaComponent),t._caption=this.util.getChildElement(t._cover,"FIGCAPTION"),t._align=n.getAttribute("data-align")||n.style.float||"none",n.style.float="",this.plugins.anchor.setCtx(t._linkElement,t.anchorCtx),e&&(t._element_w=e.w,t._element_h=e.h,t._element_t=e.t,t._element_l=e.l);let r=t._element.getAttribute("data-size")||t._element.getAttribute("data-origin"),i,a;r?(r=r.split(","),i=r[0],a=r[1]):e&&(i=e.w,a=e.h),t._origin_w=i||n.style.width||n.width||"",t._origin_h=a||n.style.height||n.height||""},openModify:function(n){const e=this.context.image;e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=e._element.src),e._altText=e.altText.value=e._element.alt,(e.modal.querySelector('input[name="suneditor_image_radio"][value="'+e._align+'"]')||e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]')).checked=!0,e._align=e.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,e._captionChecked=e.captionCheckEl.checked=!!e._caption,e._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,e,this.plugins.image),n||this.plugins.dialog.open.call(this,"image",!0)},applySize:function(n,e){const t=this.context.image;return n||(n=t.inputX.value||this.options.imageWidth),e||(e=t.inputY.value||this.options.imageHeight),t._onlyPercentage&&n||/%$/.test(n)?(this.plugins.image.setPercentSize.call(this,n,e),!0):((!n||n==="auto")&&(!e||e==="auto")?this.plugins.image.setAutoSize.call(this):this.plugins.image.setSize.call(this,n,e,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},setSize:function(n,e,t,r){const i=this.context.image,a=/^(rw|lw)$/.test(r)&&/\d+/.test(i._element.style.height);/^(th|bh)$/.test(r)&&/\d+/.test(i._element.style.width)||(i._element.style.width=this.util.isNumber(n)?n+i.sizeUnit:n,this.plugins.image.cancelPercentAttr.call(this)),a||(i._element.style.height=this.util.isNumber(e)?e+i.sizeUnit:/%$/.test(e)?"":e),i._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),t||i._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,i)},setAutoSize:function(){const n=this.context.image;n._caption&&(n._caption.style.marginTop=""),this.plugins.resizing.resetTransform.call(this,n._element),this.plugins.image.cancelPercentAttr.call(this),n._element.style.maxWidth="",n._element.style.width="",n._element.style.height="",n._cover.style.width="",n._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),n._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,n)},setOriginSize:function(){const n=this.context.image;n._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,n._element),this.plugins.image.cancelPercentAttr.call(this);const e=(n._element.getAttribute("data-origin")||"").split(","),t=e[0],r=e[1];e&&(n._onlyPercentage||/%$/.test(t)&&(/%$/.test(r)||!/\d/.test(r))?this.plugins.image.setPercentSize.call(this,t,r):this.plugins.image.setSize.call(this,t,r),this.plugins.resizing._module_saveCurrentSize.call(this,n))},setPercentSize:function(n,e){const t=this.context.image;e=e&&!/%$/.test(e)&&!this.util.getNumber(e,0)?this.util.isNumber(e)?e+"%":e:this.util.isNumber(e)?e+t.sizeUnit:e||"";const r=/%$/.test(e);t._container.style.width=this.util.isNumber(n)?n+"%":n,t._container.style.height="",t._cover.style.width="100%",t._cover.style.height=r?e:"",t._element.style.width="100%",t._element.style.height=r?"":e,t._element.style.maxWidth="",t._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),t._element.setAttribute("data-percentage",n+","+e),this.plugins.resizing.setCaptionPosition.call(this,t._element),this.plugins.resizing._module_saveCurrentSize.call(this,t)},cancelPercentAttr:function(){const n=this.context.image;n._cover.style.width="",n._cover.style.height="",n._container.style.width="",n._container.style.height="",this.util.removeClass(n._container,this.context.image._floatClassRegExp),this.util.addClass(n._container,"__se__float-"+n._align),n._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(n,e,t,r){const i=this.context.image;n||(n=i._align),e||(e=i._element),t||(t=i._cover),r||(r=i._container),/%$/.test(e.style.width)&&n==="center"?(r.style.minWidth="100%",t.style.width=r.style.width):(r.style.minWidth="",t.style.width=this.context.resizing._rotateVertical?e.style.height||e.offsetHeight:!e.style.width||e.style.width==="auto"?"":e.style.width||"100%"),this.util.hasClass(r,"__se__float-"+n)||(this.util.removeClass(r,i._floatClassRegExp),this.util.addClass(r,"__se__float-"+n)),e.setAttribute("data-align",n)},init:function(){const n=this.context.image;n.imgInputFile&&(n.imgInputFile.value=""),n.imgUrlFile&&(n._v_src._linkValue=n.previewSrc.textContent=n.imgUrlFile.value=""),n.imgInputFile&&n.imgUrlFile&&(n.imgUrlFile.removeAttribute("disabled"),n.previewSrc.style.textDecoration=""),n.altText.value="",n.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,n.captionCheckEl.checked=!1,n._element=null,this.plugins.image.openTab.call(this,"init"),n._resizing&&(n.inputX.value=this.options.imageWidth===n._defaultSizeX?"":this.options.imageWidth,n.inputY.value=this.options.imageHeight===n._defaultSizeY?"":this.options.imageHeight,n.proportion.checked=!0,n._ratio=!1,n._ratioX=1,n._ratioY=1),this.plugins.anchor.init.call(this,n.anchorCtx)}},fpe={name:"video",display:"dialog",add:function(n){n.addModule([uv,pE,yR,vE]);const e=n.options,t=n.context,r=t.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:e._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:e.youtubeQuery,_vimeoQuery:e.vimeoQuery,_videoRatio:e.videoRatio*100+"%",_defaultRatio:e.videoRatio*100+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:e.videoRatio*100+"%",_origin_w:e.videoWidth==="100%"?"":e.videoWidth,_origin_h:e.videoHeight==="56.25%"?"":e.videoHeight,_proportionChecked:!0,_resizing:e.videoResizing,_resizeDotHide:!e.videoHeightShow,_rotation:e.videoRotation,_alignHide:!e.videoAlignShow,_onlyPercentage:e.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1};let i=this.setDialog(n);r.modal=i,r.videoInputFile=i.querySelector("._se_video_file"),r.videoUrlFile=i.querySelector(".se-input-url"),r.focusElement=r.videoUrlFile||r.videoInputFile,r.preview=i.querySelector(".se-link-preview"),i.querySelector("form").addEventListener("submit",this.submit.bind(n)),r.videoInputFile&&i.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(r.videoInputFile,r.videoUrlFile,r.preview)),r.videoInputFile&&r.videoUrlFile&&r.videoInputFile.addEventListener("change",this._fileInputChange.bind(r)),r.videoUrlFile&&r.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(r.preview,r,e.linkProtocol)),r.proportion={},r.videoRatioOption={},r.inputX={},r.inputY={},e.videoResizing&&(r.proportion=i.querySelector("._se_video_check_proportion"),r.videoRatioOption=i.querySelector(".se-video-ratio"),r.inputX=i.querySelector("._se_video_size_x"),r.inputY=i.querySelector("._se_video_size_y"),r.inputX.value=e.videoWidth,r.inputY.value=e.videoHeight,r.inputX.addEventListener("keyup",this.setInputSize.bind(n,"x")),r.inputY.addEventListener("keyup",this.setInputSize.bind(n,"y")),r.inputX.addEventListener("change",this.setRatio.bind(n)),r.inputY.addEventListener("change",this.setRatio.bind(n)),r.proportion.addEventListener("change",this.setRatio.bind(n)),r.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(n)),i.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(n))),t.dialog.modal.appendChild(i),i=null},setDialog:function(n){const e=n.options,t=n.lang,r=n.util.createElement("DIV");r.className="se-dialog-content",r.style.display="none";let i='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+n.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(e.videoFileInput&&(i+='<div class="se-dialog-form"><label>'+t.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+e.videoAccept+'"'+(e.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+t.controller.remove+'" aria-label="'+t.controller.remove+'">'+n.icons.cancel+"</button></div></div>"),e.videoUrlInput&&(i+='<div class="se-dialog-form"><label>'+t.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),e.videoResizing){const a=e.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],o=e.videoRatio,l=e.videoSizeOnlyPercentage,s=l?' style="display: none !important;"':"",f=e.videoHeightShow?"":' style="display: none !important;"',c=e.videoRatioShow?"":' style="display: none !important;"',v=!l&&!e.videoHeightShow&&!e.videoRatioShow?' style="display: none !important;"':"";i+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+t.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+f+">"+t.dialogBox.height+'</label><label class="size-h"'+c+">("+t.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(l?' type="number" min="1"':'type="text"')+(l?' max="100"':"")+'/><label class="se-dialog-size-x"'+v+">"+(l?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+e.videoRatio*100+'%"'+(l?' type="number" min="1"':'type="text"')+(l?' max="100"':"")+f+'/><select class="se-input-select se-video-ratio" title="'+t.dialogBox.ratio+'" aria-label="'+t.dialogBox.ratio+'"'+c+">",f||(i+='<option value=""> - </option>');for(let y=0,k=a.length;y<k;y++)i+='<option value="'+a[y].value+'"'+(o.toString()===a[y].value.toString()?" selected":"")+">"+a[y].name+"</option>";i+='</select><button type="button" title="'+t.dialogBox.revertButton+'" aria-label="'+t.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+n.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+s+v+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+t.dialogBox.proportion+"</label></div>"}return i+='</div><div class="se-dialog-footer"><div'+(e.videoAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+t.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+t.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+t.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+t.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",r.innerHTML=i,r},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(n,e){this.value="",n&&(n.removeAttribute("disabled"),e.style.textDecoration="")},_onLinkPreview:function(n,e,t){const r=t.target.value.trim();/^<iframe.*\/iframe>$/.test(r)?(n._linkValue=r,this.textContent='<IFrame :src=".."></IFrame>'):n._linkValue=this.textContent=r?e&&r.indexOf("://")===-1&&r.indexOf("#")!==0?e+r:r.indexOf("://")===-1?"/"+r:r:""},_setTagAttrs:function(n){n.setAttribute("controls",!0);const e=this.options.videoTagAttrs;if(e)for(let t in e)this.util.hasOwn(e,t)&&n.setAttribute(t,e[t])},createVideoTag:function(){const n=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,n),n},_setIframeAttrs:function(n){n.frameBorder="0",n.allowFullscreen=!0;const e=this.options.videoIframeAttrs;if(e)for(let t in e)this.util.hasOwn(e,t)&&n.setAttribute(t,e[t])},createIframeTag:function(){const n=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,n),n},fileTags:["iframe","video"],select:function(n){this.plugins.video.onModifyMode.call(this,n,this.plugins.resizing.call_controller_resize.call(this,n,"video"))},destroy:function(n){const e=n||this.context.video._element,t=this.context.video._container,r=e.getAttribute("data-index")*1;if(typeof this.functions.onVideoDeleteBefore=="function"&&this.functions.onVideoDeleteBefore(e,t,r,this)===!1)return;let i=t.previousElementSibling||t.nextElementSibling;const a=t.parentNode;this.util.removeItem(t),this.plugins.video.init.call(this),this.controllersOff(),a!==this.context.element.wysiwyg&&this.util.removeItemAllParents(a,function(o){return o.childNodes.length===0},null),this.focusEdge(i),this.plugins.fileManager.deleteInfo.call(this,"video",r,this.functions.onVideoUpload),this.history.push(!1)},on:function(n){const e=this.context.video;n?e.videoInputFile&&this.options.videoMultipleFile&&e.videoInputFile.removeAttribute("multiple"):(e.inputX.value=e._origin_w=this.options.videoWidth===e._defaultSizeX?"":this.options.videoWidth,e.inputY.value=e._origin_h=this.options.videoHeight===e._defaultSizeY?"":this.options.videoHeight,e.proportion.disabled=!0,e.videoInputFile&&this.options.videoMultipleFile&&e.videoInputFile.setAttribute("multiple","multiple")),e._resizing&&this.plugins.video.setVideoRatioSelect.call(this,e._origin_h||e._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video",this.currentControllerName==="video")},setVideoRatio:function(n){const e=this.context.video,t=n.target.options[n.target.selectedIndex].value;e._defaultSizeY=e._videoRatio=t?t*100+"%":e._defaultSizeY,e.inputY.placeholder=t?t*100+"%":"",e.inputY.value=""},setInputSize:function(n,e){if(e&&e.keyCode===32){e.preventDefault();return}const t=this.context.video;this.plugins.resizing._module_setInputSize.call(this,t,n),n==="y"&&this.plugins.video.setVideoRatioSelect.call(this,e.target.value||t._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(n){const e=this.context.video,t=this.plugins.video;n.preventDefault(),n.stopPropagation(),e._align=e.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{e.videoInputFile&&e.videoInputFile.files.length>0?(this.showLoading(),t.submitAction.call(this,this.context.video.videoInputFile.files)):e.videoUrlFile&&e._linkValue.length>0&&(this.showLoading(),t.setup_url.call(this,e._linkValue))}catch(r){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+r.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(n){if(n.length===0)return;let e=0,t=[];for(let o=0,l=n.length;o<l;o++)/video/i.test(n[o].type)&&(t.push(n[o]),e+=n[o].size);const r=this.options.videoUploadSizeLimit;if(r>0){let o=0;const l=this.context.video._infoList;for(let s=0,f=l.length;s<f;s++)o+=l[s].size*1;if(e+o>r){this.closeLoading();const s="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+r/1e3+"KB";(typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(s,{limitSize:r,currentSize:o,uploadSize:e},this))&&this.functions.noticeOpen(s);return}}const i=this.context.video;i._uploadFileLength=t.length;const a={inputWidth:i.inputX.value,inputHeight:i.inputY.value,align:i._align,isUpdate:this.context.dialog.updateModal,element:i._element};if(typeof this.functions.onVideoUploadBefore=="function"){const o=this.functions.onVideoUploadBefore(t,a,this,(function(l){l&&this._w.Array.isArray(l.result)?this.plugins.video.register.call(this,a,l):this.plugins.video.upload.call(this,a,l)}).bind(this));if(typeof o>"u")return;if(!o){this.closeLoading();return}typeof o=="object"&&o.length>0&&(t=o)}this.plugins.video.upload.call(this,a,t)},error:function(n,e){if(this.closeLoading(),typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(n,e,this))throw this.functions.noticeOpen(n),Error("[SUNEDITOR.plugin.video.error] response: "+n)},upload:function(n,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.video.error.call(this,e,null);return}const t=this.options.videoUploadUrl,r=this.context.dialog.updateModal?1:e.length;if(typeof t=="string"&&t.length>0){const i=new FormData;for(let a=0;a<r;a++)i.append("file-"+a,e[a]);this.plugins.fileManager.upload.call(this,t,this.options.videoUploadHeader,i,this.plugins.video.callBack_videoUpload.bind(this,n),this.functions.onVideoUploadError)}else throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.')},callBack_videoUpload:function(n,e){if(typeof this.functions.videoUploadHandler=="function")this.functions.videoUploadHandler(e,n,this);else{const t=JSON.parse(e.responseText);t.errorMessage?this.plugins.video.error.call(this,t.errorMessage,t):this.plugins.video.register.call(this,n,t)}},register:function(n,e){const t=e.result,r=this.plugins.video.createVideoTag.call(this);for(let i=0,a=t.length,o;i<a;i++)o={name:t[i].name,size:t[i].size},this.plugins.video.create_video.call(this,n.isUpdate?n.element:r.cloneNode(!1),t[i].url,n.inputWidth,n.inputHeight,n.align,o,n.isUpdate);this.closeLoading()},setup_url:function(n){try{const e=this.context.video;if(n||(n=e._linkValue),!n||/^<iframe.*\/iframe>$/.test(n)&&(n=new this._w.DOMParser().parseFromString(n,"text/html").querySelector("iframe").src,n.length===0))return!1;if(/youtu\.?be/.test(n)){if(/^http/.test(n)||(n="https://"+n),n=n.replace("watch?v=",""),/^\/\/.+\/embed\//.test(n)||(n=n.replace(n.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),e._youtubeQuery.length>0)if(/\?/.test(n)){const t=n.split("?");n=t[0]+"?"+e._youtubeQuery+"&"+t[1]}else n+="?"+e._youtubeQuery}else if(/vimeo\.com/.test(n)&&(n.endsWith("/")&&(n=n.slice(0,-1)),n="https://player.vimeo.com/video/"+n.slice(n.lastIndexOf("/")+1),e._vimeoQuery.length>0))if(/\?/.test(n)){const t=n.split("?");n=t[0]+"?"+e._vimeoQuery+"&"+t[1]}else n+="?"+e._vimeoQuery;this.plugins.video.create_video.call(this,this.plugins.video[!/embed|iframe|player|\/e\/|\.php|\.html?/.test(n)&&!/vimeo\.com/.test(n)?"createVideoTag":"createIframeTag"].call(this),n,e.inputX.value,e.inputY.value,e._align,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_video:function(n,e,t,r,i,a,o){this.context.resizing._resize_plugin="video";const l=this.context.video;let s=null,f=null,c=!1;if(o){if(n=l._element,n.src!==e){c=!0;const R=/youtu\.?be/.test(e),d=/vimeo\.com/.test(e);if((R||d)&&!/^iframe$/i.test(n.nodeName)){const h=this.plugins.video.createIframeTag.call(this);h.src=e,n.parentNode.replaceChild(h,n),l._element=n=h}else if(!R&&!d&&!/^video$/i.test(n.nodeName)){const h=this.plugins.video.createVideoTag.call(this);h.src=e,n.parentNode.replaceChild(h,n),l._element=n=h}else n.src=e}f=l._container,s=this.util.getParentElement(n,"FIGURE")}else c=!0,n.src=e,l._element=n,s=this.plugins.component.set_cover.call(this,n),f=this.plugins.component.set_container.call(this,s,"se-video-container");l._cover=s,l._container=f;const v=this.plugins.resizing._module_getSizeX.call(this,l)!==(t||l._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,l)!==(r||l._videoRatio),y=!o||v;l._resizing&&(this.context.video._proportionChecked=l.proportion.checked,n.setAttribute("data-proportion",l._proportionChecked));let k=!1;y&&(k=this.plugins.video.applySize.call(this)),k&&i==="center"||this.plugins.video.setAlign.call(this,null,n,s,f);let x=!0;if(o)l._resizing&&this.context.resizing._rotateVertical&&y&&this.plugins.resizing.setTransformSize.call(this,n,null,null);else if(x=this.insertComponent(f,!1,!0,!this.options.mediaAutoSelect),!this.options.mediaAutoSelect){const R=this.appendFormatTag(f,null);R&&this.setRange(R,0,R,0)}x&&(c&&this.plugins.fileManager.setInfo.call(this,"video",n,this.functions.onVideoUpload,a,!0),o&&(this.selectComponent(n,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(n){if(!n)return;const e=this.context.video;/^video$/i.test(n.nodeName)?this.plugins.video._setTagAttrs.call(this,n):this.plugins.video._setIframeAttrs.call(this,n);let t=this.util.isRangeFormatElement(n.parentNode)||this.util.isWysiwygDiv(n.parentNode)?n:this.util.getFormatElement(n)||n;const r=n;e._element=n=n.cloneNode(!0);const i=e._cover=this.plugins.component.set_cover.call(this,n),a=e._container=this.plugins.component.set_container.call(this,i,"se-video-container");try{const o=t.querySelector("figcaption");let l=null;o&&(l=this.util.createElement("DIV"),l.innerHTML=o.innerHTML,this.util.removeItem(o));const s=(n.getAttribute("data-size")||n.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,s[0]||r.style.width||r.width||"",s[1]||r.style.height||r.height||"");const f=this.util.getFormatElement(r);if(f&&(e._align=f.style.textAlign||f.style.float),this.plugins.video.setAlign.call(this,null,n,i,a),this.util.getParentElement(r,this.util.isNotCheckingNode))r.parentNode.replaceChild(a,r);else if(this.util.isListCell(t)){const c=this.util.getParentElement(r,function(v){return v.parentNode===t});t.insertBefore(a,c),this.util.removeItem(r),this.util.removeEmptyNode(c,null,!0)}else if(this.util.isFormatElement(t)){const c=this.util.getParentElement(r,function(v){return v.parentNode===t});t=this.util.splitElement(t,c),t.parentNode.insertBefore(a,t),this.util.removeItem(r),this.util.removeEmptyNode(t,null,!0),t.children.length===0&&(t.innerHTML=this.util.htmlRemoveWhiteSpace(t.innerHTML))}else t.parentNode.replaceChild(a,t);l&&t.parentNode.insertBefore(l,a.nextElementSibling)}catch(o){console.warn("[SUNEDITOR.video.error] Maybe the video tag is nested.",o)}this.plugins.fileManager.setInfo.call(this,"video",n,this.functions.onVideoUpload,null,!0),this.plugins.video.init.call(this)},onModifyMode:function(n,e){const t=this.context.video;t._element=n,t._cover=this.util.getParentElement(n,"FIGURE"),t._container=this.util.getParentElement(n,this.util.isMediaComponent),t._align=n.style.float||n.getAttribute("data-align")||"none",n.style.float="",e&&(t._element_w=e.w,t._element_h=e.h,t._element_t=e.t,t._element_l=e.l);let r=t._element.getAttribute("data-size")||t._element.getAttribute("data-origin"),i,a;r?(r=r.split(","),i=r[0],a=r[1]):e&&(i=e.w,a=e.h),t._origin_w=i||n.style.width||n.width||"",t._origin_h=a||n.style.height||n.height||""},openModify:function(n){const e=this.context.video;if(e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=e._element.src||(e._element.querySelector("source")||"").src||""),(e.modal.querySelector('input[name="suneditor_video_radio"][value="'+e._align+'"]')||e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]')).checked=!0,e._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,e,this.plugins.video);const t=e._videoRatio=this.plugins.resizing._module_getSizeY.call(this,e);this.plugins.video.setVideoRatioSelect.call(this,t)||(e.inputY.value=e._onlyPercentage?this.util.getNumber(t,2):t)}n||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(n){let e=!1;const t=this.context.video,r=t.videoRatioOption.options;/%$/.test(n)||t._onlyPercentage?n=this.util.getNumber(n,2)/100+"":(!this.util.isNumber(n)||n*1>=1)&&(n=""),t.inputY.placeholder="";for(let i=0,a=r.length;i<a;i++)r[i].value===n?(e=r[i].selected=!0,t.inputY.placeholder=n?n*100+"%":""):r[i].selected=!1;return e},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},applySize:function(n,e){const t=this.context.video;return n||(n=t.inputX.value||this.options.videoWidth),e||(e=t.inputY.value||this.options.videoHeight),t._onlyPercentage||/%$/.test(n)||!n?(this.plugins.video.setPercentSize.call(this,n||"100%",e||(/%$/.test(t._videoRatio)?t._videoRatio:t._defaultRatio)),!0):((!n||n==="auto")&&(!e||e==="auto")?this.plugins.video.setAutoSize.call(this):this.plugins.video.setSize.call(this,n,e||t._videoRatio||t._defaultRatio,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},setSize:function(n,e,t,r){const i=this.context.video,a=/^(rw|lw)$/.test(r),o=/^(th|bh)$/.test(r);o||(n=this.util.getNumber(n,0)),a||(e=this.util.isNumber(e)?e+i.sizeUnit:e||""),n=n?n+i.sizeUnit:"",o||(i._element.style.width=n),a||(i._cover.style.paddingBottom=i._cover.style.height=e),!o&&!/%$/.test(n)&&(i._cover.style.width=n,i._container.style.width=""),!a&&!/%$/.test(e)?i._element.style.height=e:i._element.style.height="",t||i._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,i)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(n){const e=this.context.video;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.video.cancelPercentAttr.call(this);const t=((n?e._element.getAttribute("data-size"):"")||e._element.getAttribute("data-origin")||"").split(",");if(t){const r=t[0],i=t[1];e._onlyPercentage||/%$/.test(r)&&(/%$/.test(i)||!/\d/.test(i))?this.plugins.video.setPercentSize.call(this,r,i):this.plugins.video.setSize.call(this,r,i),this.plugins.resizing._module_saveCurrentSize.call(this,e)}},setPercentSize:function(n,e){const t=this.context.video;e=e&&!/%$/.test(e)&&!this.util.getNumber(e,0)?this.util.isNumber(e)?e+"%":e:this.util.isNumber(e)?e+t.sizeUnit:e||t._defaultRatio,t._container.style.width=this.util.isNumber(n)?n+"%":n,t._container.style.height="",t._cover.style.width="100%",t._cover.style.height=e,t._cover.style.paddingBottom=e,t._element.style.width="100%",t._element.style.height="100%",t._element.style.maxWidth="",t._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null),t._element.setAttribute("data-percentage",n+","+e),this.plugins.resizing._module_saveCurrentSize.call(this,t)},cancelPercentAttr:function(){const n=this.context.video;n._cover.style.width="",n._cover.style.height="",n._cover.style.paddingBottom="",n._container.style.width="",n._container.style.height="",this.util.removeClass(n._container,this.context.video._floatClassRegExp),this.util.addClass(n._container,"__se__float-"+n._align),n._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(n,e,t,r){const i=this.context.video;n||(n=i._align),e||(e=i._element),t||(t=i._cover),r||(r=i._container),/%$/.test(e.style.width)&&n==="center"?(r.style.minWidth="100%",t.style.width=r.style.width,t.style.height=t.style.height,t.style.paddingBottom=/%$/.test(t.style.height)?this.util.getNumber(this.util.getNumber(t.style.height,2)/100*this.util.getNumber(t.style.width,2),2)+"%":t.style.height):(r.style.minWidth="",t.style.width=this.context.resizing._rotateVertical?e.style.height||e.offsetHeight:e.style.width||"100%",t.style.paddingBottom=t.style.height),this.util.hasClass(r,"__se__float-"+n)||(this.util.removeClass(r,i._floatClassRegExp),this.util.addClass(r,"__se__float-"+n)),e.setAttribute("data-align",n)},init:function(){const n=this.context.video;n.videoInputFile&&(n.videoInputFile.value=""),n.videoUrlFile&&(n._linkValue=n.preview.textContent=n.videoUrlFile.value=""),n.videoInputFile&&n.videoUrlFile&&(n.videoUrlFile.removeAttribute("disabled"),n.preview.style.textDecoration=""),n._origin_w=this.options.videoWidth,n._origin_h=this.options.videoHeight,n.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,n._resizing&&(n.inputX.value=this.options.videoWidth===n._defaultSizeX?"":this.options.videoWidth,n.inputY.value=this.options.videoHeight===n._defaultSizeY?"":this.options.videoHeight,n.proportion.checked=!0,n.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,n._defaultRatio))}},dpe={name:"audio",display:"dialog",add:function(n){n.addModule([uv,pE,vE]);const e=n.context,t=e.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:n.options.audioWidth,_origin_h:n.options.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null};let r=this.setDialog(n);t.modal=r,t.audioInputFile=r.querySelector("._se_audio_files"),t.audioUrlFile=r.querySelector(".se-input-url"),t.focusElement=t.audioInputFile||t.audioUrlFile,t.preview=r.querySelector(".se-link-preview");let i=this.setController(n);t.controller=i,r.querySelector("form").addEventListener("submit",this.submit.bind(n)),t.audioInputFile&&r.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(t.audioInputFile,t.audioUrlFile,t.preview)),t.audioInputFile&&t.audioUrlFile&&t.audioInputFile.addEventListener("change",this._fileInputChange.bind(t)),i.addEventListener("click",this.onClick_controller.bind(n)),t.audioUrlFile&&t.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(t.preview,t,n.options.linkProtocol)),e.dialog.modal.appendChild(r),e.element.relative.appendChild(i),r=null,i=null},setDialog:function(n){const e=n.options,t=n.lang,r=n.util.createElement("DIV");r.className="se-dialog-content",r.style.display="none";let i='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+t.dialogBox.close+'" aria-label="'+t.dialogBox.close+'">'+n.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return e.audioFileInput&&(i+='<div class="se-dialog-form"><label>'+t.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+e.audioAccept+'"'+(e.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+t.controller.remove+'" aria-label="'+t.controller.remove+'">'+n.icons.cancel+"</button></div></div>"),e.audioUrlInput&&(i+='<div class="se-dialog-form"><label>'+t.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),i+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'" aria-label="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",r.innerHTML=i,r},setController:function(n){const e=n.lang,t=n.icons,r=n.util.createElement("DIV");return r.className="se-controller se-controller-link",r.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+t.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+t.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",r},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(n,e){this.value="",n&&(n.removeAttribute("disabled"),e.style.textDecoration="")},_createAudioTag:function(){const n=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,n);const e=this.context.audio._origin_w,t=this.context.audio._origin_h;return n.setAttribute("origin-size",e+","+t),n.style.cssText=(e?"width:"+e+"; ":"")+(t?"height:"+t+";":""),n},_setTagAttrs:function(n){n.setAttribute("controls",!0);const e=this.options.audioTagAttrs;if(e)for(let t in e)this.util.hasOwn(e,t)&&n.setAttribute(t,e[t])},_onLinkPreview:function(n,e,t){const r=t.target.value.trim();n._linkValue=this.textContent=r?e&&r.indexOf("://")===-1&&r.indexOf("#")!==0?e+r:r.indexOf("://")===-1?"/"+r:r:""},fileTags:["audio"],select:function(n){this.plugins.audio.onModifyMode.call(this,n)},destroy:function(n){n=n||this.context.audio._element;const e=this.util.getParentElement(n,this.util.isComponent)||n,t=n.getAttribute("data-index")*1;if(typeof this.functions.onAudioDeleteBefore=="function"&&this.functions.onAudioDeleteBefore(n,e,t,this)===!1)return;const r=e.previousElementSibling||e.nextElementSibling,i=e.parentNode;this.util.removeItem(e),this.plugins.audio.init.call(this),this.controllersOff(),i!==this.context.element.wysiwyg&&this.util.removeItemAllParents(i,function(a){return a.childNodes.length===0},null),this.focusEdge(r),this.plugins.fileManager.deleteInfo.call(this,"audio",t,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(n){const e=this.context.audio;n?e._element?(this.context.dialog.updateModal=!0,e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src,e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.removeAttribute("multiple")):e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio",this.currentControllerName==="audio")},submit:function(n){const e=this.context.audio;n.preventDefault(),n.stopPropagation();try{e.audioInputFile&&e.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,e.audioInputFile.files)):e.audioUrlFile&&e._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,e._linkValue))}catch(t){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+t.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(n){if(n.length===0)return;let e=0,t=[];for(let o=0,l=n.length;o<l;o++)/audio/i.test(n[o].type)&&(t.push(n[o]),e+=n[o].size);const r=this.options.audioUploadSizeLimit;if(r>0){let o=0;const l=this.context.audio._infoList;for(let s=0,f=l.length;s<f;s++)o+=l[s].size*1;if(e+o>r){this.closeLoading();const s="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+r/1e3+"KB";(typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(s,{limitSize:r,currentSize:o,uploadSize:e},this))&&this.functions.noticeOpen(s);return}}const i=this.context.audio;i._uploadFileLength=t.length;const a={isUpdate:this.context.dialog.updateModal,element:i._element};if(typeof this.functions.onAudioUploadBefore=="function"){const o=this.functions.onAudioUploadBefore(t,a,this,(function(l){l&&this._w.Array.isArray(l.result)?this.plugins.audio.register.call(this,a,l):this.plugins.audio.upload.call(this,a,l)}).bind(this));if(typeof o>"u")return;if(!o){this.closeLoading();return}typeof o=="object"&&o.length>0&&(t=o)}this.plugins.audio.upload.call(this,a,t)},error:function(n,e){if(this.closeLoading(),typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(n,e,this))throw this.functions.noticeOpen(n),Error("[SUNEDITOR.plugin.audio.exception] response: "+n)},upload:function(n,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.audio.error.call(this,e,null);return}const t=this.options.audioUploadUrl,r=this.context.dialog.updateModal?1:e.length,i=new FormData;for(let a=0;a<r;a++)i.append("file-"+a,e[a]);this.plugins.fileManager.upload.call(this,t,this.options.audioUploadHeader,i,this.plugins.audio.callBack_upload.bind(this,n),this.functions.onAudioUploadError)},callBack_upload:function(n,e){if(typeof this.functions.audioUploadHandler=="function")this.functions.audioUploadHandler(e,n,this);else{const t=JSON.parse(e.responseText);t.errorMessage?this.plugins.audio.error.call(this,t.errorMessage,t):this.plugins.audio.register.call(this,n,t)}},register:function(n,e){const t=e.result;for(let r=0,i=t.length,a,o;r<i;r++)n.isUpdate?o=n.element:o=this.plugins.audio._createAudioTag.call(this),a={name:t[r].name,size:t[r].size},this.plugins.audio.create_audio.call(this,o,t[r].url,a,n.isUpdate);this.closeLoading()},setupUrl:function(n){try{if(n.length===0)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),n,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_audio:function(n,e,t,r){const i=this.context.audio;if(r)if(i._element&&(n=i._element),n&&n.src!==e)n.src=e,this.selectComponent(n,"audio");else{this.selectComponent(n,"audio");return}else{n.src=e;const a=this.plugins.component.set_cover.call(this,n),o=this.plugins.component.set_container.call(this,a,"");if(!this.insertComponent(o,!1,!0,!this.options.mediaAutoSelect)){this.focus();return}if(!this.options.mediaAutoSelect){const l=this.appendFormatTag(o,null);l&&this.setRange(l,0,l,0)}}this.plugins.fileManager.setInfo.call(this,"audio",n,this.functions.onAudioUpload,t,!1),r&&this.history.push(!1)},updateCover:function(n){const e=this.context.audio;this.plugins.audio._setTagAttrs.call(this,n);let t=this.util.isRangeFormatElement(n.parentNode)||this.util.isWysiwygDiv(n.parentNode)?n:this.util.getFormatElement(n)||n;const r=n;e._element=n=n.cloneNode(!1);const i=this.plugins.component.set_cover.call(this,n),a=this.plugins.component.set_container.call(this,i,"se-audio-container");try{if(this.util.getParentElement(r,this.util.isNotCheckingNode))r.parentNode.replaceChild(a,r);else if(this.util.isListCell(t)){const o=this.util.getParentElement(r,function(l){return l.parentNode===t});t.insertBefore(a,o),this.util.removeItem(r),this.util.removeEmptyNode(o,null,!0)}else if(this.util.isFormatElement(t)){const o=this.util.getParentElement(r,function(l){return l.parentNode===t});t=this.util.splitElement(t,o),t.parentNode.insertBefore(a,t),this.util.removeItem(r),this.util.removeEmptyNode(t,null,!0),t.children.length===0&&(t.innerHTML=this.util.htmlRemoveWhiteSpace(t.innerHTML))}else t.parentNode.replaceChild(a,t)}catch(o){console.warn("[SUNEDITOR.audio.error] Maybe the audio tag is nested.",o)}this.plugins.fileManager.setInfo.call(this,"audio",n,this.functions.onAudioUpload,null,!1),this.plugins.audio.init.call(this)},onModifyMode:function(n){const e=this.context.audio;this.setControllerPosition(e.controller,n,"bottom",{left:0,top:0}),this.controllersOn(e.controller,n,this.plugins.audio.onControllerOff.bind(this,n),"audio"),this.util.addClass(n,"active"),e._element=n,e._cover=this.util.getParentElement(n,"FIGURE"),e._container=this.util.getParentElement(n,this.util.isComponent)},openModify:function(n){if(this.context.audio.audioUrlFile){const e=this.context.audio;e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src}n||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(n){n.stopPropagation();const e=n.target.getAttribute("data-command");e&&(n.preventDefault(),/update/.test(e)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(n){this.util.removeClass(n,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;const n=this.context.audio;n.audioInputFile&&(n.audioInputFile.value=""),n.audioUrlFile&&(n._linkValue=n.preview.textContent=n.audioUrlFile.value=""),n.audioInputFile&&n.audioUrlFile&&(n.audioUrlFile.removeAttribute("disabled"),n.preview.style.textDecoration=""),n._element=null}},tN="https://katex.org/docs/supported.html",hpe={name:"math",display:"dialog",add:function(n){n.addModule([uv]);const e=n.context;e.math={focusElement:null,previewElement:null,fontSizeElement:null,defaultFontSize:"",_mathExp:null};let t=this.setDialog(n);e.math.modal=t,e.math.focusElement=t.querySelector(".se-math-exp"),e.math.previewElement=t.querySelector(".se-math-preview"),e.math.fontSizeElement=t.querySelector(".se-math-size"),e.math.focusElement.addEventListener("paste",function(i){typeof n.functions.onPasteMath=="function"&&n.functions.onPasteMath(i,n)},!1),e.math.focusElement.addEventListener(n.util.isIE?"textinput":"input",this._renderMathExp.bind(n,e.math),!1),e.math.fontSizeElement.addEventListener("change",(function(i){this.fontSize=i.target.value}).bind(e.math.previewElement.style),!1);let r=this.setController_MathButton(n);e.math.mathController=r,e.math._mathExp=null,t.querySelector("form").addEventListener("submit",this.submit.bind(n),!1),r.addEventListener("click",this.onClick_mathController.bind(n)),e.math.previewElement.style.fontSize=e.math.defaultFontSize,e.dialog.modal.appendChild(t),e.element.relative.appendChild(r),t=null,r=null},setDialog:function(n){const e=n.lang,t=n.util.createElement("DIV"),r=n.options.mathFontSize;let i=r[0].value;t.className="se-dialog-content",t.style.display="none";let a='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+e.dialogBox.close+'" aria-label="'+e.dialogBox.close+'">'+n.icons.cancel+'</button><span class="se-modal-title">'+e.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.inputLabel+' (<a href="'+tN+'" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size">';for(let o=0,l=r.length,s;o<l;o++)s=r[o],s.default&&(i=s.value),a+='<option value="'+s.value+'"'+(s.default?" selected":"")+">"+s.text+"</option>";return a+='</select></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'" aria-label="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>",n.context.math.defaultFontSize=i,t.innerHTML=a,t},setController_MathButton:function(n){const e=n.lang,t=n.util.createElement("DIV");return t.className="se-controller se-controller-link",t.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+n.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+n.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",t},open:function(){this.plugins.dialog.open.call(this,"math",this.currentControllerName==="math")},managedTags:function(){return{className:"katex",method:function(n){if(!n.getAttribute("data-exp")||!this.options.katex)return;const e=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(n.getAttribute("data-exp"))));n.innerHTML=e.querySelector(".katex").innerHTML,n.setAttribute("contenteditable",!1)}}},_renderer:function(n){let e="";try{this.util.removeClass(this.context.math.focusElement,"se-error"),e=this.options.katex.src.renderToString(n,{throwOnError:!0,displayMode:!0})}catch(t){this.util.addClass(this.context.math.focusElement,"se-error"),e='<span class="se-math-katex-error">Katex syntax error. (Refer <a href="'+tN+'" target="_blank">KaTeX</a>)</span>',console.warn("[SUNEDITOR.math.Katex.error] ",t)}return e},_renderMathExp:function(n,e){n.previewElement.innerHTML=this.plugins.math._renderer.call(this,e.target.value)},submit:function(n){this.showLoading(),n.preventDefault(),n.stopPropagation();const e=(function(){if(this.context.math.focusElement.value.trim().length===0)return!1;const t=this.context.math,r=t.focusElement.value,i=t.previewElement.querySelector(".katex");if(!i)return!1;if(i.className="__se__katex "+i.className,i.setAttribute("contenteditable",!1),i.setAttribute("data-exp",this.util.HTMLEncoder(r)),i.setAttribute("data-font-size",t.fontSizeElement.value),i.style.fontSize=t.fontSizeElement.value,this.context.dialog.updateModal){const a=this.util.getParentElement(t._mathExp,".katex");a.parentNode.replaceChild(i,a),this.setRange(i,0,i,1)}else{const a=this.getSelectedElements();if(a.length>1){const l=this.util.createElement(a[0].nodeName);if(l.appendChild(i),!this.insertNode(l,null,!0))return!1}else if(!this.insertNode(i,null,!0))return!1;const o=this.util.createTextNode(this.util.zeroWidthSpace);i.parentNode.insertBefore(o,i.nextSibling),this.setRange(i,0,i,1)}return t.focusElement.value="",t.fontSizeElement.value="1em",t.previewElement.style.fontSize="1em",t.previewElement.innerHTML="",!0}).bind(this);try{e()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch{this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(n){if(!n)this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();else if(n.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(n,0,n,1),this.plugins.math.call_controller.call(this,n)),!0;return!1},on:function(n){if(!n)this.plugins.math.init.call(this);else{const e=this.context.math;if(e._mathExp){const t=this.util.HTMLDecoder(e._mathExp.getAttribute("data-exp")),r=e._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,e.focusElement.value=t,e.fontSizeElement.value=r,e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t),e.previewElement.style.fontSize=r}}},call_controller:function(n){this.context.math._mathExp=n;const e=this.context.math.mathController;this.setControllerPosition(e,n,"bottom",{left:0,top:0}),this.controllersOn(e,n,"math")},onClick_mathController:function(n){n.stopPropagation();const e=n.target.getAttribute("data-command")||n.target.parentNode.getAttribute("data-command");e&&(n.preventDefault(),/update/.test(e)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){const n=this.context.math;n.mathController.style.display="none",n._mathExp=null,n.focusElement.value="",n.previewElement.innerHTML=""}};var i0={exports:{}},ppe=i0.exports,nN;function vpe(){return nN||(nN=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("SUNEDITOR_MODULES a window with a document");return t(r)}})(typeof window<"u"?window:ppe,function(e,t){const r={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(i){const a=i.context;a.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let o=i.util.createElement("DIV");o.className="se-file-browser sun-editor-common";let l=i.util.createElement("DIV");l.className="se-file-browser-back";let s=i.util.createElement("DIV");s.className="se-file-browser-inner",s.innerHTML=this.set_browser(i),o.appendChild(l),o.appendChild(s),this._loading=o.querySelector(".se-loading-box"),a.fileBrowser.area=o,a.fileBrowser.header=s.querySelector(".se-file-browser-header"),a.fileBrowser.titleArea=s.querySelector(".se-file-browser-title"),a.fileBrowser.tagArea=s.querySelector(".se-file-browser-tags"),a.fileBrowser.body=s.querySelector(".se-file-browser-body"),a.fileBrowser.list=s.querySelector(".se-file-browser-list"),a.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(i)),a.fileBrowser.list.addEventListener("click",this.onClickFile.bind(i)),s.addEventListener("mousedown",this._onMouseDown_browser.bind(i)),s.addEventListener("click",this._onClick_browser.bind(i)),a.element.relative.appendChild(o),o=null,l=null,s=null},set_browser:function(i){const a=i.lang;return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" title="'+a.dialogBox.close+'" aria-label="'+a.dialogBox.close+'">'+i.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(i){/se-file-browser-inner/.test(i.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(i){i.stopPropagation(),(/close/.test(i.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(i,a){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=(function(f){/27/.test(f.keyCode)&&this.plugins.fileBrowser.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);const o=this.context.fileBrowser;o.contextPlugin=i,o.selectorHandler=a;const l=this.context[i],s=l.listClass;this.util.hasClass(o.list,s)||(o.list.className="se-file-browser-list "+s),this.options.popupDisplay==="full"?o.area.style.position="fixed":o.area.style.position="absolute",o.titleArea.textContent=l.title,o.area.style.display="block",this.context[i].directData?this.plugins.fileBrowser._drawListItem.call(this,this.context[i].directData,!0):this.plugins.fileBrowser._drawFileList.call(this,this.context[i].url,this.context[i].header)},_bindClose:null,close:function(){const i=this.plugins.fileBrowser;i._xmlHttp&&i._xmlHttp.abort(),i._bindClose&&(this._d.removeEventListener("keydown",i._bindClose),i._bindClose=null);const a=this.context.fileBrowser;a.area.style.display="none",a.selectorHandler=null,a.selectedTags=[],a.items=[],a.list.innerHTML=a.tagArea.innerHTML=a.titleArea.textContent="",typeof this.plugins[a.contextPlugin].init=="function"&&this.plugins[a.contextPlugin].init.call(this),a.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(i,a){const o=this.plugins.fileBrowser,l=o._xmlHttp=this.util.getXMLHttpRequest();if(l.onreadystatechange=o._callBackGet.bind(this,l),l.open("get",i,!0),a!==null&&typeof a=="object"&&this._w.Object.keys(a).length>0)for(let s in a)l.setRequestHeader(s,a[s]);l.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(i){if(i.readyState===4){if(this.plugins.fileBrowser._xmlHttp=null,i.status===200)try{const a=JSON.parse(i.responseText);a.result.length>0?this.plugins.fileBrowser._drawListItem.call(this,a.result,!0):a.nullMessage&&(this.context.fileBrowser.list.innerHTML=a.nullMessage)}catch(a){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+a.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),i.status!==0){const a=i.responseText?JSON.parse(i.responseText):i,o="[SUNEDITOR.fileBrowser.get.serverException] status: "+i.status+", response: "+(a.errorMessage||i.responseText);throw Error(o)}}},_drawListItem:function(i,a){const o=this.context.fileBrowser,l=this.context[o.contextPlugin],s=[],f=i.length,c=l.columnSize||o.columnSize,v=c<=1?1:Math.round(f/c)||1,y=l.itemTemplateHandler;let k="",x='<div class="se-file-item-column">',R=1;for(let d=0,h,w;d<f;d++)if(h=i[d],w=h.tag?typeof h.tag=="string"?h.tag.split(","):h.tag:[],w=h.tag=w.map(function(A){return A.trim()}),x+=y(h),(d+1)%v===0&&R<c&&d+1<f&&(R++,x+='</div><div class="se-file-item-column">'),a&&w.length>0)for(let A=0,D=w.length,I;A<D;A++)I=w[A],I&&s.indexOf(I)===-1&&(s.push(I),k+='<a title="'+I+'" aria-label="'+I+'">'+I+"</a>");x+="</div>",o.list.innerHTML=x,a&&(o.items=i,o.tagArea.innerHTML=k,o.tagElements=o.tagArea.querySelectorAll("A"))},onClickTag:function(i){const a=i.target;if(!this.util.isAnchor(a))return;const o=a.textContent,l=this.plugins.fileBrowser,s=this.context.fileBrowser,f=s.tagArea.querySelector('a[title="'+o+'"]'),c=s.selectedTags,v=c.indexOf(o);v>-1?(c.splice(v,1),this.util.removeClass(f,"on")):(c.push(o),this.util.addClass(f,"on")),l._drawListItem.call(this,c.length===0?s.items:s.items.filter(function(y){return y.tag.some(function(k){return c.indexOf(k)>-1})}),!1)},onClickFile:function(i){i.preventDefault(),i.stopPropagation();const a=this.context.fileBrowser,o=a.list;let l=i.target,s=null;if(l===o)return;for(;o!==l.parentNode&&(s=l.getAttribute("data-command"),!s);)l=l.parentNode;if(!s)return;(a.selectorHandler||this.context[a.contextPlugin].selectorHandler)(l,l.parentNode.querySelector(".__se__img_name").textContent),this.plugins.fileBrowser.close.call(this)}};return typeof t>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:r})),r})}(i0)),i0.exports}var gpe=vpe();const mpe=Oo(gpe),ype={name:"imageGallery",add:function(n){n.addModule([mpe]);const e=n.context;e.imageGallery={title:n.lang.toolbar.imageGallery,directData:n.options.imageGalleryData,url:n.options.imageGalleryUrl,header:n.options.imageGalleryHeader,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(n),columnSize:4}},open:function(n){this.plugins.fileBrowser.open.call(this,"imageGallery",n)},drawItems:function(n){const e=n.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+(n.thumbnail||n.src)+'" alt="'+(n.alt||e)+'" data-command="pick" data-value="'+(n.src||n.thumbnail)+'"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(n.name||e)+"</div></div>"},setImage:function(n,e){this.callPlugin("image",(function(){const t={name:e,size:0};this.plugins.image.create_image.call(this,n.getAttribute("data-value"),null,this.context.image._origin_w,this.context.image._origin_h,"none",t,n.alt)}).bind(this),null)}},Vst={blockquote:Bhe,align:Phe,font:Fhe,fontSize:zhe,fontColor:Hhe,hiliteColor:qhe,horizontalRule:Uhe,list:Vhe,table:$he,formatBlock:Whe,lineHeight:Ghe,template:jhe,paragraphStyle:Yhe,textStyle:Zhe,link:epe,image:cpe,video:fpe,audio:dpe,math:hpe,imageGallery:ype},$st='.sun-editor{width:auto;height:auto;box-sizing:border-box;font-family:Helvetica Neue;border:1px solid #dadada;background-color:#fff;color:#000;user-select:none;-o-user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none}.sun-editor *{box-sizing:border-box;-webkit-user-drag:none;overflow:visible}.sun-editor-common button,.sun-editor-common input,.sun-editor-common select,.sun-editor-common textarea{font-size:14px;line-height:1.5}.sun-editor-common blockquote,.sun-editor-common body,.sun-editor-common button,.sun-editor-common code,.sun-editor-common dd,.sun-editor-common div,.sun-editor-common dl,.sun-editor-common dt,.sun-editor-common fieldset,.sun-editor-common form,.sun-editor-common h1,.sun-editor-common h2,.sun-editor-common h3,.sun-editor-common h4,.sun-editor-common h5,.sun-editor-common h6,.sun-editor-common input,.sun-editor-common legend,.sun-editor-common li,.sun-editor-common ol,.sun-editor-common p,.sun-editor-common pre,.sun-editor-common select,.sun-editor-common td,.sun-editor-common textarea,.sun-editor-common th,.sun-editor-common ul{margin:0;padding:0;border:0}.sun-editor-common dl,.sun-editor-common li,.sun-editor-common menu,.sun-editor-common ol,.sun-editor-common ul{list-style:none!important}.sun-editor-common hr{margin:6px 0!important}.sun-editor textarea{resize:none;border:0;padding:0}.sun-editor button{border:0;background-color:transparent;touch-action:manipulation;cursor:pointer;outline:none}.sun-editor button,.sun-editor input,.sun-editor select,.sun-editor textarea{vertical-align:middle}.sun-editor button span{display:block;margin:0;padding:0}.sun-editor button .txt{display:block;margin-top:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sun-editor button *{pointer-events:none;backface-visibility:hidden;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden}.sun-editor svg{fill:currentColor}.sun-editor .se-svg,.sun-editor button>svg{width:16px;height:16px;margin:auto;fill:currentColor;display:block;text-align:center;float:none}.sun-editor .close>svg,.sun-editor .se-dialog-close>svg{width:10px;height:10px}.sun-editor .se-btn-select>svg{float:right;width:10px;height:10px}.sun-editor .se-btn-list>.se-list-icon{display:inline-block;width:16px;height:16px;margin:-1px 10px 0 0;vertical-align:middle}.sun-editor .se-line-breaker>button>svg{width:24px;height:24px}.sun-editor button>i:before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-block;font-style:normal;font-variant:normal;text-rendering:auto;font-size:15px;line-height:2}.sun-editor button>[class=se-icon-text]{font-size:20px;line-height:1}.sun-editor .se-arrow,.sun-editor .se-arrow:after{position:absolute;display:block;width:0;height:0;border:11px solid transparent}.sun-editor .se-arrow.se-arrow-up{top:-11px;left:20px;margin-left:-11px;border-top-width:0;border-bottom-color:#dadada}.sun-editor .se-arrow.se-arrow-up:after{top:1px;margin-left:-11px;content:" ";border-top-width:0;border-bottom-color:#fff}.sun-editor .se-toolbar .se-arrow.se-arrow-up:after{border-bottom-color:#fafafa}.sun-editor .se-arrow.se-arrow-down{top:0;left:0;margin-left:-11px;border-bottom-width:0;border-top-color:#dadada}.sun-editor .se-arrow.se-arrow-down:after{top:-12px;margin-left:-11px;content:" ";border-bottom-width:0;border-top-color:#fff}.sun-editor .se-toolbar .se-arrow.se-arrow-down:after{border-top-color:#fafafa}.sun-editor .se-container{position:relative;width:auto;height:auto}.sun-editor button{color:#000}.sun-editor .se-btn{float:left;width:34px;height:34px;border:0;border-radius:4px;margin:1px!important;padding:0;font-size:12px;line-height:27px}.sun-editor .se-btn:enabled:focus,.sun-editor .se-btn:enabled:hover{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-btn:enabled:active{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-btn-primary{color:#000;background-color:#c7deff;border:1px solid #80bdff;border-radius:4px}.sun-editor .se-btn-primary:focus,.sun-editor .se-btn-primary:hover{color:#000;background-color:#80bdff;border-color:#3f9dff;outline:0 none}.sun-editor .se-btn-primary:active{color:#fff;background-color:#3f9dff;border-color:#4592ff;-webkit-box-shadow:inset 0 3px 5px #4592ff;box-shadow:inset 0 3px 5px #4592ff}.sun-editor input,.sun-editor select,.sun-editor textarea{color:#000;border:1px solid #ccc;border-radius:4px}.sun-editor input:focus,.sun-editor select:focus,.sun-editor textarea:focus{border:1px solid #80bdff;outline:0;-webkit-box-shadow:0 0 0 .2rem #c7deff;box-shadow:0 0 0 .2rem #c7deff;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.sun-editor .se-btn:enabled.active{color:#4592ff;outline:0 none}.sun-editor .se-btn:enabled.active:focus,.sun-editor .se-btn:enabled.active:hover{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-btn:enabled.active:active{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-btn:enabled.on{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-btn:enabled.on:focus,.sun-editor .se-btn:enabled.on:hover{background-color:#d1d1d1;border-color:#c1c1c1;outline:0 none}.sun-editor .se-btn:enabled.on:active{background-color:#c1c1c1;border-color:#b1b1b1;-webkit-box-shadow:inset 0 3px 5px #b1b1b1;box-shadow:inset 0 3px 5px #b1b1b1}.sun-editor .se-btn-list:disabled,.sun-editor .se-btn:disabled,.sun-editor button:disabled{cursor:not-allowed;background-color:inherit;color:#bdbdbd}.sun-editor .se-loading-box{position:absolute;display:none;width:100%;height:100%;top:0;left:0;background-color:#fff;opacity:.7;filter:alpha(opacity=70);z-index:2147483647}.sun-editor .se-loading-box .se-loading-effect{position:absolute;display:block;top:50%;left:50%;height:25px;width:25px;border-top:2px solid #07d;border-right:2px solid transparent;border-radius:50%;animation:spinner .8s linear infinite;margin:-25px 0 0 -25px}.sun-editor .se-line-breaker{position:absolute;display:none;width:100%;height:1px;cursor:text;border-top:1px solid #3288ff;z-index:7}.sun-editor .se-line-breaker>button.se-btn{position:relative;display:inline-block;width:30px;height:30px;top:-15px;float:none;left:-50%;background-color:#fff;border:1px solid #0c2240;opacity:.6;cursor:pointer}.sun-editor .se-line-breaker>button.se-btn:hover{opacity:.9;background-color:#fff;border-color:#041b39}.sun-editor .se-line-breaker-component{position:absolute;display:none;width:24px;height:24px;background-color:#fff;border:1px solid #0c2240;opacity:.6;border-radius:4px;cursor:pointer;z-index:7}.sun-editor .se-line-breaker-component:hover{opacity:.9}.sun-editor .se-toolbar{display:block;position:relative;height:auto;width:100%;overflow:visible;padding:0;margin:0;background-color:#fafafa;outline:1px solid #dadada;z-index:5}.sun-editor .se-toolbar-shadow{display:block!important;height:0!important;padding:0!important;margin:0!important;background-color:transparent!important;outline:none!important;border:none!important;z-index:0!important}.sun-editor .se-toolbar-cover{position:absolute;display:none;font-size:36px;width:100%;height:100%;top:0;left:0;background-color:#fefefe;opacity:.5;filter:alpha(opacity=50);cursor:not-allowed;z-index:4}.sun-editor .se-toolbar-separator-vertical{display:inline-block;height:0;width:0;margin:0;vertical-align:top}.sun-editor .se-toolbar.se-toolbar-balloon,.sun-editor .se-toolbar.se-toolbar-inline{display:none;position:absolute;box-shadow:0 3px 9px rgba(0,0,0,.5);-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5)}.sun-editor .se-toolbar.se-toolbar-balloon{z-index:2147483647;width:auto}.sun-editor .se-toolbar.se-toolbar-sticky{position:fixed;top:0}.sun-editor .se-toolbar-sticky-dummy{display:none;position:static;z-index:-1}.sun-editor .se-btn-module{display:inline-block}.sun-editor .se-btn-module-border{border:1px solid #dadada;border-radius:4px;margin-left:1px;margin-right:1px}.sun-editor .se-btn-module-enter{display:block;width:100%;height:0;margin:0;padding:0;background-color:transparent}.sun-editor .se-toolbar-more-layer{margin:0 -3px;background-color:#fafafa}.sun-editor .se-toolbar-more-layer .se-more-layer{display:none;border-top:1px solid #dadada}.sun-editor .se-toolbar-more-layer .se-more-layer .se-more-form{display:inline-block;width:100%;height:auto;padding:4px 3px 0}.sun-editor .se-btn-module .se-btn-more.se-btn-more-text{width:auto;padding:0 4px}.sun-editor .se-btn-module .se-btn-more:focus,.sun-editor .se-btn-module .se-btn-more:hover{color:#000;background-color:#d1d1d1;border-color:#c1c1c1;outline:0 none}.sun-editor .se-btn-module .se-btn-more.on{color:#333;background-color:#d1d1d1;border-color:#c1c1c1;outline:0 none}.sun-editor .se-btn-module .se-btn-more.on:hover{color:#000;background-color:#c1c1c1;border-color:#b1b1b1;outline:0 none}.sun-editor .se-menu-list,.sun-editor .se-menu-list li{float:left;padding:0;margin:0}.sun-editor .se-menu-list li{position:relative}.sun-editor .se-btn-select{width:auto;display:flex;padding:4px 6px}.sun-editor .se-btn-select .txt{flex:auto;text-align:left}.sun-editor .se-btn-select.se-btn-tool-font{width:100px}.sun-editor .se-btn-select.se-btn-tool-format{width:82px}.sun-editor .se-btn-select.se-btn-tool-size{width:78px}.sun-editor .se-btn-tray{position:relative;width:100%;height:auto;padding:4px 3px 0;margin:0}.sun-editor .se-menu-tray{position:absolute;top:0;left:0;width:100%;height:0}.sun-editor .se-submenu{overflow-x:hidden;overflow-y:auto}.sun-editor .se-menu-container{overflow-x:unset;overflow-y:unset}.sun-editor .se-list-layer{display:none;position:absolute;top:0;left:0;height:auto;z-index:5;border:1px solid #bababa;border-radius:4px;padding:6px 0;background-color:#fff;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5);outline:0 none}.sun-editor .se-list-layer .se-list-inner{padding:0;margin:0;overflow-x:initial;overflow-y:initial;overflow:visible}.sun-editor .se-list-layer button{margin:0;width:100%}.sun-editor .se-list-inner ul{width:100%;padding:0}.sun-editor .se-list-inner li>button{min-width:100%;width:max-content}.sun-editor .se-list-inner .se-list-basic li{width:100%}.sun-editor .se-list-inner .se-list-basic li button.active{background-color:#80bdff;border:1px solid #3f9dff;border-left:0;border-right:0}.sun-editor .se-list-inner .se-list-basic li button.active:hover{background-color:#3f9dff;border:1px solid #4592ff;border-left:0;border-right:0}.sun-editor .se-list-inner .se-list-basic li button.active:active{background-color:#4592ff;border:1px solid #407dd1;border-left:0;border-right:0;-webkit-box-shadow:inset 0 3px 5px #407dd1;box-shadow:inset 0 3px 5px #407dd1}.sun-editor .se-list-inner .se-list-checked li button>.se-svg{float:left;padding:6px 6px 0 0}.sun-editor .se-list-inner .se-list-checked li button>.se-svg>svg{display:none}.sun-editor .se-list-inner .se-list-checked li button.se-checked{color:#4592ff}.sun-editor .se-list-inner .se-list-checked li button.se-checked>.se-svg>svg{display:block}.sun-editor .se-btn-list{width:100%;height:auto;min-height:32px;padding:0 14px;cursor:pointer;font-size:12px;line-height:normal;text-indent:0;text-decoration:none;text-align:left}.sun-editor .se-btn-list.default_value{background-color:#f3f3f3;border-top:1px dotted #b1b1b1;border-bottom:1px dotted #b1b1b1}.sun-editor .se-btn-list:focus,.sun-editor .se-btn-list:hover{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-btn-list:active{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-list-layer.se-list-font-size{min-width:140px;max-height:300px}.sun-editor .se-list-layer.se-list-font-family{min-width:156px}.sun-editor .se-list-layer.se-list-font-family .default{border-bottom:1px solid #ccc}.sun-editor .se-list-layer.se-list-line{width:125px}.sun-editor .se-list-layer.se-list-line hr{border-width:1px 0 0;height:1px}.sun-editor .se-list-layer.se-list-align .se-list-inner{left:9px}.sun-editor .se-list-layer.se-list-format{min-width:156px}.sun-editor .se-list-layer.se-list-format li{padding:0;width:100%}.sun-editor .se-list-layer.se-list-format ul .se-btn-list{line-height:100%}.sun-editor .se-list-layer.se-list-format ul .se-btn-list[data-value=h1]{height:40px}.sun-editor .se-list-layer.se-list-format ul .se-btn-list[data-value=h2]{height:34px}.sun-editor .se-list-layer.se-list-format ul p{font-size:13px}.sun-editor .se-list-layer.se-list-format ul div{font-size:13px;padding:4px 2px}.sun-editor .se-list-layer.se-list-format ul h1{font-size:2em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul h2{font-size:1.5em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul h3{font-size:1.17em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul h4{font-size:1em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul h5{font-size:.83em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul h6{font-size:.67em;font-weight:700;color:#333}.sun-editor .se-list-layer.se-list-format ul blockquote{font-size:13px;color:#999;height:22px;margin:0;background-color:transparent;line-height:1.5;border-color:#b1b1b1;padding:0 0 0 7px;border-left:5px #b1b1b1;border-style:solid}.sun-editor .se-list-layer.se-list-format ul pre{font-size:13px;color:#666;padding:4px 11px;margin:0;background-color:#f9f9f9;border:1px solid #e1e1e1;border-radius:4px}.sun-editor .se-selector-table{display:none;position:absolute;top:34px;left:1px;z-index:5;padding:5px 0;float:left;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.sun-editor .se-selector-table .se-table-size{font-size:18px;padding:0 5px}.sun-editor .se-selector-table .se-table-size-picker{position:absolute!important;z-index:3;font-size:18px;width:10em;height:10em;cursor:pointer}.sun-editor .se-selector-table .se-table-size-highlighted{position:absolute!important;z-index:2;font-size:18px;width:1em;height:1em;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADJmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4QTZCNzMzN0I3RUYxMUU4ODcwQ0QwMjM1NTgzRTJDNyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4QTZCNzMzNkI3RUYxMUU4ODcwQ0QwMjM1NTgzRTJDNyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MzYyNEUxRUI3RUUxMUU4ODZGQzgwRjNBODgyNTdFOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MzYyNEUxRkI3RUUxMUU4ODZGQzgwRjNBODgyNTdFOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pl0yAuwAAABBSURBVDhPY/wPBAxUAGCDGvdBeWSAeicIDTfIXREiQArYeR9hEBOEohyMGkQYjBpEGAxjg6ib+yFMygCVvMbAAABj0hwMTNeKJwAAAABJRU5ErkJggg==") repeat}.sun-editor .se-selector-table .se-table-size-unhighlighted{position:relative!important;z-index:1;font-size:18px;width:10em;height:10em;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASAgMAAAAroGbEAAAACVBMVEUAAIj4+Pjp6ekKlAqjAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfYAR0BKhmnaJzPAAAAG0lEQVQI12NgAAOtVatWMTCohoaGUY+EmIkEAEruEzK2J7tvAAAAAElFTkSuQmCC") repeat}.sun-editor .se-selector-table .se-table-size-display{padding-left:5px}.sun-editor .se-list-layer.se-table-split{top:36px}.sun-editor .se-list-layer .se-selector-color{display:flex;width:max-content;max-width:270px;height:auto;padding:0;margin:auto}.sun-editor .se-list-layer .se-selector-color .se-color-pallet{width:100%;height:100%;padding:0}.sun-editor .se-list-layer .se-selector-color .se-color-pallet li{display:flex;float:left;position:relative;margin:0}.sun-editor .se-list-layer .se-selector-color .se-color-pallet button{display:block;cursor:default;width:30px;height:30px;text-indent:-9999px}.sun-editor .se-list-layer .se-selector-color .se-color-pallet button.active,.sun-editor .se-list-layer .se-selector-color .se-color-pallet button:focus,.sun-editor .se-list-layer .se-selector-color .se-color-pallet button:hover{border:3px solid #fff}.sun-editor .se-form-group{display:flex;width:100%;min-height:40px;height:auto;padding:4px}.sun-editor .se-form-group input{flex:auto;display:inline-block;width:auto;height:33px;font-size:12px;margin:1px 0;padding:0;border-radius:.25rem;border:1px solid #ccc}.sun-editor .se-form-group button,.sun-editor .se-submenu-form-group button{float:right;width:34px;height:34px;margin:0 2px!important}.sun-editor .se-form-group button.se-btn{border:1px solid #ccc}.sun-editor .se-form-group>div{position:relative}.sun-editor .se-form-group label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}.sun-editor .se-form-group-label{width:100%;height:auto;padding:0 4px}.sun-editor .se-form-group-label label{font-size:13px;font-weight:700}.sun-editor .se-submenu .se-form-group input{width:auto;height:33px;color:#555}.sun-editor .se-submenu .se-form-group .se-color-input{width:72px;text-transform:uppercase;border:none;border-bottom:2px solid #b1b1b1;outline:none}.sun-editor .se-submenu .se-form-group .se-color-input:focus{border-bottom:3px solid #b1b1b1}.sun-editor .se-wrapper{position:relative!important;width:100%;height:auto;overflow:hidden;z-index:1}.sun-editor .se-wrapper .se-wrapper-inner{width:100%;height:100%;min-height:65px;overflow-y:auto;overflow-x:auto;-webkit-overflow-scrolling:touch;user-select:auto;-o-user-select:auto;-moz-user-select:auto;-khtml-user-select:auto;-webkit-user-select:auto;-ms-user-select:auto}.sun-editor .se-wrapper .se-wrapper-inner:focus{outline:none}.sun-editor .se-wrapper .se-wrapper-code{background-color:#191919;color:#fff;font-size:13px;word-break:break-all;padding:4px;margin:0;resize:none!important}.sun-editor .se-wrapper .se-wrapper-wysiwyg{display:block}.sun-editor .se-wrapper .se-wrapper-code-mirror{font-size:13px}.sun-editor .se-wrapper .se-placeholder{position:absolute;display:none;white-space:nowrap;text-overflow:ellipsis;z-index:1;color:#b1b1b1;font-size:13px;line-height:1.5;top:0;left:0;right:0;overflow:hidden;margin-top:0;padding-top:16px;padding-left:16px;margin-left:0;padding-right:16px;margin-right:0;pointer-events:none;backface-visibility:hidden;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden}.sun-editor .se-resizing-bar{display:flex;width:auto;height:auto;min-height:16px;border-top:1px solid #dadada;padding:0 4px;background-color:#fafafa;cursor:ns-resize}.sun-editor .se-resizing-bar.se-resizing-none{cursor:default}.sun-editor .se-resizing-back{position:absolute;display:none;cursor:default;top:0;left:0;width:100%;height:100%;z-index:2147483647}.sun-editor .se-resizing-bar .se-navigation{flex:auto;position:relative;width:auto;height:auto;color:#666;margin:0;padding:0;font-size:10px;line-height:1.5;background:transparent}.sun-editor .se-resizing-bar .se-char-counter-wrapper{flex:none;position:relative;display:block;width:auto;height:auto;margin:0;padding:0;color:#999;font-size:13px;background:transparent}.sun-editor .se-resizing-bar .se-char-counter-wrapper.se-blink{color:#b94a48;animation:blinker .2s linear infinite}.sun-editor .se-resizing-bar .se-char-counter-wrapper .se-char-label{margin-right:4px}.sun-editor .se-dialog{position:absolute;display:none;top:0;left:0;width:100%;height:100%;z-index:2147483647}.sun-editor .se-dialog button,.sun-editor .se-dialog input,.sun-editor .se-dialog label{font-size:14px;line-height:1.5;color:#111;margin:0}.sun-editor .se-dialog .se-dialog-back{background-color:#222;opacity:.5}.sun-editor .se-dialog .se-dialog-back,.sun-editor .se-dialog .se-dialog-inner{position:absolute;width:100%;height:100%;top:0;left:0}.sun-editor .se-dialog .se-dialog-inner .se-dialog-content{position:relative;width:auto;max-width:500px;margin:1.75rem auto;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:4px;outline:0;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5)}@media screen and (max-width:509px){.sun-editor .se-dialog .se-dialog-inner .se-dialog-content{width:100%}}.sun-editor .se-dialog .se-dialog-inner .se-dialog-content label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}.sun-editor .se-dialog .se-dialog-inner .se-dialog-content .se-btn-primary{display:inline-block;padding:6px 12px;margin:0 0 10px!important;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;border-radius:4px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-header{height:50px;padding:6px 15px;border-bottom:1px solid #e5e5e5}.sun-editor .se-dialog .se-dialog-inner .se-dialog-header .se-dialog-close{float:right;font-weight:700;text-shadow:0 1px 0 #fff;-webkit-appearance:none;filter:alpha(opacity=100);opacity:1}.sun-editor .se-dialog .se-dialog-inner .se-dialog-header .se-modal-title{float:left;font-size:14px;font-weight:700;margin:0;padding:0;line-height:2.5}.sun-editor .se-dialog .se-dialog-inner .se-dialog-body{position:relative;padding:15px 15px 5px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form{margin-bottom:10px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form-footer{margin-top:10px;margin-bottom:0}.sun-editor .se-dialog .se-dialog-inner input:disabled{background-color:#f3f3f3}.sun-editor .se-dialog .se-dialog-inner .se-dialog-size-text{width:100%}.sun-editor .se-dialog .se-dialog-inner .se-dialog-size-text .size-h,.sun-editor .se-dialog .se-dialog-inner .se-dialog-size-text .size-w{width:70px;text-align:center}.sun-editor .se-dialog .se-dialog-inner .se-dialog-size-x{margin:0 8px;width:25px;text-align:center}.sun-editor .se-dialog .se-dialog-inner .se-dialog-footer{height:auto;min-height:55px;padding:10px 15px 0;text-align:right;border-top:1px solid #e5e5e5}.sun-editor .se-dialog .se-dialog-inner .se-dialog-footer>div{float:left}.sun-editor .se-dialog .se-dialog-inner .se-dialog-footer>div>label{margin:0 5px 0 0}.sun-editor .se-dialog .se-dialog-inner .se-dialog-btn-radio{margin-left:12px;margin-right:6px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-btn-check{margin-left:12px;margin-right:4px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form-footer .se-dialog-btn-check{margin-left:0;margin-right:4px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form-footer label:first-child{margin-right:16px;margin-left:0}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files{position:relative;display:flex;align-items:center}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files>input{flex:auto}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files .se-dialog-files-edge-button{flex:auto;opacity:.8;border:1px solid #ccc}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files .se-dialog-files-edge-button.se-file-remove>svg{width:8px;height:8px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files .se-dialog-files-edge-button:hover{background-color:#f0f0f0;outline:0 none}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-dialog-form-files .se-dialog-files-edge-button:active{background-color:#e9e9e9;-webkit-box-shadow:inset 0 3px 5px #d6d6d6;box-shadow:inset 0 3px 5px #d6d6d6}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-select{display:inline-block;width:auto;height:34px;font-size:14px;text-align:center;line-height:1.42857143}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-control{display:inline-block;width:70px;height:34px;font-size:14px;text-align:center;line-height:1.42857143}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-form{display:block;width:100%;height:34px;font-size:14px;line-height:1.42857143;padding:0 4px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-form.se-input-url{direction:ltr}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-form.se-input-url:disabled{text-decoration:line-through;color:#999}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-video-ratio{width:70px;margin-left:4px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form a{color:#004cff}.sun-editor .se-dialog .se-dialog-inner .se-dialog-btn-revert{border:1px solid #ccc}.sun-editor .se-dialog .se-dialog-inner .se-dialog-btn-revert:hover{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-dialog .se-dialog-inner .se-dialog-btn-revert:active{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-dialog-tabs{width:100%;height:25px;border-bottom:1px solid #e5e5e5}.sun-editor .se-dialog-tabs button{background-color:#e5e5e5;border-right:1px solid #e5e5e5;float:left;outline:none;padding:2px 13px;transition:.3s}.sun-editor .se-dialog-tabs button:hover{background-color:#fff}.sun-editor .se-dialog-tabs button.active{background-color:#fff;border-bottom:0}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-form.se-math-exp{resize:vertical;height:14em;border:1px solid #ccc;font-size:13px;padding:4px;direction:ltr}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-input-select.se-math-size{width:6em;height:28px;margin-left:1em}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-math-preview{font-size:13px}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-math-preview>span{display:inline-block;-webkit-box-shadow:0 0 0 .1rem #c7deff;box-shadow:0 0 0 .1rem #c7deff}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-math-preview>span *{direction:ltr}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-math-preview>.se-math-katex-error{color:#b94a48;-webkit-box-shadow:0 0 0 .1rem #f2dede;box-shadow:0 0 0 .1rem #f2dede}.sun-editor .se-dialog .se-dialog-inner .se-dialog-form .se-math-preview>.se-math-katex-error svg{width:auto;height:30px;color:#b94a48}.sun-editor .se-dialog .se-dialog-inner .se-link-preview{display:block;height:auto;max-height:18px;font-size:13px;font-weight:400;font-family:inherit;color:#666;background-color:transparent;overflow:hidden;text-overflow:ellipsis;word-break:break-all;white-space:pre}.sun-editor .se-dialog .se-dialog-inner .se-anchor-preview-form{width:100%;display:flex;margin-top:4px}.sun-editor .se-dialog .se-dialog-inner .se-anchor-preview-form .se-svg.se-anchor-preview-icon{flex:unset;display:none;line-height:1.5;color:#4592ff}.sun-editor .se-dialog .se-dialog-inner .se-anchor-preview-form .se-link-preview{flex:auto;margin:0}.sun-editor .se-dialog .se-dialog-inner .se-anchor-rel{height:34px}.sun-editor .se-dialog .se-dialog-inner .se-anchor-rel-btn{width:46px;color:#3f9dff}.sun-editor .se-dialog .se-dialog-inner .se-anchor-rel-wrapper{display:flex;line-height:1.5;padding-top:6px}.sun-editor .se-dialog .se-dialog-inner .se-anchor-rel-preview{text-align:left}.sun-editor .se-controller .se-arrow.se-arrow-up{border-bottom-color:rgba(0,0,0,.25)}.sun-editor .se-controller{position:absolute;display:none;overflow:visible;z-index:6;border:1px solid rgba(0,0,0,.25);border-radius:4px;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;word-wrap:normal;white-space:normal;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2);line-break:auto}.sun-editor .se-controller .se-btn-group{position:relative;display:flex;vertical-align:middle;padding:2px;top:0;left:0}.sun-editor .se-controller .se-btn-group .se-btn-group-sub{left:50%;min-width:auto;width:max-content;display:none}.sun-editor .se-controller .se-btn-group .se-btn-group-sub button{margin:0;min-width:72px}.sun-editor .se-controller .se-btn-group button{position:relative;min-height:34px;height:auto;border:none;border-radius:4px;margin:1px;padding:5px 10px;font-size:12px;line-height:1.5;display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation}.sun-editor .se-controller .se-btn-group button:focus:enabled,.sun-editor .se-controller .se-btn-group button:hover:enabled{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-controller .se-btn-group button:active:enabled{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-controller .se-btn-group button span{display:block;padding:0;margin:0}.sun-editor .se-controller .se-btn-group button:enabled.active{color:#4592ff;outline:0 none}.sun-editor .se-controller .se-btn-group button:enabled.active:focus,.sun-editor .se-controller .se-btn-group button:enabled.active:hover{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-controller .se-btn-group button:enabled.active:active{background-color:#d1d1d1;border-color:#c1c1c1;-webkit-box-shadow:inset 0 3px 5px #c1c1c1;box-shadow:inset 0 3px 5px #c1c1c1}.sun-editor .se-controller .se-btn-group button:enabled.on{background-color:#e1e1e1;border-color:#d1d1d1;outline:0 none}.sun-editor .se-controller .se-btn-group button:enabled.on:focus,.sun-editor .se-controller .se-btn-group button:enabled.on:hover{background-color:#d1d1d1;border-color:#c1c1c1;outline:0 none}.sun-editor .se-controller .se-btn-group button:enabled.on:active{background-color:#c1c1c1;border-color:#b1b1b1;-webkit-box-shadow:inset 0 3px 5px #b1b1b1;box-shadow:inset 0 3px 5px #b1b1b1}.sun-editor .se-controller .se-form-group input{min-width:120px}.sun-editor .se-controller-resizing{margin-top:-50px!important;padding:0;font-size:14px;font-style:normal;font-weight:400;line-height:1.42857143}.sun-editor .se-controller-resizing .se-btn-group .se-btn-group-sub.se-resizing-align-list{width:74px}.sun-editor .se-resizing-container{position:absolute;display:none;outline:1px solid #3f9dff;background-color:transparent}.sun-editor .se-resizing-container .se-modal-resize{position:absolute;display:inline-block;background-color:#3f9dff;opacity:.3}.sun-editor .se-resizing-container .se-resize-dot{position:absolute;top:0;left:0;width:100%;height:100%}.sun-editor .se-resizing-container .se-resize-dot>span{position:absolute;width:7px;height:7px;background-color:#3f9dff;border:1px solid #4592ff}.sun-editor .se-resizing-container .se-resize-dot>span.tl{top:-5px;left:-5px;cursor:nw-resize}.sun-editor .se-resizing-container .se-resize-dot>span.tr{top:-5px;right:-5px;cursor:ne-resize}.sun-editor .se-resizing-container .se-resize-dot>span.bl{bottom:-5px;left:-5px;cursor:sw-resize}.sun-editor .se-resizing-container .se-resize-dot>span.br{right:-5px;bottom:-5px;cursor:se-resize}.sun-editor .se-resizing-container .se-resize-dot>span.lw{left:-7px;bottom:50%;cursor:w-resize}.sun-editor .se-resizing-container .se-resize-dot>span.th{left:50%;top:-7px;cursor:n-resize}.sun-editor .se-resizing-container .se-resize-dot>span.rw{right:-7px;bottom:50%;cursor:e-resize}.sun-editor .se-resizing-container .se-resize-dot>span.bh{right:50%;bottom:-7px;cursor:s-resize}.sun-editor .se-resizing-container .se-resize-display{position:absolute;right:0;bottom:0;padding:5px;margin:5px;font-size:12px;color:#fff;background-color:#333;border-radius:4px}.sun-editor .se-controller-table,.sun-editor .se-controller-table-cell{width:auto}.sun-editor .se-controller-link,.sun-editor .se-controller-table,.sun-editor .se-controller-table-cell{padding:0;font-size:14px;font-style:normal;font-weight:400;line-height:1.42857143}.sun-editor .se-controller-link:after,.sun-editor .se-controller-link:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.sun-editor .se-controller-link .link-content{padding:0;margin:0}.sun-editor .se-controller-link .link-content a{display:inline-block;color:#4592ff;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;margin-left:5px}.sun-editor .se-select-list{position:absolute;top:0;left:0;display:none;width:auto;max-width:100%;background-color:#fff;padding:0;margin:0;border:1px solid #bababa;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5);outline:0 none}.sun-editor .se-select-list .se-select-item{line-height:28px;min-height:28px;font-size:13px;padding:0 5px;margin:2px 0;cursor:pointer}.sun-editor .se-select-list.__se_select-menu-mouse-move .se-select-item:hover,.sun-editor .se-select-list:not(.__se_select-menu-mouse-move) .se-select-item.active{background-color:#e1e1e1}.sun-editor .se-dialog-form-files .se-select-list{width:100%}.sun-editor .se-file-browser{position:absolute;display:none;top:0;left:0;width:100%;height:100%;z-index:2147483647}.sun-editor .se-file-browser button,.sun-editor .se-file-browser input,.sun-editor .se-file-browser label{font-size:14px;line-height:1.5;color:#111;margin:0}.sun-editor .se-file-browser .se-file-browser-back{background-color:#222;opacity:.5}.sun-editor .se-file-browser .se-file-browser-back,.sun-editor .se-file-browser .se-file-browser-inner{position:absolute;display:block;width:100%;height:100%;top:0;left:0}.sun-editor .se-file-browser .se-file-browser-inner .se-file-browser-content{position:relative;width:960px;max-width:100%;margin:20px auto;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:4px;outline:0;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5)}.sun-editor .se-file-browser .se-file-browser-header{height:auto;min-height:50px;padding:6px 15px;border-bottom:1px solid #e5e5e5}.sun-editor .se-file-browser .se-file-browser-header .se-file-browser-close{float:right;font-weight:700;text-shadow:0 1px 0 #fff;-webkit-appearance:none;filter:alpha(opacity=100);opacity:1}.sun-editor .se-file-browser .se-file-browser-header .se-file-browser-close>svg{width:12px;height:12px}.sun-editor .se-file-browser .se-file-browser-header .se-file-browser-title{font-size:16px;font-weight:700;margin:0;padding:0;line-height:2.2}.sun-editor .se-file-browser .se-file-browser-tags{display:block;width:100%;padding:0;text-align:left;margin:0 -15px}.sun-editor .se-file-browser .se-file-browser-tags a{display:inline-block;background-color:#f5f5f5;padding:6px 12px;margin:8px 0 8px 8px;color:#333;text-decoration:none;border-radius:32px;-moz-border-radius:32px;-webkit-border-radius:32px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;cursor:pointer}.sun-editor .se-file-browser .se-file-browser-tags a:hover{background-color:#e1e1e1}.sun-editor .se-file-browser .se-file-browser-tags a:active{background-color:#d1d1d1}.sun-editor .se-file-browser .se-file-browser-tags a.on{background-color:#ebf3fe;color:#4592ff}.sun-editor .se-file-browser .se-file-browser-tags a.on:hover{background-color:#d8e8fe}.sun-editor .se-file-browser .se-file-browser-tags a.on:active{background-color:#c7deff}.sun-editor .se-file-browser .se-file-browser-body{position:relative;height:auto;min-height:350px;padding:20px;overflow-y:auto}.sun-editor .se-file-browser .se-file-browser-body .se-file-browser-list{position:relative;width:100%}@media screen and (max-width:992px){.sun-editor .se-file-browser .se-file-browser-inner .se-file-browser-content{width:748px}}@media screen and (max-width:768px){.sun-editor .se-file-browser .se-file-browser-inner .se-file-browser-content{width:600px}}.sun-editor .se-file-browser .se-file-browser-list .se-file-item-column{position:relative;display:block;height:auto;float:left}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-column{width:calc(25% - 20px);margin:0 10px}@media screen and (max-width:992px){.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-column{width:calc(33% - 20px)}}@media screen and (max-width:768px){.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-column{width:calc(50% - 20px)}}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-img{position:relative;display:block;cursor:pointer;width:100%;height:auto;border-radius:4px;outline:0;margin:10px 0}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-img:hover{opacity:.8;-webkit-box-shadow:0 0 0 .2rem #3288ff;box-shadow:0 0 0 .2rem #3288ff}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-img>img{position:relative;display:block;width:100%;border-radius:4px;outline:0;height:auto}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-img>.se-file-img-name{position:absolute;z-index:1;font-size:13px;color:#fff;left:0;bottom:0;padding:5px 10px;background-color:transparent;width:100%;height:30px;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.sun-editor .se-file-browser .se-file-browser-list.se-image-list .se-file-item-img>.se-file-img-name.se-file-name-back{background-color:#333;opacity:.6}.sun-editor .se-notice{position:absolute;top:0;display:none;z-index:7;width:100%;height:auto;word-break:break-all;font-size:13px;color:#b94a48;background-color:#f2dede;padding:15px;margin:0;border:1px solid #eed3d7;user-select:auto;-o-user-select:auto;-moz-user-select:auto;-khtml-user-select:auto;-webkit-user-select:auto;-ms-user-select:auto}.sun-editor .se-notice button{float:right;padding:7px}.sun-editor .se-tooltip{position:relative;overflow:visible}.sun-editor .se-tooltip .se-tooltip-inner{visibility:hidden;position:absolute;display:block;width:auto;height:auto;top:120%;left:50%;background:transparent;opacity:0;z-index:1;line-height:1.5;transition:opacity .5s;margin:0;padding:0;bottom:auto;float:none;pointer-events:none;backface-visibility:hidden;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden}.sun-editor .se-tooltip .se-tooltip-inner .se-tooltip-text{position:relative;display:inline-block;width:auto;height:auto;left:-50%;font-size:.9em;margin:0;padding:4px 6px;border-radius:2px;background-color:#333;color:#fff;text-align:center;line-height:unset;white-space:nowrap;cursor:auto}.sun-editor .se-tooltip .se-tooltip-inner .se-tooltip-text:after{content:"";position:absolute;bottom:100%;left:50%;margin-left:-5px;border:5px solid transparent;border-bottom-color:#333}.sun-editor .se-tooltip:hover .se-tooltip-inner{visibility:visible;opacity:1}.sun-editor .se-tooltip .se-tooltip-inner .se-tooltip-text .se-shortcut{display:block!important}.sun-editor .se-tooltip .se-tooltip-inner .se-tooltip-text .se-shortcut>.se-shortcut-key{display:inline;font-weight:700}.sun-editor.se-rtl .se-btn-tray{direction:rtl}.sun-editor.se-rtl .se-btn-select svg{margin:auto 1px}.sun-editor.se-rtl .se-btn-select .txt{flex:auto;text-align:right;direction:rtl}.sun-editor.se-rtl .se-btn-list{text-align:right}.sun-editor.se-rtl .se-btn-list>.se-list-icon{margin:-1px 0 0 10px}.sun-editor.se-rtl .se-menu-list:not(.se-menu-dir-fix),.sun-editor.se-rtl .se-menu-list:not(.se-menu-dir-fix) li{float:right}.sun-editor.se-rtl .se-list-layer *{direction:rtl}.sun-editor.se-rtl .se-list-layer.se-list-format ul blockquote{padding:0 7px 0 0;border-right-width:5px;border-left-width:0}.sun-editor.se-rtl .se-list-layer .se-selector-color .se-color-pallet li{float:right}.sun-editor.se-rtl .se-list-inner .se-list-checked li button>.se-svg{float:right;padding:6px 0 0 6px}.sun-editor.se-rtl .se-tooltip .se-tooltip-inner .se-tooltip-text,.sun-editor.se-rtl .se-wrapper .se-placeholder{direction:rtl}.sun-editor.se-rtl .se-tooltip .se-tooltip-inner .se-tooltip-text .se-shortcut{direction:ltr}.sun-editor.se-rtl .se-dialog *{direction:rtl}.sun-editor.se-rtl .se-dialog .se-dialog-inner .se-dialog-form .se-video-ratio{margin-left:0;margin-right:4px}.sun-editor.se-rtl .se-dialog .se-dialog-inner .se-dialog-header .se-dialog-close{float:left}.sun-editor.se-rtl .se-dialog-tabs button,.sun-editor.se-rtl .se-dialog .se-dialog-inner .se-dialog-header .se-modal-title{float:right}.sun-editor.se-rtl .se-dialog .se-dialog-inner .se-dialog-size-text{padding-right:34px}.sun-editor.se-rtl .se-dialog .se-dialog-inner .se-dialog-footer .se-btn-primary{float:left}.sun-editor.se-rtl .se-dialog .se-dialog-inner .se-dialog-footer>div{float:right}.sun-editor.se-rtl .se-dialog .se-dialog-inner .se-dialog-footer>div>label{margin:0 0 0 5px}.sun-editor.se-rtl .se-dialog .se-dialog-inner .se-dialog-form-footer label:first-child{margin-left:16px;margin-right:0}.sun-editor.se-rtl .se-dialog .se-dialog-inner .se-anchor-rel-preview{margin-left:4px;text-align:right}.sun-editor.se-rtl .se-dialog .se-dialog-inner .se-anchor-rel-btn{float:right}.sun-editor.se-rtl .se-file-browser *{direction:rtl}.sun-editor.se-rtl .se-file-browser .se-file-browser-tags{text-align:right}.sun-editor.se-rtl .se-file-browser .se-file-browser-tags a{margin:8px 8px 0}.sun-editor.se-rtl .se-file-browser .se-file-browser-header .se-file-browser-close{float:left}.sun-editor.se-rtl .se-controller .se-btn-group,.sun-editor.se-rtl .se-resizing-container .se-resize-display{direction:rtl}.sun-editor .se-btn-module-border.module-float-left{float:left}.sun-editor .se-btn-module-border.module-float-right{float:right}.sun-editor .se-error{color:#d9534f}.sun-editor input.se-error:focus,select.se-error:focus,textarea.se-error:focus{border:1px solid #f2dede;outline:0;-webkit-box-shadow:0 0 0 .2rem #eed3d7;box-shadow:0 0 0 .2rem #eed3d7;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.sun-editor hr.__se__solid{border-style:solid none none}.sun-editor hr.__se__dotted{border-style:dotted none none}.sun-editor hr.__se__dashed{border-style:dashed none none}@keyframes blinker{50%{opacity:0}}@keyframes spinner{to{transform:rotate(361deg)}}.sun-editor-editable{font-family:Helvetica Neue;font-size:13px;color:#333;background-color:#fff;line-height:1.5;word-break:normal;word-wrap:break-word;padding:16px;margin:0}.sun-editor-editable *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;font-family:inherit;font-size:inherit;color:inherit}.sun-editor-editable.se-rtl *{direction:rtl}.sun-editor-editable .se-component>figure{direction:ltr}.sun-editor-editable audio,.sun-editor-editable figcaption,.sun-editor-editable figure,.sun-editor-editable iframe,.sun-editor-editable img,.sun-editor-editable td,.sun-editor-editable th,.sun-editor-editable video{position:relative}.sun-editor-editable span{display:inline;vertical-align:baseline;margin:0;padding:0}.sun-editor-editable span.katex{display:inline-block}.sun-editor-editable span.katex *{direction:ltr}.sun-editor-editable a{color:#004cff;text-decoration:none}.sun-editor-editable span[style~="color:"] a{color:inherit}.sun-editor-editable a:focus,.sun-editor-editable a:hover{cursor:pointer;color:#0093ff;text-decoration:underline}.sun-editor-editable a.on{color:#0093ff;background-color:#e8f7ff}.sun-editor-editable pre{display:block;padding:8px;margin:0 0 10px;font-family:monospace;color:#666;line-height:1.45;background-color:#f9f9f9;border:1px solid #e1e1e1;border-radius:2px;white-space:pre-wrap!important;word-wrap:break-word;overflow:visible}.sun-editor-editable ol{list-style-type:decimal}.sun-editor-editable ol,.sun-editor-editable ul{list-style-position:outside;display:block;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0;margin-inline-end:0;padding-inline-start:40px}.sun-editor-editable ul{list-style-type:disc}.sun-editor-editable li{display:list-item;text-align:-webkit-match-parent;margin-bottom:5px}.sun-editor-editable ol ol,.sun-editor-editable ol ul,.sun-editor-editable ul ol,.sun-editor-editable ul ul{margin:0}.sun-editor-editable ol ol,.sun-editor-editable ul ol{list-style-type:lower-alpha}.sun-editor-editable ol ol ol,.sun-editor-editable ul ol ol,.sun-editor-editable ul ul ol{list-style-type:upper-roman}.sun-editor-editable ol ul,.sun-editor-editable ul ul{list-style-type:circle}.sun-editor-editable ol ol ul,.sun-editor-editable ol ul ul,.sun-editor-editable ul ul ul{list-style-type:square}.sun-editor-editable sub,.sun-editor-editable sup{font-size:75%;line-height:0}.sun-editor-editable sub{vertical-align:sub}.sun-editor-editable sup{vertical-align:super}.sun-editor-editable p{display:block;margin:0 0 10px}.sun-editor-editable div{display:block;margin:0;padding:0}.sun-editor-editable blockquote{display:block;font-family:inherit;font-size:inherit;color:#999;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0;margin-inline-end:0;padding:0 5px 0 20px;border:solid #b1b1b1;border-width:0 0 0 5px}.sun-editor-editable blockquote blockquote{border-color:#c1c1c1}.sun-editor-editable blockquote blockquote blockquote{border-color:#d1d1d1}.sun-editor-editable blockquote blockquote blockquote blockquote{border-color:#e1e1e1}.sun-editor-editable.se-rtl blockquote{padding-left:5px;padding-right:20px;border-left-width:0;border-right-width:5px}.sun-editor-editable h1{font-size:2em;margin-block-start:.67em;margin-block-end:.67em}.sun-editor-editable h1,.sun-editor-editable h2{display:block;margin-inline-start:0;margin-inline-end:0;font-weight:700}.sun-editor-editable h2{font-size:1.5em;margin-block-start:.83em;margin-block-end:.83em}.sun-editor-editable h3{font-size:1.17em;margin-block-start:1em;margin-block-end:1em}.sun-editor-editable h3,.sun-editor-editable h4{display:block;margin-inline-start:0;margin-inline-end:0;font-weight:700}.sun-editor-editable h4{font-size:1em;margin-block-start:1.33em;margin-block-end:1.33em}.sun-editor-editable h5{font-size:.83em;margin-block-start:1.67em;margin-block-end:1.67em}.sun-editor-editable h5,.sun-editor-editable h6{display:block;margin-inline-start:0;margin-inline-end:0;font-weight:700}.sun-editor-editable h6{font-size:.67em;margin-block-start:2.33em;margin-block-end:2.33em}.sun-editor-editable hr{display:flex;border-width:1px 0 0;border-color:#000;border-image:initial;height:1px}.sun-editor-editable hr.__se__solid{border-style:solid none none}.sun-editor-editable hr.__se__dotted{border-style:dotted none none}.sun-editor-editable hr.__se__dashed{border-style:dashed none none}.sun-editor-editable hr.on{border-color:#4592ff;-webkit-box-shadow:0 0 0 .1rem #c7deff;box-shadow:0 0 0 .1rem #c7deff}.sun-editor-editable table{display:table;table-layout:auto!important;border:1px solid #ccc;width:100%;max-width:100%;margin:0 0 10px;background-color:transparent;border-spacing:0;border-collapse:collapse}.sun-editor-editable.se-rtl table{margin:0 0 10px auto}.sun-editor-editable table thead{border-bottom:2px solid #333}.sun-editor-editable table tr{border:1px solid #efefef}.sun-editor-editable table th{background-color:#f3f3f3}.sun-editor-editable table td,.sun-editor-editable table th{border:1px solid #e1e1e1;padding:.4em;background-clip:padding-box}.sun-editor-editable table.se-table-size-auto{width:auto!important}.sun-editor-editable table.se-table-size-100{width:100%!important}.sun-editor-editable table.se-table-layout-auto{table-layout:auto!important}.sun-editor-editable table.se-table-layout-fixed{table-layout:fixed!important}.sun-editor-editable table td.se-table-selected-cell,.sun-editor-editable table th.se-table-selected-cell{outline:1px double #4592ff}.sun-editor-editable.se-disabled *{user-select:none;-o-user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none}.sun-editor-editable .se-component{display:flex;padding:1px;margin:0 0 10px}.sun-editor-editable[contenteditable=true] .se-component{outline:1px dashed #e1e1e1}.sun-editor-editable[contenteditable=true] .se-component.se-component-copy{-webkit-box-shadow:0 0 0 .2rem #80bdff;box-shadow:0 0 0 .2rem #3f9dff;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.sun-editor-editable .__se__float-left{float:left;margin-right:4px}.sun-editor-editable .__se__float-right{float:right;margin-left:4px}.sun-editor-editable .__se__float-center{float:center}.sun-editor-editable .__se__float-none{float:none}.sun-editor-editable audio,.sun-editor-editable iframe,.sun-editor-editable img,.sun-editor-editable video{display:block;margin:0;padding:0;width:auto;height:auto;max-width:100%}.sun-editor-editable[contenteditable=true]:not(.se-read-only) figure:after{position:absolute;content:"";z-index:1;top:0;left:0;right:0;bottom:0;cursor:default;display:block;background:transparent}.sun-editor-editable[contenteditable=true] figure a,.sun-editor-editable[contenteditable=true] figure iframe,.sun-editor-editable[contenteditable=true] figure img,.sun-editor-editable[contenteditable=true] figure video{z-index:0}.sun-editor-editable[contenteditable=true] figure figcaption{display:block;z-index:2}.sun-editor-editable[contenteditable=true] figure figcaption:focus{border-color:#80bdff;outline:0;-webkit-box-shadow:0 0 0 .2rem #c7deff;box-shadow:0 0 0 .2rem #c7deff}.sun-editor-editable .se-image-container,.sun-editor-editable .se-video-container{width:auto;height:auto;max-width:100%}.sun-editor-editable figure{display:block;outline:none;padding:0;margin:0}.sun-editor-editable .__se__float-center figure,.sun-editor-editable .__se__float-left figure,.sun-editor-editable .__se__float-right figure{margin:auto!important}.sun-editor-editable figure figcaption{padding:1em .5em;margin:0;background-color:#f9f9f9;outline:none}.sun-editor-editable figure figcaption p{line-height:2;margin:0}.sun-editor-editable .se-image-container a img{padding:1px;margin:1px;outline:1px solid #4592ff}.sun-editor-editable .se-video-container iframe,.sun-editor-editable .se-video-container video{outline:1px solid #9e9e9e;position:absolute;top:0;left:0;border:0;width:100%;height:100%}.sun-editor-editable .se-video-container figure{left:0;width:100%;max-width:100%}.sun-editor-editable audio{width:300px;height:54px}.sun-editor-editable audio.active{outline:2px solid #80bdff}.sun-editor-editable.se-show-block div,.sun-editor-editable.se-show-block h1,.sun-editor-editable.se-show-block h2,.sun-editor-editable.se-show-block h3,.sun-editor-editable.se-show-block h4,.sun-editor-editable.se-show-block h5,.sun-editor-editable.se-show-block h6,.sun-editor-editable.se-show-block li,.sun-editor-editable.se-show-block ol,.sun-editor-editable.se-show-block p,.sun-editor-editable.se-show-block pre,.sun-editor-editable.se-show-block ul{border:1px dashed #3f9dff!important;padding:14px 8px 8px!important}.sun-editor-editable.se-show-block ol,.sun-editor-editable.se-show-block ul{border:1px dashed #d539ff!important}.sun-editor-editable.se-show-block pre{border:1px dashed #27c022!important}.se-show-block p{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPAQMAAAAF7dc0AAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAaSURBVAjXY/j/gwGCPvxg+F4BQiAGDP1HQQByxxw0gqOzIwAAAABJRU5ErkJggg==") no-repeat}.se-show-block div{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAPAQMAAAAxlBYoAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAmSURBVAjXY/j//wcDDH+8XsHwDYi/hwNx1A8w/nYLKH4XoQYJAwCXnSgcl2MOPgAAAABJRU5ErkJggg==") no-repeat}.se-show-block h1{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPAQMAAAA4f7ZSAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAfSURBVAjXY/j/v4EBhr+9B+LzEPrDeygfhI8j1CBhAEhmJGY4Rf6uAAAAAElFTkSuQmCC") no-repeat}.se-show-block h2{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPAQMAAAA4f7ZSAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAmSURBVAjXY/j/v4EBhr+dB+LtQPy9geEDEH97D8T3gbgdoQYJAwA51iPuD2haEAAAAABJRU5ErkJggg==") no-repeat}.se-show-block h3{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPAQMAAAA4f7ZSAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAiSURBVAjXY/j/v4EBhr+dB+LtQPy9geHDeQgN5p9HqEHCADeWI+69VG2MAAAAAElFTkSuQmCC") no-repeat}.se-show-block h4{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAPAQMAAADTSA1RAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAiSURBVAjXY/j//wADDH97DsTXIfjDdiDdDMTfIRhZHRQDAKJOJ6L+K3y7AAAAAElFTkSuQmCC") no-repeat}.se-show-block h5{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPAQMAAAA4f7ZSAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAlSURBVAjXY/j/v4EBhr+1A/F+IO5vYPiwHUh/B2IQfR6hBgkDABlWIy5uM+9GAAAAAElFTkSuQmCC") no-repeat}.se-show-block h6{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPAQMAAAA4f7ZSAAAABlBMVEWAgID////n1o2sAAAAAnRSTlP/AOW3MEoAAAAiSURBVAjXY/j/v4EBhr+dB+LtQLy/geFDP5S9HSKOrA6KAR9GIza1ptJnAAAAAElFTkSuQmCC") no-repeat}.se-show-block li{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA7SURBVDhPYxgFcNDQ0PAfykQBIHEYhgoRB/BpwCfHBKWpBkaggYxQGgOgBzyQD1aLLA4TGwWDGjAwAACR3RcEU9Ui+wAAAABJRU5ErkJggg==") no-repeat}.se-show-block ol{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABHSURBVDhPYxgFcNDQ0PAfhKFcFIBLHCdA1oBNM0kGEmMAPgOZoDTVANUNxAqQvURMECADRiiNAWCagDSGGhyW4DRrMAEGBgAu0SX6WpGgjAAAAABJRU5ErkJggg==") no-repeat}.se-show-block ul{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA1SURBVDhPYxgFDA0NDf+hTBSALI5LDQgwQWmqgVEDKQcsUBoF4ItFGEBXA+QzQpmDGjAwAAA8DQ4Lni6gdAAAAABJRU5ErkJggg==") no-repeat}.sun-editor-editable .__se__p-bordered,.sun-editor .__se__p-bordered{border-top:1px solid #b1b1b1;border-bottom:1px solid #b1b1b1;padding:4px 0}.sun-editor-editable .__se__p-spaced,.sun-editor .__se__p-spaced{letter-spacing:1px}.sun-editor-editable .__se__p-neon,.sun-editor .__se__p-neon{font-weight:200;font-style:italic;background:#000;color:#fff;padding:6px 4px;border:2px solid #fff;border-radius:6px;text-transform:uppercase;animation:neonFlicker 1.5s infinite alternate}@keyframes neonFlicker{0%,19%,21%,23%,25%,54%,56%,to{text-shadow:-.2rem -.2rem 1rem #fff,.2rem .2rem 1rem #fff,0 0 2px #f40,0 0 4px #f40,0 0 6px #f40,0 0 8px #f40,0 0 10px #f40;box-shadow:0 0 .5px #fff,inset 0 0 .5px #fff,0 0 2px #08f,inset 0 0 2px #08f,0 0 4px #08f,inset 0 0 4px #08f}20%,24%,55%{text-shadow:none;box-shadow:none}}.sun-editor-editable .__se__t-shadow,.sun-editor .__se__t-shadow{text-shadow:-.2rem -.2rem 1rem #fff,.2rem .2rem 1rem #fff,0 0 .2rem #999,0 0 .4rem #888,0 0 .6rem #777,0 0 .8rem #666,0 0 1rem #555}.sun-editor-editable .__se__t-code,.sun-editor .__se__t-code{font-family:monospace;color:#666;background-color:rgba(27,31,35,.05);border-radius:6px;padding:.2em .4em}';function yi(n){this.content=n}yi.prototype={constructor:yi,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),a=r.content.slice();return i==-1?a.push(t||n,e):(a[i+1]=e,t&&(a[i]=t)),new yi(a)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new yi(t)},addToStart:function(n,e){return new yi([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new yi(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),a=r.find(n);return i.splice(a==-1?i.length:a,0,e,t),new yi(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=yi.from(n),n.size?new yi(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=yi.from(n),n.size?new yi(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=yi.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};yi.from=function(n){if(n instanceof yi)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new yi(e)};function bR(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),a=e.child(r);if(i==a){t+=i.nodeSize;continue}if(!i.sameMarkup(a))return t;if(i.isText&&i.text!=a.text){for(let o=0;i.text[o]==a.text[o];o++)t++;return t}if(i.content.size||a.content.size){let o=bR(i.content,a.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function wR(n,e,t,r){for(let i=n.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:t,b:r};let o=n.child(--i),l=e.child(--a),s=o.nodeSize;if(o==l){t-=s,r-=s;continue}if(!o.sameMarkup(l))return{a:t,b:r};if(o.isText&&o.text!=l.text){let f=0,c=Math.min(o.text.length,l.text.length);for(;f<c&&o.text[o.text.length-f-1]==l.text[l.text.length-f-1];)f++,t--,r--;return{a:t,b:r}}if(o.content.size||l.content.size){let f=wR(o.content,l.content,t-1,r-1);if(f)return f}t-=s,r-=s}}class gt{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,a){for(let o=0,l=0;l<t;o++){let s=this.content[o],f=l+s.nodeSize;if(f>e&&r(s,i+l,a||null,o)!==!1&&s.content.size){let c=l+1;s.nodesBetween(Math.max(0,e-c),Math.min(s.content.size,t-c),r,i+c)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let a="",o=!0;return this.nodesBetween(e,t,(l,s)=>{let f=l.isText?l.text.slice(Math.max(e,s)-s,t-s):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&f||l.isTextblock)&&r&&(o?o=!1:a+=r),a+=f},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new gt(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let a=0,o=0;o<t;a++){let l=this.content[a],s=o+l.nodeSize;s>e&&((o<e||s>t)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,t-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,t-o-1))),r.push(l),i+=l.nodeSize),o=s}return new gt(r,i)}cutByIndex(e,t){return e==t?gt.empty:e==0&&t==this.content.length?this:new gt(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),a=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new gt(i,a)}addToStart(e){return new gt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new gt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return bR(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return wR(this,e,t,r)}findIndex(e,t=-1){if(e==0)return km(0,e);if(e==this.size)return km(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let a=this.child(r),o=i+a.nodeSize;if(o>=e)return o==e||t>0?km(r+1,o):km(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return gt.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new gt(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return gt.empty;let t,r=0;for(let i=0;i<e.length;i++){let a=e[i];r+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(t||(t=e.slice(0,i)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new gt(t||e,r)}static from(e){if(!e)return gt.empty;if(e instanceof gt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new gt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}gt.empty=new gt([],0);const W_={index:0,offset:0};function km(n,e){return W_.index=n,W_.offset=e,W_}function I0(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!I0(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!I0(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Jn=class oS{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(a)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&I0(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return oS.none;if(e instanceof oS)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};Jn.none=[];class B0 extends Error{}class Ot{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=xR(this.content,e+this.openStart,t);return r&&new Ot(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Ot(CR(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Ot.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ot(gt.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)r++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)i++;return new Ot(e,r,i)}}Ot.empty=new Ot(gt.empty,0,0);function CR(n,e,t){let{index:r,offset:i}=n.findIndex(e),a=n.maybeChild(r),{index:o,offset:l}=n.findIndex(t);if(i==e||a.isText){if(l!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,a.copy(CR(a.content,e-i-1,t-i-1)))}function xR(n,e,t,r){let{index:i,offset:a}=n.findIndex(e),o=n.maybeChild(i);if(a==e||o.isText)return n.cut(0,e).append(t).append(n.cut(e));let l=xR(o.content,e-a-1,t);return l&&n.replaceChild(i,o.copy(l))}function bpe(n,e,t){if(t.openStart>n.depth)throw new B0("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new B0("Inconsistent open depths");return kR(n,e,t,0)}function kR(n,e,t,r){let i=n.index(r),a=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=kR(n,e,t,r+1);return a.copy(a.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,l=o.content;return Ic(o,l.cut(0,n.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=wpe(t,n);return Ic(a,TR(n,o,l,e,r))}else return Ic(a,P0(n,e,r))}function _R(n,e){if(!e.type.compatibleContent(n.type))throw new B0("Cannot join "+e.type.name+" onto "+n.type.name)}function sS(n,e,t){let r=n.node(t);return _R(r,e.node(t)),r}function Rc(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Np(n,e,t,r){let i=(e||n).node(t),a=0,o=e?e.index(t):i.childCount;n&&(a=n.index(t),n.depth>t?a++:n.textOffset&&(Rc(n.nodeAfter,r),a++));for(let l=a;l<o;l++)Rc(i.child(l),r);e&&e.depth==t&&e.textOffset&&Rc(e.nodeBefore,r)}function Ic(n,e){return n.type.checkContent(e),n.copy(e)}function TR(n,e,t,r,i){let a=n.depth>i&&sS(n,e,i+1),o=r.depth>i&&sS(t,r,i+1),l=[];return Np(null,n,i,l),a&&o&&e.index(i)==t.index(i)?(_R(a,o),Rc(Ic(a,TR(n,e,t,r,i+1)),l)):(a&&Rc(Ic(a,P0(n,e,i+1)),l),Np(e,t,i,l),o&&Rc(Ic(o,P0(t,r,i+1)),l)),Np(r,null,i,l),new gt(l)}function P0(n,e,t){let r=[];if(Np(null,n,t,r),n.depth>t){let i=sS(n,e,t+1);Rc(Ic(i,P0(n,e,t+1)),r)}return Np(e,null,t,r),new gt(r)}function wpe(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let a=t-1;a>=0;a--)i=e.node(a).copy(gt.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class Wp{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)i+=r.child(a).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Jn.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let l=r;r=i,i=l}let a=r.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!i||!a[o].isInSet(i.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!i||!r[a].isInSet(i.marks))&&(r=r[a--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new F0(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,a=t;for(let o=e;;){let{index:l,offset:s}=o.content.findIndex(a),f=a-s;if(r.push(o,l,i+s),!f||(o=o.child(l),o.isText))break;a=f-1,i+=s+1}return new Wp(t,r,a)}static resolveCached(e,t){let r=rN.get(e);if(r)for(let a=0;a<r.elts.length;a++){let o=r.elts[a];if(o.pos==t)return o}else rN.set(e,r=new Cpe);let i=r.elts[r.i]=Wp.resolve(e,t);return r.i=(r.i+1)%xpe,i}}class Cpe{constructor(){this.elts=[],this.i=0}}const xpe=12,rN=new WeakMap;class F0{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const kpe=Object.create(null);let Au=class lS{constructor(e,t,r,i=Jn.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||gt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&I0(this.attrs,t||e.defaultAttrs||kpe)&&Jn.sameSet(this.marks,r||Jn.none)}copy(e=null){return e==this.content?this:new lS(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new lS(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Ot.empty;let i=this.resolve(e),a=this.resolve(t),o=r?0:i.sharedDepth(t),l=i.start(o),f=i.node(o).content.cut(i.pos-l,a.pos-l);return new Ot(f,i.depth-o,a.depth-o)}replace(e,t,r){return bpe(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return Wp.resolveCached(this,e)}resolveNoCache(e){return Wp.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,a=>(r.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),SR(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=gt.empty,i=0,a=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,a),l=o&&o.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let s=i;s<a;s++)if(!this.type.allowsMarks(r.child(s).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(r),o=a&&a.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Jn.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Jn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=gt.fromJSON(e,t.content),a=e.nodeType(t.type).create(t.attrs,i,r);return a.type.checkAttrs(a.attrs),a}};Au.prototype.text=void 0;class z0 extends Au{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):SR(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new z0(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new z0(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function SR(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Hc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new _pe(e,t);if(r.next==null)return Hc.empty;let i=ER(r);r.next&&r.err("Unexpected trailing text");let a=Dpe(Npe(i));return Lpe(a,r),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let a=t;i&&a<r;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function a(o,l){let s=o.matchFragment(e,r);if(s&&(!t||s.validEnd))return gt.from(l.map(f=>f.createAndFill()));for(let f=0;f<o.next.length;f++){let{type:c,next:v}=o.next[f];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(v)==-1){i.push(v);let y=a(v,l.concat(c));if(y)return y}}return null}return a(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),a=i.match;if(a.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:l,next:s}=a.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in t)&&(!i.type||s.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let a=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)a+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return a}).join(`
`)}}Hc.empty=new Hc(!0);class _pe{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function ER(n){let e=[];do e.push(Tpe(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Tpe(n){let e=[];do e.push(Spe(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Spe(n){let e=Mpe(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=Epe(n,e);else break;return e}function iN(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function Epe(n,e){let t=iN(n),r=t;return n.eat(",")&&(n.next!="}"?r=iN(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function Ape(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let a in t){let o=t[a];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function Mpe(n){if(n.eat("(")){let e=ER(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=Ape(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Npe(n){let e=[[]];return i(a(n,0),t()),e;function t(){return e.push([])-1}function r(o,l,s){let f={term:s,to:l};return e[o].push(f),f}function i(o,l){o.forEach(s=>s.to=l)}function a(o,l){if(o.type=="choice")return o.exprs.reduce((s,f)=>s.concat(a(f,l)),[]);if(o.type=="seq")for(let s=0;;s++){let f=a(o.exprs[s],l);if(s==o.exprs.length-1)return f;i(f,l=t())}else if(o.type=="star"){let s=t();return r(l,s),i(a(o.expr,s),s),[r(s)]}else if(o.type=="plus"){let s=t();return i(a(o.expr,l),s),i(a(o.expr,s),s),[r(s)]}else{if(o.type=="opt")return[r(l)].concat(a(o.expr,l));if(o.type=="range"){let s=l;for(let f=0;f<o.min;f++){let c=t();i(a(o.expr,s),c),s=c}if(o.max==-1)i(a(o.expr,s),s);else for(let f=o.min;f<o.max;f++){let c=t();r(s,c),i(a(o.expr,s),c),s=c}return[r(s)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function AR(n,e){return e-n}function aN(n,e){let t=[];return r(e),t.sort(AR);function r(i){let a=n[i];if(a.length==1&&!a[0].term)return r(a[0].to);t.push(i);for(let o=0;o<a.length;o++){let{term:l,to:s}=a[o];!l&&t.indexOf(s)==-1&&r(s)}}}function Dpe(n){let e=Object.create(null);return t(aN(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:l,to:s})=>{if(!l)return;let f;for(let c=0;c<i.length;c++)i[c][0]==l&&(f=i[c][1]);aN(n,s).forEach(c=>{f||i.push([l,f=[]]),f.indexOf(c)==-1&&f.push(c)})})});let a=e[r.join(",")]=new Hc(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(AR);a.next.push({type:i[o][0],next:e[l.join(",")]||t(l)})}return a}}function Lpe(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],a=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:s,next:f}=i.next[l];o.push(s.name),a&&!(s.isText||s.hasRequiredAttrs())&&(a=!1),r.indexOf(f)==-1&&r.push(f)}a&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function MR(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function NR(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let a=n[r];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function DR(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let a=n[i];a.validate&&a.validate(e[i])}}function LR(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new Rpe(n,r,e[r]);return t}let oN=class OR{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=LR(e,r.attrs),this.defaultAttrs=MR(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Hc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:NR(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Au(this,this.computeAttrs(e),gt.from(t),Jn.setFrom(r))}createChecked(e=null,t,r){return t=gt.from(t),this.checkContent(t),new Au(this,this.computeAttrs(e),t,Jn.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=gt.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),a=i&&i.fillBefore(gt.empty,!0);return a?new Au(this,e,t.append(a),Jn.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){DR(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Jn.none:e}static compile(e,t){let r=Object.create(null);e.forEach((a,o)=>r[a]=new OR(a,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let a in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Ope(n,e,t){let r=t.split("|");return i=>{let a=i===null?"null":typeof i;if(r.indexOf(a)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${a}`)}}class Rpe{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Ope(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class M1{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=LR(e,i.attrs),this.excluded=null;let a=MR(this.attrs);this.instance=a?new Jn(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Jn(this,NR(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((a,o)=>r[a]=new M1(a,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){DR(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class RR{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=yi.from(e.nodes),t.marks=yi.from(e.marks||{}),this.nodes=oN.compile(this.spec.nodes,this),this.marks=M1.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],o=a.spec.content||"",l=a.spec.marks;if(a.contentMatch=r[o]||(r[o]=Hc.parse(o,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=l=="_"?null:l?sN(this,l.split(" ")):l==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],o=a.spec.excludes;a.excluded=o==null?[a]:o==""?[]:sN(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof oN){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new z0(r,r.defaultAttrs,e,Jn.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Au.fromJSON(this,e)}markFromJSON(e){return Jn.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function sN(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],a=n.marks[i],o=a;if(a)t.push(a);else for(let l in n.marks){let s=n.marks[l];(i=="_"||s.spec.group&&s.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=s)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function Ipe(n){return n.tag!=null}function Bpe(n){return n.style!=null}class qc{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(Ipe(i))this.tags.push(i);else if(Bpe(i)){let a=/[^=]*/.exec(i.style)[0];r.indexOf(a)<0&&r.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,t={}){let r=new uN(this,t,!1);return r.addAll(e,Jn.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new uN(this,t,!0);return r.addAll(e,Jn.none,t.from,t.to),Ot.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(zpe(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(e);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(e,t,r,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let o=this.styles[a],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=t))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let a=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let l=t[o];if((l.priority==null?50:l.priority)<a)break}t.splice(o,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(o=>{r(o=cN(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(o=>{r(o=cN(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new qc(e,qc.schemaRules(e)))}}const IR={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Ppe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},BR={ol:!0,ul:!0},Gp=1,uS=2,a0=4;function lN(n,e,t){return e!=null?(e?Gp:0)|(e==="full"?uS:0):n&&n.whitespace=="pre"?Gp|uS:t&-5}class _m{constructor(e,t,r,i,a,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=Jn.none,this.match=a||(o&a0?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(gt.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Gp)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let a=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let t=gt.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(gt.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!IR.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class uN{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,a,o=lN(null,t.preserveWhitespace,0)|(r?a0:0);i?a=new _m(i.type,i.attrs,Jn.none,!0,t.topMatch||i.type.contentMatch,o):r?a=new _m(null,null,Jn.none,!0,null,o):a=new _m(e.schema.topNodeType,null,Jn.none,!0,null,o),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,a=i.options&uS?"full":this.localPreserveWS||(i.options&Gp)>0;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(a)a!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;BR.hasOwnProperty(o)&&this.parser.normalizeLists&&Fpe(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(s?s.ignore:Ppe.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let f,c=this.needsBlock;if(IR.hasOwnProperty(o))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),f=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let v=s&&s.skip?t:this.readStyles(e,t);v&&this.addAll(e,v),f&&this.sync(a),this.needsBlock=c}else{let f=this.readStyles(e,t);f&&this.addElementByRule(e,s,f,s.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],o=r.getPropertyValue(a);if(o)for(let l=void 0;;){let s=this.parser.matchStyle(a,o,this,l);if(!s)break;if(s.ignore)return null;if(s.clearMark?t=t.filter(f=>!s.clearMark(f)):t=t.concat(this.parser.schema.marks[s.mark].create(s.attrs)),s.consuming===!1)l=s;else break}}return t}addElementByRule(e,t,r,i){let a,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let s=this.enter(o,t.attrs||null,r,t.preserveWhitespace);s&&(a=!0,r=s)}else{let s=this.parser.schema.marks[t.mark];r=r.concat(s.create(t.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(s=>this.insertNode(s,r,!1));else{let s=e;typeof t.contentElement=="string"?s=e.querySelector(t.contentElement):typeof t.contentElement=="function"?s=t.contentElement(e):t.contentElement&&(s=t.contentElement),this.findAround(e,s,!0),this.addAll(s,r),this.findAround(e,s,!1)}a&&this.sync(l)&&this.open--}addAll(e,t,r,i){let a=r||0;for(let o=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];o!=l;o=o.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(o,t);this.findAtPoint(e,a)}findPlace(e,t,r){let i,a;for(let o=this.open,l=0;o>=0;o--){let s=this.nodes[o],f=s.findWrapping(e);if(f&&(!i||i.length>f.length+l)&&(i=f,a=s,!f.length))break;if(s.solid){if(r)break;l+=2}}if(!i)return null;this.sync(a);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(t=this.enterInner(a,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let o=Jn.none;for(let l of i.concat(e.marks))(a.type?a.type.allowsMarkType(l.type):fN(l.type,e.type))&&(o=l.addToSet(o));return a.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let a=this.findPlace(e.create(t),r,!1);return a&&(a=this.enterInner(e,t,r,!0,i)),a}enterInner(e,t,r,i=!1,a){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=lN(e,a,o.options);o.options&a0&&o.content.length==0&&(l|=a0);let s=Jn.none;return r=r.filter(f=>(o.type?o.type.allowsMarkType(f.type):fN(f.type,e))?(s=f.addToSet(s),!1):!0),this.nodes.push(new _m(e,t,s,i,null,l)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Gp)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),a=-(r?r.depth+1:0)+(i?0:1),o=(l,s)=>{for(;l>=0;l--){let f=t[l];if(f==""){if(l==t.length-1||l==0)continue;for(;s>=a;s--)if(o(l-1,s))return!0;return!1}else{let c=s>0||s==0&&i?this.nodes[s].type:r&&s>=a?r.node(s-a).type:null;if(!c||c.name!=f&&!c.isInGroup(f))return!1;s--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Fpe(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&BR.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function zpe(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function cN(n){let e={};for(let t in n)e[t]=n[t];return e}function fN(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let a=[],o=l=>{a.push(l);for(let s=0;s<l.edgeCount;s++){let{type:f,next:c}=l.edge(s);if(f==e||a.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class Ud{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=G_(t).createDocumentFragment());let i=r,a=[];return e.forEach(o=>{if(a.length||o.marks.length){let l=0,s=0;for(;l<a.length&&s<o.marks.length;){let f=o.marks[s];if(!this.marks[f.type.name]){s++;continue}if(!f.eq(a[l][0])||f.type.spec.spanning===!1)break;l++,s++}for(;l<a.length;)i=a.pop()[1];for(;s<o.marks.length;){let f=o.marks[s++],c=this.serializeMark(f,o.isInline,t);c&&(a.push([f,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=o0(G_(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(r),r=a.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&o0(G_(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return o0(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ud(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=dN(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return dN(e.marks)}}function dN(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function G_(n){return n.document||window.document}const hN=new WeakMap;function Hpe(n){let e=hN.get(n);return e===void 0&&hN.set(n,e=qpe(n)),e}function qpe(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function o0(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(a=Hpe(r))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let l,s=t?n.createElementNS(t,i):n.createElement(i),f=e[1],c=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){c=2;for(let v in f)if(f[v]!=null){let y=v.indexOf(" ");y>0?s.setAttributeNS(v.slice(0,y),v.slice(y+1),f[v]):s.setAttribute(v,f[v])}}for(let v=c;v<e.length;v++){let y=e[v];if(y===0){if(v<e.length-1||v>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{let{dom:k,contentDOM:x}=o0(n,y,t,r);if(s.appendChild(k),x){if(l)throw new RangeError("Multiple content holes");l=x}}}return{dom:s,contentDOM:l}}const PR=65535,FR=Math.pow(2,16);function Upe(n,e){return n+e*FR}function pN(n){return n&PR}function Vpe(n){return(n-(n&PR))/FR}const zR=1,HR=2,s0=4,qR=8;class cS{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&qR)>0}get deletedBefore(){return(this.delInfo&(zR|s0))>0}get deletedAfter(){return(this.delInfo&(HR|s0))>0}get deletedAcross(){return(this.delInfo&s0)>0}}class Ea{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ea.empty)return Ea.empty}recover(e){let t=0,r=pN(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+Vpe(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let s=this.ranges[l]-(this.inverted?i:0);if(s>e)break;let f=this.ranges[l+a],c=this.ranges[l+o],v=s+f;if(e<=v){let y=f?e==s?-1:e==v?1:t:t,k=s+i+(y<0?0:c);if(r)return k;let x=e==(t<0?s:v)?null:Upe(l/3,e-s),R=e==s?HR:e==v?zR:s0;return(t<0?e!=s:e!=v)&&(R|=qR),new cS(k,R,x)}i+=c-f}return r?e+i:new cS(e+i,0,null)}touches(e,t){let r=0,i=pN(t),a=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let s=this.ranges[l]-(this.inverted?r:0);if(s>e)break;let f=this.ranges[l+a],c=s+f;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+o]-f}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?a:0),s=o+(this.inverted?0:a),f=this.ranges[i+t],c=this.ranges[i+r];e(l,l+f,s,s+c),a+=c-f}}invert(){return new Ea(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ea.empty:new Ea(e<0?[0,-e,0]:[0,0,e])}}Ea.empty=new Ea([]);class jp{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new jp(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new jp;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let a=this.from;a<this.to;a++){let o=this._maps[a],l=o.mapResult(e,t);if(l.recover!=null){let s=this.getMirror(a);if(s!=null&&s>a&&s<this.to){a=s,e=this._maps[s].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new cS(e,i,null)}}const j_=Object.create(null);class Vi{getMap(){return Ea.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=j_[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in j_)throw new RangeError("Duplicate use of step JSON ID "+e);return j_[e]=t,t.prototype.jsonID=e,t}}class $r{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new $r(e,null)}static fail(e){return new $r(null,e)}static fromReplace(e,t,r,i){try{return $r.ok(e.replace(t,r,i))}catch(a){if(a instanceof B0)return $r.fail(a.message);throw a}}}function gE(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let a=n.child(i);a.content.size&&(a=a.copy(gE(a.content,e,a))),a.isInline&&(a=e(a,t,i)),r.push(a)}return gt.fromArray(r)}class ku extends Vi{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),a=new Ot(gE(t.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return $r.fromReplace(e,this.from,this.to,a)}invert(){return new Hs(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ku(t.pos,r.pos,this.mark)}merge(e){return e instanceof ku&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ku(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ku(t.from,t.to,e.markFromJSON(t.mark))}}Vi.jsonID("addMark",ku);class Hs extends Vi{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Ot(gE(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return $r.fromReplace(e,this.from,this.to,r)}invert(){return new ku(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Hs(t.pos,r.pos,this.mark)}merge(e){return e instanceof Hs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Hs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Hs(t.from,t.to,e.markFromJSON(t.mark))}}Vi.jsonID("removeMark",Hs);class _u extends Vi{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $r.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return $r.fromReplace(e,this.pos,this.pos+1,new Ot(gt.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new _u(this.pos,t.marks[i]);return new _u(this.pos,this.mark)}}return new Uc(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new _u(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new _u(t.pos,e.markFromJSON(t.mark))}}Vi.jsonID("addNodeMark",_u);class Uc extends Vi{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return $r.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return $r.fromReplace(e,this.pos,this.pos+1,new Ot(gt.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new _u(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Uc(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Uc(t.pos,e.markFromJSON(t.mark))}}Vi.jsonID("removeNodeMark",Uc);class zi extends Vi{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&fS(e,this.from,this.to)?$r.fail("Structure replace would overwrite content"):$r.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ea([this.from,this.to-this.from,this.slice.size])}invert(e){return new zi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new zi(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof zi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Ot.empty:new Ot(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new zi(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Ot.empty:new Ot(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new zi(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new zi(t.from,t.to,Ot.fromJSON(e,t.slice),!!t.structure)}}Vi.jsonID("replace",zi);class oi extends Vi{constructor(e,t,r,i,a,o,l=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=a,this.insert=o,this.structure=l}apply(e){if(this.structure&&(fS(e,this.from,this.gapFrom)||fS(e,this.gapTo,this.to)))return $r.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return $r.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?$r.fromReplace(e,this.from,this.to,r):$r.fail("Content does not fit in gap")}getMap(){return new Ea([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new oi(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||a>r.pos?null:new oi(t.pos,r.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new oi(t.from,t.to,t.gapFrom,t.gapTo,Ot.fromJSON(e,t.slice),t.insert,!!t.structure)}}Vi.jsonID("replaceAround",oi);function fS(n,e,t){let r=n.resolve(e),i=t-e,a=r.depth;for(;i>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,i--;if(i>0){let o=r.node(a).maybeChild(r.indexAfter(a));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function $pe(n,e,t,r){let i=[],a=[],o,l;n.doc.nodesBetween(e,t,(s,f,c)=>{if(!s.isInline)return;let v=s.marks;if(!r.isInSet(v)&&c.type.allowsMarkType(r.type)){let y=Math.max(f,e),k=Math.min(f+s.nodeSize,t),x=r.addToSet(v);for(let R=0;R<v.length;R++)v[R].isInSet(x)||(o&&o.to==y&&o.mark.eq(v[R])?o.to=k:i.push(o=new Hs(y,k,v[R])));l&&l.to==y?l.to=k:a.push(l=new ku(y,k,r))}}),i.forEach(s=>n.step(s)),a.forEach(s=>n.step(s))}function Wpe(n,e,t,r){let i=[],a=0;n.doc.nodesBetween(e,t,(o,l)=>{if(!o.isInline)return;a++;let s=null;if(r instanceof M1){let f=o.marks,c;for(;c=r.isInSet(f);)(s||(s=[])).push(c),f=c.removeFromSet(f)}else r?r.isInSet(o.marks)&&(s=[r]):s=o.marks;if(s&&s.length){let f=Math.min(l+o.nodeSize,t);for(let c=0;c<s.length;c++){let v=s[c],y;for(let k=0;k<i.length;k++){let x=i[k];x.step==a-1&&v.eq(i[k].style)&&(y=x)}y?(y.to=f,y.step=a):i.push({style:v,from:Math.max(l,e),to:f,step:a})}}}),i.forEach(o=>n.step(new Hs(o.from,o.to,o.style)))}function mE(n,e,t,r=t.contentMatch,i=!0){let a=n.doc.nodeAt(e),o=[],l=e+1;for(let s=0;s<a.childCount;s++){let f=a.child(s),c=l+f.nodeSize,v=r.matchType(f.type);if(!v)o.push(new zi(l,c,Ot.empty));else{r=v;for(let y=0;y<f.marks.length;y++)t.allowsMarkType(f.marks[y].type)||n.step(new Hs(l,c,f.marks[y]));if(i&&f.isText&&t.whitespace!="pre"){let y,k=/\r?\n|\r/g,x;for(;y=k.exec(f.text);)x||(x=new Ot(gt.from(t.schema.text(" ",t.allowedMarks(f.marks))),0,0)),o.push(new zi(l+y.index,l+y.index+y[0].length,x))}}l=c}if(!r.validEnd){let s=r.fillBefore(gt.empty,!0);n.replace(l,l,new Ot(s,0,0))}for(let s=o.length-1;s>=0;s--)n.step(o[s])}function Gpe(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function N1(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),a=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(a,o,t))return r;if(r==0||i.type.spec.isolating||!Gpe(i,a,o))break}return null}function jpe(n,e,t){let{$from:r,$to:i,depth:a}=e,o=r.before(a+1),l=i.after(a+1),s=o,f=l,c=gt.empty,v=0;for(let x=a,R=!1;x>t;x--)R||r.index(x)>0?(R=!0,c=gt.from(r.node(x).copy(c)),v++):s--;let y=gt.empty,k=0;for(let x=a,R=!1;x>t;x--)R||i.after(x+1)<i.end(x)?(R=!0,y=gt.from(i.node(x).copy(y)),k++):f++;n.step(new oi(s,f,o,l,new Ot(c.append(y),v,k),c.size-v,!0))}function Ype(n,e,t=null,r=n){let i=Zpe(n,e),a=i&&Kpe(r,e);return a?i.map(vN).concat({type:e,attrs:t}).concat(a.map(vN)):null}function vN(n){return{type:n,attrs:null}}function Zpe(n,e){let{parent:t,startIndex:r,endIndex:i}=n,a=t.contentMatchAt(r).findWrapping(e);if(!a)return null;let o=a.length?a[0]:e;return t.canReplaceWith(r,i,o)?a:null}function Kpe(n,e){let{parent:t,startIndex:r,endIndex:i}=n,a=t.child(r),o=e.contentMatch.findWrapping(a.type);if(!o)return null;let s=(o.length?o[o.length-1]:e).contentMatch;for(let f=r;s&&f<i;f++)s=s.matchType(t.child(f).type);return!s||!s.validEnd?null:o}function Jpe(n,e,t){let r=gt.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let l=t[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=gt.from(t[o].type.create(t[o].attrs,r))}let i=e.start,a=e.end;n.step(new oi(i,a,i,a,new Ot(r,0,0),t.length,!0))}function Xpe(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=n.steps.length;n.doc.nodesBetween(e,t,(o,l)=>{let s=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,s)&&Qpe(n.doc,n.mapping.slice(a).map(l),r)){let f=null;if(r.schema.linebreakReplacement){let k=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);k&&!x?f=!1:!k&&x&&(f=!0)}f===!1&&VR(n,o,l,a),mE(n,n.mapping.slice(a).map(l,1),r,void 0,f===null);let c=n.mapping.slice(a),v=c.map(l,1),y=c.map(l+o.nodeSize,1);return n.step(new oi(v,y,v+1,y-1,new Ot(gt.from(r.create(s,null,o.marks)),0,0),1,!0)),f===!0&&UR(n,o,l,a),!1}})}function UR(n,e,t,r){e.forEach((i,a)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let s=n.mapping.slice(r).map(t+1+a+o.index);n.replaceWith(s,s+1,e.type.schema.linebreakReplacement.create())}}})}function VR(n,e,t,r){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+a);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Qpe(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function eve(n,e,t,r,i){let a=n.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let o=t.create(r,null,i||a.marks);if(a.isLeaf)return n.replaceWith(e,e+a.nodeSize,o);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new oi(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new Ot(gt.from(o),0,0),1,!0))}function md(n,e,t=1,r){let i=n.resolve(e),a=i.depth-t,o=r&&r[r.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,c=t-2;f>a;f--,c--){let v=i.node(f),y=i.index(f);if(v.type.spec.isolating)return!1;let k=v.content.cutByIndex(y,v.childCount),x=r&&r[c+1];x&&(k=k.replaceChild(0,x.type.create(x.attrs)));let R=r&&r[c]||v;if(!v.canReplace(y+1,v.childCount)||!R.type.validContent(k))return!1}let l=i.indexAfter(a),s=r&&r[0];return i.node(a).canReplaceWith(l,l,s?s.type:i.node(a+1).type)}function tve(n,e,t=1,r){let i=n.doc.resolve(e),a=gt.empty,o=gt.empty;for(let l=i.depth,s=i.depth-t,f=t-1;l>s;l--,f--){a=gt.from(i.node(l).copy(a));let c=r&&r[f];o=gt.from(c?c.type.create(c.attrs,o):i.node(l).copy(o))}n.step(new zi(e,e,new Ot(a.append(o),t,t),!0))}function $R(n,e){let t=n.resolve(e),r=t.index();return rve(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function nve(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),o=a.type==r?n.type.schema.nodes.text:a.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(a.marks))return!1}return t.validEnd}function rve(n,e){return!!(n&&e&&!n.isLeaf&&nve(n,e))}function ive(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,a=n.doc.resolve(e-t),o=a.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",v=!!o.contentMatch.matchType(i);c&&!v?r=!1:!c&&v&&(r=!0)}let l=n.steps.length;if(r===!1){let c=n.doc.resolve(e+t);VR(n,c.node(),c.before(),l)}o.inlineContent&&mE(n,e+t-1,o,a.node().contentMatchAt(a.index()),r==null);let s=n.mapping.slice(l),f=s.map(e-t);if(n.step(new zi(f,s.map(e+t,-1),Ot.empty,!0)),r===!0){let c=n.doc.resolve(f);UR(n,c.node(),c.before(),n.steps.length)}return n}function ave(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let a=r.index(i);if(r.node(i).canReplaceWith(a,a,t))return r.before(i+1);if(a>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let a=r.indexAfter(i);if(r.node(i).canReplaceWith(a,a,t))return r.after(i+1);if(a<r.node(i).childCount)return null}return null}function ove(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let a=0;a<t.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,s=r.index(o)+(l>0?1:0),f=r.node(o),c=!1;if(a==1)c=f.canReplace(s,s,i);else{let v=f.contentMatchAt(s).findWrapping(i.firstChild.type);c=v&&f.canReplaceWith(s,s,v[0])}if(c)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function yE(n,e,t=e,r=Ot.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),a=n.resolve(t);return WR(i,a,r)?new zi(e,t,r):new sve(i,a,r).fit()}function WR(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class sve{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=gt.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=gt.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let a=this.placed,o=r.depth,l=i.depth;for(;o&&l&&a.childCount==1;)a=a.firstChild.content,o--,l--;let s=new Ot(a,o,l);return e>-1?new oi(r.pos,e,this.$to.pos,this.$to.end(),s,t):s.size||r.pos!=this.$to.pos?new zi(r.pos,i.pos,s):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let a=t.firstChild;if(t.childCount>1&&(i=0),a.type.spec.isolating&&i<=r){e=r;break}t=a.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,a=null;r?(a=Y_(this.unplaced.content,r-1).firstChild,i=a.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:s,match:f}=this.frontier[l],c,v=null;if(t==1&&(o?f.matchType(o.type)||(v=f.fillBefore(gt.from(o),!1)):a&&s.compatibleContent(a.type)))return{sliceDepth:r,frontierDepth:l,parent:a,inject:v};if(t==2&&o&&(c=f.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:a,wrap:c};if(a&&f.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Y_(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ot(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Y_(e,t);if(i.childCount<=1&&t>0){let a=e.size-t<=t+i.size;this.unplaced=new Ot(mp(e,t-1,1),t-1,a?t-1:r)}else this.unplaced=new Ot(mp(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let R=0;R<a.length;R++)this.openFrontierNode(a[R]);let o=this.unplaced,l=r?r.content:o.content,s=o.openStart-e,f=0,c=[],{match:v,type:y}=this.frontier[t];if(i){for(let R=0;R<i.childCount;R++)c.push(i.child(R));v=v.matchFragment(i)}let k=l.size+e-(o.content.size-o.openEnd);for(;f<l.childCount;){let R=l.child(f),d=v.matchType(R.type);if(!d)break;f++,(f>1||s==0||R.content.size)&&(v=d,c.push(GR(R.mark(y.allowedMarks(R.marks)),f==1?s:0,f==l.childCount?k:-1)))}let x=f==l.childCount;x||(k=-1),this.placed=yp(this.placed,t,gt.from(c)),this.frontier[t].match=v,x&&k<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let R=0,d=l;R<k;R++){let h=d.lastChild;this.frontier.push({type:h.type,match:h.contentMatchAt(h.childCount)}),d=h.content}this.unplaced=x?e==0?Ot.empty:new Ot(mp(o.content,e-1,1),e-1,k<0?o.openEnd:e-1):new Ot(mp(o.content,e,f),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Z_(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Z_(e,t,i,r,a);if(o){for(let l=t-1;l>=0;l--){let{match:s,type:f}=this.frontier[l],c=Z_(e,l,f,s,!0);if(!c||c.childCount)continue e}return{depth:t,fit:o,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=yp(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=yp(this.placed,this.depth,gt.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(gt.empty,!0);t.childCount&&(this.placed=yp(this.placed,this.frontier.length,t))}}function mp(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(mp(n.firstChild.content,e-1,t)))}function yp(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(yp(n.lastChild.content,e-1,t)))}function Y_(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function GR(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,GR(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(gt.empty,!0)))),n.copy(r)}function Z_(n,e,t,r,i){let a=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==a.childCount&&!t.compatibleContent(a.type))return null;let l=r.fillBefore(a.content,!0,o);return l&&!lve(t,a.content,o)?l:null}function lve(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function uve(n){return n.spec.defining||n.spec.definingForContent}function cve(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),a=n.doc.resolve(t);if(WR(i,a,r))return n.step(new zi(e,t,r));let o=YR(i,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let y=i.depth,k=i.pos-1;y>0;y--,k--){let x=i.node(y).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;o.indexOf(y)>-1?l=y:i.before(y)==k&&o.splice(1,0,-y)}let s=o.indexOf(l),f=[],c=r.openStart;for(let y=r.content,k=0;;k++){let x=y.firstChild;if(f.push(x),k==r.openStart)break;y=x.content}for(let y=c-1;y>=0;y--){let k=f[y],x=uve(k.type);if(x&&!k.sameMarkup(i.node(Math.abs(l)-1)))c=y;else if(x||!k.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let k=(y+c+1)%(r.openStart+1),x=f[k];if(x)for(let R=0;R<o.length;R++){let d=o[(R+s)%o.length],h=!0;d<0&&(h=!1,d=-d);let w=i.node(d-1),A=i.index(d-1);if(w.canReplaceWith(A,A,x.type,x.marks))return n.replace(i.before(d),h?a.after(d):t,new Ot(jR(r.content,0,r.openStart,k),k,r.openEnd))}}let v=n.steps.length;for(let y=o.length-1;y>=0&&(n.replace(e,t,r),!(n.steps.length>v));y--){let k=o[y];k<0||(e=i.before(k),t=a.after(k))}}function jR(n,e,t,r,i){if(e<t){let a=n.firstChild;n=n.replaceChild(0,a.copy(jR(a.content,e+1,t,r,a)))}if(e>r){let a=i.contentMatchAt(0),o=a.fillBefore(n).append(n);n=o.append(a.matchFragment(o).fillBefore(gt.empty,!0))}return n}function fve(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=ave(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new Ot(gt.from(r),0,0))}function dve(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),a=YR(r,i);for(let o=0;o<a.length;o++){let l=a[o],s=o==a.length-1;if(s&&l==0||r.node(l).type.contentMatch.validEnd)return n.delete(r.start(l),i.end(l));if(l>0&&(s||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return n.delete(r.before(l),i.after(l))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function YR(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let a=n.start(i);if(a<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&t.push(i)}return t}class yd extends Vi{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return $r.fail("No node at attribute step's position");let r=Object.create(null);for(let a in t.attrs)r[a]=t.attrs[a];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return $r.fromReplace(e,this.pos,this.pos+1,new Ot(gt.from(i),0,t.isLeaf?0:1))}getMap(){return Ea.empty}invert(e){return new yd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new yd(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new yd(t.pos,t.attr,t.value)}}Vi.jsonID("attr",yd);class Yp extends Vi{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return $r.ok(r)}getMap(){return Ea.empty}invert(e){return new Yp(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Yp(t.attr,t.value)}}Vi.jsonID("docAttr",Yp);let xd=class extends Error{};xd=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};xd.prototype=Object.create(Error.prototype);xd.prototype.constructor=xd;xd.prototype.name="TransformError";class hve{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new jp}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new xd(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Ot.empty){let i=yE(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new Ot(gt.from(r),0,0))}delete(e,t){return this.replace(e,t,Ot.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return cve(this,e,t,r),this}replaceRangeWith(e,t,r){return fve(this,e,t,r),this}deleteRange(e,t){return dve(this,e,t),this}lift(e,t){return jpe(this,e,t),this}join(e,t=1){return ive(this,e,t),this}wrap(e,t){return Jpe(this,e,t),this}setBlockType(e,t=e,r,i=null){return Xpe(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return eve(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new yd(e,t,r)),this}setDocAttribute(e,t){return this.step(new Yp(e,t)),this}addNodeMark(e,t){return this.step(new _u(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Jn)t.isInSet(r.marks)&&this.step(new Uc(e,t));else{let i=r.marks,a,o=[];for(;a=t.isInSet(i);)o.push(new Uc(e,a)),i=a.removeFromSet(i);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,t=1,r){return tve(this,e,t,r),this}addMark(e,t,r){return $pe(this,e,t,r),this}removeMark(e,t,r){return Wpe(this,e,t,r),this}clearIncompatible(e,t,r){return mE(this,e,t,r),this}}const K_=Object.create(null);class Ln{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new ZR(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Ot.empty){let r=t.content.lastChild,i=null;for(let l=0;l<t.openEnd;l++)i=r,r=r.lastChild;let a=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:s,$to:f}=o[l],c=e.mapping.slice(a);e.replaceRange(c.map(s.pos),c.map(f.pos),l?Ot.empty:t),l==0&&yN(e,a,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:o,$to:l}=i[a],s=e.mapping.slice(r),f=s.map(o.pos),c=s.map(l.pos);a?e.deleteRange(f,c):(e.replaceRangeWith(f,c,t),yN(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new zn(e):sd(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let a=e.depth-1;a>=0;a--){let o=t<0?sd(e.node(0),e.node(a),e.before(a+1),e.index(a),t,r):sd(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new ra(e.node(0))}static atStart(e){return sd(e,e,0,0,1)||new ra(e)}static atEnd(e){return sd(e,e,e.content.size,e.childCount,-1)||new ra(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=K_[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in K_)throw new RangeError("Duplicate use of selection JSON ID "+e);return K_[e]=t,t.prototype.jsonID=e,t}getBookmark(){return zn.between(this.$anchor,this.$head).getBookmark()}}Ln.prototype.visible=!0;class ZR{constructor(e,t){this.$from=e,this.$to=t}}let gN=!1;function mN(n){!gN&&!n.parent.inlineContent&&(gN=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class zn extends Ln{constructor(e,t=e){mN(e),mN(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Ln.near(r);let i=e.resolve(t.map(this.anchor));return new zn(i.parent.inlineContent?i:r,r)}replace(e,t=Ot.empty){if(super.replace(e,t),t==Ot.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof zn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new D1(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new zn(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let a=Ln.findFrom(t,r,!0)||Ln.findFrom(t,-r,!0);if(a)t=a.$head;else return Ln.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(Ln.findFrom(e,-r,!0)||Ln.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new zn(e,t)}}Ln.jsonID("text",zn);class D1{constructor(e,t){this.anchor=e,this.head=t}map(e){return new D1(e.map(this.anchor),e.map(this.head))}resolve(e){return zn.between(e.resolve(this.anchor),e.resolve(this.head))}}class vn extends Ln{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),a=e.resolve(i);return r?Ln.near(a):new vn(a)}content(){return new Ot(gt.from(this.node),0,0)}eq(e){return e instanceof vn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new bE(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new vn(e.resolve(t.anchor))}static create(e,t){return new vn(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}vn.prototype.visible=!1;Ln.jsonID("node",vn);class bE{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new D1(r,r):new bE(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&vn.isSelectable(r)?new vn(t):Ln.near(t)}}class ra extends Ln{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Ot.empty){if(t==Ot.empty){e.delete(0,e.doc.content.size);let r=Ln.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new ra(e)}map(e){return new ra(e)}eq(e){return e instanceof ra}getBookmark(){return pve}}Ln.jsonID("all",ra);const pve={map(){return this},resolve(n){return new ra(n)}};function sd(n,e,t,r,i,a=!1){if(e.inlineContent)return zn.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!a&&vn.isSelectable(l))return vn.create(n,t-(i<0?l.nodeSize:0))}else{let s=sd(n,l,t+i,i<0?l.childCount:0,i,a);if(s)return s}t+=l.nodeSize*i}return null}function yN(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof zi||i instanceof oi))return;let a=n.mapping.maps[r],o;a.forEach((l,s,f,c)=>{o==null&&(o=c)}),n.setSelection(Ln.near(n.doc.resolve(o),t))}const bN=1,wN=2,CN=4;class vve extends hve{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|bN)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&bN)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=wN,this}ensureMarks(e){return Jn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&wN)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Jn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let a=this.storedMarks;if(!a){let o=this.doc.resolve(t);a=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,a)),this.selection.empty||this.setSelection(Ln.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=CN,this}get scrolledIntoView(){return(this.updated&CN)>0}}function xN(n,e){return!e||!n?n:n.bind(e)}class bp{constructor(e,t,r){this.name=e,this.init=xN(t.init,r),this.apply=xN(t.apply,r)}}const gve=[new bp("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new bp("selection",{init(n,e){return n.selection||Ln.atStart(e.doc)},apply(n){return n.selection}}),new bp("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new bp("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class J_{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=gve.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new bp(r.key,r.spec.state,r))})}}class Mc{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let s=i?i[o].n:0,f=i?i[o].state:this,c=s<t.length&&l.spec.appendTransaction.call(l,s?t.slice(s):t,f,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let v=0;v<this.config.plugins.length;v++)i.push(v<o?{state:r,n:t.length}:{state:this,n:0})}t.push(c),r=r.applyInner(c),a=!0}i&&(i[o]={state:r,n:t.length})}}if(!a)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Mc(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let a=r[i];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new vve(this)}static create(e){let t=new J_(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Mc(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new J_(this.schema,e.plugins),r=t.fields,i=new Mc(t);for(let a=0;a<r.length;a++){let o=r[a].name;i[o]=this.hasOwnProperty(o)?this[o]:r[a].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],a=i.spec.state;a&&a.toJSON&&(t[r]=a.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new J_(e.schema,e.plugins),a=new Mc(i);return i.fields.forEach(o=>{if(o.name=="doc")a.doc=Au.fromJSON(e.schema,t.doc);else if(o.name=="selection")a.selection=Ln.fromJSON(a.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let s=r[l],f=s.spec.state;if(s.key==o.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(t,l)){a[o.name]=f.fromJSON.call(s,e,t[l],a);return}}a[o.name]=o.init(e,a)}}),a}}function KR(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=KR(i,e,{})),t[r]=i}return t}class Ra{constructor(e){this.spec=e,this.props={},e.props&&KR(e.props,this,this.props),this.key=e.key?e.key.key:JR("plugin")}getState(e){return e[this.key]}}const X_=Object.create(null);function JR(n){return n in X_?n+"$"+ ++X_[n]:(X_[n]=0,n+"$")}class cv{constructor(e="key"){this.key=JR(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ci=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},kd=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let dS=null;const Cl=function(n,e,t){let r=dS||(dS=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},mve=function(){dS=null},Vc=function(n,e,t,r){return t&&(kN(n,e,t,r,-1)||kN(n,e,t,r,1))},yve=/^(img|br|input|textarea|hr)$/i;function kN(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:To(n))){let a=n.parentNode;if(!a||a.nodeType!=1||fv(n)||yve.test(n.nodeName)||n.contentEditable=="false")return!1;e=Ci(n)+(i<0?0:1),n=a}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?To(n):0}else return!1}}function To(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function bve(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=To(n)}else if(n.parentNode&&!fv(n))e=Ci(n),n=n.parentNode;else return null}}function wve(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!fv(n))e=Ci(n)+1,n=n.parentNode;else return null}}function Cve(n,e,t){for(let r=e==0,i=e==To(n);r||i;){if(n==t)return!0;let a=Ci(n);if(n=n.parentNode,!n)return!1;r=r&&a==0,i=i&&a==To(n)}}function fv(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const L1=function(n){return n.focusNode&&Vc(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Ec(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function xve(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function kve(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(To(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(To(r.startContainer),r.startOffset)}}}const Gs=typeof navigator<"u"?navigator:null,_N=typeof document<"u"?document:null,Hu=Gs&&Gs.userAgent||"",hS=/Edge\/(\d+)/.exec(Hu),XR=/MSIE \d/.exec(Hu),pS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Hu),Na=!!(XR||pS||hS),Mu=XR?document.documentMode:pS?+pS[1]:hS?+hS[1]:0,hs=!Na&&/gecko\/(\d+)/i.test(Hu);hs&&+(/Firefox\/(\d+)/.exec(Hu)||[0,0])[1];const vS=!Na&&/Chrome\/(\d+)/.exec(Hu),qi=!!vS,QR=vS?+vS[1]:0,sa=!Na&&!!Gs&&/Apple Computer/.test(Gs.vendor),_d=sa&&(/Mobile\/\w+/.test(Hu)||!!Gs&&Gs.maxTouchPoints>2),_o=_d||(Gs?/Mac/.test(Gs.platform):!1),_ve=Gs?/Win/.test(Gs.platform):!1,Sl=/Android \d/.test(Hu),dv=!!_N&&"webkitFontSmoothing"in _N.documentElement.style,Tve=dv?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Sve(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function yl(n,e){return typeof n=="number"?n:n[e]}function Eve(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function TN(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,a=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=kd(o);continue}let l=o,s=l==a.body,f=s?Sve(a):Eve(l),c=0,v=0;if(e.top<f.top+yl(r,"top")?v=-(f.top-e.top+yl(i,"top")):e.bottom>f.bottom-yl(r,"bottom")&&(v=e.bottom-e.top>f.bottom-f.top?e.top+yl(i,"top")-f.top:e.bottom-f.bottom+yl(i,"bottom")),e.left<f.left+yl(r,"left")?c=-(f.left-e.left+yl(i,"left")):e.right>f.right-yl(r,"right")&&(c=e.right-f.right+yl(i,"right")),c||v)if(s)a.defaultView.scrollBy(c,v);else{let k=l.scrollLeft,x=l.scrollTop;v&&(l.scrollTop+=v),c&&(l.scrollLeft+=c);let R=l.scrollLeft-k,d=l.scrollTop-x;e={left:e.left-R,top:e.top-d,right:e.right-R,bottom:e.bottom-d}}let y=s?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(y))break;o=y=="absolute"?o.offsetParent:kd(o)}}function Ave(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let a=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=n.root.elementFromPoint(a,o);if(!l||l==n.dom||!n.dom.contains(l))continue;let s=l.getBoundingClientRect();if(s.top>=t-20){r=l,i=s.top;break}}return{refDOM:r,refTop:i,stack:eI(n.dom)}}function eI(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=kd(r));return e}function Mve({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;tI(t,r==0?0:r-e)}function tI(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:a}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=a&&(r.scrollLeft=a)}}let ed=null;function Nve(n){if(n.setActive)return n.setActive();if(ed)return n.focus(ed);let e=eI(n);n.focus(ed==null?{get preventScroll(){return ed={preventScroll:!0},!0}}:void 0),ed||(ed=!1,tI(e,0))}function nI(n,e){let t,r=2e8,i,a=0,o=e.top,l=e.top,s,f;for(let c=n.firstChild,v=0;c;c=c.nextSibling,v++){let y;if(c.nodeType==1)y=c.getClientRects();else if(c.nodeType==3)y=Cl(c).getClientRects();else continue;for(let k=0;k<y.length;k++){let x=y[k];if(x.top<=o&&x.bottom>=l){o=Math.max(x.bottom,o),l=Math.min(x.top,l);let R=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(R<r){t=c,r=R,i=R&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,c.nodeType==1&&R&&(a=v+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!s&&x.left<=e.left&&x.right>=e.left&&(s=c,f={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(a=v+1)}}return!t&&s&&(t=s,i=f,r=0),t&&t.nodeType==3?Dve(t,i):!t||r&&t.nodeType==1?{node:n,offset:a}:nI(t,i)}function Dve(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let a=du(r,1);if(a.top!=a.bottom&&wE(e,a))return{node:n,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:n,offset:0}}function wE(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Lve(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Ove(n,e,t){let{node:r,offset:i}=nI(e,t),a=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();a=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,a)}function Rve(n,e,t,r){let i=-1;for(let a=e,o=!1;a!=n.dom;){let l=n.docView.nearestDesc(a,!0),s;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((s=l.dom.getBoundingClientRect()).width||s.height)&&(l.node.isBlock&&l.parent&&(!o&&s.left>r.left||s.top>r.top?i=l.posBefore:(!o&&s.right<r.left||s.bottom<r.top)&&(i=l.posAfter),o=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(s.top+s.bottom)/2:r.left<(s.left+s.right)/2)?l.posBefore:l.posAfter;a=l.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function rI(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),a=i;;){let o=n.childNodes[a];if(o.nodeType==1){let l=o.getClientRects();for(let s=0;s<l.length;s++){let f=l[s];if(wE(e,f))return rI(o,e,f)}}if((a=(a+1)%r)==i)break}return n}function Ive(n,e){let t=n.dom.ownerDocument,r,i=0,a=kve(t,e.left,e.top);a&&({node:r,offset:i}=a);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),l;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let f=n.dom.getBoundingClientRect();if(!wE(e,f)||(o=rI(n.dom,e,f),!o))return null}if(sa)for(let f=o;r&&f;f=kd(f))f.draggable&&(r=void 0);if(o=Lve(o,e),r){if(hs&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],v;c.nodeName=="IMG"&&(v=c.getBoundingClientRect()).right<=e.left&&v.bottom>e.top&&i++}let f;dv&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=Rve(n,r,i,e))}l==null&&(l=Ove(n,o,e));let s=n.docView.nearestDesc(o,!0);return{pos:l,inside:s?s.posAtStart-s.border:-1}}function SN(n){return n.top<n.bottom||n.left<n.right}function du(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(SN(r))return r}return Array.prototype.find.call(t,SN)||n.getBoundingClientRect()}const Bve=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function iI(n,e,t){let{node:r,offset:i,atom:a}=n.docView.domFromPos(e,t<0?-1:1),o=dv||hs;if(r.nodeType==3)if(o&&(Bve.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let s=du(Cl(r,i,i),t);if(hs&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=du(Cl(r,i-1,i-1),-1);if(f.top==s.top){let c=du(Cl(r,i,i+1),-1);if(c.top!=s.top)return ap(c,c.left<f.left)}}return s}else{let s=i,f=i,c=t<0?1:-1;return t<0&&!i?(f++,c=-1):t>=0&&i==r.nodeValue.length?(s--,c=1):t<0?s--:f++,ap(du(Cl(r,s,f),c),c<0)}if(!n.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(t<0||i==To(r))){let s=r.childNodes[i-1];if(s.nodeType==1)return Q_(s.getBoundingClientRect(),!1)}if(a==null&&i<To(r)){let s=r.childNodes[i];if(s.nodeType==1)return Q_(s.getBoundingClientRect(),!0)}return Q_(r.getBoundingClientRect(),t>=0)}if(a==null&&i&&(t<0||i==To(r))){let s=r.childNodes[i-1],f=s.nodeType==3?Cl(s,To(s)-(o?0:1)):s.nodeType==1&&(s.nodeName!="BR"||!s.nextSibling)?s:null;if(f)return ap(du(f,1),!1)}if(a==null&&i<To(r)){let s=r.childNodes[i];for(;s.pmViewDesc&&s.pmViewDesc.ignoreForCoords;)s=s.nextSibling;let f=s?s.nodeType==3?Cl(s,0,o?0:1):s.nodeType==1?s:null:null;if(f)return ap(du(f,-1),!0)}return ap(du(r.nodeType==3?Cl(r):r,-t),t>=0)}function ap(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Q_(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function aI(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function Pve(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return aI(n,e,()=>{let{node:a}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let l=n.docView.nearestDesc(a,!0);if(!l)break;if(l.node.isBlock){a=l.contentDOM||l.dom;break}a=l.dom.parentNode}let o=iI(n,i.pos,1);for(let l=a.firstChild;l;l=l.nextSibling){let s;if(l.nodeType==1)s=l.getClientRects();else if(l.nodeType==3)s=Cl(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<s.length;f++){let c=s[f];if(c.bottom>c.top+1&&(t=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const Fve=/[\u0590-\u08ac]/;function zve(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,a=!i,o=i==r.parent.content.size,l=n.domSelection();return l?!Fve.test(r.parent.textContent)||!l.modify?t=="left"||t=="backward"?a:o:aI(n,e,()=>{let{focusNode:s,focusOffset:f,anchorNode:c,anchorOffset:v}=n.domSelectionRange(),y=l.caretBidiLevel;l.modify("move",t,"character");let k=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:x,focusOffset:R}=n.domSelectionRange(),d=x&&!k.contains(x.nodeType==1?x:x.parentNode)||s==x&&f==R;try{l.collapse(c,v),s&&(s!=c||f!=v)&&l.extend&&l.extend(s,f)}catch{}return y!=null&&(l.caretBidiLevel=y),d}):r.pos==r.start()||r.pos==r.end()}let EN=null,AN=null,MN=!1;function Hve(n,e,t){return EN==e&&AN==t?MN:(EN=e,AN=t,MN=t=="up"||t=="down"?Pve(n,e,t):zve(n,e,t))}const Eo=0,NN=1,Nc=2,js=3;class hv{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Eo,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let a,o;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Ci(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),o;if(a&&(!t||a.node))if(r&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],a=r+i.size;if(r==e&&a!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let l=i.children[o];if(l.size){i=l;break}}return i}if(e<a)return i.descAt(e-r-i.border);r=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let a=0;r<this.children.length;r++){let o=this.children[r],l=a+o.size;if(l>e||o instanceof sI){i=e-a;break}a=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let a;r&&!(a=this.children[r-1]).size&&a instanceof oI&&a.side>=0;r--);if(t<=0){let a,o=!0;for(;a=r?this.children[r-1]:null,!(!a||a.dom.parentNode==this.contentDOM);r--,o=!1);return a&&t&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?Ci(a.dom)+1:0}}else{let a,o=!0;for(;a=r<this.children.length?this.children[r]:null,!(!a||a.dom.parentNode==this.contentDOM);r++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?Ci(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let o=r,l=0;;l++){let s=this.children[l],f=o+s.size;if(i==-1&&e<=f){let c=o+s.border;if(e>=c&&t<=f-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,c);e=o;for(let v=l;v>0;v--){let y=this.children[v-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=Ci(y.dom)+1;break}e-=y.size}i==-1&&(i=0)}if(i>-1&&(f>t||l==this.children.length-1)){t=f;for(let c=l+1;c<this.children.length;c++){let v=this.children[c];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(-1)){a=Ci(v.dom);break}t+=v.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=f}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let a=Math.min(e,t),o=Math.max(e,t);for(let k=0,x=0;k<this.children.length;k++){let R=this.children[k],d=x+R.size;if(a>x&&o<d)return R.setSelection(e-x-R.border,t-x-R.border,r,i);x=d}let l=this.domFromPos(e,e?-1:1),s=t==e?l:this.domFromPos(t,t?-1:1),f=r.root.getSelection(),c=r.domSelectionRange(),v=!1;if((hs||sa)&&e==t){let{node:k,offset:x}=l;if(k.nodeType==3){if(v=!!(x&&k.nodeValue[x-1]==`
`),v&&x==k.nodeValue.length)for(let R=k,d;R;R=R.parentNode){if(d=R.nextSibling){d.nodeName=="BR"&&(l=s={node:d.parentNode,offset:Ci(d)+1});break}let h=R.pmViewDesc;if(h&&h.node&&h.node.isBlock)break}}else{let R=k.childNodes[x-1];v=R&&(R.nodeName=="BR"||R.contentEditable=="false")}}if(hs&&c.focusNode&&c.focusNode!=s.node&&c.focusNode.nodeType==1){let k=c.focusNode.childNodes[c.focusOffset];k&&k.contentEditable=="false"&&(i=!0)}if(!(i||v&&sa)&&Vc(l.node,l.offset,c.anchorNode,c.anchorOffset)&&Vc(s.node,s.offset,c.focusNode,c.focusOffset))return;let y=!1;if((f.extend||e==t)&&!v){f.collapse(l.node,l.offset);try{e!=t&&f.extend(s.node,s.offset),y=!0}catch{}}if(!y){if(e>t){let x=l;l=s,s=x}let k=document.createRange();k.setEnd(s.node,s.offset),k.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(k)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let a=this.children[i],o=r+a.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let l=r+a.border,s=o-a.border;if(e>=l&&t<=s){this.dirty=e==r||t==o?Nc:NN,e==l&&t==s&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=js:a.markDirty(e-l,t-l);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Nc:js}r=o}this.dirty=Nc}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Nc:NN;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class oI extends hv{constructor(e,t,r,i){let a,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==Eo&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class qve extends hv{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class $c extends hv{constructor(e,t,r,i,a){super(e,[],r,i),this.mark=t,this.spec=a}static create(e,t,r,i){let a=i.nodeViews[t.type.name],o=a&&a(t,i,r);return(!o||!o.dom)&&(o=Ud.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new $c(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&js||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=js&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Eo){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Eo}}slice(e,t,r){let i=$c.create(this.parent,this.mark,!0,r),a=this.children,o=this.size;t<o&&(a=mS(a,t,o,r)),e>0&&(a=mS(a,0,e,r));for(let l=0;l<a.length;l++)a[l].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Nu extends hv{constructor(e,t,r,i,a,o,l,s,f){super(e,[],a,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,t,r,i,a,o){let l=a.nodeViews[t.type.name],s,f=l&&l(t,a,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)},r,i),c=f&&f.dom,v=f&&f.contentDOM;if(t.isText){if(!c)c=document.createTextNode(t.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:v}=Ud.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!v&&!t.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let y=c;return c=cI(c,r,t),f?s=new Uve(e,t,r,i,c,v||null,y,f,a,o+1):t.isText?new O1(e,t,r,i,c,y,a):new Nu(e,t,r,i,c,v||null,y,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>gt.empty)}return e}matchesNode(e,t,r){return this.dirty==Eo&&e.eq(this.node)&&H0(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,a=e.composing?this.localCompositionInfo(e,t):null,o=a&&a.pos>-1?a:null,l=a&&a.pos<0,s=new $ve(this,o&&o.node,e);jve(this.node,this.innerDeco,(f,c,v)=>{f.spec.marks?s.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!v&&s.syncToMarks(c==this.node.childCount?Jn.none:this.node.child(c).marks,r,e),s.placeWidget(f,e,i)},(f,c,v,y)=>{s.syncToMarks(f.marks,r,e);let k;s.findNodeMatch(f,c,v,y)||l&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(k=s.findIndexWithChild(a.node))>-1&&s.updateNodeAt(f,c,v,k,e)||s.updateNextNode(f,c,v,e,y,i)||s.addNode(f,c,v,e,i),i+=f.nodeSize}),s.syncToMarks([],r,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||this.dirty==Nc)&&(o&&this.protectLocalComposition(e,o),lI(this.contentDOM,this.children,e),_d&&Yve(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof zn)||r<t||i>t+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let o=a.nodeValue,l=Zve(this.node.content,o,r-t,i-t);return l<0?null:{node:a,pos:l,text:o}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new qve(this,a,t,i);e.input.compositionNodes.push(o),this.children=mS(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==js||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Eo}updateOuterDeco(e){if(H0(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=uI(this.dom,this.nodeDOM,gS(this.outerDeco,this.node,t),gS(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function DN(n,e,t,r,i){cI(r,e,n);let a=new Nu(void 0,n,e,t,r,r,r,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class O1 extends Nu{constructor(e,t,r,i,a,o,l){super(e,t,r,i,a,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==js||this.dirty!=Eo&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Eo||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Eo,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),a=document.createTextNode(i.text);return new O1(this.parent,i,this.outerDeco,this.innerDeco,a,a,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=js)}get domAtom(){return!1}isText(e){return this.node.text==e}}class sI extends hv{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Eo&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Uve extends Nu{constructor(e,t,r,i,a,o,l,s,f,c){super(e,t,r,i,a,o,l,f,c),this.spec=s}update(e,t,r,i){if(this.dirty==js)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,r);return a&&this.updateInner(e,t,r,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function lI(n,e,t){let r=n.firstChild,i=!1;for(let a=0;a<e.length;a++){let o=e[a],l=o.dom;if(l.parentNode==n){for(;l!=r;)r=LN(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(l,r);if(o instanceof $c){let s=r?r.previousSibling:n.lastChild;lI(o.contentDOM,o.children,t),r=s?s.nextSibling:n.firstChild}}for(;r;)r=LN(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Dp=function(n){n&&(this.nodeName=n)};Dp.prototype=Object.create(null);const Dc=[new Dp];function gS(n,e,t){if(n.length==0)return Dc;let r=t?Dc[0]:new Dp,i=[r];for(let a=0;a<n.length;a++){let o=n[a].type.attrs;if(o){o.nodeName&&i.push(r=new Dp(o.nodeName));for(let l in o){let s=o[l];s!=null&&(t&&i.length==1&&i.push(r=new Dp(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+s:l=="style"?r.style=(r.style?r.style+";":"")+s:l!="nodeName"&&(r[l]=s))}}}return i}function uI(n,e,t,r){if(t==Dc&&r==Dc)return e;let i=e;for(let a=0;a<r.length;a++){let o=r[a],l=t[a];if(a){let s;l&&l.nodeName==o.nodeName&&i!=n&&(s=i.parentNode)&&s.nodeName.toLowerCase()==o.nodeName||(s=document.createElement(o.nodeName),s.pmIsDeco=!0,s.appendChild(i),l=Dc[0]),i=s}Vve(i,l||Dc[0],o)}return i}function Vve(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<r.length;a++)i.indexOf(r[a])==-1&&n.classList.remove(r[a]);for(let a=0;a<i.length;a++)r.indexOf(i[a])==-1&&n.classList.add(i[a]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function cI(n,e,t){return uI(n,n,Dc,gS(e,t,n.nodeType!=1))}function H0(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function LN(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class $ve{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Wve(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,a=this.stack.length>>1,o=Math.min(a,e.length);for(;i<o&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=Eo,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let s=this.index;s<Math.min(this.index+3,this.top.children.length);s++){let f=this.top.children[s];if(f.matchesMark(e[a])&&!this.isLocked(f.dom)){l=s;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let s=$c.create(this.top,e[a],t,r);this.top.children.splice(this.index,0,s),this.top=s,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,r,i){let a=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))a=this.top.children.indexOf(o,this.index);else for(let l=this.index,s=Math.min(this.top.children.length,l+5);l<s;l++){let f=this.top.children[l];if(f.matchesNode(e,t,r)&&!this.preMatch.matched.has(f)){a=l;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,r,i,a){let o=this.top.children[i];return o.dirty==js&&o.dom==o.contentDOM&&(o.dirty=Nc),o.update(e,t,r,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,a,o){for(let l=this.index;l<this.top.children.length;l++){let s=this.top.children[l];if(s instanceof Nu){let f=this.preMatch.matched.get(s);if(f!=null&&f!=a)return!1;let c=s.dom,v,y=this.isLocked(c)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=js&&H0(t,s.outerDeco));if(!y&&s.update(e,t,r,i))return this.destroyBetween(this.index,l),s.dom!=c&&(this.changed=!0),this.index++,!0;if(!y&&(v=this.recreateWrapper(s,e,t,r,i,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=v,v.contentDOM&&(v.dirty=Nc,v.updateChildren(i,o+1),v.dirty=Eo),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,a,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!H0(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Nu.create(this.top,t,r,i,a,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let s of l.children)s.parent=l}return e.destroy(),l}addNode(e,t,r,i,a){let o=Nu.create(this.top,e,t,r,i,a);o.contentDOM&&o.updateChildren(i,a+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new oI(this.top,e,t,r);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof $c;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof O1)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((sa||qi)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new sI(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Wve(n,e){let t=e,r=t.children.length,i=n.childCount,a=new Map,o=[];e:for(;i>0;){let l;for(;;)if(r){let f=t.children[r-1];if(f instanceof $c)t=f,r=f.children.length;else{l=f,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let s=l.node;if(s){if(s!=n.child(i-1))break;--i,a.set(l,i),o.push(l)}}return{index:i,matched:a,matches:o.reverse()}}function Gve(n,e){return n.type.side-e.type.side}function jve(n,e,t,r){let i=e.locals(n),a=0;if(i.length==0){for(let f=0;f<n.childCount;f++){let c=n.child(f);r(c,i,e.forChild(a,c),f),a+=c.nodeSize}return}let o=0,l=[],s=null;for(let f=0;;){let c,v;for(;o<i.length&&i[o].to==a;){let d=i[o++];d.widget&&(c?(v||(v=[c])).push(d):c=d)}if(c)if(v){v.sort(Gve);for(let d=0;d<v.length;d++)t(v[d],f,!!s)}else t(c,f,!!s);let y,k;if(s)k=-1,y=s,s=null;else if(f<n.childCount)k=f,y=n.child(f++);else break;for(let d=0;d<l.length;d++)l[d].to<=a&&l.splice(d--,1);for(;o<i.length&&i[o].from<=a&&i[o].to>a;)l.push(i[o++]);let x=a+y.nodeSize;if(y.isText){let d=x;o<i.length&&i[o].from<d&&(d=i[o].from);for(let h=0;h<l.length;h++)l[h].to<d&&(d=l[h].to);d<x&&(s=y.cut(d-a),y=y.cut(0,d-a),x=d,k=-1)}else for(;o<i.length&&i[o].to<x;)o++;let R=y.isInline&&!y.isLeaf?l.filter(d=>!d.inline):l.slice();r(y,R,e.forChild(a,y),k),a=x}}function Yve(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function Zve(n,e,t,r){for(let i=0,a=0;i<n.childCount&&a<=r;){let o=n.child(i++),l=a;if(a+=o.nodeSize,!o.isText)continue;let s=o.text;for(;i<n.childCount;){let f=n.child(i++);if(a+=f.nodeSize,!f.isText)break;s+=f.text}if(a>=t){if(a>=r&&s.slice(r-e.length-l,r-l)==e)return r-e.length;let f=l<r?s.lastIndexOf(e,r-l-1):-1;if(f>=0&&f+e.length+l>=t)return l+f;if(t==r&&s.length>=r+e.length-l&&s.slice(r-l,r-l+e.length)==e)return r}}return-1}function mS(n,e,t,r,i){let a=[];for(let o=0,l=0;o<n.length;o++){let s=n[o],f=l,c=l+=s.size;f>=t||c<=e?a.push(s):(f<e&&a.push(s.slice(0,e-f,r)),i&&(a.push(i),i=void 0),c>t&&a.push(s.slice(t-f,s.size,r)))}return a}function CE(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),a=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let l=r.resolve(o),s,f;if(L1(t)){for(s=o;i&&!i.node;)i=i.parent;let v=i.node;if(i&&v.isAtom&&vn.isSelectable(v)&&i.parent&&!(v.isInline&&Cve(t.focusNode,t.focusOffset,i.dom))){let y=i.posBefore;f=new vn(o==y?l:r.resolve(y))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let v=o,y=o;for(let k=0;k<t.rangeCount;k++){let x=t.getRangeAt(k);v=Math.min(v,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),y=Math.max(y,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(v<0)return null;[s,o]=y==n.state.selection.anchor?[y,v]:[v,y],l=r.resolve(o)}else s=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(s<0)return null}let c=r.resolve(s);if(!f){let v=e=="pointer"||n.state.selection.head<l.pos&&!a?1:-1;f=xE(n,c,l,v)}return f}function fI(n){return n.editable?n.hasFocus():hI(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Dl(n,e=!1){let t=n.state.selection;if(dI(n,t),!!fI(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&qi){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Vc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Jve(n);else{let{anchor:r,head:i}=t,a,o;ON&&!(t instanceof zn)&&(t.$from.parent.inlineContent||(a=RN(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=RN(n,t.to))),n.docView.setSelection(r,i,n,e),ON&&(a&&IN(a),o&&IN(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Kve(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const ON=sa||qi&&QR<63;function RN(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,a=r?t.childNodes[r-1]:null;if(sa&&i&&i.contentEditable=="false")return eT(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return eT(i);if(a)return eT(a)}}function eT(n){return n.contentEditable="true",sa&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function IN(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Kve(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!fI(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Jve(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,Ci(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Na&&Mu<=11&&(r.disabled=!0,r.disabled=!1)}function dI(n,e){if(e instanceof vn){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(BN(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else BN(n)}function BN(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function xE(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||zn.between(e,t,r)}function PN(n){return n.editable&&!n.hasFocus()?!1:hI(n)}function hI(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Xve(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Vc(e.node,e.offset,t.anchorNode,t.anchorOffset)}function yS(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),a=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return a&&Ln.findFrom(a,e)}function vu(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function FN(n,e,t){let r=n.state.selection;if(r instanceof zn)if(t.indexOf("s")>-1){let{$head:i}=r,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return vu(n,new zn(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=yS(n.state,e);return i&&i instanceof vn?vu(n,i):!1}else if(!(_o&&t.indexOf("m")>-1)){let i=r.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!a||a.isText)return!1;let l=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(o=n.docView.descAt(l))&&!o.contentDOM?vn.isSelectable(a)?vu(n,new vn(e<0?n.state.doc.resolve(i.pos-a.nodeSize):i)):dv?vu(n,new zn(n.state.doc.resolve(e<0?l:l+a.nodeSize))):!1:!1}}else return!1;else{if(r instanceof vn&&r.node.isInline)return vu(n,new zn(e>0?r.$to:r.$from));{let i=yS(n.state,e);return i?vu(n,i):!1}}}function q0(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Lp(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function td(n,e){return e<0?Qve(n):ege(n)}function Qve(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,a,o=!1;for(hs&&t.nodeType==1&&r<q0(t)&&Lp(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let l=t.childNodes[r-1];if(Lp(l,-1))i=t,a=--r;else if(l.nodeType==3)t=l,r=t.nodeValue.length;else break}}else{if(pI(t))break;{let l=t.previousSibling;for(;l&&Lp(l,-1);)i=t.parentNode,a=Ci(l),l=l.previousSibling;if(l)t=l,r=q0(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?bS(n,t,r):i&&bS(n,i,a)}function ege(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=q0(t),a,o;for(;;)if(r<i){if(t.nodeType!=1)break;let l=t.childNodes[r];if(Lp(l,1))a=t,o=++r;else break}else{if(pI(t))break;{let l=t.nextSibling;for(;l&&Lp(l,1);)a=l.parentNode,o=Ci(l)+1,l=l.nextSibling;if(l)t=l,r=0,i=q0(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}a&&bS(n,a,o)}function pI(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function tge(n,e){for(;n&&e==n.childNodes.length&&!fv(n);)e=Ci(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function nge(n,e){for(;n&&!e&&!fv(n);)e=Ci(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function bS(n,e,t){if(e.nodeType!=3){let a,o;(o=tge(e,t))?(e=o,t=0):(a=nge(e,t))&&(e=a,t=a.nodeValue.length)}let r=n.domSelection();if(!r)return;if(L1(r)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),r.removeAllRanges(),r.addRange(a)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Dl(n)},50)}function zN(n,e){let t=n.state.doc.resolve(e);if(!(qi||_ve)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let a=n.coordsAtPos(e-1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<t.end()){let a=n.coordsAtPos(e+1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function HN(n,e,t){let r=n.state.selection;if(r instanceof zn&&!r.empty||t.indexOf("s")>-1||_o&&t.indexOf("m")>-1)return!1;let{$from:i,$to:a}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=yS(n.state,e);if(o&&o instanceof vn)return vu(n,o)}if(!i.parent.inlineContent){let o=e<0?i:a,l=r instanceof ra?Ln.near(o,e):Ln.findFrom(o,e);return l?vu(n,l):!1}return!1}function qN(n,e){if(!(n.state.selection instanceof zn))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let o=n.state.tr;return e<0?o.delete(t.pos-a.nodeSize,t.pos):o.delete(t.pos,t.pos+a.nodeSize),n.dispatch(o),!0}return!1}function UN(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function rge(n){if(!sa||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;UN(n,r,"true"),setTimeout(()=>UN(n,r,"false"),20)}return!1}function ige(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function age(n,e){let t=e.keyCode,r=ige(e);if(t==8||_o&&t==72&&r=="c")return qN(n,-1)||td(n,-1);if(t==46&&!e.shiftKey||_o&&t==68&&r=="c")return qN(n,1)||td(n,1);if(t==13||t==27)return!0;if(t==37||_o&&t==66&&r=="c"){let i=t==37?zN(n,n.state.selection.from)=="ltr"?-1:1:-1;return FN(n,i,r)||td(n,i)}else if(t==39||_o&&t==70&&r=="c"){let i=t==39?zN(n,n.state.selection.from)=="ltr"?1:-1:1;return FN(n,i,r)||td(n,i)}else{if(t==38||_o&&t==80&&r=="c")return HN(n,-1,r)||td(n,-1);if(t==40||_o&&t==78&&r=="c")return rge(n)||HN(n,1,r)||td(n,1);if(r==(_o?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function kE(n,e){n.someProp("transformCopied",k=>{e=k(e,n)});let t=[],{content:r,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,a--;let k=r.firstChild;t.push(k.type.name,k.attrs!=k.type.defaultAttrs?k.attrs:null),r=k.content}let o=n.someProp("clipboardSerializer")||Ud.fromSchema(n.state.schema),l=wI(),s=l.createElement("div");s.appendChild(o.serializeFragment(r,{document:l}));let f=s.firstChild,c,v=0;for(;f&&f.nodeType==1&&(c=bI[f.nodeName.toLowerCase()]);){for(let k=c.length-1;k>=0;k--){let x=l.createElement(c[k]);for(;s.firstChild;)x.appendChild(s.firstChild);s.appendChild(x),v++}f=s.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${a}${v?` -${v}`:""} ${JSON.stringify(t)}`);let y=n.someProp("clipboardTextSerializer",k=>k(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:s,text:y,slice:e}}function vI(n,e,t,r,i){let a=i.parent.type.spec.code,o,l;if(!t&&!e)return null;let s=e&&(r||a||!t);if(s){if(n.someProp("transformPastedText",y=>{e=y(e,a||r,n)}),a)return e?new Ot(gt.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Ot.empty;let v=n.someProp("clipboardTextParser",y=>y(e,i,r,n));if(v)l=v;else{let y=i.marks(),{schema:k}=n.state,x=Ud.fromSchema(k);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(R=>{let d=o.appendChild(document.createElement("p"));R&&d.appendChild(x.serializeNode(k.text(R,y)))})}}else n.someProp("transformPastedHTML",v=>{t=v(t,n)}),o=uge(t),dv&&cge(o);let f=o&&o.querySelector("[data-pm-slice]"),c=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let v=+c[3];v>0;v--){let y=o.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;o=y}if(l||(l=(n.someProp("clipboardParser")||n.someProp("domParser")||qc.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(s||c),context:i,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!oge.test(y.parentNode.nodeName)?{ignore:!0}:null}})),c)l=fge(VN(l,+c[1],+c[2]),c[4]);else if(l=Ot.maxOpen(sge(l.content,i),!0),l.openStart||l.openEnd){let v=0,y=0;for(let k=l.content.firstChild;v<l.openStart&&!k.type.spec.isolating;v++,k=k.firstChild);for(let k=l.content.lastChild;y<l.openEnd&&!k.type.spec.isolating;y++,k=k.lastChild);l=VN(l,v,y)}return n.someProp("transformPasted",v=>{l=v(l,n)}),l}const oge=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function sge(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),a,o=[];if(n.forEach(l=>{if(!o)return;let s=i.findWrapping(l.type),f;if(!s)return o=null;if(f=o.length&&a.length&&mI(s,a,l,o[o.length-1],0))o[o.length-1]=f;else{o.length&&(o[o.length-1]=yI(o[o.length-1],a.length));let c=gI(l,s);o.push(c),i=i.matchType(c.type),a=s}}),o)return gt.from(o)}return n}function gI(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,gt.from(n));return n}function mI(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let a=mI(n,e,t,r.lastChild,i+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(gt.from(gI(t,n,i+1))))}}function yI(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,yI(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(gt.empty,!0);return n.copy(t.append(r))}function wS(n,e,t,r,i,a){let o=e<0?n.firstChild:n.lastChild,l=o.content;return n.childCount>1&&(a=0),i<r-1&&(l=wS(l,e,t,r,i+1,a)),i>=t&&(l=e<0?o.contentMatchAt(0).fillBefore(l,a<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(gt.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(l))}function VN(n,e,t){return e<n.openStart&&(n=new Ot(wS(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Ot(wS(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const bI={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let $N=null;function wI(){return $N||($N=document.implementation.createHTMLDocument("title"))}let tT=null;function lge(n){let e=window.trustedTypes;return e?(tT||(tT=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),tT.createHTML(n)):n}function uge(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=wI().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&bI[r[1].toLowerCase()])&&(n=i.map(a=>"<"+a+">").join("")+n+i.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=lge(n),i)for(let a=0;a<i.length;a++)t=t.querySelector(i[a])||t;return t}function cge(n){let e=n.querySelectorAll(qi?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent=="Â "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function fge(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:a,openEnd:o}=n;for(let l=r.length-2;l>=0;l-=2){let s=t.nodes[r[l]];if(!s||s.hasRequiredAttrs())break;i=gt.from(s.create(r[l+1],i)),a++,o++}return new Ot(i,a,o)}const la={},ua={},dge={touchstart:!0,touchmove:!0};class hge{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function pge(n){for(let e in la){let t=la[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{gge(n,r)&&!_E(n,r)&&(n.editable||!(r.type in ua))&&t(n,r)},dge[e]?{passive:!0}:void 0)}sa&&n.dom.addEventListener("input",()=>null),CS(n)}function Tu(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function vge(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function CS(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>_E(n,r))})}function _E(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function gge(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function mge(n,e){!_E(n,e)&&la[e.type]&&(n.editable||!(e.type in ua))&&la[e.type](n,e)}ua.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!xI(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Sl&&qi&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),_d&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Ec(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||age(n,t)?t.preventDefault():Tu(n,"key")};ua.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};ua.keypress=(n,e)=>{let t=e;if(xI(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||_o&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof zn)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",a=>a(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function R1(n){return{left:n.clientX,top:n.clientY}}function yge(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function TE(n,e,t,r,i){if(r==-1)return!1;let a=n.state.doc.resolve(r);for(let o=a.depth+1;o>0;o--)if(n.someProp(e,l=>o>a.depth?l(n,t,a.nodeAfter,a.before(o),i,!0):l(n,t,a.node(o),a.before(o),i,!1)))return!0;return!1}function bd(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function bge(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&vn.isSelectable(r)?(bd(n,new vn(t)),!0):!1}function wge(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof vn&&(r=t.node);let a=n.state.doc.resolve(e);for(let o=a.depth+1;o>0;o--){let l=o>a.depth?a.nodeAfter:a.node(o);if(vn.isSelectable(l)){r&&t.$from.depth>0&&o>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?i=a.before(t.$from.depth):i=a.before(o);break}}return i!=null?(bd(n,vn.create(n.state.doc,i)),!0):!1}function Cge(n,e,t,r,i){return TE(n,"handleClickOn",e,t,r)||n.someProp("handleClick",a=>a(n,e,r))||(i?wge(n,t):bge(n,t))}function xge(n,e,t,r){return TE(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function kge(n,e,t,r){return TE(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||_ge(n,t,r)}function _ge(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(bd(n,zn.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let a=i.depth+1;a>0;a--){let o=a>i.depth?i.nodeAfter:i.node(a),l=i.before(a);if(o.inlineContent)bd(n,zn.create(r,l+1,l+1+o.content.size));else if(vn.isSelectable(o))bd(n,vn.create(r,l));else continue;return!0}}function SE(n){return U0(n)}const CI=_o?"metaKey":"ctrlKey";la.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=SE(n),i=Date.now(),a="singleClick";i-n.input.lastClick.time<500&&yge(t,n.input.lastClick)&&!t[CI]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?a="doubleClick":n.input.lastClick.type=="doubleClick"&&(a="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:a,button:t.button};let o=n.posAtCoords(R1(t));o&&(a=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Tge(n,o,t,!!r)):(a=="doubleClick"?xge:kge)(n,o.pos,o.inside,t)?t.preventDefault():Tu(n,"pointer"))};class Tge{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[CI],this.allowDefault=r.shiftKey;let a,o;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),o=t.inside;else{let c=e.state.doc.resolve(t.pos);a=c.parent,o=c.depth?c.before():0}const l=i?null:r.target,s=l?e.docView.nearestDesc(l,!0):null;this.target=s&&s.dom.nodeType==1?s.dom:null;let{selection:f}=e.state;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||f instanceof vn&&f.from<=o&&f.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&hs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Tu(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Dl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(R1(e))),this.updateAllowDefault(e),this.allowDefault||!t?Tu(this.view,"pointer"):Cge(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||sa&&this.mightDrag&&!this.mightDrag.node.isAtom||qi&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(bd(this.view,Ln.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Tu(this.view,"pointer")}move(e){this.updateAllowDefault(e),Tu(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}la.touchstart=n=>{n.input.lastTouch=Date.now(),SE(n),Tu(n,"pointer")};la.touchmove=n=>{n.input.lastTouch=Date.now(),Tu(n,"pointer")};la.contextmenu=n=>SE(n);function xI(n,e){return n.composing?!0:sa&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Sge=Sl?5e3:-1;ua.compositionstart=ua.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof zn&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),U0(n,!0),n.markCursor=null;else if(U0(n,!e.selection.empty),hs&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,a=r.focusOffset;i&&i.nodeType==1&&a!=0;){let o=a<0?i.lastChild:i.childNodes[a-1];if(!o)break;if(o.nodeType==3){let l=n.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else i=o,a=-1}}n.input.composing=!0}kI(n,Sge)};ua.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,kI(n,20))};function kI(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>U0(n),e))}function _I(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Age());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Ege(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=bve(e.focusNode,e.focusOffset),r=wve(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,a=n.domObserver.lastChangedTextNode;if(t==a||r==a)return a;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function Age(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function U0(n,e=!1){if(!(Sl&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),_I(n),e||n.docView&&n.docView.dirty){let t=CE(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Mge(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Zp=Na&&Mu<15||_d&&Tve<604;la.copy=ua.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let a=Zp?null:t.clipboardData,o=r.content(),{dom:l,text:s}=kE(n,o);a?(t.preventDefault(),a.clearData(),a.setData("text/html",l.innerHTML),a.setData("text/plain",s)):Mge(n,l),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Nge(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Dge(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Kp(n,r.value,null,i,e):Kp(n,r.textContent,r.innerHTML,i,e)},50)}function Kp(n,e,t,r,i){let a=vI(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",s=>s(n,i,a||Ot.empty)))return!0;if(!a)return!1;let o=Nge(a),l=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(a);return n.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function TI(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}ua.paste=(n,e)=>{let t=e;if(n.composing&&!Sl)return;let r=Zp?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Kp(n,TI(r),r.getData("text/html"),i,t)?t.preventDefault():Dge(n,t)};class SI{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Lge=_o?"altKey":"ctrlKey";function EI(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[Lge]}la.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,a=i.empty?null:n.posAtCoords(R1(t)),o;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof vn?i.to-1:i.to))){if(r&&r.mightDrag)o=vn.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let v=n.docView.nearestDesc(t.target,!0);v&&v.node.type.spec.draggable&&v!=n.docView&&(o=vn.create(n.state.doc,v.posBefore))}}let l=(o||n.state.selection).content(),{dom:s,text:f,slice:c}=kE(n,l);(!t.dataTransfer.files.length||!qi||QR>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Zp?"Text":"text/html",s.innerHTML),t.dataTransfer.effectAllowed="copyMove",Zp||t.dataTransfer.setData("text/plain",f),n.dragging=new SI(c,EI(n,t),o)};la.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};ua.dragover=ua.dragenter=(n,e)=>e.preventDefault();ua.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(R1(t));if(!i)return;let a=n.state.doc.resolve(i.pos),o=r&&r.slice;o?n.someProp("transformPasted",x=>{o=x(o,n)}):o=vI(n,TI(t.dataTransfer),Zp?null:t.dataTransfer.getData("text/html"),!1,a);let l=!!(r&&EI(n,t));if(n.someProp("handleDrop",x=>x(n,t,o||Ot.empty,l))){t.preventDefault();return}if(!o)return;t.preventDefault();let s=o?ove(n.state.doc,a.pos,o):a.pos;s==null&&(s=a.pos);let f=n.state.tr;if(l){let{node:x}=r;x?x.replace(f):f.deleteSelection()}let c=f.mapping.map(s),v=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,y=f.doc;if(v?f.replaceRangeWith(c,c,o.content.firstChild):f.replaceRange(c,c,o),f.doc.eq(y))return;let k=f.doc.resolve(c);if(v&&vn.isSelectable(o.content.firstChild)&&k.nodeAfter&&k.nodeAfter.sameMarkup(o.content.firstChild))f.setSelection(new vn(k));else{let x=f.mapping.map(s);f.mapping.maps[f.mapping.maps.length-1].forEach((R,d,h,w)=>x=w),f.setSelection(xE(n,k,f.doc.resolve(x)))}n.focus(),n.dispatch(f.setMeta("uiEvent","drop"))};la.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Dl(n)},20))};la.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};la.beforeinput=(n,e)=>{if(qi&&Sl&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",a=>a(n,Ec(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in ua)la[n]=ua[n];function Jp(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class V0{constructor(e,t){this.toDOM=e,this.spec=t||Bc,this.side=this.spec.side||0}map(e,t,r,i){let{pos:a,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new Aa(a-r,a-r,this)}valid(){return!0}eq(e){return this==e||e instanceof V0&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Jp(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Du{constructor(e,t){this.attrs=e,this.spec=t||Bc}map(e,t,r,i){let a=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return a>=o?null:new Aa(a,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Du&&Jp(this.attrs,e.attrs)&&Jp(this.spec,e.spec)}static is(e){return e.type instanceof Du}destroy(){}}class EE{constructor(e,t){this.attrs=e,this.spec=t||Bc}map(e,t,r,i){let a=e.mapResult(t.from+i,1);if(a.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=a.pos?null:new Aa(a.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),a;return i==t.from&&!(a=e.child(r)).isText&&i+a.nodeSize==t.to}eq(e){return this==e||e instanceof EE&&Jp(this.attrs,e.attrs)&&Jp(this.spec,e.spec)}destroy(){}}class Aa{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Aa(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Aa(e,e,new V0(t,r))}static inline(e,t,r,i){return new Aa(e,t,new Du(r,i))}static node(e,t,r,i){return new Aa(e,t,new EE(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Du}get widget(){return this.type instanceof V0}}const ld=[],Bc={};class Pr{constructor(e,t){this.local=e.length?e:ld,this.children=t.length?t:ld}static create(e,t){return t.length?$0(t,e,0,Bc):Pi}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,a){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=t&&l.to>=e&&(!a||a(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,t-l,r,i+l,a)}}map(e,t,r){return this==Pi||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Bc)}mapInner(e,t,r,i,a){let o;for(let l=0;l<this.local.length;l++){let s=this.local[l].map(e,r,i);s&&s.type.valid(t,s)?(o||(o=[])).push(s):a.onRemove&&a.onRemove(this.local[l].spec)}return this.children.length?Oge(this.children,o||[],e,t,r,i,a):o?new Pr(o.sort(Pc),ld):Pi}add(e,t){return t.length?this==Pi?Pr.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,a=0;e.forEach((l,s)=>{let f=s+r,c;if(c=MI(t,l,f)){for(i||(i=this.children.slice());a<i.length&&i[a]<s;)a+=3;i[a]==s?i[a+2]=i[a+2].addInner(l,c,f+1):i.splice(a,0,s,s+l.nodeSize,$0(c,l,f+1,Bc)),a+=3}});let o=AI(a?NI(t):t,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Pr(o.length?this.local.concat(o).sort(Pc):this.local,i||this.children)}remove(e){return e.length==0||this==Pi?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let a=0;a<r.length;a+=3){let o,l=r[a]+t,s=r[a+1]+t;for(let c=0,v;c<e.length;c++)(v=e[c])&&v.from>l&&v.to<s&&(e[c]=null,(o||(o=[])).push(v));if(!o)continue;r==this.children&&(r=this.children.slice());let f=r[a+2].removeInner(o,l+1);f!=Pi?r[a+2]=f:(r.splice(a,3),a-=3)}if(i.length){for(let a=0,o;a<e.length;a++)if(o=e[a])for(let l=0;l<i.length;l++)i[l].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Pr(i,r):Pi}forChild(e,t){if(this==Pi)return this;if(t.isLeaf)return Pr.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let a=e+1,o=a+t.content.size;for(let l=0;l<this.local.length;l++){let s=this.local[l];if(s.from<o&&s.to>a&&s.type instanceof Du){let f=Math.max(a,s.from)-a,c=Math.min(o,s.to)-a;f<c&&(i||(i=[])).push(s.copy(f,c))}}if(i){let l=new Pr(i.sort(Pc),ld);return r?new bu([l,r]):l}return r||Pi}eq(e){if(this==e)return!0;if(!(e instanceof Pr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return AE(this.localsInner(e))}localsInner(e){if(this==Pi)return ld;if(e.inlineContent||!this.local.some(Du.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Du||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Pr.empty=new Pr([],[]);Pr.removeOverlap=AE;const Pi=Pr.empty;class bu{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Bc));return bu.from(r)}forChild(e,t){if(t.isLeaf)return Pr.empty;let r=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,t);a!=Pi&&(a instanceof bu?r=r.concat(a.members):r.push(a))}return bu.from(r)}eq(e){if(!(e instanceof bu)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!t)t=a;else{r&&(t=t.slice(),r=!1);for(let o=0;o<a.length;o++)t.push(a[o])}}return t?AE(r?t:t.sort(Pc)):ld}static from(e){switch(e.length){case 0:return Pi;case 1:return e[0];default:return new bu(e.every(t=>t instanceof Pr)?e:e.reduce((t,r)=>t.concat(r instanceof Pr?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Oge(n,e,t,r,i,a,o){let l=n.slice();for(let f=0,c=a;f<t.maps.length;f++){let v=0;t.maps[f].forEach((y,k,x,R)=>{let d=R-x-(k-y);for(let h=0;h<l.length;h+=3){let w=l[h+1];if(w<0||y>w+c-v)continue;let A=l[h]+c-v;k>=A?l[h+1]=y<=A?-2:-1:y>=c&&d&&(l[h]+=d,l[h+1]+=d)}v+=d}),c=t.maps[f].map(c,-1)}let s=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){s=!0,l[f+1]=-1;continue}let c=t.map(n[f]+a),v=c-i;if(v<0||v>=r.content.size){s=!0;continue}let y=t.map(n[f+1]+a,-1),k=y-i,{index:x,offset:R}=r.content.findIndex(v),d=r.maybeChild(x);if(d&&R==v&&R+d.nodeSize==k){let h=l[f+2].mapInner(t,d,c+1,n[f]+a+1,o);h!=Pi?(l[f]=v,l[f+1]=k,l[f+2]=h):(l[f+1]=-2,s=!0)}else s=!0}if(s){let f=Rge(l,n,e,t,i,a,o),c=$0(f,r,0,o);e=c.local;for(let v=0;v<l.length;v+=3)l[v+1]<0&&(l.splice(v,3),v-=3);for(let v=0,y=0;v<c.children.length;v+=3){let k=c.children[v];for(;y<l.length&&l[y]<k;)y+=3;l.splice(y,0,c.children[v],c.children[v+1],c.children[v+2])}}return new Pr(e.sort(Pc),l)}function AI(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Aa(i.from+e,i.to+e,i.type))}return t}function Rge(n,e,t,r,i,a,o){function l(s,f){for(let c=0;c<s.local.length;c++){let v=s.local[c].map(r,i,f);v?t.push(v):o.onRemove&&o.onRemove(s.local[c].spec)}for(let c=0;c<s.children.length;c+=3)l(s.children[c+2],s.children[c]+f+1)}for(let s=0;s<n.length;s+=3)n[s+1]==-1&&l(n[s+2],e[s]+a+1);return t}function MI(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let a=0,o;a<n.length;a++)(o=n[a])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[a]=null);return i}function NI(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function $0(n,e,t,r){let i=[],a=!1;e.forEach((l,s)=>{let f=MI(n,l,s+t);if(f){a=!0;let c=$0(f,l,t+s+1,r);c!=Pi&&i.push(s,s+l.nodeSize,c)}});let o=AI(a?NI(n):n,-t).sort(Pc);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new Pr(o,i):Pi}function Pc(n,e){return n.from-e.from||n.to-e.to}function AE(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let a=e[i];if(a.from==r.from){a.to!=r.to&&(e==n&&(e=n.slice()),e[i]=a.copy(a.from,r.to),WN(e,i+1,a.copy(r.to,a.to)));continue}else{a.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,a.from),WN(e,i,r.copy(a.from,r.to)));break}}}return e}function WN(n,e,t){for(;e<n.length&&Pc(t,n[e])>0;)e++;n.splice(e,0,t)}function nT(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Pi&&e.push(r)}),n.cursorWrapper&&e.push(Pr.create(n.state.doc,[n.cursorWrapper.deco])),bu.from(e)}const Ige={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Bge=Na&&Mu<=11;class Pge{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Fge{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Pge,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Na&&Mu<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Bge&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Ige)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(PN(this.view)){if(this.suppressingSelectionUpdates)return Dl(this.view);if(Na&&Mu<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Vc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let a=e.focusNode;a;a=kd(a))t.add(a);for(let a=e.anchorNode;a;a=kd(a))if(t.has(a)){r=a;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&PN(e)&&!this.ignoreSelectionChange(r),a=-1,o=-1,l=!1,s=[];if(e.editable)for(let c=0;c<t.length;c++){let v=this.registerMutation(t[c],s);v&&(a=a<0?v.from:Math.min(v.from,a),o=o<0?v.to:Math.max(v.to,o),v.typeOver&&(l=!0))}if(hs&&s.length){let c=s.filter(v=>v.nodeName=="BR");if(c.length==2){let[v,y]=c;v.parentNode&&v.parentNode.parentNode==y.parentNode?y.remove():v.remove()}else{let{focusNode:v}=this.currentSelection;for(let y of c){let k=y.parentNode;k&&k.nodeName=="LI"&&(!v||qge(e,v)!=k)&&y.remove()}}}let f=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&L1(r)&&(f=CE(e))&&f.eq(Ln.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Dl(e),this.currentSelection.set(r),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,o),zge(e)),this.handleDOMChange(a,o,l,s),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Dl(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let v=e.addedNodes[c];t.push(v),v.nodeType==3&&(this.lastChangedTextNode=v)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,a=e.nextSibling;if(Na&&Mu<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:v,nextSibling:y}=e.addedNodes[c];(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(i=v),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(a=y)}let o=i&&i.parentNode==e.target?Ci(i)+1:0,l=r.localPosFromDOM(e.target,o,-1),s=a&&a.parentNode==e.target?Ci(a):e.target.childNodes.length,f=r.localPosFromDOM(e.target,s,1);return{from:l,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let GN=new WeakMap,jN=!1;function zge(n){if(!GN.has(n)&&(GN.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=hs,jN)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),jN=!0}}function YN(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return Vc(o.node,o.offset,i,a)&&([t,r,i,a]=[i,a,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:a}}function Hge(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return YN(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?YN(n,t):null}function qge(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function Uge(n,e,t){let{node:r,fromOffset:i,toOffset:a,from:o,to:l}=n.docView.parseRange(e,t),s=n.domSelectionRange(),f,c=s.anchorNode;if(c&&n.dom.contains(c.nodeType==1?c:c.parentNode)&&(f=[{node:c,offset:s.anchorOffset}],L1(s)||f.push({node:s.focusNode,offset:s.focusOffset})),qi&&n.input.lastKeyCode===8)for(let d=a;d>i;d--){let h=r.childNodes[d-1],w=h.pmViewDesc;if(h.nodeName=="BR"&&!w){a=d;break}if(!w||w.size)break}let v=n.state.doc,y=n.someProp("domParser")||qc.fromSchema(n.state.schema),k=v.resolve(o),x=null,R=y.parse(r,{topNode:k.parent,topMatch:k.parent.contentMatchAt(k.index()),topOpen:!0,from:i,to:a,preserveWhitespace:k.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:Vge,context:k});if(f&&f[0].pos!=null){let d=f[0].pos,h=f[1]&&f[1].pos;h==null&&(h=d),x={anchor:d+o,head:h+o}}return{doc:R,sel:x,from:o,to:l}}function Vge(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(sa&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||sa&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const $ge=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Wge(n,e,t,r,i){let a=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let z=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,ee=CE(n,z);if(ee&&!n.state.selection.eq(ee)){if(qi&&Sl&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",ie=>ie(n,Ec(13,"Enter"))))return;let me=n.state.tr.setSelection(ee);z=="pointer"?me.setMeta("pointer",!0):z=="key"&&me.scrollIntoView(),a&&me.setMeta("composition",a),n.dispatch(me)}return}let o=n.state.doc.resolve(e),l=o.sharedDepth(t);e=o.before(l+1),t=n.state.doc.resolve(t).after(l+1);let s=n.state.selection,f=Uge(n,e,t),c=n.state.doc,v=c.slice(f.from,f.to),y,k;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(y=n.state.selection.to,k="end"):(y=n.state.selection.from,k="start"),n.input.lastKeyCode=null;let x=Yge(v.content,f.doc.content,f.from,y,k);if(x&&n.input.domChangeCount++,(_d&&n.input.lastIOSEnter>Date.now()-225||Sl)&&i.some(z=>z.nodeType==1&&!$ge.test(z.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",z=>z(n,Ec(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(r&&s instanceof zn&&!s.empty&&s.$head.sameParent(s.$anchor)&&!n.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))x={start:s.from,endA:s.to,endB:s.to};else{if(f.sel){let z=ZN(n,n.state.doc,f.sel);if(z&&!z.eq(n.state.selection)){let ee=n.state.tr.setSelection(z);a&&ee.setMeta("composition",a),n.dispatch(ee)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof zn&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=f.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=f.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),Na&&Mu<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>f.from&&f.doc.textBetween(x.start-f.from-1,x.start-f.from+1)==" Â "&&(x.start--,x.endA--,x.endB--);let R=f.doc.resolveNoCache(x.start-f.from),d=f.doc.resolveNoCache(x.endB-f.from),h=c.resolve(x.start),w=R.sameParent(d)&&R.parent.inlineContent&&h.end()>=x.endA,A;if((_d&&n.input.lastIOSEnter>Date.now()-225&&(!w||i.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!w&&R.pos<f.doc.content.size&&(!R.sameParent(d)||!R.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(R.pos,d.pos,"",""))&&(A=Ln.findFrom(f.doc.resolve(R.pos+1),1,!0))&&A.head>R.pos)&&n.someProp("handleKeyDown",z=>z(n,Ec(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&jge(c,x.start,x.endA,R,d)&&n.someProp("handleKeyDown",z=>z(n,Ec(8,"Backspace")))){Sl&&qi&&n.domObserver.suppressSelectionUpdates();return}qi&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),Sl&&!w&&R.start()!=d.start()&&d.parentOffset==0&&R.depth==d.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==x.endA&&(x.endB-=2,d=f.doc.resolveNoCache(x.endB-f.from),setTimeout(()=>{n.someProp("handleKeyDown",function(z){return z(n,Ec(13,"Enter"))})},20));let D=x.start,I=x.endA,O,F,$;if(w){if(R.pos==d.pos)Na&&Mu<=11&&R.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Dl(n),20)),O=n.state.tr.delete(D,I),F=c.resolve(x.start).marksAcross(c.resolve(x.endA));else if(x.endA==x.endB&&($=Gge(R.parent.content.cut(R.parentOffset,d.parentOffset),h.parent.content.cut(h.parentOffset,x.endA-h.start()))))O=n.state.tr,$.type=="add"?O.addMark(D,I,$.mark):O.removeMark(D,I,$.mark);else if(R.parent.child(R.index()).isText&&R.index()==d.index()-(d.textOffset?0:1)){let z=R.parent.textBetween(R.parentOffset,d.parentOffset);if(n.someProp("handleTextInput",ee=>ee(n,D,I,z)))return;O=n.state.tr.insertText(z,D,I)}}if(O||(O=n.state.tr.replace(D,I,f.doc.slice(x.start-f.from,x.endB-f.from))),f.sel){let z=ZN(n,O.doc,f.sel);z&&!(qi&&n.composing&&z.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(z.head==D||z.head==O.mapping.map(I)-1)||Na&&z.empty&&z.head==D)&&O.setSelection(z)}F&&O.ensureMarks(F),a&&O.setMeta("composition",a),n.dispatch(O.scrollIntoView())}function ZN(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:xE(n,e.resolve(t.anchor),e.resolve(t.head))}function Gge(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,a=r,o,l,s;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<t.length;c++)a=t[c].removeFromSet(a);if(i.length==1&&a.length==0)l=i[0],o="add",s=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&a.length==1)l=a[0],o="remove",s=c=>c.mark(l.removeFromSet(c.marks));else return null;let f=[];for(let c=0;c<e.childCount;c++)f.push(s(e.child(c)));if(gt.from(f).eq(n))return{mark:l,type:o}}function jge(n,e,t,r,i){if(t-e<=i.pos-r.pos||rT(r,!0,!1)<i.pos)return!1;let a=n.resolve(e);if(!r.parent.isTextblock){let l=a.nodeAfter;return l!=null&&t==e+l.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=n.resolve(rT(a,!0,!0));return!o.parent.isTextblock||o.pos>t||rT(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function rT(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let a=n.node(r).maybeChild(n.indexAfter(r));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function Yge(n,e,t,r,i){let a=n.findDiffStart(e,t);if(a==null)return null;let{a:o,b:l}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let s=Math.max(0,a-Math.min(o,l));r-=o+s-a}if(o<a&&n.size<e.size){let s=r<=a&&r>=o?a-r:0;a-=s,a&&a<e.size&&KN(e.textBetween(a-1,a+1))&&(a+=s?1:-1),l=a+(l-o),o=a}else if(l<a){let s=r<=a&&r>=l?a-r:0;a-=s,a&&a<n.size&&KN(n.textBetween(a-1,a+1))&&(a+=s?1:-1),o=a+(o-l),l=a}return{start:a,endA:o,endB:l}}function KN(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class ME{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new hge,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(tD),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=QN(this),XN(this),this.nodeViews=eD(this),this.docView=DN(this.state.doc,JN(this),nT(this),this.dom,this),this.domObserver=new Fge(this,(r,i,a,o)=>Wge(this,r,i,a,o)),this.domObserver.start(),pge(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&CS(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(tD),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,a=!1,o=!1;e.storedMarks&&this.composing&&(_I(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(l||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let k=eD(this);Kge(k,this.nodeViews)&&(this.nodeViews=k,a=!0)}(l||t.handleDOMEvents!=this._props.handleDOMEvents)&&CS(this),this.editable=QN(this),XN(this);let s=nT(this),f=JN(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",v=a||!this.docView.matchesNode(e.doc,f,s);(v||!e.selection.eq(i.selection))&&(o=!0);let y=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Ave(this);if(o){this.domObserver.stop();let k=v&&(Na||qi)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Zge(i.selection,e.selection);if(v){let x=qi?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ege(this)),(a||!this.docView.update(e.doc,f,s,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=DN(e.doc,f,s,this.dom,this)),x&&!this.trackWrites&&(k=!0)}k||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Xve(this))?Dl(this,k):(dI(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():y&&Mve(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof vn){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&TN(this,t.getBoundingClientRect(),e)}else TN(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let a=r.from+(this.state.doc.content.size-t.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==r.node&&(i=a)}this.dragging=new SI(e.slice,e.move,i<0?void 0:vn.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=t?t(l):l))return i}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let l=a[o].props[e];if(l!=null&&(i=t?t(l):l))return i}}hasFocus(){if(Na){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Nve(this.dom),Dl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Ive(this,e)}coordsAtPos(e,t=1){return iI(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return Hve(this,t||this.state,e)}pasteHTML(e,t){return Kp(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Kp(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return kE(this,e)}destroy(){this.docView&&(vge(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],nT(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mve())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return mge(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?sa&&this.root.nodeType===11&&xve(this.dom.ownerDocument)==this.dom&&Hge(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function JN(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Aa.node(0,n.state.doc.content.size,e)]}function XN(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Aa.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function QN(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Zge(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function eD(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Kge(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function tD(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Pu={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},W0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Jge=typeof navigator<"u"&&/Mac/.test(navigator.platform),Xge=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xi=0;xi<10;xi++)Pu[48+xi]=Pu[96+xi]=String(xi);for(var xi=1;xi<=24;xi++)Pu[xi+111]="F"+xi;for(var xi=65;xi<=90;xi++)Pu[xi]=String.fromCharCode(xi+32),W0[xi]=String.fromCharCode(xi);for(var iT in Pu)W0.hasOwnProperty(iT)||(W0[iT]=Pu[iT]);function Qge(n){var e=Jge&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Xge&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?W0:Pu)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const eme=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),tme=typeof navigator<"u"&&/Win/.test(navigator.platform);function nme(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,a,o;for(let l=0;l<e.length-1;l++){let s=e[l];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))i=!0;else if(/^s(hift)?$/i.test(s))a=!0;else if(/^mod$/i.test(s))eme?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+s)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function rme(n){let e=Object.create(null);for(let t in n)e[nme(t)]=n[t];return e}function aT(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Xp(n){return new Ra({props:{handleKeyDown:ime(n)}})}function ime(n){let e=rme(n);return function(t,r){let i=Qge(r),a,o=e[aT(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[aT(i,r,!1)];if(l&&l(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(tme&&r.ctrlKey&&r.altKey)&&(a=Pu[r.keyCode])&&a!=i){let l=e[aT(a,r)];if(l&&l(t.state,t.dispatch,t))return!0}}return!1}}const NE=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function ame(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const ome=(n,e,t)=>{let r=ame(n,t);if(!r)return!1;let i=DI(r);if(!i){let o=r.blockRange(),l=o&&N1(o);return l==null?!1:(e&&e(n.tr.lift(o,l).scrollIntoView()),!0)}let a=i.nodeBefore;if(BI(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Td(a,"end")||vn.isSelectable(a)))for(let o=r.depth;;o--){let l=yE(n.doc,r.before(o),r.after(o),Ot.empty);if(l&&l.slice.size<l.to-l.from){if(e){let s=n.tr.step(l);s.setSelection(Td(a,"end")?Ln.findFrom(s.doc.resolve(s.mapping.map(i.pos,-1)),-1):vn.create(s.doc,i.pos-a.nodeSize)),e(s.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return a.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function Td(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const sme=(n,e,t)=>{let{$head:r,empty:i}=n.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;a=DI(r)}let o=a&&a.nodeBefore;return!o||!vn.isSelectable(o)?!1:(e&&e(n.tr.setSelection(vn.create(n.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function DI(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function lme(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const LI=(n,e,t)=>{let r=lme(n,t);if(!r)return!1;let i=OI(r);if(!i)return!1;let a=i.nodeAfter;if(BI(n,i,e,1))return!0;if(r.parent.content.size==0&&(Td(a,"start")||vn.isSelectable(a))){let o=yE(n.doc,r.before(),r.after(),Ot.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=n.tr.step(o);l.setSelection(Td(a,"start")?Ln.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):vn.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return a.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},ume=(n,e,t)=>{let{$head:r,empty:i}=n.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;a=OI(r)}let o=a&&a.nodeAfter;return!o||!vn.isSelectable(o)?!1:(e&&e(n.tr.setSelection(vn.create(n.doc,a.pos)).scrollIntoView()),!0)};function OI(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const RI=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function DE(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const LE=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),a=t.indexAfter(-1),o=DE(i.contentMatchAt(a));if(!o||!i.canReplaceWith(a,a,o))return!1;if(e){let l=t.after(),s=n.tr.replaceWith(l,l,o.createAndFill());s.setSelection(Ln.near(s.doc.resolve(l),1)),e(s.scrollIntoView())}return!0},cme=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof ra||r.parent.inlineContent||i.parent.inlineContent)return!1;let a=DE(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=n.tr.insert(o,a.createAndFill());l.setSelection(zn.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},fme=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(md(n.doc,a))return e&&e(n.tr.split(a).scrollIntoView()),!0}let r=t.blockRange(),i=r&&N1(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function dme(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof vn&&e.selection.node.isBlock)return!r.parentOffset||!md(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let a=[],o,l,s=!1,f=!1;for(let k=r.depth;;k--)if(r.node(k).isBlock){s=r.end(k)==r.pos+(r.depth-k),f=r.start(k)==r.pos-(r.depth-k),l=DE(r.node(k-1).contentMatchAt(r.indexAfter(k-1))),a.unshift(s&&l?{type:l}:null),o=k;break}else{if(k==1)return!1;a.unshift(null)}let c=e.tr;(e.selection instanceof zn||e.selection instanceof ra)&&c.deleteSelection();let v=c.mapping.map(r.pos),y=md(c.doc,v,a.length,a);if(y||(a[0]=l?{type:l}:null,y=md(c.doc,v,a.length,a)),!y)return!1;if(c.split(v,a.length,a),!s&&f&&r.node(o).type!=l){let k=c.mapping.map(r.before(o)),x=c.doc.resolve(k);l&&r.node(o-1).canReplaceWith(x.index(),x.index()+1,l)&&c.setNodeMarkup(c.mapping.map(r.before(o)),l)}return t&&t(c.scrollIntoView()),!0}}const hme=dme(),II=(n,e)=>(e&&e(n.tr.setSelection(new ra(n.doc))),!0);function pme(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,a=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(a-1,a)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||$R(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function BI(n,e,t,r){let i=e.nodeBefore,a=e.nodeAfter,o,l,s=i.type.spec.isolating||a.type.spec.isolating;if(!s&&pme(n,e,t))return!0;let f=!s&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(o=(l=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&l.matchType(o[0]||a.type).validEnd){if(t){let k=e.pos+a.nodeSize,x=gt.empty;for(let h=o.length-1;h>=0;h--)x=gt.from(o[h].create(null,x));x=gt.from(i.copy(x));let R=n.tr.step(new oi(e.pos-1,k,e.pos,k,new Ot(x,1,0),o.length,!0)),d=R.doc.resolve(k+2*o.length);d.nodeAfter&&d.nodeAfter.type==i.type&&$R(R.doc,d.pos)&&R.join(d.pos),t(R.scrollIntoView())}return!0}let c=a.type.spec.isolating||r>0&&s?null:Ln.findFrom(e,1),v=c&&c.$from.blockRange(c.$to),y=v&&N1(v);if(y!=null&&y>=e.depth)return t&&t(n.tr.lift(v,y).scrollIntoView()),!0;if(f&&Td(a,"start",!0)&&Td(i,"end")){let k=i,x=[];for(;x.push(k),!k.isTextblock;)k=k.lastChild;let R=a,d=1;for(;!R.isTextblock;R=R.firstChild)d++;if(k.canReplace(k.childCount,k.childCount,R.content)){if(t){let h=gt.empty;for(let A=x.length-1;A>=0;A--)h=gt.from(x[A].copy(h));let w=n.tr.step(new oi(e.pos-x.length,e.pos+a.nodeSize,e.pos+d,e.pos+a.nodeSize-d,new Ot(h,x.length,0),0,!0));t(w.scrollIntoView())}return!0}}return!1}function PI(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(t&&t(e.tr.setSelection(zn.create(e.doc,n<0?i.start(a):i.end(a)))),!0):!1}}const vme=PI(-1),gme=PI(1);function mme(n,e=null){return function(t,r){let{$from:i,$to:a}=t.selection,o=i.blockRange(a),l=o&&Ype(o,n,e);return l?(r&&r(t.tr.wrap(o,l).scrollIntoView()),!0):!1}}function OE(n,e=null){return function(t,r){let i=!1;for(let a=0;a<t.selection.ranges.length&&!i;a++){let{$from:{pos:o},$to:{pos:l}}=t.selection.ranges[a];t.doc.nodesBetween(o,l,(s,f)=>{if(i)return!1;if(!(!s.isTextblock||s.hasMarkup(n,e)))if(s.type==n)i=!0;else{let c=t.doc.resolve(f),v=c.index();i=c.parent.canReplaceWith(v,v+1,n)}})}if(!i)return!1;if(r){let a=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:s}}=t.selection.ranges[o];a.setBlockType(l,s,n,e)}r(a.scrollIntoView())}return!0}}function yme(n,e,t,r){for(let i=0;i<e.length;i++){let{$from:a,$to:o}=e[i],l=a.depth==0?n.inlineContent&&n.type.allowsMarkType(t):!1;if(n.nodesBetween(a.pos,o.pos,(s,f)=>{if(l)return!1;l=s.inlineContent&&s.type.allowsMarkType(t)}),l)return!0}return!1}function pv(n,e=null,t){return function(r,i){let{empty:a,$cursor:o,ranges:l}=r.selection;if(a&&!o||!yme(r.doc,l,n))return!1;if(i)if(o)n.isInSet(r.storedMarks||o.marks())?i(r.tr.removeStoredMark(n)):i(r.tr.addStoredMark(n.create(e)));else{let s,f=r.tr;s=!l.some(c=>r.doc.rangeHasMark(c.$from.pos,c.$to.pos,n));for(let c=0;c<l.length;c++){let{$from:v,$to:y}=l[c];if(!s)f.removeMark(v.pos,y.pos,n);else{let k=v.pos,x=y.pos,R=v.nodeAfter,d=y.nodeBefore,h=R&&R.isText?/^\s*/.exec(R.text)[0].length:0,w=d&&d.isText?/\s*$/.exec(d.text)[0].length:0;k+h<x&&(k+=h,x-=w),f.addMark(k,x,n.create(e))}}i(f.scrollIntoView())}return!0}}function I1(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}let oT=I1(NE,ome,sme),nD=I1(NE,LI,ume);const xl={Enter:I1(RI,cme,fme,hme),"Mod-Enter":LE,Backspace:oT,"Mod-Backspace":oT,"Shift-Backspace":oT,Delete:nD,"Mod-Delete":nD,"Mod-a":II},FI={"Ctrl-h":xl.Backspace,"Alt-Backspace":xl["Mod-Backspace"],"Ctrl-d":xl.Delete,"Ctrl-Alt-Backspace":xl["Mod-Delete"],"Alt-Delete":xl["Mod-Delete"],"Alt-d":xl["Mod-Delete"],"Ctrl-a":vme,"Ctrl-e":gme};for(let n in xl)FI[n]=xl[n];const bme=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,rD=bme?FI:xl;class qu{constructor(e,t,r={}){this.match=e,this.match=e,this.handler=typeof t=="string"?wme(t):t,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1,this.inCodeMark=r.inCodeMark!==!1}}function wme(n){return function(e,t,r,i){let a=n;if(t[1]){let o=t[0].lastIndexOf(t[1]);a+=t[0].slice(o+t[1].length),r+=o;let l=r-i;l>0&&(a=t[0].slice(o-l,o)+a,r=i)}return e.tr.insertText(a,r,i)}}const Cme=500;function zI({rules:n}){let e=new Ra({state:{init(){return null},apply(t,r){let i=t.getMeta(this);return i||(t.selectionSet||t.docChanged?null:r)}},props:{handleTextInput(t,r,i,a){return iD(t,r,i,a,n,e)},handleDOMEvents:{compositionend:t=>{setTimeout(()=>{let{$cursor:r}=t.state.selection;r&&iD(t,r.pos,r.pos,"",n,e)})}}},isInputRules:!0});return e}function iD(n,e,t,r,i,a){if(n.composing)return!1;let o=n.state,l=o.doc.resolve(e),s=l.parent.textBetween(Math.max(0,l.parentOffset-Cme),l.parentOffset,null,"ï¿¼")+r;for(let f=0;f<i.length;f++){let c=i[f];if(!c.inCodeMark&&l.marks().some(k=>k.type.spec.code))continue;if(l.parent.type.spec.code){if(!c.inCode)continue}else if(c.inCode==="only")continue;let v=c.match.exec(s),y=v&&v[0].length>=r.length&&c.handler(o,v,e-(v[0].length-r.length),t);if(y)return c.undoable&&y.setMeta(a,{transform:y,from:e,to:t,text:r}),n.dispatch(y),!0}return!1}const xme=(n,e)=>{let t=n.plugins;for(let r=0;r<t.length;r++){let i=t[r],a;if(i.spec.isInputRules&&(a=i.getState(n))){if(e){let o=n.tr,l=a.transform;for(let s=l.steps.length-1;s>=0;s--)o.step(l.steps[s].invert(l.docs[s]));if(a.text){let s=o.doc.resolve(a.from).marks();o.replaceWith(a.from,a.to,n.schema.text(a.text,s))}else o.delete(a.from,a.to);e(o)}return!0}}return!1};new qu(/--$/,"â",{inCodeMark:!1});new qu(/\.\.\.$/,"â¦",{inCodeMark:!1});new qu(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"â",{inCodeMark:!1});new qu(/"$/,"â",{inCodeMark:!1});new qu(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"â",{inCodeMark:!1});new qu(/'$/,"â",{inCodeMark:!1});var G0=200,si=function(){};si.prototype.append=function(e){return e.length?(e=si.from(e),!this.length&&e||e.length<G0&&this.leafAppend(e)||this.length<G0&&e.leafPrepend(this)||this.appendInner(e)):this};si.prototype.prepend=function(e){return e.length?si.from(e).append(this):this};si.prototype.appendInner=function(e){return new kme(this,e)};si.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?si.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};si.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};si.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};si.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(a,o){return i.push(e(a,o))},t,r),i};si.from=function(e){return e instanceof si?e:e&&e.length?new HI(e):si.empty};var HI=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,o,l){for(var s=a;s<o;s++)if(i(this.values[s],l+s)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,o,l){for(var s=a-1;s>=o;s--)if(i(this.values[s],l+s)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=G0)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=G0)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(si);si.empty=new HI([]);var kme=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,a,o){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(a,l),o)===!1||a>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,a)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,a,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(a,l)-l,o+l)===!1||a<l&&this.left.forEachInvertedInner(r,Math.min(i,l),a,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(r,i):r>=a?this.right.slice(r-a,i-a):this.left.slice(r,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(si);const _me=500;class ls{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,a;t&&(i=this.remapping(r,this.items.length),a=i.maps.length);let o=e.tr,l,s,f=[],c=[];return this.items.forEach((v,y)=>{if(!v.step){i||(i=this.remapping(r,y+1),a=i.maps.length),a--,c.push(v);return}if(i){c.push(new Fs(v.map));let k=v.step.map(i.slice(a)),x;k&&o.maybeStep(k).doc&&(x=o.mapping.maps[o.mapping.maps.length-1],f.push(new Fs(x,void 0,void 0,f.length+c.length))),a--,x&&i.appendMap(x,a)}else o.maybeStep(v.step);if(v.selection)return l=i?v.selection.map(i.slice(a)):v.selection,s=new ls(this.items.slice(0,r).append(c.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:s,transform:o,selection:l}}addTransform(e,t,r,i){let a=[],o=this.eventCount,l=this.items,s=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let v=e.steps[c].invert(e.docs[c]),y=new Fs(e.mapping.maps[c],v,t),k;(k=s&&s.merge(y))&&(y=k,c?a.pop():l=l.slice(0,l.length-1)),a.push(y),t&&(o++,t=void 0),i||(s=y)}let f=o-r.depth;return f>Sme&&(l=Tme(l,f),o-=f),new ls(l.append(a),o)}remapping(e,t){let r=new jp;return this.items.forEach((i,a)=>{let o=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new ls(this.items.append(e.map(t=>new Fs(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),a=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(y=>{y.selection&&l--},i);let s=t;this.items.forEach(y=>{let k=a.getMirror(--s);if(k==null)return;o=Math.min(o,k);let x=a.maps[k];if(y.step){let R=e.steps[k].invert(e.docs[k]),d=y.selection&&y.selection.map(a.slice(s+1,k));d&&l++,r.push(new Fs(x,R,d))}else r.push(new Fs(x))},i);let f=[];for(let y=t;y<o;y++)f.push(new Fs(a.maps[y]));let c=this.items.slice(0,i).append(f).append(r),v=new ls(c,l);return v.emptyItemCount()>_me&&(v=v.compress(this.items.length-r.length)),v}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],a=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&a++;else if(o.step){let s=o.step.map(t.slice(r)),f=s&&s.getMap();if(r--,f&&t.appendMap(f,r),s){let c=o.selection&&o.selection.map(t.slice(r));c&&a++;let v=new Fs(f.invert(),s,c),y,k=i.length-1;(y=i.length&&i[k].merge(v))?i[k]=y:i.push(v)}}else o.map&&r--},this.items.length,0),new ls(si.from(i.reverse()),a)}}ls.empty=new ls(si.empty,0);function Tme(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class Fs{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Fs(t.getMap().invert(),t,this.selection)}}}class gu{constructor(e,t,r,i,a){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=a}}const Sme=20;function Eme(n,e,t,r){let i=t.getMeta(Lu),a;if(i)return i.historyState;t.getMeta(Nme)&&(n=new gu(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(Lu))return o.getMeta(Lu).redo?new gu(n.done.addTransform(t,void 0,r,l0(e)),n.undone,aD(t.mapping.maps),n.prevTime,n.prevComposition):new gu(n.done,n.undone.addTransform(t,void 0,r,l0(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=t.getMeta("composition"),s=n.prevTime==0||!o&&n.prevComposition!=l&&(n.prevTime<(t.time||0)-r.newGroupDelay||!Ame(t,n.prevRanges)),f=o?sT(n.prevRanges,t.mapping):aD(t.mapping.maps);return new gu(n.done.addTransform(t,s?e.selection.getBookmark():void 0,r,l0(e)),ls.empty,f,t.time,l??n.prevComposition)}else return(a=t.getMeta("rebased"))?new gu(n.done.rebased(t,a),n.undone.rebased(t,a),sT(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new gu(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),sT(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function Ame(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let a=0;a<e.length;a+=2)r<=e[a+1]&&i>=e[a]&&(t=!0)}),t}function aD(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,a,o)=>e.push(a,o));return e}function sT(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),a=e.map(n[r+1],-1);i<=a&&t.push(i,a)}return t}function Mme(n,e,t){let r=l0(e),i=Lu.get(e).spec.config,a=(t?n.undone:n.done).popEvent(e,r);if(!a)return null;let o=a.selection.resolve(a.transform.doc),l=(t?n.done:n.undone).addTransform(a.transform,e.selection.getBookmark(),i,r),s=new gu(t?l:a.remaining,t?a.remaining:l,null,0,-1);return a.transform.setSelection(o).setMeta(Lu,{redo:t,historyState:s})}let lT=!1,oD=null;function l0(n){let e=n.plugins;if(oD!=e){lT=!1,oD=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){lT=!0;break}}return lT}const Lu=new cv("history"),Nme=new cv("closeHistory");function qI(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Ra({key:Lu,state:{init(){return new gu(ls.empty,ls.empty,null,0,-1)},apply(e,t,r){return Eme(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?Op:r=="historyRedo"?RE:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function UI(n,e){return(t,r)=>{let i=Lu.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let a=Mme(i,t,n);a&&r(e?a.scrollIntoView():a)}return!0}}const Op=UI(!1,!0),RE=UI(!0,!0);function Dme(n){let e=Lu.getState(n);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xS=function(n,e){return xS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},xS(n,e)};function zt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xS(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var rt=function(){return rt=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},rt.apply(this,arguments)};function Oa(n,e,t){if(arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function Vn(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Lme(n,e,t){var r;t=t||null;for(r in n)if(n.hasOwnProperty(r)&&e.call(t,n[r],r,n)===!1)break}var Sd=Lme;function Ome(n,e){var t=Object.prototype.hasOwnProperty,r,i,a,o;for(a=1,o=arguments.length;a<o;a+=1){r=arguments[a];for(i in r)t.call(r,i)&&(n[i]=r[i])}return n}var IE=Ome;function Rme(n){return typeof n=="string"||n instanceof String}var ql=Rme;function Ime(n){return n instanceof Array}var Vd=Ime;function Bme(n,e,t){var r=0,i=n.length;for(t=t||null;r<i&&e.call(t,n[r],r,n)!==!1;r+=1);}var Ed=Bme,Pme=Vd,Fme=Ed,zme=Sd;function Hme(n,e,t){Pme(n)?Fme(n,e,t):zme(n,e,t)}var B1=Hme,qme=ql,Ume=B1;function Vme(n,e,t){var r=n.style;if(qme(e)){r[e]=t;return}Ume(e,function(i,a){r[a]=i})}var Ys=Vme,$me=Vd;function Wme(n,e,t){var r,i;if(t=t||0,!$me(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,n,t);for(i=e.length,r=t;t>=0&&r<i;r+=1)if(e[r]===n)return r;return-1}var Wc=Wme;function Gme(n){return n===void 0}var ps=Gme,jme=ps;function Yme(n){return!n||!n.className?"":jme(n.className.baseVal)?n.className:n.className.baseVal}var BE=Yme,Zme=Vd,Kme=ps;function Jme(n,e){if(e=Zme(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),Kme(n.className.baseVal)){n.className=e;return}n.className.baseVal=e}var VI=Jme,sD=B1,Xme=Wc,Qme=BE,e0e=VI;function t0e(n){var e=Array.prototype.slice.call(arguments,1),t=n.classList,r=[],i;if(t){sD(e,function(a){n.classList.add(a)});return}i=Qme(n),i&&(e=[].concat(i.split(/\s+/),e)),sD(e,function(a){Xme(a,r)<0&&r.push(a)}),e0e(n,r)}var Us=t0e,lD=Ed,n0e=Wc,r0e=BE,i0e=VI;function a0e(n){var e=Array.prototype.slice.call(arguments,1),t=n.classList,r,i;if(t){lD(e,function(a){t.remove(a)});return}r=r0e(n).split(/\s+/),i=[],lD(r,function(a){n0e(a,e)<0&&i.push(a)}),i0e(n,i)}var cs=a0e;function o0e(n){return typeof n=="number"||n instanceof Number}var kl=o0e;function s0e(n){return n===null}var j0=s0e,l0e=Sd;function u0e(n,e){var t=document.createElement("img"),r="";return l0e(e,function(i,a){r+="&"+a+"="+i}),r=r.substring(1),t.src=n+"?"+r,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t),t}var c0e=u0e,f0e=ps,d0e=c0e,h0e=7*24*60*60*1e3;function p0e(n){var e=new Date().getTime();return e-n>h0e}function v0e(n,e){var t="https://www.google-analytics.com/collect",r=location.hostname,i="event",a="use",o="TOAST UI "+n+" for "+r+": Statistics",l=window.localStorage.getItem(o);!f0e(window.tui)&&window.tui.usageStatistics===!1||l&&!p0e(l)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&d0e(t,{v:1,t:i,tid:e,cid:r,dp:r,dh:n,el:n,ec:a})},1e3))}var g0e=v0e,m0e=/[\u0020]+/g,y0e=/[>(){}[\]+-.!#|]/g,uD=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,cD=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,b0e=/[*_~`]/g,fD=/!\[.*\]\(.*\)/g,w0e=/[[\]]/g,dD=/(?:^|[^\\])\\(?!\\)/g,C0e='[&<>"]',hD=new RegExp(C0e,"g");function x0e(n){switch(n){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return n}}function fd(n){return hD.test(n)?n.replace(hD,x0e):n}function k0e(){g0e("editor","UA-129966929-1")}function _i(n,e){return n.indexOf(e)!==-1}var _0e=["rel","target","hreflang","type"],T0e={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function $I(n){if(!n)return null;var e={};return _0e.forEach(function(t){ps(n[t])||(e[t]=n[t])}),e}function Y0(n,e){for(var t="",r=0;r<e;r+=1)t+=n;return t}function S0e(n){var e=!1;return Sd(T0e,function(t){return t.test(n)&&(e=!0),!e}),e}function Z0(n){for(var e=[],t=fD.exec(n);t;)e.push([t.index,t.index+t[0].length]),t=fD.exec(n);return n.replace(w0e,function(r,i){var a=e.some(function(o){return i>o[0]&&i<o[1]});return a?r:"\\"+r})}function E0e(n){var e=function(i){return"\\"+i},t=function(i){return i+"\\"},r=n.replace(m0e," ");return cD.test(r)&&(r=r.replace(cD,e)),dD.test(r)&&(r=r.replace(dD,t)),r=r.replace(b0e,e),uD.test(r)&&(r=r.replace(uD,e)),S0e(r)&&(r=r.replace(y0e,e)),r}function A0e(n){var e;return n.indexOf('"')===-1?e='""':e=n.indexOf("'")===-1?"''":"()",e[0]+n+e[1]}function kS(n){return j0(n)||ps(n)}function PE(n,e){if(n===null&&n===e)return!0;if(typeof n!="object"||typeof e!="object"||kS(n)||kS(e))return n===e;for(var t in n)if(n[t]!==e[t])return!1;for(var t in e)if(!(t in n))return!1;return!0}function Ui(n){return n[n.length-1]}function M0e(n,e,t){return n>=e&&n<=t}function FE(n){return typeof n=="object"&&n!==null}function K0(n,e){var t=rt({},n);return n&&e&&Object.keys(e).forEach(function(r){FE(t[r])?Array.isArray(e[r])?t[r]=zE(e[r]):t.hasOwnProperty(r)?t[r]=K0(t[r],e[r]):t[r]=HE(e[r]):t[r]=e[r]}),t}function zE(n){return n.map(function(e){return FE(e)?Array.isArray(e)?zE(e):HE(e):e})}function HE(n){var e=Object.keys(n);return e.length?e.reduce(function(t,r){return FE(n[r])?t[r]=Array.isArray(n[r])?zE(n[r]):HE(n[r]):t[r]=n[r],t},{}):n}function qE(n,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(t){n.hasOwnProperty(t)&&typeof n[t]=="object"?Array.isArray(e[t])?n[t]=e[t]:qE(n[t],e[t]):n[t]=e[t]}),n}function pD(n,e){return n>e?[e,n]:[n,e]}var N0e=Ed;function D0e(n){var e;try{e=Array.prototype.slice.call(n)}catch{e=[],N0e(n,function(r){e.push(r)})}return e}var Zs=D0e;function J0(n,e){var t=n.nodes.paragraph;return e?t.create(null,ql(e)?n.text(e):e):t.createAndFill()}function ki(n,e,t){return n.text(e,t)}function Tr(n,e,t){t===void 0&&(t=e);var r=n.doc.content.size,i=r>0?r-1:1;return zn.create(n.doc,Math.min(e,i),Math.min(t,i))}function UE(n,e,t){var r=e.pos;return n.replaceWith(r,r,J0(t)),n.setSelection(Tr(n,r+1))}function X0(n){for(var e=n.state,t=n.from,r=n.startIndex,i=n.endIndex,a=n.createText,o=e.tr,l=e.doc,s=e.schema,f=r;f<=i;f+=1){var c=l.child(f),v=c.nodeSize,y=c.textContent,k=c.content,x=a(y),R=x?ki(s,x):gt.empty,d=o.mapping.map(t),h=d+k.size;o.replaceWith(d,h,R),t+=v}return o}function VE(n,e,t,r){var i=t.length;n.split(e).delete(e-i,e).insert(n.mapping.map(e),r).setSelection(Tr(n,n.mapping.map(e)-i))}function vv(n){return n.sourcepos[0][0]}function P1(n){return n.sourcepos[1][0]}function F1(n){return n.sourcepos[0][1]}function Ou(n){return n.sourcepos[1][1]}function L0e(n){var e=n.type;return e==="htmlBlock"||e==="htmlInline"}function O0e(n){var e=n.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function R0e(n){return n&&n.type==="codeBlock"}function Gc(n){return n&&(n.type==="item"||n.type==="list")}function WI(n){return Gc(n)&&n.listData.type==="ordered"}function I0e(n){return Gc(n)&&n.listData.type!=="ordered"}function vD(n){return n&&(n.type==="tableCell"||n.type==="tableDelimCell")}function B0e(n){switch(n.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Ad(n,e,t){for(t===void 0&&(t=!0),n=t?n:n.parent;n&&n.type!=="document";){if(e(n))return n;n=n.parent}return null}function P0e(n,e,t){for(t===void 0&&(t=!0),n=t?n:n.parent;n&&n.type!=="document";)e(n),n=n.parent}function ai(n,e){return[n[0],n[1]+e]}function Ru(n,e){return[n[0],e]}function F0e(n){var e=n.firstChild.literal;switch(n.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var t=n,r=t.destination,i=t.title,a=n.type==="link"?"":"!";return a+"["+e+"]("+r+(i?' "'+i+'"':"")+")";default:return null}}function z0e(n){switch(n.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function H0e(n){for(var e=[],t=n.walker(),r=null;r=t.next();){var i=r.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Qp=[],GI={},gD=/\$\$widget\d+\s/;function z1(n){var e=n.search(gD);if(e!==-1){var t=n.substring(e),r=t.replace(gD,"").replace("$$","");n=n.substring(0,e),n+=z1(r)}return n}function jI(n,e){return"$$"+n+" "+e+"$$"}function YI(n,e){var t=GI[n],r=t.rule,i=t.toDOM,a=z1(e).match(r);return a&&(e=a[0]),i(e)}function q0e(){return Qp}function U0e(n){Qp=n,Qp.forEach(function(e,t){GI["widget"+t]=e})}function uT(n,e,t,r){return n.concat(Fc(e,t,r))}function Fc(n,e,t){t===void 0&&(t=0);var r=[],i=(Qp[t]||{}).rule,a=t+1;if(n=z1(n),i&&i.test(n)){for(var o=void 0;(o=n.search(i))!==-1;){var l=n.substring(0,o);l&&(r=uT(r,l,e,a)),n=n.substring(o);var s=n.match(i)[0],f="widget"+t;r.push(e.nodes.widget.create({info:f},e.text(jI(f,s)))),n=n.substring(s.length)}n&&(r=uT(r,n,e,a))}else n&&(r=t<Qp.length-1?uT(r,n,e,a):[e.text(n)]);return r}function ZI(n){for(var e,t="",r=n.walker();e=r.next();){var i=e.node,a=e.entering;a&&(i!==n&&i.type!=="text"?(t+=F0e(i),r.resumeAt(n,!1),r.next()):i.type==="text"&&(t+=i.literal))}return t}function KI(){return{deleteSelection:function(){return NE},selectAll:function(){return II},undo:function(){return Op},redo:function(){return RE}}}function V0e(n){return new Ra({props:{decorations:function(e){var t=e.doc;if(n.text&&t.childCount===1&&t.firstChild.isTextblock&&t.firstChild.content.size===0){var r=document.createElement("span");return Us(r,"placeholder"),n.className&&Us(r,n.className),r.textContent=n.text,Pr.create(t,[Aa.widget(1,r)])}return null}}})}var $0e=Wc,W0e=BE;function G0e(n,e){var t;return n.classList?n.classList.contains(e):(t=W0e(n).split(/\s+/),$0e(e,t)>-1)}var JI=G0e,j0e=Wc,Y0e=Zs,Tm=Element.prototype,Z0e=Tm.matches||Tm.webkitMatchesSelector||Tm.mozMatchesSelector||Tm.msMatchesSelector||function(n){var e=this.document||this.ownerDocument;return j0e(this,Y0e(e.querySelectorAll(n)))>-1};function K0e(n,e){return Z0e.call(n,e)}var J0e=K0e,XI="[A-Za-z][A-Za-z0-9-]*",X0e="[a-zA-Z_:][a-zA-Z0-9:._-]*",Q0e="[^\"'=<>`\\x00-\\x20]+",e1e="'[^']*'",t1e='"[^"]*"',n1e="(?:"+Q0e+"|"+e1e+"|"+t1e+")",r1e="(?:\\s*=\\s*"+n1e+")",QI="(?:\\s+"+X0e+r1e+"?)",e4="<("+XI+")("+QI+")*\\s*/?>",i1e="</("+XI+")\\s*[>]",t4="(?:"+e4+"|"+i1e+")",Md=new RegExp("^"+t4,"i"),_S=/<br\s*\/*>/i,a1e=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,n4="</p><p>";function $E(n,e,t){var r=parseInt(n.left,10),i=parseInt(n.top,10),a=parseInt(n.width,10)+parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10),o=parseInt(n.height,10)+parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10);return e>=r&&e<=r+a&&t>=i&&t<=i+o}var r4="toastui-editor-";function Vt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=[],r=0,i=n;r<i.length;r++){var a=i[r],o=void 0;Array.isArray(a)?o=a[0]?a[1]:null:o=a,o&&t.push(""+r4+o)}return t.join(" ")}function ei(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.map(function(t){return r4+"md-"+t}).join(" ")}function o1e(n){return(n==null?void 0:n.nodeType)===Node.TEXT_NODE}function H1(n){return n&&n.nodeType===Node.ELEMENT_NODE}function s1e(n,e){var t=Zs(n.querySelectorAll(e));return t.length?t:[]}function l1e(n,e){e=Vd(e)?Zs(e):[e],e.forEach(function(t){n.appendChild(t)})}function u1e(n,e){e.parentNode&&e.parentNode.insertBefore(n,e)}function jc(n){n.parentNode&&n.parentNode.removeChild(n)}function c1e(n){for(var e=[];n.firstChild;)e.push(n.firstChild),n.parentNode&&n.parentNode.insertBefore(n.firstChild,n);return jc(n),e}function WE(n,e,t){ps(t)&&(t=!JI(n,e));var r=t?Us:cs;r(n,e)}function i4(n,e){var t=document.createElement("div");ql(n)?t.innerHTML=n:t.appendChild(n);var r=t.firstChild;return e&&e.appendChild(r),r}function GE(n){var e=window.getComputedStyle(n);return["margin-left","margin-right"].reduce(function(t,r){return t+parseInt(e.getPropertyValue(r),10)},0)+n.offsetWidth}function Vs(n,e){var t;for(ql(e)?t=function(r){return J0e(r,e)}:t=function(r){return r===e};n&&n!==document;){if(H1(n)&&t(n))return n;n=n.parentNode}return null}function a4(n,e){for(var t=0,r=0;n&&n!==e;){var i=n.offsetTop,a=n.offsetLeft,o=n.offsetParent;if(t+=i,r+=a,o===e.offsetParent)break;n=n.offsetParent}return{offsetTop:t,offsetLeft:r}}function jE(n,e){Object.keys(n).forEach(function(t){kS(n[t])?e.removeAttribute(t):e.setAttribute(t,n[t])})}function f1e(n){var e=n.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),t=new RegExp(t4,"ig"),r=e.match(t);return r==null||r.forEach(function(i,a){if(_S.test(i)){var o=n4;if(a){var l=r[a-1],s=l.match(e4);if(s&&!/br/i.test(s[1])){var f=s[1];o="</"+f+"><"+f+">"}}e=e.replace(_S,o)}}),e}function YE(n){var e=/<img class="ProseMirror-separator" alt="">/g,t=/ class="ProseMirror-trailingBreak"/g,r=n;return r=r.replace(e,""),r=r.replace(t,""),r}var o4=new cv("widget"),mD=5,d1e=function(){function n(e,t){var r=this;this.popup=null,this.removeWidget=function(){r.popup&&(r.rootEl.removeChild(r.popup),r.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){r.rootEl=Vs(e.dom.parentElement,"."+Vt("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return n.prototype.update=function(e){var t=o4.getState(e.state);if(this.removeWidget(),t){var r=t.node,i=t.style,a=e.coordsAtPos(t.pos),o=a.top,l=a.left,s=a.bottom,f=s-o,c=this.rootEl.getBoundingClientRect(),v=o-c.top;Ys(r,{opacity:"0"}),this.rootEl.appendChild(r),Ys(r,{position:"absolute",left:l-c.left+mD+"px",top:(i==="bottom"?v+f-mD:v-f)+"px",opacity:"1"}),this.popup=r,e.focus()}},n.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},n}();function h1e(n){return new Ra({key:o4,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new d1e(e,n)}})}function p1e(n){n.listen("addImageBlobHook",function(e,t){var r=new FileReader;r.onload=function(i){var a=i.target;return t(a.result)},r.readAsDataURL(e)})}function ZE(n,e,t){var r=function(i,a){n.emit("command","addImage",{imageUrl:i,altText:a||e.name||"image"})};n.emit("addImageBlobHook",e,r,t)}function s4(n){var e=Zs(n).filter(function(r){var i=r.type;return i.indexOf("image")!==-1});if(e.length===1){var t=e[0];if(t)return t.getAsFile()}return null}function v1e(n){var e=n.eventEmitter;return new Ra({props:{handleDOMEvents:{drop:function(t,r){var i,a=(i=r.dataTransfer)===null||i===void 0?void 0:i.files;return a&&Ed(a,function(o){return o.type.indexOf("image")!==-1?(r.preventDefault(),r.stopPropagation(),ZE(e,o,r.type),!1):!0}),!0}}}})}var yr=function(){function n(){}return Object.defineProperty(n.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),n.prototype.setContext=function(e){this.context=e},n}();function l4(n){var e=document.createElement("span"),t=YI(n.attrs.info,n.textContent);return e.className="tui-widget",e.appendChild(t),{dom:e}}function TS(n){return n.type.name==="widget"}var u4=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var r=t.textContent,i=r.match(/\$\$(widget\d+)/),a=i[1];return{info:a}}}]}},enumerable:!1,configurable:!0}),e}(yr),c4=function(){function n(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return n.prototype.createState=function(){return Mc.create({schema:this.schema,plugins:this.createPlugins()})},n.prototype.initEvent=function(){var e=this,t=e.eventEmitter,r=e.view,i=e.editorType;r.dom.addEventListener("focus",function(){return t.emit("focus",i)}),r.dom.addEventListener("blur",function(){return t.emit("blur",i)})},n.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(n.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),t=Oa(Oa([],this.keymaps),[Xp(rt({"Shift-Enter":rD.Enter},rD)),qI(),V0e(this.placeholder),h1e(this.eventEmitter),v1e(this.context)]);return e?t.concat(e):t},enumerable:!1,configurable:!0}),n.prototype.createInputRules=function(){var e=q0e(),t=e.map(function(r){var i=r.rule;return new qu(i,function(a,o,l,s){var f=a.schema,c=a.tr,v=a.doc,y=o.input.match(new RegExp(i,"g")),k=v.resolve(l),x=k.parent,R=0;if(TS(x)&&(x=k.node(k.depth-1)),x.forEach(function(w){return TS(w)&&(R+=1)}),y.length>R){var d=Ui(y),h=Fc(d,f);return c.replaceWith(s-d.length+1,s,h)}return null})});return t.length?zI({rules:t}):null},n.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.createSchema=function(){return new RR({nodes:this.specs.nodes,marks:this.specs.marks})},n.prototype.createKeymaps=function(e){var t=KI(),r=t.undo,i=t.redo,a=this.specs.keymaps(e),o={"Mod-z":r(),"Shift-Mod-z":i()};return e?a.concat(Xp(o)):a},n.prototype.createCommands=function(){return this.specs.commands(this.view)},n.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(t){return t(e.eventEmitter)})},n.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},n.prototype.blur=function(){this.view.dom.blur()},n.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(t){delete e[t]})},n.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Tr(t,1)).scrollIntoView()),e&&this.focus()},n.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Tr(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},n.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},n.prototype.getScrollTop=function(){return this.view.dom.scrollTop},n.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},n.prototype.setHeight=function(e){Ys(this.el,{height:e+"px"})},n.prototype.setMinHeight=function(e){Ys(this.el,{minHeight:e+"px"})},n.prototype.getElement=function(){return this.el},n}();function g1e(n){return n instanceof Function}var Lo=g1e,m1e=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function Sm(n,e,t){return n.focus(),e(t)(n.state,n.dispatch,n)}var f4=function(){function n(e){this.specs=e}return Object.defineProperty(n.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,t){var r,i=t.name,a=t.schema;return rt(rt({},e),(r={},r[i]=a,r))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,t){var r,i=t.name,a=t.schema;return rt(rt({},e),(r={},r[i]=a,r))},{})},enumerable:!1,configurable:!0}),n.prototype.commands=function(e,t){var r=this.specs.filter(function(a){var o=a.commands;return o}).reduce(function(a,o){var l={},s=o.commands();return Lo(s)?l[o.name]=function(f){return Sm(e,s,f)}:Object.keys(s).forEach(function(f){l[f]=function(c){return Sm(e,s[f],c)}}),rt(rt({},a),l)},{}),i=KI();return Object.keys(i).forEach(function(a){r[a]=function(o){return Sm(e,i[a],o)}}),t&&Object.keys(t).forEach(function(a){r[a]=function(o){return Sm(e,t[a],o)}}),r},n.prototype.keymaps=function(e){var t=this.specs.filter(function(r){return r.keymaps}).map(function(r){return r.keymaps()});return t.map(function(r){return e||Object.keys(r).forEach(function(i){_i(m1e,i)||delete r[i]}),Xp(r)})},n.prototype.setContext=function(e){this.specs.forEach(function(t){t.setContext(e)})},n}();function d4(n){var e=n.from,t=n.to;return n instanceof ra?[e+1,t-1]:[e,t]}function yD(n){return n.index(0)+1}function Nd(n,e,t){t===void 0&&(t=1);var r=0;return n.forEach(function(i,a){TS(i)&&a+2<e&&(r+=2*t)}),r}function u0(n,e,t){t===void 0&&(t=e);var r=e===t,i=n.resolve(e),a=yD(i),o=a,l=i.start(1),s=l;if(!r){var f=n.resolve(t===n.content.size?t-1:t);s=f.start(1),o=yD(f),f.pos===n.content.size&&(t=n.content.size-2)}var c=Math.max(e-l+1,1),v=Math.max(t-s+1,1);return[[a,c+Nd(n.child(a-1),c,-1)],[o,v+Nd(n.child(o-1),v,-1)]]}function h4(n,e){for(var t=[],r=0,i=0;r<e;r+=1){var a=n.child(r);t[r]=i,i+=a.nodeSize}return t}function _c(n,e,t){var r=h4(n,t[0]),i=e[0]-1,a=t[0]-1,o=n.child(i),l=n.child(a),s=r[i],f=r[a];return s+=e[1]+Nd(o,e[1]-1),f+=t[1]+Nd(l,t[1]-1),[s,Math.min(f,n.content.size)]}function Qr(n){var e=n.$from,t=n.$to,r=n.from,i=n.to,a=e.doc;return n instanceof ra&&(e=a.resolve(r+1),t=a.resolve(i-1)),e.depth===0&&(e=a.resolve(r-1),t=e),{startFromOffset:e.start(1),endFromOffset:t.start(1),startToOffset:e.end(1),endToOffset:t.end(1),startIndex:e.index(0),endIndex:t.index(0),from:e.pos,to:t.pos}}function Q0(n,e){for(var t=1,r=1,i=0,a=0;i<n.childCount;i+=1){var o=n.child(i).nodeSize;if(t=a+1,r=a+o-1,i===e)break;a+=o}return{startOffset:t,endOffset:r}}var bD="heading",y1e="blockQuote",b1e="listItem",w1e="table",C1e="tableCell",x1e="codeBlock",k1e="thematicBreak",c0="link",Em="code",q1="meta",Yc="delimiter",_1e="taskDelimiter",KE="markedText",T1e="html",S1e="customBlock",wD={strong:2,emph:1,strike:2};function Xn(n,e,t,r){return{start:n,end:e,spec:{type:t,attrs:r}}}function E1e(n,e,t){var r=n.level,i=n.headingType,a=[Xn(e,t,bD,{level:r})];return i==="atx"?a.push(Xn(e,ai(e,r),Yc)):a.push(Xn(Ru(t,0),t,bD,{seText:!0})),a}function cT(n,e,t){var r=n.type,i=ai(e,wD[r]),a=ai(t,-wD[r]);return[Xn(i,a,r),Xn(e,i,Yc),Xn(a,t,Yc)]}function p4(n,e,t,r){return[Xn(n,e,c0),Xn(Ru(n,t[1]+1),Ru(e,r),c0,{desc:!0}),Xn(Ru(e,r+2),ai(e,-1),c0,{url:!0})]}function A1e(n,e,t){var r=n.lastChild,i=r?Ou(r)+1:3,a=ai(e,1);return Oa([Xn(e,a,q1)],p4(e,t,a,i))}function M1e(n,e,t){var r=n.lastChild,i=n.extendedAutolink,a=r?Ou(r)+1:2;return i?[Xn(e,t,c0,{desc:!0})]:p4(e,t,e,a)}function N1e(n,e,t){var r=n.tickCount,i=ai(e,r),a=ai(t,-r);return[Xn(e,t,Em),Xn(e,i,Em,{start:!0}),Xn(i,a,Em,{marked:!0}),Xn(a,t,Em,{end:!0})]}function v4(n,e,t,r){var i={start:e,end:t,spec:{attrs:{className:r+"-line-background",codeStart:e[0],codeEnd:t[0]}},lineBackground:!0};return n.type!=="item"&&n.type!=="blockQuote"?[rt(rt({},i),{end:e,spec:{attrs:{className:r+"-line-background start"}}}),rt(rt({},i),{start:[Math.min(e[0]+1,t[0]),e[1]]})]:null}function D1e(n,e,t,r){var i=n.fenceOffset,a=n.fenceLength,o=n.fenceChar,l=n.info,s=n.infoPadding,f=n.parent,c=i+a,v=[Xn(Ru(e,1),t,x1e)];o&&v.push(Xn(e,ai(e,c),Yc)),l&&v.push(Xn(ai(e,a),ai(e,a+s+l.length),q1));var y="^(\\s{0,4})("+o+"{"+a+",})",k=new RegExp(y);k.test(r)&&v.push(Xn(Ru(t,1),t,Yc));var x=v4(f,e,t,"code-block");return x?v.concat(x):v}function L1e(n,e,t){var r=n,i=r.offset,a=r.syntaxLength,o=r.info,l=r.parent,s=i+a,f=[Xn(Ru(e,1),t,S1e)];f.push(Xn(e,ai(e,s),Yc)),o&&f.push(Xn(ai(e,s),ai(e,a+o.length),q1)),f.push(Xn(Ru(t,1),t,Yc));var c=v4(l,e,t,"custom-block");return c?f.concat(c):f}function g4(n,e){for(var t=[];n;){var r=n.type;(r==="paragraph"||r==="codeBlock")&&t.push(Xn([vv(n),F1(n)-1],[P1(n),Ou(n)+1],e)),n=n.next}return t}function O1e(n){for(var e=[];n;)e.push(Xn([vv(n),F1(n)],[P1(n),Ou(n)+1],KE)),n=n.next;return e}function R1e(n,e,t){var r=n.parent&&n.parent.type!=="blockQuote"?[Xn(e,t,y1e)]:[];if(n.firstChild){var i=[];n.firstChild.type==="paragraph"?i=O1e(n.firstChild.firstChild):n.firstChild.type==="list"&&(i=g4(n.firstChild,KE)),r=Oa(Oa([],r),i)}return r}function I1e(n){for(var e=0;n.parent.parent&&n.parent.parent.type==="item";)n=n.parent.parent,e+=1;var t=[{odd:!0},{even:!0}][e%2];return[b1e,rt(rt({},t),{listStyle:!0})]}function B1e(n,e){var t=n.listData,r=t.padding,i=t.task,a=I1e(n),o=[Xn.apply(void 0,Oa([e,ai(e,r)],a))];return i&&(o.push(Xn(ai(e,r),ai(e,r+3),_1e)),o.push(Xn(ai(e,r+1),ai(e,r+2),q1))),o.concat(g4(n.firstChild,KE))}var CD={heading:E1e,strong:cT,emph:cT,strike:cT,link:M1e,image:A1e,code:N1e,codeBlock:D1e,blockQuote:R1e,item:B1e,customBlock:L1e},xD={thematicBreak:k1e,table:w1e,tableCell:C1e,htmlInline:T1e};function P1e(n,e,t,r){var i=n.type;return Lo(CD[i])?CD[i](n,e,t,r):xD[i]?[Xn(e,t,xD[i])]:null}var ev={};function F1e(n){var e=n.schema,t=n.toastMark;return new Ra({appendTransaction:function(r,i,a){var o=r[0],l=a.tr;if(o.docChanged){var s=[],f=o.getMeta("editResult");f.forEach(function(c){var v=c.nodes,y=c.removedNodeRange;if(v.length){s=s.concat($1e(l,v));for(var k=0,x=v;k<x.length;k++)for(var R=x[k],d=R.walker(),h=d.next();h;){var w=h.node,A=h.entering;A&&(s=s.concat(W1e(w,t))),h=d.next()}}else if(y)for(var D=l.doc.childCount-1,I=y.line,O=I[0],F=I[1],$=Math.min(O,D),z=Math.min(F,D),ee=$;ee<=z;ee+=1)ev[ee]=!0}),q1e(l,e,s)}return l.setMeta("widget",o.getMeta("widget"))}})}function z1e(n,e,t){return Object.keys(t).some(function(r){return t[r]!==n.child(e).attrs[r]})}function H1e(n,e,t,r,i){i===void 0&&(i={});for(var a=r.startIndex,o=r.endIndex,l=r.from,s=r.to,f=!1,c=a;c<=o;c+=1)delete ev[c],f=z1e(e,c,i);f&&n.setBlockType(l,s,t,i)}function q1e(n,e,t){var r=n.doc,i=e.nodes.paragraph,a=h4(r,r.childCount);t.forEach(function(o){var l=o.start,s=o.end,f=o.spec,c=o.lineBackground,v=Math.min(l[0],r.childCount)-1,y=Math.min(s[0],r.childCount)-1,k=r.child(v),x=r.child(y),R=a[v],d=a[y];if(R+=l[1]+Nd(k,l[1]-1),d+=s[1]+Nd(x,s[1]-1),f)if(c){var h={from:R,to:d,startIndex:v,endIndex:y};H1e(n,r,i,h,f.attrs)}else n.addMark(R,d,e.mark(f.type,f.attrs));else n.removeMark(R,d)}),U1e(n,a,i)}function U1e(n,e,t){Object.keys(ev).forEach(function(r){var i=Number(r),a=Math.min(Number(r)+1,n.doc.childCount-1),o=e[i],l=e[a]-1;i===a&&(l+=2),n.setBlockType(o,l,t)})}function V1e(n,e,t){var r=[];ev={};for(var i=e[0]-1;i<t[0];i+=1){var a=n.child(i),o=a.attrs.codeEnd,l=a.attrs.codeStart;if(l&&o&&!_i(r,l)){r.push(l),o=Math.min(o,n.childCount);for(var s=l-1,f=t[0],c=s;c<f;c+=1)ev[c]=!0}}}function $1e(n,e){var t=n.doc,r=e[0].sourcepos[0],i=Ui(e).sourcepos,a=i[1],o=[r[0],r[1]],l=[a[0],a[1]+1],s=[];return V1e(t,r,a),s.push({start:o,end:l}),s}function W1e(n,e){var t=e.getLineTexts(),r=[vv(n),F1(n)],i=[P1(n),Ou(n)+1],a=P1e(n,r,i,t[i[0]-1]);return a??[]}var G1e=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function j1e(n){var e=n.type;return Gc(n)?n.listData.task?"taskList":n.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":_i(G1e,e)?e:null}function Y1e(n){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},t=!0;return P0e(n,function(r){var i=j1e(r);i&&(i==="bulletList"||i==="orderedList"?t&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,t=!1):e[i]={active:!0})}),e}function Z1e(n){var e=n.toastMark,t=n.eventEmitter;return new Ra({view:function(){return{update:function(r,i){var a=r.state,o=a.doc,l=a.selection;if(!(i&&i.doc.eq(o)&&i.selection.eq(l))){var s=l.from,f=a.doc.resolve(s).start(),c=a.doc.content.findIndex(s).index+1,v=s-f;s===f&&(v+=1);var y=[c,v],k=e.findNodeAtPosition(y),x=Y1e(k);t.emit("changeToolbarState",{cursorPos:y,mdNode:k,toolbarState:x}),t.emit("setFocusedNode",k)}}}}})}var K1e=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(yr),Sr=function(){function n(){}return Object.defineProperty(n.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),n.prototype.setContext=function(e){this.context=e},n}();function to(n,e){return Fu(n,e-1)}function Fu(n,e){return n.child(e).textContent}var wp=/^\s*> ?/,J1e=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,r){return r?t.replace(wp,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(r,i){var a=r.selection,o=r.doc,l=r.tr,s=r.schema,f=Qr(a),c=f.endFromOffset,v=f.endToOffset,y=f.endIndex,k=f.to,x=Fu(o,y),R=wp.test(x);if(R&&k>c&&a.empty){var d=!x.replace(wp,"").trim();if(d)l.deleteRange(c,v).split(l.mapping.map(v));else{var h=x.slice(k-c).trim(),w=ki(s,t.createBlockQuoteText(h));VE(l,v,h,w)}return i(l),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(r,i){var a=r.selection,o=r.doc,l=Qr(a),s=l.startFromOffset,f=l.endToOffset,c=l.startIndex,v=l.endIndex,y=wp.test(Fu(o,c)),k=X0({state:r,startIndex:c,endIndex:v,from:s,createText:function(x){return t.createBlockQuoteText(x,y)}});return i(k.setSelection(Tr(k,k.mapping.map(f)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(Sr),Zc=/(^\s*)([-*+] |[\d]+\. )/,JE=/(^\s*)([\d])+\.( \[[ xX]])? /,Ll=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,e1=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,X1e=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Q1e=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,eye=/(^\s*)([-*+])( \[[ xX]]) /;function XE(n){return JE.test(n)?"ordered":"bullet"}function QE(n){for(var e=0;n&&n.type!=="document";)n.type==="list"&&(e+=1),n=n.parent;return e}function SS(n,e,t,r){for(var i=n.getLineTexts(),a=i.length,o=[],l=e;r?l<a:l>1;){l=r?l+1:l-1;var s=n.findFirstNodeAtLine(l),f=QE(s);if(f===t)o.push({line:l,depth:t,mdNode:s});else if(f<t)break}return o}function tye(n){var e=n.toastMark,t=n.mdNode,r=n.line,i=QE(t),a=SS(e,r,i,!1).reverse(),o=SS(e,r,i,!0);return a.concat([{line:r,depth:i,mdNode:t}]).concat(o)}function nye(n){if(!Zc.test(n))return"* "+n;var e=XE(n);return e==="bullet"&&e1.test(n)?n=n.replace(eye,"$1$2 "):e==="ordered"&&(n=n.replace(JE,"$1* ")),n}function rye(n,e){if(!Zc.test(n))return e+". "+n;var t=XE(n);if(t==="bullet"||t==="ordered"&&e1.test(n))n=n.replace(e1,"$1"+e+". ");else if(t==="ordered"){var r=Ll.exec(n)[3];Number(r)!==e&&(n=n.replace(JE,"$1"+e+". "))}return n}function m4(n,e,t,r){r===void 0&&(r=0);var i=Number.MAX_VALUE,a=0,o=e.map(function(l,s){var f=l.line;i=Math.min(f-1,i),a=Math.max(f-1,a);var c=to(n,f);return c=t==="bullet"?nye(c):rye(c,s+1+r),{text:c,line:f}});return{changedResults:o,firstIndex:i,lastIndex:a}}function kD(n,e){var t=tye(e);return m4(e.doc,t,n)}var iye={bullet:function(n){return kD("bullet",n)},ordered:function(n){return kD("ordered",n)},task:function(n){var e=n.mdNode,t=n.doc,r=n.line,i=to(t,r);return e.listData.task?i=i.replace(Q1e,"$1$2"):Gc(e)&&(i=i.replace(Zc,"$1$2[ ] ")),{changedResults:[{text:i,line:r}]}}},aye={bullet:function(n){var e=n.doc,t=n.line,r=to(e,t),i=[{text:"* "+r,line:t}];return{changedResults:i}},ordered:function(n){for(var e=n.toastMark,t=n.doc,r=n.line,i=n.startLine,a=to(t,r),o=1,l=i,s=0,f=i-1;f>0;f-=1){var c=e.findFirstNodeAtLine(f),v=to(t,f),y=v&&!!Ad(c,function(A){return Gc(A)}),k=Ll.exec(to(t,f));if(!k&&!y)break;if(!k&&y){s+=1;continue}var x=k,R=x[1],d=x[3];if(!R){o=Number(d),l=f;break}}var h=o+r-l-s,w=[{text:h+". "+a,line:r}];return{changedResults:w}},task:function(n){var e=n.doc,t=n.line,r=to(e,t),i=[{text:"* [ ] "+r,line:t}];return{changedResults:i}}},oye={bullet:function(n){var e=n.line,t=n.doc,r=to(t,e),i=X1e.exec(r),a=i[1],o=i[2];return{listSyntax:""+a+o}},ordered:function(n){var e=n.toastMark,t=n.line,r=n.mdNode,i=n.doc,a=QE(r),o=to(i,t),l=Ll.exec(o),s=l[1],f=l[3],c=l[4],v=Number(f)+1,y=""+s+v+c,k=SS(e,t,a,!0),x=k.filter(function(R){var d=Ll.exec(to(i,R.line));return d&&d[1].length===s.length&&!!Ad(R.mdNode,function(h){return WI(h)})});return rt({listSyntax:y},m4(i,x,"ordered",v))}};function y4(n,e,t,r,i){for(var a=[],o=to(n,t),l=Ll.exec(o);l;){var s=l[1],f=l[4],c=l[5],v=s.length;if(v===i)a.push(ki(e,""+s+r+f+c)),r+=1,t+=1;else if(v>i){var y=y4(n,e,t,1,v);t=y.line,a=a.concat(y.nodes)}if(v<i||t>n.childCount)break;o=to(n,t),l=Ll.exec(o)}return{nodes:a,line:t}}var _D=/(^\s{1,4})(.*)/;function TD(n,e,t){return n<e||Zc.test(t)||wp.test(t)}function SD(n,e,t){var r=t.$from;r.depth===0&&(r=n.resolve(r.pos-1));var i=r.node(1),a=r.start(1),o=i.content.size;return i.rangeHasMark(0,o,e.marks.table)&&r.pos-a!==o&&r.pos!==a}function ED(n,e){var t=e.from,r=e.to;if(e.type==="indent"){var i=4;t+=i,r+=(e.lineLen+1)*i}else{var a=e.spaceLenList;t-=a[0];for(var o=0;o<a.length;o+=1)r-=a[o]}return Tr(n,t,r)}var sye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var r=t.attrs;return r.className?["div",{class:ei(r.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,r){for(var i=this.context,a=i.view,o=i.toastMark,l=i.schema,s=a.state,f=s.tr,c=s.selection,v=s.doc,y=o.findFirstNodeAtLine(t),k=y;y&&!I0e(y)&&y.parent.type!=="document";)if(y=y.parent,WI(y)){k=y;break}k&&(t=k.sourcepos[0][0]);var x=Ll.exec(to(v,t)),R=x[1],d=x[3],h=R.length,w=y4(v,l,t,Number(d),h),A=w.line,D=w.nodes;r=Math.max(r,A-1);for(var I=Q0(v,t-1).startOffset,O=t-1;O<=r-1;O+=1){var F=v.child(O),$=F.nodeSize,z=F.content,ee=f.mapping.map(I),me=ee+z.size;f.replaceWith(ee,me,D[O-t+1]),I+=$}var ie=Tr(f,c.from,c.to);a.dispatch(f.setSelection(ie))},e.prototype.indent=function(t){var r=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.schema,l=i.selection,s=i.doc,f=Qr(l),c=f.from,v=f.to,y=f.startFromOffset,k=f.startIndex,x=f.endIndex;if(t&&SD(s,o,l))return!1;var R=Fu(s,k);if(t&&TD(c,v,R)||!t&&Zc.test(R)){var d=X0({state:i,from:y,startIndex:k,endIndex:x,createText:function(w){return"    "+w}}),h={type:"indent",from:c,to:v,lineLen:x-k};a(d.setSelection(ED(d,h))),Ll.test(R)&&r.reorderList(k+1,x+1)}else t&&a(i.tr.insert(v,ki(o,"    ")));return!0}}},e.prototype.outdent=function(t){var r=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.selection,l=i.doc,s=i.schema,f=Qr(o),c=f.from,v=f.to,y=f.startFromOffset,k=f.startIndex,x=f.endIndex;if(t&&SD(l,s,o))return!1;var R=Fu(l,k);if(t&&TD(c,v,R)||!t&&Zc.test(R)){var d=[],h=X0({state:i,from:y,startIndex:k,endIndex:x,createText:function(O){var F=_D.exec(O);return d.push(F?F[1].length:0),O.replace(_D,"$2")}}),w={type:"outdent",from:c,to:v,spaceLenList:d};a(h.setSelection(ED(h,w))),Ll.test(R)&&r.reorderList(k+1,x+1)}else if(t){var A=R.slice(0,v-y),D=A.replace(/\s{1,4}$/,""),I=v-(A.length-D.length);a(i.tr.delete(I,v))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(r,i){var a=t.context.view,o=Qr(r.selection),l=o.startFromOffset,s=o.endToOffset,f=function(){return i(r.tr.deleteRange(l,s)),!0};return I1(f,LI)(r,i,a)}},e.prototype.moveDown=function(){return function(t,r){var i=t.doc,a=t.tr,o=t.selection,l=t.schema,s=Qr(o),f=s.startFromOffset,c=s.endToOffset,v=s.endIndex;if(v<i.content.childCount-1){var y=i.child(v+1),k=y.nodeSize,x=y.textContent;return a.delete(c,c+k).split(f).insert(a.mapping.map(f)-2,ki(l,x)),r(a),!0}return!1}},e.prototype.moveUp=function(){return function(t,r){var i=t.tr,a=t.doc,o=t.selection,l=t.schema,s=Qr(o),f=s.startFromOffset,c=s.endToOffset,v=s.startIndex;if(v>0){var y=a.child(v-1),k=y.nodeSize,x=y.textContent;return i.delete(f-k,f).split(i.mapping.map(c)).insert(i.mapping.map(c),ki(l,x)),r(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(yr),lye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(yr),uye=/^#{1,6}\s/,cye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var r=t.attrs,i=r.level,a=r.seText,o="heading|heading"+i;return a&&(o+="|delimiter|setext"),["span",{class:ei.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,r,i){for(var a=r.replace(i,"").trim(),o="";t>0;)o+="#",t-=1;return o+" "+a},e.prototype.commands=function(){var t=this;return function(r){return function(i,a){var o=r.level,l=Qr(i.selection),s=l.startFromOffset,f=l.endToOffset,c=l.startIndex,v=l.endIndex,y=X0({state:i,from:s,startIndex:c,endIndex:v,createText:function(k){var x=k.match(uye),R=x?x[0]:"";return t.createHeadingText(o,k,R)}});return a(y.setSelection(Tr(y,y.mapping.map(f)))),!0}}},e}(Sr),fT="```",fye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){var i=t.selection,a=t.schema,o=t.tr,l=Qr(i),s=l.startFromOffset,f=l.endToOffset,c=ki(a,fT);return o.insert(s,c).split(s+fT.length),o.split(o.mapping.map(f)).insert(o.mapping.map(f),c),r(o.setSelection(Tr(o,o.mapping.map(f)-(fT.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(r,i){var a=r.selection,o=r.tr,l=r.doc,s=r.schema,f=t.context.toastMark,c=Qr(a),v=c.startFromOffset,y=c.endToOffset,k=c.endIndex,x=c.from,R=c.to,d=Fu(l,k);if(x===R&&d.trim()){var h=d.match(/^\s+/),w=f.findFirstNodeAtLine(k+1);if(R0e(w)&&h){var A=h[0],D=d.slice(R-v),I=ki(s,A+D);return VE(o,y,D,I),i(o),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(Sr),dye=/\||\s/g;function hye(n){return[t1(n),t1(n,!0)]}function pye(n,e){for(var t=[],r=0;r<e;r+=1)t.push(t1(n));return t}function t1(n,e){for(var t="|",r=0;r<n;r+=1)t+=e?" --- |":"  |";return t}function vye(n){return n?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var gye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(r,i){var a=r.selection,o=r.doc,l=r.tr,s=r.schema;if(!a.empty)return!1;var f=Qr(a),c=f.endFromOffset,v=f.endToOffset,y=f.endIndex,k=f.to,x=Fu(o,y),R=[y+1,k-c+1],d=t.context.toastMark.findNodeAtPosition(R),h=Ad(d,function(O){return vD(O)&&(O.parent.type==="tableDelimRow"||O.parent.parent.type==="tableBody")});if(h){var w=!x.replace(dye,"").trim(),A=h.parent,D=A.parent.parent.columns.length,I=t1(D);return w?l.deleteRange(c,v).split(l.mapping.map(v)):l.split(v).insert(l.mapping.map(v),ki(s,I)).setSelection(Tr(l,l.mapping.map(v)-2)),i(l),!0}return!1}},e.prototype.moveTableCell=function(t){var r=this;return function(i,a){var o=i.selection,l=i.tr,s=Qr(o),f=s.endFromOffset,c=s.endIndex,v=s.to,y=[c+1,v-f],k=r.context.toastMark.findNodeAtPosition(y),x=Ad(k,function(F){return vD(F)});if(x){var R=x.parent,d=vye(t),h=d.type,w=d.parentType,A=d.childType,D=Ou(x);if(x[h])D=Ou(x[h])-1;else{var I=!R[h]&&R.parent.type===w?R.parent[h][A]:R[h];if(h==="next"){var O=I?Ou(I[A]):0;D+=O+2}else h==="prev"&&(D=I?-4:0)}return a(l.setSelection(Tr(l,f+D))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(r,i){var a=r.selection,o=r.tr,l=r.schema,s=t,f=s.columnCount,c=s.rowCount,v=Qr(a).endToOffset,y=hye(f),k=pye(f,c-1),x=Oa(Oa([],y),k);return x.forEach(function(R){o.split(o.mapping.map(v)).insert(o.mapping.map(v),ki(l,R))}),i(o.setSelection(Tr(o,v+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(Sr),mye="***",yye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,r){var i=t.selection,a=t.schema,o=t.tr,l=Qr(i),s=l.from,f=l.to,c=l.endToOffset,v=ki(a,mye);return o.split(s).replaceWith(o.mapping.map(s),o.mapping.map(f),v).split(o.mapping.map(f)).setSelection(Tr(o,o.mapping.map(c))),r(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Sr);function bye(n,e){var t=n.type,r=n.sourcepos,i=r[0][0];return e<=i&&(t==="codeBlock"||t==="heading"||t.match("table"))}var wye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var r=t.attrs,i=r.odd,a=r.even,o=r.listStyle,l="list-item";return o&&(l+="|list-item-style"),i&&(l+="|list-item-odd"),a&&(l+="|list-item-even"),["span",{class:ei.apply(void 0,l.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(r,i){var a=r.selection,o=r.doc,l=r.schema,s=r.tr,f=t.context.toastMark,c=Qr(a),v=c.to,y=c.startFromOffset,k=c.endFromOffset,x=c.endIndex,R=c.endToOffset,d=Fu(o,x),h=Zc.test(d);if(!h||a.from===y||!a.empty)return!1;var w=!d.replace(e1,"").trim();if(w)s.deleteRange(k,R).split(s.mapping.map(R));else{var A=XE(d),D=f.findFirstNodeAtLine(x+1),I=d.slice(v-k),O={toastMark:f,mdNode:D,doc:o,line:x+1},F=oye[A](O),$=F.listSyntax,z=F.changedResults;if(z!=null&&z.length){s.split(v),z.unshift({text:$+I,line:x+1}),t.changeToListPerLine(s,z,{from:v,startLine:z[0].line,endLine:Ui(z).line});var ee=s.mapping.map(R)-I.length;s.setSelection(Tr(s,ee))}else{var me=ki(l,$+I);VE(s,R,I,me)}}return i(s),!0}},e.prototype.toList=function(t){var r=this;return function(){return function(i,a){for(var o=i.doc,l=i.tr,s=i.selection,f=r.context.toastMark,c=Qr(s),v=c.startIndex+1,y=c.endIndex+1,k=c.endToOffset,x=[],R=v;R<=y;R+=1){var d=f.findFirstNodeAtLine(R);if(d&&bye(d,R))break;if(x.indexOf(R)===-1){var h={toastMark:f,mdNode:d,doc:o,line:R,startLine:v},w=(Gc(d)?iye[t](h):aye[t](h)).changedResults,A=r.changeToListPerLine(l,w,{from:Q0(o,w[0].line-1).startOffset,startLine:w[0].line,endLine:Ui(w).line,indexDiff:1});k=Math.max(A,k),w&&(x=x.concat(w.map(function(D){return D.line})))}}return a(l.setSelection(Tr(l,l.mapping.map(k)))),!0}}},e.prototype.changeToListPerLine=function(t,r,i){for(var a=i.from,o=i.startLine,l=i.endLine,s=i.indexDiff,f=s===void 0?0:s,c=0,v=function(x){var R=t.doc.child(x),d=R.nodeSize,h=R.content,w=t.mapping.map(a),A=w+h.size,D=r.filter(function(I){return I.line-f===x})[0];D&&(t.replaceWith(w,A,ki(y.context.schema,D.text)),c=Math.max(c,a+h.size)),a+=d},y=this,k=o-f;k<=l-f;k+=1)v(k);return c},e.prototype.toggleTask=function(){var t=this;return function(r,i){for(var a=r.selection,o=r.tr,l=r.doc,s=r.schema,f=t.context.toastMark,c=Qr(a),v=c.startIndex,y=c.endIndex,k=null,x=v;x<=y;x+=1){var R=f.findFirstNodeAtLine(x+1);if(Gc(R)&&R.listData.task){var d=R.listData,h=d.checked,w=d.padding,A=h?" ":"x",D=R.sourcepos[0],I=Q0(l,D[0]-1).startOffset;I+=D[1]+w,k=o.replaceWith(I,I+1,s.text(A))}}return k?(i(k),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),r=this.toList("ordered")(),i=this.toList("task")(),a=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":r,"Mod-O":r,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":a,"Shift-Ctrl-X":a,Enter:this.extendList()}},e}(Sr);function U1(n,e){return function(){return function(t,r){var i=t.tr,a=t.selection,o=Lo(n)?n:function(A){return n.test(A)},l=e.length,s=i.doc,f=d4(a),c=f[0],v=f[1],y=Math.max(c-l,1),k=Math.min(v+l,s.content.size-1),x=a.content(),R=x.content.textBetween(0,x.content.size,`
`),d=s.textBetween(y,c,`
`),h=s.textBetween(v,k,`
`);if(R=""+d+R+h,d&&h&&o(R))i.delete(k-l,k).delete(y,y+l);else{i.insertText(e,v).insertText(e,c);var w=a.empty?Tr(i,c+l):Tr(i,c+l,v+l);i.setSelection(w)}return r(i),!0}}}var Cye=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,xye="**",kye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return U1(Cye,xye)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(Sr),_ye=/^(~{2}).*([\s\S]*)\1$/m,Tye="~~",Sye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return U1(_ye,Tye)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(Sr),Eye=/^(\*|_).*([\s\S]*)\1$/m,Aye="*",Mye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return U1(Eye,Aye)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(Sr),Nye=/^(`).*([\s\S]*)\1$/m,Dye="`",Lye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var r=t.attrs,i=r.start,a=r.end,o=r.marked,l="code";return i&&(l+="|delimiter|start"),a&&(l+="|delimiter|end"),o&&(l+="|marked-text"),["span",{class:ei.apply(void 0,l.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return U1(Nye,Dye)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(Sr),Oye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var r=t.attrs,i=r.url,a=r.desc,o="link";return i&&(o+="|link-url|marked-text"),a&&(o+="|link-desc|marked-text"),["span",{class:ei.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(r){return function(i,a){var o=i.selection,l=i.tr,s=i.schema,f=d4(o),c=f[0],v=f[1],y=r,k=y.linkText,x=y.altText,R=y.linkUrl,d=y.imageUrl,h=k,w=R,A="";return t==="image"&&(h=x,w=d,A="!"),h=Z0(h),A+="["+h+"]("+w+")",a(l.replaceWith(c,v,ki(s,A))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(Sr),Rye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(Sr),Iye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(Sr),Bye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("meta")},0]}}},enumerable:!1,configurable:!0}),e}(Sr),Pye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(Sr),Fye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(Sr),zye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("html")},0]}}},enumerable:!1,configurable:!0}),e}(Sr),dT="$$",Hye=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:ei("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(r,i){var a=r.selection,o=r.schema,l=r.tr,s=Qr(a),f=s.startFromOffset,c=s.endToOffset;if(!(t!=null&&t.info))return!1;var v=""+dT+t.info,y=ki(o,v),k=ki(o,dT);return l.insert(f,y).split(f+v.length),l.split(l.mapping.map(c)).insert(l.mapping.map(c),k),i(l.setSelection(Tr(l,l.mapping.map(c)-(dT.length+2)))),!0}}},e}(Sr),qye=/x|backspace/i,Uye=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function Vye(n){var e=n.schema,t=n.toastMark;return new Ra({props:{handleDOMEvents:{keyup:function(r,i){var a,o=r.state,l=o.doc,s=o.tr,f=o.selection;if(f.empty&&qye.test(i.key)){var c=Qr(f),v=c.startIndex,y=c.startFromOffset,k=c.from,x=[v+1,k-y+1],R=t.findNodeAtPosition(x),d=Ad(R,function(me){var ie;return me.type==="paragraph"&&((ie=me.parent)===null||ie===void 0?void 0:ie.type)==="item"});if(!((a=d==null?void 0:d.firstChild)===null||a===void 0)&&a.literal){var h=d.firstChild,w=h.literal.match(Uye);if(w){var A=h.sourcepos[0],D=w[1],I=w[2],O=w[3],F=D.length+O.length,$=Q0(l,A[0]-1).startOffset,z=A[1]+$;if(I){var ee=F?F+1:0;s.replaceWith(z,ee+z,e.text(I)),r.dispatch(s)}else F||(s.insertText(" ",z),r.dispatch(s))}}}return!1}}}})}var hT="cut",AD=/\r\n|\n|\r/,$ye=function(n){zt(e,n);function e(t,r){var i=n.call(this,t)||this,a=r.toastMark,o=r.useCommandShortcut,l=o===void 0?!0:o,s=r.mdPlugins,f=s===void 0?[]:s;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=a,i.extraPlugins=f,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(l),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(rt(rt({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(c){return i.toggleActive(!0,c)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(t,r){WE(this.el,"active",t),t?r||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=Vt("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(r){var i=r.clipboardData||window.clipboardData,a=i&&i.items;if(a){var o=Zs(a).some(function(s){return s.kind==="string"&&s.type==="text/rtf"});if(!o){var l=s4(a);l&&(r.preventDefault(),ZE(t.eventEmitter,l,r.type))}}}),this.clipboard.addEventListener("input",function(r){var i=r.target.value;t.replaceSelection(i),r.preventDefault(),r.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new f4([new K1e,new sye,new u4,new lye,new cye,new J1e,new fye,new Hye,new gye,new Fye,new yye,new wye,new kye,new Sye,new Mye,new Lye,new Oye,new Iye,new Rye,new Pye,new Bye,new zye])},e.prototype.createPlugins=function(){return Oa([F1e(this.context),Z1e(this.context),Vye(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new ME(this.el,{state:this.createState(),dispatchTransaction:function(r){t.updateMarkdown(r);var i=t.view.state.applyTransaction(r).state;t.view.updateState(i),t.emitChangeEvent(r)},handleKeyDown:function(r,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,i),!1},handleDOMEvents:{copy:function(r,i){return t.captureCopy(i)},cut:function(r,i){return t.captureCopy(i,hT)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(r,i){return t.eventEmitter.emit("keyup",t.editorType,i),!1}},nodeViews:{widget:l4}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,r){t.preventDefault();var i=this.view.state,a=i.selection,o=i.tr;if(a.empty)return!0;var l=this.getChanged(a.content());return t.clipboardData?t.clipboardData.setData("text/plain",l):window.clipboardData.setData("Text",l),r===hT&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",hT)),!0},e.prototype.updateMarkdown=function(t){var r=this;t.docChanged&&t.steps.forEach(function(i,a){if(i.slice&&!(i instanceof oi)){var o=t.docs[a],l=[i.from,i.to],s=l[0],f=l[1],c=u0(o,s,f),v=c[0],y=c[1],k=r.getChanged(i.slice);v[0]===y[0]&&v[1]===y[1]&&k===""&&(k=`
`);var x=r.toastMark.editMarkdown(v,y,k);r.eventEmitter.emit("updatePreview",x),t.setMeta("editResult",x).scrollIntoView()}})},e.prototype.getChanged=function(t){var r="",i=0,a=t.content.size;return t.content.nodesBetween(i,a,function(o,l){o.isText?r+=o.text.slice(Math.max(i,l)-l,a-l):o.isBlock&&l>0&&(r+=`
`)}),r},e.prototype.setSelection=function(t,r){r===void 0&&(r=t);var i=this.view.state.tr,a=_c(i.doc,t,r),o=a[0],l=a[1];this.view.dispatch(i.setSelection(Tr(i,o,l)).scrollIntoView())},e.prototype.replaceSelection=function(t,r,i){var a,o=this.view.state,l=o.tr,s=o.schema,f=o.doc,c=t.split(AD),v=c.map(function(d){return J0(s,Fc(d,s))}),y=new Ot(gt.from(v),1,1);if(this.focus(),r&&i){var k=_c(f,r,i),x=k[0],R=k[1];a=l.replaceRange(x,R,y)}else a=l.replaceSelection(y);this.view.dispatch(a.scrollIntoView())},e.prototype.deleteSelection=function(t,r){var i,a=this.view.state,o=a.tr,l=a.doc;if(t&&r){var s=_c(l,t,r),f=s[0],c=s[1];i=o.deleteRange(f,c)}else i=o.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(t,r){var i=this.view.state,a=i.doc,o=i.selection,l=o.from,s=o.to;if(t&&r){var f=_c(a,t,r);l=f[0],s=f[1]}return a.textBetween(l,s,`
`)},e.prototype.getSelection=function(){var t=this.view.state.selection,r=t.from,i=t.to;return u0(this.view.state.tr.doc,r,i)},e.prototype.setMarkdown=function(t,r){r===void 0&&(r=!0);var i=t.split(AD),a=this.view.state,o=a.tr,l=a.doc,s=a.schema,f=i.map(function(c){return J0(s,Fc(c,s))});this.view.dispatch(o.replaceWith(0,l.content.size,f)),r&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,r,i){var a=this.view.state,o=a.tr,l=a.doc,s=a.selection,f=i?_c(l,i,i)[0]:s.to;this.view.dispatch(o.setMeta("widget",{pos:f,node:t,style:r}))},e.prototype.replaceWithWidget=function(t,r,i){var a=this.view.state,o=a.tr,l=a.schema,s=a.doc,f=_c(s,t,r),c=Fc(i,l);this.view.dispatch(o.replaceWith(f[0],f[1],c))},e.prototype.getRangeInfoOfNode=function(t){var r=this.view.state,i=r.doc,a=r.selection,o=t||u0(i,a.from)[0],l=this.toastMark.findNodeAtPosition(o);return l.type==="text"&&l.parent.type!=="paragraph"&&(l=l.parent),l.sourcepos[1][1]+=1,{range:l.sourcepos,type:l.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(t){return z1(t)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(c4),MD="_feEventKey";function Wye(n,e){var t=n[MD],r;return t||(t=n[MD]={}),r=t[e],r||(r=t[e]=[]),r}var b4=Wye,Gye=ql,n1=B1,jye=b4;function Yye(n,e,t){if(Gye(e)){n1(e.split(/\s+/g),function(r){ND(n,r,t)});return}n1(e,function(r,i){ND(n,i,r)})}function ND(n,e,t){var r=jye(n,e),i;t?(n1(r,function(a,o){return t===a.handler?(DD(n,e,a.wrappedHandler),i=o,!1):!0}),r.splice(i,1)):(n1(r,function(a){DD(n,e,a.wrappedHandler)}),r.splice(0,r.length))}function DD(n,e,t){"removeEventListener"in n?n.removeEventListener(e,t):"detachEvent"in n&&n.detachEvent("on"+e,t)}var w4=Yye,Zye=ql,ES=B1,Kye=b4;function Jye(n,e,t,r){if(Zye(e)){ES(e.split(/\s+/g),function(i){LD(n,i,t,r)});return}ES(e,function(i,a){LD(n,a,i,t)})}function LD(n,e,t,r){function i(a){t.call(r||n,a||window.event)}"addEventListener"in n?n.addEventListener(e,i):"attachEvent"in n&&n.attachEvent("on"+e,i),Xye(n,e,t,i)}function Xye(n,e,t,r){var i=Kye(n,e),a=!1;ES(i,function(o){return o.handler===t?(a=!0,!1):!0}),a||i.push({handler:t,wrappedHandler:r})}var C4=Jye;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AS=function(n,e){return AS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},AS(n,e)};function Io(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");AS(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var wi=function(){return wi=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},wi.apply(this,arguments)};function MS(n,e,t){if(arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},OD={};function Qye(n){var e,t,r=OD[n];if(r)return r;for(r=OD[n]=[],e=0;e<128;e++)t=String.fromCharCode(e),/^[0-9a-z]$/i.test(t)?r.push(t):r.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<n.length;e++)r[n.charCodeAt(e)]=n[e];return r}function V1(n,e,t){var r,i,a,o,l,s="";for(typeof e!="string"&&(t=e,e=V1.defaultChars),typeof t>"u"&&(t=!0),l=Qye(e),r=0,i=n.length;r<i;r++){if(a=n.charCodeAt(r),t&&a===37&&r+2<i&&/^[0-9a-f]{2}$/i.test(n.slice(r+1,r+3))){s+=n.slice(r,r+3),r+=2;continue}if(a<128){s+=l[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&r+1<i&&(o=n.charCodeAt(r+1),o>=56320&&o<=57343)){s+=encodeURIComponent(n[r]+n[r+1]),r++;continue}s+="%EF%BF%BD";continue}s+=encodeURIComponent(n[r])}return s}V1.defaultChars=";/?:@&=+$,-_.!~*'()#";V1.componentChars="-_.!~*'()";var ebe=V1,e2={},Ol={},tbe="Ã",nbe="Ã¡",rbe="Ä",ibe="Ä",abe="â¾",obe="â¿",sbe="â¾Ì³",lbe="Ã",ube="Ã¢",cbe="Â´",fbe="Ð",dbe="Ð°",hbe="Ã",pbe="Ã¦",vbe="â¡",gbe="ð",mbe="ð",ybe="Ã",bbe="Ã ",wbe="âµ",Cbe="âµ",xbe="Î",kbe="Î±",_be="Ä",Tbe="Ä",Sbe="â¨¿",Ebe="&",Abe="&",Mbe="â©",Nbe="â©",Dbe="â§",Lbe="â©",Obe="â©",Rbe="â©",Ibe="â ",Bbe="â¦¤",Pbe="â ",Fbe="â¦¨",zbe="â¦©",Hbe="â¦ª",qbe="â¦«",Ube="â¦¬",Vbe="â¦­",$be="â¦®",Wbe="â¦¯",Gbe="â¡",jbe="â",Ybe="â¾",Zbe="â¦",Kbe="â¢",Jbe="Ã",Xbe="â¼",Qbe="Ä",ewe="Ä",twe="ð¸",nwe="ð",rwe="â©¯",iwe="â",awe="â©°",owe="â",swe="â",lwe="'",uwe="â¡",cwe="â",fwe="â",dwe="Ã",hwe="Ã¥",pwe="ð",vwe="ð¶",gwe="â",mwe="*",ywe="â",bwe="â",wwe="Ã",Cwe="Ã£",xwe="Ã",kwe="Ã¤",_we="â³",Twe="â¨",Swe="â",Ewe="Ï¶",Awe="âµ",Mwe="â½",Nwe="â",Dwe="â",Lwe="â«§",Owe="â½",Rwe="â",Iwe="â",Bwe="â",Pwe="âµ",Fwe="â¶",zwe="â",Hwe="Ð",qwe="Ð±",Uwe="â",Vwe="âµ",$we="âµ",Wwe="âµ",Gwe="â¦°",jwe="Ï¶",Ywe="â¬",Zwe="â¬",Kwe="Î",Jwe="Î²",Xwe="â¶",Qwe="â¬",eCe="ð",tCe="ð",nCe="â",rCe="â¯",iCe="â",aCe="â¨",oCe="â¨",sCe="â¨",lCe="â¨",uCe="â",cCe="â½",fCe="â³",dCe="â¨",hCe="â",pCe="â",vCe="â¤",gCe="â§«",mCe="âª",yCe="â´",bCe="â¾",wCe="â",CCe="â¸",xCe="â£",kCe="â",_Ce="â",TCe="â",SCe="â",ECe="=â¥",ACe="â¡â¥",MCe="â«­",NCe="â",DCe="ð¹",LCe="ð",OCe="â¥",RCe="â¥",ICe="â",BCe="â§",PCe="â",FCe="â",zCe="â",HCe="â",qCe="â",UCe="â",VCe="â",$Ce="â",WCe="â",GCe="â",jCe="â¬",YCe="â¤",ZCe="â¥",KCe="â¦",JCe="â´",XCe="â§",QCe="â¨",exe="â©",txe="â",nxe="â",rxe="â ",ixe="â",axe="â",oxe="â",sxe="â",lxe="â",uxe="â",cxe="â",fxe="â",dxe="â",hxe="â",pxe="â¼",vxe="âª",gxe="â«",mxe="â¬",yxe="â¤",bxe="â¡",wxe="â¢",Cxe="â£",xxe="â",kxe="â",_xe="â",Txe="â ",Sxe="âµ",Exe="Ë",Axe="Ë",Mxe="Â¦",Nxe="ð·",Dxe="â¬",Lxe="â",Oxe="â½",Rxe="â",Ixe="â§",Bxe="\\",Pxe="â",Fxe="â¢",zxe="â¢",Hxe="â",qxe="âª®",Uxe="â",Vxe="â",$xe="â",Wxe="Ä",Gxe="Ä",jxe="â©",Yxe="â©",Zxe="â©",Kxe="â©",Jxe="â",Xxe="â©",Qxe="â©",eke="â",tke="â©ï¸",nke="â",rke="Ë",ike="â­",ake="â©",oke="Ä",ske="Ä",lke="Ã",uke="Ã§",cke="Ä",fke="Ä",dke="â°",hke="â©",pke="â©",vke="Ä",gke="Ä",mke="Â¸",yke="Â¸",bke="â¦²",wke="Â¢",Cke="Â·",xke="Â·",kke="ð ",_ke="â­",Tke="Ð§",Ske="Ñ",Eke="â",Ake="â",Mke="Î§",Nke="Ï",Dke="Ë",Lke="â",Oke="âº",Rke="â»",Ike="â",Bke="â",Pke="â",Fke="â",zke="Â®",Hke="â",qke="â",Uke="â",Vke="â",$ke="â",Wke="â§",Gke="â",jke="â¨",Yke="â«¯",Zke="â§",Kke="â²",Jke="â",Xke="â",Qke="â£",e_e="â£",t_e=":",n_e="â·",r_e="â©´",i_e="â",a_e="â",o_e=",",s_e="@",l_e="â",u_e="â",c_e="â",f_e="â",d_e="â",h_e="â©­",p_e="â¡",v_e="â®",g_e="â¯",m_e="â®",y_e="ð",b_e="â",w_e="â",C_e="â",x_e="Â©",k_e="Â©",__e="â",T_e="â³",S_e="âµ",E_e="â",A_e="â¨¯",M_e="ð",N_e="ð¸",D_e="â«",L_e="â«",O_e="â«",R_e="â«",I_e="â¯",B_e="â¤¸",P_e="â¤µ",F_e="â",z_e="â",H_e="â¶",q_e="â¤½",U_e="â©",V_e="â©",$_e="â",W_e="âª",G_e="â",j_e="â©",Y_e="â",Z_e="â©",K_e="âªï¸",J_e="â·",X_e="â¤¼",Q_e="â",eTe="â",tTe="â",nTe="â",rTe="Â¤",iTe="â¶",aTe="â·",oTe="â",sTe="â",lTe="â²",uTe="â±",cTe="â­",fTe="â ",dTe="â¡",hTe="â¸",pTe="â",vTe="â¡",gTe="â",mTe="â",yTe="â«¤",bTe="â£",wTe="â¤",CTe="Ë",xTe="Ä",kTe="Ä",_Te="Ð",TTe="Ð´",STe="â¡",ETe="â",ATe="â",MTe="â",NTe="â¤",DTe="â©·",LTe="Â°",OTe="â",RTe="Î",ITe="Î´",BTe="â¦±",PTe="â¥¿",FTe="ð",zTe="ð¡",HTe="â¥¥",qTe="â",UTe="â",VTe="Â´",$Te="Ë",WTe="Ë",GTe="`",jTe="Ë",YTe="â",ZTe="â",KTe="â",JTe="â¦",XTe="â¦",QTe="Â¨",eSe="â",tSe="Ï",nSe="â²",rSe="Ã·",iSe="Ã·",aSe="â",oSe="â",sSe="Ð",lSe="Ñ",uSe="â",cSe="â",fSe="$",dSe="ð»",hSe="ð",pSe="Â¨",vSe="Ë",gSe="â",mSe="â",ySe="â",bSe="â",wSe="â¸",CSe="â",xSe="â¡",kSe="â",_Se="â¯",TSe="Â¨",SSe="â",ESe="â",ASe="â",MSe="â«¤",NSe="â¸",DSe="âº",LSe="â¹",OSe="â",RSe="â¨",ISe="â",BSe="â",PSe="â¥",FSe="â¤",zSe="â",HSe="â",qSe="â",USe="âµ",VSe="Ì",$Se="â",WSe="â",GSe="â",jSe="â¥",YSe="â¥",ZSe="â¥",KSe="â½",JSe="â¥",XSe="â¥",QSe="â",eEe="â§",tEe="â¤",nEe="â¤",rEe="â",iEe="â",aEe="ð",oEe="ð¹",sEe="Ð",lEe="Ñ",uEe="â§¶",cEe="Ä",fEe="Ä",dEe="â±",hEe="â¿",pEe="â¾",vEe="âµ",gEe="â¥¯",mEe="â¦¦",yEe="Ð",bEe="Ñ",wEe="â¿",CEe="Ã",xEe="Ã©",kEe="â©®",_Ee="Ä",TEe="Ä",SEe="Ã",EEe="Ãª",AEe="â",MEe="â",NEe="Ð­",DEe="Ñ",LEe="â©·",OEe="Ä",REe="Ä",IEe="â",BEe="â",PEe="â",FEe="ð",zEe="ð¢",HEe="âª",qEe="Ã",UEe="Ã¨",VEe="âª",$Ee="âª",WEe="âª",GEe="â",jEe="â§",YEe="â",ZEe="âª",KEe="âª",JEe="Ä",XEe="Ä",QEe="â",e2e="â",t2e="â»",n2e="â",r2e="â«",i2e="â",a2e="â",o2e="â",s2e="Å",l2e="Å",u2e="â",c2e="Ä",f2e="Ä",d2e="ð¼",h2e="ð",p2e="â",v2e="â§£",g2e="â©±",m2e="Îµ",y2e="Î",b2e="Îµ",w2e="Ïµ",C2e="â",x2e="â",k2e="â",_2e="âª",T2e="âª",S2e="â©µ",E2e="=",A2e="â",M2e="â",N2e="â",D2e="â¡",L2e="â©¸",O2e="â§¥",R2e="â¥±",I2e="â",B2e="â¯",P2e="â°",F2e="â",z2e="â©³",H2e="â",q2e="Î",U2e="Î·",V2e="Ã",$2e="Ã°",W2e="Ã",G2e="Ã«",j2e="â¬",Y2e="!",Z2e="â",K2e="â",J2e="â°",X2e="â",Q2e="â",eAe="â",tAe="Ð¤",nAe="Ñ",rAe="â",iAe="ï¬",aAe="ï¬",oAe="ï¬",sAe="ð",lAe="ð£",uAe="ï¬",cAe="â¼",fAe="âª",dAe="fj",hAe="â­",pAe="ï¬",vAe="â±",gAe="Æ",mAe="ð½",yAe="ð",bAe="â",wAe="â",CAe="â",xAe="â«",kAe="â±",_Ae="â¨",TAe="Â½",SAe="â",EAe="Â¼",AAe="â",MAe="â",NAe="â",DAe="â",LAe="â",OAe="Â¾",RAe="â",IAe="â",BAe="â",PAe="â",FAe="â",zAe="â",HAe="â",qAe="â¢",UAe="ð»",VAe="â±",$Ae="Çµ",WAe="Î",GAe="Î³",jAe="Ï",YAe="Ï",ZAe="âª",KAe="Ä",JAe="Ä",XAe="Ä¢",QAe="Ä",eMe="Ä",tMe="Ð",nMe="Ð³",rMe="Ä ",iMe="Ä¡",aMe="â¥",oMe="â§",sMe="âª",lMe="â",uMe="â¥",cMe="â§",fMe="â©¾",dMe="âª©",hMe="â©¾",pMe="âª",vMe="âª",gMe="âª",mMe="âï¸",yMe="âª",bMe="ð",wMe="ð¤",CMe="â«",xMe="â",kMe="â",_Me="â·",TMe="Ð",SMe="Ñ",EMe="âª¥",AMe="â·",MMe="âª",NMe="âª¤",DMe="âª",LMe="âª",OMe="âª",RMe="â©",IMe="âª",BMe="â©",PMe="â§",FMe="ð¾",zMe="ð",HMe="`",qMe="â¥",UMe="â",VMe="â§",$Me="âª¢",WMe="â·",GMe="â©¾",jMe="â³",YMe="ð¢",ZMe="â",KMe="â³",JMe="âª",XMe="âª",QMe="âª§",eNe="â©º",tNe=">",nNe=">",rNe="â«",iNe="â",aNe="â¦",oNe="â©¼",sNe="âª",lNe="â¥¸",uNe="â",cNe="â",fNe="âª",dNe="â·",hNe="â³",pNe="â©ï¸",vNe="â©ï¸",gNe="Ë",mNe="â",yNe="Â½",bNe="â",wNe="Ðª",CNe="Ñ",xNe="â¥",kNe="â",_Ne="â",TNe="â­",SNe="^",ENe="â",ANe="Ä¤",MNe="Ä¥",NNe="â¥",DNe="â¥",LNe="â¦",ONe="â¹",RNe="ð¥",INe="â",BNe="â",PNe="â¤¥",FNe="â¤¦",zNe="â¿",HNe="â»",qNe="â©",UNe="âª",VNe="ð",$Ne="â",WNe="â",GNe="â",jNe="ð½",YNe="â",ZNe="â",KNe="Ä¦",JNe="Ä§",XNe="â",QNe="â",eDe="â",tDe="â",nDe="Ã",rDe="Ã­",iDe="â£",aDe="Ã",oDe="Ã®",sDe="Ð",lDe="Ð¸",uDe="Ä°",cDe="Ð",fDe="Ðµ",dDe="Â¡",hDe="â",pDe="ð¦",vDe="â",gDe="Ã",mDe="Ã¬",yDe="â",bDe="â¨",wDe="â­",CDe="â§",xDe="â©",kDe="Ä²",_De="Ä³",TDe="Äª",SDe="Ä«",EDe="â",ADe="â",MDe="â",NDe="â",DDe="Ä±",LDe="â",ODe="â·",RDe="Æµ",IDe="â",BDe="â",PDe="â",FDe="â§",zDe="Ä±",HDe="âº",qDe="â«",UDe="â¬",VDe="â¤",$De="â«",WDe="âº",GDe="â",jDe="â¨",YDe="â¨¼",ZDe="â£",KDe="â¢",JDe="Ð",XDe="Ñ",QDe="Ä®",eLe="Ä¯",tLe="ð",nLe="ð",rLe="Î",iLe="Î¹",aLe="â¨¼",oLe="Â¿",sLe="ð¾",lLe="â",uLe="â",cLe="âµ",fLe="â¹",dLe="â´",hLe="â³",pLe="â",vLe="â¢",gLe="Ä¨",mLe="Ä©",yLe="Ð",bLe="Ñ",wLe="Ã",CLe="Ã¯",xLe="Ä´",kLe="Äµ",_Le="Ð",TLe="Ð¹",SLe="ð",ELe="ð§",ALe="È·",MLe="ð",NLe="ð",DLe="ð¥",LLe="ð¿",OLe="Ð",RLe="Ñ",ILe="Ð",BLe="Ñ",PLe="Î",FLe="Îº",zLe="Ï°",HLe="Ä¶",qLe="Ä·",ULe="Ð",VLe="Ðº",$Le="ð",WLe="ð¨",GLe="Ä¸",jLe="Ð¥",YLe="Ñ",ZLe="Ð",KLe="Ñ",JLe="ð",XLe="ð",QLe="ð¦",eOe="ð",tOe="â",nOe="Ä¹",rOe="Äº",iOe="â¦´",aOe="â",oOe="Î",sOe="Î»",lOe="â¨",uOe="âª",cOe="â¦",fOe="â¨",dOe="âª",hOe="â",pOe="Â«",vOe="â¤",gOe="â¤",mOe="â",yOe="â",bOe="â",wOe="â¤",COe="â©",xOe="â«",kOe="â¤¹",_Oe="â¥³",TOe="â¢",SOe="â¤",EOe="â¤",AOe="âª«",MOe="âª­",NOe="âª­ï¸",DOe="â¤",LOe="â¤",OOe="â²",ROe="{",IOe="[",BOe="â¦",POe="â¦",FOe="â¦",zOe="Ä½",HOe="Ä¾",qOe="Ä»",UOe="Ä¼",VOe="â",$Oe="{",WOe="Ð",GOe="Ð»",jOe="â¤¶",YOe="â",ZOe="â",KOe="â¥§",JOe="â¥",XOe="â²",QOe="â¤",e3e="â¦",t3e="â¨",n3e="â¤",r3e="â",i3e="â",a3e="â",o3e="â",s3e="â¢",l3e="â",u3e="â¦",c3e="â¥¡",f3e="â¥",d3e="â",h3e="â",p3e="â½",v3e="â¼",g3e="â",m3e="â",y3e="â",b3e="â",w3e="â",C3e="â",x3e="â­",k3e="â¥",_3e="â¤",T3e="â£",S3e="â¥",E3e="â",A3e="â§",M3e="â²",N3e="â´",D3e="â¥",L3e="â¥ ",O3e="â¥",R3e="â¿",I3e="â¥",B3e="â¼",P3e="âª",F3e="â",z3e="â¤",H3e="â¦",q3e="â©½",U3e="âª¨",V3e="â©½",$3e="â©¿",W3e="âª",G3e="âª",j3e="âï¸",Y3e="âª",Z3e="âª",K3e="â",J3e="â",X3e="âª",Q3e="â",eRe="â¦",tRe="â¶",nRe="â¶",rRe="âª¡",iRe="â²",aRe="â©½",oRe="â²",sRe="â¥¼",lRe="â",uRe="ð",cRe="ð©",fRe="â¶",dRe="âª",hRe="â¥¢",pRe="â½",vRe="â¼",gRe="â¥ª",mRe="â",yRe="Ð",bRe="Ñ",wRe="â",CRe="âª",xRe="â",kRe="â",_Re="â",TRe="â¥«",SRe="âº",ERe="Ä¿",ARe="Å",MRe="â°",NRe="â°",DRe="âª",LRe="âª",ORe="âª",RRe="â¨",IRe="âª",BRe="â¨",PRe="â¦",FRe="â¬",zRe="â½",HRe="â¦",qRe="âµ",URe="âµ",VRe="â¸",$Re="â·",WRe="â·",GRe="âº",jRe="â¼",YRe="â¶",ZRe="â¶",KRe="â¹",JRe="â«",XRe="â¬",QRe="â¦",eIe="ð",tIe="ð",nIe="â¨­",rIe="â¨´",iIe="â",aIe="_",oIe="â",sIe="â",lIe="â",uIe="â",cIe="â§«",fIe="(",dIe="â¦",hIe="â",pIe="â",vIe="â",gIe="â¥­",mIe="â",yIe="â¿",bIe="â¹",wIe="ð",CIe="â",xIe="â°",kIe="â°",_Ie="â²",TIe="âª",SIe="âª",EIe="[",AIe="â",MIe="â",NIe="Å",DIe="Å",LIe="âª¦",OIe="â©¹",RIe="<",IIe="<",BIe="âª",PIe="â",FIe="â",zIe="â",HIe="â¥¶",qIe="â©»",UIe="â",VIe="â´",$Ie="â",WIe="â¦",GIe="â¥",jIe="â¥¦",YIe="â¨ï¸",ZIe="â¨ï¸",KIe="Â¯",JIe="â",XIe="â ",QIe="â ",e4e="â¦",t4e="â¦",n4e="â§",r4e="â¤",i4e="â¥",a4e="â®",o4e="â¨©",s4e="Ð",l4e="Ð¼",u4e="â",c4e="âº",f4e="â¡",d4e="â",h4e="â³",p4e="ð",v4e="ðª",g4e="â§",m4e="Âµ",y4e="*",b4e="â«°",w4e="â£",C4e="Â·",x4e="â",k4e="â",_4e="â¸",T4e="â¨ª",S4e="â",E4e="â«",A4e="â¦",M4e="â",N4e="â§",D4e="ð",L4e="ð",O4e="â",R4e="ð",I4e="â³",B4e="â¾",P4e="Î",F4e="Î¼",z4e="â¸",H4e="â¸",q4e="â",U4e="Å",V4e="Å",$4e="â â",W4e="â",G4e="â©°Ì¸",j4e="âÌ¸",Y4e="Å",Z4e="â",K4e="â®",J4e="â",X4e="â®",Q4e="Â ",e5e="âÌ¸",t5e="âÌ¸",n5e="â©",r5e="Å",i5e="Å",a5e="Å",o5e="Å",s5e="â",l5e="â©­Ì¸",u5e="â©",c5e="Ð",f5e="Ð½",d5e="â",h5e="â¤¤",p5e="â",v5e="â",g5e="â",m5e="â ",y5e="âÌ¸",b5e="â",w5e="â",C5e="â",x5e="â",k5e="â¢",_5e="â¤¨",T5e="âÌ¸",S5e="â«",E5e="âª",A5e=`
`,M5e="â",N5e="â",D5e="ð",L5e="ð«",O5e="â§Ì¸",R5e="â±",I5e="â±",B5e="â§Ì¸",P5e="â©¾Ì¸",F5e="â©¾Ì¸",z5e="âÌ¸",H5e="âµ",q5e="â«â",U5e="â¯",V5e="â¯",$5e="â«Ì¸",W5e="â®",G5e="â",j5e="â«²",Y5e="â",Z5e="â¼",K5e="âº",J5e="â",X5e="Ð",Q5e="Ñ",eBe="â",tBe="â",nBe="â¥",rBe="â¦Ì¸",iBe="â°",aBe="â",oBe="â",sBe="â®",lBe="â",uBe="â°",cBe="â¦Ì¸",fBe="â©½Ì¸",dBe="â©½Ì¸",hBe="â®",pBe="âÌ¸",vBe="â´",gBe="âªâ",mBe="â®",yBe="âª",bBe="â¬",wBe="âªÌ¸",CBe="â¤",xBe="â ",kBe="Â ",_Be="ð",TBe="â",SBe="â«¬",EBe="Â¬",ABe="â¢",MBe="â­",NBe="â¦",DBe="â",LBe="â ",OBe="âÌ¸",RBe="â",IBe="â¯",BBe="â±",PBe="â§Ì¸",FBe="â«Ì¸",zBe="â¹",HBe="â©¾Ì¸",qBe="âµ",UBe="âÌ¸",VBe="âÌ¸",$Be="â",WBe="âµÌ¸",GBe="â¹Ì¸",jBe="â",YBe="â·",ZBe="â¶",KBe="â§Ì¸",JBe="âª",XBe="â¬",QBe="â®",ePe="â°",tPe="â¸",nPe="âªÌ¸",rPe="â©½Ì¸",iPe="â´",aPe="âª¢Ì¸",oPe="âª¡Ì¸",sPe="â",lPe="â",uPe="â¾",cPe="â½",fPe="â",dPe="âª¯Ì¸",hPe="â ",pPe="â",vPe="â§Ì¸",gPe="â«",mPe="â­",yPe="âÌ¸",bPe="â¢",wPe="âÌ¸",CPe="â£",xPe="ââ",kPe="â",_Pe="â",TPe="âª°Ì¸",SPe="â¡",EPe="â¿Ì¸",APe="ââ",MPe="â",NPe="â",DPe="â",LPe="â",OPe="â",RPe="â¤",IPe="â¦",BPe="â¦",PPe="â«½â¥",FPe="âÌ¸",zPe="â¨",HPe="â",qPe="â ",UPe="â",VPe="âª¯Ì¸",$Pe="âª¯Ì¸",WPe="â¤³Ì¸",GPe="â",jPe="â",YPe="âÌ¸",ZPe="â",KPe="â",JPe="â«",XPe="â­",QPe="â",e7e="â¡",t7e="âª°Ì¸",n7e="ð©",r7e="ð",i7e="â¤",a7e="â¦",o7e="â",s7e="â",l7e="â",u7e="â¤",c7e="â¦",f7e="â¢",d7e="â£",h7e="â",p7e="â«Ì¸",v7e="â",g7e="ââ",m7e="â",y7e="â«Ì¸",b7e="â",w7e="âª°Ì¸",C7e="â",x7e="â«Ì¸",k7e="â",_7e="ââ",T7e="â",S7e="â«Ì¸",E7e="â¹",A7e="Ã",M7e="Ã±",N7e="â¸",D7e="âª",L7e="â¬",O7e="â«",R7e="â­",I7e="Î",B7e="Î½",P7e="#",F7e="â",z7e="â",H7e="ââ",q7e="â¬",U7e="â­",V7e="â®",$7e="â¯",W7e="â¥â",G7e=">â",j7e="â¤",Y7e="â§",Z7e="â¤",K7e="â¤â",J7e="<â",X7e="â´â",Q7e="â¤",e6e="âµâ",t6e="â¼â",n6e="â¤£",r6e="â",i6e="â",a6e="â",o6e="â¤§",s6e="Ã",l6e="Ã³",u6e="â",c6e="Ã",f6e="Ã´",d6e="â",h6e="Ð",p6e="Ð¾",v6e="â",g6e="Å",m6e="Å",y6e="â¨¸",b6e="â",w6e="â¦¼",C6e="Å",x6e="Å",k6e="â¦¿",_6e="ð",T6e="ð¬",S6e="Ë",E6e="Ã",A6e="Ã²",M6e="â§",N6e="â¦µ",D6e="Î©",L6e="â®",O6e="âº",R6e="â¦¾",I6e="â¦»",B6e="â¾",P6e="â§",F6e="Å",z6e="Å",H6e="Î©",q6e="Ï",U6e="Î",V6e="Î¿",$6e="â¦¶",W6e="â",G6e="ð",j6e="ð ",Y6e="â¦·",Z6e="â",K6e="â",J6e="â¦¹",X6e="â",Q6e="â»",e8e="â©",t8e="â¨",n8e="â©",r8e="â´",i8e="â´",a8e="Âª",o8e="Âº",s8e="â¶",l8e="â©",u8e="â©",c8e="â©",f8e="â",d8e="ðª",h8e="â´",p8e="Ã",v8e="Ã¸",g8e="â",m8e="Ã",y8e="Ãµ",b8e="â¨¶",w8e="â¨·",C8e="â",x8e="Ã",k8e="Ã¶",_8e="â½",T8e="â¾",S8e="â",E8e="â´",A8e="â",M8e="Â¶",N8e="â¥",D8e="â¥",L8e="â«³",O8e="â«½",R8e="â",I8e="â",B8e="Ð",P8e="Ð¿",F8e="%",z8e=".",H8e="â°",q8e="â¥",U8e="â±",V8e="ð",$8e="ð­",W8e="Î¦",G8e="Ï",j8e="Ï",Y8e="â³",Z8e="â",K8e="Î ",J8e="Ï",X8e="â",Q8e="Ï",eFe="â",tFe="â",nFe="â",rFe="â¨£",iFe="â",aFe="â¨¢",oFe="+",sFe="â",lFe="â¨¥",uFe="â©²",cFe="Â±",fFe="Â±",dFe="â¨¦",hFe="â¨§",pFe="Â±",vFe="â",gFe="â¨",mFe="ð¡",yFe="â",bFe="Â£",wFe="âª·",CFe="âª»",xFe="âº",kFe="â¼",_Fe="âª·",TFe="âº",SFe="â¼",EFe="âº",AFe="âª¯",MFe="â¼",NFe="â¾",DFe="âª¯",LFe="âª¹",OFe="âªµ",RFe="â¨",IFe="âª¯",BFe="âª³",PFe="â¾",FFe="â²",zFe="â³",HFe="â",qFe="âª¹",UFe="âªµ",VFe="â¨",$Fe="â",WFe="â",GFe="â®",jFe="â",YFe="â",ZFe="â",KFe="â",JFe="â·",XFe="â",QFe="â¾",e9e="â°",t9e="ð«",n9e="ð",r9e="Î¨",i9e="Ï",a9e="â",o9e="ð",s9e="ð®",l9e="â¨",u9e="ð¢",c9e="â",f9e="â",d9e="ð¬",h9e="ð",p9e="â",v9e="â¨",g9e="?",m9e="â",y9e='"',b9e='"',w9e="â",C9e="â½Ì±",x9e="Å",k9e="Å",_9e="â",T9e="â¦³",S9e="â©",E9e="â«",A9e="â¦",M9e="â¦¥",N9e="â©",D9e="Â»",L9e="â¥µ",O9e="â¥",R9e="â¤ ",I9e="â¤³",B9e="â",P9e="â ",F9e="â",z9e="â¤",H9e="âª",q9e="â¬",U9e="â¥",V9e="â¥´",$9e="â¤",W9e="â£",G9e="â",j9e="â¤",Y9e="â¤",Z9e="â¶",K9e="â",J9e="â¤",X9e="â¤",Q9e="â¤",eze="â³",tze="}",nze="]",rze="â¦",ize="â¦",aze="â¦",oze="Å",sze="Å",lze="Å",uze="Å",cze="â",fze="}",dze="Ð ",hze="Ñ",pze="â¤·",vze="â¥©",gze="â",mze="â",yze="â³",bze="â",wze="â",Cze="â",xze="â",kze="â",_ze="â­",Tze="Â®",Sze="Â®",Eze="â",Aze="â",Mze="â¥¯",Nze="â¥½",Dze="â",Lze="ð¯",Oze="â",Rze="â¥¤",Ize="â",Bze="â",Pze="â¥¬",Fze="Î¡",zze="Ï",Hze="Ï±",qze="â©",Uze="â¥",Vze="â",$ze="â",Wze="â",Gze="â",jze="â£",Yze="â",Zze="â§",Kze="â¥",Jze="â¥",Xze="â",Qze="â",eHe="â",tHe="â",nHe="â",rHe="â",iHe="â",aHe="â",oHe="â¦",sHe="â¢",lHe="â¥",uHe="â",cHe="â§",fHe="â³",dHe="âµ",hHe="â¥",pHe="â¥",vHe="â¥",gHe="â¾",mHe="â¥",yHe="â",bHe="Ë",wHe="â",CHe="â",xHe="â",kHe="â",_He="â±",THe="â±",SHe="â«®",EHe="â­",AHe="â¾",MHe="â§",NHe="â¦",DHe="ð£",LHe="â",OHe="â¨®",RHe="â¨µ",IHe="â¥°",BHe=")",PHe="â¦",FHe="â¨",zHe="â",HHe="â",qHe="âº",UHe="ð",VHe="â",$He="â±",WHe="â±",GHe="]",jHe="â",YHe="â",ZHe="â",KHe="â",JHe="â¹",XHe="âµ",QHe="â¸",eqe="â§",tqe="â§´",nqe="â¥¨",rqe="â",iqe="Å",aqe="Å",oqe="â",sqe="âª¸",lqe="Å ",uqe="Å¡",cqe="âª¼",fqe="â»",dqe="â½",hqe="âª°",pqe="âª´",vqe="Å",gqe="Å",mqe="Å",yqe="Å",bqe="âªº",wqe="âª¶",Cqe="â©",xqe="â¨",kqe="â¿",_qe="Ð¡",Tqe="Ñ",Sqe="â¡",Eqe="â",Aqe="â©¦",Mqe="â¤¥",Nqe="â",Dqe="â",Lqe="â",Oqe="Â§",Rqe=";",Iqe="â¤©",Bqe="â",Pqe="â",Fqe="â¶",zqe="ð",Hqe="ð°",qqe="â¢",Uqe="â¯",Vqe="Ð©",$qe="Ñ",Wqe="Ð¨",Gqe="Ñ",jqe="â",Yqe="â",Zqe="â£",Kqe="â¥",Jqe="â",Xqe="â",Qqe="Â­",eUe="Î£",tUe="Ï",nUe="Ï",rUe="Ï",iUe="â¼",aUe="â©ª",oUe="â",sUe="â",lUe="âª",uUe="âª ",cUe="âª",fUe="âª",dUe="â",hUe="â¨¤",pUe="â¥²",vUe="â",gUe="â",mUe="â",yUe="â¨³",bUe="â§¤",wUe="â£",CUe="â£",xUe="âªª",kUe="âª¬",_Ue="âª¬ï¸",TUe="Ð¬",SUe="Ñ",EUe="â¿",AUe="â§",MUe="/",NUe="ð",DUe="ð¤",LUe="â ",OUe="â ",RUe="â¥",IUe="â",BUe="âï¸",PUe="â",FUe="âï¸",zUe="â",HUe="â",qUe="â",UUe="â",VUe="â",$Ue="â",WUe="â",GUe="â",jUe="â",YUe="â¡",ZUe="â¡",KUe="â",JUe="â",XUe="â",QUe="â",eVe="â",tVe="â",nVe="âª",rVe="â¡",iVe="âª",aVe="â",oVe="ð®",sVe="ð",lVe="â",uVe="â£",cVe="â",fVe="â",dVe="â",hVe="â",pVe="Ïµ",vVe="Ï",gVe="Â¯",mVe="â",yVe="â",bVe="âª½",wVe="â«",CVe="â",xVe="â«",kVe="â«",_Ve="â«",TVe="â",SVe="âª¿",EVe="â¥¹",AVe="â",MVe="â",NVe="â",DVe="â«",LVe="â",OVe="â",RVe="â«",IVe="â«",BVe="â«",PVe="â«",FVe="âª¸",zVe="â»",HVe="â½",qVe="â»",UVe="âª°",VVe="â½",$Ve="â¿",WVe="âª°",GVe="âªº",jVe="âª¶",YVe="â©",ZVe="â¿",KVe="â",JVe="â",XVe="â",QVe="âª",e$e="Â¹",t$e="Â²",n$e="Â³",r$e="â",i$e="â",a$e="âª¾",o$e="â«",s$e="â«",l$e="â",u$e="â«",c$e="â",f$e="â",d$e="â",h$e="â«",p$e="â¥»",v$e="â«",g$e="â«",m$e="â",y$e="â«",b$e="â",w$e="â",C$e="â",x$e="â«",k$e="â",_$e="â«",T$e="â«",S$e="â«",E$e="â«",A$e="â¤¦",M$e="â",N$e="â",D$e="â",L$e="â¤ª",O$e="Ã",R$e="	",I$e="â",B$e="Î¤",P$e="Ï",F$e="â´",z$e="Å¤",H$e="Å¥",q$e="Å¢",U$e="Å£",V$e="Ð¢",$$e="Ñ",W$e="â",G$e="â",j$e="ð",Y$e="ð±",Z$e="â´",K$e="â´",J$e="â´",X$e="Î",Q$e="Î¸",eWe="Ï",tWe="Ï",nWe="â",rWe="â¼",iWe="ââ",aWe="â",oWe="â",sWe="â",lWe="â¼",uWe="Ã",cWe="Ã¾",fWe="Ë",dWe="â¼",hWe="â",pWe="â",vWe="â",gWe="â¨±",mWe="â ",yWe="Ã",bWe="â¨°",wWe="â­",CWe="â¤¨",xWe="â¶",kWe="â«±",_We="â¤",TWe="ð",SWe="ð¥",EWe="â«",AWe="â¤©",MWe="â´",NWe="â¢",DWe="â¢",LWe="âµ",OWe="â¿",RWe="â",IWe="â´",BWe="â",PWe="â¹",FWe="âµ",zWe="â¬",HWe="â",qWe="â¨º",UWe="â",VWe="â¨¹",$We="â§",WWe="â¨»",GWe="â¢",jWe="ð¯",YWe="ð",ZWe="Ð¦",KWe="Ñ",JWe="Ð",XWe="Ñ",QWe="Å¦",eGe="Å§",tGe="â¬",nGe="â",rGe="â ",iGe="Ã",aGe="Ãº",oGe="â",sGe="â",lGe="â",uGe="â¥",cGe="Ð",fGe="Ñ",dGe="Å¬",hGe="Å­",pGe="Ã",vGe="Ã»",gGe="Ð£",mGe="Ñ",yGe="â",bGe="Å°",wGe="Å±",CGe="â¥®",xGe="â¥¾",kGe="ð",_Ge="ð²",TGe="Ã",SGe="Ã¹",EGe="â¥£",AGe="â¿",MGe="â¾",NGe="â",DGe="â",LGe="â",OGe="â",RGe="â¸",IGe="Åª",BGe="Å«",PGe="Â¨",FGe="_",zGe="â",HGe="âµ",qGe="â",UGe="â",VGe="â",$Ge="Å²",WGe="Å³",GGe="ð",jGe="ð¦",YGe="â¤",ZGe="â",KGe="â",JGe="â",XGe="â",QGe="â",eje="â",tje="â",nje="â¥®",rje="â¿",ije="â¾",aje="â",oje="â",sje="â",lje="Ï",uje="Ï",cje="Ï",fje="Î¥",dje="Ï",hje="â¥",pje="â¥",vje="â",gje="â",mje="â",yje="â",bje="Å®",wje="Å¯",Cje="â¹",xje="ð°",kje="ð",_je="â°",Tje="Å¨",Sje="Å©",Eje="âµ",Aje="â´",Mje="â",Nje="Ã",Dje="Ã¼",Lje="â¦§",Oje="â¦",Rje="Ïµ",Ije="Ï°",Bje="â",Pje="Ï",Fje="Ï",zje="â",Hje="â",qje="â",Uje="Ï±",Vje="Ï",$je="âï¸",Wje="â«ï¸",Gje="âï¸",jje="â«ï¸",Yje="Ï",Zje="â²",Kje="â³",Jje="â«¨",Xje="â««",Qje="â«©",eYe="Ð",tYe="Ð²",nYe="â¢",rYe="â¨",iYe="â©",aYe="â«",oYe="â«¦",sYe="â»",lYe="â¨",uYe="â",cYe="â",fYe="â®",dYe="|",hYe="â",pYe="|",vYe="â",gYe="â£",mYe="|",yYe="â",bYe="â",wYe="â",CYe="ð",xYe="ð³",kYe="â²",_Ye="ââ",TYe="ââ",SYe="ð",EYe="ð§",AYe="â",MYe="â³",NYe="ð±",DYe="ð",LYe="â«ï¸",OYe="âï¸",RYe="â«ï¸",IYe="âï¸",BYe="âª",PYe="â¦",FYe="Å´",zYe="Åµ",HYe="â©",qYe="â§",UYe="â",VYe="â",$Ye="â",WYe="ð",GYe="ð´",jYe="ð",YYe="ð¨",ZYe="â",KYe="â",JYe="â",XYe="ð²",QYe="ð",eZe="â",tZe="â¯",nZe="â",rZe="â½",iZe="ð",aZe="ðµ",oZe="â·",sZe="âº",lZe="Î",uZe="Î¾",cZe="âµ",fZe="â¸",dZe="â¼",hZe="â»",pZe="â¨",vZe="ð",gZe="ð©",mZe="â¨",yZe="â¨",bZe="â¶",wZe="â¹",CZe="ð³",xZe="ð",kZe="â¨",_Ze="â¨",TZe="â³",SZe="â",EZe="â",AZe="Ã",MZe="Ã½",NZe="Ð¯",DZe="Ñ",LZe="Å¶",OZe="Å·",RZe="Ð«",IZe="Ñ",BZe="Â¥",PZe="ð",FZe="ð¶",zZe="Ð",HZe="Ñ",qZe="ð",UZe="ðª",VZe="ð´",$Ze="ð",WZe="Ð®",GZe="Ñ",jZe="Ã¿",YZe="Å¸",ZZe="Å¹",KZe="Åº",JZe="Å½",XZe="Å¾",QZe="Ð",eKe="Ð·",tKe="Å»",nKe="Å¼",rKe="â¨",iKe="â",aKe="Î",oKe="Î¶",sKe="ð·",lKe="â¨",uKe="Ð",cKe="Ð¶",fKe="â",dKe="ð«",hKe="â¤",pKe="ðµ",vKe="ð",gKe="â",mKe="â",x4={Aacute:tbe,aacute:nbe,Abreve:rbe,abreve:ibe,ac:abe,acd:obe,acE:sbe,Acirc:lbe,acirc:ube,acute:cbe,Acy:fbe,acy:dbe,AElig:hbe,aelig:pbe,af:vbe,Afr:gbe,afr:mbe,Agrave:ybe,agrave:bbe,alefsym:wbe,aleph:Cbe,Alpha:xbe,alpha:kbe,Amacr:_be,amacr:Tbe,amalg:Sbe,amp:Ebe,AMP:Abe,andand:Mbe,And:Nbe,and:Dbe,andd:Lbe,andslope:Obe,andv:Rbe,ang:Ibe,ange:Bbe,angle:Pbe,angmsdaa:Fbe,angmsdab:zbe,angmsdac:Hbe,angmsdad:qbe,angmsdae:Ube,angmsdaf:Vbe,angmsdag:$be,angmsdah:Wbe,angmsd:Gbe,angrt:jbe,angrtvb:Ybe,angrtvbd:Zbe,angsph:Kbe,angst:Jbe,angzarr:Xbe,Aogon:Qbe,aogon:ewe,Aopf:twe,aopf:nwe,apacir:rwe,ap:iwe,apE:awe,ape:owe,apid:swe,apos:lwe,ApplyFunction:uwe,approx:cwe,approxeq:fwe,Aring:dwe,aring:hwe,Ascr:pwe,ascr:vwe,Assign:gwe,ast:mwe,asymp:ywe,asympeq:bwe,Atilde:wwe,atilde:Cwe,Auml:xwe,auml:kwe,awconint:_we,awint:Twe,backcong:Swe,backepsilon:Ewe,backprime:Awe,backsim:Mwe,backsimeq:Nwe,Backslash:Dwe,Barv:Lwe,barvee:Owe,barwed:Rwe,Barwed:Iwe,barwedge:Bwe,bbrk:Pwe,bbrktbrk:Fwe,bcong:zwe,Bcy:Hwe,bcy:qwe,bdquo:Uwe,becaus:Vwe,because:$we,Because:Wwe,bemptyv:Gwe,bepsi:jwe,bernou:Ywe,Bernoullis:Zwe,Beta:Kwe,beta:Jwe,beth:Xwe,between:Qwe,Bfr:eCe,bfr:tCe,bigcap:nCe,bigcirc:rCe,bigcup:iCe,bigodot:aCe,bigoplus:oCe,bigotimes:sCe,bigsqcup:lCe,bigstar:uCe,bigtriangledown:cCe,bigtriangleup:fCe,biguplus:dCe,bigvee:hCe,bigwedge:pCe,bkarow:vCe,blacklozenge:gCe,blacksquare:mCe,blacktriangle:yCe,blacktriangledown:bCe,blacktriangleleft:wCe,blacktriangleright:CCe,blank:xCe,blk12:kCe,blk14:_Ce,blk34:TCe,block:SCe,bne:ECe,bnequiv:ACe,bNot:MCe,bnot:NCe,Bopf:DCe,bopf:LCe,bot:OCe,bottom:RCe,bowtie:ICe,boxbox:BCe,boxdl:PCe,boxdL:FCe,boxDl:zCe,boxDL:HCe,boxdr:qCe,boxdR:UCe,boxDr:VCe,boxDR:$Ce,boxh:WCe,boxH:GCe,boxhd:jCe,boxHd:YCe,boxhD:ZCe,boxHD:KCe,boxhu:JCe,boxHu:XCe,boxhU:QCe,boxHU:exe,boxminus:txe,boxplus:nxe,boxtimes:rxe,boxul:ixe,boxuL:axe,boxUl:oxe,boxUL:sxe,boxur:lxe,boxuR:uxe,boxUr:cxe,boxUR:fxe,boxv:dxe,boxV:hxe,boxvh:pxe,boxvH:vxe,boxVh:gxe,boxVH:mxe,boxvl:yxe,boxvL:bxe,boxVl:wxe,boxVL:Cxe,boxvr:xxe,boxvR:kxe,boxVr:_xe,boxVR:Txe,bprime:Sxe,breve:Exe,Breve:Axe,brvbar:Mxe,bscr:Nxe,Bscr:Dxe,bsemi:Lxe,bsim:Oxe,bsime:Rxe,bsolb:Ixe,bsol:Bxe,bsolhsub:Pxe,bull:Fxe,bullet:zxe,bump:Hxe,bumpE:qxe,bumpe:Uxe,Bumpeq:Vxe,bumpeq:$xe,Cacute:Wxe,cacute:Gxe,capand:jxe,capbrcup:Yxe,capcap:Zxe,cap:Kxe,Cap:Jxe,capcup:Xxe,capdot:Qxe,CapitalDifferentialD:eke,caps:tke,caret:nke,caron:rke,Cayleys:ike,ccaps:ake,Ccaron:oke,ccaron:ske,Ccedil:lke,ccedil:uke,Ccirc:cke,ccirc:fke,Cconint:dke,ccups:hke,ccupssm:pke,Cdot:vke,cdot:gke,cedil:mke,Cedilla:yke,cemptyv:bke,cent:wke,centerdot:Cke,CenterDot:xke,cfr:kke,Cfr:_ke,CHcy:Tke,chcy:Ske,check:Eke,checkmark:Ake,Chi:Mke,chi:Nke,circ:Dke,circeq:Lke,circlearrowleft:Oke,circlearrowright:Rke,circledast:Ike,circledcirc:Bke,circleddash:Pke,CircleDot:Fke,circledR:zke,circledS:Hke,CircleMinus:qke,CirclePlus:Uke,CircleTimes:Vke,cir:$ke,cirE:Wke,cire:Gke,cirfnint:jke,cirmid:Yke,cirscir:Zke,ClockwiseContourIntegral:Kke,CloseCurlyDoubleQuote:Jke,CloseCurlyQuote:Xke,clubs:Qke,clubsuit:e_e,colon:t_e,Colon:n_e,Colone:r_e,colone:i_e,coloneq:a_e,comma:o_e,commat:s_e,comp:l_e,compfn:u_e,complement:c_e,complexes:f_e,cong:d_e,congdot:h_e,Congruent:p_e,conint:v_e,Conint:g_e,ContourIntegral:m_e,copf:y_e,Copf:b_e,coprod:w_e,Coproduct:C_e,copy:x_e,COPY:k_e,copysr:__e,CounterClockwiseContourIntegral:T_e,crarr:S_e,cross:E_e,Cross:A_e,Cscr:M_e,cscr:N_e,csub:D_e,csube:L_e,csup:O_e,csupe:R_e,ctdot:I_e,cudarrl:B_e,cudarrr:P_e,cuepr:F_e,cuesc:z_e,cularr:H_e,cularrp:q_e,cupbrcap:U_e,cupcap:V_e,CupCap:$_e,cup:W_e,Cup:G_e,cupcup:j_e,cupdot:Y_e,cupor:Z_e,cups:K_e,curarr:J_e,curarrm:X_e,curlyeqprec:Q_e,curlyeqsucc:eTe,curlyvee:tTe,curlywedge:nTe,curren:rTe,curvearrowleft:iTe,curvearrowright:aTe,cuvee:oTe,cuwed:sTe,cwconint:lTe,cwint:uTe,cylcty:cTe,dagger:fTe,Dagger:dTe,daleth:hTe,darr:pTe,Darr:vTe,dArr:gTe,dash:mTe,Dashv:yTe,dashv:bTe,dbkarow:wTe,dblac:CTe,Dcaron:xTe,dcaron:kTe,Dcy:_Te,dcy:TTe,ddagger:STe,ddarr:ETe,DD:ATe,dd:MTe,DDotrahd:NTe,ddotseq:DTe,deg:LTe,Del:OTe,Delta:RTe,delta:ITe,demptyv:BTe,dfisht:PTe,Dfr:FTe,dfr:zTe,dHar:HTe,dharl:qTe,dharr:UTe,DiacriticalAcute:VTe,DiacriticalDot:$Te,DiacriticalDoubleAcute:WTe,DiacriticalGrave:GTe,DiacriticalTilde:jTe,diam:YTe,diamond:ZTe,Diamond:KTe,diamondsuit:JTe,diams:XTe,die:QTe,DifferentialD:eSe,digamma:tSe,disin:nSe,div:rSe,divide:iSe,divideontimes:aSe,divonx:oSe,DJcy:sSe,djcy:lSe,dlcorn:uSe,dlcrop:cSe,dollar:fSe,Dopf:dSe,dopf:hSe,Dot:pSe,dot:vSe,DotDot:gSe,doteq:mSe,doteqdot:ySe,DotEqual:bSe,dotminus:wSe,dotplus:CSe,dotsquare:xSe,doublebarwedge:kSe,DoubleContourIntegral:_Se,DoubleDot:TSe,DoubleDownArrow:SSe,DoubleLeftArrow:ESe,DoubleLeftRightArrow:ASe,DoubleLeftTee:MSe,DoubleLongLeftArrow:NSe,DoubleLongLeftRightArrow:DSe,DoubleLongRightArrow:LSe,DoubleRightArrow:OSe,DoubleRightTee:RSe,DoubleUpArrow:ISe,DoubleUpDownArrow:BSe,DoubleVerticalBar:PSe,DownArrowBar:FSe,downarrow:zSe,DownArrow:HSe,Downarrow:qSe,DownArrowUpArrow:USe,DownBreve:VSe,downdownarrows:$Se,downharpoonleft:WSe,downharpoonright:GSe,DownLeftRightVector:jSe,DownLeftTeeVector:YSe,DownLeftVectorBar:ZSe,DownLeftVector:KSe,DownRightTeeVector:JSe,DownRightVectorBar:XSe,DownRightVector:QSe,DownTeeArrow:eEe,DownTee:tEe,drbkarow:nEe,drcorn:rEe,drcrop:iEe,Dscr:aEe,dscr:oEe,DScy:sEe,dscy:lEe,dsol:uEe,Dstrok:cEe,dstrok:fEe,dtdot:dEe,dtri:hEe,dtrif:pEe,duarr:vEe,duhar:gEe,dwangle:mEe,DZcy:yEe,dzcy:bEe,dzigrarr:wEe,Eacute:CEe,eacute:xEe,easter:kEe,Ecaron:_Ee,ecaron:TEe,Ecirc:SEe,ecirc:EEe,ecir:AEe,ecolon:MEe,Ecy:NEe,ecy:DEe,eDDot:LEe,Edot:OEe,edot:REe,eDot:IEe,ee:BEe,efDot:PEe,Efr:FEe,efr:zEe,eg:HEe,Egrave:qEe,egrave:UEe,egs:VEe,egsdot:$Ee,el:WEe,Element:GEe,elinters:jEe,ell:YEe,els:ZEe,elsdot:KEe,Emacr:JEe,emacr:XEe,empty:QEe,emptyset:e2e,EmptySmallSquare:t2e,emptyv:n2e,EmptyVerySmallSquare:r2e,emsp13:i2e,emsp14:a2e,emsp:o2e,ENG:s2e,eng:l2e,ensp:u2e,Eogon:c2e,eogon:f2e,Eopf:d2e,eopf:h2e,epar:p2e,eparsl:v2e,eplus:g2e,epsi:m2e,Epsilon:y2e,epsilon:b2e,epsiv:w2e,eqcirc:C2e,eqcolon:x2e,eqsim:k2e,eqslantgtr:_2e,eqslantless:T2e,Equal:S2e,equals:E2e,EqualTilde:A2e,equest:M2e,Equilibrium:N2e,equiv:D2e,equivDD:L2e,eqvparsl:O2e,erarr:R2e,erDot:I2e,escr:B2e,Escr:P2e,esdot:F2e,Esim:z2e,esim:H2e,Eta:q2e,eta:U2e,ETH:V2e,eth:$2e,Euml:W2e,euml:G2e,euro:j2e,excl:Y2e,exist:Z2e,Exists:K2e,expectation:J2e,exponentiale:X2e,ExponentialE:Q2e,fallingdotseq:eAe,Fcy:tAe,fcy:nAe,female:rAe,ffilig:iAe,fflig:aAe,ffllig:oAe,Ffr:sAe,ffr:lAe,filig:uAe,FilledSmallSquare:cAe,FilledVerySmallSquare:fAe,fjlig:dAe,flat:hAe,fllig:pAe,fltns:vAe,fnof:gAe,Fopf:mAe,fopf:yAe,forall:bAe,ForAll:wAe,fork:CAe,forkv:xAe,Fouriertrf:kAe,fpartint:_Ae,frac12:TAe,frac13:SAe,frac14:EAe,frac15:AAe,frac16:MAe,frac18:NAe,frac23:DAe,frac25:LAe,frac34:OAe,frac35:RAe,frac38:IAe,frac45:BAe,frac56:PAe,frac58:FAe,frac78:zAe,frasl:HAe,frown:qAe,fscr:UAe,Fscr:VAe,gacute:$Ae,Gamma:WAe,gamma:GAe,Gammad:jAe,gammad:YAe,gap:ZAe,Gbreve:KAe,gbreve:JAe,Gcedil:XAe,Gcirc:QAe,gcirc:eMe,Gcy:tMe,gcy:nMe,Gdot:rMe,gdot:iMe,ge:aMe,gE:oMe,gEl:sMe,gel:lMe,geq:uMe,geqq:cMe,geqslant:fMe,gescc:dMe,ges:hMe,gesdot:pMe,gesdoto:vMe,gesdotol:gMe,gesl:mMe,gesles:yMe,Gfr:bMe,gfr:wMe,gg:CMe,Gg:xMe,ggg:kMe,gimel:_Me,GJcy:TMe,gjcy:SMe,gla:EMe,gl:AMe,glE:MMe,glj:NMe,gnap:DMe,gnapprox:LMe,gne:OMe,gnE:RMe,gneq:IMe,gneqq:BMe,gnsim:PMe,Gopf:FMe,gopf:zMe,grave:HMe,GreaterEqual:qMe,GreaterEqualLess:UMe,GreaterFullEqual:VMe,GreaterGreater:$Me,GreaterLess:WMe,GreaterSlantEqual:GMe,GreaterTilde:jMe,Gscr:YMe,gscr:ZMe,gsim:KMe,gsime:JMe,gsiml:XMe,gtcc:QMe,gtcir:eNe,gt:tNe,GT:nNe,Gt:rNe,gtdot:iNe,gtlPar:aNe,gtquest:oNe,gtrapprox:sNe,gtrarr:lNe,gtrdot:uNe,gtreqless:cNe,gtreqqless:fNe,gtrless:dNe,gtrsim:hNe,gvertneqq:pNe,gvnE:vNe,Hacek:gNe,hairsp:mNe,half:yNe,hamilt:bNe,HARDcy:wNe,hardcy:CNe,harrcir:xNe,harr:kNe,hArr:_Ne,harrw:TNe,Hat:SNe,hbar:ENe,Hcirc:ANe,hcirc:MNe,hearts:NNe,heartsuit:DNe,hellip:LNe,hercon:ONe,hfr:RNe,Hfr:INe,HilbertSpace:BNe,hksearow:PNe,hkswarow:FNe,hoarr:zNe,homtht:HNe,hookleftarrow:qNe,hookrightarrow:UNe,hopf:VNe,Hopf:$Ne,horbar:WNe,HorizontalLine:GNe,hscr:jNe,Hscr:YNe,hslash:ZNe,Hstrok:KNe,hstrok:JNe,HumpDownHump:XNe,HumpEqual:QNe,hybull:eDe,hyphen:tDe,Iacute:nDe,iacute:rDe,ic:iDe,Icirc:aDe,icirc:oDe,Icy:sDe,icy:lDe,Idot:uDe,IEcy:cDe,iecy:fDe,iexcl:dDe,iff:hDe,ifr:pDe,Ifr:vDe,Igrave:gDe,igrave:mDe,ii:yDe,iiiint:bDe,iiint:wDe,iinfin:CDe,iiota:xDe,IJlig:kDe,ijlig:_De,Imacr:TDe,imacr:SDe,image:EDe,ImaginaryI:ADe,imagline:MDe,imagpart:NDe,imath:DDe,Im:LDe,imof:ODe,imped:RDe,Implies:IDe,incare:BDe,in:"â",infin:PDe,infintie:FDe,inodot:zDe,intcal:HDe,int:qDe,Int:UDe,integers:VDe,Integral:$De,intercal:WDe,Intersection:GDe,intlarhk:jDe,intprod:YDe,InvisibleComma:ZDe,InvisibleTimes:KDe,IOcy:JDe,iocy:XDe,Iogon:QDe,iogon:eLe,Iopf:tLe,iopf:nLe,Iota:rLe,iota:iLe,iprod:aLe,iquest:oLe,iscr:sLe,Iscr:lLe,isin:uLe,isindot:cLe,isinE:fLe,isins:dLe,isinsv:hLe,isinv:pLe,it:vLe,Itilde:gLe,itilde:mLe,Iukcy:yLe,iukcy:bLe,Iuml:wLe,iuml:CLe,Jcirc:xLe,jcirc:kLe,Jcy:_Le,jcy:TLe,Jfr:SLe,jfr:ELe,jmath:ALe,Jopf:MLe,jopf:NLe,Jscr:DLe,jscr:LLe,Jsercy:OLe,jsercy:RLe,Jukcy:ILe,jukcy:BLe,Kappa:PLe,kappa:FLe,kappav:zLe,Kcedil:HLe,kcedil:qLe,Kcy:ULe,kcy:VLe,Kfr:$Le,kfr:WLe,kgreen:GLe,KHcy:jLe,khcy:YLe,KJcy:ZLe,kjcy:KLe,Kopf:JLe,kopf:XLe,Kscr:QLe,kscr:eOe,lAarr:tOe,Lacute:nOe,lacute:rOe,laemptyv:iOe,lagran:aOe,Lambda:oOe,lambda:sOe,lang:lOe,Lang:uOe,langd:cOe,langle:fOe,lap:dOe,Laplacetrf:hOe,laquo:pOe,larrb:vOe,larrbfs:gOe,larr:mOe,Larr:yOe,lArr:bOe,larrfs:wOe,larrhk:COe,larrlp:xOe,larrpl:kOe,larrsim:_Oe,larrtl:TOe,latail:SOe,lAtail:EOe,lat:AOe,late:MOe,lates:NOe,lbarr:DOe,lBarr:LOe,lbbrk:OOe,lbrace:ROe,lbrack:IOe,lbrke:BOe,lbrksld:POe,lbrkslu:FOe,Lcaron:zOe,lcaron:HOe,Lcedil:qOe,lcedil:UOe,lceil:VOe,lcub:$Oe,Lcy:WOe,lcy:GOe,ldca:jOe,ldquo:YOe,ldquor:ZOe,ldrdhar:KOe,ldrushar:JOe,ldsh:XOe,le:QOe,lE:e3e,LeftAngleBracket:t3e,LeftArrowBar:n3e,leftarrow:r3e,LeftArrow:i3e,Leftarrow:a3e,LeftArrowRightArrow:o3e,leftarrowtail:s3e,LeftCeiling:l3e,LeftDoubleBracket:u3e,LeftDownTeeVector:c3e,LeftDownVectorBar:f3e,LeftDownVector:d3e,LeftFloor:h3e,leftharpoondown:p3e,leftharpoonup:v3e,leftleftarrows:g3e,leftrightarrow:m3e,LeftRightArrow:y3e,Leftrightarrow:b3e,leftrightarrows:w3e,leftrightharpoons:C3e,leftrightsquigarrow:x3e,LeftRightVector:k3e,LeftTeeArrow:_3e,LeftTee:T3e,LeftTeeVector:S3e,leftthreetimes:E3e,LeftTriangleBar:A3e,LeftTriangle:M3e,LeftTriangleEqual:N3e,LeftUpDownVector:D3e,LeftUpTeeVector:L3e,LeftUpVectorBar:O3e,LeftUpVector:R3e,LeftVectorBar:I3e,LeftVector:B3e,lEg:P3e,leg:F3e,leq:z3e,leqq:H3e,leqslant:q3e,lescc:U3e,les:V3e,lesdot:$3e,lesdoto:W3e,lesdotor:G3e,lesg:j3e,lesges:Y3e,lessapprox:Z3e,lessdot:K3e,lesseqgtr:J3e,lesseqqgtr:X3e,LessEqualGreater:Q3e,LessFullEqual:eRe,LessGreater:tRe,lessgtr:nRe,LessLess:rRe,lesssim:iRe,LessSlantEqual:aRe,LessTilde:oRe,lfisht:sRe,lfloor:lRe,Lfr:uRe,lfr:cRe,lg:fRe,lgE:dRe,lHar:hRe,lhard:pRe,lharu:vRe,lharul:gRe,lhblk:mRe,LJcy:yRe,ljcy:bRe,llarr:wRe,ll:CRe,Ll:xRe,llcorner:kRe,Lleftarrow:_Re,llhard:TRe,lltri:SRe,Lmidot:ERe,lmidot:ARe,lmoustache:MRe,lmoust:NRe,lnap:DRe,lnapprox:LRe,lne:ORe,lnE:RRe,lneq:IRe,lneqq:BRe,lnsim:PRe,loang:FRe,loarr:zRe,lobrk:HRe,longleftarrow:qRe,LongLeftArrow:URe,Longleftarrow:VRe,longleftrightarrow:$Re,LongLeftRightArrow:WRe,Longleftrightarrow:GRe,longmapsto:jRe,longrightarrow:YRe,LongRightArrow:ZRe,Longrightarrow:KRe,looparrowleft:JRe,looparrowright:XRe,lopar:QRe,Lopf:eIe,lopf:tIe,loplus:nIe,lotimes:rIe,lowast:iIe,lowbar:aIe,LowerLeftArrow:oIe,LowerRightArrow:sIe,loz:lIe,lozenge:uIe,lozf:cIe,lpar:fIe,lparlt:dIe,lrarr:hIe,lrcorner:pIe,lrhar:vIe,lrhard:gIe,lrm:mIe,lrtri:yIe,lsaquo:bIe,lscr:wIe,Lscr:CIe,lsh:xIe,Lsh:kIe,lsim:_Ie,lsime:TIe,lsimg:SIe,lsqb:EIe,lsquo:AIe,lsquor:MIe,Lstrok:NIe,lstrok:DIe,ltcc:LIe,ltcir:OIe,lt:RIe,LT:IIe,Lt:BIe,ltdot:PIe,lthree:FIe,ltimes:zIe,ltlarr:HIe,ltquest:qIe,ltri:UIe,ltrie:VIe,ltrif:$Ie,ltrPar:WIe,lurdshar:GIe,luruhar:jIe,lvertneqq:YIe,lvnE:ZIe,macr:KIe,male:JIe,malt:XIe,maltese:QIe,Map:"â¤",map:e4e,mapsto:t4e,mapstodown:n4e,mapstoleft:r4e,mapstoup:i4e,marker:a4e,mcomma:o4e,Mcy:s4e,mcy:l4e,mdash:u4e,mDDot:c4e,measuredangle:f4e,MediumSpace:d4e,Mellintrf:h4e,Mfr:p4e,mfr:v4e,mho:g4e,micro:m4e,midast:y4e,midcir:b4e,mid:w4e,middot:C4e,minusb:x4e,minus:k4e,minusd:_4e,minusdu:T4e,MinusPlus:S4e,mlcp:E4e,mldr:A4e,mnplus:M4e,models:N4e,Mopf:D4e,mopf:L4e,mp:O4e,mscr:R4e,Mscr:I4e,mstpos:B4e,Mu:P4e,mu:F4e,multimap:z4e,mumap:H4e,nabla:q4e,Nacute:U4e,nacute:V4e,nang:$4e,nap:W4e,napE:G4e,napid:j4e,napos:Y4e,napprox:Z4e,natural:K4e,naturals:J4e,natur:X4e,nbsp:Q4e,nbump:e5e,nbumpe:t5e,ncap:n5e,Ncaron:r5e,ncaron:i5e,Ncedil:a5e,ncedil:o5e,ncong:s5e,ncongdot:l5e,ncup:u5e,Ncy:c5e,ncy:f5e,ndash:d5e,nearhk:h5e,nearr:p5e,neArr:v5e,nearrow:g5e,ne:m5e,nedot:y5e,NegativeMediumSpace:b5e,NegativeThickSpace:w5e,NegativeThinSpace:C5e,NegativeVeryThinSpace:x5e,nequiv:k5e,nesear:_5e,nesim:T5e,NestedGreaterGreater:S5e,NestedLessLess:E5e,NewLine:A5e,nexist:M5e,nexists:N5e,Nfr:D5e,nfr:L5e,ngE:O5e,nge:R5e,ngeq:I5e,ngeqq:B5e,ngeqslant:P5e,nges:F5e,nGg:z5e,ngsim:H5e,nGt:q5e,ngt:U5e,ngtr:V5e,nGtv:$5e,nharr:W5e,nhArr:G5e,nhpar:j5e,ni:Y5e,nis:Z5e,nisd:K5e,niv:J5e,NJcy:X5e,njcy:Q5e,nlarr:eBe,nlArr:tBe,nldr:nBe,nlE:rBe,nle:iBe,nleftarrow:aBe,nLeftarrow:oBe,nleftrightarrow:sBe,nLeftrightarrow:lBe,nleq:uBe,nleqq:cBe,nleqslant:fBe,nles:dBe,nless:hBe,nLl:pBe,nlsim:vBe,nLt:gBe,nlt:mBe,nltri:yBe,nltrie:bBe,nLtv:wBe,nmid:CBe,NoBreak:xBe,NonBreakingSpace:kBe,nopf:_Be,Nopf:TBe,Not:SBe,not:EBe,NotCongruent:ABe,NotCupCap:MBe,NotDoubleVerticalBar:NBe,NotElement:DBe,NotEqual:LBe,NotEqualTilde:OBe,NotExists:RBe,NotGreater:IBe,NotGreaterEqual:BBe,NotGreaterFullEqual:PBe,NotGreaterGreater:FBe,NotGreaterLess:zBe,NotGreaterSlantEqual:HBe,NotGreaterTilde:qBe,NotHumpDownHump:UBe,NotHumpEqual:VBe,notin:$Be,notindot:WBe,notinE:GBe,notinva:jBe,notinvb:YBe,notinvc:ZBe,NotLeftTriangleBar:KBe,NotLeftTriangle:JBe,NotLeftTriangleEqual:XBe,NotLess:QBe,NotLessEqual:ePe,NotLessGreater:tPe,NotLessLess:nPe,NotLessSlantEqual:rPe,NotLessTilde:iPe,NotNestedGreaterGreater:aPe,NotNestedLessLess:oPe,notni:sPe,notniva:lPe,notnivb:uPe,notnivc:cPe,NotPrecedes:fPe,NotPrecedesEqual:dPe,NotPrecedesSlantEqual:hPe,NotReverseElement:pPe,NotRightTriangleBar:vPe,NotRightTriangle:gPe,NotRightTriangleEqual:mPe,NotSquareSubset:yPe,NotSquareSubsetEqual:bPe,NotSquareSuperset:wPe,NotSquareSupersetEqual:CPe,NotSubset:xPe,NotSubsetEqual:kPe,NotSucceeds:_Pe,NotSucceedsEqual:TPe,NotSucceedsSlantEqual:SPe,NotSucceedsTilde:EPe,NotSuperset:APe,NotSupersetEqual:MPe,NotTilde:NPe,NotTildeEqual:DPe,NotTildeFullEqual:LPe,NotTildeTilde:OPe,NotVerticalBar:RPe,nparallel:IPe,npar:BPe,nparsl:PPe,npart:FPe,npolint:zPe,npr:HPe,nprcue:qPe,nprec:UPe,npreceq:VPe,npre:$Pe,nrarrc:WPe,nrarr:GPe,nrArr:jPe,nrarrw:YPe,nrightarrow:ZPe,nRightarrow:KPe,nrtri:JPe,nrtrie:XPe,nsc:QPe,nsccue:e7e,nsce:t7e,Nscr:n7e,nscr:r7e,nshortmid:i7e,nshortparallel:a7e,nsim:o7e,nsime:s7e,nsimeq:l7e,nsmid:u7e,nspar:c7e,nsqsube:f7e,nsqsupe:d7e,nsub:h7e,nsubE:p7e,nsube:v7e,nsubset:g7e,nsubseteq:m7e,nsubseteqq:y7e,nsucc:b7e,nsucceq:w7e,nsup:C7e,nsupE:x7e,nsupe:k7e,nsupset:_7e,nsupseteq:T7e,nsupseteqq:S7e,ntgl:E7e,Ntilde:A7e,ntilde:M7e,ntlg:N7e,ntriangleleft:D7e,ntrianglelefteq:L7e,ntriangleright:O7e,ntrianglerighteq:R7e,Nu:I7e,nu:B7e,num:P7e,numero:F7e,numsp:z7e,nvap:H7e,nvdash:q7e,nvDash:U7e,nVdash:V7e,nVDash:$7e,nvge:W7e,nvgt:G7e,nvHarr:j7e,nvinfin:Y7e,nvlArr:Z7e,nvle:K7e,nvlt:J7e,nvltrie:X7e,nvrArr:Q7e,nvrtrie:e6e,nvsim:t6e,nwarhk:n6e,nwarr:r6e,nwArr:i6e,nwarrow:a6e,nwnear:o6e,Oacute:s6e,oacute:l6e,oast:u6e,Ocirc:c6e,ocirc:f6e,ocir:d6e,Ocy:h6e,ocy:p6e,odash:v6e,Odblac:g6e,odblac:m6e,odiv:y6e,odot:b6e,odsold:w6e,OElig:C6e,oelig:x6e,ofcir:k6e,Ofr:_6e,ofr:T6e,ogon:S6e,Ograve:E6e,ograve:A6e,ogt:M6e,ohbar:N6e,ohm:D6e,oint:L6e,olarr:O6e,olcir:R6e,olcross:I6e,oline:B6e,olt:P6e,Omacr:F6e,omacr:z6e,Omega:H6e,omega:q6e,Omicron:U6e,omicron:V6e,omid:$6e,ominus:W6e,Oopf:G6e,oopf:j6e,opar:Y6e,OpenCurlyDoubleQuote:Z6e,OpenCurlyQuote:K6e,operp:J6e,oplus:X6e,orarr:Q6e,Or:e8e,or:t8e,ord:n8e,order:r8e,orderof:i8e,ordf:a8e,ordm:o8e,origof:s8e,oror:l8e,orslope:u8e,orv:c8e,oS:f8e,Oscr:d8e,oscr:h8e,Oslash:p8e,oslash:v8e,osol:g8e,Otilde:m8e,otilde:y8e,otimesas:b8e,Otimes:w8e,otimes:C8e,Ouml:x8e,ouml:k8e,ovbar:_8e,OverBar:T8e,OverBrace:S8e,OverBracket:E8e,OverParenthesis:A8e,para:M8e,parallel:N8e,par:D8e,parsim:L8e,parsl:O8e,part:R8e,PartialD:I8e,Pcy:B8e,pcy:P8e,percnt:F8e,period:z8e,permil:H8e,perp:q8e,pertenk:U8e,Pfr:V8e,pfr:$8e,Phi:W8e,phi:G8e,phiv:j8e,phmmat:Y8e,phone:Z8e,Pi:K8e,pi:J8e,pitchfork:X8e,piv:Q8e,planck:eFe,planckh:tFe,plankv:nFe,plusacir:rFe,plusb:iFe,pluscir:aFe,plus:oFe,plusdo:sFe,plusdu:lFe,pluse:uFe,PlusMinus:cFe,plusmn:fFe,plussim:dFe,plustwo:hFe,pm:pFe,Poincareplane:vFe,pointint:gFe,popf:mFe,Popf:yFe,pound:bFe,prap:wFe,Pr:CFe,pr:xFe,prcue:kFe,precapprox:_Fe,prec:TFe,preccurlyeq:SFe,Precedes:EFe,PrecedesEqual:AFe,PrecedesSlantEqual:MFe,PrecedesTilde:NFe,preceq:DFe,precnapprox:LFe,precneqq:OFe,precnsim:RFe,pre:IFe,prE:BFe,precsim:PFe,prime:FFe,Prime:zFe,primes:HFe,prnap:qFe,prnE:UFe,prnsim:VFe,prod:$Fe,Product:WFe,profalar:GFe,profline:jFe,profsurf:YFe,prop:ZFe,Proportional:KFe,Proportion:JFe,propto:XFe,prsim:QFe,prurel:e9e,Pscr:t9e,pscr:n9e,Psi:r9e,psi:i9e,puncsp:a9e,Qfr:o9e,qfr:s9e,qint:l9e,qopf:u9e,Qopf:c9e,qprime:f9e,Qscr:d9e,qscr:h9e,quaternions:p9e,quatint:v9e,quest:g9e,questeq:m9e,quot:y9e,QUOT:b9e,rAarr:w9e,race:C9e,Racute:x9e,racute:k9e,radic:_9e,raemptyv:T9e,rang:S9e,Rang:E9e,rangd:A9e,range:M9e,rangle:N9e,raquo:D9e,rarrap:L9e,rarrb:O9e,rarrbfs:R9e,rarrc:I9e,rarr:B9e,Rarr:P9e,rArr:F9e,rarrfs:z9e,rarrhk:H9e,rarrlp:q9e,rarrpl:U9e,rarrsim:V9e,Rarrtl:$9e,rarrtl:W9e,rarrw:G9e,ratail:j9e,rAtail:Y9e,ratio:Z9e,rationals:K9e,rbarr:J9e,rBarr:X9e,RBarr:Q9e,rbbrk:eze,rbrace:tze,rbrack:nze,rbrke:rze,rbrksld:ize,rbrkslu:aze,Rcaron:oze,rcaron:sze,Rcedil:lze,rcedil:uze,rceil:cze,rcub:fze,Rcy:dze,rcy:hze,rdca:pze,rdldhar:vze,rdquo:gze,rdquor:mze,rdsh:yze,real:bze,realine:wze,realpart:Cze,reals:xze,Re:kze,rect:_ze,reg:Tze,REG:Sze,ReverseElement:Eze,ReverseEquilibrium:Aze,ReverseUpEquilibrium:Mze,rfisht:Nze,rfloor:Dze,rfr:Lze,Rfr:Oze,rHar:Rze,rhard:Ize,rharu:Bze,rharul:Pze,Rho:Fze,rho:zze,rhov:Hze,RightAngleBracket:qze,RightArrowBar:Uze,rightarrow:Vze,RightArrow:$ze,Rightarrow:Wze,RightArrowLeftArrow:Gze,rightarrowtail:jze,RightCeiling:Yze,RightDoubleBracket:Zze,RightDownTeeVector:Kze,RightDownVectorBar:Jze,RightDownVector:Xze,RightFloor:Qze,rightharpoondown:eHe,rightharpoonup:tHe,rightleftarrows:nHe,rightleftharpoons:rHe,rightrightarrows:iHe,rightsquigarrow:aHe,RightTeeArrow:oHe,RightTee:sHe,RightTeeVector:lHe,rightthreetimes:uHe,RightTriangleBar:cHe,RightTriangle:fHe,RightTriangleEqual:dHe,RightUpDownVector:hHe,RightUpTeeVector:pHe,RightUpVectorBar:vHe,RightUpVector:gHe,RightVectorBar:mHe,RightVector:yHe,ring:bHe,risingdotseq:wHe,rlarr:CHe,rlhar:xHe,rlm:kHe,rmoustache:_He,rmoust:THe,rnmid:SHe,roang:EHe,roarr:AHe,robrk:MHe,ropar:NHe,ropf:DHe,Ropf:LHe,roplus:OHe,rotimes:RHe,RoundImplies:IHe,rpar:BHe,rpargt:PHe,rppolint:FHe,rrarr:zHe,Rrightarrow:HHe,rsaquo:qHe,rscr:UHe,Rscr:VHe,rsh:$He,Rsh:WHe,rsqb:GHe,rsquo:jHe,rsquor:YHe,rthree:ZHe,rtimes:KHe,rtri:JHe,rtrie:XHe,rtrif:QHe,rtriltri:eqe,RuleDelayed:tqe,ruluhar:nqe,rx:rqe,Sacute:iqe,sacute:aqe,sbquo:oqe,scap:sqe,Scaron:lqe,scaron:uqe,Sc:cqe,sc:fqe,sccue:dqe,sce:hqe,scE:pqe,Scedil:vqe,scedil:gqe,Scirc:mqe,scirc:yqe,scnap:bqe,scnE:wqe,scnsim:Cqe,scpolint:xqe,scsim:kqe,Scy:_qe,scy:Tqe,sdotb:Sqe,sdot:Eqe,sdote:Aqe,searhk:Mqe,searr:Nqe,seArr:Dqe,searrow:Lqe,sect:Oqe,semi:Rqe,seswar:Iqe,setminus:Bqe,setmn:Pqe,sext:Fqe,Sfr:zqe,sfr:Hqe,sfrown:qqe,sharp:Uqe,SHCHcy:Vqe,shchcy:$qe,SHcy:Wqe,shcy:Gqe,ShortDownArrow:jqe,ShortLeftArrow:Yqe,shortmid:Zqe,shortparallel:Kqe,ShortRightArrow:Jqe,ShortUpArrow:Xqe,shy:Qqe,Sigma:eUe,sigma:tUe,sigmaf:nUe,sigmav:rUe,sim:iUe,simdot:aUe,sime:oUe,simeq:sUe,simg:lUe,simgE:uUe,siml:cUe,simlE:fUe,simne:dUe,simplus:hUe,simrarr:pUe,slarr:vUe,SmallCircle:gUe,smallsetminus:mUe,smashp:yUe,smeparsl:bUe,smid:wUe,smile:CUe,smt:xUe,smte:kUe,smtes:_Ue,SOFTcy:TUe,softcy:SUe,solbar:EUe,solb:AUe,sol:MUe,Sopf:NUe,sopf:DUe,spades:LUe,spadesuit:OUe,spar:RUe,sqcap:IUe,sqcaps:BUe,sqcup:PUe,sqcups:FUe,Sqrt:zUe,sqsub:HUe,sqsube:qUe,sqsubset:UUe,sqsubseteq:VUe,sqsup:$Ue,sqsupe:WUe,sqsupset:GUe,sqsupseteq:jUe,square:YUe,Square:ZUe,SquareIntersection:KUe,SquareSubset:JUe,SquareSubsetEqual:XUe,SquareSuperset:QUe,SquareSupersetEqual:eVe,SquareUnion:tVe,squarf:nVe,squ:rVe,squf:iVe,srarr:aVe,Sscr:oVe,sscr:sVe,ssetmn:lVe,ssmile:uVe,sstarf:cVe,Star:fVe,star:dVe,starf:hVe,straightepsilon:pVe,straightphi:vVe,strns:gVe,sub:mVe,Sub:yVe,subdot:bVe,subE:wVe,sube:CVe,subedot:xVe,submult:kVe,subnE:_Ve,subne:TVe,subplus:SVe,subrarr:EVe,subset:AVe,Subset:MVe,subseteq:NVe,subseteqq:DVe,SubsetEqual:LVe,subsetneq:OVe,subsetneqq:RVe,subsim:IVe,subsub:BVe,subsup:PVe,succapprox:FVe,succ:zVe,succcurlyeq:HVe,Succeeds:qVe,SucceedsEqual:UVe,SucceedsSlantEqual:VVe,SucceedsTilde:$Ve,succeq:WVe,succnapprox:GVe,succneqq:jVe,succnsim:YVe,succsim:ZVe,SuchThat:KVe,sum:JVe,Sum:XVe,sung:QVe,sup1:e$e,sup2:t$e,sup3:n$e,sup:r$e,Sup:i$e,supdot:a$e,supdsub:o$e,supE:s$e,supe:l$e,supedot:u$e,Superset:c$e,SupersetEqual:f$e,suphsol:d$e,suphsub:h$e,suplarr:p$e,supmult:v$e,supnE:g$e,supne:m$e,supplus:y$e,supset:b$e,Supset:w$e,supseteq:C$e,supseteqq:x$e,supsetneq:k$e,supsetneqq:_$e,supsim:T$e,supsub:S$e,supsup:E$e,swarhk:A$e,swarr:M$e,swArr:N$e,swarrow:D$e,swnwar:L$e,szlig:O$e,Tab:R$e,target:I$e,Tau:B$e,tau:P$e,tbrk:F$e,Tcaron:z$e,tcaron:H$e,Tcedil:q$e,tcedil:U$e,Tcy:V$e,tcy:$$e,tdot:W$e,telrec:G$e,Tfr:j$e,tfr:Y$e,there4:Z$e,therefore:K$e,Therefore:J$e,Theta:X$e,theta:Q$e,thetasym:eWe,thetav:tWe,thickapprox:nWe,thicksim:rWe,ThickSpace:iWe,ThinSpace:aWe,thinsp:oWe,thkap:sWe,thksim:lWe,THORN:uWe,thorn:cWe,tilde:fWe,Tilde:dWe,TildeEqual:hWe,TildeFullEqual:pWe,TildeTilde:vWe,timesbar:gWe,timesb:mWe,times:yWe,timesd:bWe,tint:wWe,toea:CWe,topbot:xWe,topcir:kWe,top:_We,Topf:TWe,topf:SWe,topfork:EWe,tosa:AWe,tprime:MWe,trade:NWe,TRADE:DWe,triangle:LWe,triangledown:OWe,triangleleft:RWe,trianglelefteq:IWe,triangleq:BWe,triangleright:PWe,trianglerighteq:FWe,tridot:zWe,trie:HWe,triminus:qWe,TripleDot:UWe,triplus:VWe,trisb:$We,tritime:WWe,trpezium:GWe,Tscr:jWe,tscr:YWe,TScy:ZWe,tscy:KWe,TSHcy:JWe,tshcy:XWe,Tstrok:QWe,tstrok:eGe,twixt:tGe,twoheadleftarrow:nGe,twoheadrightarrow:rGe,Uacute:iGe,uacute:aGe,uarr:oGe,Uarr:sGe,uArr:lGe,Uarrocir:uGe,Ubrcy:cGe,ubrcy:fGe,Ubreve:dGe,ubreve:hGe,Ucirc:pGe,ucirc:vGe,Ucy:gGe,ucy:mGe,udarr:yGe,Udblac:bGe,udblac:wGe,udhar:CGe,ufisht:xGe,Ufr:kGe,ufr:_Ge,Ugrave:TGe,ugrave:SGe,uHar:EGe,uharl:AGe,uharr:MGe,uhblk:NGe,ulcorn:DGe,ulcorner:LGe,ulcrop:OGe,ultri:RGe,Umacr:IGe,umacr:BGe,uml:PGe,UnderBar:FGe,UnderBrace:zGe,UnderBracket:HGe,UnderParenthesis:qGe,Union:UGe,UnionPlus:VGe,Uogon:$Ge,uogon:WGe,Uopf:GGe,uopf:jGe,UpArrowBar:YGe,uparrow:ZGe,UpArrow:KGe,Uparrow:JGe,UpArrowDownArrow:XGe,updownarrow:QGe,UpDownArrow:eje,Updownarrow:tje,UpEquilibrium:nje,upharpoonleft:rje,upharpoonright:ije,uplus:aje,UpperLeftArrow:oje,UpperRightArrow:sje,upsi:lje,Upsi:uje,upsih:cje,Upsilon:fje,upsilon:dje,UpTeeArrow:hje,UpTee:pje,upuparrows:vje,urcorn:gje,urcorner:mje,urcrop:yje,Uring:bje,uring:wje,urtri:Cje,Uscr:xje,uscr:kje,utdot:_je,Utilde:Tje,utilde:Sje,utri:Eje,utrif:Aje,uuarr:Mje,Uuml:Nje,uuml:Dje,uwangle:Lje,vangrt:Oje,varepsilon:Rje,varkappa:Ije,varnothing:Bje,varphi:Pje,varpi:Fje,varpropto:zje,varr:Hje,vArr:qje,varrho:Uje,varsigma:Vje,varsubsetneq:$je,varsubsetneqq:Wje,varsupsetneq:Gje,varsupsetneqq:jje,vartheta:Yje,vartriangleleft:Zje,vartriangleright:Kje,vBar:Jje,Vbar:Xje,vBarv:Qje,Vcy:eYe,vcy:tYe,vdash:nYe,vDash:rYe,Vdash:iYe,VDash:aYe,Vdashl:oYe,veebar:sYe,vee:lYe,Vee:uYe,veeeq:cYe,vellip:fYe,verbar:dYe,Verbar:hYe,vert:pYe,Vert:vYe,VerticalBar:gYe,VerticalLine:mYe,VerticalSeparator:yYe,VerticalTilde:bYe,VeryThinSpace:wYe,Vfr:CYe,vfr:xYe,vltri:kYe,vnsub:_Ye,vnsup:TYe,Vopf:SYe,vopf:EYe,vprop:AYe,vrtri:MYe,Vscr:NYe,vscr:DYe,vsubnE:LYe,vsubne:OYe,vsupnE:RYe,vsupne:IYe,Vvdash:BYe,vzigzag:PYe,Wcirc:FYe,wcirc:zYe,wedbar:HYe,wedge:qYe,Wedge:UYe,wedgeq:VYe,weierp:$Ye,Wfr:WYe,wfr:GYe,Wopf:jYe,wopf:YYe,wp:ZYe,wr:KYe,wreath:JYe,Wscr:XYe,wscr:QYe,xcap:eZe,xcirc:tZe,xcup:nZe,xdtri:rZe,Xfr:iZe,xfr:aZe,xharr:oZe,xhArr:sZe,Xi:lZe,xi:uZe,xlarr:cZe,xlArr:fZe,xmap:dZe,xnis:hZe,xodot:pZe,Xopf:vZe,xopf:gZe,xoplus:mZe,xotime:yZe,xrarr:bZe,xrArr:wZe,Xscr:CZe,xscr:xZe,xsqcup:kZe,xuplus:_Ze,xutri:TZe,xvee:SZe,xwedge:EZe,Yacute:AZe,yacute:MZe,YAcy:NZe,yacy:DZe,Ycirc:LZe,ycirc:OZe,Ycy:RZe,ycy:IZe,yen:BZe,Yfr:PZe,yfr:FZe,YIcy:zZe,yicy:HZe,Yopf:qZe,yopf:UZe,Yscr:VZe,yscr:$Ze,YUcy:WZe,yucy:GZe,yuml:jZe,Yuml:YZe,Zacute:ZZe,zacute:KZe,Zcaron:JZe,zcaron:XZe,Zcy:QZe,zcy:eKe,Zdot:tKe,zdot:nKe,zeetrf:rKe,ZeroWidthSpace:iKe,Zeta:aKe,zeta:oKe,zfr:sKe,Zfr:lKe,ZHcy:uKe,zhcy:cKe,zigrarr:fKe,zopf:dKe,Zopf:hKe,Zscr:pKe,zscr:vKe,zwj:gKe,zwnj:mKe},yKe="Ã",bKe="Ã¡",wKe="Ã",CKe="Ã¢",xKe="Â´",kKe="Ã",_Ke="Ã¦",TKe="Ã",SKe="Ã ",EKe="&",AKe="&",MKe="Ã",NKe="Ã¥",DKe="Ã",LKe="Ã£",OKe="Ã",RKe="Ã¤",IKe="Â¦",BKe="Ã",PKe="Ã§",FKe="Â¸",zKe="Â¢",HKe="Â©",qKe="Â©",UKe="Â¤",VKe="Â°",$Ke="Ã·",WKe="Ã",GKe="Ã©",jKe="Ã",YKe="Ãª",ZKe="Ã",KKe="Ã¨",JKe="Ã",XKe="Ã°",QKe="Ã",eJe="Ã«",tJe="Â½",nJe="Â¼",rJe="Â¾",iJe=">",aJe=">",oJe="Ã",sJe="Ã­",lJe="Ã",uJe="Ã®",cJe="Â¡",fJe="Ã",dJe="Ã¬",hJe="Â¿",pJe="Ã",vJe="Ã¯",gJe="Â«",mJe="<",yJe="<",bJe="Â¯",wJe="Âµ",CJe="Â·",xJe="Â ",kJe="Â¬",_Je="Ã",TJe="Ã±",SJe="Ã",EJe="Ã³",AJe="Ã",MJe="Ã´",NJe="Ã",DJe="Ã²",LJe="Âª",OJe="Âº",RJe="Ã",IJe="Ã¸",BJe="Ã",PJe="Ãµ",FJe="Ã",zJe="Ã¶",HJe="Â¶",qJe="Â±",UJe="Â£",VJe='"',$Je='"',WJe="Â»",GJe="Â®",jJe="Â®",YJe="Â§",ZJe="Â­",KJe="Â¹",JJe="Â²",XJe="Â³",QJe="Ã",eXe="Ã",tXe="Ã¾",nXe="Ã",rXe="Ã",iXe="Ãº",aXe="Ã",oXe="Ã»",sXe="Ã",lXe="Ã¹",uXe="Â¨",cXe="Ã",fXe="Ã¼",dXe="Ã",hXe="Ã½",pXe="Â¥",vXe="Ã¿",gXe={Aacute:yKe,aacute:bKe,Acirc:wKe,acirc:CKe,acute:xKe,AElig:kKe,aelig:_Ke,Agrave:TKe,agrave:SKe,amp:EKe,AMP:AKe,Aring:MKe,aring:NKe,Atilde:DKe,atilde:LKe,Auml:OKe,auml:RKe,brvbar:IKe,Ccedil:BKe,ccedil:PKe,cedil:FKe,cent:zKe,copy:HKe,COPY:qKe,curren:UKe,deg:VKe,divide:$Ke,Eacute:WKe,eacute:GKe,Ecirc:jKe,ecirc:YKe,Egrave:ZKe,egrave:KKe,ETH:JKe,eth:XKe,Euml:QKe,euml:eJe,frac12:tJe,frac14:nJe,frac34:rJe,gt:iJe,GT:aJe,Iacute:oJe,iacute:sJe,Icirc:lJe,icirc:uJe,iexcl:cJe,Igrave:fJe,igrave:dJe,iquest:hJe,Iuml:pJe,iuml:vJe,laquo:gJe,lt:mJe,LT:yJe,macr:bJe,micro:wJe,middot:CJe,nbsp:xJe,not:kJe,Ntilde:_Je,ntilde:TJe,Oacute:SJe,oacute:EJe,Ocirc:AJe,ocirc:MJe,Ograve:NJe,ograve:DJe,ordf:LJe,ordm:OJe,Oslash:RJe,oslash:IJe,Otilde:BJe,otilde:PJe,Ouml:FJe,ouml:zJe,para:HJe,plusmn:qJe,pound:UJe,quot:VJe,QUOT:$Je,raquo:WJe,reg:GJe,REG:jJe,sect:YJe,shy:ZJe,sup1:KJe,sup2:JJe,sup3:XJe,szlig:QJe,THORN:eXe,thorn:tXe,times:nXe,Uacute:rXe,uacute:iXe,Ucirc:aXe,ucirc:oXe,Ugrave:sXe,ugrave:lXe,uml:uXe,Uuml:cXe,uuml:fXe,Yacute:dXe,yacute:hXe,yen:pXe,yuml:vXe},mXe="&",yXe="'",bXe=">",wXe="<",CXe='"',k4={amp:mXe,apos:yXe,gt:bXe,lt:wXe,quot:CXe},t2={},xXe={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},kXe=Dd&&Dd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t2,"__esModule",{value:!0});var RD=kXe(xXe),_Xe=String.fromCodePoint||function(n){var e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function TXe(n){return n>=55296&&n<=57343||n>1114111?"ï¿½":(n in RD.default&&(n=RD.default[n]),_Xe(n))}t2.default=TXe;var $1=Dd&&Dd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.decodeHTML=Ol.decodeHTMLStrict=Ol.decodeXML=void 0;var NS=$1(x4),SXe=$1(gXe),EXe=$1(k4),ID=$1(t2),AXe=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;Ol.decodeXML=_4(EXe.default);Ol.decodeHTMLStrict=_4(NS.default);function _4(n){var e=T4(n);return function(t){return String(t).replace(AXe,e)}}var BD=function(n,e){return n<e?1:-1};Ol.decodeHTML=function(){for(var n=Object.keys(SXe.default).sort(BD),e=Object.keys(NS.default).sort(BD),t=0,r=0;t<e.length;t++)n[r]===e[t]?(e[t]+=";?",r++):e[t]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=T4(NS.default);function o(l){return l.substr(-1)!==";"&&(l+=";"),a(l)}return function(l){return String(l).replace(i,o)}}();function T4(n){return function(t){if(t.charAt(1)==="#"){var r=t.charAt(2);return r==="X"||r==="x"?ID.default(parseInt(t.substr(3),16)):ID.default(parseInt(t.substr(2),10))}return n[t.slice(1,-1)]||t}}var no={},S4=Dd&&Dd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(no,"__esModule",{value:!0});no.escapeUTF8=no.escape=no.encodeNonAsciiHTML=no.encodeHTML=no.encodeXML=void 0;var MXe=S4(k4),E4=M4(MXe.default),A4=N4(E4);no.encodeXML=O4(E4);var NXe=S4(x4),n2=M4(NXe.default),DXe=N4(n2);no.encodeHTML=OXe(n2,DXe);no.encodeNonAsciiHTML=O4(n2);function M4(n){return Object.keys(n).sort().reduce(function(e,t){return e[n[t]]="&"+t+";",e},{})}function N4(n){for(var e=[],t=[],r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];a.length===1?e.push("\\"+a):t.push(a)}e.sort();for(var o=0;o<e.length-1;o++){for(var l=o;l<e.length-1&&e[l].charCodeAt(1)+1===e[l+1].charCodeAt(1);)l+=1;var s=1+l-o;s<3||e.splice(o,s,e[o]+"-"+e[l])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}var D4=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,LXe=String.prototype.codePointAt!=null?function(n){return n.codePointAt(0)}:function(n){return(n.charCodeAt(0)-55296)*1024+n.charCodeAt(1)-56320+65536};function W1(n){return"&#x"+(n.length>1?LXe(n):n.charCodeAt(0)).toString(16).toUpperCase()+";"}function OXe(n,e){return function(t){return t.replace(e,function(r){return n[r]}).replace(D4,W1)}}var L4=new RegExp(A4.source+"|"+D4.source,"g");function RXe(n){return n.replace(L4,W1)}no.escape=RXe;function IXe(n){return n.replace(A4,W1)}no.escapeUTF8=IXe;function O4(n){return function(e){return e.replace(L4,function(t){return n[t]||W1(t)})}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXMLStrict=n.decodeHTML5Strict=n.decodeHTML4Strict=n.decodeHTML5=n.decodeHTML4=n.decodeHTMLStrict=n.decodeHTML=n.decodeXML=n.encodeHTML5=n.encodeHTML4=n.escapeUTF8=n.escape=n.encodeNonAsciiHTML=n.encodeHTML=n.encodeXML=n.encode=n.decodeStrict=n.decode=void 0;var e=Ol,t=no;function r(s,f){return(!f||f<=0?e.decodeXML:e.decodeHTML)(s)}n.decode=r;function i(s,f){return(!f||f<=0?e.decodeXML:e.decodeHTMLStrict)(s)}n.decodeStrict=i;function a(s,f){return(!f||f<=0?t.encodeXML:t.encodeHTML)(s)}n.encode=a;var o=no;Object.defineProperty(n,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(n,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(n,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(n,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(n,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(n,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(n,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var l=Ol;Object.defineProperty(n,"decodeXML",{enumerable:!0,get:function(){return l.decodeXML}}),Object.defineProperty(n,"decodeHTML",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(n,"decodeHTMLStrict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML4",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(n,"decodeHTML5",{enumerable:!0,get:function(){return l.decodeHTML}}),Object.defineProperty(n,"decodeHTML4Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML5Strict",{enumerable:!0,get:function(){return l.decodeHTMLStrict}}),Object.defineProperty(n,"decodeXMLStrict",{enumerable:!0,get:function(){return l.decodeXML}})})(e2);var R4="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",BXe=92,PXe=/[\\&]/,r2="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",FXe=new RegExp("\\\\"+r2+"|"+R4,"gi"),zXe='[&<>"]',PD=new RegExp(zXe,"g"),HXe=function(n){return n.charCodeAt(0)===BXe?n.charAt(1):e2.decodeHTML(n)};function Rp(n){return PXe.test(n)?n.replace(FXe,HXe):n}function Am(n){try{return ebe(n)}catch{return n}}function qXe(n){switch(n){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return n}}function ud(n){return PD.test(n)?n.replace(PD,qXe):n}function DS(n,e){for(var t=[],r=0;r<e;r++)t.push(n);return t.join("")}function FD(n){return n?!/[^ \t]+/.test(n):!0}var UXe=function(){function n(e){this.current=e,this.root=e,this.entering=!0}return n.prototype.next=function(){var e=this.current,t=this.entering;if(e===null)return null;var r=i2(e);return t&&r?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},n.prototype.resumeAt=function(e,t){this.current=e,this.entering=t===!0},n}();function i2(n){switch(n.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var VXe=1,G1={};function $Xe(n){return G1[n]}function LS(n){delete G1[n]}function WXe(){G1={}}var gv=function(){function n(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=VXe++,this.type=e,this.sourcepos=t,G1[this.id]=this}return n.prototype.isContainer=function(){return i2(this)},n.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},n.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},n.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},n.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},n.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},n.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},n.prototype.walker=function(){return new UXe(this)},n}(),Ul=function(n){Io(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=t,i}return e}(gv),GXe=function(n){Io(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.listData=null,t}return e}(Ul),jXe=function(n){Io(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return e}(Ul),YXe=function(n){Io(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return e}(Ul),ZXe=function(n){Io(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.columns=[],t}return e}(Ul),KXe=function(n){Io(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return e}(Ul),JXe=function(n){Io(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return e}(Ul),XXe=function(n){Io(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return e}(Ul),QXe=function(n){Io(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return e}(Ul),eQe=function(n){Io(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return e}(gv),tQe=function(n){Io(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.tickCount=0,t}return e}(gv),nQe=function(n){Io(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.info="",t}return e}(gv);function Ir(n,e){switch(n){case"heading":return new jXe(n,e);case"list":case"item":return new GXe(n,e);case"link":case"image":return new eQe(n,e);case"codeBlock":return new YXe(n,e);case"htmlBlock":return new QXe(n,e);case"table":return new ZXe(n,e);case"tableCell":return new KXe(n,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Ul(n,e);case"code":return new tQe(n,e);case"refDef":return new JXe(n,e);case"customBlock":return new XXe(n,e);case"customInline":return new nQe(n,e);default:return new gv(n,e)}}function I4(n){return n.type==="codeBlock"}function rQe(n){return n.type==="htmlBlock"}function iQe(n){return n.type==="heading"}function zD(n){return n.type==="list"}function aQe(n){return n.type==="table"}function nd(n){return n.type==="refDef"}function B4(n){return n.type==="customBlock"}function oQe(n){return n.type==="customInline"}function Jr(n,e){var t=Ir("text",e);return t.literal=n,t}var P4="[A-Za-z][A-Za-z0-9-]*",sQe="[a-zA-Z_:][a-zA-Z0-9:._-]*",lQe="[^\"'=<>`\\x00-\\x20]+",uQe="'[^']*'",cQe='"[^"]*"',fQe="(?:"+lQe+"|"+uQe+"|"+cQe+")",dQe="(?:\\s*=\\s*"+fQe+")",hQe="(?:\\s+"+sQe+dQe+"?)",F4="<"+P4+hQe+"*\\s*/?>",z4="</"+P4+"\\s*[>]",pQe="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",vQe="[<][?].*?[?][>]",gQe="<![A-Z]+\\s+[^>]*>",mQe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",yQe="(?:"+F4+"|"+z4+"|"+pQe+"|"+vQe+"|"+gQe+"|"+mQe+")",bQe=new RegExp("^"+yQe,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var OS;if(String.fromCodePoint)OS=function(n){try{return String.fromCodePoint(n)}catch(e){if(e instanceof RangeError)return"ï¿½";throw e}};else{var wQe=String.fromCharCode,CQe=Math.floor;OS=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=16384,r=[],i,a,o=-1,l=n.length;if(!l)return"";for(var s="";++o<l;){var f=Number(n[o]);if(!isFinite(f)||f<0||f>1114111||CQe(f)!==f)return"ï¿½";f<=65535?r.push(f):(f-=65536,i=(f>>10)+55296,a=f%1024+56320,r.push(i,a)),(o+1===l||r.length>t)&&(s+=wQe.apply(void 0,r),r.length=0)}return s}}var pT=OS,xQe="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",kQe="[^<\\s]*[^<?!.,:*_?~\\s]",_Qe="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function TQe(n){var e=/\)+$/.exec(n);if(e){for(var t=0,r=0,i=n;r<i.length;r++){var a=i[r];a==="("?t<0?t=1:t+=1:a===")"&&(t-=1)}if(t<0){var o=Math.min(-t,e[0].length);return n.substring(0,n.length-o)}}return n}function SQe(n){return n.replace(/&[A-Za-z0-9]+;$/,"")}function EQe(n){for(var e=new RegExp(_Qe,"g"),t=[],r;r=e.exec(n);){var i=r[0];/[_-]+$/.test(i)||t.push({text:i,range:[r.index,r.index+i.length-1],url:"mailto:"+i})}return t}function AQe(n){for(var e=new RegExp("(www|https?://)."+xQe+kQe,"g"),t=[],r;r=e.exec(n);){var i=SQe(TQe(r[0])),a=r[1]==="www"?"http://":"";t.push({text:i,range:[r.index,r.index+i.length-1],url:""+a+i})}return t}function MQe(n){return MS(MS([],AQe(n)),EQe(n)).sort(function(e,t){return e.range[0]-t.range[0]})}function NQe(n,e){typeof e=="boolean"&&(e=MQe);for(var t,r=function(){var i=t.entering,a=t.node;if(i&&a.type==="text"&&a.parent.type!=="link"){var o=a.literal,l=e(o);if(!l||!l.length)return"continue";for(var s=0,f=a.sourcepos[0],c=f[0],v=f[1],y=function($,z){return[[c,v+$],[c,v+z]]},k=[],x=0,R=l;x<R.length;x++){var d=R[x],h=d.range,w=d.url,A=d.text;h[0]>s&&k.push(Jr(o.substring(s,h[0]),y(s,h[0]-1)));var D=Ir("link",y.apply(void 0,h));D.appendChild(Jr(A,y.apply(void 0,h))),D.destination=w,D.extendedAutolink=!0,k.push(D),s=h[1]+1}s<o.length&&k.push(Jr(o.substring(s),y(s,o.length-1)));for(var I=0,O=k;I<O.length;I++){var F=O[I];a.insertBefore(F)}a.unlink()}};t=n.next();)r()}function r1(n){return n[n.length-1]}function HD(n){return n.slice(1,n.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Mm(n,e){Object.keys(n).forEach(function(t){e(t,n[t])})}function DQe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=wi({},n);return e.forEach(function(i){delete r[i]}),r}function rd(n){return!Object.keys(n).length}function LQe(n){Object.keys(n).forEach(function(e){delete n[e]})}var RS=10,vT=42,Nm=95,OQe=96,qD=91,RQe=93,Dm=126,UD=60,IQe=33,VD=92,BQe=38,$D=40,gT=41,PQe=58,mc=39,yc=34,bc=36,mT="\\\\"+r2,WD=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),FQe=new RegExp('^(?:"('+mT+'|[^"\\x00])*"|'+("'("+mT+"|[^'\\x00])*'")+"|"+("\\(("+mT+"|[^()\\x00])*\\))")),zQe=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,GD=new RegExp("^"+r2),HQe=new RegExp("^"+R4,"i"),qQe=/`+/,UQe=/^`+/,VQe=/\.\.\./g,$Qe=/--+/g,WQe=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,GQe=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,jQe=/^ *(?:\n *)?/,yT=/^[ \t\n\x0b\x0c\x0d]/,jD=/^\s/,YQe=/ *$/,ZQe=/^ */,YD=/^ *(?:\n|$)/,KQe=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,JQe=/^[^\n`\[\]\\!<&*_'"~$]+/m,XQe=function(){function n(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return n.prototype.sourcepos=function(e,t){var r=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,a=[i,e+r];return typeof t=="number"?[a,[i,t+r]]:a},n.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},n.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return t===null?null:(this.pos+=t.index+t[0].length,t[0])},n.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},n.prototype.spnl=function(){return this.match(jQe),!0},n.prototype.parseBackticks=function(e){var t=this.pos+1,r=this.match(UQe);if(r===null)return!1;for(var i=this.pos,a;(a=this.match(qQe))!==null;)if(a===r){var o=this.subject.slice(i,this.pos-r.length),l=this.sourcepos(t,this.pos),s=o.split(`
`);if(s.length>1){var f=r1(s);this.lineIdx+=s.length-1,this.linePosOffset=-(this.pos-f.length-r.length),l[1]=this.sourcepos(this.pos),o=s.join(" ")}var c=Ir("code",l);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?c.literal=o.slice(1,o.length-1):c.literal=o,c.tickCount=r.length,e.appendChild(c),!0}return this.pos=i,e.appendChild(Jr(r,this.sourcepos(t,this.pos-1))),!0},n.prototype.parseBackslash=function(e){var t=this.subject,r;this.pos+=1;var i=this.pos;return this.peek()===RS?(this.pos+=1,r=Ir("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(r),this.nextLine()):GD.test(t.charAt(this.pos))?(e.appendChild(Jr(t.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(Jr("\\",this.sourcepos(i,i))),!0},n.prototype.parseAutolink=function(e){var t,r,i,a=this.pos+1;return(t=this.match(WQe))?(r=t.slice(1,t.length-1),i=Ir("link",this.sourcepos(a,this.pos)),i.destination=Am("mailto:"+r),i.title="",i.appendChild(Jr(r,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):(t=this.match(GQe))?(r=t.slice(1,t.length-1),i=Ir("link",this.sourcepos(a,this.pos)),i.destination=Am(r),i.title="",i.appendChild(Jr(r,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):!1},n.prototype.parseHtmlTag=function(e){var t=this.pos+1,r=this.match(bQe);if(r===null)return!1;var i=Ir("htmlInline",this.sourcepos(t,this.pos));return i.literal=r,e.appendChild(i),!0},n.prototype.scanDelims=function(e){var t=0,r=this.pos;if(e===mc||e===yc)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(t===0||t<2&&(e===Dm||e===bc))return this.pos=r,null;var i=r===0?`
`:this.subject.charAt(r-1),a=this.peek(),o;a===-1?o=`
`:o=pT(a);var l=jD.test(o),s=WD.test(o),f=jD.test(i),c=WD.test(i),v=!l&&(!s||f||c),y=!f&&(!c||l||s),k,x;return e===Nm?(k=v&&(!y||c),x=y&&(!v||s)):e===mc||e===yc?(k=v&&!y,x=y):e===bc?(k=!l,x=!f):(k=v,x=y),this.pos=r,{numdelims:t,canOpen:k,canClose:x}},n.prototype.handleDelim=function(e,t){var r=this.scanDelims(e);if(!r)return!1;var i=r.numdelims,a=this.pos+1,o;this.pos+=i,e===mc?o="â":e===yc?o="â":o=this.subject.slice(a-1,this.pos);var l=Jr(o,this.sourcepos(a,this.pos));return t.appendChild(l),(r.canOpen||r.canClose)&&(this.options.smart||e!==mc&&e!==yc)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:l,previous:this.delimiters,next:null,canOpen:r.canOpen,canClose:r.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},n.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},n.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},n.prototype.processEmphasis=function(e){var t,r,i,a,o,l,s,f=!1,c=(t={},t[Nm]=[e,e,e],t[vT]=[e,e,e],t[mc]=[e],t[yc]=[e],t[Dm]=[e],t[bc]=[e],t);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var v=i.cc,y=v===Nm||v===vT;if(!i.canClose)i=i.next;else{for(r=i.previous,s=!1;r!==null&&r!==e&&r!==c[v][y?i.origdelims%3:0];){if(f=y&&(i.canOpen||r.canClose)&&i.origdelims%3!==0&&(r.origdelims+i.origdelims)%3===0,r.cc===i.cc&&r.canOpen&&!f){s=!0;break}r=r.previous}if(a=i,y||v===Dm||v===bc){if(!s)i=i.next;else if(r){var k=i.numdelims>=2&&r.numdelims>=2?2:1,x=y?0:1;o=r.node,l=i.node;var R=y?k===1?"emph":"strong":"strike";v===bc&&(R="customInline");var d=Ir(R),h=o.sourcepos[1],w=l.sourcepos[0];d.sourcepos=[[h[0],h[1]-k+1],[w[0],w[1]+k-1]],o.sourcepos[1][1]-=k,l.sourcepos[0][1]+=k,o.literal=o.literal.slice(k),l.literal=l.literal.slice(k),r.numdelims-=k,i.numdelims-=k;for(var A=o.next,D=void 0;A&&A!==l;)D=A.next,A.unlink(),d.appendChild(A),A=D;if(v===bc){var I=d.firstChild,O=I.literal||"",F=O.split(/\s/)[0];d.info=F,O.length<=F.length?I.unlink():(I.sourcepos[0][1]+=F.length,I.literal=O.replace(F+" ",""))}if(o.insertAfter(d),this.removeDelimitersBetween(r,i),r.numdelims<=x&&(r.numdelims===0&&o.unlink(),this.removeDelimiter(r)),i.numdelims<=x){i.numdelims===0&&l.unlink();var $=i.next;this.removeDelimiter(i),i=$}}}else v===mc?(i.node.literal="â",s&&(r.node.literal="â"),i=i.next):v===yc&&(i.node.literal="â",s&&(r.node.literal="â"),i=i.next);s||(c[v][y?a.origdelims%3:0]=a.previous,a.canOpen||this.removeDelimiter(a))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},n.prototype.parseLinkTitle=function(){var e=this.match(FQe);return e===null?null:Rp(e.substr(1,e.length-2))},n.prototype.parseLinkDestination=function(){var e=this.match(zQe);if(e===null){if(this.peek()===UD)return null;for(var t=this.pos,r=0,i=void 0;(i=this.peek())!==-1;)if(i===VD&&GD.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===$D)this.pos+=1,r+=1;else if(i===gT){if(r<1)break;this.pos+=1,r-=1}else{if(yT.exec(pT(i))!==null)break;this.pos+=1}return this.pos===t&&i!==gT||r!==0?null:(e=this.subject.substr(t,this.pos-t),Am(Rp(e)))}return Am(Rp(e.substr(1,e.length-2)))},n.prototype.parseLinkLabel=function(){var e=this.match(KQe);return e===null||e.length>1001?0:e.length},n.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var r=Jr("[",this.sourcepos(this.pos,this.pos));return e.appendChild(r),this.addBracket(r,t,!1),!0},n.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===qD){this.pos+=1;var r=Jr("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(r),this.addBracket(r,t+1,!0)}else{var r=Jr("!",this.sourcepos(this.pos,this.pos));e.appendChild(r)}return!0},n.prototype.parseCloseBracket=function(e){var t=null,r=null,i=!1;this.pos+=1;var a=this.pos,o=this.brackets;if(o===null)return e.appendChild(Jr("]",this.sourcepos(a,a))),!0;if(!o.active)return e.appendChild(Jr("]",this.sourcepos(a,a))),this.removeBracket(),!0;var l=o.image,s=this.pos;this.peek()===$D&&(this.pos++,this.spnl()&&(t=this.parseLinkDestination())!==null&&this.spnl()&&(yT.test(this.subject.charAt(this.pos-1))&&(r=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===gT?(this.pos+=1,i=!0):this.pos=s);var f="";if(!i){var c=this.pos,v=this.parseLinkLabel();if(v>2?f=this.subject.slice(c,c+v):o.bracketAfter||(f=this.subject.slice(o.index,a)),v===0&&(this.pos=s),f){f=HD(f);var y=this.refMap[f];y&&(t=y.destination,r=y.title,i=!0)}}if(i){var k=Ir(l?"image":"link");k.destination=t,k.title=r||"",k.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var x=o.node.next,R=void 0;x;)R=x.next,x.unlink(),k.appendChild(x),x=R;if(e.appendChild(k),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!l)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:f}),!0}return this.removeBracket(),this.pos=a,e.appendChild(Jr("]",this.sourcepos(a,a))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:f}),!0},n.prototype.addBracket=function(e,t,r){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(r?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:r,active:!0}},n.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},n.prototype.parseEntity=function(e){var t,r=this.pos+1;return(t=this.match(HQe))?(e.appendChild(Jr(e2.decodeHTML(t),this.sourcepos(r,this.pos))),!0):!1},n.prototype.parseString=function(e){var t,r=this.pos+1;if(t=this.match(JQe)){if(this.options.smart){var i=t.replace(VQe,"â¦").replace($Qe,function(o){var l=0,s=0;return o.length%3===0?s=o.length/3:o.length%2===0?l=o.length/2:o.length%3===2?(l=1,s=(o.length-2)/3):(l=2,s=(o.length-4)/3),DS("â",s)+DS("â",l)});e.appendChild(Jr(i,this.sourcepos(r,this.pos)))}else{var a=Jr(t,this.sourcepos(r,this.pos));e.appendChild(a)}return!0}return!1},n.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&t.type==="text"&&t.literal[t.literal.length-1]===" "){var r=t.literal[t.literal.length-2]===" ",i=t.literal.length;t.literal=t.literal.replace(YQe,"");var a=i-t.literal.length;t.sourcepos[1][1]-=a,e.appendChild(Ir(r?"linebreak":"softbreak",this.sourcepos(this.pos-a,this.pos)))}else e.appendChild(Ir("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(ZQe),!0},n.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var r=null,i=this.pos,a=this.parseLinkLabel();if(a===0)return 0;var o=this.subject.substr(0,a);if(this.peek()===PQe)this.pos++;else return this.pos=i,0;this.spnl();var l=this.parseLinkDestination();if(l===null)return this.pos=i,0;var s=this.pos;this.spnl(),this.pos!==s&&(r=this.parseLinkTitle()),r===null&&(r="",this.pos=s);var f=!0;if(this.match(YD)===null&&(r===""?f=!1:(r="",this.pos=s,f=this.match(YD)!==null)),!f)return this.pos=i,0;var c=HD(o);if(c==="")return this.pos=i,0;var v=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=v[1][0]+1;var y=Ir("refDef",v);return y.title=r,y.dest=l,y.label=c,e.insertBefore(y),t[c]?this.refDefCandidateMap[y.id]=y:t[c]=PS(y),this.pos-i},n.prototype.mergeTextNodes=function(e){for(var t,r=[];t=e.next();){var i=t.entering,a=t.node;if(i&&a.type==="text")r.push(a);else if(r.length===1)r=[];else if(r.length>1){var o=r[0],l=r[r.length-1];o.sourcepos&&l.sourcepos&&(o.sourcepos[1]=l.sourcepos[1]),o.next=l.next,o.next&&(o.next.prev=o);for(var s=1;s<r.length;s+=1)o.literal+=r[s].literal,r[s].unlink();r=[]}}},n.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),r=!1,i=0,a={line:0,ch:0},o=0;o<t.length;o+=1){var l=t[o];if(yT.test(l))break;if(/\:/.test(l)&&i===0){if(r)break;var s=l.indexOf(":")===l.length-1?o+1:o;a={line:s,ch:t[s].length},r=!0}var f=l.match(/'|"/g);if(f&&(i+=f.length),i===2){a={line:o,ch:l.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+a.line,a.ch]]},n.prototype.parseInline=function(e){var t,r=!1,i=this.peek();if(i===-1)return!1;switch(i){case RS:r=this.parseNewline(e);break;case VD:r=this.parseBackslash(e);break;case OQe:r=this.parseBackticks(e);break;case vT:case Nm:case Dm:case bc:r=this.handleDelim(i,e);break;case mc:case yc:r=!!(!((t=this.options)===null||t===void 0)&&t.smart)&&this.handleDelim(i,e);break;case qD:r=this.parseOpenBracket(e);break;case IQe:r=this.parseBang(e);break;case RQe:r=this.parseCloseBracket(e);break;case UD:r=this.parseAutolink(e)||this.parseHtmlTag(e);break;case BQe:e.disabledEntityParse||(r=this.parseEntity(e));break;default:r=this.parseString(e);break}return r||(this.pos+=1,e.appendChild(Jr(pT(i),this.sourcepos(this.pos,this.pos+1)))),!0},n.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],iQe(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,r=t.extendedAutolinks,i=t.customParser;if(r&&NQe(e.walker(),r),i&&e.firstChild)for(var a,o=e.firstChild.walker();a=o.next();){var l=a.node,s=a.entering;i[l.type]&&i[l.type](l,{entering:s,options:this.options})}},n}(),QQe=/^\[([ \txX])\][ \t]+/;function eet(n,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var t=e.firstChild,r=t.stringContent.match(QQe);if(r){var i=r[0].length;t.stringContent=t.stringContent.substring(i-1),t.sourcepos[0][1]+=i,t.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(r[1])}}}var tet={continue:function(){return 0},finalize:function(){},canContain:function(n){return n==="tableHead"||n==="tableBody"},acceptsLines:!1},net={continue:function(){return 0},finalize:function(){},canContain:function(n){return n==="tableRow"},acceptsLines:!1},ret={continue:function(){return 1},finalize:function(){},canContain:function(n){return n==="tableRow"||n==="tableDelimRow"},acceptsLines:!1},iet={continue:function(){return 1},finalize:function(){},canContain:function(n){return n==="tableDelimCell"},acceptsLines:!1},aet={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},oet={continue:function(){return 1},finalize:function(){},canContain:function(n){return n==="tableCell"},acceptsLines:!1},set={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},i1=4,H4=9,q4=62,uet=60,U4=32,V4=91,$4=/[^ \t\f\v\r\n]/,cet=/^(?:`{3,}|~{3,})(?= *$)/;function ZD(n){for(var e=n;e;){if(e.lastLineBlank)return!0;var t=e.type;if(!e.lastLineChecked&&(t==="list"||t==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function ro(n,e){return e<n.length?n.charCodeAt(e):-1}function W4(n){return!$4.test(n)}function Ld(n){return n===U4||n===H4}var fet=/^\$\$$/,det={continue:function(n,e){var t=n.currentLine,r=t.match(fet);if(r)return n.lastLineLength=r[0].length,n.finalize(e,n.lineNumber),2;for(var i=e.offset;i>0&&Ld(ro(t,n.offset));)n.advanceOffset(1,!0),i--;return 0},finalize:function(n,e){if(e.stringContent!==null){var t=e.stringContent,r=t.indexOf(`
`),i=t.slice(0,r),a=t.slice(r+1),o=i.match(/^(\s*)(.*)/);e.info=Rp(o[2].trim()),e.literal=a,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},G4={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},het={continue:function(){return 0},finalize:function(){},canContain:function(n){return n!=="item"},acceptsLines:!1},pet={continue:function(){return 0},finalize:function(n,e){for(var t=e.firstChild;t;){if(ZD(t)&&t.next){e.listData.tight=!1;break}for(var r=t.firstChild;r;){if(ZD(r)&&(t.next||r.next)){e.listData.tight=!1;break}r=r.next}t=t.next}},canContain:function(n){return n==="item"},acceptsLines:!1},vet={continue:function(n){var e=n.currentLine;if(!n.indented&&ro(e,n.nextNonspace)===q4)n.advanceNextNonspace(),n.advanceOffset(1,!1),Ld(ro(e,n.offset))&&n.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(n){return n!=="item"},acceptsLines:!1},get={continue:function(n,e){if(n.blank){if(e.firstChild===null)return 1;n.advanceNextNonspace()}else if(n.indent>=e.listData.markerOffset+e.listData.padding)n.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:eet,canContain:function(n){return n!=="item"},acceptsLines:!1},met={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},yet={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},bet={continue:function(n,e){var t=n.currentLine,r=n.indent;if(e.isFenced){var i=r<=3&&t.charAt(n.nextNonspace)===e.fenceChar&&t.slice(n.nextNonspace).match(cet);if(i&&i[0].length>=e.fenceLength)return n.lastLineLength=n.offset+r+i[0].length,n.finalize(e,n.lineNumber),2;for(var a=e.fenceOffset;a>0&&Ld(ro(t,n.offset));)n.advanceOffset(1,!0),a--}else if(r>=i1)n.advanceOffset(i1,!0);else if(n.blank)n.advanceNextNonspace();else return 1;return 0},finalize:function(n,e){var t;if(e.stringContent!==null){if(e.isFenced){var r=e.stringContent,i=r.indexOf(`
`),a=r.slice(0,i),o=r.slice(i+1),l=a.match(/^(\s*)(.*)/);e.infoPadding=l[1].length,e.info=Rp(l[2].trim()),e.literal=o}else e.literal=(t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},wet={continue:function(n,e){return n.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(n,e){var t;e.literal=((t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},Cet={continue:function(n){return n.blank?1:0},finalize:function(n,e){if(e.stringContent!==null){for(var t,r=!1;ro(e.stringContent,0)===V4&&(t=n.inlineParser.parseReference(e,n.refMap));)e.stringContent=e.stringContent.slice(t),r=!0;r&&W4(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},xet=G4,ket=G4,id={document:het,list:pet,blockQuote:vet,item:get,heading:met,thematicBreak:yet,codeBlock:bet,htmlBlock:wet,paragraph:Cet,table:tet,tableBody:net,tableHead:ret,tableRow:oet,tableCell:set,tableDelimRow:iet,tableDelimCell:aet,refDef:xet,customBlock:det,frontMatter:ket};function IS(n){for(var e=0,t=0,r=[],i=0;i<n.length;i+=1)if(n[i]==="|"&&n[i-1]!=="\\"){var a=n.substring(e,i);e===0&&FD(a)?t=i+1:r.push(a),e=i+1}if(e<n.length){var a=n.substring(e,n.length);FD(a)||r.push(a)}return[t,r]}function BS(n,e,t,r){for(var i=[],a=0,o=e;a<o.length;a++){var l=o[a],s=l.match(/^[ \t]+/),f=s?s[0].length:0,c=void 0,v=void 0;if(f===l.length)f=0,c=0,v="";else{var y=l.match(/[ \t]+$/);c=y?y[0].length:0,v=l.slice(f,l.length-c)}var k=r+f,x=Ir(n,[[t,r],[t,r+l.length-1]]);x.stringContent=v.replace(/\\\|/g,"|"),x.startIdx=i.length,x.endIdx=i.length,x.lineOffsets=[k-1],x.paddingLeft=f,x.paddingRight=c,i.push(x),r+=l.length+1}return i}function _et(n){var e=null,t=n.stringContent,r=t[0],i=t[t.length-1];return i===":"?e=r===":"?"center":"right":r===":"&&(e="left"),{align:e}}var Tet=function(n,e){var t=e.stringContent;if(e.type==="paragraph"&&!n.indented&&!n.blank){var r=t.length-1,i=t.lastIndexOf(`
`,r-1)+1,a=t.slice(i,r),o=n.currentLine.slice(n.nextNonspace),l=IS(a),s=l[0],f=l[1],c=IS(o),v=c[0],y=c[1],k=/^[ \t]*:?-+:?[ \t]*$/;if(!f.length||!y.length||y.some(function($){return!k.test($)})||y.length===1&&o.indexOf("|")!==0)return 0;var x=e.lineOffsets,R=n.lineNumber-1,d=r1(x)+1,h=Ir("table",[[R,d],[n.lineNumber,n.offset]]);if(h.columns=y.map(function(){return{align:null}}),e.insertAfter(h),x.length===1)e.unlink();else{e.stringContent=t.slice(0,i);var w=t.lastIndexOf(`
`,i-2)+1,A=i-w-1;n.lastLineLength=x[x.length-2]+A,n.finalize(e,R-1)}n.advanceOffset(n.currentLine.length-n.offset,!1);var D=Ir("tableHead",[[R,d],[n.lineNumber,n.offset]]);h.appendChild(D);var I=Ir("tableRow",[[R,d],[R,d+a.length-1]]),O=Ir("tableDelimRow",[[n.lineNumber,n.nextNonspace+1],[n.lineNumber,n.offset]]);D.appendChild(I),D.appendChild(O),BS("tableCell",f,R,d+s).forEach(function($){I.appendChild($)});var F=BS("tableDelimCell",y,n.lineNumber,n.nextNonspace+1+v);return F.forEach(function($){O.appendChild($)}),h.columns=F.map(_et),n.tip=h,2}return 0},Eet=function(n,e){if(e.type!=="table"&&e.type!=="tableBody"||!n.blank&&n.currentLine.indexOf("|")===-1)return 0;if(n.advanceOffset(n.currentLine.length-n.offset,!1),n.blank){var t=e;return e.type==="tableBody"&&(t=e.parent,n.finalize(e,n.lineNumber-1)),n.finalize(t,n.lineNumber-1),0}var r=e;e.type==="table"&&(r=n.addChild("tableBody",n.nextNonspace),r.stringContent=null);var i=Ir("tableRow",[[n.lineNumber,n.nextNonspace+1],[n.lineNumber,n.currentLine.length]]);r.appendChild(i);var a=r.parent,o=n.currentLine.slice(n.nextNonspace),l=IS(o),s=l[0],f=l[1];return BS("tableCell",f,n.lineNumber,n.nextNonspace+1+s).forEach(function(c,v){v>=a.columns.length&&(c.ignored=!0),i.appendChild(c)}),2},Aet=/^(\$\$)(\s*[a-zA-Z])+/,Met=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,Net=function(n){var e;if(!n.indented&&!Met.test(n.currentLine)&&(e=n.currentLine.match(Aet))){var t=e[1].length;n.closeUnmatchedBlocks();var r=n.addChild("customBlock",n.nextNonspace);return r.syntaxLength=t,r.offset=n.indent,n.advanceNextNonspace(),n.advanceOffset(t,!1),2}return 0},Det=/^`{3,}(?!.*`)|^~{3,}/,Let=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+F4+"|"+z4+")\\s*$","i")],Oet=/^(?:=+|-+)[ \t]*$/,Ret=/^#{1,6}(?:[ \t]+|$)/,Iet=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,j4=/^[*+-]/,Y4=/^(\d{1,9})([.)])/;function Bet(n,e){var t=n.currentLine.slice(n.nextNonspace),r,i,a={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:n.indent,task:!1,checked:!1};if(n.indent>=4)return null;if(r=t.match(j4))a.type="bullet",a.bulletChar=r[0][0];else if((r=t.match(Y4))&&(e.type!=="paragraph"||r[1]==="1"))a.type="ordered",a.start=parseInt(r[1],10),a.delimiter=r[2];else return null;if(i=ro(n.currentLine,n.nextNonspace+r[0].length),!(i===-1||i===H4||i===U4)||e.type==="paragraph"&&!n.currentLine.slice(n.nextNonspace+r[0].length).match($4))return null;n.advanceNextNonspace(),n.advanceOffset(r[0].length,!0);var o=n.column,l=n.offset;do n.advanceOffset(1,!0),i=ro(n.currentLine,n.offset);while(n.column-o<5&&Ld(i));var s=ro(n.currentLine,n.offset)===-1,f=n.column-o;return f>=5||f<1||s?(a.padding=r[0].length+1,n.column=o,n.offset=l,Ld(ro(n.currentLine,n.offset))&&n.advanceOffset(1,!0)):a.padding=r[0].length+f,a}function Pet(n,e){return n.type===e.type&&n.delimiter===e.delimiter&&n.bulletChar===e.bulletChar}function Z4(n,e){return n.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var Fet=function(n){return!n.indented&&ro(n.currentLine,n.nextNonspace)===q4?(n.advanceNextNonspace(),n.advanceOffset(1,!1),Ld(ro(n.currentLine,n.offset))&&n.advanceOffset(1,!0),n.closeUnmatchedBlocks(),n.addChild("blockQuote",n.nextNonspace),1):0},zet=function(n,e){var t;if(!n.indented&&!Z4(n,e)&&(t=n.currentLine.slice(n.nextNonspace).match(Ret))){n.advanceNextNonspace(),n.advanceOffset(t[0].length,!1),n.closeUnmatchedBlocks();var r=n.addChild("heading",n.nextNonspace);return r.level=t[0].trim().length,r.headingType="atx",r.stringContent=n.currentLine.slice(n.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),n.advanceOffset(n.currentLine.length-n.offset),2}return 0},Het=function(n){var e;if(!n.indented&&(e=n.currentLine.slice(n.nextNonspace).match(Det))){var t=e[0].length;n.closeUnmatchedBlocks();var r=n.addChild("codeBlock",n.nextNonspace);return r.isFenced=!0,r.fenceLength=t,r.fenceChar=e[0][0],r.fenceOffset=n.indent,n.advanceNextNonspace(),n.advanceOffset(t,!1),2}return 0},qet=function(n,e){if(!n.indented&&ro(n.currentLine,n.nextNonspace)===uet){var t=n.currentLine.slice(n.nextNonspace),r=n.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=t.match(Let[i]);if(a){if(i===7){if(e.type==="paragraph")return 0;if(r.length>0){var o=new RegExp("</?(?:"+r.join("|")+")","i");if(o.test(a[0]))return 0}}n.closeUnmatchedBlocks();var l=n.addChild("htmlBlock",n.offset);return l.htmlBlockType=i,2}}}return 0},Uet=function(n,e){var t;if(e.stringContent!==null&&!n.indented&&e.type==="paragraph"&&!Z4(n,e.parent)&&(t=n.currentLine.slice(n.nextNonspace).match(Oet))){n.closeUnmatchedBlocks();for(var r=void 0;ro(e.stringContent,0)===V4&&(r=n.inlineParser.parseReference(e,n.refMap));)e.stringContent=e.stringContent.slice(r);if(e.stringContent.length>0){var i=Ir("heading",e.sourcepos);return i.level=t[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),n.tip=i,n.advanceOffset(n.currentLine.length-n.offset,!1),2}return 0}return 0},Vet=function(n){return!n.indented&&Iet.test(n.currentLine.slice(n.nextNonspace))?(n.closeUnmatchedBlocks(),n.addChild("thematicBreak",n.nextNonspace),n.advanceOffset(n.currentLine.length-n.offset,!1),2):0},$et=function(n,e){var t,r=e;return(!n.indented||e.type==="list")&&(t=Bet(n,r))?(n.closeUnmatchedBlocks(),(n.tip.type!=="list"||!Pet(r.listData,t))&&(r=n.addChild("list",n.nextNonspace),r.listData=t),r=n.addChild("item",n.nextNonspace),r.listData=t,1):0},Wet=function(n){return n.indented&&n.tip.type!=="paragraph"&&!n.blank?(n.advanceOffset(i1,!0),n.closeUnmatchedBlocks(),n.addChild("codeBlock",n.offset),2):0},bT=[Fet,zet,Het,qet,Uet,Vet,$et,Wet,Tet,Eet,Net],K4=/^(-{3}|\+{3}|;{3})$/,Get=function(n,e){var t=n.currentLine,r=n.lineNumber,i=n.indented;if(r===1&&!i&&e.type==="document"&&K4.test(t)){n.closeUnmatchedBlocks();var a=n.addChild("frontMatter",n.nextNonspace);return a.stringContent=t,n.advanceNextNonspace(),n.advanceOffset(t.length,!1),2}return 0},jet={continue:function(n,e){var t=n.currentLine,r=t.match(K4);return e.type==="frontMatter"&&r?(e.stringContent+=t,n.lastLineLength=r[0].length,n.finalize(e,n.lineNumber),2):0},finalize:function(n,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},Yet=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],Zet=/^[#`~*+_=<>0-9-;$]/,Ket=/\r\n|\n|\r/;function wT(){return Ir("document",[[1,1],[0,0]])}var Jet={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},Xet=function(){function n(e){this.options=wi(wi({},Jet),e),this.doc=wT(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(id.frontMatter=jet,bT.unshift(Get)),this.inlineParser=new XQe(this.options)}return n.prototype.advanceOffset=function(e,t){t===void 0&&(t=!1);for(var r=this.currentLine,i,a,o;e>0&&(o=r[this.offset]);)o==="	"?(i=4-this.column%4,t?(this.partiallyConsumedTab=i>e,a=i>e?e:i,this.column+=a,this.offset+=this.partiallyConsumedTab?0:1,e-=a):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},n.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},n.prototype.findNextNonspace=function(){for(var e=this.currentLine,t=this.offset,r=this.column,i;(i=e.charAt(t))!=="";)if(i===" ")t++,r++;else if(i==="	")t++,r+=4-r%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=t,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=i1},n.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=DS(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},n.prototype.addChild=function(e,t){for(;!id[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var r=t+1,i=Ir(e,[[this.lineNumber,r],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},n.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},n.prototype.finalize=function(e,t){var r=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],id[e.type].finalize(this,e),this.tip=r},n.prototype.processInlines=function(e){var t,r=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=i.next();){var a=t.node,o=t.entering,l=a.type;r&&r[l]&&r[l](a,{entering:o,options:this.options}),!o&&(l==="paragraph"||l==="heading"||l==="tableCell"&&!a.ignored)&&this.inlineParser.parse(a)}},n.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"ï¿½")),this.currentLine=e;for(var r=!0,i;(i=t.lastChild)&&i.open;){switch(t=i,this.findNextNonspace(),id[t.type].continue(this,t)){case 0:break;case 1:r=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var a=t.type!=="paragraph"&&id[t.type].acceptsLines,o=bT.length;!a;){if(this.findNextNonspace(),t.type!=="table"&&t.type!=="tableBody"&&t.type!=="paragraph"&&!this.indented&&!Zet.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var l=0;l<o;){var s=bT[l](this,t);if(s===1){t=this.tip;break}else if(s===2){t=this.tip,a=!0;break}else l++}if(l===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var f=t.type,c=this.blank&&!(f==="blockQuote"||I4(t)&&t.isFenced||f==="item"&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),v=t;v;)v.lastLineBlank=c,v=v.parent;id[f].acceptsLines?(this.addLine(),rQe(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&Yet[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},n.prototype.parse=function(e,t){this.doc=wT(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var r=e.split(Ket),i=r.length;this.lines=t||r,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===RS&&(i-=1);for(var a=0;a<i;a++)this.incorporateLine(r[a]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},n.prototype.partialParseStart=function(e,t){this.doc=wT(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var r=t.length,i=0;i<r;i++)this.incorporateLine(t[i]);return this.doc},n.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},n.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},n.prototype.setRefMaps=function(e,t,r){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=r},n.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){LQe(e)})},n}();function KD(n,e){return n[0]<e[0]?1:n[0]>e[0]?-1:n[1]<e[1]?1:n[1]>e[1]?-1:0}function Qet(n,e){var t=n[0],r=n[1];return KD(r,e)===1?1:KD(t,e)===-1?-1:0}function ett(n,e){if(!(n.parent!==e.parent||n===e)){for(var t=n.next;t&&t!==e;){for(var r=t.next,i=0,a=["parent","prev","next"];i<a.length;i++){var o=a[i];t[o]&&(LS(t[o].id),t[o]=null)}t=r}n.next=e.next,e.next?e.next.prev=n:n.parent.lastChild=n}}function ttt(n){for(var e=[],t=n.firstChild;t;)e.push(t),t=t.next;return e}function JD(n,e){for(var t=0,r=e;t<r.length;t++){var i=r[t];n.insertBefore(i)}}function ntt(n,e){for(var t=e.length-1;t>=0;t-=1)n.prependChild(e[t])}function rtt(n,e){if(!(!n||!n.parent||e===0)){var t=n.parent.walker();t.resumeAt(n,!0);for(var r;r=t.next();){var i=r.node,a=r.entering;a&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function J4(n,e){var t=n[0],r=n[1];return r[0]<e?1:t[0]>e?-1:0}function Lm(n,e){for(var t=n.firstChild;t;){var r=J4(t.sourcepos,e);if(r===0)return t;if(r===-1)return t.prev||t;t=t.next}return n.lastChild}function itt(n){for(;n.lastChild;)n=n.lastChild;return n}function att(n){for(;n.parent&&n.parent.type!=="document"&&n.parent.sourcepos[0][0]===n.sourcepos[0][0];)n=n.parent;return n}function ott(n,e){for(var t=n.firstChild,r=null;t;){var i=J4(t.sourcepos,e);if(i===0){if(t.sourcepos[0][0]===e||!t.firstChild)return t;r=t,t=t.firstChild}else{if(i===-1)break;r=t,t=t.next}}return r?att(itt(r)):null}function stt(n,e){for(var t=n,r=null;t;){var i=Qet(t.sourcepos,e);if(i===0)if(t.firstChild)r=t,t=t.firstChild;else return t;else{if(i===-1)return r;if(t.next)t=t.next;else return r}}return t}function X4(n){return $Xe(n)||null}function CT(n,e,t){if(t===void 0&&(t=null),e)for(var r=e.walker();e&&e!==t;){n(e);var i=r.next();if(i)e=i.node;else break}}function ltt(n){var e=X4(n);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var XD=/\r\n|\n|\r/;function utt(n){var e=n.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var t=e?n.slice(e.length):n;return j4.test(t)||Y4.test(t)}function ctt(n){return!W4(n)&&n.indexOf("|")!==-1}function PS(n){var e=n.id,t=n.title,r=n.sourcepos,i=n.dest;return{id:e,title:t,sourcepos:r,unlinked:!1,destination:i}}var Q4=function(){function n(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(t!=null&&t.referenceDefinition),this.parser=new Xet(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(XD),this.root=this.parser.parse(e,this.lineTexts)}return n.prototype.updateLineTexts=function(e,t,r){var i,a=e[0],o=e[1],l=t[0],s=t[1],f=r.split(XD),c=f.length,v=this.lineTexts[a-1],y=this.lineTexts[l-1];f[0]=v.slice(0,o-1)+f[0],f[c-1]=f[c-1]+y.slice(s-1);var k=l-a+1;return(i=this.lineTexts).splice.apply(i,MS([a-1,k],f)),c-k},n.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;e[t]==="";)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},n.prototype.replaceRangeNodes=function(e,t,r){e?(JD(e,r),ett(e,t),[e.id,t.id].forEach(function(i){return LS(i)}),e.unlink()):t?(JD(t,r),LS(t.id),t.unlink()):ntt(this.root,r)},n.prototype.getNodeRange=function(e,t){var r=Lm(this.root,e[0]),i=Lm(this.root,t[0]);return i&&i.next&&t[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[r,i]},n.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(r){r(t)})},n.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},n.prototype.parseRange=function(e,t,r,i){e&&e.prev&&(zD(e.prev)&&utt(this.lineTexts[r-1])||aQe(e.prev)&&ctt(this.lineTexts[r-1]))&&(e=e.prev,r=e.sourcepos[0][0]);for(var a=this.lineTexts.slice(r-1,i),o=this.parser.partialParseStart(r,a),l=t?t.next:this.root.firstChild,s=o.lastChild,f=s&&I4(s)&&s.open,c=s&&B4(s)&&s.open,v=s&&zD(s);(f||c)&&l||v&&l&&(l.type==="list"||l.sourcepos[0][1]>=2);){var y=this.extendEndLine(l.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,y)),e||(e=t),t=l,i=y,l=l.next}this.parser.partialParseFinish();var k=ttt(o);return{newNodes:k,extStartNode:e,extEndNode:t}},n.prototype.getRemovedNodeRange=function(e,t){return!e||e&&nd(e)||t&&nd(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},n.prototype.markDeletedRefMap=function(e,t){var r=this;if(!rd(this.refMap)){var i=function(a){if(nd(a)){var o=r.refMap[a.label];o&&a.id===o.id&&(o.unlinked=!0)}};e&&CT(i,e.parent,t),t&&CT(i,t)}},n.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!rd(this.refMap)){var r=function(i){if(nd(i)){var a=i.label,o=t.refMap[a];(!o||o.unlinked)&&(t.refMap[a]=PS(i))}};e.forEach(function(i){CT(r,i)})}},n.prototype.replaceWithRefDefCandidate=function(){var e=this;rd(this.refDefCandidateMap)||Mm(this.refDefCandidateMap,function(t,r){var i=r.label,a=r.sourcepos,o=e.refMap[i];(!o||o.unlinked||o.sourcepos[0][0]>a[0][0])&&(e.refMap[i]=PS(r))})},n.prototype.getRangeWithRefDef=function(e,t,r,i,a){if(this.referenceDefinition&&!rd(this.refMap)){var o=Lm(this.root,e-1),l=Lm(this.root,t+1);o&&nd(o)&&o!==r&&o!==i&&(r=o,e=r.sourcepos[0][0]),l&&nd(l)&&l!==r&&l!==i&&(i=l,t=this.extendEndLine(i.sourcepos[1][0]+a))}return[r,i,e,t]},n.prototype.parse=function(e,t,r){r===void 0&&(r=0);var i=this.getNodeRange(e,t),a=i[0],o=i[1],l=a?Math.min(a.sourcepos[0][0],e[0]):e[0],s=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+r),f=this.parseRange.apply(this,this.getRangeWithRefDef(l,s,a,o,r)),c=f.newNodes,v=f.extStartNode,y=f.extEndNode,k=this.getRemovedNodeRange(v,y),x=y?y.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(v,y),this.replaceRangeNodes(v,y,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(v,y,c),{nodes:c,removedNodeRange:k,nextNode:x}},n.prototype.parseRefLink=function(){var e=this,t=[];return rd(this.refMap)||Mm(this.refMap,function(r,i){i.unlinked&&delete e.refMap[r],Mm(e.refLinkCandidateMap,function(a,o){var l=o.node,s=o.refLabel;s===r&&t.push(e.parse(l.sourcepos[0],l.sourcepos[1]))})}),t},n.prototype.removeUnlinkedCandidate=function(){rd(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){Mm(e,function(t){ltt(t)&&delete e[t]})})},n.prototype.editMarkdown=function(e,t,r){var i=this.updateLineTexts(e,t,r),a=this.parse(e,t,i),o=DQe(a,"nextNode");rtt(a.nextNode,i),this.updateRootNodeState();var l=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),l=l.concat(this.parseRefLink())),this.trigger("change",l),l},n.prototype.getLineTexts=function(){return this.lineTexts},n.prototype.getRootNode=function(){return this.root},n.prototype.findNodeAtPosition=function(e){var t=stt(this.root,e);return!t||t===this.root?null:t},n.prototype.findFirstNodeAtLine=function(e){return ott(this.root,e)},n.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},n.prototype.off=function(e,t){var r=this.eventHandlerMap[e],i=r.indexOf(t);r.splice(i,1)},n.prototype.findNodeById=function(e){return X4(e)},n.prototype.removeAllNode=function(){WXe()},n}(),ftt=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],QD=new RegExp("<(/?(?:"+ftt.join("|")+")[^>]*>)","ig");function eL(n){return QD.test(n)?n.replace(QD,function(e,t){return"&lt;"+t}):n}var tL={heading:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"h"+n.level,outerNewLine:!0}},text:function(n){return{type:"text",content:n.literal}},softbreak:function(n,e){var t=e.options;return{type:"html",content:t.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"em"}},strong:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"strong"}},paragraph:function(n,e){var t,r=e.entering,i=(t=n.parent)===null||t===void 0?void 0:t.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(n,e){var t=e.entering,r=n.listData,i=r.type,a=r.start,o=i==="bullet"?"ul":"ol",l={};return o==="ol"&&a!==null&&a!==1&&(l.start=a.toString()),{type:t?"openTag":"closeTag",tagName:o,attributes:l,outerNewLine:!0}},item:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(n,e){var t=e.options,r=t.tagFilter?eL(n.literal):n.literal;return{type:"html",content:r}},htmlBlock:function(n,e){var t=e.options,r=t.tagFilter?eL(n.literal):n.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(n){return[{type:"openTag",tagName:"code"},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(n){var e=n.info,t=e?e.split(/\s+/):[],r=[];return t.length>0&&t[0].length>0&&r.push("language-"+ud(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(n,e){var t=e.entering;if(t){var r=n,i=r.title,a=r.destination;return{type:"openTag",tagName:"a",attributes:wi({href:ud(a)},i&&{title:ud(i)})}}return{type:"closeTag",tagName:"a"}},image:function(n,e){var t=e.getChildrenText,r=e.skipChildren,i=n,a=i.title,o=i.destination;return r(),{type:"openTag",tagName:"img",selfClose:!0,attributes:wi({src:ud(o),alt:t(n)},a&&{title:ud(a)})}},customBlock:function(n,e,t){var r=n.info.trim().toLowerCase(),i=t[r];if(i)try{return i(n,e)}catch(a){console.warn("[@toast-ui/editor] - The error occurred when "+r+" block node was parsed in markdown renderer: "+a)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:n.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(n){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:n.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(n,e,t){var r=n,i=r.info,a=r.firstChild,o=i.trim().toLowerCase(),l=t[o],s=e.entering;if(l)try{return l(n,e)}catch(f){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+f)}return s?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(a?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},nL={strike:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"del"}},item:function(n,e){var t=e.entering,r=n.listData,i=r.checked,a=r.task;if(t){var o={type:"openTag",tagName:"li",outerNewLine:!0};return a?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:wi(wi({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(n,e){var t=e.entering;if(t)return{type:"openTag",tagName:"tr",outerNewLine:!0};var r=[];if(n.lastChild)for(var i=n.parent.parent.columns.length,a=n.lastChild.endIdx,o=a+1;o<i;o+=1)r.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return r.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),r},tableCell:function(n,e){var t=e.entering;if(n.ignored)return{type:"text",content:""};var r=n.parent.parent,i=r.type==="tableHead"?"th":"td",a=r.parent,o=a.columns[n.startIdx],l=o!=null&&o.align?{align:o.align}:null;return t?wi({type:"openTag",tagName:i,outerNewLine:!0},l&&{attributes:l}):{type:"closeTag",tagName:i,outerNewLine:!0}}},dtt={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function htt(n){for(var e=[],t=n.walker(),r=null;r=t.next();){var i=r.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var a2=function(){function n(e){this.buffer=[],this.options=wi(wi({},dtt),e),this.convertors=this.createConvertors(),delete this.options.convertors}return n.prototype.createConvertors=function(){var e=wi({},tL);if(this.options.gfm&&(e=wi(wi({},e),nL)),this.options.convertors){var t=this.options.convertors,r=Object.keys(t),i=wi(wi({},tL),nL);r.forEach(function(a){var o=e[a],l=t[a],s=Object.keys(i).indexOf(a)===-1?a.toLowerCase():a;o?e[s]=function(f,c,v){return c.origin=function(){return o(f,c,v)},l(f,c)}:e[s]=l})}return e},n.prototype.getConvertors=function(){return this.convertors},n.prototype.getOptions=function(){return this.options},n.prototype.render=function(e){var t=this;this.buffer=[];for(var r=e.walker(),i=null,a=function(){var l=i.node,s=i.entering,f=o.convertors[l.type];if(!f)return"continue";var c=!1,v={entering:s,leaf:!i2(l),options:o.options,getChildrenText:htt,skipChildren:function(){c=!0}},y=B4(l)||oQe(l)?f(l,v,o.convertors):f(l,v);if(y){var k=Array.isArray(y)?y:[y];k.forEach(function(x,R){x.type==="openTag"&&t.options.nodeId&&R===0&&(x.attributes||(x.attributes={}),x.attributes["data-nodeid"]=String(l.id)),t.renderHTMLNode(x)}),c&&(r.resumeAt(l,!1),r.next())}},o=this;i=r.next();)a();return this.addNewLine(),this.buffer.join("")},n.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},n.prototype.generateOpenTagString=function(e){var t=this,r=e.tagName,i=e.classNames,a=e.attributes;this.buffer.push("<"+r),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),a&&Object.keys(a).forEach(function(o){var l=a[o];t.buffer.push(" "+o+'="'+l+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},n.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},n.prototype.addNewLine=function(){this.buffer.length&&r1(r1(this.buffer))!==`
`&&this.buffer.push(`
`)},n.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},n.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},n.prototype.renderTextNode=function(e){this.buffer.push(ud(e.content))},n.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},n.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},n}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function ptt(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var vtt=Object.hasOwnProperty,rL=Object.setPrototypeOf,gtt=Object.isFrozen,mtt=Object.getPrototypeOf,ytt=Object.getOwnPropertyDescriptor,ca=Object.freeze,Pl=Object.seal,btt=Object.create,e5=typeof Reflect<"u"&&Reflect,a1=e5.apply,FS=e5.construct;a1||(a1=function(e,t,r){return e.apply(t,r)});ca||(ca=function(e){return e});Pl||(Pl=function(e){return e});FS||(FS=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(ptt(t))))});var wtt=vs(Array.prototype.forEach),iL=vs(Array.prototype.pop),op=vs(Array.prototype.push),f0=vs(String.prototype.toLowerCase),aL=vs(String.prototype.match),fu=vs(String.prototype.replace),Ctt=vs(String.prototype.indexOf),xtt=vs(String.prototype.trim),bl=vs(RegExp.prototype.test),oL=ktt(TypeError);function vs(n){return function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return a1(n,e,r)}}function ktt(n){return function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return FS(n,t)}}function Sn(n,e){rL&&rL(n,null);for(var t=e.length;t--;){var r=e[t];if(typeof r=="string"){var i=f0(r);i!==r&&(gtt(e)||(e[t]=i),r=i)}n[r]=!0}return n}function wc(n){var e=btt(null),t=void 0;for(t in n)a1(vtt,n,[t])&&(e[t]=n[t]);return e}function Om(n,e){for(;n!==null;){var t=ytt(n,e);if(t){if(t.get)return vs(t.get);if(typeof t.value=="function")return vs(t.value)}n=mtt(n)}function r(i){return console.warn("fallback value for",i),null}return r}var sL=ca(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xT=ca(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),kT=ca(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),_tt=ca(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_T=ca(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ttt=ca(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),lL=ca(["#text"]),uL=ca(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),TT=ca(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),cL=ca(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rm=ca(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Stt=Pl(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Ett=Pl(/<%[\s\S]*|[\s\S]*%>/gm),Att=Pl(/^data-[\-\w.\u00B7-\uFFFF]/),Mtt=Pl(/^aria-[\-\w]+$/),Ntt=Pl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Dtt=Pl(/^(?:\w+script|data):/i),Ltt=Pl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function Bs(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var Ott=function(){return typeof window>"u"?null:window},Rtt=function(e,t){if((typeof e>"u"?"undefined":Cp(e))!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(r=t.currentScript.getAttribute(i));var a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML:function(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function t5(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ott(),e=function(_e){return t5(_e)};if(e.version="2.3.3",e.removed=[],!n||!n.document||n.document.nodeType!==9)return e.isSupported=!1,e;var t=n.document,r=n.document,i=n.DocumentFragment,a=n.HTMLTemplateElement,o=n.Node,l=n.Element,s=n.NodeFilter,f=n.NamedNodeMap,c=f===void 0?n.NamedNodeMap||n.MozNamedAttrMap:f,v=n.Text,y=n.Comment,k=n.DOMParser,x=n.trustedTypes,R=l.prototype,d=Om(R,"cloneNode"),h=Om(R,"nextSibling"),w=Om(R,"childNodes"),A=Om(R,"parentNode");if(typeof a=="function"){var D=r.createElement("template");D.content&&D.content.ownerDocument&&(r=D.content.ownerDocument)}var I=Rtt(x,t),O=I&&Mt?I.createHTML(""):"",F=r,$=F.implementation,z=F.createNodeIterator,ee=F.createDocumentFragment,me=F.getElementsByTagName,ie=t.importNode,pe={};try{pe=wc(r).documentMode?r.documentMode:{}}catch{}var be={};e.isSupported=typeof A=="function"&&$&&typeof $.createHTMLDocument<"u"&&pe!==9;var Ve=Stt,Ue=Ett,Ge=Att,Be=Mtt,Je=Dtt,ye=Ltt,Me=Ntt,we=null,Fe=Sn({},[].concat(Bs(sL),Bs(xT),Bs(kT),Bs(_T),Bs(lL))),ke=null,Ae=Sn({},[].concat(Bs(uL),Bs(TT),Bs(cL),Bs(Rm))),Ee=null,Ce=null,ve=!0,ge=!0,fe=!1,Re=!1,We=!1,it=!1,ht=!1,xt=!1,Dt=!1,Yt=!0,Mt=!1,on=!0,Wt=!0,fn=!1,Zt={},gn=null,En=Sn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),$t=null,Rn=Sn({},["audio","video","img","source","image","track"]),bt=null,mt=Sn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Et="http://www.w3.org/1998/Math/MathML",Ft="http://www.w3.org/2000/svg",Gt="http://www.w3.org/1999/xhtml",Nn=Gt,hn=!1,an=void 0,Qt=["application/xhtml+xml","text/html"],lr="text/html",Hn=void 0,Er=null,fr=r.createElement("form"),dr=function(_e){Er&&Er===_e||((!_e||(typeof _e>"u"?"undefined":Cp(_e))!=="object")&&(_e={}),_e=wc(_e),we="ALLOWED_TAGS"in _e?Sn({},_e.ALLOWED_TAGS):Fe,ke="ALLOWED_ATTR"in _e?Sn({},_e.ALLOWED_ATTR):Ae,bt="ADD_URI_SAFE_ATTR"in _e?Sn(wc(mt),_e.ADD_URI_SAFE_ATTR):mt,$t="ADD_DATA_URI_TAGS"in _e?Sn(wc(Rn),_e.ADD_DATA_URI_TAGS):Rn,gn="FORBID_CONTENTS"in _e?Sn({},_e.FORBID_CONTENTS):En,Ee="FORBID_TAGS"in _e?Sn({},_e.FORBID_TAGS):{},Ce="FORBID_ATTR"in _e?Sn({},_e.FORBID_ATTR):{},Zt="USE_PROFILES"in _e?_e.USE_PROFILES:!1,ve=_e.ALLOW_ARIA_ATTR!==!1,ge=_e.ALLOW_DATA_ATTR!==!1,fe=_e.ALLOW_UNKNOWN_PROTOCOLS||!1,Re=_e.SAFE_FOR_TEMPLATES||!1,We=_e.WHOLE_DOCUMENT||!1,xt=_e.RETURN_DOM||!1,Dt=_e.RETURN_DOM_FRAGMENT||!1,Yt=_e.RETURN_DOM_IMPORT!==!1,Mt=_e.RETURN_TRUSTED_TYPE||!1,ht=_e.FORCE_BODY||!1,on=_e.SANITIZE_DOM!==!1,Wt=_e.KEEP_CONTENT!==!1,fn=_e.IN_PLACE||!1,Me=_e.ALLOWED_URI_REGEXP||Me,Nn=_e.NAMESPACE||Gt,an=Qt.indexOf(_e.PARSER_MEDIA_TYPE)===-1?an=lr:an=_e.PARSER_MEDIA_TYPE,Hn=an==="application/xhtml+xml"?function(Ze){return Ze}:f0,Re&&(ge=!1),Dt&&(xt=!0),Zt&&(we=Sn({},[].concat(Bs(lL))),ke=[],Zt.html===!0&&(Sn(we,sL),Sn(ke,uL)),Zt.svg===!0&&(Sn(we,xT),Sn(ke,TT),Sn(ke,Rm)),Zt.svgFilters===!0&&(Sn(we,kT),Sn(ke,TT),Sn(ke,Rm)),Zt.mathMl===!0&&(Sn(we,_T),Sn(ke,cL),Sn(ke,Rm))),_e.ADD_TAGS&&(we===Fe&&(we=wc(we)),Sn(we,_e.ADD_TAGS)),_e.ADD_ATTR&&(ke===Ae&&(ke=wc(ke)),Sn(ke,_e.ADD_ATTR)),_e.ADD_URI_SAFE_ATTR&&Sn(bt,_e.ADD_URI_SAFE_ATTR),_e.FORBID_CONTENTS&&(gn===En&&(gn=wc(gn)),Sn(gn,_e.FORBID_CONTENTS)),Wt&&(we["#text"]=!0),We&&Sn(we,["html","head","body"]),we.table&&(Sn(we,["tbody"]),delete Ee.tbody),ca&&ca(_e),Er=_e)},Qn=Sn({},["mi","mo","mn","ms","mtext"]),ar=Sn({},["foreignobject","desc","title","annotation-xml"]),Ar=Sn({},xT);Sn(Ar,kT),Sn(Ar,_tt);var se=Sn({},_T);Sn(se,Ttt);var he=function(_e){var Ze=A(_e);(!Ze||!Ze.tagName)&&(Ze={namespaceURI:Gt,tagName:"template"});var nt=f0(_e.tagName),wt=f0(Ze.tagName);if(_e.namespaceURI===Ft)return Ze.namespaceURI===Gt?nt==="svg":Ze.namespaceURI===Et?nt==="svg"&&(wt==="annotation-xml"||Qn[wt]):!!Ar[nt];if(_e.namespaceURI===Et)return Ze.namespaceURI===Gt?nt==="math":Ze.namespaceURI===Ft?nt==="math"&&ar[wt]:!!se[nt];if(_e.namespaceURI===Gt){if(Ze.namespaceURI===Ft&&!ar[wt]||Ze.namespaceURI===Et&&!Qn[wt])return!1;var Ht=Sn({},["title","style","font","a","script"]);return!se[nt]&&(Ht[nt]||!Ar[nt])}return!1},Oe=function(_e){op(e.removed,{element:_e});try{_e.parentNode.removeChild(_e)}catch{try{_e.outerHTML=O}catch{_e.remove()}}},Xe=function(_e,Ze){try{op(e.removed,{attribute:Ze.getAttributeNode(_e),from:Ze})}catch{op(e.removed,{attribute:null,from:Ze})}if(Ze.removeAttribute(_e),_e==="is"&&!ke[_e])if(xt||Dt)try{Oe(Ze)}catch{}else try{Ze.setAttribute(_e,"")}catch{}},te=function(_e){var Ze=void 0,nt=void 0;if(ht)_e="<remove></remove>"+_e;else{var wt=aL(_e,/^[\r\n\t ]+/);nt=wt&&wt[0]}an==="application/xhtml+xml"&&(_e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_e+"</body></html>");var Ht=I?I.createHTML(_e):_e;if(Nn===Gt)try{Ze=new k().parseFromString(Ht,an)}catch{}if(!Ze||!Ze.documentElement){Ze=$.createDocument(Nn,"template",null);try{Ze.documentElement.innerHTML=hn?"":Ht}catch{}}var J=Ze.body||Ze.documentElement;return _e&&nt&&J.insertBefore(r.createTextNode(nt),J.childNodes[0]||null),Nn===Gt?me.call(Ze,We?"html":"body")[0]:We?Ze.documentElement:J},ne=function(_e){return z.call(_e.ownerDocument||_e,_e,s.SHOW_ELEMENT|s.SHOW_COMMENT|s.SHOW_TEXT,null,!1)},G=function(_e){return _e instanceof v||_e instanceof y?!1:typeof _e.nodeName!="string"||typeof _e.textContent!="string"||typeof _e.removeChild!="function"||!(_e.attributes instanceof c)||typeof _e.removeAttribute!="function"||typeof _e.setAttribute!="function"||typeof _e.namespaceURI!="string"||typeof _e.insertBefore!="function"},V=function(_e){return(typeof o>"u"?"undefined":Cp(o))==="object"?_e instanceof o:_e&&(typeof _e>"u"?"undefined":Cp(_e))==="object"&&typeof _e.nodeType=="number"&&typeof _e.nodeName=="string"},Y=function(_e,Ze,nt){be[_e]&&wtt(be[_e],function(wt){wt.call(e,Ze,nt,Er)})},K=function(_e){var Ze=void 0;if(Y("beforeSanitizeElements",_e,null),G(_e)||aL(_e.nodeName,/[\u0080-\uFFFF]/))return Oe(_e),!0;var nt=Hn(_e.nodeName);if(Y("uponSanitizeElement",_e,{tagName:nt,allowedTags:we}),!V(_e.firstElementChild)&&(!V(_e.content)||!V(_e.content.firstElementChild))&&bl(/<[/\w]/g,_e.innerHTML)&&bl(/<[/\w]/g,_e.textContent)||nt==="select"&&bl(/<template/i,_e.innerHTML))return Oe(_e),!0;if(!we[nt]||Ee[nt]){if(Wt&&!gn[nt]){var wt=A(_e)||_e.parentNode,Ht=w(_e)||_e.childNodes;if(Ht&&wt)for(var J=Ht.length,U=J-1;U>=0;--U)wt.insertBefore(d(Ht[U],!0),h(_e))}return Oe(_e),!0}return _e instanceof l&&!he(_e)||(nt==="noscript"||nt==="noembed")&&bl(/<\/no(script|embed)/i,_e.innerHTML)?(Oe(_e),!0):(Re&&_e.nodeType===3&&(Ze=_e.textContent,Ze=fu(Ze,Ve," "),Ze=fu(Ze,Ue," "),_e.textContent!==Ze&&(op(e.removed,{element:_e.cloneNode()}),_e.textContent=Ze)),Y("afterSanitizeElements",_e,null),!1)},de=function(_e,Ze,nt){if(on&&(Ze==="id"||Ze==="name")&&(nt in r||nt in fr))return!1;if(!(ge&&!Ce[Ze]&&bl(Ge,Ze))){if(!(ve&&bl(Be,Ze))){if(!ke[Ze]||Ce[Ze])return!1;if(!bt[Ze]){if(!bl(Me,fu(nt,ye,""))){if(!((Ze==="src"||Ze==="xlink:href"||Ze==="href")&&_e!=="script"&&Ctt(nt,"data:")===0&&$t[_e])){if(!(fe&&!bl(Je,fu(nt,ye,"")))){if(nt)return!1}}}}}}return!0},qe=function(_e){var Ze=void 0,nt=void 0,wt=void 0,Ht=void 0;Y("beforeSanitizeAttributes",_e,null);var J=_e.attributes;if(J){var U={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(Ht=J.length;Ht--;){Ze=J[Ht];var T=Ze,M=T.name,q=T.namespaceURI;if(nt=xtt(Ze.value),wt=Hn(M),U.attrName=wt,U.attrValue=nt,U.keepAttr=!0,U.forceKeepAttr=void 0,Y("uponSanitizeAttribute",_e,U),nt=U.attrValue,!U.forceKeepAttr&&(Xe(M,_e),!!U.keepAttr)){if(bl(/\/>/i,nt)){Xe(M,_e);continue}Re&&(nt=fu(nt,Ve," "),nt=fu(nt,Ue," "));var X=Hn(_e.nodeName);if(de(X,wt,nt))try{q?_e.setAttributeNS(q,M,nt):_e.setAttribute(M,nt),iL(e.removed)}catch{}}}Y("afterSanitizeAttributes",_e,null)}},et=function Ne(_e){var Ze=void 0,nt=ne(_e);for(Y("beforeSanitizeShadowDOM",_e,null);Ze=nt.nextNode();)Y("uponSanitizeShadowNode",Ze,null),!K(Ze)&&(Ze.content instanceof i&&Ne(Ze.content),qe(Ze));Y("afterSanitizeShadowDOM",_e,null)};return e.sanitize=function(Ne,_e){var Ze=void 0,nt=void 0,wt=void 0,Ht=void 0,J=void 0;if(hn=!Ne,hn&&(Ne="<!-->"),typeof Ne!="string"&&!V(Ne)){if(typeof Ne.toString!="function")throw oL("toString is not a function");if(Ne=Ne.toString(),typeof Ne!="string")throw oL("dirty is not a string, aborting")}if(!e.isSupported){if(Cp(n.toStaticHTML)==="object"||typeof n.toStaticHTML=="function"){if(typeof Ne=="string")return n.toStaticHTML(Ne);if(V(Ne))return n.toStaticHTML(Ne.outerHTML)}return Ne}if(it||dr(_e),e.removed=[],typeof Ne=="string"&&(fn=!1),!fn)if(Ne instanceof o)Ze=te("<!---->"),nt=Ze.ownerDocument.importNode(Ne,!0),nt.nodeType===1&&nt.nodeName==="BODY"||nt.nodeName==="HTML"?Ze=nt:Ze.appendChild(nt);else{if(!xt&&!Re&&!We&&Ne.indexOf("<")===-1)return I&&Mt?I.createHTML(Ne):Ne;if(Ze=te(Ne),!Ze)return xt?null:O}Ze&&ht&&Oe(Ze.firstChild);for(var U=ne(fn?Ne:Ze);wt=U.nextNode();)wt.nodeType===3&&wt===Ht||K(wt)||(wt.content instanceof i&&et(wt.content),qe(wt),Ht=wt);if(Ht=null,fn)return Ne;if(xt){if(Dt)for(J=ee.call(Ze.ownerDocument);Ze.firstChild;)J.appendChild(Ze.firstChild);else J=Ze;return Yt&&(J=ie.call(t,J,!0)),J}var T=We?Ze.outerHTML:Ze.innerHTML;return Re&&(T=fu(T,Ve," "),T=fu(T,Ue," ")),I&&Mt?I.createHTML(T):T},e.setConfig=function(Ne){dr(Ne),it=!0},e.clearConfig=function(){Er=null,it=!1},e.isValidAttribute=function(Ne,_e,Ze){Er||dr({});var nt=Hn(Ne),wt=Hn(_e);return de(nt,wt,Ze)},e.addHook=function(Ne,_e){typeof _e=="function"&&(be[Ne]=be[Ne]||[],op(be[Ne],_e))},e.removeHook=function(Ne){be[Ne]&&iL(be[Ne])},e.removeHooks=function(Ne){be[Ne]&&(be[Ne]=[])},e.removeAllHooks=function(){be={}},e}var Itt=t5(),Btt=["iframe","embed"],n5=[];function r5(n){_i(Btt,n)&&n5.push(n.toLowerCase())}function Kc(n,e){return Itt.sanitize(n,rt({ADD_TAGS:n5,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function i5(n,e){return n.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function zS(n){n=n.match(Md)[0];var e=n.match(new RegExp(QI,"g"));return e?e.reduce(function(t,r){var i=r.trim().split("="),a=i[0],o=i.slice(1);return o.length&&(t[a]=o.join("=").replace(/'|"/g,"").trim()),t},{}):{}}function HS(n){return Zs(n.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function fL(n,e,t,r){var i=r.getToDOMNode(e)(n),a=t(i.outerHTML),o=document.createElement("div");o.innerHTML=a,i=o.firstChild;var l=HS(i);return{dom:i,htmlAttrs:l}}var Ptt={htmlBlock:function(n,e,t){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:n,getAttrs:function(r){return{htmlAttrs:HS(r),childrenHTML:r.innerHTML}}}],toDOM:function(r){var i=fL(r,n,e,t),a=i.dom,o=i.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",Oa([n,o],Zs(a.childNodes))}}},htmlInline:function(n,e,t){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:n,getAttrs:function(r){return{htmlAttrs:HS(r)}}}],toDOM:function(r){var i=fL(r,n,e,t).htmlAttrs;return[n,i,0]}}}};function Ftt(n,e,t){var r={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){n[i]&&Object.keys(n[i]).forEach(function(a){var o=i==="htmlBlock"?"nodes":"marks";r5(a),r[o][a]=Ptt[i](a,e,t)})}),r}var ztt=/^\s*<\s*\//,Htt={paragraph:function(n,e){var t=e.entering,r=e.origin,i=e.options;return i.nodeId?{type:t?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(n){var e=n.prev&&n.prev.type==="htmlInline",t=e&&/<br ?\/?>/.test(n.prev.literal),r=t?`
`:`<br>
`;return{type:"html",content:r}},item:function(n,e){var t=e.entering;if(t){var r={},i=[];return n.listData.task&&(r["data-task"]="",i.push("task-list-item"),n.listData.checked&&(i.push("checked"),r["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:r,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(n){var e={"data-backticks":String(n.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(n){var e=n,t=e.fenceLength,r=e.info,i=r?r.split(/\s+/):[],a=[],o={};if(t>3&&(o["data-backticks"]=t),i.length>0&&i[0].length>0){var l=i[0];a.push("lang-"+l),o["data-language"]=l}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(n,e){var t=e.origin,r=e.entering,i=e.skipChildren,a=n.info;if(a.indexOf("widget")!==-1&&r){i();var o=ZI(n),l=YI(a,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:l},{type:"closeTag",tagName:"span"}]}return t()}};function o2(n,e){var t=rt({},Htt);return n&&(t.link=function(r,i){var a=i.entering,o=i.origin,l=o();return a&&(l.attributes=rt(rt({},l.attributes),n)),l}),e&&Object.keys(e).forEach(function(r){var i=t[r],a=e[r];i&&Lo(a)?t[r]=function(o,l){var s=rt({},l);return s.origin=function(){return i(o,l)},a(o,s)}:_i(["htmlBlock","htmlInline"],r)&&!Lo(a)?t[r]=function(o,l){var s=o.literal.match(Md);if(s){var f=s[0],c=s[1],v=s[3],y=(c||v).toLowerCase(),k=a[y],x=i5(o,y);if(k){var R=rt({},o);return R.attrs=zS(f),R.childrenHTML=x,R.type=y,l.entering=!ztt.test(o.literal),k(R,l)}}return l.origin()}:t[r]=a}),t}var qtt=["list","item","blockQuote"],Utt=["UL","OL","BLOCKQUOTE"];function Vtt(n,e){var t,r=n.child(e);return!r.childCount||r.childCount===1&&!(!((t=r.firstChild.text)===null||t===void 0)&&t.trim())}function dL(n,e,t){var r=vv(e)-1,i=P1(e)-1,a=t[r].getBoundingClientRect(),o=t[i].offsetTop-t[r].offsetTop+t[i].clientHeight;return{height:o<=0?t[r].clientHeight:o+$tt(n,t,Math.min(i+1,n.childCount-1)),rect:a}}function $tt(n,e,t){for(var r=n.childCount-1,i=0;t<=r&&Vtt(n,t);)i+=e[t].clientHeight,t+=1;return i}function Wtt(n,e){for(;!n.getAttribute("data-nodeid")&&n.parentElement!==e;)n=n.parentElement;return n}function o1(n,e){for(var t=0;n&&n!==e&&(_i(Utt,n.tagName)||(t+=n.offsetTop),n.offsetParent!==e.offsetParent);)n=n.parentElement;return t}function Gtt(n,e){for(var t=e,r=null;t;){var i=t.firstElementChild;if(!i)break;var a=a5(i,n,o1(t,e));r=t,t=a}var o=t||r;return o===e?null:o}function a5(n,e,t){return n&&e>t+n.offsetTop?a5(n.nextElementSibling,e,t)||n:null}function jtt(n,e,t,r){var i=Math.min((n-e)/t,1);return i*r}function ST(n,e){for(var t=n.querySelector('[data-nodeid="'+e.id+'"]');!t||O0e(e);)e=e.parent,t=n.querySelector('[data-nodeid="'+e.id+'"]');return Ytt({mdNode:e,el:t})}function Ytt(n){for(var e=n.mdNode,t=n.el;(_i(qtt,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,t=t.firstElementChild;return{mdNode:e,el:t}}var fs={};function Ztt(n,e){fs[n]=fs[n]||{},fs[n].height=e}function Ktt(n,e){fs[n]=fs[n]||{},fs[n].offsetTop=e}function Jtt(n){return fs[n]&&fs[n].height}function Xtt(n){return fs[n]&&fs[n].offsetTop}function qS(n){n&&(delete fs[Number(n.getAttribute("data-nodeid"))],Zs(n.children).forEach(function(e){qS(e)}))}function Qtt(n,e,t){var r=Jtt(t),i=Xtt(t),a=r||n.clientHeight,o=i||o1(n,e)||n.offsetTop;return r||Ztt(t,a),i||Ktt(t,o),{nodeHeight:a,offsetTop:o}}var ET=Vt("md-preview-highlight");function ent(n,e){for(var t=n.firstChild;t&&t.next&&!(F1(t.next)>e+1);)t=t.next;return t}var o5=function(){function n(e,t){var r=document.createElement("div");this.el=r,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=Vt("md-preview");var i=t.linkAttributes,a=t.customHTMLRenderer,o=t.sanitizer,l=t.highlight,s=l===void 0?!1:l;this.renderer=new a2({gfm:!0,nodeId:!0,convertors:o2(i,a)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(s),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return n.prototype.initContentSection=function(){this.previewContent=i4('<div class="'+Vt("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},n.prototype.toggleActive=function(e){WE(this.el,"active",e)},n.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(r){var i=r.mdNode,a=r.cursorPos;t.updateCursorNode(i,a)}),this.eventEmitter.listen("blur",function(){t.removeHighlight()})),C4(this.el,"scroll",function(r){t.eventEmitter.emit("scroll","preview",Gtt(r.target.scrollTop,t.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return t.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return t.toggleActive(!1)}))},n.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&cs(e,ET)}},n.prototype.updateCursorNode=function(e,t){e&&(e=Ad(e,function(o){return!B0e(o)}),e.type==="tableRow"?e=ent(e,t[1]):e.type==="tableBody"&&(e=null));var r=e?e.id:null;if(this.cursorNodeId!==r){var i=this.getElementByNodeId(this.cursorNodeId),a=this.getElementByNodeId(r);i&&cs(i,ET),a&&Us(a,ET),this.cursorNodeId=r}},n.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},n.prototype.update=function(e){var t=this;e.forEach(function(r){return t.replaceRangeNodes(r)}),this.eventEmitter.emit("afterPreviewRender",this)},n.prototype.replaceRangeNodes=function(e){var t=this,r=e.nodes,i=e.removedNodeRange,a=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(r.map(function(x){return t.renderer.render(x)}).join("")));if(!i)a.insertAdjacentHTML("afterbegin",o);else{var l=i.id,s=l[0],f=l[1],c=this.getElementByNodeId(s),v=this.getElementByNodeId(f);if(c){c.insertAdjacentHTML("beforebegin",o);for(var y=c;y&&y!==v;){var k=y.nextElementSibling;jc(y),qS(y),y=k}y!=null&&y.parentNode&&(jc(y),qS(y))}}},n.prototype.getRenderer=function(){return this.renderer},n.prototype.destroy=function(){w4(this.el,"scroll"),this.el=null},n.prototype.getElement=function(){return this.el},n.prototype.getHTML=function(){return YE(this.previewContent.innerHTML)},n.prototype.setHTML=function(e){this.previewContent.innerHTML=e},n.prototype.setHeight=function(e){Ys(this.el,{height:e+"px"})},n.prototype.setMinHeight=function(e){Ys(this.el,{minHeight:e+"px"})},n}();function El(n,e){for(var t=n.depth;t;){var r=n.node(t);if(e(r,t))return{node:r,depth:t,offset:t>0?n.before(t):0};t-=1}return null}function Od(n){return!!El(n,function(e){var t=e.type;return t.name==="listItem"||t.name==="bulletList"||t.name==="orderedList"})}function s1(n){return!!El(n,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function Rd(n){return El(n,function(e){var t=e.type;return t.name==="listItem"})}function j1(n){return{tag:n,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return rt({},t&&{rawHTML:t})}}}function s5(n){return Object.keys(n).reduce(function(e,t){return t!=="rawHTML"&&n[t]&&(t=t==="className"?"class":t,e[t]=n[t]),e},{})}function l5(n){return{tag:n,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(t,r){var i=r==="rawHTML"?"data-raw-html":r,a=e.getAttribute(i);return a&&(t[r]=_i(["rawHTML","extended"],r)?a:Number(a)),t},{})}}}function li(){return{htmlAttrs:{default:null},classNames:{default:null}}}function Gr(n){var e=n.htmlAttrs,t=n.classNames;return rt(rt({},e),{class:t?t.join(" "):null})}function tnt(n,e){var t=n.parent,r=n.startIndex,i=n.endIndex,a=t.contentMatchAt(r).findWrapping(e);if(a){var o=a.length?a[0]:e;return t.canReplaceWith(r,i,o)?a:null}return null}function nnt(n,e){var t=n.parent,r=n.startIndex,i=n.endIndex,a=t.child(r),o=e.contentMatch.findWrapping(a.type);if(o){for(var l=o.length?o[o.length-1]:e,s=l.contentMatch,f=r;s&&f<i;f+=1)s=s.matchType(t.child(f).type);if(s&&s.validEnd)return o}return null}function rnt(n,e,t,r){var i=tnt(n,t),a=nnt(e,t);if(i&&a){var o=i.map(function(s){return{type:s}}),l=a.map(function(s){return{type:s,attrs:r}});return o.concat({type:t}).concat(l)}return null}function int(n,e,t,r,i){for(var a=e.start,o=e.end,l=e.startIndex,s=e.endIndex,f=e.parent,c=gt.empty,v=t.length-1;v>=0;v-=1)c=gt.from(t[v].type.create(t[v].attrs,c));n.step(new oi(a-(r?2:0),o,a,o,new Ot(c,0,0),t.length,!0));for(var y=0,v=0;v<t.length;v+=1)if(t[v].type===i){y=v+1;break}for(var k=t.length-y,x=a+t.length-(r?2:0),v=l,R=s;v<R;v+=1){var d=v===l;!d&&md(n.doc,x,k)&&(n.split(x,k),x+=k*2),x+=f.child(v).nodeSize}return n}function u5(n,e,t,r){var i=e.$from,a=e.$to,o=e.depth,l=e,s=!1;if(o>=2&&i.node(o-1).type.compatibleContent(t)&&e.startIndex===0&&i.index(o-1)){var f=n.doc.resolve(e.start-2);l=new F0(f,f,o),e.endIndex<e.parent.childCount&&(e=new F0(i,n.doc.resolve(a.end(o)),o)),s=!0}var c=rnt(l,e,t,r);return c?int(n,e,c,s,t):n}function c5(n,e){for(var t=n.resolve(e);t.node().type.name!=="paragraph";)e-=2,t=n.resolve(e);return Rd(t)}function ant(n,e){var t=e.$from,r=e.$to,i=Rd(t),a=Rd(r);if(i&&a)for(;a;){var o=a.offset,l=a.node,s={task:!l.attrs.task,checked:!1};if(n.setNodeMarkup(o,null,s),o===i.offset)break;a=c5(n.doc,o)}return n}function ont(n,e,t){var r=e.$from,i=e.$to,a=Rd(r),o=Rd(i);if(a&&o)for(;o;){var l=o.offset,s=o.node,f=o.depth;s.attrs.task&&n.setNodeMarkup(l,null,{task:!1,checked:!1});var c=n.doc.resolve(l);if(c.parent.type!==t){var v=c.before(f-1);n.setNodeMarkup(v,t)}if(l===a.offset)break;o=c5(n.doc,l)}return n}function f5(n){return function(e,t){var r=e.selection,i=e.tr,a=r.$from,o=r.$to,l=a.blockRange(o);if(l){var s=Od(a)?ont(i,l,n):u5(i,l,n);return t(s),!0}return!1}}function snt(){return function(n,e){var t=n.selection,r=n.tr,i=n.schema,a=t.$from,o=t.$to,l=a.blockRange(o);if(l){var s=Od(a)?ant(r,l):u5(r,l,i.nodes.bulletList,{task:!0});return e(s),!0}return!1}}function lnt(n){return function(e,t){var r=e.tr,i=e.selection,a=i.$from,o=i.$to,l=a.blockRange(o,function(R){var d=R.childCount,h=R.firstChild;return!!d&&h.type===n});if(l&&l.startIndex>0){var s=l.parent,f=s.child(l.startIndex-1);if(f.type!==n)return!1;var c=f.lastChild&&f.lastChild.type===s.type,v=c?gt.from(n.create()):null,y=new Ot(gt.from(n.create(null,gt.from(s.type.create(null,v)))),c?3:1,0),k=l.start,x=l.end;return r.step(new oi(k-(c?3:1),x,k,x,y,1,!0)),t(r),!0}return!1}}function unt(n,e,t){var r=e.$from,i=e.$to,a=e.end,o=e.depth,l=e.parent,s=i.end(o);return a<s&&(n.step(new oi(a-1,s,a,s,new Ot(gt.from(t.create(null,l.copy())),1,0),1,!0)),e=new F0(n.doc.resolve(r.pos),n.doc.resolve(s),o)),n.lift(e,N1(e)),n}function cnt(n,e){for(var t=e.parent,r=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i-=1)r-=t.child(i).nodeSize,n.delete(r-1,r+1);var o=n.doc.resolve(e.start),l=o.nodeAfter,s=e.startIndex===0,f=e.endIndex===t.childCount,c=o.node(-1),v=o.index(-1),y=c.canReplace(v+(s?0:1),v+1,l==null?void 0:l.content.append(f?gt.empty:gt.from(t)));if(l&&y){var k=o.pos,x=k+l.nodeSize;n.step(new oi(k-(s?1:0),x+(f?1:0),k+1,x-1,new Ot((s?gt.empty:gt.from(t.copy(gt.empty))).append(f?gt.empty:gt.from(t.copy(gt.empty))),s?0:1,f?0:1),s?0:1))}return n}function fnt(n){return function(e,t){var r=e.tr,i=e.selection,a=i.$from,o=i.$to,l=a.blockRange(o,function(c){var v=c.childCount,y=c.firstChild;return!!v&&y.type===n});if(l){var s=a.node(l.depth-1).type===n,f=s?unt(r,l,n):cnt(r,l);return t(f),!0}return!1}}function dnt(n){return function(e,t){var r=e.tr,i=e.selection,a=i.$from,o=i.$to;if(a.depth<2||!a.sameParent(o))return!1;var l=a.node(-1);if(l.type!==n)return!1;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==n||a.index(-2)!==a.node(-2).childCount-1)return!1;for(var s=a.index(-1)>0,f=gt.empty,c=a.depth-(s?1:2);c>=a.depth-3;c-=1)f=gt.from(a.node(c).copy(f));return f=f.append(gt.from(n.createAndFill())),r.replace(s?a.before():a.before(-1),a.after(-3),new Ot(f,s?3:2,2)),r.setSelection(Ln.near(r.doc.resolve(a.pos+(s?3:2)))),t(r),!0}var v=o.pos===a.end()?l.contentMatchAt(0).defaultType:null,y=v&&[null,{type:v}];return r.delete(a.pos,o.pos),md(r.doc,a.pos,2,y)?(r.split(a.pos,2,y),t(r),!0):!1}}function hnt(){return function(){return function(n,e){var t=n.selection,r=n.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&Od(i)?lnt(r.nodes.listItem)(n,e):!1}}}function pnt(){return function(){return function(n,e){var t=n.selection,r=n.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&Od(i)?fnt(r.nodes.listItem)(n,e):!1}}}function s2(){return{indent:hnt(),outdent:pnt()}}var hL=new Map,bi=function(){function n(e,t,r,i){this.table=e,this.tableRows=t,this.tableStartPos=r,this.rowInfo=i}return n.create=function(e){var t=El(e,function(x){var R=x.type;return R.name==="table"});if(t){var r=t.node,i=t.depth,a=t.offset,o=hL.get(r);if((o==null?void 0:o.tableStartPos)===a+1)return o;var l=[],s=e.start(i),f=r.child(0),c=r.child(1),v=US(f,s),y=US(c,s+f.nodeSize);f.forEach(function(x){return l.push(x)}),c.forEach(function(x){return l.push(x)});var k=new n(r,l,s,v.concat(y));return hL.set(r,k),k}return null},Object.defineProperty(n.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),n.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},n.prototype.posAt=function(e,t){for(var r=0,i=this.tableStartPos;;r+=1){var a=i+this.tableRows[r].nodeSize;if(r===e){for(var o=t;o<this.totalColumnCount&&this.rowInfo[r][o].offset<i;)o+=1;return o===this.totalColumnCount?a:this.rowInfo[r][o].offset}i=a}},n.prototype.getNodeAndPos=function(e,t){var r=this.rowInfo[e][t];return{node:this.table.nodeAt(r.offset-this.tableStartOffset),pos:r.offset}},n.prototype.extendedRowspan=function(e,t){return!1},n.prototype.extendedColspan=function(e,t){return!1},n.prototype.getRowspanCount=function(e,t){return 0},n.prototype.getColspanCount=function(e,t){return 0},n.prototype.decreaseColspanCount=function(e,t){return 0},n.prototype.decreaseRowspanCount=function(e,t){return 0},n.prototype.getColspanStartInfo=function(e,t){return null},n.prototype.getRowspanStartInfo=function(e,t){return null},n.prototype.getCellStartOffset=function(e,t){var r=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):r},n.prototype.getCellEndOffset=function(e,t){var r=this.rowInfo[e][t],i=r.offset,a=r.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):i+a},n.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var r=this.rowInfo[t],i=0;i<this.totalColumnCount;i+=1)if(r[i].offset+1>e.pos)return[t,i];return[0,0]},n.prototype.getRectOffsets=function(e,t){var r,i,a;t===void 0&&(t=e),e.pos>t.pos&&(r=[t,e],e=r[0],t=r[1]);var o=this.getCellIndex(e),l=o[0],s=o[1],f=this.getCellIndex(t),c=f[0],v=f[1];return i=pD(l,c),l=i[0],c=i[1],a=pD(s,v),s=a[0],v=a[1],this.getSpannedOffsets({startRowIdx:l,startColIdx:s,endRowIdx:c,endColIdx:v})},n.prototype.getSpannedOffsets=function(e){return e},n}(),US=function(n,e){var t=[];return n.forEach(function(r,i){var a={rowspanMap:{},colspanMap:{},length:0};r.forEach(function(o,l){for(var s=o.nodeSize,f=0;a[f];)f+=1;a[f]={offset:e+i+l+2,nodeSize:s},a.length+=1}),t.push(a)}),t};function vnt(n,e){return qE(bi.prototype,n),US=e,bi}function gnt(n,e,t){for(var r=t.startRowIdx,i=t.startColIdx,a=t.endRowIdx,o=t.endColIdx,l=[],s=r;s<=a;s+=1)for(var f=i;f<=o;f+=1){var c=e.getCellInfo(s,f),v=c.offset,y=c.nodeSize;l.push(new ZR(n.resolve(v+1),n.resolve(v+y-1)))}return l}function mnt(n,e){var t=[];return n.childCount&&t.push(n),e.childCount&&t.push(e),gt.from(t)}var l2=function(n){zt(e,n);function e(t,r){r===void 0&&(r=t);var i=this,a=t.node(0),o=bi.create(t),l=o.getRectOffsets(t,r),s=gnt(a,o,l);return i=n.call(this,s[0].$from,s[0].$to,s)||this,i.startCell=t,i.endCell=r,i.offsetMap=o,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(t,r){var i=this.startCell.pos,a=this.endCell.pos,o=t.resolve(r.map(i)),l=t.resolve(r.map(a)),s=bi.create(o);if(this.offsetMap.totalColumnCount>s.totalColumnCount||this.offsetMap.totalRowCount>s.totalRowCount){var f={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=f[l.parent.type.name],v=l.end(l.depth-c),y=Math.min(v-4,l.pos);return zn.create(t,y)}return new e(o,l)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),r=this.startCell.start(-2),i=t.child(1).firstChild,a=t.child(0).type.create(),o=t.child(1).type.create(),l=bi.create(this.startCell),s=l.getRectOffsets(this.startCell,this.endCell),f=s.startRowIdx,c=s.startColIdx,v=s.endRowIdx,y=s.endColIdx,k=!1,x=f;x<=v;x+=1){for(var R=[],d=c;d<=y;d+=1){var h=l.getCellInfo(x,d).offset,w=t.nodeAt(h-r);w&&(k=w.type.name==="tableHeadCell",l.extendedRowspan(x,d)||l.extendedColspan(x,d)?R.push(w.type.create({extended:!0})):R.push(w.copy(w.content)))}var A=i.copy(gt.from(R)),D=k?a:o;D.content=D.content.append(gt.from(A))}return new Ot(mnt(a,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(Ln);function ynt(n,e,t){for(var r=e.nodes,i=r.tableRow,a=r.tableHeadCell,o=r.paragraph,l=[],s=0;s<n;s+=1){var f=t&&t[s],c=o.create(null,f?e.text(f):[]);l.push(a.create(null,c))}return[i.create(null,l)]}function d5(n,e,t,r){for(var i=t.nodes,a=i.tableRow,o=i.tableBodyCell,l=i.paragraph,s=[],f=0;f<n;f+=1){for(var c=[],v=0;v<e;v+=1){var y=r&&r[f*e+v],k=l.create(null,y?t.text(y):[]);c.push(o.create(null,k))}s.push(a.create(null,c))}return s}function d0(n,e,t,r){r===void 0&&(r=null);for(var i=t.nodes,a=i.tableHeadCell,o=i.tableBodyCell,l=i.paragraph,s=e===0?a:o,f=[],c=0;c<n;c+=1)f.push(s.create(r,l.create()));return f}function h5(n,e){for(;n&&n!==e;){if(n.nodeName==="TD"||n.nodeName==="TH")return n;n=n.parentNode}return null}function p5(n){return El(n,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function Ps(n){if(n instanceof zn){var e=n.$anchor,t=p5(e);if(t){var r=e.node(0).resolve(e.before(t.depth));return{anchor:r,head:r}}}var i=n,a=i.startCell,o=i.endCell;return{anchor:a,head:o}}function v5(n){var e;if(n.size){var t=n.content,r=n.openStart,i=n.openEnd;if(t.childCount!==1)return null;for(;t.childCount===1&&(r>0&&i>0||((e=t.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)r-=1,i-=1,t=t.firstChild.content;if(t.firstChild.type.name==="tableHead"||t.firstChild.type.name==="tableBody")return t}return null}function dd(n){var e=n.startRowIdx,t=n.startColIdx,r=n.endRowIdx,i=n.endColIdx,a=r-e+1,o=i-t+1;return{rowCount:a,columnCount:o}}function bnt(n,e){return rt(rt({},n.attrs),e)}var wu=new cv("cellSelection"),wnt=2,Cnt=function(){function n(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return n.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},n.prototype.handleMousedown=function(e){var t=h5(e.target,this.view.dom);if(e.button===wnt){e.preventDefault();return}if(t){var r=this.getCellPos(e);r&&(this.startCellPos=r),this.bindEvent()}},n.prototype.handleMousemove=function(e){var t=wu.getState(this.view.state),r=this.getCellPos(e),i=this.startCellPos,a;t?a=this.view.state.doc.resolve(t):i!==r&&(a=i),a&&i&&r&&this.setCellSelection(i,r)},n.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),wu.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(wu,-1))},n.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},n.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},n.prototype.getCellPos=function(e){var t=e.clientX,r=e.clientY,i=this.view.posAtCoords({left:t,top:r});if(i){var a=this.view.state.doc,o=a.resolve(i.pos),l=p5(o);if(l){var s=o.before(l.depth);return a.resolve(s)}}return null},n.prototype.setCellSelection=function(e,t){var r=this.view.state,i=r.selection,a=r.tr,o=wu.getState(this.view.state)===null,l=new l2(e,t);if(o||!i.eq(l)){var s=a.setSelection(l);o&&s.setMeta(wu,t.pos),this.view.dispatch(s)}},n.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},n}(),xnt=Vt("cell-selected");function knt(n){var e=n.selection,t=n.doc;if(e instanceof l2){var r=[],i=e.ranges;return i.forEach(function(a){var o=a.$from,l=a.$to;r.push(Aa.node(o.pos-1,l.pos+1,{class:xnt}))}),Pr.create(t,r)}return null}function _nt(){return new Ra({key:wu,state:{init:function(){return null},apply:function(n,e){var t=n.getMeta(wu);if(t)return t===-1?null:t;if(j0(e)||!n.docChanged)return e;var r=n.mapping.mapResult(e),i=r.deleted,a=r.pos;return i?null:a}},props:{decorations:knt,createSelectionBetween:function(n){var e=n.state;return j0(wu.getState(e))?null:e.selection}},view:function(n){return new Cnt(n)}})}var g5=function(){function n(){this.keys=[],this.values=[]}return n.prototype.getKeyIndex=function(e){return Wc(e,this.keys)},n.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},n.prototype.set=function(e,t){var r=this.getKeyIndex(e);return r>-1?this.values[r]=t:(this.keys.push(e),this.values.push(t)),this},n.prototype.has=function(e){return this.getKeyIndex(e)>-1},n.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1?(this.keys.splice(t,1),this.values.splice(t,1),!0):!1},n.prototype.forEach=function(e,t){var r=this;t===void 0&&(t=this),this.values.forEach(function(i,a){i&&r.keys[a]&&e.call(t,i,r.keys[a],r)})},n.prototype.clear=function(){this.keys=[],this.values=[]},n}(),AT="en-US",Tnt=function(){function n(){this.code=AT,this.langs=new g5}return n.prototype.setCode=function(e){this.code=e||AT},n.prototype.setLanguage=function(e,t){var r=this;e=[].concat(e),e.forEach(function(i){if(!r.langs.has(i))r.langs.set(i,t);else{var a=r.langs.get(i);r.langs.set(i,IE(a,t))}})},n.prototype.get=function(e,t){t||(t=this.code);var r=this.langs.get(t);r||(r=this.langs.get(AT));var i=r[e];if(!i)throw new Error('There is no text key "'+e+'" in '+t);return i},n}(),wn=new Tnt,Snt=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function Ent(n,e){return Snt.map(function(t){return t.map(function(r){var i=r.action,a=r.command,o=r.payload,l=r.disableInThead,s=r.className;return{label:wn.get(i),onClick:function(){n.emit("command",a,o)},disabled:e&&!!l,className:s}})}).concat()}function Ant(n){return new Ra({props:{handleDOMEvents:{contextmenu:function(e,t){var r=h5(t.target,e.dom);if(r){t.preventDefault();var i=t,a=i.clientX,o=i.clientY,l=e.dom.parentNode.getBoundingClientRect(),s=l.left,f=l.top,c=r.nodeName==="TH";return n.emit("contextmenu",{pos:{left:a-s+10+"px",top:o-f+30+"px"},menuGroups:Ent(n,c),tableCell:r}),!0}return!1}}}})}function Mnt(){return new Ra({props:{handleDOMEvents:{mousedown:function(n,e){var t=e,r=t.clientX,i=t.clientY,a=n.posAtCoords({left:r,top:i});if(a){var o=n.state,l=o.doc,s=o.tr,f=l.resolve(a.pos),c=Rd(f),v=e.target,y=getComputedStyle(v,":before"),k=e,x=k.offsetX,R=k.offsetY;if(!c||!$E(y,x,R))return!1;e.preventDefault();var d=f.before(c.depth),h=c.node.attrs;return s.setNodeMarkup(d,null,rt(rt({},h),{checked:!h.checked})),n.dispatch(s),!0}return!1}}}})}var Nnt=["image","link","customBlock","frontMatter"],Dnt=["strong","strike","emph","code"],m5=["bulletList","orderedList","taskList"];function Lnt(n,e){var t=n.type.name;return t==="listItem"?n.attrs.task?"taskList":e.type.name:t.indexOf("table")!==-1?"table":t}function Ont(n,e){e[n]={active:!0},m5.filter(function(t){return t!==n}).forEach(function(t){e[t]&&delete e[t]})}function Rnt(n,e,t,r){Dnt.forEach(function(i){var a=t.marks[i],o=n.marksAcross(e)||[],l=!!a.isInSet(o);l&&(r[i]={active:!0})})}function Int(n,e,t){var r=n.$from,i=n.$to,a=n.from,o=n.to,l={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(a,o,function(s,f,c){var v=Lnt(s,c);_i(Nnt,v)||(_i(m5,v)?(Ont(v,l),l.indent.disabled=!1,l.outdent.disabled=!1):v==="paragraph"||v==="text"?Rnt(r,i,t,l):l[v]={active:!0})}),l}function Bnt(n){return new Ra({view:function(){return{update:function(e){var t=e.state,r=t.selection,i=t.doc,a=t.schema;n.emit("changeToolbarState",{toolbarState:Int(r,i,a)})}}}})}var Pnt=function(){function n(e,t,r,i){var a=this;this.openEditor=function(){if(a.innerEditorView)throw new Error("The editor is already opened.");a.dom.draggable=!1,a.wrapper.style.display="none",a.innerViewContainer.style.display="block",a.innerEditorView=new ME(a.innerViewContainer,{state:Mc.create({doc:a.node,plugins:[Xp({"Mod-z":function(){return Op(a.innerEditorView.state,a.innerEditorView.dispatch)},"Shift-Mod-z":function(){return RE(a.innerEditorView.state,a.innerEditorView.dispatch)},Tab:function(o,l){return l(o.tr.insertText("	")),!0},Enter:RI,Escape:function(){return a.cancelEditing(),!0},"Ctrl-Enter":function(){return a.saveAndFinishEditing(),!0}}),qI()]}),dispatchTransaction:function(o){return a.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return a.editorView.hasFocus()&&a.innerEditorView.focus(),!0},blur:function(){return a.saveAndFinishEditing(),!0}}}),a.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=r,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=Vt("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=Vt("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return n.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),r=document.createElement("span"),i=document.createElement("button");t.className="tool",r.textContent=this.node.attrs.info,r.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),t.appendChild(r),t.appendChild(i),this.wrapper.appendChild(t)},n.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},n.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=Vt("custom-block-editor"),this.innerViewContainer.style.display="none"},n.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},n.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(Tr(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},n.prototype.cancelEditing=function(){var e=Dme(this.innerEditorView.state);for(this.canceled=!0;e--;)Op(this.innerEditorView.state,this.innerEditorView.dispatch),Op(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,r=this.editorView.state;this.editorView.dispatch(r.tr.setSelection(zn.create(r.doc,t))),this.editorView.focus(),this.closeEditor()},n.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),r=t.state,i=t.transactions;if(this.innerEditorView.updateState(r),!this.canceled&&Lo(this.getPos)){for(var a=this.editorView.state.tr,o=Ea.offset(this.getPos()+1),l=0;l<i.length;l+=1)for(var s=i[l].steps,f=0;f<s.length;f+=1)a.step(s[f].map(o));a.docChanged&&this.editorView.dispatch(a)}},n.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},n.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},n.prototype.ignoreMutation=function(){return!0},n.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},n}(),pL="image-link",Fnt=function(){function n(e,t,r,i){var a=this,o;this.handleMousedown=function(l){l.preventDefault();var s=l.target,f=l.offsetX,c=l.offsetY;if(a.imageLink&&Lo(a.getPos)&&JI(s,pL)){var v=getComputedStyle(s,":before");if(l.stopPropagation(),$E(v,f,c)){var y=a.view.state.tr,k=a.getPos();y.setSelection(Tr(y,k,k+1)),a.view.dispatch(y),a.eventEmitter.emit("openPopup","link",a.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=r,this.eventEmitter=i,this.imageLink=(o=e.marks.filter(function(l){var s=l.type;return s.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return n.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=pL,t.appendChild(e),t}return e},n.prototype.createImageElement=function(e){var t=document.createElement("img"),r=e.attrs,i=r.imageUrl,a=r.altText,o=Gr(e.attrs);return t.src=i,a&&(t.alt=a),jE(o,t),t},n.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},n.prototype.stopEvent=function(){return!0},n.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},n}(),znt="toastui-editor-ww-code-block",Hnt="toastui-editor-ww-code-block-language",qnt=function(){function n(e,t,r,i){var a=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(o){var l=o.target,s=getComputedStyle(l,":after");if(s.backgroundImage!=="none"&&Lo(a.getPos)){var f=a.view.coordsAtPos(a.getPos()),c=f.top,v=f.right;a.createLanguageEditor({top:c,right:v})}},this.handleKeydown=function(o){o.key==="Enter"&&a.input&&(o.preventDefault(),a.changeLanguage())},this.node=e,this.view=t,this.getPos=r,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return n.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=znt;var r=this.createCodeBlockElement(),i=r.firstChild;t.appendChild(r),this.dom=t,this.contentDOM=i},n.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),r=this.node.attrs.language,i=Gr(this.node.attrs);return r&&t.setAttribute("data-language",r),jE(i,e),e.appendChild(t),e},n.prototype.createLanguageEditor=function(e){var t=this,r=e.top,i=e.right,a=document.createElement("span");a.className=Hnt;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,a.appendChild(o),this.view.dom.parentElement.appendChild(a);var l=a.clientWidth;Ys(a,{top:r+10+"px",left:i-l-10+"px",width:l+"px"}),this.input=o,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},n.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},n.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},n.prototype.changeLanguage=function(){if(this.input&&Lo(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),r=this.view.state.tr;r.setNodeMarkup(t,null,{language:e}),this.view.dispatch(r)}},n.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var t=this.input.parentElement;this.input=null,jc(t)}},n.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.stopEvent=function(){return!0},n.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},n.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},n}(),Unt=/MsoListParagraph/,y5=/style=(.|\n)*mso-/,b5=/mso-list:(.*)/,Vnt=/O:P/,$nt=/^(n|u|l)/,Wnt="p.MsoListParagraph";function Gnt(n){return y5.test(n)}function jnt(n){for(var e=[],t=document.createTreeWalker(n,1,null,!1);t.nextNode();){var r=t.currentNode;if(H1(r)){var i=r,a=i.outerHTML,o=i.textContent,l=y5.test(a),s=b5.test(a);l&&!s&&o?e.push([r,!0]):(Vnt.test(r.nodeName)||l&&!o||s)&&e.push([r,!1])}}return e.forEach(function(f){var c=f[0],v=f[1];v?c1e(c):jc(c)}),n.innerHTML.trim()}function Ynt(n,e){var t=n.getAttribute("style");if(t){var r=t.match(b5),i=r[1],a=i.trim().split(" "),o=a[1],l=parseInt(o.replace("level",""),10),s=$nt.test(n.textContent||"");return{id:e,level:l,prev:null,parent:null,children:[],unordered:s,contents:jnt(n)}}return null}function Znt(n,e){if(e.level<n.level)e.children.push(n),n.parent=e;else{for(;e&&e.level!==n.level;)e=e.parent;e&&(n.prev=e,n.parent=e.parent,n.parent&&n.parent.children.push(n))}}function Knt(n){var e=[];return n.forEach(function(t,r){var i=e[r-1],a=Ynt(t,r);a&&(i&&Znt(a,i),e.push(a))}),e}function w5(n){var e=n[0].unordered?"ul":"ol",t=document.createElement(e);return n.forEach(function(r){var i=r.children,a=r.contents,o=document.createElement("li");o.innerHTML=a,t.appendChild(o),i.length&&t.appendChild(w5(i))}),t}function Jnt(n){var e=Knt(n),t=e.filter(function(r){var i=r.parent;return!i});return w5(t)}function Xnt(n){for(;n&&!H1(n);)n=n.nextSibling;return n?!Unt.test(n.className):!0}function Qnt(n){var e=document.createElement("div");e.innerHTML=n;var t=[],r=s1e(e,Wnt);r.forEach(function(a){var o=Xnt(a.nextSibling);if(t.push(a),o){var l=Jnt(t),s=a.nextSibling;s?u1e(l,s):l1e(e,l),t=[]}jc(a)});var i=r.length?"<p></p>":"";return""+i+e.innerHTML}var vL="<!--StartFragment-->",ert="<!--EndFragment-->";function trt(n){var e=n.indexOf(vL),t=n.lastIndexOf(ert);return e>-1&&t>-1&&(n=n.slice(e+vL.length,t)),n.replace(/<br[^>]*>/g,n4)}function nrt(n){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(n)&&(n="<tr>"+n+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(n)&&(n="<table>"+n+"</table>"),n}function rrt(n){return n=trt(n),n=nrt(n),Gnt(n)&&(n=Qnt(n)),n}function irt(n){var e=n.reduce(function(t,r){return t.childCount>r.childCount?t:r});return e.childCount}function C5(n,e,t){for(var r=[],i=n.childCount,a=0;a<i;a+=1)if(!n.child(a).attrs.extended){var o=a<i?t.create(n.child(a).attrs,n.child(a).content):t.createAndFill();r.push(o)}return r}function x5(n,e,t){var r=t.nodes,i=r.tableRow,a=r.tableHeadCell,o=C5(n,e,a);return i.create(null,o)}function k5(n,e,t){var r=t.nodes,i=r.tableRow,a=r.tableBodyCell,o=C5(n,e,a);return i.create(null,o)}function art(n,e){for(var t=e.nodes,r=t.tableRow,i=t.tableBodyCell,a=[],o=0;o<n;o+=1){var l=i.createAndFill();a.push(l)}return r.create({dummyRowForPasting:!0},a)}function _5(n){var e=[],t=[];if(n.firstChild.type.name==="tableHead"){var r=n.firstChild;r.forEach(function(a){return e.push(a)})}if(n.lastChild.type.name==="tableBody"){var i=n.lastChild;i.forEach(function(a){return t.push(a)})}return Oa(Oa([],e),t)}function ort(n,e,t){var r=x5(n,e,t);return t.nodes.tableHead.create(null,r)}function gL(n,e,t){var r=n.map(function(a){return k5(a,e,t)});if(!n.length){var i=art(e,t);r.push(i)}return t.nodes.tableBody.create(null,r)}function srt(n,e,t,r){var i=irt(n);if(t&&r)return e.nodes.table.create(null,[gL(n,i,e)]);var a=n[0],o=n.slice(1),l=[ort(a,i,e)];return o.length&&l.push(gL(o,i,e)),e.nodes.table.create(null,l)}function lrt(n,e,t){var r=[],i=n.content,a=n.openStart,o=n.openEnd;return i.forEach(function(l){if(l.type.name==="table"){var s=v5(new Ot(gt.from(l),0,0));if(s){var f=_5(s),c=s.firstChild.type.name==="tableBody",v=srt(f,e,c,t);r.push(v)}}else r.push(l)}),new Ot(gt.from(r),a,o)}var urt=4,crt=2;function h0(n){return n*urt}function frt(n,e,t){var r=[],i=_5(n),a=i[0].childCount,o=i.length,l=e.startRowIdx===0,s=i.slice(0,o);if(l){var f=s.shift();if(f){var c=x5(f,a,t).content;r.push(c)}}return s.forEach(function(v){if(!v.attrs.dummyRowForPasting){var y=k5(v,a,t).content;r.push(y)}}),r}function drt(n,e,t){for(var r=e.startRowIdx,i=e.startColIdx,a=t.length,o=0,l=function(k){var x=t[k].childCount;t[k].forEach(function(R){var d=R.attrs,h=d.colspan;h>1&&(x+=h-1)}),o=Math.max(o,x)},s=0;s<a;s+=1)l(s);var f=r+a-1,c=i+o-1,v=Math.max(f+1-n.totalRowCount,0),y=Math.max(c+1-n.totalColumnCount,0);return{startRowIdx:r,startColIdx:i,endRowIdx:f,endColIdx:c,addedRowCount:v,addedColumnCount:y}}function hrt(n,e){for(var t=n.startRowIdx,r=n.startColIdx,i=n.endRowIdx,a=n.endColIdx,o=n.addedRowCount,l=n.addedColumnCount,s=t;s<=i-o;s+=1)e.push({rowIdx:s,startColIdx:r,endColIdx:a-l})}function prt(n,e,t,r,i){for(var a=r.startRowIdx,o=r.startColIdx,l=r.endRowIdx,s=r.endColIdx,f=r.addedRowCount,c=r.addedColumnCount,v=t.totalRowCount,y=0,k=0;k<v;k+=1){var x=t.getCellInfo(k,s-c),R=x.offset,d=x.nodeSize,h=n.mapping.map(R+d),w=d0(c,k,e);if(n.insert(h,w),k>=a&&k<=l-f){var A=t.getCellInfo(k,s-c),D=n.mapping.map(A.offset),I=h+h0(c);i[y]={rowIdx:k,startColIdx:o,endColIdx:s,dummyOffsets:[D,I]},y+=1}}}function vrt(n,e,t,r,i){var a=r.addedRowCount,o=r.addedColumnCount,l=r.startColIdx,s=r.endColIdx,f=n.mapping.maps.length,c=t.tableEndOffset-2,v=d5(a,t.totalColumnCount+o,e),y=c;n.insert(n.mapping.slice(f).map(y),v);for(var k=0;k<a;k+=1){var x=y+h0(l)+1,R=y+h0(s+1)+1,d=y+h0(t.totalColumnCount+o)+crt;i.push({rowIdx:k+t.totalRowCount,startColIdx:l,endColIdx:s,dummyOffsets:[x,R]}),y=d}}function grt(n,e,t,r){var i=n.mapping.maps.length;t.forEach(function(a,o){var l=a.rowIdx,s=a.startColIdx,f=a.endColIdx,c=a.dummyOffsets,v=n.mapping.slice(i),y=new Ot(e[o],0,0),k=c?c[0]:r.getCellStartOffset(l,s),x=c?c[1]:r.getCellEndOffset(l,f);n.replace(v.map(k),v.map(x),y)})}function mrt(n,e){var t=n.state,r=t.selection,i=t.schema,a=t.tr,o=Ps(r),l=o.anchor,s=o.head;if(l&&s){var f=v5(e);if(!f)return!1;var c=bi.create(l),v=c.getRectOffsets(l,s),y=frt(f,v,i),k=drt(c,v,y),x=[];return brt(c,k)&&(hrt(k,x),k.addedColumnCount&&prt(a,i,c,k,x),k.addedRowCount&&vrt(a,i,c,k,x),grt(a,y,x,c),n.dispatch(a),yrt(n,x,c.getCellInfo(0,0).offset)),!0}return!1}function yrt(n,e,t){var r=n.state,i=r.tr,a=r.doc,o=bi.create(a.resolve(t)),l=e[0],s=l.rowIdx,f=l.startColIdx,c=Ui(e),v=c.rowIdx,y=c.endColIdx,k=o.getCellInfo(s,f).offset,x=o.getCellInfo(v,y).offset;n.dispatch(i.setSelection(new l2(a.resolve(k),a.resolve(x))))}function brt(n,e){var t=n.getSpannedOffsets(e),r=dd(t),i=r.rowCount,a=r.columnCount,o=dd(e),l=o.rowCount,s=o.columnCount;return i===l&&a===s}var wrt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(yr),Crt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:rt({},li()),parseDOM:[{tag:"p"}],toDOM:function(t){var r=t.attrs;return["p",Gr(r),0]}}},enumerable:!1,configurable:!0}),e}(yr),xrt=/\s{1,4}$/,krt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,r){var i=t.selection,a=t.tr,o=i.$from,l=i.$to,s=o.blockRange(l);return s&&!Od(o)&&!s1(o)?(r(a.insertText("    ",o.pos,l.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(t,r){var i=t.selection,a=t.tr,o=i.$from,l=i.$to,s=i.from,f=o.blockRange(l);if(f&&!Od(o)&&!s1(o)){var c=o.nodeBefore;if(c&&c.isText){var v=c.text,y=v.replace(xrt,""),k=v.length-y.length;return r(a.delete(s-k,s)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(yr),_rt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map(function(r){return{tag:"h"+r,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return rt({level:r},a&&{rawHTML:a})}}});return{attrs:rt({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},li()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(r){var i=r.attrs;return["h"+i.level,Gr(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(r,i){var a=r.schema.nodes[t.level?"heading":"paragraph"];return OE(a,t)(r,i)}}},e}(yr),Trt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:rt({language:{default:null},rawHTML:{default:null}},li()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var r=t.getAttribute("data-raw-html"),i=t.firstElementChild;return rt({language:(i==null?void 0:i.getAttribute("data-language"))||null},r&&{rawHTML:r})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"pre",["code",rt({"data-language":r.language},Gr(r)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return OE(t.schema.nodes.codeBlock)(t,r)}}},e.prototype.moveCursor=function(t){var r=this;return function(i,a){var o=i.tr,l=i.doc,s=i.schema,f=i.selection.$from,c=r.context.view;if(c.endOfTextblock(t)&&f.node().type.name==="codeBlock"){var v=f.parent.textContent.split(`
`),y=t==="up"?f.start():f.end(),k=t==="up"?[y,v[0].length+y]:[y-Ui(v).length,y],x=l.resolve(t==="up"?f.before():f.after()),R=t==="up"?x.nodeBefore:x.nodeAfter;if(M0e(f.pos,k[0],k[1])&&!R){var d=UE(o,x,s);if(d)return a(d),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(yr),Srt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:rt({rawHTML:{default:null}},li()),parseDOM:[j1("ul")],toDOM:function(t){var r=t.attrs;return["ul",Gr(r),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,r){return f5(t.schema.nodes.bulletList)(t,r)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:snt}},e.prototype.keymaps=function(){var t=this.changeList(),r=s2(),i=r.indent,a=r.outdent;return{"Mod-u":t,"Mod-U":t,Tab:i(),"Shift-Tab":a()}},e}(yr),Ert=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:rt({order:{default:1},rawHTML:{default:null}},li()),parseDOM:[{tag:"ol",getAttrs:function(t){var r=t.getAttribute("start"),i=t.getAttribute("data-raw-html");return rt({order:t.hasAttribute("start")?Number(r):1},i&&{rawHTML:i})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"ol",rt({start:r.order===1?null:r.order},Gr(r)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return f5(t.schema.nodes.orderedList)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()(),r=s2(),i=r.indent,a=r.outdent;return{"Mod-o":t,"Mod-O":t,Tab:i(),"Shift-Tab":a()}},e}(yr),Art=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var r=t.getAttribute("data-raw-html");return rt({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},r&&{rawHTML:r})}}],toDOM:function(t){var r=t.attrs,i=r.task,a=r.checked;if(!i)return[r.rawHTML||"li",0];var o=["task-list-item"];return a&&o.push("checked"),[r.rawHTML||"li",rt({class:o.join(" "),"data-task":i},a&&{"data-task-checked":a}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,r){var i=t.selection,a=t.tr,o=t.schema,l=i.$from,s=i.empty,f=o.nodes.listItem,c=l.parent,v=l.node(-1);if(s&&!c.childCount&&v.type===f){if(l.index(-2)>=1)return a.delete(l.start(-1)-1,l.end(-1)),r(a),!0;var y=l.node(-3);if(y.type===f)return a.delete(l.start(-2)-1,l.end(-1)),r(a),!0}return!1}},e.prototype.keymaps=function(){var t=function(r,i){return dnt(r.schema.nodes.listItem)(r,i)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e}(yr),Mrt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:rt({rawHTML:{default:null}},li()),content:"block+",group:"block",parseDOM:[j1("blockquote")],toDOM:function(t){var r=t.attrs;return["blockquote",Gr(r),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return mme(t.schema.nodes.blockQuote)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}(yr),Nrt={left:Frt,right:Prt,up:zrt,down:Hrt};function Drt(n,e,t){var r=t[0],i=t[1],a=e.resolve(n.before(r-1));return i===r&&!a.nodeBefore}function Lrt(n){for(var e,t=n.depth,r;t&&(r=n.node(t),r.type.name!=="tableBodyCell");){if(r.type.name==="listItem"){var i=n.node(t-1),a=i.lastChild===r,o=((e=r.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return a?!o:!1}t-=1}return!1}function Ort(n,e,t,r,i){var a=e[0],o=e[1],l=e[2];if(n==="left"||n==="up"){if(i&&!Drt(t,r,[a,o]))return!1;var s=t.before(l),f=r.resolve(s).nodeBefore;if(f)return!1}return!0}function Rrt(n,e,t,r,i){if(n==="right"||n==="down"){if(i&&!Lrt(t))return!1;var a=t.after(e),o=r.resolve(a).nodeAfter;if(o)return!1}return!0}function Irt(n,e,t,r){var i=e[0],a=e[1],o=i+3,l=a>=o,s=l?i+1:a,f=Ort(n,[a,o,s],t,r,l),c=Rrt(n,s,t,r,l);return f&&c}function mL(n,e,t){var r=t[0],i=t[1],a=e.getRowspanStartInfo(r,i),o=n==="up"&&r===0,l=n==="down"&&((a==null?void 0:a.count)>1?r+a.count-1:r)===e.totalRowCount-1;return o||l}function Brt(n,e,t){var r=n.doc.resolve(e.tableStartOffset-1);return r.nodeBefore?n.setSelection(Ln.near(r,-1)):UE(n,r,t)}function MT(n,e,t,r){r===void 0&&(r=!1);var i=n.doc.resolve(e.tableEndOffset);return r||!i.nodeAfter?UE(n,i,t):n.setSelection(Ln.near(i,1))}function Prt(n,e){var t=n[0],r=n[1],i=e.totalRowCount,a=e.totalColumnCount,o=r===a-1,l=t===i-1&&o;if(!l){var s=r+1,f=e.getColspanStartInfo(t,r);(f==null?void 0:f.count)>1&&(s+=f.count-1),(o||s===a)&&(t+=1,s=0);var c=e.getCellInfo(t,s).offset;return c+2}return null}function Frt(n,e){var t=n[0],r=n[1],i=e.totalColumnCount,a=r===0,o=t===0&&a;if(!o){r-=1,a&&(t-=1,r=i-1);var l=e.getCellInfo(t,r),s=l.offset,f=l.nodeSize;return s+f-2}return null}function zrt(n,e){var t=n[0],r=n[1];if(t>0){var i=e.getCellInfo(t-1,r),a=i.offset,o=i.nodeSize;return a+o-2}return null}function Hrt(n,e){var t=n[0],r=n[1],i=e.totalRowCount;if(t<i-1){var a=t+1,o=e.getRowspanStartInfo(t,r);(o==null?void 0:o.count)>1&&(a+=o.count-1);var l=e.getCellInfo(a,r).offset;return l+2}return null}function yL(n,e,t,r){var i=Nrt[n],a=i(t,r);if(a){var o=n==="right"||n==="down"?1:-1;return e.setSelection(Ln.near(e.doc.resolve(a),o))}return null}function qrt(n,e,t){var r=t[0],i=t[1];if(n==="up"||n==="down")return!1;var a=e.tableStartOffset,o=e.tableEndOffset,l=e.getCellInfo(r,i),s=l.offset,f=l.nodeSize,c=n==="left"?a:o,v=n==="left"?s-2:s+f+3;return c===v}function Urt(n,e,t){var r=n.doc.resolve(e.before(t-3));return n.setSelection(new vn(r))}function Vrt(n,e,t){var r,i,a;return n==="up"?(r=t.startRowIdx,i=0,a=-1):(r=t.endRowIdx,i=e.totalColumnCount-1,a=e.getCellInfo(r,i).nodeSize+1),{targetRowIdx:r,insertColIdx:i,nodeSize:a}}function $rt(n,e,t){var r=n.getCellInfo(e,0).offset,i=n.getCellInfo(e,t-1),a=i.offset,o=i.nodeSize;return{from:r,to:a+o}}var Wrt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:rt({rawHTML:{default:null}},li()),parseDOM:[j1("table")],toDOM:function(t){var r=t.attrs;return["table",Gr(r),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return t===void 0&&(t={rowCount:2,columnCount:1,data:[]}),function(r,i){var a=t.rowCount,o=t.columnCount,l=t.data,s=r.schema,f=r.selection,c=r.tr,v=f.from,y=f.to,k=f.$from,x=v===y;if(x&&!s1(k)){var R=s.nodes,d=R.tableHead,h=R.tableBody,w=l==null?void 0:l.slice(0,o),A=l==null?void 0:l.slice(o,l.length),D=ynt(o,s,w),I=d5(a-1,o,s,A),O=s.nodes.table.create(null,[d.create(null,D),h.create(null,I)]);return i(c.replaceSelectionWith(O)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,r){var i=t.selection,a=t.tr,o=bi.create(i.$anchor);if(o){var l=o.tableStartOffset,s=o.tableEndOffset,f=l-1,c=Tr(a.delete(f,s),f);return r(a.setSelection(c)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(r,i){var a=r.selection,o=r.tr,l=r.schema,s=Ps(a),f=s.anchor,c=s.head;if(f&&c){for(var v=bi.create(f),y=v.getRectOffsets(f,c),k=t==="left"?y.startColIdx:y.endColIdx+1,x=dd(y).columnCount,R=v.totalRowCount,d=0;d<R;d+=1){var h=d0(x,d,l);o.insert(o.mapping.map(v.posAt(d,k)),h)}return i(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,r){var i=t.selection,a=t.tr,o=Ps(i),l=o.anchor,s=o.head;if(l&&s){var f=bi.create(l),c=f.getRectOffsets(l,s),v=f.totalColumnCount,y=f.totalRowCount,k=dd(c).columnCount,x=k===v;if(x)return!1;for(var R=c.startColIdx,d=c.endColIdx,h=a.mapping.maps.length,w=0;w<y;w+=1)for(var A=d;A>=R;A-=1){var D=f.getCellInfo(w,A),I=D.offset,O=D.nodeSize,F=a.mapping.slice(h).map(I),$=F+O;a.delete(F,$)}return r(a),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(r,i){var a=r.selection,o=r.schema,l=r.tr,s=Ps(a),f=s.anchor,c=s.head;if(f&&c){var v=bi.create(f),y=v.totalColumnCount,k=v.getRectOffsets(f,c),x=dd(k).rowCount,R=Vrt(t,v,k),d=R.targetRowIdx,h=R.insertColIdx,w=R.nodeSize,A=d===0;if(!A){for(var D=[],I=l.mapping.map(v.posAt(d,h))+w,O=[],F=0;F<y;F+=1)O=O.concat(d0(1,d,o));for(var $=0;$<x;$+=1)D.push(o.nodes.tableRow.create(null,O));return i(l.insert(I,D)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,r){var i=t.selection,a=t.tr,o=Ps(i),l=o.anchor,s=o.head;if(l&&s){var f=bi.create(l),c=f.totalRowCount,v=f.totalColumnCount,y=f.getRectOffsets(l,s),k=dd(y).rowCount,x=y.startRowIdx,R=y.endRowIdx,d=x===0,h=k===c-1;if(h||d)return!1;for(var w=R;w>=x;w-=1){var A=$rt(f,w,v),D=A.from,I=A.to;a.delete(D-1,I+1)}return r(a),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return t===void 0&&(t={align:"center"}),function(r,i){var a=t.align,o=r.selection,l=r.tr,s=Ps(o),f=s.anchor,c=s.head;if(f&&c){for(var v=bi.create(f),y=v.totalRowCount,k=v.getRectOffsets(f,c),x=k.startColIdx,R=k.endColIdx,d=0;d<y;d+=1)for(var h=x;h<=R;h+=1)if(!v.extendedRowspan(d,h)&&!v.extendedColspan(d,h)){var w=v.getNodeAndPos(d,h),A=w.node,D=w.pos,I=bnt(A,{align:a});l.setNodeMarkup(D,null,I)}return i(l),!0}return!1}}},e.prototype.moveToCell=function(t){return function(r,i){var a=r.selection,o=r.tr,l=r.schema,s=Ps(a),f=s.anchor,c=s.head;if(f&&c){var v=bi.create(f),y=v.getCellIndex(f),k=void 0;if(mL(t,v,y)?k=MT(o,v,l):k=yL(t,o,y,v),k)return i(k),!0}return!1}},e.prototype.moveInCell=function(t){var r=this;return function(i,a){var o=i.selection,l=i.tr,s=i.doc,f=i.schema,c=o.$from,v=r.context.view;if(!v.endOfTextblock(t))return!1;var y=El(c,function(A){var D=A.type;return D.name==="tableHeadCell"||D.name==="tableBodyCell"});if(y){var k=El(c,function(A){var D=A.type;return D.name==="paragraph"}),x=y.depth;if(k&&Irt(t,[x,k.depth],c,s)){var R=Ps(o).anchor,d=bi.create(R),h=d.getCellIndex(R),w=void 0;if(qrt(t,d,h)?w=Urt(l,c,x):mL(t,d,h)?t==="up"?w=Brt(l,d,f):t==="down"&&(w=MT(l,d,f)):w=yL(t,l,h,d),w)return a(w),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,r){var i=t.schema,a=t.selection,o=t.tr,l=Ps(a),s=l.anchor,f=l.head,c=a instanceof zn;if(s&&f&&!c){for(var v=bi.create(s),y=v.getRectOffsets(s,f),k=y.startRowIdx,x=y.startColIdx,R=y.endRowIdx,d=y.endColIdx,h=k;h<=R;h+=1)for(var w=x;w<=d;w+=1)if(!v.extendedRowspan(h,w)&&!v.extendedColspan(h,w)){var A=v.getNodeAndPos(h,w),D=A.node,I=A.pos,O=d0(1,h,i,D.attrs);o.replaceWith(o.mapping.map(I),o.mapping.map(I+D.nodeSize),O)}return r(o),!0}return!1}},e.prototype.exitTable=function(){return function(t,r){var i=t.selection,a=t.tr,o=t.schema,l=i.$from,s=El(l,function(y){var k=y.type;return k.name==="tableHeadCell"||k.name==="tableBodyCell"});if(s){var f=El(l,function(y){var k=y.type;return k.name==="paragraph"});if(f){var c=Ps(i).anchor,v=bi.create(c);return r(MT(a,v,o,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e}(yr),Grt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:rt({rawHTML:{default:null}},li()),parseDOM:[j1("thead")],toDOM:function(t){var r=t.attrs;return["thead",Gr(r),0]}}},enumerable:!1,configurable:!0}),e}(yr),jrt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:rt({rawHTML:{default:null}},li()),parseDOM:[{tag:"tbody",getAttrs:function(t){var r=t.querySelectorAll("tr"),i=r[0].children.length,a=t.getAttribute("data-raw-html");return i?rt({},a&&{rawHTML:a}):!1}}],toDOM:function(t){var r=t.attrs;return["tbody",Gr(r),0]}}},enumerable:!1,configurable:!0}),e}(yr),Yrt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:rt({rawHTML:{default:null}},li()),parseDOM:[{tag:"tr",getAttrs:function(t){var r=t.children.length,i=t.getAttribute("data-raw-html");return r?rt({},i&&{rawHTML:i}):!1}}],toDOM:function(t){var r=t.attrs;return["tr",Gr(r),0]}}},enumerable:!1,configurable:!0}),e}(yr),Zrt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:rt({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},li()),isolating:!0,parseDOM:[l5("th")],toDOM:function(t){var r=t.attrs,i=s5(r);return["th",rt(rt({},i),Gr(r)),0]}}},enumerable:!1,configurable:!0}),e}(yr),Krt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[l5("td")],toDOM:function(t){var r=t.attrs,i=s5(r);return["td",i,0]}}},enumerable:!1,configurable:!0}),e}(yr),Jrt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:rt({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},li()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var r=Kc(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=r.getAttribute("src")||"",a=r.getAttribute("data-raw-html"),o=r.getAttribute("alt");return rt({imageUrl:i,altText:o},a&&{rawHTML:a})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"img",rt(rt({src:fd(r.imageUrl)},r.altText&&{alt:r.altText}),Gr(r))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(r,i){var a=r.schema,o=r.tr,l=t,s=l.imageUrl,f=l.altText;if(!s)return!1;var c=a.nodes.image.createAndFill(rt({imageUrl:s},f&&{altText:f}));return i(o.replaceSelectionWith(c).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(yr),bL=1,Xrt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:rt({rawHTML:{default:null}},li()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var r=t.attrs;return["div",Gr(r),[r.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(r,i){var a,o=r.selection,l=o.$from,s=o.$to;if(l===s){var f=r.doc,c=r.schema.nodes,v=c.thematicBreak,y=c.paragraph,k=[v.create()],x=l.node(bL),R=f.child(f.childCount-1)===x,d=f.resolve(l.after(bL)),h=((a=l.nodeAfter)===null||a===void 0?void 0:a.type.name)===t.name;return(R||h)&&k.push(y.create()),i(r.tr.insert(d.pos,k).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(yr),Qrt=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map(function(r){return{tag:r,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return rt({},a&&{rawHTML:a})}}});return{attrs:rt({rawHTML:{default:null}},li()),parseDOM:t,toDOM:function(r){var i=r.attrs;return[i.rawHTML||"strong",Gr(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,r){return pv(t.schema.marks.strong)(t,r)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(Sr),eit=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map(function(r){return{tag:r,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return rt({},a&&{rawHTML:a})}}});return{attrs:rt({rawHTML:{default:null}},li()),parseDOM:t,toDOM:function(r){var i=r.attrs;return[i.rawHTML||"em",Gr(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,r){return pv(t.schema.marks.emph)(t,r)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(Sr),tit=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map(function(r){return{tag:r,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return rt({},a&&{rawHTML:a})}}});return{attrs:rt({rawHTML:{default:null}},li()),parseDOM:t,toDOM:function(r){var i=r.attrs;return[i.rawHTML||"del",Gr(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return pv(t.schema.marks.strike)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(Sr),nit=function(n){zt(e,n);function e(t){var r=n.call(this)||this;return r.linkAttributes=t,r}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:rt({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},li()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(r){var i=Kc(r,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=i.getAttribute("href")||"",o=i.getAttribute("title")||"",l=i.getAttribute("data-raw-html");return rt({linkUrl:a,title:o},l&&{rawHTML:l})}}],toDOM:function(r){var i=r.attrs;return[i.rawHTML||"a",rt(rt({href:fd(i.linkUrl)},t.linkAttributes),Gr(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(r,i){var a=t,o=a.linkUrl,l=a.linkText,s=l===void 0?"":l,f=r.schema,c=r.tr,v=r.selection,y=v.empty,k=v.from,x=v.to;if(k&&x&&o){var R={linkUrl:o},d=f.mark("link",R);if(y&&s){var h=ki(f,s,d);c.replaceRangeWith(k,x,h)}else c.addMark(k,x,d);return i(c.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(r,i){return pv(r.schema.marks.link,t)(r,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(Sr),rit=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:rt({rawHTML:{default:null}},li()),parseDOM:[{tag:"code",getAttrs:function(t){var r=t.getAttribute("data-raw-html");return rt({},r&&{rawHTML:r})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"code",Gr(r)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return pv(t.schema.marks.code)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(Sr),iit=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var r=t.getAttribute("data-custom-info");return{info:r}}}],toDOM:function(t){var r=t.attrs;return["div",{"data-custom-info":r.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(r,i){return t!=null&&t.info?OE(r.schema.nodes.customBlock,t)(r,i):!1}}},e}(yr),ait=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="frontMatter"?LE(t,r):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(yr),oit=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="htmlComment"?LE(t,r):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(yr);function sit(n){return new f4([new wrt,new Crt,new krt,new _rt,new Trt,new Srt,new Ert,new Art,new Mrt,new Wrt,new Grt,new jrt,new Yrt,new Zrt,new Krt,new Jrt,new Xrt,new Qrt,new eit,new tit,new nit(n),new rit,new iit,new ait,new u4,new oit])}var lit=Vt("contents"),uit=function(n){zt(e,n);function e(t,r){var i=n.call(this,t)||this,a=r.toDOMAdaptor,o=r.htmlSchemaMap,l=o===void 0?{}:o,s=r.linkAttributes,f=s===void 0?{}:s,c=r.useCommandShortcut,v=c===void 0?!0:c,y=r.wwPlugins,k=y===void 0?[]:y,x=r.wwNodeViews,R=x===void 0?{}:x;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=a,i.linkAttributes=f,i.extraPlugins=k,i.pluginNodeViews=R,i.specs=i.createSpecs(),i.schema=i.createSchema(l),i.context=i.createContext(),i.keymaps=i.createKeymaps(v),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(rt(rt({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return sit(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new RR({nodes:rt(rt({},this.specs.nodes),t.nodes),marks:rt(rt({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return Oa([_nt(),Ant(this.eventEmitter),Mnt(),Bnt(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var t=this,r=t.eventEmitter,i=t.pluginNodeViews,a={};return i&&Object.keys(i).forEach(function(o){a[o]=function(l,s,f){return i[o](l,s,f,r)}}),a},e.prototype.createView=function(){var t=this,r=this,i=r.toDOMAdaptor,a=r.eventEmitter;return new ME(this.el,{state:this.createState(),attributes:{class:lit},nodeViews:rt({customBlock:function(o,l,s){return new Pnt(o,l,s,i)},image:function(o,l,s){return new Fnt(o,l,s,a)},codeBlock:function(o,l,s){return new qnt(o,l,s,a)},widget:l4},this.createPluginNodeViews()),dispatchTransaction:function(o){var l=t.view.state.applyTransaction(o).state;t.view.updateState(l),t.emitChangeEvent(o.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",l.selection.$from.node(1))},transformPastedHTML:rrt,transformPasted:function(o){return lrt(o,t.schema,s1(t.view.state.selection.$from))},handlePaste:function(o,l,s){return mrt(o,s)},handleKeyDown:function(o,l){return t.eventEmitter.emit("keydown",t.editorType,l),!1},handleDOMEvents:{paste:function(o,l){var s=l.clipboardData||window.clipboardData,f=s==null?void 0:s.items;if(f){var c=Zs(f).some(function(y){return y.kind==="string"&&y.type==="text/rtf"});if(!c){var v=s4(f);v&&(l.preventDefault(),ZE(t.eventEmitter,v,l.type))}}return!1},keyup:function(o,l){return t.eventEmitter.emit("keyup",t.editorType,l),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,s2())},e.prototype.getHTML=function(){return YE(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,r=t.from,i=t.to;return[r,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,r,i){var a=this.view.state,o=a.schema,l=a.tr,s=t.split(`
`),f=s.map(function(y){return J0(o,Fc(y,o))}),c=new Ot(gt.from(f),1,1),v=kl(r)&&kl(i)?l.replaceRange(r,i,c):l.replaceSelection(c);this.view.dispatch(v),this.focus()},e.prototype.deleteSelection=function(t,r){var i=this.view.state.tr,a=kl(t)&&kl(r)?i.deleteRange(t,r):i.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(t,r){var i=this.view.state,a=i.doc,o=i.selection,l=o.from,s=o.to;return kl(t)&&kl(r)&&(l=t,s=r),a.textBetween(l,s,`
`)},e.prototype.setModel=function(t,r){r===void 0&&(r=!1);var i=this.view.state,a=i.tr,o=i.doc;this.view.dispatch(a.replaceWith(0,o.content.size,t)),r&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,r){r===void 0&&(r=t);var i=this.view.state.tr,a=Tr(i,t,r);this.view.dispatch(i.setSelection(a).scrollIntoView())},e.prototype.addWidget=function(t,r,i){var a=this.view,o=a.dispatch,l=a.state;o(l.tr.setMeta("widget",{pos:i??l.selection.to,node:t,style:r}))},e.prototype.replaceWithWidget=function(t,r,i){var a=this.view.state,o=a.tr,l=a.schema,s=Fc(i,l);this.view.dispatch(o.replaceWith(t,r,s))},e.prototype.getRangeInfoOfNode=function(t){var r=this.view.state,i=r.doc,a=r.selection,o=t?i.resolve(t):a.$from,l=o.marks(),s=o.node(),f=o.start(),c=o.end(),v=s.type.name;if(l.length||v==="paragraph"){var y=l[l.length-1],k=function(x){return x.length?_i(x,y):!0};v=y?y.type.name:"text",s.forEach(function(x,R){var d=x.isText,h=x.nodeSize,w=x.marks,A=o.pos-f;d&&R<=A&&R+h>=A&&k(w)&&(f=f+R,c=f+h)})}return{range:[f,c],type:v}},e}(c4),cit=ps,fit=j0;function dit(n){return!cit(n)&&!fit(n)}var hit=dit,pit=hit;function vit(n){return pit(n)&&n!==!1}var git=vit,mit=git;function yit(n){return!mit(n)}var bit=yit,wL=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],T5=function(){function n(){var e=this;this.events=new g5,this.eventTypes=wL.reduce(function(t,r){return rt(rt({},t),{type:r})},{}),this.hold=!1,wL.forEach(function(t){e.addEventType(t)})}return n.prototype.listen=function(e,t){var r=this.getTypeInfo(e),i=this.events.get(r.type)||[];if(!this.hasEventType(r.type))throw new Error("There is no event type "+r.type);r.namespace&&(t.namespace=r.namespace),i.push(t),this.events.set(r.type,i)},n.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=this.getTypeInfo(e),a=this.events.get(i.type),o=[];return!this.hold&&a&&a.forEach(function(l){var s=l.apply(void 0,t);ps(s)||o.push(s)}),o},n.prototype.emitReduce=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=this.events.get(e);return!this.hold&&a&&a.forEach(function(o){var l=o.apply(void 0,Oa([t],r));bit(l)||(t=l)}),t},n.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},n.prototype.hasEventType=function(e){return!ps(this.eventTypes[this.getTypeInfo(e).type])},n.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},n.prototype.removeEventHandler=function(e,t){var r=this,i=this.getTypeInfo(e),a=i.type,o=i.namespace;a&&t?this.removeEventHandlerWithHandler(a,t):a&&!o?this.events.delete(a):!a&&o?this.events.forEach(function(l,s){r.removeEventHandlerWithTypeInfo(s,o)}):a&&o&&this.removeEventHandlerWithTypeInfo(a,o)},n.prototype.removeEventHandlerWithHandler=function(e,t){var r=this.events.get(e);if(r){var i=r.indexOf(t);r.indexOf(t)>=0&&r.splice(i,1)}},n.prototype.removeEventHandlerWithTypeInfo=function(e,t){var r=[],i=this.events.get(e);i&&(i.map(function(a){return a.namespace!==t&&r.push(a),null}),this.events.set(e,r))},n.prototype.getEvents=function(){return this.events},n.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},n}(),wit=function(){function n(e,t,r,i){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=r,this.getEditorType=i,this.initEvent()}return n.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(t,r){e.exec(t,r)})},n.prototype.addCommand=function(e,t,r){e==="markdown"?this.mdCommands[t]=r:this.wwCommands[t]=r},n.prototype.deleteCommand=function(e,t){e==="markdown"?delete this.mdCommands[t]:delete this.wwCommands[t]},n.prototype.exec=function(e,t){var r=this.getEditorType();r==="markdown"?this.mdCommands[e](t):this.wwCommands[e](t)},n}();function p0(n){return n[n.length-1]===`
`?n.slice(0,n.length-1):n}function VS(n,e){var t=n.schema,r=e.literal,i=r.match(Md);if(i){var a=i[1],o=i[3],l=(a||o).toLowerCase();return e.type==="htmlInline"&&!!(t.marks[l]||t.nodes[l])}return!1}function $S(n){var e=n.type;return _i(["text","strong","emph","strike","image","link","code"],e)}function CL(n){return(n==null?void 0:n.type)==="softbreak"}function sp(n){var e=n.type,t=n.literal,r=e==="htmlInline"&&t.match(Md);if(r){var i=r[1],a=r[3],o=i||a;if(o)return _i(["ul","ol","li"],o.toLowerCase())}return!1}function Cit(n){var e=n.literal,t=/data-task/.test(e),r=/data-task-checked/.test(e);return{task:t,checked:r}}function xL(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=document.createElement("div");r.innerHTML=Kc(n);var i=r.firstChild;return e.map(function(a){return i.getAttribute(a)||""})}function xit(n){var e={};return Object.keys(n).forEach(function(t){var r=t.split(", ");r.forEach(function(i){var a=i.toLowerCase();e[a]=n[t]})}),e}var kit={"b, strong":function(n,e,t){var r=n.schema.marks.strong;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},"i, em":function(n,e,t){var r=n.schema.marks.emph;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},"s, del":function(n,e,t){var r=n.schema.marks.strike;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},code:function(n,e,t){var r=n.schema.marks.code;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},a:function(n,e,t){var r=e.literal,i=n.schema.marks.link;if(t){var a=xL(r,"href")[0];n.openMark(i.create({linkUrl:a,rawHTML:t}))}else n.closeMark(i)},img:function(n,e,t){var r=e.literal;if(t){var i=xL(r,"src","alt"),a=i[0],o=i[1],l=n.schema.nodes.image;n.addNode(l,rt({rawHTML:t,imageUrl:a},o&&{altText:o}))}},hr:function(n,e,t){n.addNode(n.schema.nodes.thematicBreak,{rawHTML:t})},br:function(n,e){var t=n.schema.nodes.paragraph,r=e.parent,i=e.prev,a=e.next;(r==null?void 0:r.type)==="paragraph"?(CL(i)&&n.openNode(t),CL(a)?n.closeNode():a&&(n.closeNode(),n.openNode(t))):(r==null?void 0:r.type)==="tableCell"&&(i&&($S(i)||VS(n,i))&&n.closeNode(),a&&($S(a)||VS(n,a))&&n.openNode(t))},pre:function(n,e,t){var r,i,a=document.createElement("div");a.innerHTML=e.literal;var o=(i=(r=a.firstChild)===null||r===void 0?void 0:r.firstChild)===null||i===void 0?void 0:i.textContent;n.openNode(n.schema.nodes.codeBlock,{rawHTML:t}),n.addText(p0(o)),n.closeNode()},"ul, ol":function(n,e,t){if(e.parent.type==="tableCell"){var r=n.schema.nodes,i=r.bulletList,a=r.orderedList,o=r.paragraph,l=t==="ul"?i:a;t?(e.prev&&!sp(e.prev)&&n.closeNode(),n.openNode(l,{rawHTML:t})):(n.closeNode(),e.next&&!sp(e.next)&&n.openNode(o))}},li:function(n,e,t){var r;if(((r=e.parent)===null||r===void 0?void 0:r.type)==="tableCell"){var i=n.schema.nodes,a=i.listItem,o=i.paragraph;if(t){var l=Cit(e);e.prev&&!sp(e.prev)&&n.closeNode(),n.openNode(a,rt({rawHTML:t},l)),e.next&&!sp(e.next)&&n.openNode(o)}else e.prev&&!sp(e.prev)&&n.closeNode(),n.closeNode()}}},_it=xit(kit);function kL(n){return n.type==="htmlInline"&&_S.test(n.literal)}function S5(n){Zs(n.childNodes).forEach(function(e){if(H1(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&S5(e)}})}var _L={text:function(n,e){n.addText(e.literal||"")},paragraph:function(n,e,t,r){var i,a=t.entering;if(a){var o=n.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(n.openNode(o,r),n.closeNode()),n.openNode(o,r)}else n.closeNode()},heading:function(n,e,t,r){var i=t.entering;if(i){var a=e,o=a.level,l=a.headingType;n.openNode(n.schema.nodes.heading,rt({level:o,headingType:l},r))}else n.closeNode()},codeBlock:function(n,e,t){var r=n.schema.nodes.codeBlock,i=e,a=i.info,o=i.literal;n.openNode(r,rt({language:a},t)),n.addText(p0(o||"")),n.closeNode()},list:function(n,e,t,r){var i=t.entering;if(i){var a=n.schema.nodes,o=a.bulletList,l=a.orderedList,s=e.listData,f=s.type,c=s.start;f==="bullet"?n.openNode(o,r):n.openNode(l,rt({order:c},r))}else n.closeNode()},item:function(n,e,t,r){var i=t.entering,a=n.schema.nodes.listItem,o=e.listData,l=o.task,s=o.checked;if(i){var f=rt(rt(rt({},l&&{task:l}),s&&{checked:s}),r);n.openNode(a,f)}else n.closeNode()},blockQuote:function(n,e,t,r){var i=t.entering;i?n.openNode(n.schema.nodes.blockQuote,r):n.closeNode()},image:function(n,e,t,r){var i=t.entering,a=t.skipChildren,o=n.schema.nodes.image,l=e,s=l.destination,f=l.firstChild;i&&a&&a(),n.addNode(o,rt(rt({imageUrl:s},f&&{altText:f.literal}),r))},thematicBreak:function(n,e,t,r){n.addNode(n.schema.nodes.thematicBreak,r)},strong:function(n,e,t,r){var i=t.entering,a=n.schema.marks.strong;i?n.openMark(a.create(r)):n.closeMark(a)},emph:function(n,e,t,r){var i=t.entering,a=n.schema.marks.emph;i?n.openMark(a.create(r)):n.closeMark(a)},link:function(n,e,t,r){var i=t.entering,a=n.schema.marks.link,o=e,l=o.destination,s=o.title;if(i){var f=rt({linkUrl:l,title:s},r);n.openMark(a.create(f))}else n.closeMark(a)},softbreak:function(n,e){if(e.parent.type==="paragraph"){var t=e.prev,r=e.next;t&&!kL(t)&&n.closeNode(),r&&!kL(r)&&n.openNode(n.schema.nodes.paragraph)}},table:function(n,e,t,r){var i=t.entering;i?n.openNode(n.schema.nodes.table,r):n.closeNode()},tableHead:function(n,e,t,r){var i=t.entering;i?n.openNode(n.schema.nodes.tableHead,r):n.closeNode()},tableBody:function(n,e,t,r){var i=t.entering;i?n.openNode(n.schema.nodes.tableBody,r):n.closeNode()},tableRow:function(n,e,t,r){var i=t.entering;i?n.openNode(n.schema.nodes.tableRow,r):n.closeNode()},tableCell:function(n,e,t){var r=t.entering;if(!e.ignored){var i=function(x){return x&&($S(x)||VS(n,x))};if(r){var a=n.schema.nodes,o=a.tableHeadCell,l=a.tableBodyCell,s=a.paragraph,f=e.parent.parent,c=f.type==="tableHead"?o:l,v=f.parent,y=(v.columns[e.startIdx]||{}).align,k=rt({},e.attrs);y&&(k.align=y),n.openNode(c,k),i(e.firstChild)&&n.openNode(s)}else i(e.lastChild)&&n.closeNode(),n.closeNode()}},strike:function(n,e,t,r){var i=t.entering,a=n.schema.marks.strike;i?n.openMark(a.create(r)):n.closeMark(a)},code:function(n,e,t,r){var i=n.schema.marks.code;n.openMark(i.create(r)),n.addText(p0(e.literal||"")),n.closeMark(i)},customBlock:function(n,e){var t=n.schema.nodes,r=t.customBlock,i=t.paragraph,a=e,o=a.info,l=a.literal;n.openNode(r,{info:o}),n.addText(p0(l||"")),n.closeNode(),e.next||(n.openNode(i),n.closeNode())},frontMatter:function(n,e){n.openNode(n.schema.nodes.frontMatter),n.addText(e.literal),n.closeNode()},htmlInline:function(n,e){var t=e.literal,r=t.match(Md),i=r[1],a=r[3],o=(i||a).toLowerCase(),l=n.schema.marks[o],s=Kc(t);if(l!=null&&l.spec.attrs.htmlInline)if(i){var f=zS(s);n.openMark(l.create({htmlAttrs:f}))}else n.closeMark(l);else{var c=_it[o];c&&c(n,e,i)}},htmlBlock:function(n,e){var t=e.literal,r=document.createElement("div"),i=a1e.test(t);if(i)n.openNode(n.schema.nodes.htmlComment),n.addText(e.literal),n.closeNode();else{var a=t.match(Md),o=a[1],l=a[3],s=(o||l).toLowerCase(),f=n.schema.nodes[s],c=Kc(t);if(f!=null&&f.spec.attrs.htmlBlock){var v=zS(c),y=i5(e,s);n.addNode(f,{htmlAttrs:v,childrenHTML:y})}else r.innerHTML=c,S5(r),n.convertByDOMParser(r)}},customInline:function(n,e,t){var r=t.entering,i=t.skipChildren,a=e,o=a.info,l=a.firstChild,s=n.schema;if(o.indexOf("widget")!==-1&&r){var f=ZI(e);i(),n.addNode(s.nodes.widget,{info:o},[s.text(jI(o,f))])}else{var c="$$";r&&(c+=l?o+" ":o),n.addText(c)}}};function Tit(n){var e=Object.keys(n),t=rt({},_L),r=new a2({gfm:!0,nodeId:!0,convertors:n}),i=r.getConvertors();return e.forEach(function(a){var o=_L[a];o&&!_i(["htmlBlock","htmlInline"],a)&&(t[a]=function(l,s,f){f.origin=function(){return i[a](s,f,i)};var c=n[a](s,f),v;if(c){var y=Array.isArray(c)?c[0]:c,k=y.attributes,x=y.classNames;v={htmlAttrs:k,classNames:x}}o(l,s,f,v)})}),t}function Sit(n,e){return n.isText&&e.isText&&Jn.sameSet(n.marks,e.marks)?n.withText(n.text+e.text):!1}var Eit=function(){function n(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=Jn.none}return n.prototype.top=function(){return Ui(this.stack)},n.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},n.prototype.addText=function(e){if(e){var t=this.top().content,r=Ui(t),i=this.schema.text(e,this.marks),a=r&&Sit(r,i);a?t[t.length-1]=a:t.push(i)}},n.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},n.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},n.prototype.addNode=function(e,t,r){var i=e.createAndFill(t,r,this.marks);return i?(this.push(i),i):null},n.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},n.prototype.closeNode=function(){this.marks.length&&(this.marks=Jn.none);var e=this.stack.pop(),t=e.type,r=e.attrs,i=e.content;return this.addNode(t,r,i)},n.prototype.convertByDOMParser=function(e){var t=this,r=qc.fromSchema(this.schema).parse(e);r.content.forEach(function(i){return t.push(i)})},n.prototype.closeUnmatchedHTMLInline=function(e,t){var r;if(!t&&e.type!=="htmlInline")for(var i=this.stack.length-1,a=i;a>=0;a-=1){var o=this.stack[a];if(!((r=o.attrs)===null||r===void 0)&&r.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},n.prototype.convert=function(e,t){for(var r=e.walker(),i=r.next(),a=function(){var l=i.node,s=i.entering,f=o.convertors[l.type],c=!1;if(f){var v={entering:s,leaf:!z0e(l),getChildrenText:H0e,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){c=!0}};if(o.closeUnmatchedHTMLInline(l,s),f(o,l,v),(t==null?void 0:t.node)===l){var y=o.stack.reduce(function(k,x){return k+x.content.reduce(function(R,d){return R+d.nodeSize},0)},0)+1;t.setMappedPos(y)}}c&&(r.resumeAt(l,!1),r.next()),i=r.next()},o=this;i;)a()},n.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},n}();function Ait(n,e,t){var r=t[0],i=t[1];n.write(r),n.convertInline(e),n.write(i)}function Mit(n,e,t){var r=e.node,i=e.parent,a=t[0],o=t[1];n.stopNewline=!0,n.write(a),n.convertNode(r),n.write(o),(i==null?void 0:i.type.name)==="doc"&&(n.closeBlock(r),n.stopNewline=!1)}function Nit(n,e){var t=n.length,r="",i="";return e==="left"?(r=":",t-=1):e==="right"?(i=":",t-=1):e==="center"&&(r=":",i=":",t-=2),""+r+Y0("-",Math.max(t,3))+i}var WS={text:function(n,e){var t,r=e.node,i=(t=r.text)!==null&&t!==void 0?t:"";(r.marks||[]).some(function(a){return a.type.name==="link"})?n.text(Z0(i),!1):n.text(i)},paragraph:function(n,e){var t=e.node,r=e.parent,i=e.index,a=i===void 0?0:i;if(n.stopNewline)n.convertInline(t);else{var o=a===0,l=!o&&r.child(a-1),s=l&&l.childCount===0,f=a<r.childCount-1&&r.child(a+1),c=f&&f.type.name==="paragraph",v=t.childCount===0;if(v&&s)n.write(`<br>
`);else if(v&&!s&&!o){if((r==null?void 0:r.type.name)==="listItem"){var y=n.getDelim();n.setDelim(""),n.write("<br>"),n.setDelim(y)}n.write(`
`)}else n.convertInline(t),c?n.write(`
`):n.closeBlock(t)}},heading:function(n,e,t){var r=e.node,i=t.delim,a=r.attrs.headingType;a==="atx"?(n.write(i+" "),n.convertInline(r),n.closeBlock(r)):(n.convertInline(r),n.ensureNewLine(),n.write(i),n.closeBlock(r))},codeBlock:function(n,e,t){var r=e.node,i=t.delim,a=t.text,o=i,l=o[0],s=o[1];n.write(l),n.ensureNewLine(),n.text(a,!1),n.ensureNewLine(),n.write(s),n.closeBlock(r)},blockQuote:function(n,e,t){var r=e.node,i=e.parent,a=t.delim;(i==null?void 0:i.type.name)===r.type.name&&n.flushClose(1),n.wrapBlock(a,null,r,function(){return n.convertNode(r)})},bulletList:function(n,e,t){var r=e.node,i=t.delim;n.convertList(r,Y0(" ",4),function(){return i+" "})},orderedList:function(n,e){var t=e.node,r=t.attrs.order||1;n.convertList(t,Y0(" ",4),function(i){var a=String(r+i);return a+". "})},listItem:function(n,e){var t=e.node,r=t.attrs,i=r.task,a=r.checked;i&&n.write("["+(a?"x":" ")+"] "),n.convertNode(t)},image:function(n,e,t){var r=t.attrs;n.write("!["+(r==null?void 0:r.altText)+"]("+(r==null?void 0:r.imageUrl)+")")},thematicBreak:function(n,e,t){var r=e.node,i=t.delim;n.write(i),n.closeBlock(r)},table:function(n,e){var t=e.node;n.convertNode(t),n.closeBlock(t)},tableHead:function(n,e,t){var r=e.node,i=t.delim,a=r.firstChild;n.convertNode(r);var o=i??"";!i&&a&&a.forEach(function(l){var s=l.textContent,f=l.attrs,c=Nit(s,f.align);o+="| "+c+" "}),n.write(o+"|"),n.ensureNewLine()},tableBody:function(n,e){var t=e.node;n.convertNode(t)},tableRow:function(n,e){var t=e.node;n.convertNode(t),n.write("|"),n.ensureNewLine()},tableHeadCell:function(n,e,t){var r=e.node,i=t.delim,a=i===void 0?"| ":i;n.write(a),n.convertTableCell(r),n.write(" ")},tableBodyCell:function(n,e,t){var r=e.node,i=t.delim,a=i===void 0?"| ":i;n.write(a),n.convertTableCell(r),n.write(" ")},customBlock:function(n,e,t){var r=e.node,i=t.delim,a=t.text,o=i,l=o[0],s=o[1];n.write(l),n.ensureNewLine(),n.text(a,!1),n.ensureNewLine(),n.write(s),n.closeBlock(r)},frontMatter:function(n,e,t){var r=e.node,i=t.text;n.text(i,!1),n.closeBlock(r)},widget:function(n,e,t){var r=t.text;n.write(r)},html:function(n,e,t){var r=e.node,i=t.text;n.write(i),r.attrs.htmlBlock&&n.closeBlock(r)},htmlComment:function(n,e,t){var r=e.node,i=t.text;n.write(i),n.closeBlock(r)}};function Dit(n,e){var t=e.state,r=e.nodeInfo,i=e.params,a=i.rawHTML;a?Wc(n,["heading","codeBlock"])>-1?Ait(t,r.node,a):Wc(n,["image","thematicBreak"])>-1?t.write(a):Mit(t,r,a):WS[n](t,r,i)}function TL(n,e){var t=n.text,r=/`+/g,i=0;if(n.isText&&t)for(var a=r.exec(t);a;)i=Math.max(i,a[0].length),a=r.exec(t);for(var o=i>0&&e>0?" `":"`",l=0;l<i;l+=1)o+="`";return i>0&&e<0&&(o+=" "),o}function rs(n){return n?["<"+n+">","</"+n+">"]:null}function lp(n){return n?"<"+n+">":null}function up(n){return n?"</"+n+">":null}var cp={heading:function(n){var e=n.node,t=e.attrs,r=t.level,i=Y0("#",r);return t.headingType==="setext"&&(i=r===1?"===":"---"),{delim:i,rawHTML:rs(t.rawHTML)}},codeBlock:function(n){var e=n.node,t=e,r=t.attrs,i=t.textContent;return{delim:["```"+(r.language||""),"```"],rawHTML:rs(r.rawHTML),text:i}},blockQuote:function(n){var e=n.node;return{delim:"> ",rawHTML:rs(e.attrs.rawHTML)}},bulletList:function(n,e){var t=n.node,r=e.inTable,i=t.attrs.rawHTML;return r&&(i=i||"ul"),{delim:"*",rawHTML:rs(i)}},orderedList:function(n,e){var t=n.node,r=e.inTable,i=t.attrs.rawHTML;return r&&(i=i||"ol"),{rawHTML:rs(i)}},listItem:function(n,e){var t=n.node,r=e.inTable,i=t.attrs,a=i.task,o=i.checked,l=t.attrs.rawHTML;r&&(l=l||"li");var s=a?' class="task-list-item'+(o?" checked":"")+'"':"",f=a?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:l?["<"+l+s+f+">","</"+l+">"]:null}},table:function(n){var e=n.node;return{rawHTML:rs(e.attrs.rawHTML)}},tableHead:function(n){var e=n.node;return{rawHTML:rs(e.attrs.rawHTML)}},tableBody:function(n){var e=n.node;return{rawHTML:rs(e.attrs.rawHTML)}},tableRow:function(n){var e=n.node;return{rawHTML:rs(e.attrs.rawHTML)}},tableHeadCell:function(n){var e=n.node;return{rawHTML:rs(e.attrs.rawHTML)}},tableBodyCell:function(n){var e=n.node;return{rawHTML:rs(e.attrs.rawHTML)}},image:function(n){var e=n.node,t=e.attrs,r=t.rawHTML,i=t.altText,a=t.imageUrl.replace(/&amp;/g,"&"),o=i?' alt="'+fd(i)+'"':"";return{rawHTML:r?"<"+r+' src="'+fd(a)+'"'+o+">":null,attrs:{altText:Z0(i||""),imageUrl:a}}},thematicBreak:function(n){var e=n.node;return{delim:"***",rawHTML:lp(e.attrs.rawHTML)}},customBlock:function(n){var e=n.node,t=e,r=t.attrs,i=t.textContent;return{delim:["$$"+r.info,"$$"],text:i}},frontMatter:function(n){var e=n.node;return{text:e.textContent}},widget:function(n){var e=n.node;return{text:e.textContent}},strong:function(n,e){var t=n.node,r=e.entering,i=t.attrs.rawHTML;return{delim:"**",rawHTML:r?lp(i):up(i)}},emph:function(n,e){var t=n.node,r=e.entering,i=t.attrs.rawHTML;return{delim:"*",rawHTML:r?lp(i):up(i)}},strike:function(n,e){var t=n.node,r=e.entering,i=t.attrs.rawHTML;return{delim:"~~",rawHTML:r?lp(i):up(i)}},link:function(n,e){var t=n.node,r=e.entering,i=t.attrs,a=i.title,o=i.rawHTML,l=i.linkUrl.replace(/&amp;/g,"&"),s=a?' title="'+fd(a)+'"':"";return r?{delim:"[",rawHTML:o?"<"+o+' href="'+fd(l)+'"'+s+">":null}:{delim:"]("+l+(a?" "+A0e(Z0(a)):"")+")",rawHTML:up(o)}},code:function(n,e){var t=n.node,r=n.parent,i=n.index,a=i===void 0?0:i,o=e.entering,l=o?TL(r.child(a),-1):TL(r.child(a-1),1),s=o?lp(t.attrs.rawHTML):up(t.attrs.rawHTML);return{delim:l,rawHTML:s}},htmlComment:function(n){var e=n.node;return{text:e.textContent}},html:function(n,e){var t=n.node,r=e.entering,i=t.type.name,a=t.attrs.htmlAttrs,o="<"+i,l="</"+i+">";return Object.keys(a).forEach(function(s){o+=" "+s+'="'+a[s].replace(/"/g,"'")+'"'}),o+=">",t.attrs.htmlInline?{rawHTML:r?o:l}:{text:""+o+t.attrs.childrenHTML+l}}},SL={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function Lit(n){var e={},t=Object.keys(WS);return t.forEach(function(r){e[r]=function(i,a){var o=WS[r];if(o){var l=n[r],s=l?l(a,{inTable:i.inTable}):{};Dit(r,{state:i,nodeInfo:a,params:s})}}}),e}function Oit(n){var e={},t=Object.keys(SL);return t.forEach(function(r){e[r]=function(i,a){var o=SL[r],l=n[r],s=l&&i&&!ps(a),f=s?l(i,{entering:a}):{};return rt(rt({},f),o)}}),e}function Rit(n){var e=Object.keys(n);e.forEach(function(i){var a=cp[i],o=n[i];a?cp[i]=function(l,s){return s.origin=function(){return a(l,s)},o(l,s)}:cp[i]=o,delete n[i]});var t=Lit(cp),r=Oit(cp);return{nodeTypeConvertors:t,markTypeConvertors:r}}var Iit=function(){function n(e){var t=e.nodeTypeConvertors,r=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=r,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return n.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},n.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},n.prototype.markText=function(e,t,r,i){var a=this.getMarkConvertor(e);if(a){var o=a({node:e,parent:r,index:i},t),l=o.delim,s=o.rawHTML;return s||l}return""},n.prototype.setDelim=function(e){this.delim=e},n.prototype.getDelim=function(){return this.delim},n.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var t=this.delim,r=/\s+$/.exec(t);r&&(t=t.slice(0,t.length-r[0].length));for(var i=1;i<e;i+=1)this.result+=t+`
`}this.closed=!1}},n.prototype.wrapBlock=function(e,t,r,i){var a=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(a),this.closeBlock(r)},n.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},n.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},n.prototype.closeBlock=function(e){this.closed=e},n.prototype.text=function(e,t){t===void 0&&(t=!0);for(var r=e.split(`
`),i=0;i<r.length;i+=1)this.write(),this.result+=t?E0e(r[i]):r[i],i!==r.length-1&&(this.result+=`
`)},n.prototype.convertBlock=function(e,t,r){var i=e.type.name,a=this.nodeTypeConvertors[i],o={node:e,parent:t,index:r};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):a&&a(this,o)},n.prototype.convertInline=function(e){var t=this,r=[],i="",a=function(o,l,s){var f=o?o.marks:[],c=i;i="";var v=o&&o.isText&&f.some(function(ee){var me=t.getMarkConvertor(ee),ie=me&&me();return ie&&ie.removedEnclosingWhitespace});if(v&&o&&o.text){var y=/^(\s*)(.*?)(\s*)$/m.exec(o.text),k=y[1],x=y[2],R=y[3];c+=k,i=R,(k||R)&&(o=x?o.withText(x):null,o||(f=r))}for(var d=f.length&&Ui(f),h=d&&t.getMarkConvertor(d),w=h&&h(),A=w&&w.escape===!1,D=f.length-(A?1:0),I=0;I<D;I+=1){var x=f[I];if(w&&!w.mixable)break;for(var O=0;O<r.length;O+=1){var F=r[O];if(w&&!w.mixable)break;if(x.eq(F)){I>O?f=f.slice(0,O).concat(x).concat(f.slice(O,I)).concat(f.slice(I+1,D)):O>I&&(f=f.slice(0,I).concat(f.slice(I+1,O)).concat(x).concat(f.slice(O,D)));break}}}for(var $=0;$<Math.min(r.length,D)&&f[$].eq(r[$]);)$+=1;for(;$<r.length;){var z=r.pop();z&&t.text(t.markText(z,!1,e,s),!1)}if(c&&t.text(c),o){for(;r.length<D;){var x=f[r.length];r.push(x),t.text(t.markText(x,!0,e,s),!1)}A&&o.isText?t.text(t.markText(d,!0,e,s)+o.text+t.markText(d,!1,e,s+1),!1):t.convertBlock(o,e,s)}};e.forEach(a),a(null,null,e.childCount)},n.prototype.convertList=function(e,t,r){var i=this,a;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(a=e.attrs.tight)!==null&&a!==void 0?a:!0,l=this.tightList;this.tightList=o,e.forEach(function(s,f,c){c&&o&&i.flushClose(1),i.wrapBlock(t,r(c),e,function(){return i.convertBlock(s,e,c)})}),this.tightList=l},n.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(r,i,a){if(_i(["bulletList","orderedList"],r.type.name))t.convertBlock(r,e,a),t.closed=!1;else if(t.convertInline(r),a<e.childCount-1){var o=e.child(a+1);o.type.name==="paragraph"&&t.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},n.prototype.convertNode=function(e,t){var r=this;return e.forEach(function(i,a,o){if(r.convertBlock(i,e,o),(t==null?void 0:t.node)===i){var l=r.result.split(`
`);t.setMappedPos([l.length,Ui(l).length+1])}}),this.result},n}(),Bit=function(){function n(e,t,r,i){var a=this;this.setMappedPos=function(o){a.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=Tit(r),this.toMdConvertors=Rit(t||{}),this.eventEmitter.listen("setFocusedNode",function(o){return a.focusedNode=o})}return n.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},n.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},n.prototype.toWysiwygModel=function(e){var t=new Eit(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},n.prototype.toMarkdownText=function(e){var t=new Iit(this.toMdConvertors),r=t.convertNode(e,this.getInfoForPosSync());return r=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",r),r},n}();function Pit(n){var e=n.plugin,t=n.eventEmitter,r=n.usageStatistics,i=n.instance,a={Plugin:Ra,PluginKey:cv,Selection:Ln,TextSelection:zn},o={Decoration:Aa,DecorationSet:Pr},l={Fragment:gt},s={InputRule:qu,inputRules:zI,undoInputRule:xme},f={keymap:Xp},c={eventEmitter:t,usageStatistics:r,instance:i,pmState:a,pmView:o,pmModel:l,pmRules:s,pmKeymap:f,i18n:wn};if(Vd(e)){var v=e[0],y=e[1],k=y===void 0?{}:y;return v(c,k)}return e(c)}function E5(n){var e=n.plugins,t=n.eventEmitter,r=n.usageStatistics,i=n.instance;return t.listen("mixinTableOffsetMapPrototype",vnt),(e??[]).reduce(function(a,o){var l=Pit({plugin:o,eventEmitter:t,usageStatistics:r,instance:i});if(!l)throw new Error("The return value of the executed plugin is empty.");var s=l.markdownParsers,f=l.toHTMLRenderers,c=l.toMarkdownRenderers,v=l.markdownPlugins,y=l.wysiwygPlugins,k=l.wysiwygNodeViews,x=l.markdownCommands,R=l.wysiwygCommands,d=l.toolbarItems;return f&&(a.toHTMLRenderers=K0(a.toHTMLRenderers,f)),c&&(a.toMarkdownRenderers=K0(a.toMarkdownRenderers,c)),v&&(a.mdPlugins=a.mdPlugins.concat(v)),y&&(a.wwPlugins=a.wwPlugins.concat(y)),k&&(a.wwNodeViews=rt(rt({},a.wwNodeViews),k)),x&&(a.mdCommands=rt(rt({},a.mdCommands),x)),R&&(a.wwCommands=rt(rt({},a.wwCommands),R)),d&&(a.toolbarItems=a.toolbarItems.concat(d)),s&&(a.markdownParsers=rt(rt({},a.markdownParsers),s)),a},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var Fit="data-task",zit="data-task-disabled",Hit="checked";function qit(n){["htmlBlock","htmlInline"].forEach(function(e){n[e]&&Object.keys(n[e]).forEach(function(t){return r5(t)})})}var A5=function(){function n(e){var t=this;this.options=IE({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new T5;var r=$I(this.options.linkAttributes),i=E5({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},a=i.toHTMLRenderers,o=i.markdownParsers,l=this.options,s=l.customHTMLRenderer,f=l.extendedAutolinks,c=l.referenceDefinition,v=l.frontMatter,y=l.customHTMLSanitizer,k={linkAttributes:r,customHTMLRenderer:rt(rt({},a),s),extendedAutolinks:f,referenceDefinition:c,frontMatter:v,sanitizer:y||Kc};qit(k.customHTMLRenderer),this.options.events&&Sd(this.options.events,function(A,D){t.on(D,A)});var x=this.options,R=x.el,d=x.initialValue,h=x.theme,w=R.innerHTML;h!=="light"&&R.classList.add(Vt(h)),R.innerHTML="",this.toastMark=new Q4("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:f,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:v,customParser:o}),this.preview=new o5(this.eventEmitter,rt(rt({},k),{isViewer:!0})),C4(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),d?this.setMarkdown(d):w&&this.preview.setHTML(w),R.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return n.prototype.toggleTask=function(e){var t=e.target,r=getComputedStyle(t,":before");!t.hasAttribute(zit)&&t.hasAttribute(Fit)&&$E(r,e.offsetX,e.offsetY)&&(WE(t,Hit),this.eventEmitter.emit("change",{source:"viewer",date:e}))},n.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),r=t.length,i=Ui(t),a=[r,i.length+1],o=this.toastMark.editMarkdown([1,1],a,e||"");this.eventEmitter.emit("updatePreview",o)},n.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},n.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},n.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},n.prototype.destroy=function(){w4(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},n.prototype.isViewer=function(){return!0},n.prototype.isMarkdownMode=function(){return!1},n.prototype.isWysiwygMode=function(){return!1},n}();function v0(n){return n instanceof Au}function M5(n){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return _i(e,n)}function Uit(n){var e=n.attrs,t=n.type,r=t.name,i={type:r,wysiwygNode:!0,literal:!M5(r)&&v0(n)?n.textContent:null},a={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=a[r],l=rt(rt({},i),o),s=n.attrs,f=s.htmlAttrs,c=s.childrenHTML;return f?rt(rt({},l),{attrs:f,childrenHTML:c}):l}var Vit={openTag:function(n,e){var t=n,r=t.tagName,i=t.classNames,a=t.attributes,o=document.createElement(r),l={};i&&(o.className=i.join(" ")),a&&(l=rt(rt({},l),a)),jE(l,o),e.push(o)},closeTag:function(n,e){if(e.length>1){var t=e.pop();Ui(e).appendChild(t)}},html:function(n,e){Ui(e).insertAdjacentHTML("beforeend",n.content)},text:function(n,e){var t=document.createTextNode(n.content);Ui(e).appendChild(t)}},$it=function(){function n(e,t){var r=o2(e,t),i=rt(rt({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(i)),this.renderer=new a2({gfm:!0,convertors:rt(rt({},r),i)}),this.convertors=this.renderer.getConvertors()}return n.prototype.generateTokens=function(e){var t=Uit(e),r={entering:!0,leaf:v0(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return v0(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],a=i(t,r,this.convertors),o=Vd(a)?a:[a];return(M5(e.type.name)||e.attrs.htmlInline)&&(r.entering=!1,o.push({type:"text",content:v0(e)?e.textContent:""}),o=o.concat(i(t,r,this.convertors))),o},n.prototype.toDOMNode=function(e){var t=this.generateTokens(e),r=[];return t.forEach(function(i){return Vit[i.type](i,r)}),r[0]},n.prototype.getToDOMNode=function(e){return _i(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},n}(),Wit=100,Git=15,Im=null,NT=null;function EL(n,e){var t=e.syncScrollTop,r=e.releaseEventBlock;NT&&clearTimeout(NT),t(n),NT=setTimeout(function(){r()},Git)}function jit(n,e,t){var r=e-n,i=Date.now(),a=function(){var o=Date.now(),l=(o-i)/Wit,s;Im&&clearTimeout(Im),l<1?(s=n+r*Math.cos((1-l)*Math.PI/2),EL(Math.ceil(s),t),Im=setTimeout(a,1)):(EL(e,t),Im=null)};a()}var Yit=18,Zit=function(){function n(e,t,r){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=t.previewContent,a=t.el;this.previewRoot=i,this.previewEl=a,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=r,this.addScrollSyncEvent()}return n.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(t,r){e.active&&(t==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():t==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(r))}),this.eventEmitter.listen("toggleScrollSync",function(t){e.active=t})},n.prototype.getMdNodeAtPos=function(e,t){var r=e.content.findIndex(t.pos),i=r.index;return this.toastMark.findFirstNodeAtLine(i+1)},n.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),r=this.previewEl.clientHeight,i=ST(this.previewRoot,t).el,a=o1(i,this.previewRoot)||i.offsetTop,o=i.clientHeight,l=a+o-r*.5;this.latestEditorScrollTop=null;var s=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return s<r?null:l},n.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var t=this,r=t.editorView,i=t.previewEl,a=t.previewRoot,o=r.dom.getBoundingClientRect(),l=o.left,s=o.top,f=r.posAtCoords({left:l,top:s}),c=r.state.doc,v=this.getMdNodeAtPos(c,f);if(!(!v||L0e(v))){var y=i.scrollTop,k=r.dom,x=k.scrollTop,R=k.scrollHeight,d=k.clientHeight,h=k.children,w=R-x<=d+Yit,A=w?i.scrollHeight:0;if(x&&!w){if(e){var D=this.getScrollTopByCaretPos();if(!D)return;A=D}else{var I=ST(this.previewRoot,v),O=I.el,F=I.mdNode,$=dL(c,F,h),z=$.height,ee=$.rect,me=o1(O,a)||O.offsetTop,ie=O.clientHeight,pe=s>ee.top?Math.min((s-ee.top)/z,1):0;A=me+ie*pe}A=this.getResolvedScrollTop("editor",x,A,y),this.latestEditorScrollTop=x}A!==y&&this.run("editor",A,y)}},n.prototype.syncEditorScrollTop=function(e){var t=this,r=t.toastMark,i=t.editorView,a=t.previewRoot,o=t.previewEl,l=i.dom,s=i.state,f=o.scrollTop,c=o.clientHeight,v=o.scrollHeight,y=v-f<=c,k=l.scrollTop,x=y?l.scrollHeight:0;if(f&&e&&!y){if(e=Wtt(e,a),!e.getAttribute("data-nodeid"))return;var R=l.children,d=Number(e.getAttribute("data-nodeid")),h=ST(this.previewRoot,r.findNodeById(d)),w=h.mdNode,A=h.el,D=vv(w);x=R[D-1].offsetTop;var I=dL(s.doc,w,R).height,O=Qtt(A,a,d),F=O.nodeHeight,$=O.offsetTop;x+=jtt(f,$,F,I),x=this.getResolvedScrollTop("preview",f,x,k),this.latestPreviewScrollTop=f}x!==k&&this.run("preview",x,k)},n.prototype.getResolvedScrollTop=function(e,t,r,i){var a=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return a===null?r:a<t?Math.max(r,i):Math.min(r,i)},n.prototype.run=function(e,t,r){var i=this,a;e==="editor"?(a=this.previewEl,this.blockedScroll="preview"):(a=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(l){return a.scrollTop=l},releaseEventBlock:function(){return i.blockedScroll=null}};jit(r,t,o)},n.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},n}(),Kit={getPopupInitialValues:function(n,e){var t=e.popupName;return t==="link"?{linkText:n.getSelectedText()}:{}}};function Jit(n){n.eventEmitter.listen("query",function(e,t){return Kit[e](n,t)})}var N5=function(){function n(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=IE({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var r=this.options,i=r.customHTMLRenderer,a=r.extendedAutolinks,o=r.referenceDefinition,l=r.frontMatter,s=r.customMarkdownRenderer,f=r.useCommandShortcut,c=r.initialEditType,v=r.widgetRules,y=r.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=wn,this.i18n.setCode(this.options.language),this.eventEmitter=new T5,U0e(v);var k=$I(this.options.linkAttributes);this.pluginInfo=E5({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var x=this.pluginInfo,R=x.toHTMLRenderers,d=x.toMarkdownRenderers,h=x.mdPlugins,w=x.wwPlugins,A=x.wwNodeViews,D=x.mdCommands,I=x.wwCommands,O=x.markdownParsers,F={linkAttributes:k,customHTMLRenderer:K0(R,i),extendedAutolinks:a,referenceDefinition:o,frontMatter:l,sanitizer:y||Kc},$=new $it(k,F.customHTMLRenderer),z=Ftt(F.customHTMLRenderer,F.sanitizer,$);this.toastMark=new Q4("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:a,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:l,customParser:O}),this.mdEditor=new $ye(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:f,mdPlugins:h}),this.preview=new o5(this.eventEmitter,rt(rt({},F),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new uit(this.eventEmitter,{toDOMAdaptor:$,useCommandShortcut:f,htmlSchemaMap:z,linkAttributes:k,wwPlugins:w,wwNodeViews:A}),this.convertor=new Bit(this.wwEditor.getSchema(),rt(rt({},d),s),o2(k,F.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new wit(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return t.mode}),this.options.usageStatistics&&k0e(),this.scrollSync=new Zit(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(D,I),Jit(this),this.options.hooks&&Sd(this.options.hooks,function(ee,me){return t.addHook(me,ee)}),this.options.events&&Sd(this.options.events,function(ee,me){return t.on(me,ee)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return n.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}}),p1e(this.eventEmitter)},n.prototype.addInitCommand=function(e,t){var r=this,i=function(a,o){Object.keys(o).forEach(function(l){r.addCommand(a,l,o[l])})};this.addCommand("markdown","toggleScrollSync",function(a){return r.eventEmitter.emit("toggleScrollSync",a.active),!0}),i("markdown",e),i("wysiwyg",t)},n.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},n.factory=function(e){return e.viewer?new A5(e):new n(e)},n.setLanguage=function(e,t){wn.setLanguage(e,t)},n.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},n.prototype.exec=function(e,t){this.commandManager.exec(e,t)},n.prototype.addCommand=function(e,t,r){var i=this,a=function(o){o===void 0&&(o={});var l=(e==="markdown"?i.mdEditor:i.wwEditor).view;r(o,l.state,l.dispatch,l)};this.commandManager.addCommand(e,t,a)},n.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},n.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},n.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},n.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},n.prototype.focus=function(){this.getCurrentModeEditor().focus()},n.prototype.blur=function(){this.getCurrentModeEditor().blur()},n.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},n.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},n.prototype.setMarkdown=function(e,t){if(e===void 0&&(e=""),t===void 0&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var r=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(r);this.wwEditor.setModel(i,t)}},n.prototype.setHTML=function(e,t){e===void 0&&(e=""),t===void 0&&(t=!0);var r=document.createElement("div");r.innerHTML=f1e(e);var i=qc.fromSchema(this.wwEditor.schema).parse(r);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),t):this.wwEditor.setModel(i,t)},n.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},n.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),a=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(a)}});var t=YE(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var r=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(r,"")}return t},n.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},n.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},n.prototype.replaceSelection=function(e,t,r){this.getCurrentModeEditor().replaceSelection(e,t,r)},n.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},n.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},n.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},n.prototype.addWidget=function(e,t,r){this.getCurrentModeEditor().addWidget(e,t,r)},n.prototype.replaceWithWidget=function(e,t,r){this.getCurrentModeEditor().replaceWithWidget(e,t,r)},n.prototype.setHeight=function(e){var t=this.options.el;ql(e)&&(e==="auto"?Us(t,"auto-height"):cs(t,"auto-height"),this.setMinHeight(this.getMinHeight())),Ys(t,{height:e}),this.height=e},n.prototype.getHeight=function(){return this.height},n.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;t!=="auto"&&this.options.el.querySelector("."+Vt("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var r=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(r),this.mdEditor.setMinHeight(r),this.preview.setMinHeight(r)}},n.prototype.getMinHeight=function(){return this.minHeight},n.prototype.isMarkdownMode=function(){return this.mode==="markdown"},n.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},n.prototype.isViewer=function(){return!1},n.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},n.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var r=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(r);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var a=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&kl(a)?this.wwEditor.setSelection(a):Array.isArray(a)&&this.mdEditor.setSelection(a)}}},n.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(t,r){return e.off(r)})},n.prototype.hide=function(){this.eventEmitter.emit("hide")},n.prototype.show=function(){this.eventEmitter.emit("show")},n.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},n.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},n.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},n.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},n.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},n.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},n.prototype.convertPosToMatchEditorMode=function(e,t,r){var i,a;t===void 0&&(t=e),r===void 0&&(r=this.mode);var o=this.mdEditor.view.state.doc,l=Array.isArray(e),s=Array.isArray(t),f=e,c=t;if(l!==s)throw new Error("Types of arguments must be same");return r==="markdown"&&!l&&!s?(i=u0(o,e,t),f=i[0],c=i[1]):r==="wysiwyg"&&l&&s&&(a=_c(o,e,t),f=a[0],c=a[1]),[f,c]},n}();function Xit(n){for(var e,t,r=arguments,i=1,a="",o="",l=[0],s=function(c){i===1&&(c||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(c?r[c]:a):i===3&&(c||a)?(l[1]=c?r[c]:a,i=2):i===2&&a==="..."&&c?l[2]=qE(l[2]||{},r[c]):i===2&&a&&!c?(l[2]=l[2]||{})[a]=!0:i>=5&&(i===5?((l[2]=l[2]||{})[t]=c?a?a+r[c]:r[c]:a,i=6):(c||a)&&(l[2][t]+=c?a+r[c]:a)),a=""},f=0;f<n.length;f++){f&&(i===1&&s(),s(f));for(let c=0;c<n[f].length;c++)e=n[f][c],i===1?e==="<"?(s(),l=[l,"",null],i=3):a+=e:i===4?a==="--"&&e===">"?(i=1,a=""):a=e+a[0]:o?e===o?o="":a+=e:e==='"'||e==="'"?o=e:e===">"?(s(),i=1):i&&(e==="="?(i=5,t=a,a=""):e==="/"&&(i<5||n[f][c+1]===">")?(s(),i===3&&(l=l[0]),i=l,(l=l[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(s(),i=2):a+=e),i===3&&a==="!--"&&(i=4,l=l[0])}return s(),l.length>2?l.slice(1):l[1]}function Qit(n){return typeof n=="boolean"||n instanceof Boolean}var eat=Qit,tat=function(){function n(e){this.current=e,this.root=e,this.entering=!0}return n.prototype.walk=function(){var e=this,t=e.entering,r=e.current;return r?(t?r.firstChild?(this.current=r.firstChild,this.entering=!0):this.entering=!1:r===this.root?this.current=null:r.next?(this.current=r.next,this.entering=!0):(this.current=r.parent,this.entering=!1),{vnode:r,entering:t}):null},n}(),ds=function(){function n(e,t,r){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=r,this.props.children=r,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return n.prototype.walker=function(){return new tat(this)},n.removalNodes=[],n}();function nat(n){return new ds("TEXT_NODE",{nodeValue:n},[])}function AL(n,e){var t=n;eat(n)||n==null?t=null:(ql(n)||kl(n))&&(t=nat(String(n))),t&&e.push(t)}function rat(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=[];return t.forEach(function(a){Array.isArray(a)?a.forEach(function(o){AL(o,i)}):AL(a,i)}),new ds(n,e||{},i)}var $n=Xit.bind(rat);function iat(n){return n===Object(n)}var aat=iat;function oat(n){var e;return n.type==="TEXT_NODE"?e=document.createTextNode(n.props.nodeValue):(e=document.createElement(n.type),L5(e,{},n.props)),e}function D5(n,e){n.node?e.removeChild(n.node):D5(n.firstChild,e)}function sat(n,e,t){Object.keys(e).forEach(function(r){if(/^on/.test(r)){if(!t[r]||e[r]!==t[r]){var i=r.slice(2).toLowerCase();n.removeEventListener(i,e[r])}}else r!=="children"&&!t[r]&&!o1e(n)&&n.removeAttribute(r)}),L5(n,e,t,function(r){return!PE(e[r],t[r])})}var lat=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function L5(n,e,t,r){Object.keys(t).forEach(function(i){if(!r||r(i))if(/^on/.test(i)){var a=i.slice(2).toLowerCase();n.addEventListener(a,t[i])}else i==="nodeValue"?n[i]=t[i]:i==="style"&&aat(t[i])?uat(n,e[i],t[i]):i!=="children"&&(t[i]===!1?n.removeAttribute(i):n.setAttribute(i,t[i]))})}function uat(n,e,t){e&&Object.keys(e).forEach(function(r){n.style[r]=""}),Object.keys(t).forEach(function(r){var i=t[r];n.style[r]=kl(i)&&!lat.test(r)?i+"px":i})}function u2(n){if(ds.removalNodes.forEach(function(a){return NL(a)}),n){for(var e=void 0,t=n.walker();e=t.walk();)if(n=e.vnode,e.entering)NL(n);else if(Lo(n.type)){var r=n.component;if(!n.old&&r.mounted&&r.mounted(),n.old&&r.updated){var i=r.prevProps||{};r.updated(i)}}}}function ML(n){for(var e=n.parent;!e.node;)e=e.parent;return e.node}function NL(n){if(!(!n||!n.parent)){if(n.node){var e=ML(n);n.effect==="A"?e.appendChild(n.node):n.effect==="U"&&sat(n.node,n.old.props,n.props)}if(n.effect==="D"){for(var t=void 0,r=n.walker();t=r.walk();)if(n=t.vnode,!t.entering)if(Lo(n.type)){var i=n.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=ML(n);D5(n,e)}}n.ref&&(n.component?n.ref(n.component):n.node&&n.ref(n.node))}}function cat(n,e){var t=e.props,r=e.component;return r?(r.prevProps=r.props,r.props=e.props,r):new n(t)}function O5(n){for(var e=n;n&&!n.skip;){if(Lo(n.type)){var t=cat(n.type,n);t.vnode=n,n.component=t,n.props.children=n.children=[t.render()],DL(n)}else n.node||(n.node=oat(n)),DL(n);if(n.firstChild)n=n.firstChild;else{for(;n&&n.parent&&!n.next&&(n=n.parent,n!==e););n=n.next}}}function fat(n,e){return n&&e&&e.type===n.type&&(!e.key||e.key===n.key)}function DL(n){var e=n.children,t=n.old?n.old.firstChild:null,r=null;e.forEach(function(a,o){var l=fat(t,a);l&&(a.old=t,a.parent=n,a.node=t.node,a.component=t.component,a.effect="U"),a&&!l&&(a.old=null,a.parent=n,a.node=null,a.effect="A"),t&&!l&&(ds.removalNodes.push(t),t.effect="D"),t&&(t=t.next),o===0?n.firstChild=a:a&&(r.next=a),r=a});var i=Ui(e);if(!e.length)for(;t;)ds.removalNodes.push(t),t.effect="D",t=t.next;for(;t&&i;)t&&i.old!==t&&(ds.removalNodes.push(t),t.effect="D",t=t.next)}function dat(n){n.effect="D",ds.removalNodes=[n],u2(),ds.removalNodes=[]}function hat(n){var e=n.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),ds.removalNodes=[],O5(e),u2(e),e.next&&(e.next.skip=!1)}function pat(n,e){var t=new ds(n.tagName.toLowerCase(),{},[e]);return t.node=n,ds.removalNodes=[],O5(t),u2(t),function(){return dat(t.firstChild)}}var $i=function(){function n(e){this.props=e,this.state={},this.refs={}}return n.prototype.setState=function(e){var t=rt(rt({},this.state),e);PE(this.state,t)||(this.state=t,hat(this))},n}(),vat=function(n){zt(e,n);function e(t){var r=n.call(this,t)||this;return r.state={hide:!1},r}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,r=t.editorType,i=t.eventEmitter;return $n(LL||(LL=Vn([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),Vt("mode-switch"),this.state.hide?"none":"block",r==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},wn.get("Markdown"),r==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},wn.get("WYSIWYG"))},e}($i),LL;function gat(n,e){var t,r;e=e||0;function i(){r=Array.prototype.slice.call(arguments),window.clearTimeout(t),t=window.setTimeout(function(){n.apply(null,r)},e)}return i}var mat=gat,yat=mat;function bat(n,e){var t,r=!0,i=function(c){n.apply(null,c),t=null},a,o,l;e=e||0,a=yat(i,e);function s(){if(l=Array.prototype.slice.call(arguments),r){i(l),r=!1;return}o=Number(new Date),t=t||o,a(l),o-t>=e&&i(l)}function f(){r=!0,t=null}return s.reset=f,s}var wat=bat,R5=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,a){return i[0]===t?(r=a,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];t.call(r,o[1],o[0])}},e}()}(),GS=typeof window<"u"&&typeof document<"u"&&window.document===document,l1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Cat=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(l1):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),xat=2;function kat(n,e){var t=!1,r=!1,i=0;function a(){t&&(t=!1,n()),r&&l()}function o(){Cat(a)}function l(){var s=Date.now();if(t){if(s-i<xat)return;r=!0}else t=!0,r=!1,setTimeout(o,e);i=s}return l}var _at=20,Tat=["top","right","bottom","left","width","height","size","weight"],Sat=typeof MutationObserver<"u",Eat=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=kat(this.refresh.bind(this),_at)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!GS||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Sat?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!GS||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=Tat.some(function(a){return!!~r.indexOf(a)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),I5=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},Id=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||l1},B5=Y1(0,0,0,0);function u1(n){return parseFloat(n)||0}function OL(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var a=n["border-"+i+"-width"];return r+u1(a)},0)}function Aat(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var a=i[r],o=n["padding-"+a];t[a]=u1(o)}return t}function Mat(n){var e=n.getBBox();return Y1(0,0,e.width,e.height)}function Nat(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return B5;var r=Id(n).getComputedStyle(n),i=Aat(r),a=i.left+i.right,o=i.top+i.bottom,l=u1(r.width),s=u1(r.height);if(r.boxSizing==="border-box"&&(Math.round(l+a)!==e&&(l-=OL(r,"left","right")+a),Math.round(s+o)!==t&&(s-=OL(r,"top","bottom")+o)),!Lat(n)){var f=Math.round(l+a)-e,c=Math.round(s+o)-t;Math.abs(f)!==1&&(l-=f),Math.abs(c)!==1&&(s-=c)}return Y1(i.left,i.top,l,s)}var Dat=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Id(n).SVGGraphicsElement}:function(n){return n instanceof Id(n).SVGElement&&typeof n.getBBox=="function"}}();function Lat(n){return n===Id(n).document.documentElement}function Oat(n){return GS?Dat(n)?Mat(n):Nat(n):B5}function Rat(n){var e=n.x,t=n.y,r=n.width,i=n.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return I5(o,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),o}function Y1(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Iat=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Y1(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Oat(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),Bat=function(){function n(e,t){var r=Rat(t);I5(this,{target:e,contentRect:r})}return n}(),Pat=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new R5,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Id(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Iat(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Id(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new Bat(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),P5=typeof WeakMap<"u"?new WeakMap:new R5,F5=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Eat.getInstance(),r=new Pat(e,t,this);P5.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){F5.prototype[n]=function(){var e;return(e=P5.get(this))[n].apply(e,arguments)}});var Fat=function(){return typeof l1.ResizeObserver<"u"?l1.ResizeObserver:F5}(),zat=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.execCommand=function(t){var r=Vs(t.target,"li");this.props.execCommand("heading",{level:Number(r.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return $n(IL||(IL=Vn([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(r){return t.execCommand(r)},wn.get("Headings"),[1,2,3,4,5,6].map(function(r){return $n(RL||(RL=Vn([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),r,"h"+r,wn.get("Heading"),r)}),wn.get("Paragraph"))},e}($i),RL,IL,z5=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.toggleTab=function(t,r){this.props.onClick(t,r)},e.prototype.render=function(){var t=this;return $n(PL||(PL=Vn([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),Vt("tabs"),this.props.tabs.map(function(r){var i=r.name,a=r.text,o=t.props.activeTab===i;return $n(BL||(BL=Vn([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(l){return t.toggleTab(l,i)},wn.get(a),o?"true":"false",o?"0":"-1",wn.get(a))}))},e}($i),BL,PL,Hat="ui",qat=function(n){zt(e,n);function e(t){var r=n.call(this,t)||this;return r.initialize=function(i){i===void 0&&(i="file");var a=r.refs.url;a.value="",r.refs.altText.value="",r.refs.file.value="",cs(a,"wrong"),r.setState({activeTab:i,file:null,fileNameElClassName:""})},r.execCommand=function(){r.state.activeTab==="file"?r.emitAddImageBlob():r.emitAddImage()},r.toggleTab=function(i,a){a!==r.state.activeTab&&r.initialize(a)},r.showFileSelectBox=function(){r.refs.file.click()},r.changeFile=function(i){var a=i.target.files;a!=null&&a.length&&r.setState({file:a[0]})},r.state={activeTab:"file",file:null,fileNameElClassName:""},r.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],r}return e.prototype.emitAddImageBlob=function(){var t=this,r=this.refs.file.files,i=this.refs.altText,a=" wrong";if(r!=null&&r.length){a="";var o=r.item(0),l=function(s,f){return t.props.execCommand("addImage",{imageUrl:s,altText:f||i.value})};this.props.eventEmitter.emit("addImageBlobHook",o,l,Hat)}this.setState({fileNameElClassName:a})},e.prototype.emitAddImage=function(){var t=this.refs.url,r=this.refs.altText,i=t.value,a=r.value||"image";if(cs(t,"wrong"),!i.length){Us(t,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:a})},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,r=this.state,i=r.activeTab,a=r.file,o=r.fileNameElClassName;return $n(FL||(FL=Vn([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),wn.get("Insert image"),z5,this.tabs,i,this.toggleTab,i==="url"?"block":"none",wn.get("Image URL"),function(l){return t.refs.url=l},i==="file"?"block":"none",wn.get("Select image file"),Vt("file-name"),a?" has-file":o,this.showFileSelectBox,this.preventSelectStart,a?a.name:wn.get("No file"),Vt("file-select-button"),this.showFileSelectBox,wn.get("Choose a file"),this.changeFile,function(l){return t.refs.file=l},wn.get("Description"),function(l){return t.refs.altText=l},Vt("button-container"),Vt("close-button"),this.props.hidePopup,wn.get("Cancel"),Vt("ok-button"),this.execCommand,wn.get("OK"))},e}($i),FL,Uat=function(n){zt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.execCommand=function(){var r=t.refs.url,i=t.refs.text;if(cs(r,"wrong"),cs(i,"wrong"),r.value.length<1){Us(r,"wrong");return}var a=ps(t.props.initialValues.linkUrl);if(a&&i.value.length<1){Us(i,"wrong");return}t.props.execCommand("addLink",{linkUrl:r.value,linkText:i.value})},t}return e.prototype.initialize=function(){var t=this.props.initialValues,r=t.linkUrl,i=t.linkText,a=this.refs.url,o=this.refs.text;cs(a,"wrong"),cs(o,"wrong","disabled"),o.removeAttribute("disabled"),r&&(Us(o,"disabled"),o.setAttribute("disabled","disabled")),a.value=r||"",o.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return $n(zL||(zL=Vn([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),wn.get("Insert link"),wn.get("URL"),function(r){return t.refs.url=r},wn.get("Link text"),function(r){return t.refs.text=r},Vt("button-container"),Vt("close-button"),this.props.hidePopup,wn.get("Cancel"),Vt("ok-button"),this.execCommand,wn.get("OK"))},e}($i),zL,HL=20,qL=20,UL=5,VL=14,$L=5,WL=9,Vat=1,$at=1,GL=1,Wat=function(n){zt(e,n);function e(t){var r=n.call(this,t)||this;return r.extendSelectionRange=function(i){var a=i.pageX,o=i.pageY,l=a-r.offsetRect.left,s=o-r.offsetRect.top,f=r.getSelectionRangeByOffset(l,s);r.setState(rt({},f))},r.execCommand=function(){r.props.execCommand("addTable",{rowCount:r.state.rowIdx+1,columnCount:r.state.colIdx+1})},r.state={rowIdx:-1,colIdx:-1},r}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,r){return{width:(t+1)*HL,height:(r+1)*qL}},e.prototype.getRangeByOffset=function(t,r){return{colIdx:Math.floor(t/HL),rowIdx:Math.floor(r/qL)}},e.prototype.getTableRange=function(){var t=this.state,r=t.colIdx,i=t.rowIdx,a=Math.max(r,$L),o=Math.max(i,UL);return r>=$L&&a<WL&&(a+=1),i>=UL&&o<VL&&(o+=1),{colIdx:a+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),r=t.width,i=t.height;return!r&&!i?{display:"none"}:{width:r-GL,height:i-GL,display:"block"}},e.prototype.getSelectionRangeByOffset=function(t,r){var i=this.getRangeByOffset(t,r);return i.rowIdx=Math.min(Math.max(i.rowIdx,Vat),VL),i.colIdx=Math.min(Math.max(i.colIdx,$at),WL),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var t=this.refs.tableEl.getBoundingClientRect(),r=t.left,i=t.top;this.offsetRect={left:window.pageXOffset+r,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(t){for(var r=t.colIdx,i=t.rowIdx,a=[],o=0;o<i;o+=1){for(var l=[],s=0;s<r;s+=1){var f=""+Vt("table-cell")+(o>0?"":" header");l.push($n(jL||(jL=Vn(['<div class="','"></div>'],['<div class="','"></div>'])),f))}a.push($n(YL||(YL=Vn(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Vt("table-row"),l))}return $n(ZL||(ZL=Vn(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Vt("table"),a)},e.prototype.render=function(){var t=this,r=this.getTableRange(),i=this.getSelectionAreaBound();return $n(KL||(KL=Vn([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),wn.get("Insert table"),Vt("table-selection"),function(a){return t.refs.tableEl=a},this.extendSelectionRange,this.execCommand,this.createTableArea(r),Vt("table-selection-layer"),i,Vt("table-description"),this.getDescription())},e}($i),jL,YL,ZL,KL,Gat=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return $n(JL||(JL=Vn(["<div ref=","></div>"],["<div ref=","></div>"])),function(r){return t.refs.el=r})},e}($i),JL;function jS(n){return ql(n)?Yat(n):n}function jat(){var n=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");n.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";var r=function(i){return e.addEventListener("change",function(a){var o=a.target.checked;o?Us(n,"active"):cs(n,"active"),i("toggleScrollSync",{active:o})})};return n.appendChild(e),n.appendChild(t),{name:"scrollSync",el:n,onMounted:r}}function Yat(n){var e;switch(n){case"heading":e={name:"heading",className:"heading",tooltip:wn.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:wn.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:wn.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:wn.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:wn.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:wn.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:wn.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:wn.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:wn.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:wn.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:wn.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:wn.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:wn.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:wn.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:wn.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:wn.get("Outdent"),state:"outdent"};break;case"scrollSync":e=jat();break;case"more":e={name:"more",className:"more",tooltip:wn.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+Vt("toolbar-icons")),e}function c2(n,e){var t=e.el,r=e.pos,i=e.popup,a=e.initialValues;switch(n){case"heading":return{render:function(o){return $n(XL||(XL=Vn(["<"," ..."," />"],["<"," ..."," />"])),zat,o)},className:Vt("popup-add-heading"),fromEl:t,pos:r};case"link":return{render:function(o){return $n(QL||(QL=Vn(["<"," ..."," />"],["<"," ..."," />"])),Uat,o)},className:Vt("popup-add-link"),fromEl:t,pos:r,initialValues:a};case"image":return{render:function(o){return $n(eO||(eO=Vn(["<"," ..."," />"],["<"," ..."," />"])),qat,o)},className:Vt("popup-add-image"),fromEl:t,pos:r};case"table":return{render:function(o){return $n(tO||(tO=Vn(["<"," ..."," />"],["<"," ..."," />"])),Wat,o)},className:Vt("popup-add-table"),fromEl:t,pos:r};case"customPopupBody":return i?rt({render:function(o){return $n(nO||(nO=Vn(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),Gat,o,i.body)},fromEl:t,pos:r},i):null;default:return null}}function c1(n){n.hidden=n.length===n.filter(function(e){return e.hidden}).length}function Zat(n,e){var t=function(r){return r.hidden=r.name==="scrollSync"&&e,r};return n.reduce(function(r,i){r.push(i.map(function(o){return t(jS(o))}));var a=r[(r.length||1)-1];return a&&c1(a),r},[])}function Kat(n,e){n.forEach(function(t){t.forEach(function(r){return r.hidden=r.name==="scrollSync"&&e}),c1(t)})}var XL,QL,eO,tO,nO,Jat=20,Xat=function(n){zt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handleMousedown=function(r){!Vs(r.target,"."+Vt("popup"))&&!Vs(r.target,t.props.info.fromEl)&&t.props.hidePopup()},t}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var r=this.props,i=r.show,a=r.info;if(i&&a.pos&&t.show!==i){var o=rt({},a.pos),l=this.refs.el.offsetWidth,s=Vs(this.refs.el,"."+Vt("toolbar")),f=s.offsetWidth;o.left+l>=f&&(o.left=f-l-Jat),PE(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var t=this,r=this.props,i=r.info,a=r.show,o=r.hidePopup,l=r.eventEmitter,s=r.execCommand,f=i||{},c=f.className,v=c===void 0?"":c,y=f.style,k=f.render,x=f.initialValues,R=x===void 0?{}:x,d=rt(rt({display:a?"block":"none"},y),this.state.popupPos);return $n(rO||(rO=Vn([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),Vt("popup"),v,d,function(h){return t.refs.el=h},Vt("popup-body"),k&&k({eventEmitter:l,show:a,hidePopup:o,execCommand:s,initialValues:R}))},e}($i),rO,iO=6;function f2(n){return function(e){zt(t,e);function t(r){var i=e.call(this,r)||this;return i.showTooltip=function(a){var o=i.props.item.tooltip;if(!i.props.disabled&&o){var l=i.getBound(a),s=l.left+iO+"px",f=l.top+iO+"px";Ys(i.props.tooltipRef.current,{display:"block",left:s,top:f}),i.props.tooltipRef.current.querySelector(".text").textContent=o}},i.hideTooltip=function(){Ys(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:r.disabled},i.addEvent(),i}return t.prototype.addEvent=function(){var r=this,i=this.props,a=i.item,o=i.eventEmitter;a.state&&o.listen("changeToolbarState",function(l){var s,f=l.toolbarState,c=(s=f[a.state])!==null&&s!==void 0?s:{},v=c.active,y=c.disabled;r.setState({active:!!v,disabled:y??r.props.disabled})})},t.prototype.getBound=function(r){var i=a4(r,Vs(r,"."+Vt("toolbar"))),a=i.offsetLeft,o=i.offsetTop;return{left:a,top:r.offsetHeight+o}},t.prototype.render=function(){return $n(aO||(aO=Vn([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),n,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t}($i)}var aO,Qat=80,eot=function(n){zt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var r=t.props,i=r.item,a=r.execCommand,o=r.setPopupInfo,l=r.getBound,s=r.eventEmitter,f=i.command,c=i.name,v=i.popup;if(f)a(f);else{var y=v?"customPopupBody":c,k=s.emit("query","getPopupInitialValues",{popupName:y})[0],x=c2(y,{el:t.refs.el,pos:l(t.refs.el),popup:v,initialValues:k});x&&o(x)}},t}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,r=t.setItemWidth,i=t.item;r&&r(i.name,GE(this.refs.el)+(i.hidden?Qat:0))},e.prototype.render=function(){var t=this,r=this.props,i=r.hideTooltip,a=r.disabled,o=r.item,l=r.active,s=rt({display:o.hidden?"none":null},o.style),f=""+(o.className||"")+(l?" active":"");return $n(oO||(oO=Vn([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(c){return t.refs.el=c},s,f,this.execCommand,this.showTooltip,i,!!a,o.text||o.tooltip||"",o.text||"")},e}($i),tot=f2(eot),oO,not=function(n){zt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var r=c2("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});r&&t.props.setPopupInfo(r)},t}return e.prototype.mounted=function(){var t=this.props,r=t.setItemWidth,i=t.item;this.refs.el.appendChild(i.el),r&&r(i.name,GE(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var r,i=this.props,a=i.item,o=i.active,l=i.disabled;(t.active!==o||t.disabled!==l)&&((r=a.onUpdated)===null||r===void 0||r.call(a,{active:o,disabled:l}))},e.prototype.render=function(){var t=this,r=this.props,i=r.disabled,a=r.item,o={display:a.hidden?"none":"inline-block"},l=function(s){return i?null:s};return $n(sO||(sO=Vn([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(s){return t.refs.el=s},o,Vt("toolbar-item-wrapper"),l(this.showPopup),l(this.showTooltip),l(this.props.hideTooltip))},e}($i),rot=f2(not),sO,H5=function(n){zt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,r=this.props,i=r.group,a=r.hiddenDivider,o=i.hidden?{display:"none"}:null,l=a?{display:"none"}:null;return $n(uO||(uO=Vn([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),Vt("toolbar-group"),o,i.map(function(s){var f=s.el?rot:tot;return $n(lO||(lO=Vn(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),f,s.name,t.props,s)}),Vt("toolbar-divider"),l)},e}($i),lO,uO,iot=4,aot=function(n){zt(e,n);function e(t){var r=n.call(this,t)||this;return r.handleClickDocument=function(i){var a=i.target;!Vs(a,"."+Vt("dropdown-toolbar"))&&!Vs(a,".more")&&r.setState({showDropdown:!1,dropdownPos:null})},r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.state={showDropdown:!1,dropdownPos:null},r}return e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=iot,rt(rt({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,r=this.state,i=r.showDropdown,a=r.dropdownPos,o=this.props,l=o.disabled,s=o.item,f=o.items,c=o.hideTooltip,v=f.filter(function(x){return!x.hidden}),y=v.length?null:{display:"none"},k=i?null:{display:"none"};return $n(fO||(fO=Vn([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),Vt("toolbar-group"),y,function(x){return t.refs.el=x},s.className,function(){return t.setState({showDropdown:!0})},this.showTooltip,c,l,Vt("dropdown-toolbar"),rt(rt({},k),a),function(x){return t.refs.dropdownEl=x},v.length?v.map(function(x,R){var d;return $n(cO||(cO=Vn([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),H5,x,R===v.length-1||((d=v[R+1])===null||d===void 0?void 0:d.hidden),t.props)}):null)},e}($i),oot=f2(aot),cO,fO,sot=50,lot=function(n){zt(e,n);function e(t){var r=n.call(this,t)||this;return r.toggleTab=function(i,a){var o=r.props.eventEmitter;if(r.state.activeTab!==a){var l=a==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(l),r.setState({activeTab:a})}},r.setItemWidth=function(i,a){r.itemWidthMap[i]=a},r.setPopupInfo=function(i){r.setState({showPopup:!0,popupInfo:i})},r.openPopup=function(i,a){a===void 0&&(a={});var o=r.refs.el.querySelector("."+Vt("toolbar-group")+" ."+i);if(o){var l=a4(o,Vs(o,"."+Vt("toolbar"))),s=l.offsetLeft,f=l.offsetTop,c=c2(i,{el:o,pos:{left:s,top:o.offsetHeight+f},initialValues:a});c&&r.setPopupInfo(c)}},r.hidePopup=function(){r.state.showPopup&&r.setState({showPopup:!1})},r.execCommand=function(i,a){var o=r.props.eventEmitter;o.emit("command",i,a),r.hidePopup()},r.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],r.itemWidthMap={},r.initialItems=Zat(t.toolbarItems||[],r.hiddenScrollSync()),r.state={items:r.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},r.tooltipRef={current:null},r.resizeObserver=new Fat(function(){return r.handleResize()}),r.addEvent(),r}return e.prototype.insertToolbarItem=function(t,r){var i=t.groupIndex,a=t.itemIndex,o=this.initialItems[i];r=jS(r),o?o.splice(a,0,r):this.initialItems.push([r]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var r=this;Ed(this.initialItems,function(i){var a=!1;return Ed(i,function(o,l){return o.name===t?(a=!0,i.splice(l,1),r.setState(r.classifyToolbarItems()),!1):!0}),!a})},e.prototype.addEvent=function(){var t=this,r=this.props.eventEmitter;this.handleResize=wat(function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())},200),r.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+Vt("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=i4(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(t,r,i,a){var o=function(s){var f=s.pop();f&&a.push(f)};if(t>1)o(i);else{var l=Ui(r);l&&o(l)}},e.prototype.classifyToolbarItems=function(){var t=this,r=0,i=this.refs.el.clientWidth,a=this.refs.el.querySelector("."+Vt("toolbar-divider")),o=a?GE(a):0,l=[],s=[],f=!1;return this.initialItems.forEach(function(c,v){var y=[],k=[];c.forEach(function(x,R){x.hidden||(r+=t.itemWidthMap[x.name],r>i-sot?(f||(t.movePrevItemToDropdownToolbar(R,l,y,k),f=!0),k.push(x)):y.push(x))}),y.length&&(c1(y),l.push(y)),k.length&&(c1(k),s.push(k)),v<t.state.items.length-1&&(r+=o)}),{items:l,dropdownItems:s}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var r=this.props,i=r.editorType,a=r.previewStyle,o=r.eventEmitter,l=a!==t.previewStyle,s=i!==t.editorType;if(l||s){Kat(this.initialItems,this.hiddenScrollSync());var f=this.classifyToolbarItems();(l||a==="tab"&&i==="markdown")&&(o.emit("changePreviewTabWrite"),f.activeTab="write"),this.setState(f)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),jc(this.tooltipRef.current)},e.prototype.render=function(){var t=this,r=this.props,i=r.previewStyle,a=r.eventEmitter,o=r.editorType,l=this.state,s=l.popupInfo,f=l.showPopup,c=l.activeTab,v=l.items,y=l.dropdownItems,k={eventEmitter:a,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&i==="tab"&&c==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},x=i==="tab"?{borderTopLeftRadius:0}:null;return $n(hO||(hO=Vn([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),Vt("toolbar"),Vt("md-tab-container"),o==="wysiwyg"||i==="vertical"?"none":"block",z5,this.tabs,c,this.toggleTab,Vt("defaultUI-toolbar"),function(R){return t.refs.el=R},x,v.map(function(R,d){var h;return $n(dO||(dO=Vn([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),H5,R,d===v.length-1||((h=v[d+1])===null||h===void 0?void 0:h.hidden),t.setItemWidth,k)}),oot,jS("more"),y,k,Xat,s,f,a,this.hidePopup,this.execCommand)},e}($i),dO,hO,uot=function(n){zt(e,n);function e(t){var r=n.call(this,t)||this;return r.handleClickDocument=function(i){Vs(i.target,"."+Vt("context-menu"))||r.setState({pos:null})},r.state={pos:null,menuGroups:[]},r.addEvent(),r}return e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",function(r){var i=r.pos,a=r.menuGroups;t.setState({pos:i,menuGroups:a})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,r=this.state,i=r.pos,a=r.menuGroups;return i?a.reduce(function(o,l){var s=[];return l.forEach(function(f){var c=f.label,v=f.className,y=v===void 0?!1:v,k=f.disabled,x=f.onClick,R=function(){k||(x(),t.setState({pos:null}))};s.push($n(pO||(pO=Vn([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),R,k?" disabled":"",y,c))}),o.push($n(vO||(vO=Vn([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),s)),o},[]):[]},e.prototype.render=function(){var t=rt({display:this.state.pos?"block":"none"},this.state.pos);return $n(gO||(gO=Vn(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),Vt("context-menu"),t,this.getMenuGroupElements())},e}($i),pO,vO,gO,cot=function(n){zt(e,n);function e(t){var r=n.call(this,t)||this;r.changeMode=function(o){o!==r.state.editorType&&r.setState({editorType:o})},r.changePreviewStyle=function(o){o!==r.state.previewStyle&&r.setState({previewStyle:o})},r.hide=function(){r.setState({hide:!0})},r.show=function(){r.setState({hide:!1})};var i=t.editorType,a=t.previewStyle;return r.state={editorType:i,previewStyle:a,hide:!1},r.addEvent(),r}return e.prototype.mounted=function(){var t=this.props.slots,r=t.wwEditor,i=t.mdEditor,a=t.mdPreview;this.refs.wwContainer.appendChild(r),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(a)},e.prototype.insertToolbarItem=function(t,r){this.toolbar.insertToolbarItem(t,r)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,r=this.props,i=r.eventEmitter,a=r.hideModeSwitch,o=r.toolbarItems,l=r.theme,s=this.state,f=s.hide,c=s.previewStyle,v=s.editorType,y=f?" hidden":"",k=Vt(v==="markdown"?"md-mode":"ww-mode"),x=Vt("md")+"-"+c+"-style",R=Vt([l!=="light",l+" "]);return $n(yO||(yO=Vn([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),R,Vt("defaultUI"),y,function(d){return t.refs.el=d},lot,function(d){return t.toolbar=d},i,c,o,v,Vt("main"),k,function(d){return t.refs.editorSection=d},Vt("main-container"),Vt("md-container"),x,function(d){return t.refs.mdContainer=d},Vt("md-splitter"),Vt("ww-container"),function(d){return t.refs.wwContainer=d},!a&&$n(mO||(mO=Vn(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),vat,i,v),uot,i)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}($i),mO,yO,Wst=function(n){zt(e,n);function e(t){var r,i=n.call(this,t)||this,a,o=pat(i.options.el,$n(bO||(bO=Vn([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),cot,function(l){return a=l},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:a.insertToolbarItem.bind(a),removeToolbarItem:a.removeToolbarItem.bind(a),destroy:o},(r=i.pluginInfo.toolbarItems)===null||r===void 0||r.forEach(function(l){var s=l.groupIndex,f=l.itemIndex,c=l.item;i.defaultUI.insertToolbarItem({groupIndex:s,itemIndex:f},c)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(t){return t.viewer?new A5(t):new e(t)},e.prototype.insertToolbarItem=function(t,r){this.defaultUI.insertToolbarItem(t,r)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.defaultUI.destroy()},e}(N5),bO;N5.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var DT={exports:{}},ka={},bo={},Qi={},LT,wO;function fot(){if(wO)return LT;wO=1;function n(e){this.content=e}return n.prototype={constructor:n,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,r){var i=r&&r!=e?this.remove(r):this,a=i.find(e),o=i.content.slice();return a==-1?o.push(r||e,t):(o[a+1]=t,r&&(o[a]=r)),new n(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var r=this.content.slice();return r.splice(t,2),new n(r)},addToStart:function(e,t){return new n([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new n(r)},addBefore:function(e,t,r){var i=this.remove(t),a=i.content.slice(),o=i.find(e);return a.splice(o==-1?a.length:o,0,t,r),new n(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=n.from(e),e.size?new n(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=n.from(e),e.size?new n(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=n.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},toObject:function(){var e={};return this.forEach(function(t,r){e[t]=r}),e},get size(){return this.content.length>>1}},n.from=function(e){if(e instanceof n)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new n(t)},LT=n,LT}var CO;function Z1(){if(CO)return Qi;CO=1;function n(J,U){var T=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(!T){if(Array.isArray(J)||(T=e(J))||U){T&&(J=T);var M=0,q=function(){};return{s:q,n:function(){return M>=J.length?{done:!0}:{done:!1,value:J[M++]}},e:function(Ke){throw Ke},f:q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,oe=!1,Te;return{s:function(){T=T.call(J)},n:function(){var Ke=T.next();return X=Ke.done,Ke},e:function(Ke){oe=!0,Te=Ke},f:function(){try{!X&&T.return!=null&&T.return()}finally{if(oe)throw Te}}}}function e(J,U){if(J){if(typeof J=="string")return t(J,U);var T=Object.prototype.toString.call(J).slice(8,-1);if(T==="Object"&&J.constructor&&(T=J.constructor.name),T==="Map"||T==="Set")return Array.from(J);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return t(J,U)}}function t(J,U){(U==null||U>J.length)&&(U=J.length);for(var T=0,M=new Array(U);T<U;T++)M[T]=J[T];return M}function r(){return typeof Reflect<"u"&&Reflect.get?r=Reflect.get.bind():r=function(U,T,M){var q=i(U,T);if(q){var X=Object.getOwnPropertyDescriptor(q,T);return X.get?X.get.call(arguments.length<3?U:M):X.value}},r.apply(this,arguments)}function i(J,U){for(;!Object.prototype.hasOwnProperty.call(J,U)&&(J=x(J),J!==null););return J}function a(J,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(U&&U.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),U&&k(J,U)}function o(J){var U=v();return function(){var M=x(J),q;if(U){var X=x(this).constructor;q=Reflect.construct(M,arguments,X)}else q=M.apply(this,arguments);return l(this,q)}}function l(J,U){if(U&&(R(U)==="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(J)}function s(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function f(J){var U=typeof Map=="function"?new Map:void 0;return f=function(M){if(M===null||!y(M))return M;if(typeof M!="function")throw new TypeError("Super expression must either be null or a function");if(typeof U<"u"){if(U.has(M))return U.get(M);U.set(M,q)}function q(){return c(M,arguments,x(this).constructor)}return q.prototype=Object.create(M.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),k(q,M)},f(J)}function c(J,U,T){return v()?c=Reflect.construct.bind():c=function(q,X,oe){var Te=[null];Te.push.apply(Te,X);var ze=Function.bind.apply(q,Te),Ke=new ze;return oe&&k(Ke,oe.prototype),Ke},c.apply(null,arguments)}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(J){try{return Function.toString.call(J).indexOf("[native code]")!==-1}catch{return typeof J=="function"}}function k(J,U){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,q){return M.__proto__=q,M},k(J,U)}function x(J){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},x(J)}function R(J){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},R(J)}function d(J,U){if(!(J instanceof U))throw new TypeError("Cannot call a class as a function")}function h(J,U){for(var T=0;T<U.length;T++){var M=U[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(J,A(M.key),M)}}function w(J,U,T){return U&&h(J.prototype,U),T&&h(J,T),Object.defineProperty(J,"prototype",{writable:!1}),J}function A(J){var U=D(J,"string");return R(U)==="symbol"?U:String(U)}function D(J,U){if(R(J)!=="object"||J===null)return J;var T=J[Symbol.toPrimitive];if(T!==void 0){var M=T.call(J,U);if(R(M)!=="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}var I=fot();function O(J,U,T){for(var M=0;;M++){if(M==J.childCount||M==U.childCount)return J.childCount==U.childCount?null:T;var q=J.child(M),X=U.child(M);if(q==X){T+=q.nodeSize;continue}if(!q.sameMarkup(X))return T;if(q.isText&&q.text!=X.text){for(var oe=0;q.text[oe]==X.text[oe];oe++)T++;return T}if(q.content.size||X.content.size){var Te=O(q.content,X.content,T+1);if(Te!=null)return Te}T+=q.nodeSize}}function F(J,U,T,M){for(var q=J.childCount,X=U.childCount;;){if(q==0||X==0)return q==X?null:{a:T,b:M};var oe=J.child(--q),Te=U.child(--X),ze=oe.nodeSize;if(oe==Te){T-=ze,M-=ze;continue}if(!oe.sameMarkup(Te))return{a:T,b:M};if(oe.isText&&oe.text!=Te.text){for(var Ke=0,ft=Math.min(oe.text.length,Te.text.length);Ke<ft&&oe.text[oe.text.length-Ke-1]==Te.text[Te.text.length-Ke-1];)Ke++,T--,M--;return{a:T,b:M}}if(oe.content.size||Te.content.size){var pt=F(oe.content,Te.content,T-1,M-1);if(pt)return pt}T-=ze,M-=ze}}var $=function(){function J(U,T){if(d(this,J),this.content=U,this.size=T||0,T==null)for(var M=0;M<U.length;M++)this.size+=U[M].nodeSize}return w(J,[{key:"nodesBetween",value:function(T,M,q){for(var X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,oe=arguments.length>4?arguments[4]:void 0,Te=0,ze=0;ze<M;Te++){var Ke=this.content[Te],ft=ze+Ke.nodeSize;if(ft>T&&q(Ke,X+ze,oe||null,Te)!==!1&&Ke.content.size){var pt=ze+1;Ke.nodesBetween(Math.max(0,T-pt),Math.min(Ke.content.size,M-pt),q,X+pt)}ze=ft}}},{key:"descendants",value:function(T){this.nodesBetween(0,this.size,T)}},{key:"textBetween",value:function(T,M,q,X){var oe="",Te=!0;return this.nodesBetween(T,M,function(ze,Ke){var ft=ze.isText?ze.text.slice(Math.max(T,Ke)-Ke,M-Ke):ze.isLeaf?X?typeof X=="function"?X(ze):X:ze.type.spec.leafText?ze.type.spec.leafText(ze):"":"";ze.isBlock&&(ze.isLeaf&&ft||ze.isTextblock)&&q&&(Te?Te=!1:oe+=q),oe+=ft},0),oe}},{key:"append",value:function(T){if(!T.size)return this;if(!this.size)return T;var M=this.lastChild,q=T.firstChild,X=this.content.slice(),oe=0;for(M.isText&&M.sameMarkup(q)&&(X[X.length-1]=M.withText(M.text+q.text),oe=1);oe<T.content.length;oe++)X.push(T.content[oe]);return new J(X,this.size+T.size)}},{key:"cut",value:function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size;if(T==0&&M==this.size)return this;var q=[],X=0;if(M>T)for(var oe=0,Te=0;Te<M;oe++){var ze=this.content[oe],Ke=Te+ze.nodeSize;Ke>T&&((Te<T||Ke>M)&&(ze.isText?ze=ze.cut(Math.max(0,T-Te),Math.min(ze.text.length,M-Te)):ze=ze.cut(Math.max(0,T-Te-1),Math.min(ze.content.size,M-Te-1))),q.push(ze),X+=ze.nodeSize),Te=Ke}return new J(q,X)}},{key:"cutByIndex",value:function(T,M){return T==M?J.empty:T==0&&M==this.content.length?this:new J(this.content.slice(T,M))}},{key:"replaceChild",value:function(T,M){var q=this.content[T];if(q==M)return this;var X=this.content.slice(),oe=this.size+M.nodeSize-q.nodeSize;return X[T]=M,new J(X,oe)}},{key:"addToStart",value:function(T){return new J([T].concat(this.content),this.size+T.nodeSize)}},{key:"addToEnd",value:function(T){return new J(this.content.concat(T),this.size+T.nodeSize)}},{key:"eq",value:function(T){if(this.content.length!=T.content.length)return!1;for(var M=0;M<this.content.length;M++)if(!this.content[M].eq(T.content[M]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(T){var M=this.content[T];if(!M)throw new RangeError("Index "+T+" out of range for "+this);return M}},{key:"maybeChild",value:function(T){return this.content[T]||null}},{key:"forEach",value:function(T){for(var M=0,q=0;M<this.content.length;M++){var X=this.content[M];T(X,q,M),q+=X.nodeSize}}},{key:"findDiffStart",value:function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return O(this,T,M)}},{key:"findDiffEnd",value:function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.size;return F(this,T,M,q)}},{key:"findIndex",value:function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;if(T==0)return ee(0,T);if(T==this.size)return ee(this.content.length,T);if(T>this.size||T<0)throw new RangeError("Position ".concat(T," outside of fragment (").concat(this,")"));for(var q=0,X=0;;q++){var oe=this.child(q),Te=X+oe.nodeSize;if(Te>=T)return Te==T||M>0?ee(q+1,Te):ee(q,X);X=Te}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map(function(T){return T.toJSON()}):null}}],[{key:"fromJSON",value:function(T,M){if(!M)return J.empty;if(!Array.isArray(M))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(M.map(T.nodeFromJSON))}},{key:"fromArray",value:function(T){if(!T.length)return J.empty;for(var M,q=0,X=0;X<T.length;X++){var oe=T[X];q+=oe.nodeSize,X&&oe.isText&&T[X-1].sameMarkup(oe)?(M||(M=T.slice(0,X)),M[M.length-1]=oe.withText(M[M.length-1].text+oe.text)):M&&M.push(oe)}return new J(M||T,q)}},{key:"from",value:function(T){if(!T)return J.empty;if(T instanceof J)return T;if(Array.isArray(T))return this.fromArray(T);if(T.attrs)return new J([T],T.nodeSize);throw new RangeError("Can not convert "+T+" to a Fragment"+(T.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),J}();$.empty=new $([],0);var z={index:0,offset:0};function ee(J,U){return z.index=J,z.offset=U,z}function me(J,U){if(J===U)return!0;if(!(J&&R(J)=="object")||!(U&&R(U)=="object"))return!1;var T=Array.isArray(J);if(Array.isArray(U)!=T)return!1;if(T){if(J.length!=U.length)return!1;for(var M=0;M<J.length;M++)if(!me(J[M],U[M]))return!1}else{for(var q in J)if(!(q in U)||!me(J[q],U[q]))return!1;for(var X in U)if(!(X in J))return!1}return!0}var ie=function(){function J(U,T){d(this,J),this.type=U,this.attrs=T}return w(J,[{key:"addToSet",value:function(T){for(var M,q=!1,X=0;X<T.length;X++){var oe=T[X];if(this.eq(oe))return T;if(this.type.excludes(oe.type))M||(M=T.slice(0,X));else{if(oe.type.excludes(this.type))return T;!q&&oe.type.rank>this.type.rank&&(M||(M=T.slice(0,X)),M.push(this),q=!0),M&&M.push(oe)}}return M||(M=T.slice()),q||M.push(this),M}},{key:"removeFromSet",value:function(T){for(var M=0;M<T.length;M++)if(this.eq(T[M]))return T.slice(0,M).concat(T.slice(M+1));return T}},{key:"isInSet",value:function(T){for(var M=0;M<T.length;M++)if(this.eq(T[M]))return!0;return!1}},{key:"eq",value:function(T){return this==T||this.type==T.type&&me(this.attrs,T.attrs)}},{key:"toJSON",value:function(){var T={type:this.type.name};for(var M in this.attrs){T.attrs=this.attrs;break}return T}}],[{key:"fromJSON",value:function(T,M){if(!M)throw new RangeError("Invalid input for Mark.fromJSON");var q=T.marks[M.type];if(!q)throw new RangeError("There is no mark type ".concat(M.type," in this schema"));var X=q.create(M.attrs);return q.checkAttrs(X.attrs),X}},{key:"sameSet",value:function(T,M){if(T==M)return!0;if(T.length!=M.length)return!1;for(var q=0;q<T.length;q++)if(!T[q].eq(M[q]))return!1;return!0}},{key:"setFrom",value:function(T){if(!T||Array.isArray(T)&&T.length==0)return J.none;if(T instanceof J)return[T];var M=T.slice();return M.sort(function(q,X){return q.type.rank-X.type.rank}),M}}]),J}();ie.none=[];var pe=function(J){a(T,J);var U=o(T);function T(){return d(this,T),U.apply(this,arguments)}return w(T)}(f(Error)),be=function(){function J(U,T,M){d(this,J),this.content=U,this.openStart=T,this.openEnd=M}return w(J,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(T,M){var q=Ue(this.content,T+this.openStart,M);return q&&new J(q,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(T,M){return new J(Ve(this.content,T+this.openStart,M+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(T){return this.content.eq(T.content)&&this.openStart==T.openStart&&this.openEnd==T.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var T={content:this.content.toJSON()};return this.openStart>0&&(T.openStart=this.openStart),this.openEnd>0&&(T.openEnd=this.openEnd),T}}],[{key:"fromJSON",value:function(T,M){if(!M)return J.empty;var q=M.openStart||0,X=M.openEnd||0;if(typeof q!="number"||typeof X!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new J($.fromJSON(T,M.content),q,X)}},{key:"maxOpen",value:function(T){for(var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,q=0,X=0,oe=T.firstChild;oe&&!oe.isLeaf&&(M||!oe.type.spec.isolating);oe=oe.firstChild)q++;for(var Te=T.lastChild;Te&&!Te.isLeaf&&(M||!Te.type.spec.isolating);Te=Te.lastChild)X++;return new J(T,q,X)}}]),J}();be.empty=new be($.empty,0,0);function Ve(J,U,T){var M=J.findIndex(U),q=M.index,X=M.offset,oe=J.maybeChild(q),Te=J.findIndex(T),ze=Te.index,Ke=Te.offset;if(X==U||oe.isText){if(Ke!=T&&!J.child(ze).isText)throw new RangeError("Removing non-flat range");return J.cut(0,U).append(J.cut(T))}if(q!=ze)throw new RangeError("Removing non-flat range");return J.replaceChild(q,oe.copy(Ve(oe.content,U-X-1,T-X-1)))}function Ue(J,U,T,M){var q=J.findIndex(U),X=q.index,oe=q.offset,Te=J.maybeChild(X);if(oe==U||Te.isText)return J.cut(0,U).append(T).append(J.cut(U));var ze=Ue(Te.content,U-oe-1,T);return ze&&J.replaceChild(X,Te.copy(ze))}function Ge(J,U,T){if(T.openStart>J.depth)throw new pe("Inserted content deeper than insertion position");if(J.depth-T.openStart!=U.depth-T.openEnd)throw new pe("Inconsistent open depths");return Be(J,U,T,0)}function Be(J,U,T,M){var q=J.index(M),X=J.node(M);if(q==U.index(M)&&M<J.depth-T.openStart){var oe=Be(J,U,T,M+1);return X.copy(X.content.replaceChild(q,oe))}else if(T.content.size)if(!T.openStart&&!T.openEnd&&J.depth==M&&U.depth==M){var Te=J.parent,ze=Te.content;return Fe(Te,ze.cut(0,J.parentOffset).append(T.content).append(ze.cut(U.parentOffset)))}else{var Ke=Ee(T,J),ft=Ke.start,pt=Ke.end;return Fe(X,ke(J,ft,pt,U,M))}else return Fe(X,Ae(J,U,M))}function Je(J,U){if(!U.type.compatibleContent(J.type))throw new pe("Cannot join "+U.type.name+" onto "+J.type.name)}function ye(J,U,T){var M=J.node(T);return Je(M,U.node(T)),M}function Me(J,U){var T=U.length-1;T>=0&&J.isText&&J.sameMarkup(U[T])?U[T]=J.withText(U[T].text+J.text):U.push(J)}function we(J,U,T,M){var q=(U||J).node(T),X=0,oe=U?U.index(T):q.childCount;J&&(X=J.index(T),J.depth>T?X++:J.textOffset&&(Me(J.nodeAfter,M),X++));for(var Te=X;Te<oe;Te++)Me(q.child(Te),M);U&&U.depth==T&&U.textOffset&&Me(U.nodeBefore,M)}function Fe(J,U){return J.type.checkContent(U),J.copy(U)}function ke(J,U,T,M,q){var X=J.depth>q&&ye(J,U,q+1),oe=M.depth>q&&ye(T,M,q+1),Te=[];return we(null,J,q,Te),X&&oe&&U.index(q)==T.index(q)?(Je(X,oe),Me(Fe(X,ke(J,U,T,M,q+1)),Te)):(X&&Me(Fe(X,Ae(J,U,q+1)),Te),we(U,T,q,Te),oe&&Me(Fe(oe,Ae(T,M,q+1)),Te)),we(M,null,q,Te),new $(Te)}function Ae(J,U,T){var M=[];if(we(null,J,T,M),J.depth>T){var q=ye(J,U,T+1);Me(Fe(q,Ae(J,U,T+1)),M)}return we(U,null,T,M),new $(M)}function Ee(J,U){for(var T=U.depth-J.openStart,M=U.node(T),q=M.copy(J.content),X=T-1;X>=0;X--)q=U.node(X).copy($.from(q));return{start:q.resolveNoCache(J.openStart+T),end:q.resolveNoCache(q.content.size-J.openEnd-T)}}var Ce=function(){function J(U,T,M){d(this,J),this.pos=U,this.path=T,this.parentOffset=M,this.depth=T.length/3-1}return w(J,[{key:"resolveDepth",value:function(T){return T==null?this.depth:T<0?this.depth+T:T}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(T){return this.path[this.resolveDepth(T)*3]}},{key:"index",value:function(T){return this.path[this.resolveDepth(T)*3+1]}},{key:"indexAfter",value:function(T){return T=this.resolveDepth(T),this.index(T)+(T==this.depth&&!this.textOffset?0:1)}},{key:"start",value:function(T){return T=this.resolveDepth(T),T==0?0:this.path[T*3-1]+1}},{key:"end",value:function(T){return T=this.resolveDepth(T),this.start(T)+this.node(T).content.size}},{key:"before",value:function(T){if(T=this.resolveDepth(T),!T)throw new RangeError("There is no position before the top-level node");return T==this.depth+1?this.pos:this.path[T*3-1]}},{key:"after",value:function(T){if(T=this.resolveDepth(T),!T)throw new RangeError("There is no position after the top-level node");return T==this.depth+1?this.pos:this.path[T*3-1]+this.path[T*3].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var T=this.parent,M=this.index(this.depth);if(M==T.childCount)return null;var q=this.pos-this.path[this.path.length-1],X=T.child(M);return q?T.child(M).cut(q):X}},{key:"nodeBefore",get:function(){var T=this.index(this.depth),M=this.pos-this.path[this.path.length-1];return M?this.parent.child(T).cut(0,M):T==0?null:this.parent.child(T-1)}},{key:"posAtIndex",value:function(T,M){M=this.resolveDepth(M);for(var q=this.path[M*3],X=M==0?0:this.path[M*3-1]+1,oe=0;oe<T;oe++)X+=q.child(oe).nodeSize;return X}},{key:"marks",value:function(){var T=this.parent,M=this.index();if(T.content.size==0)return ie.none;if(this.textOffset)return T.child(M).marks;var q=T.maybeChild(M-1),X=T.maybeChild(M);if(!q){var oe=q;q=X,X=oe}for(var Te=q.marks,ze=0;ze<Te.length;ze++)Te[ze].type.spec.inclusive===!1&&(!X||!Te[ze].isInSet(X.marks))&&(Te=Te[ze--].removeFromSet(Te));return Te}},{key:"marksAcross",value:function(T){var M=this.parent.maybeChild(this.index());if(!M||!M.isInline)return null;for(var q=M.marks,X=T.parent.maybeChild(T.index()),oe=0;oe<q.length;oe++)q[oe].type.spec.inclusive===!1&&(!X||!q[oe].isInSet(X.marks))&&(q=q[oe--].removeFromSet(q));return q}},{key:"sharedDepth",value:function(T){for(var M=this.depth;M>0;M--)if(this.start(M)<=T&&this.end(M)>=T)return M;return 0}},{key:"blockRange",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,M=arguments.length>1?arguments[1]:void 0;if(T.pos<this.pos)return T.blockRange(this);for(var q=this.depth-(this.parent.inlineContent||this.pos==T.pos?1:0);q>=0;q--)if(T.pos<=this.end(q)&&(!M||M(this.node(q))))return new Re(this,T,q);return null}},{key:"sameParent",value:function(T){return this.pos-this.parentOffset==T.pos-T.parentOffset}},{key:"max",value:function(T){return T.pos>this.pos?T:this}},{key:"min",value:function(T){return T.pos<this.pos?T:this}},{key:"toString",value:function(){for(var T="",M=1;M<=this.depth;M++)T+=(T?"/":"")+this.node(M).type.name+"_"+this.index(M-1);return T+":"+this.parentOffset}}],[{key:"resolve",value:function(T,M){if(!(M>=0&&M<=T.content.size))throw new RangeError("Position "+M+" out of range");for(var q=[],X=0,oe=M,Te=T;;){var ze=Te.content.findIndex(oe),Ke=ze.index,ft=ze.offset,pt=oe-ft;if(q.push(Te,Ke,X+ft),!pt||(Te=Te.child(Ke),Te.isText))break;oe=pt-1,X+=ft+1}return new J(M,q,oe)}},{key:"resolveCached",value:function(T,M){var q=fe.get(T);if(q)for(var X=0;X<q.elts.length;X++){var oe=q.elts[X];if(oe.pos==M)return oe}else fe.set(T,q=new ve);var Te=q.elts[q.i]=J.resolve(T,M);return q.i=(q.i+1)%ge,Te}}]),J}(),ve=w(function J(){d(this,J),this.elts=[],this.i=0}),ge=12,fe=new WeakMap,Re=function(){function J(U,T,M){d(this,J),this.$from=U,this.$to=T,this.depth=M}return w(J,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),J}(),We=Object.create(null),it=function(){function J(U,T,M){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ie.none;d(this,J),this.type=U,this.attrs=T,this.marks=q,this.content=M||$.empty}return w(J,[{key:"children",get:function(){return this.content.content}},{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(T){return this.content.child(T)}},{key:"maybeChild",value:function(T){return this.content.maybeChild(T)}},{key:"forEach",value:function(T){this.content.forEach(T)}},{key:"nodesBetween",value:function(T,M,q){var X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.content.nodesBetween(T,M,q,X,this)}},{key:"descendants",value:function(T){this.nodesBetween(0,this.content.size,T)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(T,M,q,X){return this.content.textBetween(T,M,q,X)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(T){return this==T||this.sameMarkup(T)&&this.content.eq(T.content)}},{key:"sameMarkup",value:function(T){return this.hasMarkup(T.type,T.attrs,T.marks)}},{key:"hasMarkup",value:function(T,M,q){return this.type==T&&me(this.attrs,M||T.defaultAttrs||We)&&ie.sameSet(this.marks,q||ie.none)}},{key:"copy",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return T==this.content?this:new J(this.type,this.attrs,T,this.marks)}},{key:"mark",value:function(T){return T==this.marks?this:new J(this.type,this.attrs,this.content,T)}},{key:"cut",value:function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size;return T==0&&M==this.content.size?this:this.copy(this.content.cut(T,M))}},{key:"slice",value:function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(T==M)return be.empty;var X=this.resolve(T),oe=this.resolve(M),Te=q?0:X.sharedDepth(M),ze=X.start(Te),Ke=X.node(Te),ft=Ke.content.cut(X.pos-ze,oe.pos-ze);return new be(ft,X.depth-Te,oe.depth-Te)}},{key:"replace",value:function(T,M,q){return Ge(this.resolve(T),this.resolve(M),q)}},{key:"nodeAt",value:function(T){for(var M=this;;){var q=M.content.findIndex(T),X=q.index,oe=q.offset;if(M=M.maybeChild(X),!M)return null;if(oe==T||M.isText)return M;T-=oe+1}}},{key:"childAfter",value:function(T){var M=this.content.findIndex(T),q=M.index,X=M.offset;return{node:this.content.maybeChild(q),index:q,offset:X}}},{key:"childBefore",value:function(T){if(T==0)return{node:null,index:0,offset:0};var M=this.content.findIndex(T),q=M.index,X=M.offset;if(X<T)return{node:this.content.child(q),index:q,offset:X};var oe=this.content.child(q-1);return{node:oe,index:q-1,offset:X-oe.nodeSize}}},{key:"resolve",value:function(T){return Ce.resolveCached(this,T)}},{key:"resolveNoCache",value:function(T){return Ce.resolve(this,T)}},{key:"rangeHasMark",value:function(T,M,q){var X=!1;return M>T&&this.nodesBetween(T,M,function(oe){return q.isInSet(oe.marks)&&(X=!0),!X}),X}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var T=this.type.name;return this.content.size&&(T+="("+this.content.toStringInner()+")"),xt(this.marks,T)}},{key:"contentMatchAt",value:function(T){var M=this.type.contentMatch.matchFragment(this.content,0,T);if(!M)throw new Error("Called contentMatchAt on a node with invalid content");return M}},{key:"canReplace",value:function(T,M){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$.empty,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,oe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:q.childCount,Te=this.contentMatchAt(T).matchFragment(q,X,oe),ze=Te&&Te.matchFragment(this.content,M);if(!ze||!ze.validEnd)return!1;for(var Ke=X;Ke<oe;Ke++)if(!this.type.allowsMarks(q.child(Ke).marks))return!1;return!0}},{key:"canReplaceWith",value:function(T,M,q,X){if(X&&!this.type.allowsMarks(X))return!1;var oe=this.contentMatchAt(T).matchType(q),Te=oe&&oe.matchFragment(this.content,M);return Te?Te.validEnd:!1}},{key:"canAppend",value:function(T){return T.content.size?this.canReplace(this.childCount,this.childCount,T.content):this.type.compatibleContent(T.type)}},{key:"check",value:function(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);for(var T=ie.none,M=0;M<this.marks.length;M++){var q=this.marks[M];q.type.checkAttrs(q.attrs),T=q.addToSet(T)}if(!ie.sameSet(T,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(function(X){return X.type.name})));this.content.forEach(function(X){return X.check()})}},{key:"toJSON",value:function(){var T={type:this.type.name};for(var M in this.attrs){T.attrs=this.attrs;break}return this.content.size&&(T.content=this.content.toJSON()),this.marks.length&&(T.marks=this.marks.map(function(q){return q.toJSON()})),T}}],[{key:"fromJSON",value:function(T,M){if(!M)throw new RangeError("Invalid input for Node.fromJSON");var q=void 0;if(M.marks){if(!Array.isArray(M.marks))throw new RangeError("Invalid mark data for Node.fromJSON");q=M.marks.map(T.markFromJSON)}if(M.type=="text"){if(typeof M.text!="string")throw new RangeError("Invalid text node in JSON");return T.text(M.text,q)}var X=$.fromJSON(T,M.content),oe=T.nodeType(M.type).create(M.attrs,X,q);return oe.type.checkAttrs(oe.attrs),oe}}]),J}();it.prototype.text=void 0;var ht=function(J){a(T,J);var U=o(T);function T(M,q,X,oe){var Te;if(d(this,T),Te=U.call(this,M,q,null,oe),!X)throw new RangeError("Empty text nodes are not allowed");return Te.text=X,Te}return w(T,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):xt(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(q,X){return this.text.slice(q,X)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(q){return q==this.marks?this:new T(this.type,this.attrs,this.text,q)}},{key:"withText",value:function(q){return q==this.text?this:new T(this.type,this.attrs,q,this.marks)}},{key:"cut",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.text.length;return q==0&&X==this.text.length?this:this.withText(this.text.slice(q,X))}},{key:"eq",value:function(q){return this.sameMarkup(q)&&this.text==q.text}},{key:"toJSON",value:function(){var q=r(x(T.prototype),"toJSON",this).call(this);return q.text=this.text,q}}]),T}(it);function xt(J,U){for(var T=J.length-1;T>=0;T--)U=J[T].type.name+"("+U+")";return U}var Dt=function(){function J(U){d(this,J),this.validEnd=U,this.next=[],this.wrapCache=[]}return w(J,[{key:"matchType",value:function(T){for(var M=0;M<this.next.length;M++)if(this.next[M].type==T)return this.next[M].next;return null}},{key:"matchFragment",value:function(T){for(var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.childCount,X=this,oe=M;X&&oe<q;oe++)X=X.matchType(T.child(oe).type);return X}},{key:"inlineContent",get:function(){return this.next.length!=0&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var T=0;T<this.next.length;T++){var M=this.next[T].type;if(!(M.isText||M.hasRequiredAttrs()))return M}return null}},{key:"compatible",value:function(T){for(var M=0;M<this.next.length;M++)for(var q=0;q<T.next.length;q++)if(this.next[M].type==T.next[q].type)return!0;return!1}},{key:"fillBefore",value:function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,X=[this];function oe(Te,ze){var Ke=Te.matchFragment(T,q);if(Ke&&(!M||Ke.validEnd))return $.from(ze.map(function(qn){return qn.createAndFill()}));for(var ft=0;ft<Te.next.length;ft++){var pt=Te.next[ft],kt=pt.type,Rt=pt.next;if(!(kt.isText||kt.hasRequiredAttrs())&&X.indexOf(Rt)==-1){X.push(Rt);var mn=oe(Rt,ze.concat(kt));if(mn)return mn}}return null}return oe(this,[])}},{key:"findWrapping",value:function(T){for(var M=0;M<this.wrapCache.length;M+=2)if(this.wrapCache[M]==T)return this.wrapCache[M+1];var q=this.computeWrapping(T);return this.wrapCache.push(T,q),q}},{key:"computeWrapping",value:function(T){for(var M=Object.create(null),q=[{match:this,type:null,via:null}];q.length;){var X=q.shift(),oe=X.match;if(oe.matchType(T)){for(var Te=[],ze=X;ze.type;ze=ze.via)Te.push(ze.type);return Te.reverse()}for(var Ke=0;Ke<oe.next.length;Ke++){var ft=oe.next[Ke],pt=ft.type,kt=ft.next;!pt.isLeaf&&!pt.hasRequiredAttrs()&&!(pt.name in M)&&(!X.type||kt.validEnd)&&(q.push({match:pt.contentMatch,type:pt,via:X}),M[pt.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(T){if(T>=this.next.length)throw new RangeError("There's no ".concat(T,"th edge in this content match"));return this.next[T]}},{key:"toString",value:function(){var T=[];function M(q){T.push(q);for(var X=0;X<q.next.length;X++)T.indexOf(q.next[X].next)==-1&&M(q.next[X].next)}return M(this),T.map(function(q,X){for(var oe=X+(q.validEnd?"*":" ")+" ",Te=0;Te<q.next.length;Te++)oe+=(Te?", ":"")+q.next[Te].type.name+"->"+T.indexOf(q.next[Te].next);return oe}).join(`
`)}}],[{key:"parse",value:function(T,M){var q=new Yt(T,M);if(q.next==null)return J.empty;var X=Mt(q);q.next&&q.err("Unexpected trailing text");var oe=mt($t(X));return Et(oe,q),oe}}]),J}();Dt.empty=new Dt(!0);var Yt=function(){function J(U,T){d(this,J),this.string=U,this.nodeTypes=T,this.inline=null,this.pos=0,this.tokens=U.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}return w(J,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(T){return this.next==T&&(this.pos++||!0)}},{key:"err",value:function(T){throw new SyntaxError(T+" (in content expression '"+this.string+"')")}}]),J}();function Mt(J){var U=[];do U.push(on(J));while(J.eat("|"));return U.length==1?U[0]:{type:"choice",exprs:U}}function on(J){var U=[];do U.push(Wt(J));while(J.next&&J.next!=")"&&J.next!="|");return U.length==1?U[0]:{type:"seq",exprs:U}}function Wt(J){for(var U=En(J);;)if(J.eat("+"))U={type:"plus",expr:U};else if(J.eat("*"))U={type:"star",expr:U};else if(J.eat("?"))U={type:"opt",expr:U};else if(J.eat("{"))U=Zt(J,U);else break;return U}function fn(J){/\D/.test(J.next)&&J.err("Expected number, got '"+J.next+"'");var U=Number(J.next);return J.pos++,U}function Zt(J,U){var T=fn(J),M=T;return J.eat(",")&&(J.next!="}"?M=fn(J):M=-1),J.eat("}")||J.err("Unclosed braced range"),{type:"range",min:T,max:M,expr:U}}function gn(J,U){var T=J.nodeTypes,M=T[U];if(M)return[M];var q=[];for(var X in T){var oe=T[X];oe.isInGroup(U)&&q.push(oe)}return q.length==0&&J.err("No node type or group '"+U+"' found"),q}function En(J){if(J.eat("(")){var U=Mt(J);return J.eat(")")||J.err("Missing closing paren"),U}else if(/\W/.test(J.next))J.err("Unexpected token '"+J.next+"'");else{var T=gn(J,J.next).map(function(M){return J.inline==null?J.inline=M.isInline:J.inline!=M.isInline&&J.err("Mixing inline and block content"),{type:"name",value:M}});return J.pos++,T.length==1?T[0]:{type:"choice",exprs:T}}}function $t(J){var U=[[]];return q(X(J,0),T()),U;function T(){return U.push([])-1}function M(oe,Te,ze){var Ke={term:ze,to:Te};return U[oe].push(Ke),Ke}function q(oe,Te){oe.forEach(function(ze){return ze.to=Te})}function X(oe,Te){if(oe.type=="choice")return oe.exprs.reduce(function(Ia,oo){return Ia.concat(X(oo,Te))},[]);if(oe.type=="seq")for(var ze=0;;ze++){var Ke=X(oe.exprs[ze],Te);if(ze==oe.exprs.length-1)return Ke;q(Ke,Te=T())}else if(oe.type=="star"){var ft=T();return M(Te,ft),q(X(oe.expr,ft),ft),[M(ft)]}else if(oe.type=="plus"){var pt=T();return q(X(oe.expr,Te),pt),q(X(oe.expr,pt),pt),[M(pt)]}else{if(oe.type=="opt")return[M(Te)].concat(X(oe.expr,Te));if(oe.type=="range"){for(var kt=Te,Rt=0;Rt<oe.min;Rt++){var mn=T();q(X(oe.expr,kt),mn),kt=mn}if(oe.max==-1)q(X(oe.expr,kt),kt);else for(var qn=oe.min;qn<oe.max;qn++){var Ti=T();M(kt,Ti),q(X(oe.expr,kt),Ti),kt=Ti}return[M(kt)]}else{if(oe.type=="name")return[M(Te,void 0,oe.value)];throw new Error("Unknown expr type")}}}}function Rn(J,U){return U-J}function bt(J,U){var T=[];return M(U),T.sort(Rn);function M(q){var X=J[q];if(X.length==1&&!X[0].term)return M(X[0].to);T.push(q);for(var oe=0;oe<X.length;oe++){var Te=X[oe],ze=Te.term,Ke=Te.to;!ze&&T.indexOf(Ke)==-1&&M(Ke)}}}function mt(J){var U=Object.create(null);return T(bt(J,0));function T(M){var q=[];M.forEach(function(ze){J[ze].forEach(function(Ke){var ft=Ke.term,pt=Ke.to;if(ft){for(var kt,Rt=0;Rt<q.length;Rt++)q[Rt][0]==ft&&(kt=q[Rt][1]);bt(J,pt).forEach(function(mn){kt||q.push([ft,kt=[]]),kt.indexOf(mn)==-1&&kt.push(mn)})}})});for(var X=U[M.join(",")]=new Dt(M.indexOf(J.length-1)>-1),oe=0;oe<q.length;oe++){var Te=q[oe][1].sort(Rn);X.next.push({type:q[oe][0],next:U[Te.join(",")]||T(Te)})}return X}}function Et(J,U){for(var T=0,M=[J];T<M.length;T++){for(var q=M[T],X=!q.validEnd,oe=[],Te=0;Te<q.next.length;Te++){var ze=q.next[Te],Ke=ze.type,ft=ze.next;oe.push(Ke.name),X&&!(Ke.isText||Ke.hasRequiredAttrs())&&(X=!1),M.indexOf(ft)==-1&&M.push(ft)}X&&U.err("Only non-generatable nodes ("+oe.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ft(J){var U=Object.create(null);for(var T in J){var M=J[T];if(!M.hasDefault)return null;U[T]=M.default}return U}function Gt(J,U){var T=Object.create(null);for(var M in J){var q=U&&U[M];if(q===void 0){var X=J[M];if(X.hasDefault)q=X.default;else throw new RangeError("No value supplied for attribute "+M)}T[M]=q}return T}function Nn(J,U,T,M){for(var q in U)if(!(q in J))throw new RangeError("Unsupported attribute ".concat(q," for ").concat(T," of type ").concat(q));for(var X in J){var oe=J[X];oe.validate&&oe.validate(U[X])}}function hn(J,U){var T=Object.create(null);if(U)for(var M in U)T[M]=new lr(J,M,U[M]);return T}var an=function(){function J(U,T,M){d(this,J),this.name=U,this.schema=T,this.spec=M,this.markSet=null,this.groups=M.group?M.group.split(" "):[],this.attrs=hn(U,M.attrs),this.defaultAttrs=Ft(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(M.inline||U=="text"),this.isText=U=="text"}return w(J,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==Dt.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"isInGroup",value:function(T){return this.groups.indexOf(T)>-1}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var T in this.attrs)if(this.attrs[T].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(T){return this==T||this.contentMatch.compatible(T.contentMatch)}},{key:"computeAttrs",value:function(T){return!T&&this.defaultAttrs?this.defaultAttrs:Gt(this.attrs,T)}},{key:"create",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,M=arguments.length>1?arguments[1]:void 0,q=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new it(this,this.computeAttrs(T),$.from(M),ie.setFrom(q))}},{key:"createChecked",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,M=arguments.length>1?arguments[1]:void 0,q=arguments.length>2?arguments[2]:void 0;return M=$.from(M),this.checkContent(M),new it(this,this.computeAttrs(T),M,ie.setFrom(q))}},{key:"createAndFill",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,M=arguments.length>1?arguments[1]:void 0,q=arguments.length>2?arguments[2]:void 0;if(T=this.computeAttrs(T),M=$.from(M),M.size){var X=this.contentMatch.fillBefore(M);if(!X)return null;M=X.append(M)}var oe=this.contentMatch.matchFragment(M),Te=oe&&oe.fillBefore($.empty,!0);return Te?new it(this,T,M.append(Te),ie.setFrom(q)):null}},{key:"validContent",value:function(T){var M=this.contentMatch.matchFragment(T);if(!M||!M.validEnd)return!1;for(var q=0;q<T.childCount;q++)if(!this.allowsMarks(T.child(q).marks))return!1;return!0}},{key:"checkContent",value:function(T){if(!this.validContent(T))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(T.toString().slice(0,50)))}},{key:"checkAttrs",value:function(T){Nn(this.attrs,T,"node",this.name)}},{key:"allowsMarkType",value:function(T){return this.markSet==null||this.markSet.indexOf(T)>-1}},{key:"allowsMarks",value:function(T){if(this.markSet==null)return!0;for(var M=0;M<T.length;M++)if(!this.allowsMarkType(T[M].type))return!1;return!0}},{key:"allowedMarks",value:function(T){if(this.markSet==null)return T;for(var M,q=0;q<T.length;q++)this.allowsMarkType(T[q].type)?M&&M.push(T[q]):M||(M=T.slice(0,q));return M?M.length?M:ie.none:T}}],[{key:"compile",value:function(T,M){var q=Object.create(null);T.forEach(function(Te,ze){return q[Te]=new J(Te,M,ze)});var X=M.spec.topNode||"doc";if(!q[X])throw new RangeError("Schema is missing its top node type ('"+X+"')");if(!q.text)throw new RangeError("Every schema needs a 'text' type");for(var oe in q.text.attrs)throw new RangeError("The text node type should not have attributes");return q}}]),J}();function Qt(J,U,T){var M=T.split("|");return function(q){var X=q===null?"null":R(q);if(M.indexOf(X)<0)throw new RangeError("Expected value of type ".concat(M," for attribute ").concat(U," on type ").concat(J,", got ").concat(X))}}var lr=function(){function J(U,T,M){d(this,J),this.hasDefault=Object.prototype.hasOwnProperty.call(M,"default"),this.default=M.default,this.validate=typeof M.validate=="string"?Qt(U,T,M.validate):M.validate}return w(J,[{key:"isRequired",get:function(){return!this.hasDefault}}]),J}(),Hn=function(){function J(U,T,M,q){d(this,J),this.name=U,this.rank=T,this.schema=M,this.spec=q,this.attrs=hn(U,q.attrs),this.excluded=null;var X=Ft(this.attrs);this.instance=X?new ie(this,X):null}return w(J,[{key:"create",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return!T&&this.instance?this.instance:new ie(this,Gt(this.attrs,T))}},{key:"removeFromSet",value:function(T){for(var M=0;M<T.length;M++)T[M].type==this&&(T=T.slice(0,M).concat(T.slice(M+1)),M--);return T}},{key:"isInSet",value:function(T){for(var M=0;M<T.length;M++)if(T[M].type==this)return T[M]}},{key:"checkAttrs",value:function(T){Nn(this.attrs,T,"mark",this.name)}},{key:"excludes",value:function(T){return this.excluded.indexOf(T)>-1}}],[{key:"compile",value:function(T,M){var q=Object.create(null),X=0;return T.forEach(function(oe,Te){return q[oe]=new J(oe,X++,M,Te)}),q}}]),J}(),Er=function(){function J(U){d(this,J),this.linebreakReplacement=null,this.cached=Object.create(null);var T=this.spec={};for(var M in U)T[M]=U[M];T.nodes=I.from(U.nodes),T.marks=I.from(U.marks||{}),this.nodes=an.compile(this.spec.nodes,this),this.marks=Hn.compile(this.spec.marks,this);var q=Object.create(null);for(var X in this.nodes){if(X in this.marks)throw new RangeError(X+" can not be both a node and a mark");var oe=this.nodes[X],Te=oe.spec.content||"",ze=oe.spec.marks;if(oe.contentMatch=q[Te]||(q[Te]=Dt.parse(Te,this.nodes)),oe.inlineContent=oe.contentMatch.inlineContent,oe.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!oe.isInline||!oe.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=oe}oe.markSet=ze=="_"?null:ze?fr(this,ze.split(" ")):ze==""||!oe.inlineContent?[]:null}for(var Ke in this.marks){var ft=this.marks[Ke],pt=ft.spec.excludes;ft.excluded=pt==null?[ft]:pt==""?[]:fr(this,pt.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return w(J,[{key:"node",value:function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,q=arguments.length>2?arguments[2]:void 0,X=arguments.length>3?arguments[3]:void 0;if(typeof T=="string")T=this.nodeType(T);else if(T instanceof an){if(T.schema!=this)throw new RangeError("Node type from different schema used ("+T.name+")")}else throw new RangeError("Invalid node type: "+T);return T.createChecked(M,q,X)}},{key:"text",value:function(T,M){var q=this.nodes.text;return new ht(q,q.defaultAttrs,T,ie.setFrom(M))}},{key:"mark",value:function(T,M){return typeof T=="string"&&(T=this.marks[T]),T.create(M)}},{key:"nodeFromJSON",value:function(T){return it.fromJSON(this,T)}},{key:"markFromJSON",value:function(T){return ie.fromJSON(this,T)}},{key:"nodeType",value:function(T){var M=this.nodes[T];if(!M)throw new RangeError("Unknown node type: "+T);return M}}]),J}();function fr(J,U){for(var T=[],M=0;M<U.length;M++){var q=U[M],X=J.marks[q],oe=X;if(X)T.push(X);else for(var Te in J.marks){var ze=J.marks[Te];(q=="_"||ze.spec.group&&ze.spec.group.split(" ").indexOf(q)>-1)&&T.push(oe=ze)}if(!oe)throw new SyntaxError("Unknown mark type: '"+U[M]+"'")}return T}function dr(J){return J.tag!=null}function Qn(J){return J.style!=null}var ar=function(){function J(U,T){var M=this;d(this,J),this.schema=U,this.rules=T,this.tags=[],this.styles=[];var q=this.matchedStyles=[];T.forEach(function(X){if(dr(X))M.tags.push(X);else if(Qn(X)){var oe=/[^=]*/.exec(X.style)[0];q.indexOf(oe)<0&&q.push(oe),M.styles.push(X)}}),this.normalizeLists=!this.tags.some(function(X){if(!/^(ul|ol)\b/.test(X.tag)||!X.node)return!1;var oe=U.nodes[X.node];return oe.contentMatch.matchType(oe)})}return w(J,[{key:"parse",value:function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=new V(this,M,!1);return q.addAll(T,ie.none,M.from,M.to),q.finish()}},{key:"parseSlice",value:function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=new V(this,M,!0);return q.addAll(T,ie.none,M.from,M.to),be.maxOpen(q.finish())}},{key:"matchTag",value:function(T,M,q){for(var X=q?this.tags.indexOf(q)+1:0;X<this.tags.length;X++){var oe=this.tags[X];if(K(T,oe.tag)&&(oe.namespace===void 0||T.namespaceURI==oe.namespace)&&(!oe.context||M.matchesContext(oe.context))){if(oe.getAttrs){var Te=oe.getAttrs(T);if(Te===!1)continue;oe.attrs=Te||void 0}return oe}}}},{key:"matchStyle",value:function(T,M,q,X){for(var oe=X?this.styles.indexOf(X)+1:0;oe<this.styles.length;oe++){var Te=this.styles[oe],ze=Te.style;if(!(ze.indexOf(T)!=0||Te.context&&!q.matchesContext(Te.context)||ze.length>T.length&&(ze.charCodeAt(T.length)!=61||ze.slice(T.length+1)!=M))){if(Te.getAttrs){var Ke=Te.getAttrs(M);if(Ke===!1)continue;Te.attrs=Ke||void 0}return Te}}}}],[{key:"schemaRules",value:function(T){var M=[];function q(Ke){for(var ft=Ke.priority==null?50:Ke.priority,pt=0;pt<M.length;pt++){var kt=M[pt],Rt=kt.priority==null?50:kt.priority;if(Rt<ft)break}M.splice(pt,0,Ke)}var X=function(ft){var pt=T.marks[ft].spec.parseDOM;pt&&pt.forEach(function(kt){q(kt=de(kt)),kt.mark||kt.ignore||kt.clearMark||(kt.mark=ft)})};for(var oe in T.marks)X(oe);var Te=function(ft){var pt=T.nodes[ft].spec.parseDOM;pt&&pt.forEach(function(kt){q(kt=de(kt)),kt.node||kt.ignore||kt.mark||(kt.node=ft)})};for(var ze in T.nodes)Te(ze);return M}},{key:"fromSchema",value:function(T){return T.cached.domParser||(T.cached.domParser=new J(T,J.schemaRules(T)))}}]),J}(),Ar={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},se={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},he={ol:!0,ul:!0},Oe=1,Xe=2,te=4;function ne(J,U,T){return U!=null?(U?Oe:0)|(U==="full"?Xe:0):J&&J.whitespace=="pre"?Oe|Xe:T&-5}var G=function(){function J(U,T,M,q,X,oe){d(this,J),this.type=U,this.attrs=T,this.marks=M,this.solid=q,this.options=oe,this.content=[],this.activeMarks=ie.none,this.match=X||(oe&te?null:U.contentMatch)}return w(J,[{key:"findWrapping",value:function(T){if(!this.match){if(!this.type)return[];var M=this.type.contentMatch.fillBefore($.from(T));if(M)this.match=this.type.contentMatch.matchFragment(M);else{var q=this.type.contentMatch,X;return(X=q.findWrapping(T.type))?(this.match=q,X):null}}return this.match.findWrapping(T.type)}},{key:"finish",value:function(T){if(!(this.options&Oe)){var M=this.content[this.content.length-1],q;if(M&&M.isText&&(q=/[ \t\r\n\u000c]+$/.exec(M.text))){var X=M;M.text.length==q[0].length?this.content.pop():this.content[this.content.length-1]=X.withText(X.text.slice(0,X.text.length-q[0].length))}}var oe=$.from(this.content);return!T&&this.match&&(oe=oe.append(this.match.fillBefore($.empty,!0))),this.type?this.type.create(this.attrs,oe,this.marks):oe}},{key:"inlineContext",value:function(T){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:T.parentNode&&!Ar.hasOwnProperty(T.parentNode.nodeName.toLowerCase())}}]),J}(),V=function(){function J(U,T,M){d(this,J),this.parser=U,this.options=T,this.isOpen=M,this.open=0,this.localPreserveWS=!1;var q=T.topNode,X,oe=ne(null,T.preserveWhitespace,0)|(M?te:0);q?X=new G(q.type,q.attrs,ie.none,!0,T.topMatch||q.type.contentMatch,oe):M?X=new G(null,null,ie.none,!0,null,oe):X=new G(U.schema.topNodeType,null,ie.none,!0,null,oe),this.nodes=[X],this.find=T.findPositions,this.needsBlock=!1}return w(J,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(T,M){T.nodeType==3?this.addTextNode(T,M):T.nodeType==1&&this.addElement(T,M)}},{key:"addTextNode",value:function(T,M){var q=T.nodeValue,X=this.top,oe=X.options&Xe?"full":this.localPreserveWS||(X.options&Oe)>0;if(oe==="full"||X.inlineContext(T)||/[^ \t\r\n\u000c]/.test(q)){if(oe)oe!=="full"?q=q.replace(/\r?\n|\r/g," "):q=q.replace(/\r\n?/g,`
`);else if(q=q.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(q)&&this.open==this.nodes.length-1){var Te=X.content[X.content.length-1],ze=T.previousSibling;(!Te||ze&&ze.nodeName=="BR"||Te.isText&&/[ \t\r\n\u000c]$/.test(Te.text))&&(q=q.slice(1))}q&&this.insertNode(this.parser.schema.text(q),M,!/\S/.test(q)),this.findInText(T)}else this.findInside(T)}},{key:"addElement",value:function(T,M,q){var X=this.localPreserveWS,oe=this.top;(T.tagName=="PRE"||/pre/.test(T.style&&T.style.whiteSpace))&&(this.localPreserveWS=!0);var Te=T.nodeName.toLowerCase(),ze;he.hasOwnProperty(Te)&&this.parser.normalizeLists&&Y(T);var Ke=this.options.ruleFromNode&&this.options.ruleFromNode(T)||(ze=this.parser.matchTag(T,this,q));e:if(Ke?Ke.ignore:se.hasOwnProperty(Te))this.findInside(T),this.ignoreFallback(T,M);else if(!Ke||Ke.skip||Ke.closeParent){Ke&&Ke.closeParent?this.open=Math.max(0,this.open-1):Ke&&Ke.skip.nodeType&&(T=Ke.skip);var ft,pt=this.needsBlock;if(Ar.hasOwnProperty(Te))oe.content.length&&oe.content[0].isInline&&this.open&&(this.open--,oe=this.top),ft=!0,oe.type||(this.needsBlock=!0);else if(!T.firstChild){this.leafFallback(T,M);break e}var kt=Ke&&Ke.skip?M:this.readStyles(T,M);kt&&this.addAll(T,kt),ft&&this.sync(oe),this.needsBlock=pt}else{var Rt=this.readStyles(T,M);Rt&&this.addElementByRule(T,Ke,Rt,Ke.consuming===!1?ze:void 0)}this.localPreserveWS=X}},{key:"leafFallback",value:function(T,M){T.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(T.ownerDocument.createTextNode(`
`),M)}},{key:"ignoreFallback",value:function(T,M){T.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),M,!0)}},{key:"readStyles",value:function(T,M){var q=this,X=T.style;if(X&&X.length)for(var oe=0;oe<this.parser.matchedStyles.length;oe++){var Te=this.parser.matchedStyles[oe],ze=X.getPropertyValue(Te);if(ze){for(var Ke=function(Rt){var mn=q.parser.matchStyle(Te,ze,q,Rt);if(!mn)return pt=Rt,0;if(mn.ignore)return{v:null};if(mn.clearMark?M=M.filter(function(qn){return!mn.clearMark(qn)}):M=M.concat(q.parser.schema.marks[mn.mark].create(mn.attrs)),mn.consuming===!1)Rt=mn;else return pt=Rt,0;pt=Rt},ft,pt=void 0;ft=Ke(pt),ft!==0;)if(ft)return ft.v}}return M}},{key:"addElementByRule",value:function(T,M,q,X){var oe=this,Te,ze;if(M.node)if(ze=this.parser.schema.nodes[M.node],ze.isLeaf)this.insertNode(ze.create(M.attrs),q,T.nodeName=="BR")||this.leafFallback(T,q);else{var Ke=this.enter(ze,M.attrs||null,q,M.preserveWhitespace);Ke&&(Te=!0,q=Ke)}else{var ft=this.parser.schema.marks[M.mark];q=q.concat(ft.create(M.attrs))}var pt=this.top;if(ze&&ze.isLeaf)this.findInside(T);else if(X)this.addElement(T,q,X);else if(M.getContent)this.findInside(T),M.getContent(T,this.parser.schema).forEach(function(Rt){return oe.insertNode(Rt,q,!1)});else{var kt=T;typeof M.contentElement=="string"?kt=T.querySelector(M.contentElement):typeof M.contentElement=="function"?kt=M.contentElement(T):M.contentElement&&(kt=M.contentElement),this.findAround(T,kt,!0),this.addAll(kt,q),this.findAround(T,kt,!1)}Te&&this.sync(pt)&&this.open--}},{key:"addAll",value:function(T,M,q,X){for(var oe=q||0,Te=q?T.childNodes[q]:T.firstChild,ze=X==null?null:T.childNodes[X];Te!=ze;Te=Te.nextSibling,++oe)this.findAtPoint(T,oe),this.addDOM(Te,M);this.findAtPoint(T,oe)}},{key:"findPlace",value:function(T,M,q){for(var X,oe,Te=this.open,ze=0;Te>=0;Te--){var Ke=this.nodes[Te],ft=Ke.findWrapping(T);if(ft&&(!X||X.length>ft.length+ze)&&(X=ft,oe=Ke,!ft.length))break;if(Ke.solid){if(q)break;ze+=2}}if(!X)return null;this.sync(oe);for(var pt=0;pt<X.length;pt++)M=this.enterInner(X[pt],null,M,!1);return M}},{key:"insertNode",value:function(T,M,q){if(T.isInline&&this.needsBlock&&!this.top.type){var X=this.textblockFromContext();X&&(M=this.enterInner(X,null,M))}var oe=this.findPlace(T,M,q);if(oe){this.closeExtra();var Te=this.top;Te.match&&(Te.match=Te.match.matchType(T.type));var ze=ie.none,Ke=n(oe.concat(T.marks)),ft;try{for(Ke.s();!(ft=Ke.n()).done;){var pt=ft.value;(Te.type?Te.type.allowsMarkType(pt.type):qe(pt.type,T.type))&&(ze=pt.addToSet(ze))}}catch(kt){Ke.e(kt)}finally{Ke.f()}return Te.content.push(T.mark(ze)),!0}return!1}},{key:"enter",value:function(T,M,q,X){var oe=this.findPlace(T.create(M),q,!1);return oe&&(oe=this.enterInner(T,M,q,!0,X)),oe}},{key:"enterInner",value:function(T,M,q){var X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,oe=arguments.length>4?arguments[4]:void 0;this.closeExtra();var Te=this.top;Te.match=Te.match&&Te.match.matchType(T);var ze=ne(T,oe,Te.options);Te.options&te&&Te.content.length==0&&(ze|=te);var Ke=ie.none;return q=q.filter(function(ft){return(Te.type?Te.type.allowsMarkType(ft.type):qe(ft.type,T))?(Ke=ft.addToSet(Ke),!1):!0}),this.nodes.push(new G(T,M,Ke,X,null,ze)),this.open++,q}},{key:"closeExtra",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,M=this.nodes.length-1;if(M>this.open){for(;M>this.open;M--)this.nodes[M-1].content.push(this.nodes[M].finish(T));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}},{key:"sync",value:function(T){for(var M=this.open;M>=0;M--){if(this.nodes[M]==T)return this.open=M,!0;this.localPreserveWS&&(this.nodes[M].options|=Oe)}return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var T=0,M=this.open;M>=0;M--){for(var q=this.nodes[M].content,X=q.length-1;X>=0;X--)T+=q[X].nodeSize;M&&T++}return T}},{key:"findAtPoint",value:function(T,M){if(this.find)for(var q=0;q<this.find.length;q++)this.find[q].node==T&&this.find[q].offset==M&&(this.find[q].pos=this.currentPos)}},{key:"findInside",value:function(T){if(this.find)for(var M=0;M<this.find.length;M++)this.find[M].pos==null&&T.nodeType==1&&T.contains(this.find[M].node)&&(this.find[M].pos=this.currentPos)}},{key:"findAround",value:function(T,M,q){if(T!=M&&this.find){for(var X=0;X<this.find.length;X++)if(this.find[X].pos==null&&T.nodeType==1&&T.contains(this.find[X].node)){var oe=M.compareDocumentPosition(this.find[X].node);oe&(q?2:4)&&(this.find[X].pos=this.currentPos)}}}},{key:"findInText",value:function(T){if(this.find)for(var M=0;M<this.find.length;M++)this.find[M].node==T&&(this.find[M].pos=this.currentPos-(T.nodeValue.length-this.find[M].offset))}},{key:"matchesContext",value:function(T){var M=this;if(T.indexOf("|")>-1)return T.split(/\s*\|\s*/).some(this.matchesContext,this);var q=T.split("/"),X=this.options.context,oe=!this.isOpen&&(!X||X.parent.type==this.nodes[0].type),Te=-(X?X.depth+1:0)+(oe?0:1),ze=function Ke(ft,pt){for(;ft>=0;ft--){var kt=q[ft];if(kt==""){if(ft==q.length-1||ft==0)continue;for(;pt>=Te;pt--)if(Ke(ft-1,pt))return!0;return!1}else{var Rt=pt>0||pt==0&&oe?M.nodes[pt].type:X&&pt>=Te?X.node(pt-Te).type:null;if(!Rt||Rt.name!=kt&&!Rt.isInGroup(kt))return!1;pt--}}return!0};return ze(q.length-1,this.open)}},{key:"textblockFromContext",value:function(){var T=this.options.context;if(T)for(var M=T.depth;M>=0;M--){var q=T.node(M).contentMatchAt(T.indexAfter(M)).defaultType;if(q&&q.isTextblock&&q.defaultAttrs)return q}for(var X in this.parser.schema.nodes){var oe=this.parser.schema.nodes[X];if(oe.isTextblock&&oe.defaultAttrs)return oe}}}]),J}();function Y(J){for(var U=J.firstChild,T=null;U;U=U.nextSibling){var M=U.nodeType==1?U.nodeName.toLowerCase():null;M&&he.hasOwnProperty(M)&&T?(T.appendChild(U),U=T):M=="li"?T=U:M&&(T=null)}}function K(J,U){return(J.matches||J.msMatchesSelector||J.webkitMatchesSelector||J.mozMatchesSelector).call(J,U)}function de(J){var U={};for(var T in J)U[T]=J[T];return U}function qe(J,U){var T=U.schema.nodes,M=function(){var Te=T[X];if(!Te.allowsMarkType(J))return 0;var ze=[],Ke=function ft(pt){ze.push(pt);for(var kt=0;kt<pt.edgeCount;kt++){var Rt=pt.edge(kt),mn=Rt.type,qn=Rt.next;if(mn==U||ze.indexOf(qn)<0&&ft(qn))return!0}};if(Ke(Te.contentMatch))return{v:!0}},q;for(var X in T)if(q=M(),q!==0&&q)return q.v}var et=function(){function J(U,T){d(this,J),this.nodes=U,this.marks=T}return w(J,[{key:"serializeFragment",value:function(T){var M=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=arguments.length>2?arguments[2]:void 0;X||(X=_e(q).createDocumentFragment());var oe=X,Te=[];return T.forEach(function(ze){if(Te.length||ze.marks.length){for(var Ke=0,ft=0;Ke<Te.length&&ft<ze.marks.length;){var pt=ze.marks[ft];if(!M.marks[pt.type.name]){ft++;continue}if(!pt.eq(Te[Ke][0])||pt.type.spec.spanning===!1)break;Ke++,ft++}for(;Ke<Te.length;)oe=Te.pop()[1];for(;ft<ze.marks.length;){var kt=ze.marks[ft++],Rt=M.serializeMark(kt,ze.isInline,q);Rt&&(Te.push([kt,oe]),oe.appendChild(Rt.dom),oe=Rt.contentDOM||Rt.dom)}}oe.appendChild(M.serializeNodeInner(ze,q))}),X}},{key:"serializeNodeInner",value:function(T,M){var q=Ht(_e(M),this.nodes[T.type.name](T),null,T.attrs),X=q.dom,oe=q.contentDOM;if(oe){if(T.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(T.content,M,oe)}return X}},{key:"serializeNode",value:function(T){for(var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=this.serializeNodeInner(T,M),X=T.marks.length-1;X>=0;X--){var oe=this.serializeMark(T.marks[X],T.isInline,M);oe&&((oe.contentDOM||oe.dom).appendChild(q),q=oe.dom)}return q}},{key:"serializeMark",value:function(T,M){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=this.marks[T.type.name];return X&&Ht(_e(q),X(T,M),null,T.attrs)}}],[{key:"renderSpec",value:function(T,M){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,X=arguments.length>3?arguments[3]:void 0;return Ht(T,M,q,X)}},{key:"fromSchema",value:function(T){return T.cached.domSerializer||(T.cached.domSerializer=new J(this.nodesFromSchema(T),this.marksFromSchema(T)))}},{key:"nodesFromSchema",value:function(T){var M=Ne(T.nodes);return M.text||(M.text=function(q){return q.text}),M}},{key:"marksFromSchema",value:function(T){return Ne(T.marks)}}]),J}();function Ne(J){var U={};for(var T in J){var M=J[T].spec.toDOM;M&&(U[T]=M)}return U}function _e(J){return J.document||window.document}var Ze=new WeakMap;function nt(J){var U=Ze.get(J);return U===void 0&&Ze.set(J,U=wt(J)),U}function wt(J){var U=null;function T(M){if(M&&R(M)=="object")if(Array.isArray(M))if(typeof M[0]=="string")U||(U=[]),U.push(M);else for(var q=0;q<M.length;q++)T(M[q]);else for(var X in M)T(M[X])}return T(J),U}function Ht(J,U,T,M){if(typeof U=="string")return{dom:J.createTextNode(U)};if(U.nodeType!=null)return{dom:U};if(U.dom&&U.dom.nodeType!=null)return U;var q=U[0],X;if(typeof q!="string")throw new RangeError("Invalid array passed to renderSpec");if(M&&(X=nt(M))&&X.indexOf(U)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");var oe=q.indexOf(" ");oe>0&&(T=q.slice(0,oe),q=q.slice(oe+1));var Te,ze=T?J.createElementNS(T,q):J.createElement(q),Ke=U[1],ft=1;if(Ke&&R(Ke)=="object"&&Ke.nodeType==null&&!Array.isArray(Ke)){ft=2;for(var pt in Ke)if(Ke[pt]!=null){var kt=pt.indexOf(" ");kt>0?ze.setAttributeNS(pt.slice(0,kt),pt.slice(kt+1),Ke[pt]):ze.setAttribute(pt,Ke[pt])}}for(var Rt=ft;Rt<U.length;Rt++){var mn=U[Rt];if(mn===0){if(Rt<U.length-1||Rt>ft)throw new RangeError("Content hole must be the only child of its parent node");return{dom:ze,contentDOM:ze}}else{var qn=Ht(J,mn,T,M),Ti=qn.dom,Ia=qn.contentDOM;if(ze.appendChild(Ti),Ia){if(Te)throw new RangeError("Multiple content holes");Te=Ia}}}return{dom:ze,contentDOM:Te}}return Qi.ContentMatch=Dt,Qi.DOMParser=ar,Qi.DOMSerializer=et,Qi.Fragment=$,Qi.Mark=ie,Qi.MarkType=Hn,Qi.Node=it,Qi.NodeRange=Re,Qi.NodeType=an,Qi.ReplaceError=pe,Qi.ResolvedPos=Ce,Qi.Schema=Er,Qi.Slice=be,Qi}var OT={},xO;function d2(){return xO||(xO=1,function(n){function e(te){var ne=typeof Map=="function"?new Map:void 0;return e=function(V){if(V===null||!r(V))return V;if(typeof V!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ne<"u"){if(ne.has(V))return ne.get(V);ne.set(V,Y)}function Y(){return t(V,arguments,c(this).constructor)}return Y.prototype=Object.create(V.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),a(Y,V)},e(te)}function t(te,ne,G){return f()?t=Reflect.construct.bind():t=function(Y,K,de){var qe=[null];qe.push.apply(qe,K);var et=Function.bind.apply(Y,qe),Ne=new et;return de&&a(Ne,de.prototype),Ne},t.apply(null,arguments)}function r(te){try{return Function.toString.call(te).indexOf("[native code]")!==-1}catch{return typeof te=="function"}}function i(te,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ne&&ne.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ne&&a(te,ne)}function a(te,ne){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,Y){return V.__proto__=Y,V},a(te,ne)}function o(te){var ne=f();return function(){var V=c(te),Y;if(ne){var K=c(this).constructor;Y=Reflect.construct(V,arguments,K)}else Y=V.apply(this,arguments);return l(this,Y)}}function l(te,ne){if(ne&&(v(ne)==="object"||typeof ne=="function"))return ne;if(ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(te)}function s(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(te){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},c(te)}function v(te){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},v(te)}function y(te,ne){if(!(te instanceof ne))throw new TypeError("Cannot call a class as a function")}function k(te,ne){for(var G=0;G<ne.length;G++){var V=ne[G];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(te,R(V.key),V)}}function x(te,ne,G){return ne&&k(te.prototype,ne),G&&k(te,G),Object.defineProperty(te,"prototype",{writable:!1}),te}function R(te){var ne=d(te,"string");return v(ne)==="symbol"?ne:String(ne)}function d(te,ne){if(v(te)!=="object"||te===null)return te;var G=te[Symbol.toPrimitive];if(G!==void 0){var V=G.call(te,ne);if(v(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}var h=Z1(),w=65535,A=Math.pow(2,16);function D(te,ne){return te+ne*A}function I(te){return te&w}function O(te){return(te-(te&w))/A}var F=1,$=2,z=4,ee=8,me=function(){function te(ne,G,V){y(this,te),this.pos=ne,this.delInfo=G,this.recover=V}return x(te,[{key:"deleted",get:function(){return(this.delInfo&ee)>0}},{key:"deletedBefore",get:function(){return(this.delInfo&(F|z))>0}},{key:"deletedAfter",get:function(){return(this.delInfo&($|z))>0}},{key:"deletedAcross",get:function(){return(this.delInfo&z)>0}}]),te}(),ie=function(){function te(ne){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(y(this,te),this.ranges=ne,this.inverted=G,!ne.length&&te.empty)return te.empty}return x(te,[{key:"recover",value:function(G){var V=0,Y=I(G);if(!this.inverted)for(var K=0;K<Y;K++)V+=this.ranges[K*3+2]-this.ranges[K*3+1];return this.ranges[Y*3]+V+O(G)}},{key:"mapResult",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(G,V,!1)}},{key:"map",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(G,V,!0)}},{key:"_map",value:function(G,V,Y){for(var K=0,de=this.inverted?2:1,qe=this.inverted?1:2,et=0;et<this.ranges.length;et+=3){var Ne=this.ranges[et]-(this.inverted?K:0);if(Ne>G)break;var _e=this.ranges[et+de],Ze=this.ranges[et+qe],nt=Ne+_e;if(G<=nt){var wt=_e?G==Ne?-1:G==nt?1:V:V,Ht=Ne+K+(wt<0?0:Ze);if(Y)return Ht;var J=G==(V<0?Ne:nt)?null:D(et/3,G-Ne),U=G==Ne?$:G==nt?F:z;return(V<0?G!=Ne:G!=nt)&&(U|=ee),new me(Ht,U,J)}K+=Ze-_e}return Y?G+K:new me(G+K,0,null)}},{key:"touches",value:function(G,V){for(var Y=0,K=I(V),de=this.inverted?2:1,qe=this.inverted?1:2,et=0;et<this.ranges.length;et+=3){var Ne=this.ranges[et]-(this.inverted?Y:0);if(Ne>G)break;var _e=this.ranges[et+de],Ze=Ne+_e;if(G<=Ze&&et==K*3)return!0;Y+=this.ranges[et+qe]-_e}return!1}},{key:"forEach",value:function(G){for(var V=this.inverted?2:1,Y=this.inverted?1:2,K=0,de=0;K<this.ranges.length;K+=3){var qe=this.ranges[K],et=qe-(this.inverted?de:0),Ne=qe+(this.inverted?0:de),_e=this.ranges[K+V],Ze=this.ranges[K+Y];G(et,et+_e,Ne,Ne+Ze),de+=Ze-_e}}},{key:"invert",value:function(){return new te(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(G){return G==0?te.empty:new te(G<0?[0,-G,0]:[0,0,G])}}]),te}();ie.empty=new ie([]);var pe=function(){function te(ne,G){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ne?ne.length:0;y(this,te),this.mirror=G,this.from=V,this.to=Y,this._maps=ne||[],this.ownData=!(ne||G)}return x(te,[{key:"maps",get:function(){return this._maps}},{key:"slice",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.maps.length;return new te(this._maps,this.mirror,G,V)}},{key:"appendMap",value:function(G,V){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(G),V!=null&&this.setMirror(this._maps.length-1,V)}},{key:"appendMapping",value:function(G){for(var V=0,Y=this._maps.length;V<G._maps.length;V++){var K=G.getMirror(V);this.appendMap(G._maps[V],K!=null&&K<V?Y+K:void 0)}}},{key:"getMirror",value:function(G){if(this.mirror){for(var V=0;V<this.mirror.length;V++)if(this.mirror[V]==G)return this.mirror[V+(V%2?-1:1)]}}},{key:"setMirror",value:function(G,V){this.mirror||(this.mirror=[]),this.mirror.push(G,V)}},{key:"appendMappingInverted",value:function(G){for(var V=G.maps.length-1,Y=this._maps.length+G._maps.length;V>=0;V--){var K=G.getMirror(V);this.appendMap(G._maps[V].invert(),K!=null&&K>V?Y-K-1:void 0)}}},{key:"invert",value:function(){var G=new te;return G.appendMappingInverted(this),G}},{key:"map",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.mirror)return this._map(G,V,!0);for(var Y=this.from;Y<this.to;Y++)G=this._maps[Y].map(G,V);return G}},{key:"mapResult",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(G,V,!1)}},{key:"_map",value:function(G,V,Y){for(var K=0,de=this.from;de<this.to;de++){var qe=this._maps[de],et=qe.mapResult(G,V);if(et.recover!=null){var Ne=this.getMirror(de);if(Ne!=null&&Ne>de&&Ne<this.to){de=Ne,G=this._maps[Ne].recover(et.recover);continue}}K|=et.delInfo,G=et.pos}return Y?G:new me(G,K,null)}}]),te}(),be=Object.create(null),Ve=function(){function te(){y(this,te)}return x(te,[{key:"getMap",value:function(){return ie.empty}},{key:"merge",value:function(G){return null}}],[{key:"fromJSON",value:function(G,V){if(!V||!V.stepType)throw new RangeError("Invalid input for Step.fromJSON");var Y=be[V.stepType];if(!Y)throw new RangeError("No step type ".concat(V.stepType," defined"));return Y.fromJSON(G,V)}},{key:"jsonID",value:function(G,V){if(G in be)throw new RangeError("Duplicate use of step JSON ID "+G);return be[G]=V,V.prototype.jsonID=G,V}}]),te}(),Ue=function(){function te(ne,G){y(this,te),this.doc=ne,this.failed=G}return x(te,null,[{key:"ok",value:function(G){return new te(G,null)}},{key:"fail",value:function(G){return new te(null,G)}},{key:"fromReplace",value:function(G,V,Y,K){try{return te.ok(G.replace(V,Y,K))}catch(de){if(de instanceof h.ReplaceError)return te.fail(de.message);throw de}}}]),te}();function Ge(te,ne,G){for(var V=[],Y=0;Y<te.childCount;Y++){var K=te.child(Y);K.content.size&&(K=K.copy(Ge(K.content,ne,K))),K.isInline&&(K=ne(K,G,Y)),V.push(K)}return h.Fragment.fromArray(V)}var Be=function(te){i(G,te);var ne=o(G);function G(V,Y,K){var de;return y(this,G),de=ne.call(this),de.from=V,de.to=Y,de.mark=K,de}return x(G,[{key:"apply",value:function(Y){var K=this,de=Y.slice(this.from,this.to),qe=Y.resolve(this.from),et=qe.node(qe.sharedDepth(this.to)),Ne=new h.Slice(Ge(de.content,function(_e,Ze){return!_e.isAtom||!Ze.type.allowsMarkType(K.mark.type)?_e:_e.mark(K.mark.addToSet(_e.marks))},et),de.openStart,de.openEnd);return Ue.fromReplace(Y,this.from,this.to,Ne)}},{key:"invert",value:function(){return new Je(this.from,this.to,this.mark)}},{key:"map",value:function(Y){var K=Y.mapResult(this.from,1),de=Y.mapResult(this.to,-1);return K.deleted&&de.deleted||K.pos>=de.pos?null:new G(K.pos,de.pos,this.mark)}},{key:"merge",value:function(Y){return Y instanceof G&&Y.mark.eq(this.mark)&&this.from<=Y.to&&this.to>=Y.from?new G(Math.min(this.from,Y.from),Math.max(this.to,Y.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(Y,K){if(typeof K.from!="number"||typeof K.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new G(K.from,K.to,Y.markFromJSON(K.mark))}}]),G}(Ve);Ve.jsonID("addMark",Be);var Je=function(te){i(G,te);var ne=o(G);function G(V,Y,K){var de;return y(this,G),de=ne.call(this),de.from=V,de.to=Y,de.mark=K,de}return x(G,[{key:"apply",value:function(Y){var K=this,de=Y.slice(this.from,this.to),qe=new h.Slice(Ge(de.content,function(et){return et.mark(K.mark.removeFromSet(et.marks))},Y),de.openStart,de.openEnd);return Ue.fromReplace(Y,this.from,this.to,qe)}},{key:"invert",value:function(){return new Be(this.from,this.to,this.mark)}},{key:"map",value:function(Y){var K=Y.mapResult(this.from,1),de=Y.mapResult(this.to,-1);return K.deleted&&de.deleted||K.pos>=de.pos?null:new G(K.pos,de.pos,this.mark)}},{key:"merge",value:function(Y){return Y instanceof G&&Y.mark.eq(this.mark)&&this.from<=Y.to&&this.to>=Y.from?new G(Math.min(this.from,Y.from),Math.max(this.to,Y.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(Y,K){if(typeof K.from!="number"||typeof K.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new G(K.from,K.to,Y.markFromJSON(K.mark))}}]),G}(Ve);Ve.jsonID("removeMark",Je);var ye=function(te){i(G,te);var ne=o(G);function G(V,Y){var K;return y(this,G),K=ne.call(this),K.pos=V,K.mark=Y,K}return x(G,[{key:"apply",value:function(Y){var K=Y.nodeAt(this.pos);if(!K)return Ue.fail("No node at mark step's position");var de=K.type.create(K.attrs,null,this.mark.addToSet(K.marks));return Ue.fromReplace(Y,this.pos,this.pos+1,new h.Slice(h.Fragment.from(de),0,K.isLeaf?0:1))}},{key:"invert",value:function(Y){var K=Y.nodeAt(this.pos);if(K){var de=this.mark.addToSet(K.marks);if(de.length==K.marks.length){for(var qe=0;qe<K.marks.length;qe++)if(!K.marks[qe].isInSet(de))return new G(this.pos,K.marks[qe]);return new G(this.pos,this.mark)}}return new Me(this.pos,this.mark)}},{key:"map",value:function(Y){var K=Y.mapResult(this.pos,1);return K.deletedAfter?null:new G(K.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(Y,K){if(typeof K.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new G(K.pos,Y.markFromJSON(K.mark))}}]),G}(Ve);Ve.jsonID("addNodeMark",ye);var Me=function(te){i(G,te);var ne=o(G);function G(V,Y){var K;return y(this,G),K=ne.call(this),K.pos=V,K.mark=Y,K}return x(G,[{key:"apply",value:function(Y){var K=Y.nodeAt(this.pos);if(!K)return Ue.fail("No node at mark step's position");var de=K.type.create(K.attrs,null,this.mark.removeFromSet(K.marks));return Ue.fromReplace(Y,this.pos,this.pos+1,new h.Slice(h.Fragment.from(de),0,K.isLeaf?0:1))}},{key:"invert",value:function(Y){var K=Y.nodeAt(this.pos);return!K||!this.mark.isInSet(K.marks)?this:new ye(this.pos,this.mark)}},{key:"map",value:function(Y){var K=Y.mapResult(this.pos,1);return K.deletedAfter?null:new G(K.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(Y,K){if(typeof K.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new G(K.pos,Y.markFromJSON(K.mark))}}]),G}(Ve);Ve.jsonID("removeNodeMark",Me);var we=function(te){i(G,te);var ne=o(G);function G(V,Y,K){var de,qe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return y(this,G),de=ne.call(this),de.from=V,de.to=Y,de.slice=K,de.structure=qe,de}return x(G,[{key:"apply",value:function(Y){return this.structure&&ke(Y,this.from,this.to)?Ue.fail("Structure replace would overwrite content"):Ue.fromReplace(Y,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new ie([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(Y){return new G(this.from,this.from+this.slice.size,Y.slice(this.from,this.to))}},{key:"map",value:function(Y){var K=Y.mapResult(this.from,1),de=Y.mapResult(this.to,-1);return K.deletedAcross&&de.deletedAcross?null:new G(K.pos,Math.max(K.pos,de.pos),this.slice,this.structure)}},{key:"merge",value:function(Y){if(!(Y instanceof G)||Y.structure||this.structure)return null;if(this.from+this.slice.size==Y.from&&!this.slice.openEnd&&!Y.slice.openStart){var K=this.slice.size+Y.slice.size==0?h.Slice.empty:new h.Slice(this.slice.content.append(Y.slice.content),this.slice.openStart,Y.slice.openEnd);return new G(this.from,this.to+(Y.to-Y.from),K,this.structure)}else if(Y.to==this.from&&!this.slice.openStart&&!Y.slice.openEnd){var de=this.slice.size+Y.slice.size==0?h.Slice.empty:new h.Slice(Y.slice.content.append(this.slice.content),Y.slice.openStart,this.slice.openEnd);return new G(Y.from,this.to,de,this.structure)}else return null}},{key:"toJSON",value:function(){var Y={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(Y.slice=this.slice.toJSON()),this.structure&&(Y.structure=!0),Y}}],[{key:"fromJSON",value:function(Y,K){if(typeof K.from!="number"||typeof K.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new G(K.from,K.to,h.Slice.fromJSON(Y,K.slice),!!K.structure)}}]),G}(Ve);Ve.jsonID("replace",we);var Fe=function(te){i(G,te);var ne=o(G);function G(V,Y,K,de,qe,et){var Ne,_e=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return y(this,G),Ne=ne.call(this),Ne.from=V,Ne.to=Y,Ne.gapFrom=K,Ne.gapTo=de,Ne.slice=qe,Ne.insert=et,Ne.structure=_e,Ne}return x(G,[{key:"apply",value:function(Y){if(this.structure&&(ke(Y,this.from,this.gapFrom)||ke(Y,this.gapTo,this.to)))return Ue.fail("Structure gap-replace would overwrite content");var K=Y.slice(this.gapFrom,this.gapTo);if(K.openStart||K.openEnd)return Ue.fail("Gap is not a flat range");var de=this.slice.insertAt(this.insert,K.content);return de?Ue.fromReplace(Y,this.from,this.to,de):Ue.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new ie([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(Y){var K=this.gapTo-this.gapFrom;return new G(this.from,this.from+this.slice.size+K,this.from+this.insert,this.from+this.insert+K,Y.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(Y){var K=Y.mapResult(this.from,1),de=Y.mapResult(this.to,-1),qe=this.from==this.gapFrom?K.pos:Y.map(this.gapFrom,-1),et=this.to==this.gapTo?de.pos:Y.map(this.gapTo,1);return K.deletedAcross&&de.deletedAcross||qe<K.pos||et>de.pos?null:new G(K.pos,de.pos,qe,et,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var Y={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(Y.slice=this.slice.toJSON()),this.structure&&(Y.structure=!0),Y}}],[{key:"fromJSON",value:function(Y,K){if(typeof K.from!="number"||typeof K.to!="number"||typeof K.gapFrom!="number"||typeof K.gapTo!="number"||typeof K.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new G(K.from,K.to,K.gapFrom,K.gapTo,h.Slice.fromJSON(Y,K.slice),K.insert,!!K.structure)}}]),G}(Ve);Ve.jsonID("replaceAround",Fe);function ke(te,ne,G){for(var V=te.resolve(ne),Y=G-ne,K=V.depth;Y>0&&K>0&&V.indexAfter(K)==V.node(K).childCount;)K--,Y--;if(Y>0)for(var de=V.node(K).maybeChild(V.indexAfter(K));Y>0;){if(!de||de.isLeaf)return!0;de=de.firstChild,Y--}return!1}function Ae(te,ne,G,V){var Y=[],K=[],de,qe;te.doc.nodesBetween(ne,G,function(et,Ne,_e){if(et.isInline){var Ze=et.marks;if(!V.isInSet(Ze)&&_e.type.allowsMarkType(V.type)){for(var nt=Math.max(Ne,ne),wt=Math.min(Ne+et.nodeSize,G),Ht=V.addToSet(Ze),J=0;J<Ze.length;J++)Ze[J].isInSet(Ht)||(de&&de.to==nt&&de.mark.eq(Ze[J])?de.to=wt:Y.push(de=new Je(nt,wt,Ze[J])));qe&&qe.to==nt?qe.to=wt:K.push(qe=new Be(nt,wt,V))}}}),Y.forEach(function(et){return te.step(et)}),K.forEach(function(et){return te.step(et)})}function Ee(te,ne,G,V){var Y=[],K=0;te.doc.nodesBetween(ne,G,function(de,qe){if(de.isInline){K++;var et=null;if(V instanceof h.MarkType)for(var Ne=de.marks,_e;_e=V.isInSet(Ne);)(et||(et=[])).push(_e),Ne=_e.removeFromSet(Ne);else V?V.isInSet(de.marks)&&(et=[V]):et=de.marks;if(et&&et.length)for(var Ze=Math.min(qe+de.nodeSize,G),nt=0;nt<et.length;nt++){for(var wt=et[nt],Ht=void 0,J=0;J<Y.length;J++){var U=Y[J];U.step==K-1&&wt.eq(Y[J].style)&&(Ht=U)}Ht?(Ht.to=Ze,Ht.step=K):Y.push({style:wt,from:Math.max(qe,ne),to:Ze,step:K})}}}),Y.forEach(function(de){return te.step(new Je(de.from,de.to,de.style))})}function Ce(te,ne,G){for(var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:G.contentMatch,Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,K=te.doc.nodeAt(ne),de=[],qe=ne+1,et=0;et<K.childCount;et++){var Ne=K.child(et),_e=qe+Ne.nodeSize,Ze=V.matchType(Ne.type);if(!Ze)de.push(new we(qe,_e,h.Slice.empty));else{V=Ze;for(var nt=0;nt<Ne.marks.length;nt++)G.allowsMarkType(Ne.marks[nt].type)||te.step(new Je(qe,_e,Ne.marks[nt]));if(Y&&Ne.isText&&G.whitespace!="pre")for(var wt=void 0,Ht=/\r?\n|\r/g,J=void 0;wt=Ht.exec(Ne.text);)J||(J=new h.Slice(h.Fragment.from(G.schema.text(" ",G.allowedMarks(Ne.marks))),0,0)),de.push(new we(qe+wt.index,qe+wt.index+wt[0].length,J))}qe=_e}if(!V.validEnd){var U=V.fillBefore(h.Fragment.empty,!0);te.replace(qe,qe,new h.Slice(U,0,0))}for(var T=de.length-1;T>=0;T--)te.step(de[T])}function ve(te,ne,G){return(ne==0||te.canReplace(ne,te.childCount))&&(G==te.childCount||te.canReplace(0,G))}function ge(te){for(var ne=te.parent,G=ne.content.cutByIndex(te.startIndex,te.endIndex),V=te.depth;;--V){var Y=te.$from.node(V),K=te.$from.index(V),de=te.$to.indexAfter(V);if(V<te.depth&&Y.canReplace(K,de,G))return V;if(V==0||Y.type.spec.isolating||!ve(Y,K,de))break}return null}function fe(te,ne,G){for(var V=ne.$from,Y=ne.$to,K=ne.depth,de=V.before(K+1),qe=Y.after(K+1),et=de,Ne=qe,_e=h.Fragment.empty,Ze=0,nt=K,wt=!1;nt>G;nt--)wt||V.index(nt)>0?(wt=!0,_e=h.Fragment.from(V.node(nt).copy(_e)),Ze++):et--;for(var Ht=h.Fragment.empty,J=0,U=K,T=!1;U>G;U--)T||Y.after(U+1)<Y.end(U)?(T=!0,Ht=h.Fragment.from(Y.node(U).copy(Ht)),J++):Ne++;te.step(new Fe(et,Ne,de,qe,new h.Slice(_e.append(Ht),Ze,J),_e.size-Ze,!0))}function Re(te,ne){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:te,Y=it(te,ne),K=Y&&ht(V,ne);return K?Y.map(We).concat({type:ne,attrs:G}).concat(K.map(We)):null}function We(te){return{type:te,attrs:null}}function it(te,ne){var G=te.parent,V=te.startIndex,Y=te.endIndex,K=G.contentMatchAt(V).findWrapping(ne);if(!K)return null;var de=K.length?K[0]:ne;return G.canReplaceWith(V,Y,de)?K:null}function ht(te,ne){var G=te.parent,V=te.startIndex,Y=te.endIndex,K=G.child(V),de=ne.contentMatch.findWrapping(K.type);if(!de)return null;for(var qe=de.length?de[de.length-1]:ne,et=qe.contentMatch,Ne=V;et&&Ne<Y;Ne++)et=et.matchType(G.child(Ne).type);return!et||!et.validEnd?null:de}function xt(te,ne,G){for(var V=h.Fragment.empty,Y=G.length-1;Y>=0;Y--){if(V.size){var K=G[Y].type.contentMatch.matchFragment(V);if(!K||!K.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}V=h.Fragment.from(G[Y].type.create(G[Y].attrs,V))}var de=ne.start,qe=ne.end;te.step(new Fe(de,qe,de,qe,new h.Slice(V,0,0),G.length,!0))}function Dt(te,ne,G,V,Y){if(!V.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var K=te.steps.length;te.doc.nodesBetween(ne,G,function(de,qe){var et=typeof Y=="function"?Y(de):Y;if(de.isTextblock&&!de.hasMarkup(V,et)&&on(te.doc,te.mapping.slice(K).map(qe),V)){var Ne=null;if(V.schema.linebreakReplacement){var _e=V.whitespace=="pre",Ze=!!V.contentMatch.matchType(V.schema.linebreakReplacement);_e&&!Ze?Ne=!1:!_e&&Ze&&(Ne=!0)}Ne===!1&&Mt(te,de,qe,K),Ce(te,te.mapping.slice(K).map(qe,1),V,void 0,Ne===null);var nt=te.mapping.slice(K),wt=nt.map(qe,1),Ht=nt.map(qe+de.nodeSize,1);return te.step(new Fe(wt,Ht,wt+1,Ht-1,new h.Slice(h.Fragment.from(V.create(et,null,de.marks)),0,0),1,!0)),Ne===!0&&Yt(te,de,qe,K),!1}})}function Yt(te,ne,G,V){ne.forEach(function(Y,K){if(Y.isText)for(var de,qe=/\r?\n|\r/g;de=qe.exec(Y.text);){var et=te.mapping.slice(V).map(G+1+K+de.index);te.replaceWith(et,et+1,ne.type.schema.linebreakReplacement.create())}})}function Mt(te,ne,G,V){ne.forEach(function(Y,K){if(Y.type==Y.type.schema.linebreakReplacement){var de=te.mapping.slice(V).map(G+1+K);te.replaceWith(de,de+1,ne.type.schema.text(`
`))}})}function on(te,ne,G){var V=te.resolve(ne),Y=V.index();return V.parent.canReplaceWith(Y,Y+1,G)}function Wt(te,ne,G,V,Y){var K=te.doc.nodeAt(ne);if(!K)throw new RangeError("No node at given position");G||(G=K.type);var de=G.create(V,null,Y||K.marks);if(K.isLeaf)return te.replaceWith(ne,ne+K.nodeSize,de);if(!G.validContent(K.content))throw new RangeError("Invalid content for node type "+G.name);te.step(new Fe(ne,ne+K.nodeSize,ne+1,ne+K.nodeSize-1,new h.Slice(h.Fragment.from(de),0,0),1,!0))}function fn(te,ne){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,V=arguments.length>3?arguments[3]:void 0,Y=te.resolve(ne),K=Y.depth-G,de=V&&V[V.length-1]||Y.parent;if(K<0||Y.parent.type.spec.isolating||!Y.parent.canReplace(Y.index(),Y.parent.childCount)||!de.type.validContent(Y.parent.content.cutByIndex(Y.index(),Y.parent.childCount)))return!1;for(var qe=Y.depth-1,et=G-2;qe>K;qe--,et--){var Ne=Y.node(qe),_e=Y.index(qe);if(Ne.type.spec.isolating)return!1;var Ze=Ne.content.cutByIndex(_e,Ne.childCount),nt=V&&V[et+1];nt&&(Ze=Ze.replaceChild(0,nt.type.create(nt.attrs)));var wt=V&&V[et]||Ne;if(!Ne.canReplace(_e+1,Ne.childCount)||!wt.type.validContent(Ze))return!1}var Ht=Y.indexAfter(K),J=V&&V[0];return Y.node(K).canReplaceWith(Ht,Ht,J?J.type:Y.node(K+1).type)}function Zt(te,ne){for(var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,V=arguments.length>3?arguments[3]:void 0,Y=te.doc.resolve(ne),K=h.Fragment.empty,de=h.Fragment.empty,qe=Y.depth,et=Y.depth-G,Ne=G-1;qe>et;qe--,Ne--){K=h.Fragment.from(Y.node(qe).copy(K));var _e=V&&V[Ne];de=h.Fragment.from(_e?_e.type.create(_e.attrs,de):Y.node(qe).copy(de))}te.step(new we(ne,ne,new h.Slice(K.append(de),G,G),!0))}function gn(te,ne){var G=te.resolve(ne),V=G.index();return $t(G.nodeBefore,G.nodeAfter)&&G.parent.canReplace(V,V+1)}function En(te,ne){ne.content.size||te.type.compatibleContent(ne.type);for(var G=te.contentMatchAt(te.childCount),V=te.type.schema.linebreakReplacement,Y=0;Y<ne.childCount;Y++){var K=ne.child(Y),de=K.type==V?te.type.schema.nodes.text:K.type;if(G=G.matchType(de),!G||!te.type.allowsMarks(K.marks))return!1}return G.validEnd}function $t(te,ne){return!!(te&&ne&&!te.isLeaf&&En(te,ne))}function Rn(te,ne){for(var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,V=te.resolve(ne),Y=V.depth;;Y--){var K=void 0,de=void 0,qe=V.index(Y);if(Y==V.depth?(K=V.nodeBefore,de=V.nodeAfter):G>0?(K=V.node(Y+1),qe++,de=V.node(Y).maybeChild(qe)):(K=V.node(Y).maybeChild(qe-1),de=V.node(Y+1)),K&&!K.isTextblock&&$t(K,de)&&V.node(Y).canReplace(qe,qe+1))return ne;if(Y==0)break;ne=G<0?V.before(Y):V.after(Y)}}function bt(te,ne,G){var V=null,Y=te.doc.type.schema.linebreakReplacement,K=te.doc.resolve(ne-G),de=K.node().type;if(Y&&de.inlineContent){var qe=de.whitespace=="pre",et=!!de.contentMatch.matchType(Y);qe&&!et?V=!1:!qe&&et&&(V=!0)}var Ne=te.steps.length;if(V===!1){var _e=te.doc.resolve(ne+G);Mt(te,_e.node(),_e.before(),Ne)}de.inlineContent&&Ce(te,ne+G-1,de,K.node().contentMatchAt(K.index()),V==null);var Ze=te.mapping.slice(Ne),nt=Ze.map(ne-G);if(te.step(new we(nt,Ze.map(ne+G,-1),h.Slice.empty,!0)),V===!0){var wt=te.doc.resolve(nt);Yt(te,wt.node(),wt.before(),te.steps.length)}return te}function mt(te,ne,G){var V=te.resolve(ne);if(V.parent.canReplaceWith(V.index(),V.index(),G))return ne;if(V.parentOffset==0)for(var Y=V.depth-1;Y>=0;Y--){var K=V.index(Y);if(V.node(Y).canReplaceWith(K,K,G))return V.before(Y+1);if(K>0)return null}if(V.parentOffset==V.parent.content.size)for(var de=V.depth-1;de>=0;de--){var qe=V.indexAfter(de);if(V.node(de).canReplaceWith(qe,qe,G))return V.after(de+1);if(qe<V.node(de).childCount)return null}return null}function Et(te,ne,G){var V=te.resolve(ne);if(!G.content.size)return ne;for(var Y=G.content,K=0;K<G.openStart;K++)Y=Y.firstChild.content;for(var de=1;de<=(G.openStart==0&&G.size?2:1);de++)for(var qe=V.depth;qe>=0;qe--){var et=qe==V.depth?0:V.pos<=(V.start(qe+1)+V.end(qe+1))/2?-1:1,Ne=V.index(qe)+(et>0?1:0),_e=V.node(qe),Ze=!1;if(de==1)Ze=_e.canReplace(Ne,Ne,Y);else{var nt=_e.contentMatchAt(Ne).findWrapping(Y.firstChild.type);Ze=nt&&_e.canReplaceWith(Ne,Ne,nt[0])}if(Ze)return et==0?V.pos:et<0?V.before(qe+1):V.after(qe+1)}return null}function Ft(te,ne){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ne,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h.Slice.empty;if(ne==G&&!V.size)return null;var Y=te.resolve(ne),K=te.resolve(G);return Gt(Y,K,V)?new we(ne,G,V):new Nn(Y,K,V).fit()}function Gt(te,ne,G){return!G.openStart&&!G.openEnd&&te.start()==ne.start()&&te.parent.canReplace(te.index(),ne.index(),G.content)}var Nn=function(){function te(ne,G,V){y(this,te),this.$from=ne,this.$to=G,this.unplaced=V,this.frontier=[],this.placed=h.Fragment.empty;for(var Y=0;Y<=ne.depth;Y++){var K=ne.node(Y);this.frontier.push({type:K.type,match:K.contentMatchAt(ne.indexAfter(Y))})}for(var de=ne.depth;de>0;de--)this.placed=h.Fragment.from(ne.node(de).copy(this.placed))}return x(te,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var G=this.findFittable();G?this.placeNodes(G):this.openMore()||this.dropNode()}var V=this.mustMoveInline(),Y=this.placed.size-this.depth-this.$from.depth,K=this.$from,de=this.close(V<0?this.$to:K.doc.resolve(V));if(!de)return null;for(var qe=this.placed,et=K.depth,Ne=de.depth;et&&Ne&&qe.childCount==1;)qe=qe.firstChild.content,et--,Ne--;var _e=new h.Slice(qe,et,Ne);return V>-1?new Fe(K.pos,V,this.$to.pos,this.$to.end(),_e,Y):_e.size||K.pos!=this.$to.pos?new we(K.pos,de.pos,_e):null}},{key:"findFittable",value:function(){for(var G=this.unplaced.openStart,V=this.unplaced.content,Y=0,K=this.unplaced.openEnd;Y<G;Y++){var de=V.firstChild;if(V.childCount>1&&(K=0),de.type.spec.isolating&&K<=Y){G=Y;break}V=de.content}for(var qe=1;qe<=2;qe++)for(var et=qe==1?G:this.unplaced.openStart;et>=0;et--){var Ne=void 0,_e=null;et?(_e=Qt(this.unplaced.content,et-1).firstChild,Ne=_e.content):Ne=this.unplaced.content;for(var Ze=Ne.firstChild,nt=this.depth;nt>=0;nt--){var wt=this.frontier[nt],Ht=wt.type,J=wt.match,U=void 0,T=null;if(qe==1&&(Ze?J.matchType(Ze.type)||(T=J.fillBefore(h.Fragment.from(Ze),!1)):_e&&Ht.compatibleContent(_e.type)))return{sliceDepth:et,frontierDepth:nt,parent:_e,inject:T};if(qe==2&&Ze&&(U=J.findWrapping(Ze.type)))return{sliceDepth:et,frontierDepth:nt,parent:_e,wrap:U};if(_e&&J.matchType(_e.type))break}}}},{key:"openMore",value:function(){var G=this.unplaced,V=G.content,Y=G.openStart,K=G.openEnd,de=Qt(V,Y);return!de.childCount||de.firstChild.isLeaf?!1:(this.unplaced=new h.Slice(V,Y+1,Math.max(K,de.size+Y>=V.size-K?Y+1:0)),!0)}},{key:"dropNode",value:function(){var G=this.unplaced,V=G.content,Y=G.openStart,K=G.openEnd,de=Qt(V,Y);if(de.childCount<=1&&Y>0){var qe=V.size-Y<=Y+de.size;this.unplaced=new h.Slice(hn(V,Y-1,1),Y-1,qe?Y-1:K)}else this.unplaced=new h.Slice(hn(V,Y,1),Y,K)}},{key:"placeNodes",value:function(G){for(var V=G.sliceDepth,Y=G.frontierDepth,K=G.parent,de=G.inject,qe=G.wrap;this.depth>Y;)this.closeFrontierNode();if(qe)for(var et=0;et<qe.length;et++)this.openFrontierNode(qe[et]);var Ne=this.unplaced,_e=K?K.content:Ne.content,Ze=Ne.openStart-V,nt=0,wt=[],Ht=this.frontier[Y],J=Ht.match,U=Ht.type;if(de){for(var T=0;T<de.childCount;T++)wt.push(de.child(T));J=J.matchFragment(de)}for(var M=_e.size+V-(Ne.content.size-Ne.openEnd);nt<_e.childCount;){var q=_e.child(nt),X=J.matchType(q.type);if(!X)break;nt++,(nt>1||Ze==0||q.content.size)&&(J=X,wt.push(lr(q.mark(U.allowedMarks(q.marks)),nt==1?Ze:0,nt==_e.childCount?M:-1)))}var oe=nt==_e.childCount;oe||(M=-1),this.placed=an(this.placed,Y,h.Fragment.from(wt)),this.frontier[Y].match=J,oe&&M<0&&K&&K.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var Te=0,ze=_e;Te<M;Te++){var Ke=ze.lastChild;this.frontier.push({type:Ke.type,match:Ke.contentMatchAt(Ke.childCount)}),ze=Ke.content}this.unplaced=oe?V==0?h.Slice.empty:new h.Slice(hn(Ne.content,V-1,1),V-1,M<0?Ne.openEnd:V-1):new h.Slice(hn(Ne.content,V,nt),Ne.openStart,Ne.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var G=this.frontier[this.depth],V;if(!G.type.isTextblock||!Hn(this.$to,this.$to.depth,G.type,G.match,!1)||this.$to.depth==this.depth&&(V=this.findCloseLevel(this.$to))&&V.depth==this.depth)return-1;for(var Y=this.$to.depth,K=this.$to.after(Y);Y>1&&K==this.$to.end(--Y);)++K;return K}},{key:"findCloseLevel",value:function(G){e:for(var V=Math.min(this.depth,G.depth);V>=0;V--){var Y=this.frontier[V],K=Y.match,de=Y.type,qe=V<G.depth&&G.end(V+1)==G.pos+(G.depth-(V+1)),et=Hn(G,V,de,K,qe);if(et){for(var Ne=V-1;Ne>=0;Ne--){var _e=this.frontier[Ne],Ze=_e.match,nt=_e.type,wt=Hn(G,Ne,nt,Ze,!0);if(!wt||wt.childCount)continue e}return{depth:V,fit:et,move:qe?G.doc.resolve(G.after(V+1)):G}}}}},{key:"close",value:function(G){var V=this.findCloseLevel(G);if(!V)return null;for(;this.depth>V.depth;)this.closeFrontierNode();V.fit.childCount&&(this.placed=an(this.placed,V.depth,V.fit)),G=V.move;for(var Y=V.depth+1;Y<=G.depth;Y++){var K=G.node(Y),de=K.type.contentMatch.fillBefore(K.content,!0,G.index(Y));this.openFrontierNode(K.type,K.attrs,de)}return G}},{key:"openFrontierNode",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Y=arguments.length>2?arguments[2]:void 0,K=this.frontier[this.depth];K.match=K.match.matchType(G),this.placed=an(this.placed,this.depth,h.Fragment.from(G.create(V,Y))),this.frontier.push({type:G,match:G.contentMatch})}},{key:"closeFrontierNode",value:function(){var G=this.frontier.pop(),V=G.match.fillBefore(h.Fragment.empty,!0);V.childCount&&(this.placed=an(this.placed,this.frontier.length,V))}}]),te}();function hn(te,ne,G){return ne==0?te.cutByIndex(G,te.childCount):te.replaceChild(0,te.firstChild.copy(hn(te.firstChild.content,ne-1,G)))}function an(te,ne,G){return ne==0?te.append(G):te.replaceChild(te.childCount-1,te.lastChild.copy(an(te.lastChild.content,ne-1,G)))}function Qt(te,ne){for(var G=0;G<ne;G++)te=te.firstChild.content;return te}function lr(te,ne,G){if(ne<=0)return te;var V=te.content;return ne>1&&(V=V.replaceChild(0,lr(V.firstChild,ne-1,V.childCount==1?G-1:0))),ne>0&&(V=te.type.contentMatch.fillBefore(V).append(V),G<=0&&(V=V.append(te.type.contentMatch.matchFragment(V).fillBefore(h.Fragment.empty,!0)))),te.copy(V)}function Hn(te,ne,G,V,Y){var K=te.node(ne),de=Y?te.indexAfter(ne):te.index(ne);if(de==K.childCount&&!G.compatibleContent(K.type))return null;var qe=V.fillBefore(K.content,!0,de);return qe&&!Er(G,K.content,de)?qe:null}function Er(te,ne,G){for(var V=G;V<ne.childCount;V++)if(!te.allowsMarks(ne.child(V).marks))return!0;return!1}function fr(te){return te.spec.defining||te.spec.definingForContent}function dr(te,ne,G,V){if(!V.size)return te.deleteRange(ne,G);var Y=te.doc.resolve(ne),K=te.doc.resolve(G);if(Gt(Y,K,V))return te.step(new we(ne,G,V));var de=se(Y,te.doc.resolve(G));de[de.length-1]==0&&de.pop();var qe=-(Y.depth+1);de.unshift(qe);for(var et=Y.depth,Ne=Y.pos-1;et>0;et--,Ne--){var _e=Y.node(et).type.spec;if(_e.defining||_e.definingAsContext||_e.isolating)break;de.indexOf(et)>-1?qe=et:Y.before(et)==Ne&&de.splice(1,0,-et)}for(var Ze=de.indexOf(qe),nt=[],wt=V.openStart,Ht=V.content,J=0;;J++){var U=Ht.firstChild;if(nt.push(U),J==V.openStart)break;Ht=U.content}for(var T=wt-1;T>=0;T--){var M=nt[T],q=fr(M.type);if(q&&!M.sameMarkup(Y.node(Math.abs(qe)-1)))wt=T;else if(q||!M.type.isTextblock)break}for(var X=V.openStart;X>=0;X--){var oe=(X+wt+1)%(V.openStart+1),Te=nt[oe];if(Te)for(var ze=0;ze<de.length;ze++){var Ke=de[(ze+Ze)%de.length],ft=!0;Ke<0&&(ft=!1,Ke=-Ke);var pt=Y.node(Ke-1),kt=Y.index(Ke-1);if(pt.canReplaceWith(kt,kt,Te.type,Te.marks))return te.replace(Y.before(Ke),ft?K.after(Ke):G,new h.Slice(Qn(V.content,0,V.openStart,oe),oe,V.openEnd))}}for(var Rt=te.steps.length,mn=de.length-1;mn>=0&&(te.replace(ne,G,V),!(te.steps.length>Rt));mn--){var qn=de[mn];qn<0||(ne=Y.before(qn),G=K.after(qn))}}function Qn(te,ne,G,V,Y){if(ne<G){var K=te.firstChild;te=te.replaceChild(0,K.copy(Qn(K.content,ne+1,G,V,K)))}if(ne>V){var de=Y.contentMatchAt(0),qe=de.fillBefore(te).append(te);te=qe.append(de.matchFragment(qe).fillBefore(h.Fragment.empty,!0))}return te}function ar(te,ne,G,V){if(!V.isInline&&ne==G&&te.doc.resolve(ne).parent.content.size){var Y=mt(te.doc,ne,V.type);Y!=null&&(ne=G=Y)}te.replaceRange(ne,G,new h.Slice(h.Fragment.from(V),0,0))}function Ar(te,ne,G){for(var V=te.doc.resolve(ne),Y=te.doc.resolve(G),K=se(V,Y),de=0;de<K.length;de++){var qe=K[de],et=de==K.length-1;if(et&&qe==0||V.node(qe).type.contentMatch.validEnd)return te.delete(V.start(qe),Y.end(qe));if(qe>0&&(et||V.node(qe-1).canReplace(V.index(qe-1),Y.indexAfter(qe-1))))return te.delete(V.before(qe),Y.after(qe))}for(var Ne=1;Ne<=V.depth&&Ne<=Y.depth;Ne++)if(ne-V.start(Ne)==V.depth-Ne&&G>V.end(Ne)&&Y.end(Ne)-G!=Y.depth-Ne&&V.start(Ne-1)==Y.start(Ne-1)&&V.node(Ne-1).canReplace(V.index(Ne-1),Y.index(Ne-1)))return te.delete(V.before(Ne),G);te.delete(ne,G)}function se(te,ne){for(var G=[],V=Math.min(te.depth,ne.depth),Y=V;Y>=0;Y--){var K=te.start(Y);if(K<te.pos-(te.depth-Y)||ne.end(Y)>ne.pos+(ne.depth-Y)||te.node(Y).type.spec.isolating||ne.node(Y).type.spec.isolating)break;(K==ne.start(Y)||Y==te.depth&&Y==ne.depth&&te.parent.inlineContent&&ne.parent.inlineContent&&Y&&ne.start(Y-1)==K-1)&&G.push(Y)}return G}var he=function(te){i(G,te);var ne=o(G);function G(V,Y,K){var de;return y(this,G),de=ne.call(this),de.pos=V,de.attr=Y,de.value=K,de}return x(G,[{key:"apply",value:function(Y){var K=Y.nodeAt(this.pos);if(!K)return Ue.fail("No node at attribute step's position");var de=Object.create(null);for(var qe in K.attrs)de[qe]=K.attrs[qe];de[this.attr]=this.value;var et=K.type.create(de,null,K.marks);return Ue.fromReplace(Y,this.pos,this.pos+1,new h.Slice(h.Fragment.from(et),0,K.isLeaf?0:1))}},{key:"getMap",value:function(){return ie.empty}},{key:"invert",value:function(Y){return new G(this.pos,this.attr,Y.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(Y){var K=Y.mapResult(this.pos,1);return K.deletedAfter?null:new G(K.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(Y,K){if(typeof K.pos!="number"||typeof K.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new G(K.pos,K.attr,K.value)}}]),G}(Ve);Ve.jsonID("attr",he);var Oe=function(te){i(G,te);var ne=o(G);function G(V,Y){var K;return y(this,G),K=ne.call(this),K.attr=V,K.value=Y,K}return x(G,[{key:"apply",value:function(Y){var K=Object.create(null);for(var de in Y.attrs)K[de]=Y.attrs[de];K[this.attr]=this.value;var qe=Y.type.create(K,Y.content,Y.marks);return Ue.ok(qe)}},{key:"getMap",value:function(){return ie.empty}},{key:"invert",value:function(Y){return new G(this.attr,Y.attrs[this.attr])}},{key:"map",value:function(Y){return this}},{key:"toJSON",value:function(){return{stepType:"docAttr",attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(Y,K){if(typeof K.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new G(K.attr,K.value)}}]),G}(Ve);Ve.jsonID("docAttr",Oe),n.TransformError=function(te){i(G,te);var ne=o(G);function G(){return y(this,G),ne.apply(this,arguments)}return x(G)}(e(Error)),n.TransformError=function te(ne){var G=Error.call(this,ne);return G.__proto__=te.prototype,G},n.TransformError.prototype=Object.create(Error.prototype),n.TransformError.prototype.constructor=n.TransformError,n.TransformError.prototype.name="TransformError";var Xe=function(){function te(ne){y(this,te),this.doc=ne,this.steps=[],this.docs=[],this.mapping=new pe}return x(te,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(G){var V=this.maybeStep(G);if(V.failed)throw new n.TransformError(V.failed);return this}},{key:"maybeStep",value:function(G){var V=G.apply(this.doc);return V.failed||this.addStep(G,V.doc),V}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(G,V){this.docs.push(this.doc),this.steps.push(G),this.mapping.appendMap(G.getMap()),this.doc=V}},{key:"replace",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.Slice.empty,K=Ft(this.doc,G,V,Y);return K&&this.step(K),this}},{key:"replaceWith",value:function(G,V,Y){return this.replace(G,V,new h.Slice(h.Fragment.from(Y),0,0))}},{key:"delete",value:function(G,V){return this.replace(G,V,h.Slice.empty)}},{key:"insert",value:function(G,V){return this.replaceWith(G,G,V)}},{key:"replaceRange",value:function(G,V,Y){return dr(this,G,V,Y),this}},{key:"replaceRangeWith",value:function(G,V,Y){return ar(this,G,V,Y),this}},{key:"deleteRange",value:function(G,V){return Ar(this,G,V),this}},{key:"lift",value:function(G,V){return fe(this,G,V),this}},{key:"join",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return bt(this,G,V),this}},{key:"wrap",value:function(G,V){return xt(this,G,V),this}},{key:"setBlockType",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,Y=arguments.length>2?arguments[2]:void 0,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Dt(this,G,V,Y,K),this}},{key:"setNodeMarkup",value:function(G,V){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,K=arguments.length>3?arguments[3]:void 0;return Wt(this,G,V,Y,K),this}},{key:"setNodeAttribute",value:function(G,V,Y){return this.step(new he(G,V,Y)),this}},{key:"setDocAttribute",value:function(G,V){return this.step(new Oe(G,V)),this}},{key:"addNodeMark",value:function(G,V){return this.step(new ye(G,V)),this}},{key:"removeNodeMark",value:function(G,V){var Y=this.doc.nodeAt(G);if(!Y)throw new RangeError("No node at position "+G);if(V instanceof h.Mark)V.isInSet(Y.marks)&&this.step(new Me(G,V));else{for(var K=Y.marks,de,qe=[];de=V.isInSet(K);)qe.push(new Me(G,de)),K=de.removeFromSet(K);for(var et=qe.length-1;et>=0;et--)this.step(qe[et])}return this}},{key:"split",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Y=arguments.length>2?arguments[2]:void 0;return Zt(this,G,V,Y),this}},{key:"addMark",value:function(G,V,Y){return Ae(this,G,V,Y),this}},{key:"removeMark",value:function(G,V,Y){return Ee(this,G,V,Y),this}},{key:"clearIncompatible",value:function(G,V,Y){return Ce(this,G,V,Y),this}}]),te}();n.AddMarkStep=Be,n.AddNodeMarkStep=ye,n.AttrStep=he,n.DocAttrStep=Oe,n.MapResult=me,n.Mapping=pe,n.RemoveMarkStep=Je,n.RemoveNodeMarkStep=Me,n.ReplaceAroundStep=Fe,n.ReplaceStep=we,n.Step=Ve,n.StepMap=ie,n.StepResult=Ue,n.Transform=Xe,n.canJoin=gn,n.canSplit=fn,n.dropPoint=Et,n.findWrapping=Re,n.insertPoint=mt,n.joinPoint=Rn,n.liftTarget=ge,n.replaceStep=Ft}(OT)),OT}var kO;function K1(){if(kO)return bo;kO=1;function n(Ee){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},n(Ee)}function e(){return typeof Reflect<"u"&&Reflect.get?e=Reflect.get:e=function(Ce,ve,ge){var fe=t(Ce,ve);if(fe){var Re=Object.getOwnPropertyDescriptor(fe,ve);return Re.get?Re.get.call(arguments.length<3?Ce:ge):Re.value}},e.apply(this,arguments)}function t(Ee,Ce){for(;!Object.prototype.hasOwnProperty.call(Ee,Ce)&&(Ee=f(Ee),Ee!==null););return Ee}function r(Ee,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),Ce&&i(Ee,Ce)}function i(Ee,Ce){return i=Object.setPrototypeOf||function(ge,fe){return ge.__proto__=fe,ge},i(Ee,Ce)}function a(Ee){var Ce=s();return function(){var ge=f(Ee),fe;if(Ce){var Re=f(this).constructor;fe=Reflect.construct(ge,arguments,Re)}else fe=ge.apply(this,arguments);return o(this,fe)}}function o(Ee,Ce){if(Ce&&(n(Ce)==="object"||typeof Ce=="function"))return Ce;if(Ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(Ee)}function l(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(Ee){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(ve){return ve.__proto__||Object.getPrototypeOf(ve)},f(Ee)}function c(Ee,Ce){if(!(Ee instanceof Ce))throw new TypeError("Cannot call a class as a function")}function v(Ee,Ce){for(var ve=0;ve<Ce.length;ve++){var ge=Ce[ve];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(Ee,ge.key,ge)}}function y(Ee,Ce,ve){return Ce&&v(Ee.prototype,Ce),ve&&v(Ee,ve),Object.defineProperty(Ee,"prototype",{writable:!1}),Ee}Object.defineProperty(bo,"__esModule",{value:!0});var k=Z1(),x=d2(),R=Object.create(null),d=function(){function Ee(Ce,ve,ge){c(this,Ee),this.$anchor=Ce,this.$head=ve,this.ranges=ge||[new h(Ce.min(ve),Ce.max(ve))]}return y(Ee,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var ve=this.ranges,ge=0;ge<ve.length;ge++)if(ve[ge].$from.pos!=ve[ge].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(ve){for(var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k.Slice.empty,fe=ge.content.lastChild,Re=null,We=0;We<ge.openEnd;We++)Re=fe,fe=fe.lastChild;for(var it=ve.steps.length,ht=this.ranges,xt=0;xt<ht.length;xt++){var Dt=ht[xt],Yt=Dt.$from,Mt=Dt.$to,on=ve.mapping.slice(it);ve.replaceRange(on.map(Yt.pos),on.map(Mt.pos),xt?k.Slice.empty:ge),xt==0&&me(ve,it,(fe?fe.isInline:Re&&Re.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(ve,ge){for(var fe=ve.steps.length,Re=this.ranges,We=0;We<Re.length;We++){var it=Re[We],ht=it.$from,xt=it.$to,Dt=ve.mapping.slice(fe),Yt=Dt.map(ht.pos),Mt=Dt.map(xt.pos);We?ve.deleteRange(Yt,Mt):(ve.replaceRangeWith(Yt,Mt,ge),me(ve,fe,ge.isInline?-1:1))}}},{key:"getBookmark",value:function(){return D.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(ve,ge){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Re=ve.parent.inlineContent?new D(ve):ee(ve.node(0),ve.parent,ve.pos,ve.index(),ge,fe);if(Re)return Re;for(var We=ve.depth-1;We>=0;We--){var it=ge<0?ee(ve.node(0),ve.node(We),ve.before(We+1),ve.index(We),ge,fe):ee(ve.node(0),ve.node(We),ve.after(We+1),ve.index(We)+1,ge,fe);if(it)return it}return null}},{key:"near",value:function(ve){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.findFrom(ve,ge)||this.findFrom(ve,-ge)||new $(ve.node(0))}},{key:"atStart",value:function(ve){return ee(ve,ve,0,0,1)||new $(ve)}},{key:"atEnd",value:function(ve){return ee(ve,ve,ve.content.size,ve.childCount,-1)||new $(ve)}},{key:"fromJSON",value:function(ve,ge){if(!ge||!ge.type)throw new RangeError("Invalid input for Selection.fromJSON");var fe=R[ge.type];if(!fe)throw new RangeError("No selection type ".concat(ge.type," defined"));return fe.fromJSON(ve,ge)}},{key:"jsonID",value:function(ve,ge){if(ve in R)throw new RangeError("Duplicate use of selection JSON ID "+ve);return R[ve]=ge,ge.prototype.jsonID=ve,ge}}]),Ee}();d.prototype.visible=!0;var h=y(function Ee(Ce,ve){c(this,Ee),this.$from=Ce,this.$to=ve}),w=!1;function A(Ee){!w&&!Ee.parent.inlineContent&&(w=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+Ee.parent.type.name+")"))}var D=function(Ee){r(ve,Ee);var Ce=a(ve);function ve(ge){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ge;return c(this,ve),A(ge),A(fe),Ce.call(this,ge,fe)}return y(ve,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(fe,Re){var We=fe.resolve(Re.map(this.head));if(!We.parent.inlineContent)return d.near(We);var it=fe.resolve(Re.map(this.anchor));return new ve(it.parent.inlineContent?it:We,We)}},{key:"replace",value:function(fe){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k.Slice.empty;if(e(f(ve.prototype),"replace",this).call(this,fe,Re),Re==k.Slice.empty){var We=this.$from.marksAcross(this.$to);We&&fe.ensureMarks(We)}}},{key:"eq",value:function(fe){return fe instanceof ve&&fe.anchor==this.anchor&&fe.head==this.head}},{key:"getBookmark",value:function(){return new I(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(fe,Re){if(typeof Re.anchor!="number"||typeof Re.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ve(fe.resolve(Re.anchor),fe.resolve(Re.head))}},{key:"create",value:function(fe,Re){var We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Re,it=fe.resolve(Re);return new this(it,We==Re?it:fe.resolve(We))}},{key:"between",value:function(fe,Re,We){var it=fe.pos-Re.pos;if((!We||it)&&(We=it>=0?1:-1),!Re.parent.inlineContent){var ht=d.findFrom(Re,We,!0)||d.findFrom(Re,-We,!0);if(ht)Re=ht.$head;else return d.near(Re,We)}return fe.parent.inlineContent||(it==0?fe=Re:(fe=(d.findFrom(fe,-We,!0)||d.findFrom(fe,We,!0)).$anchor,fe.pos<Re.pos!=it<0&&(fe=Re))),new ve(fe,Re)}}]),ve}(d);d.jsonID("text",D);var I=function(){function Ee(Ce,ve){c(this,Ee),this.anchor=Ce,this.head=ve}return y(Ee,[{key:"map",value:function(ve){return new Ee(ve.map(this.anchor),ve.map(this.head))}},{key:"resolve",value:function(ve){return D.between(ve.resolve(this.anchor),ve.resolve(this.head))}}]),Ee}(),O=function(Ee){r(ve,Ee);var Ce=a(ve);function ve(ge){var fe;c(this,ve);var Re=ge.nodeAfter,We=ge.node(0).resolve(ge.pos+Re.nodeSize);return fe=Ce.call(this,ge,We),fe.node=Re,fe}return y(ve,[{key:"map",value:function(fe,Re){var We=Re.mapResult(this.anchor),it=We.deleted,ht=We.pos,xt=fe.resolve(ht);return it?d.near(xt):new ve(xt)}},{key:"content",value:function(){return new k.Slice(k.Fragment.from(this.node),0,0)}},{key:"eq",value:function(fe){return fe instanceof ve&&fe.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new F(this.anchor)}}],[{key:"fromJSON",value:function(fe,Re){if(typeof Re.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ve(fe.resolve(Re.anchor))}},{key:"create",value:function(fe,Re){return new ve(fe.resolve(Re))}},{key:"isSelectable",value:function(fe){return!fe.isText&&fe.type.spec.selectable!==!1}}]),ve}(d);O.prototype.visible=!1,d.jsonID("node",O);var F=function(){function Ee(Ce){c(this,Ee),this.anchor=Ce}return y(Ee,[{key:"map",value:function(ve){var ge=ve.mapResult(this.anchor),fe=ge.deleted,Re=ge.pos;return fe?new I(Re,Re):new Ee(Re)}},{key:"resolve",value:function(ve){var ge=ve.resolve(this.anchor),fe=ge.nodeAfter;return fe&&O.isSelectable(fe)?new O(ge):d.near(ge)}}]),Ee}(),$=function(Ee){r(ve,Ee);var Ce=a(ve);function ve(ge){return c(this,ve),Ce.call(this,ge.resolve(0),ge.resolve(ge.content.size))}return y(ve,[{key:"replace",value:function(fe){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k.Slice.empty;if(Re==k.Slice.empty){fe.delete(0,fe.doc.content.size);var We=d.atStart(fe.doc);We.eq(fe.selection)||fe.setSelection(We)}else e(f(ve.prototype),"replace",this).call(this,fe,Re)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(fe){return new ve(fe)}},{key:"eq",value:function(fe){return fe instanceof ve}},{key:"getBookmark",value:function(){return z}}],[{key:"fromJSON",value:function(fe){return new ve(fe)}}]),ve}(d);d.jsonID("all",$);var z={map:function(){return this},resolve:function(Ce){return new $(Ce)}};function ee(Ee,Ce,ve,ge,fe){var Re=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(Ce.inlineContent)return D.create(Ee,ve);for(var We=ge-(fe>0?0:1);fe>0?We<Ce.childCount:We>=0;We+=fe){var it=Ce.child(We);if(it.isAtom){if(!Re&&O.isSelectable(it))return O.create(Ee,ve-(fe<0?it.nodeSize:0))}else{var ht=ee(Ee,it,ve+fe,fe<0?it.childCount:0,fe,Re);if(ht)return ht}ve+=it.nodeSize*fe}return null}function me(Ee,Ce,ve){var ge=Ee.steps.length-1;if(!(ge<Ce)){var fe=Ee.steps[ge];if(fe instanceof x.ReplaceStep||fe instanceof x.ReplaceAroundStep){var Re=Ee.mapping.maps[ge],We;Re.forEach(function(it,ht,xt,Dt){We==null&&(We=Dt)}),Ee.setSelection(d.near(Ee.doc.resolve(We),ve))}}}var ie=1,pe=2,be=4,Ve=function(Ee){r(ve,Ee);var Ce=a(ve);function ve(ge){var fe;return c(this,ve),fe=Ce.call(this,ge.doc),fe.curSelectionFor=0,fe.updated=0,fe.meta=Object.create(null),fe.time=Date.now(),fe.curSelection=ge.selection,fe.storedMarks=ge.storedMarks,fe}return y(ve,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(fe){if(fe.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=fe,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ie)&-3,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(this.updated&ie)>0}},{key:"setStoredMarks",value:function(fe){return this.storedMarks=fe,this.updated|=pe,this}},{key:"ensureMarks",value:function(fe){return k.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),fe)||this.setStoredMarks(fe),this}},{key:"addStoredMark",value:function(fe){return this.ensureMarks(fe.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(fe){return this.ensureMarks(fe.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(this.updated&pe)>0}},{key:"addStep",value:function(fe,Re){e(f(ve.prototype),"addStep",this).call(this,fe,Re),this.updated=this.updated&-3,this.storedMarks=null}},{key:"setTime",value:function(fe){return this.time=fe,this}},{key:"replaceSelection",value:function(fe){return this.selection.replace(this,fe),this}},{key:"replaceSelectionWith",value:function(fe){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,We=this.selection;return Re&&(fe=fe.mark(this.storedMarks||(We.empty?We.$from.marks():We.$from.marksAcross(We.$to)||k.Mark.none))),We.replaceWith(this,fe),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(fe,Re,We){var it=this.doc.type.schema;if(Re==null)return fe?this.replaceSelectionWith(it.text(fe),!0):this.deleteSelection();if(We==null&&(We=Re),We=We??Re,!fe)return this.deleteRange(Re,We);var ht=this.storedMarks;if(!ht){var xt=this.doc.resolve(Re);ht=We==Re?xt.marks():xt.marksAcross(this.doc.resolve(We))}return this.replaceRangeWith(Re,We,it.text(fe,ht)),this.selection.empty||this.setSelection(d.near(this.selection.$to)),this}},{key:"setMeta",value:function(fe,Re){return this.meta[typeof fe=="string"?fe:fe.key]=Re,this}},{key:"getMeta",value:function(fe){return this.meta[typeof fe=="string"?fe:fe.key]}},{key:"isGeneric",get:function(){for(var fe in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=be,this}},{key:"scrolledIntoView",get:function(){return(this.updated&be)>0}}]),ve}(x.Transform);function Ue(Ee,Ce){return!Ce||!Ee?Ee:Ee.bind(Ce)}var Ge=y(function Ee(Ce,ve,ge){c(this,Ee),this.name=Ce,this.init=Ue(ve.init,ge),this.apply=Ue(ve.apply,ge)}),Be=[new Ge("doc",{init:function(Ce){return Ce.doc||Ce.schema.topNodeType.createAndFill()},apply:function(Ce){return Ce.doc}}),new Ge("selection",{init:function(Ce,ve){return Ce.selection||d.atStart(ve.doc)},apply:function(Ce){return Ce.selection}}),new Ge("storedMarks",{init:function(Ce){return Ce.storedMarks||null},apply:function(Ce,ve,ge,fe){return fe.selection.$cursor?Ce.storedMarks:null}}),new Ge("scrollToSelection",{init:function(){return 0},apply:function(Ce,ve){return Ce.scrolledIntoView?ve+1:ve}})],Je=y(function Ee(Ce,ve){var ge=this;c(this,Ee),this.schema=Ce,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Be.slice(),ve&&ve.forEach(function(fe){if(ge.pluginsByKey[fe.key])throw new RangeError("Adding different instances of a keyed plugin ("+fe.key+")");ge.plugins.push(fe),ge.pluginsByKey[fe.key]=fe,fe.spec.state&&ge.fields.push(new Ge(fe.key,fe.spec.state,fe))})}),ye=function(){function Ee(Ce){c(this,Ee),this.config=Ce}return y(Ee,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(ve){return this.applyTransaction(ve).state}},{key:"filterTransaction",value:function(ve){for(var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,fe=0;fe<this.config.plugins.length;fe++)if(fe!=ge){var Re=this.config.plugins[fe];if(Re.spec.filterTransaction&&!Re.spec.filterTransaction.call(Re,ve,this))return!1}return!0}},{key:"applyTransaction",value:function(ve){if(!this.filterTransaction(ve))return{state:this,transactions:[]};for(var ge=[ve],fe=this.applyInner(ve),Re=null;;){for(var We=!1,it=0;it<this.config.plugins.length;it++){var ht=this.config.plugins[it];if(ht.spec.appendTransaction){var xt=Re?Re[it].n:0,Dt=Re?Re[it].state:this,Yt=xt<ge.length&&ht.spec.appendTransaction.call(ht,xt?ge.slice(xt):ge,Dt,fe);if(Yt&&fe.filterTransaction(Yt,it)){if(Yt.setMeta("appendedTransaction",ve),!Re){Re=[];for(var Mt=0;Mt<this.config.plugins.length;Mt++)Re.push(Mt<it?{state:fe,n:ge.length}:{state:this,n:0})}ge.push(Yt),fe=fe.applyInner(Yt),We=!0}Re&&(Re[it]={state:fe,n:ge.length})}}if(!We)return{state:fe,transactions:ge}}}},{key:"applyInner",value:function(ve){if(!ve.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var ge=new Ee(this.config),fe=this.config.fields,Re=0;Re<fe.length;Re++){var We=fe[Re];ge[We.name]=We.apply(ve,this[We.name],this,ge)}return ge}},{key:"tr",get:function(){return new Ve(this)}},{key:"reconfigure",value:function(ve){for(var ge=new Je(this.schema,ve.plugins),fe=ge.fields,Re=new Ee(ge),We=0;We<fe.length;We++){var it=fe[We].name;Re[it]=this.hasOwnProperty(it)?this[it]:fe[We].init(ve,Re)}return Re}},{key:"toJSON",value:function(ve){var ge={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(ge.storedMarks=this.storedMarks.map(function(it){return it.toJSON()})),ve&&n(ve)=="object")for(var fe in ve){if(fe=="doc"||fe=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var Re=ve[fe],We=Re.spec.state;We&&We.toJSON&&(ge[fe]=We.toJSON.call(Re,this[Re.key]))}return ge}}],[{key:"create",value:function(ve){for(var ge=new Je(ve.doc?ve.doc.type.schema:ve.schema,ve.plugins),fe=new Ee(ge),Re=0;Re<ge.fields.length;Re++)fe[ge.fields[Re].name]=ge.fields[Re].init(ve,fe);return fe}},{key:"fromJSON",value:function(ve,ge,fe){if(!ge)throw new RangeError("Invalid input for EditorState.fromJSON");if(!ve.schema)throw new RangeError("Required config field 'schema' missing");var Re=new Je(ve.schema,ve.plugins),We=new Ee(Re);return Re.fields.forEach(function(it){if(it.name=="doc")We.doc=k.Node.fromJSON(ve.schema,ge.doc);else if(it.name=="selection")We.selection=d.fromJSON(We.doc,ge.selection);else if(it.name=="storedMarks")ge.storedMarks&&(We.storedMarks=ge.storedMarks.map(ve.schema.markFromJSON));else{if(fe)for(var ht in fe){var xt=fe[ht],Dt=xt.spec.state;if(xt.key==it.name&&Dt&&Dt.fromJSON&&Object.prototype.hasOwnProperty.call(ge,ht)){We[it.name]=Dt.fromJSON.call(xt,ve,ge[ht],We);return}}We[it.name]=it.init(ve,We)}}),We}}]),Ee}();function Me(Ee,Ce,ve){for(var ge in Ee){var fe=Ee[ge];fe instanceof Function?fe=fe.bind(Ce):ge=="handleDOMEvents"&&(fe=Me(fe,Ce,{})),ve[ge]=fe}return ve}var we=function(){function Ee(Ce){c(this,Ee),this.spec=Ce,this.props={},Ce.props&&Me(Ce.props,this,this.props),this.key=Ce.key?Ce.key.key:ke("plugin")}return y(Ee,[{key:"getState",value:function(ve){return ve[this.key]}}]),Ee}(),Fe=Object.create(null);function ke(Ee){return Ee in Fe?Ee+"$"+ ++Fe[Ee]:(Fe[Ee]=0,Ee+"$")}var Ae=function(){function Ee(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"key";c(this,Ee),this.key=ke(Ce)}return y(Ee,[{key:"get",value:function(ve){return ve.config.pluginsByKey[this.key]}},{key:"getState",value:function(ve){return ve[this.key]}}]),Ee}();return bo.AllSelection=$,bo.EditorState=ye,bo.NodeSelection=O,bo.Plugin=we,bo.PluginKey=Ae,bo.Selection=d,bo.SelectionRange=h,bo.TextSelection=D,bo.Transaction=Ve,bo}var _O;function dot(){if(_O)return ka;_O=1;function n(A,D,I){return Object.defineProperty(A,"prototype",{writable:!1}),A}function e(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}var t=K1(),r=d2(),i=n(function A(D,I){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e(this,A),this.match=D,this.match=D,this.handler=typeof I=="string"?a(I):I,this.undoable=O.undoable!==!1,this.inCode=O.inCode||!1,this.inCodeMark=O.inCodeMark!==!1});function a(A){return function(D,I,O,F){var $=A;if(I[1]){var z=I[0].lastIndexOf(I[1]);$+=I[0].slice(z+I[1].length),O+=z;var ee=O-F;ee>0&&($=I[0].slice(z-ee,z)+$,O=F)}return D.tr.insertText($,O,F)}}var o=500;function l(A){var D=A.rules,I=new t.Plugin({state:{init:function(){return null},apply:function(F,$){var z=F.getMeta(this);return z||(F.selectionSet||F.docChanged?null:$)}},props:{handleTextInput:function(F,$,z,ee){return s(F,$,z,ee,D,I)},handleDOMEvents:{compositionend:function(F){setTimeout(function(){var $=F.state.selection.$cursor;$&&s(F,$.pos,$.pos,"",D,I)})}}},isInputRules:!0});return I}function s(A,D,I,O,F,$){if(A.composing)return!1;for(var z=A.state,ee=z.doc.resolve(D),me=ee.parent.textBetween(Math.max(0,ee.parentOffset-o),ee.parentOffset,null,"ï¿¼")+O,ie=0;ie<F.length;ie++){var pe=F[ie];if(!(!pe.inCodeMark&&ee.marks().some(function(Ue){return Ue.type.spec.code}))){if(ee.parent.type.spec.code){if(!pe.inCode)continue}else if(pe.inCode==="only")continue;var be=pe.match.exec(me),Ve=be&&be[0].length>=O.length&&pe.handler(z,be,D-(be[0].length-O.length),I);if(Ve)return pe.undoable&&Ve.setMeta($,{transform:Ve,from:D,to:I,text:O}),A.dispatch(Ve),!0}}return!1}var f=function(D,I){for(var O=D.plugins,F=0;F<O.length;F++){var $=O[F],z=void 0;if($.spec.isInputRules&&(z=$.getState(D))){if(I){for(var ee=D.tr,me=z.transform,ie=me.steps.length-1;ie>=0;ie--)ee.step(me.steps[ie].invert(me.docs[ie]));if(z.text){var pe=ee.doc.resolve(z.from).marks();ee.replaceWith(z.from,z.to,D.schema.text(z.text,pe))}else ee.delete(z.from,z.to);I(ee)}return!0}}return!1},c=new i(/--$/,"â",{inCodeMark:!1}),v=new i(/\.\.\.$/,"â¦",{inCodeMark:!1}),y=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"â",{inCodeMark:!1}),k=new i(/"$/,"â",{inCodeMark:!1}),x=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"â",{inCodeMark:!1}),R=new i(/'$/,"â",{inCodeMark:!1}),d=[y,k,x,R];function h(A,D){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,O=arguments.length>3?arguments[3]:void 0;return new i(A,function(F,$,z,ee){var me=I instanceof Function?I($):I,ie=F.tr.delete(z,ee),pe=ie.doc.resolve(z),be=pe.blockRange(),Ve=be&&r.findWrapping(be,D,me);if(!Ve)return null;ie.wrap(be,Ve);var Ue=ie.doc.resolve(z-1).nodeBefore;return Ue&&Ue.type==D&&r.canJoin(ie.doc,z-1)&&(!O||O($,Ue))&&ie.join(z-1),ie})}function w(A,D){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new i(A,function(O,F,$,z){var ee=O.doc.resolve($),me=I instanceof Function?I(F):I;return ee.node(-1).canReplaceWith(ee.index(-1),ee.indexAfter(-1),D)?O.tr.delete($,z).setBlockType($,$,D,me):null})}return ka.InputRule=i,ka.closeDoubleQuote=k,ka.closeSingleQuote=R,ka.ellipsis=v,ka.emDash=c,ka.inputRules=l,ka.openDoubleQuote=y,ka.openSingleQuote=x,ka.smartQuotes=d,ka.textblockTypeInputRule=w,ka.undoInputRule=f,ka.wrappingInputRule=h,ka}var Bm={},ad={},TO;function hot(){if(TO)return ad;TO=1,Object.defineProperty(ad,"__esModule",{value:!0});for(var n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},e={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},t=typeof navigator<"u"&&/Mac/.test(navigator.platform),r=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),i=0;i<10;i++)n[48+i]=n[96+i]=String(i);for(var i=1;i<=24;i++)n[i+111]="F"+i;for(var i=65;i<=90;i++)n[i]=String.fromCharCode(i+32),e[i]=String.fromCharCode(i);for(var a in n)e.hasOwnProperty(a)||(e[a]=n[a]);function o(l){var s=t&&l.metaKey&&l.shiftKey&&!l.ctrlKey&&!l.altKey||r&&l.shiftKey&&l.key&&l.key.length==1||l.key=="Unidentified",f=!s&&l.key||(l.shiftKey?e:n)[l.keyCode]||l.key||"Unidentified";return f=="Esc"&&(f="Escape"),f=="Del"&&(f="Delete"),f=="Left"&&(f="ArrowLeft"),f=="Up"&&(f="ArrowUp"),f=="Right"&&(f="ArrowRight"),f=="Down"&&(f="ArrowDown"),f}return ad.base=n,ad.keyName=o,ad.shift=e,ad}var SO;function pot(){if(SO)return Bm;SO=1;var n=hot(),e=K1(),t=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),r=typeof navigator<"u"&&/Win/.test(navigator.platform);function i(f){var c=f.split(/-(?!$)/),v=c[c.length-1];v=="Space"&&(v=" ");for(var y,k,x,R,d=0;d<c.length-1;d++){var h=c[d];if(/^(cmd|meta|m)$/i.test(h))R=!0;else if(/^a(lt)?$/i.test(h))y=!0;else if(/^(c|ctrl|control)$/i.test(h))k=!0;else if(/^s(hift)?$/i.test(h))x=!0;else if(/^mod$/i.test(h))t?R=!0:k=!0;else throw new Error("Unrecognized modifier name: "+h)}return y&&(v="Alt-"+v),k&&(v="Ctrl-"+v),R&&(v="Meta-"+v),x&&(v="Shift-"+v),v}function a(f){var c=Object.create(null);for(var v in f)c[i(v)]=f[v];return c}function o(f,c){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return c.altKey&&(f="Alt-"+f),c.ctrlKey&&(f="Ctrl-"+f),c.metaKey&&(f="Meta-"+f),v&&c.shiftKey&&(f="Shift-"+f),f}function l(f){return new e.Plugin({props:{handleKeyDown:s(f)}})}function s(f){var c=a(f);return function(v,y){var k=n.keyName(y),x,R=c[o(k,y)];if(R&&R(v.state,v.dispatch,v))return!0;if(k.length==1&&k!=" "){if(y.shiftKey){var d=c[o(k,y,!1)];if(d&&d(v.state,v.dispatch,v))return!0}if((y.altKey||y.metaKey||y.ctrlKey)&&!(r&&y.ctrlKey&&y.altKey)&&(x=n.base[y.keyCode])&&x!=k){var h=c[o(x,y)];if(h&&h(v.state,v.dispatch,v))return!0}}return!1}}return Bm.keydownHandler=s,Bm.keymap=l,Bm}var Cc={},EO;function vot(){if(EO)return Cc;EO=1;function n(g,E){return r(g)||t(g,E)||a(g,E)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(g,E){var m=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(m!=null){var S,L,B,W,j=[],re=!0,le=!1;try{if(B=(m=m.call(g)).next,E!==0)for(;!(re=(S=B.call(m)).done)&&(j.push(S.value),j.length!==E);re=!0);}catch(De){le=!0,L=De}finally{try{if(!re&&m.return!=null&&(W=m.return(),Object(W)!==W))return}finally{if(le)throw L}}return j}}function r(g){if(Array.isArray(g))return g}function i(g,E){var m=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!m){if(Array.isArray(g)||(m=a(g))||E){m&&(g=m);var S=0,L=function(){};return{s:L,n:function(){return S>=g.length?{done:!0}:{done:!1,value:g[S++]}},e:function(le){throw le},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B=!0,W=!1,j;return{s:function(){m=m.call(g)},n:function(){var le=m.next();return B=le.done,le},e:function(le){W=!0,j=le},f:function(){try{!B&&m.return!=null&&m.return()}finally{if(W)throw j}}}}function a(g,E){if(g){if(typeof g=="string")return o(g,E);var m=Object.prototype.toString.call(g).slice(8,-1);if(m==="Object"&&g.constructor&&(m=g.constructor.name),m==="Map"||m==="Set")return Array.from(g);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return o(g,E)}}function o(g,E){(E==null||E>g.length)&&(E=g.length);for(var m=0,S=new Array(E);m<E;m++)S[m]=g[m];return S}function l(){return typeof Reflect<"u"&&Reflect.get?l=Reflect.get.bind():l=function(E,m,S){var L=s(E,m);if(L){var B=Object.getOwnPropertyDescriptor(L,m);return B.get?B.get.call(arguments.length<3?E:S):B.value}},l.apply(this,arguments)}function s(g,E){for(;!Object.prototype.hasOwnProperty.call(g,E)&&(g=R(g),g!==null););return g}function f(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),E&&c(g,E)}function c(g,E){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,L){return S.__proto__=L,S},c(g,E)}function v(g){var E=x();return function(){var S=R(g),L;if(E){var B=R(this).constructor;L=Reflect.construct(S,arguments,B)}else L=S.apply(this,arguments);return y(this,L)}}function y(g,E){if(E&&(d(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(g)}function k(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(g){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},R(g)}function d(g){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},d(g)}function h(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function w(g,E){for(var m=0;m<E.length;m++){var S=E[m];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,D(S.key),S)}}function A(g,E,m){return E&&w(g.prototype,E),m&&w(g,m),Object.defineProperty(g,"prototype",{writable:!1}),g}function D(g){var E=I(g,"string");return d(E)==="symbol"?E:String(E)}function I(g,E){if(d(g)!=="object"||g===null)return g;var m=g[Symbol.toPrimitive];if(m!==void 0){var S=m.call(g,E);if(d(S)!=="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}var O=K1(),F=Z1(),$=d2(),z=function(E){for(var m=0;;m++)if(E=E.previousSibling,!E)return m},ee=function(E){var m=E.assignedSlot||E.parentNode;return m&&m.nodeType==11?m.host:m},me=null,ie=function(E,m,S){var L=me||(me=document.createRange());return L.setEnd(E,S??E.nodeValue.length),L.setStart(E,m||0),L},pe=function(){me=null},be=function(E,m,S,L){return S&&(Ue(E,m,S,L,-1)||Ue(E,m,S,L,1))},Ve=/^(img|br|input|textarea|hr)$/i;function Ue(g,E,m,S,L){for(;;){if(g==m&&E==S)return!0;if(E==(L<0?0:Ge(g))){var B=g.parentNode;if(!B||B.nodeType!=1||Me(g)||Ve.test(g.nodeName)||g.contentEditable=="false")return!1;E=z(g)+(L<0?0:1),g=B}else if(g.nodeType==1){if(g=g.childNodes[E+(L<0?-1:0)],g.contentEditable=="false")return!1;E=L<0?Ge(g):0}else return!1}}function Ge(g){return g.nodeType==3?g.nodeValue.length:g.childNodes.length}function Be(g,E){for(;;){if(g.nodeType==3&&E)return g;if(g.nodeType==1&&E>0){if(g.contentEditable=="false")return null;g=g.childNodes[E-1],E=Ge(g)}else if(g.parentNode&&!Me(g))E=z(g),g=g.parentNode;else return null}}function Je(g,E){for(;;){if(g.nodeType==3&&E<g.nodeValue.length)return g;if(g.nodeType==1&&E<g.childNodes.length){if(g.contentEditable=="false")return null;g=g.childNodes[E],E=0}else if(g.parentNode&&!Me(g))E=z(g)+1,g=g.parentNode;else return null}}function ye(g,E,m){for(var S=E==0,L=E==Ge(g);S||L;){if(g==m)return!0;var B=z(g);if(g=g.parentNode,!g)return!1;S=S&&B==0,L=L&&B==Ge(g)}}function Me(g){for(var E,m=g;m&&!(E=m.pmViewDesc);m=m.parentNode);return E&&E.node&&E.node.isBlock&&(E.dom==g||E.contentDOM==g)}var we=function(E){return E.focusNode&&be(E.focusNode,E.focusOffset,E.anchorNode,E.anchorOffset)};function Fe(g,E){var m=document.createEvent("Event");return m.initEvent("keydown",!0,!0),m.keyCode=g,m.key=m.code=E,m}function ke(g){for(var E=g.activeElement;E&&E.shadowRoot;)E=E.shadowRoot.activeElement;return E}function Ae(g,E,m){if(g.caretPositionFromPoint)try{var S=g.caretPositionFromPoint(E,m);if(S)return{node:S.offsetNode,offset:Math.min(Ge(S.offsetNode),S.offset)}}catch{}if(g.caretRangeFromPoint){var L=g.caretRangeFromPoint(E,m);if(L)return{node:L.startContainer,offset:Math.min(Ge(L.startContainer),L.startOffset)}}}var Ee=typeof navigator<"u"?navigator:null,Ce=typeof document<"u"?document:null,ve=Ee&&Ee.userAgent||"",ge=/Edge\/(\d+)/.exec(ve),fe=/MSIE \d/.exec(ve),Re=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ve),We=!!(fe||Re||ge),it=fe?document.documentMode:Re?+Re[1]:ge?+ge[1]:0,ht=!We&&/gecko\/(\d+)/i.test(ve);ht&&+(/Firefox\/(\d+)/.exec(ve)||[0,0])[1];var xt=!We&&/Chrome\/(\d+)/.exec(ve),Dt=!!xt,Yt=xt?+xt[1]:0,Mt=!We&&!!Ee&&/Apple Computer/.test(Ee.vendor),on=Mt&&(/Mobile\/\w+/.test(ve)||!!Ee&&Ee.maxTouchPoints>2),Wt=on||(Ee?/Mac/.test(Ee.platform):!1),fn=Ee?/Win/.test(Ee.platform):!1,Zt=/Android \d/.test(ve),gn=!!Ce&&"webkitFontSmoothing"in Ce.documentElement.style,En=gn?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function $t(g){var E=g.defaultView&&g.defaultView.visualViewport;return E?{left:0,right:E.width,top:0,bottom:E.height}:{left:0,right:g.documentElement.clientWidth,top:0,bottom:g.documentElement.clientHeight}}function Rn(g,E){return typeof g=="number"?g:g[E]}function bt(g){var E=g.getBoundingClientRect(),m=E.width/g.offsetWidth||1,S=E.height/g.offsetHeight||1;return{left:E.left,right:E.left+g.clientWidth*m,top:E.top,bottom:E.top+g.clientHeight*S}}function mt(g,E,m){for(var S=g.someProp("scrollThreshold")||0,L=g.someProp("scrollMargin")||5,B=g.dom.ownerDocument,W=m||g.dom;W;){if(W.nodeType!=1){W=ee(W);continue}var j=W,re=j==B.body,le=re?$t(B):bt(j),De=0,Ye=0;if(E.top<le.top+Rn(S,"top")?Ye=-(le.top-E.top+Rn(L,"top")):E.bottom>le.bottom-Rn(S,"bottom")&&(Ye=E.bottom-E.top>le.bottom-le.top?E.top+Rn(L,"top")-le.top:E.bottom-le.bottom+Rn(L,"bottom")),E.left<le.left+Rn(S,"left")?De=-(le.left-E.left+Rn(L,"left")):E.right>le.right-Rn(S,"right")&&(De=E.right-le.right+Rn(L,"right")),De||Ye)if(re)B.defaultView.scrollBy(De,Ye);else{var Pe=j.scrollLeft,tt=j.scrollTop;Ye&&(j.scrollTop+=Ye),De&&(j.scrollLeft+=De);var ct=j.scrollLeft-Pe,Tt=j.scrollTop-tt;E={left:E.left-ct,top:E.top-Tt,right:E.right-ct,bottom:E.bottom-Tt}}var It=re?"fixed":getComputedStyle(W).position;if(/^(fixed|sticky)$/.test(It))break;W=It=="absolute"?W.offsetParent:ee(W)}}function Et(g){for(var E=g.dom.getBoundingClientRect(),m=Math.max(0,E.top),S,L,B=(E.left+E.right)/2,W=m+1;W<Math.min(innerHeight,E.bottom);W+=5){var j=g.root.elementFromPoint(B,W);if(!(!j||j==g.dom||!g.dom.contains(j))){var re=j.getBoundingClientRect();if(re.top>=m-20){S=j,L=re.top;break}}}return{refDOM:S,refTop:L,stack:Ft(g.dom)}}function Ft(g){for(var E=[],m=g.ownerDocument,S=g;S&&(E.push({dom:S,top:S.scrollTop,left:S.scrollLeft}),g!=m);S=ee(S));return E}function Gt(g){var E=g.refDOM,m=g.refTop,S=g.stack,L=E?E.getBoundingClientRect().top:0;Nn(S,L==0?0:L-m)}function Nn(g,E){for(var m=0;m<g.length;m++){var S=g[m],L=S.dom,B=S.top,W=S.left;L.scrollTop!=B+E&&(L.scrollTop=B+E),L.scrollLeft!=W&&(L.scrollLeft=W)}}var hn=null;function an(g){if(g.setActive)return g.setActive();if(hn)return g.focus(hn);var E=Ft(g);g.focus(hn==null?{get preventScroll(){return hn={preventScroll:!0},!0}}:void 0),hn||(hn=!1,Nn(E,0))}function Qt(g,E){for(var m,S=2e8,L,B=0,W=E.top,j=E.top,re,le,De=g.firstChild,Ye=0;De;De=De.nextSibling,Ye++){var Pe=void 0;if(De.nodeType==1)Pe=De.getClientRects();else if(De.nodeType==3)Pe=ie(De).getClientRects();else continue;for(var tt=0;tt<Pe.length;tt++){var ct=Pe[tt];if(ct.top<=W&&ct.bottom>=j){W=Math.max(ct.bottom,W),j=Math.min(ct.top,j);var Tt=ct.left>E.left?ct.left-E.left:ct.right<E.left?E.left-ct.right:0;if(Tt<S){m=De,S=Tt,L=Tt&&m.nodeType==3?{left:ct.right<E.left?ct.right:ct.left,top:E.top}:E,De.nodeType==1&&Tt&&(B=Ye+(E.left>=(ct.left+ct.right)/2?1:0));continue}}else ct.top>E.top&&!re&&ct.left<=E.left&&ct.right>=E.left&&(re=De,le={left:Math.max(ct.left,Math.min(ct.right,E.left)),top:ct.top});!m&&(E.left>=ct.right&&E.top>=ct.top||E.left>=ct.left&&E.top>=ct.bottom)&&(B=Ye+1)}}return!m&&re&&(m=re,L=le,S=0),m&&m.nodeType==3?lr(m,L):!m||S&&m.nodeType==1?{node:g,offset:B}:Qt(m,L)}function lr(g,E){for(var m=g.nodeValue.length,S=document.createRange(),L=0;L<m;L++){S.setEnd(g,L+1),S.setStart(g,L);var B=se(S,1);if(B.top!=B.bottom&&Hn(E,B))return{node:g,offset:L+(E.left>=(B.left+B.right)/2?1:0)}}return{node:g,offset:0}}function Hn(g,E){return g.left>=E.left-1&&g.left<=E.right+1&&g.top>=E.top-1&&g.top<=E.bottom+1}function Er(g,E){var m=g.parentNode;return m&&/^li$/i.test(m.nodeName)&&E.left<g.getBoundingClientRect().left?m:g}function fr(g,E,m){var S=Qt(E,m),L=S.node,B=S.offset,W=-1;if(L.nodeType==1&&!L.firstChild){var j=L.getBoundingClientRect();W=j.left!=j.right&&m.left>(j.left+j.right)/2?1:-1}return g.docView.posFromDOM(L,B,W)}function dr(g,E,m,S){for(var L=-1,B=E,W=!1;B!=g.dom;){var j=g.docView.nearestDesc(B,!0),re=void 0;if(!j)return null;if(j.dom.nodeType==1&&(j.node.isBlock&&j.parent||!j.contentDOM)&&((re=j.dom.getBoundingClientRect()).width||re.height)&&(j.node.isBlock&&j.parent&&(!W&&re.left>S.left||re.top>S.top?L=j.posBefore:(!W&&re.right<S.left||re.bottom<S.top)&&(L=j.posAfter),W=!0),!j.contentDOM&&L<0&&!j.node.isText)){var le=j.node.isBlock?S.top<(re.top+re.bottom)/2:S.left<(re.left+re.right)/2;return le?j.posBefore:j.posAfter}B=j.dom.parentNode}return L>-1?L:g.docView.posFromDOM(E,m,-1)}function Qn(g,E,m){var S=g.childNodes.length;if(S&&m.top<m.bottom)for(var L=Math.max(0,Math.min(S-1,Math.floor(S*(E.top-m.top)/(m.bottom-m.top))-2)),B=L;;){var W=g.childNodes[B];if(W.nodeType==1)for(var j=W.getClientRects(),re=0;re<j.length;re++){var le=j[re];if(Hn(E,le))return Qn(W,E,le)}if((B=(B+1)%S)==L)break}return g}function ar(g,E){var m=g.dom.ownerDocument,S,L=0,B=Ae(m,E.left,E.top);B&&(S=B.node,L=B.offset);var W=(g.root.elementFromPoint?g.root:m).elementFromPoint(E.left,E.top),j;if(!W||!g.dom.contains(W.nodeType!=1?W.parentNode:W)){var re=g.dom.getBoundingClientRect();if(!Hn(E,re)||(W=Qn(g.dom,E,re),!W))return null}if(Mt)for(var le=W;S&&le;le=ee(le))le.draggable&&(S=void 0);if(W=Er(W,E),S){if(ht&&S.nodeType==1&&(L=Math.min(L,S.childNodes.length),L<S.childNodes.length)){var De=S.childNodes[L],Ye;De.nodeName=="IMG"&&(Ye=De.getBoundingClientRect()).right<=E.left&&Ye.bottom>E.top&&L++}var Pe;gn&&L&&S.nodeType==1&&(Pe=S.childNodes[L-1]).nodeType==1&&Pe.contentEditable=="false"&&Pe.getBoundingClientRect().top>=E.top&&L--,S==g.dom&&L==S.childNodes.length-1&&S.lastChild.nodeType==1&&E.top>S.lastChild.getBoundingClientRect().bottom?j=g.state.doc.content.size:(L==0||S.nodeType!=1||S.childNodes[L-1].nodeName!="BR")&&(j=dr(g,S,L,E))}j==null&&(j=fr(g,W,E));var tt=g.docView.nearestDesc(W,!0);return{pos:j,inside:tt?tt.posAtStart-tt.border:-1}}function Ar(g){return g.top<g.bottom||g.left<g.right}function se(g,E){var m=g.getClientRects();if(m.length){var S=m[E<0?0:m.length-1];if(Ar(S))return S}return Array.prototype.find.call(m,Ar)||g.getBoundingClientRect()}var he=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Oe(g,E,m){var S=g.docView.domFromPos(E,m<0?-1:1),L=S.node,B=S.offset,W=S.atom,j=gn||ht;if(L.nodeType==3)if(j&&(he.test(L.nodeValue)||(m<0?!B:B==L.nodeValue.length))){var re=se(ie(L,B,B),m);if(ht&&B&&/\s/.test(L.nodeValue[B-1])&&B<L.nodeValue.length){var le=se(ie(L,B-1,B-1),-1);if(le.top==re.top){var De=se(ie(L,B,B+1),-1);if(De.top!=re.top)return Xe(De,De.left<le.left)}}return re}else{var Ye=B,Pe=B,tt=m<0?1:-1;return m<0&&!B?(Pe++,tt=-1):m>=0&&B==L.nodeValue.length?(Ye--,tt=1):m<0?Ye--:Pe++,Xe(se(ie(L,Ye,Pe),tt),tt<0)}var ct=g.state.doc.resolve(E-(W||0));if(!ct.parent.inlineContent){if(W==null&&B&&(m<0||B==Ge(L))){var Tt=L.childNodes[B-1];if(Tt.nodeType==1)return te(Tt.getBoundingClientRect(),!1)}if(W==null&&B<Ge(L)){var It=L.childNodes[B];if(It.nodeType==1)return te(It.getBoundingClientRect(),!0)}return te(L.getBoundingClientRect(),m>=0)}if(W==null&&B&&(m<0||B==Ge(L))){var yt=L.childNodes[B-1],Jt=yt.nodeType==3?ie(yt,Ge(yt)-(j?0:1)):yt.nodeType==1&&(yt.nodeName!="BR"||!yt.nextSibling)?yt:null;if(Jt)return Xe(se(Jt,1),!1)}if(W==null&&B<Ge(L)){for(var jt=L.childNodes[B];jt.pmViewDesc&&jt.pmViewDesc.ignoreForCoords;)jt=jt.nextSibling;var Kt=jt?jt.nodeType==3?ie(jt,0,j?0:1):jt.nodeType==1?jt:null:null;if(Kt)return Xe(se(Kt,-1),!0)}return Xe(se(L.nodeType==3?ie(L):L,-m),m>=0)}function Xe(g,E){if(g.width==0)return g;var m=E?g.left:g.right;return{top:g.top,bottom:g.bottom,left:m,right:m}}function te(g,E){if(g.height==0)return g;var m=E?g.top:g.bottom;return{top:m,bottom:m,left:g.left,right:g.right}}function ne(g,E,m){var S=g.state,L=g.root.activeElement;S!=E&&g.updateState(E),L!=g.dom&&g.focus();try{return m()}finally{S!=E&&g.updateState(S),L!=g.dom&&L&&L.focus()}}function G(g,E,m){var S=E.selection,L=m=="up"?S.$from:S.$to;return ne(g,E,function(){for(var B=g.docView.domFromPos(L.pos,m=="up"?-1:1),W=B.node;;){var j=g.docView.nearestDesc(W,!0);if(!j)break;if(j.node.isBlock){W=j.contentDOM||j.dom;break}W=j.dom.parentNode}for(var re=Oe(g,L.pos,1),le=W.firstChild;le;le=le.nextSibling){var De=void 0;if(le.nodeType==1)De=le.getClientRects();else if(le.nodeType==3)De=ie(le,0,le.nodeValue.length).getClientRects();else continue;for(var Ye=0;Ye<De.length;Ye++){var Pe=De[Ye];if(Pe.bottom>Pe.top+1&&(m=="up"?re.top-Pe.top>(Pe.bottom-re.top)*2:Pe.bottom-re.bottom>(re.bottom-Pe.top)*2))return!1}}return!0})}var V=/[\u0590-\u08ac]/;function Y(g,E,m){var S=E.selection.$head;if(!S.parent.isTextblock)return!1;var L=S.parentOffset,B=!L,W=L==S.parent.content.size,j=g.domSelection();return j?!V.test(S.parent.textContent)||!j.modify?m=="left"||m=="backward"?B:W:ne(g,E,function(){var re=g.domSelectionRange(),le=re.focusNode,De=re.focusOffset,Ye=re.anchorNode,Pe=re.anchorOffset,tt=j.caretBidiLevel;j.modify("move",m,"character");var ct=S.depth?g.docView.domAfterPos(S.before()):g.dom,Tt=g.domSelectionRange(),It=Tt.focusNode,yt=Tt.focusOffset,Jt=It&&!ct.contains(It.nodeType==1?It:It.parentNode)||le==It&&De==yt;try{j.collapse(Ye,Pe),le&&(le!=Ye||De!=Pe)&&j.extend&&j.extend(le,De)}catch{}return tt!=null&&(j.caretBidiLevel=tt),Jt}):S.pos==S.start()||S.pos==S.end()}var K=null,de=null,qe=!1;function et(g,E,m){return K==E&&de==m?qe:(K=E,de=m,qe=m=="up"||m=="down"?G(g,E,m):Y(g,E,m))}var Ne=0,_e=1,Ze=2,nt=3,wt=function(){function g(E,m,S,L){h(this,g),this.parent=E,this.children=m,this.dom=S,this.contentDOM=L,this.dirty=Ne,S.pmViewDesc=this}return A(g,[{key:"matchesWidget",value:function(m){return!1}},{key:"matchesMark",value:function(m){return!1}},{key:"matchesNode",value:function(m,S,L){return!1}},{key:"matchesHack",value:function(m){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(m){return!1}},{key:"size",get:function(){for(var m=0,S=0;S<this.children.length;S++)m+=this.children[S].size;return m}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var m=0;m<this.children.length;m++)this.children[m].destroy()}},{key:"posBeforeChild",value:function(m){for(var S=0,L=this.posAtStart;;S++){var B=this.children[S];if(B==m)return L;L+=B.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(m,S,L){if(this.contentDOM&&this.contentDOM.contains(m.nodeType==1?m:m.parentNode))if(L<0){var B,W;if(m==this.contentDOM)B=m.childNodes[S-1];else{for(;m.parentNode!=this.contentDOM;)m=m.parentNode;B=m.previousSibling}for(;B&&!((W=B.pmViewDesc)&&W.parent==this);)B=B.previousSibling;return B?this.posBeforeChild(W)+W.size:this.posAtStart}else{var j,re;if(m==this.contentDOM)j=m.childNodes[S];else{for(;m.parentNode!=this.contentDOM;)m=m.parentNode;j=m.nextSibling}for(;j&&!((re=j.pmViewDesc)&&re.parent==this);)j=j.nextSibling;return j?this.posBeforeChild(re):this.posAtEnd}var le;if(m==this.dom&&this.contentDOM)le=S>z(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))le=m.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(S==0)for(var De=m;;De=De.parentNode){if(De==this.dom){le=!1;break}if(De.previousSibling)break}if(le==null&&S==m.childNodes.length)for(var Ye=m;;Ye=Ye.parentNode){if(Ye==this.dom){le=!0;break}if(Ye.nextSibling)break}}return le??L>0?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(m){for(var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=!0,B=m;B;B=B.parentNode){var W=this.getDesc(B),j=void 0;if(W&&(!S||W.node))if(L&&(j=W.nodeDOM)&&!(j.nodeType==1?j.contains(m.nodeType==1?m:m.parentNode):j==m))L=!1;else return W}}},{key:"getDesc",value:function(m){for(var S=m.pmViewDesc,L=S;L;L=L.parent)if(L==this)return S}},{key:"posFromDOM",value:function(m,S,L){for(var B=m;B;B=B.parentNode){var W=this.getDesc(B);if(W)return W.localPosFromDOM(m,S,L)}return-1}},{key:"descAt",value:function(m){for(var S=0,L=0;S<this.children.length;S++){var B=this.children[S],W=L+B.size;if(L==m&&W!=L){for(;!B.border&&B.children.length;)for(var j=0;j<B.children.length;j++){var re=B.children[j];if(re.size){B=re;break}}return B}if(m<W)return B.descAt(m-L-B.border);L=W}}},{key:"domFromPos",value:function(m,S){if(!this.contentDOM)return{node:this.dom,offset:0,atom:m+1};for(var L=0,B=0,W=0;L<this.children.length;L++){var j=this.children[L],re=W+j.size;if(re>m||j instanceof X){B=m-W;break}W=re}if(B)return this.children[L].domFromPos(B-this.children[L].border,S);for(var le;L&&!(le=this.children[L-1]).size&&le instanceof Ht&&le.side>=0;L--);if(S<=0){for(var De,Ye=!0;De=L?this.children[L-1]:null,!(!De||De.dom.parentNode==this.contentDOM);L--,Ye=!1);return De&&S&&Ye&&!De.border&&!De.domAtom?De.domFromPos(De.size,S):{node:this.contentDOM,offset:De?z(De.dom)+1:0}}else{for(var Pe,tt=!0;Pe=L<this.children.length?this.children[L]:null,!(!Pe||Pe.dom.parentNode==this.contentDOM);L++,tt=!1);return Pe&&tt&&!Pe.border&&!Pe.domAtom?Pe.domFromPos(0,S):{node:this.contentDOM,offset:Pe?z(Pe.dom):this.contentDOM.childNodes.length}}}},{key:"parseRange",value:function(m,S){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.children.length==0)return{node:this.contentDOM,from:m,to:S,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var B=-1,W=-1,j=L,re=0;;re++){var le=this.children[re],De=j+le.size;if(B==-1&&m<=De){var Ye=j+le.border;if(m>=Ye&&S<=De-le.border&&le.node&&le.contentDOM&&this.contentDOM.contains(le.contentDOM))return le.parseRange(m,S,Ye);m=j;for(var Pe=re;Pe>0;Pe--){var tt=this.children[Pe-1];if(tt.size&&tt.dom.parentNode==this.contentDOM&&!tt.emptyChildAt(1)){B=z(tt.dom)+1;break}m-=tt.size}B==-1&&(B=0)}if(B>-1&&(De>S||re==this.children.length-1)){S=De;for(var ct=re+1;ct<this.children.length;ct++){var Tt=this.children[ct];if(Tt.size&&Tt.dom.parentNode==this.contentDOM&&!Tt.emptyChildAt(-1)){W=z(Tt.dom);break}S+=Tt.size}W==-1&&(W=this.contentDOM.childNodes.length);break}j=De}return{node:this.contentDOM,from:m,to:S,fromOffset:B,toOffset:W}}},{key:"emptyChildAt",value:function(m){if(this.border||!this.contentDOM||!this.children.length)return!1;var S=this.children[m<0?0:this.children.length-1];return S.size==0||S.emptyChildAt(m)}},{key:"domAfterPos",value:function(m){var S=this.domFromPos(m,0),L=S.node,B=S.offset;if(L.nodeType!=1||B==L.childNodes.length)throw new RangeError("No node after pos "+m);return L.childNodes[B]}},{key:"setSelection",value:function(m,S,L){for(var B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,W=Math.min(m,S),j=Math.max(m,S),re=0,le=0;re<this.children.length;re++){var De=this.children[re],Ye=le+De.size;if(W>le&&j<Ye)return De.setSelection(m-le-De.border,S-le-De.border,L,B);le=Ye}var Pe=this.domFromPos(m,m?-1:1),tt=S==m?Pe:this.domFromPos(S,S?-1:1),ct=L.root.getSelection(),Tt=L.domSelectionRange(),It=!1;if((ht||Mt)&&m==S){var yt=Pe,Jt=yt.node,jt=yt.offset;if(Jt.nodeType==3){if(It=!!(jt&&Jt.nodeValue[jt-1]==`
`),It&&jt==Jt.nodeValue.length)for(var Kt=Jt,xn;Kt;Kt=Kt.parentNode){if(xn=Kt.nextSibling){xn.nodeName=="BR"&&(Pe=tt={node:xn.parentNode,offset:z(xn)+1});break}var Un=Kt.pmViewDesc;if(Un&&Un.node&&Un.node.isBlock)break}}else{var nr=Jt.childNodes[jt-1];It=nr&&(nr.nodeName=="BR"||nr.contentEditable=="false")}}if(ht&&Tt.focusNode&&Tt.focusNode!=tt.node&&Tt.focusNode.nodeType==1){var hi=Tt.focusNode.childNodes[Tt.focusOffset];hi&&hi.contentEditable=="false"&&(B=!0)}if(!(!(B||It&&Mt)&&be(Pe.node,Pe.offset,Tt.anchorNode,Tt.anchorOffset)&&be(tt.node,tt.offset,Tt.focusNode,Tt.focusOffset))){var or=!1;if((ct.extend||m==S)&&!It){ct.collapse(Pe.node,Pe.offset);try{m!=S&&ct.extend(tt.node,tt.offset),or=!0}catch{}}if(!or){if(m>S){var Hr=Pe;Pe=tt,tt=Hr}var rr=document.createRange();rr.setEnd(tt.node,tt.offset),rr.setStart(Pe.node,Pe.offset),ct.removeAllRanges(),ct.addRange(rr)}}}},{key:"ignoreMutation",value:function(m){return!this.contentDOM&&m.type!="selection"}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(m,S){for(var L=0,B=0;B<this.children.length;B++){var W=this.children[B],j=L+W.size;if(L==j?m<=j&&S>=L:m<j&&S>L){var re=L+W.border,le=j-W.border;if(m>=re&&S<=le){this.dirty=m==L||S==j?Ze:_e,m==re&&S==le&&(W.contentLost||W.dom.parentNode!=this.contentDOM)?W.dirty=nt:W.markDirty(m-re,S-re);return}else W.dirty=W.dom==W.contentDOM&&W.dom.parentNode==this.contentDOM&&!W.children.length?Ze:nt}L=j}this.dirty=Ze}},{key:"markParentsDirty",value:function(){for(var m=1,S=this.parent;S;S=S.parent,m++){var L=m==1?Ze:_e;S.dirty<L&&(S.dirty=L)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}},{key:"isText",value:function(m){return!1}}]),g}(),Ht=function(g){f(m,g);var E=v(m);function m(S,L,B,W){var j;h(this,m);var re,le=L.type.toDOM;if(typeof le=="function"&&(le=le(B,function(){if(!re)return W;if(re.parent)return re.parent.posBeforeChild(re)})),!L.type.spec.raw){if(le.nodeType!=1){var De=document.createElement("span");De.appendChild(le),le=De}le.contentEditable="false",le.classList.add("ProseMirror-widget")}return j=E.call(this,S,[],le,null),j.widget=L,j.widget=L,re=k(j),j}return A(m,[{key:"matchesWidget",value:function(L){return this.dirty==Ne&&L.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(L){var B=this.widget.spec.stopEvent;return B?B(L):!1}},{key:"ignoreMutation",value:function(L){return L.type!="selection"||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),l(R(m.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"side",get:function(){return this.widget.type.side}}]),m}(wt),J=function(g){f(m,g);var E=v(m);function m(S,L,B,W){var j;return h(this,m),j=E.call(this,S,[],L,null),j.textDOM=B,j.text=W,j}return A(m,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(L,B){return L!=this.textDOM?this.posAtStart+(B?this.size:0):this.posAtStart+B}},{key:"domFromPos",value:function(L){return{node:this.textDOM,offset:L}}},{key:"ignoreMutation",value:function(L){return L.type==="characterData"&&L.target.nodeValue==L.oldValue}}]),m}(wt),U=function(g){f(m,g);var E=v(m);function m(S,L,B,W,j){var re;return h(this,m),re=E.call(this,S,[],B,W),re.mark=L,re.spec=j,re}return A(m,[{key:"parseRule",value:function(){return this.dirty&nt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}},{key:"matchesMark",value:function(L){return this.dirty!=nt&&this.mark.eq(L)}},{key:"markDirty",value:function(L,B){if(l(R(m.prototype),"markDirty",this).call(this,L,B),this.dirty!=Ne){for(var W=this.parent;!W.node;)W=W.parent;W.dirty<this.dirty&&(W.dirty=this.dirty),this.dirty=Ne}}},{key:"slice",value:function(L,B,W){var j=m.create(this.parent,this.mark,!0,W),re=this.children,le=this.size;B<le&&(re=Si(re,B,le,W)),L>0&&(re=Si(re,0,L,W));for(var De=0;De<re.length;De++)re[De].parent=j;return j.children=re,j}},{key:"ignoreMutation",value:function(L){return this.spec.ignoreMutation?this.spec.ignoreMutation(L):l(R(m.prototype),"ignoreMutation",this).call(this,L)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),l(R(m.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(L,B,W,j){var re=j.nodeViews[B.type.name],le=re&&re(B,j,W);return(!le||!le.dom)&&(le=F.DOMSerializer.renderSpec(document,B.type.spec.toDOM(B,W),null,B.attrs)),new m(L,B,le.dom,le.contentDOM||le.dom,le)}}]),m}(wt),T=function(g){f(m,g);var E=v(m);function m(S,L,B,W,j,re,le,De,Ye){var Pe;return h(this,m),Pe=E.call(this,S,[],j,re),Pe.node=L,Pe.outerDeco=B,Pe.innerDeco=W,Pe.nodeDOM=le,Pe}return A(m,[{key:"parseRule",value:function(){var L=this;if(this.node.type.spec.reparseInView)return null;var B={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(B.preserveWhitespace="full"),!this.contentDOM)B.getContent=function(){return L.node.content};else if(!this.contentLost)B.contentElement=this.contentDOM;else{for(var W=this.children.length-1;W>=0;W--){var j=this.children[W];if(this.dom.contains(j.dom.parentNode)){B.contentElement=j.dom.parentNode;break}}B.contentElement||(B.getContent=function(){return F.Fragment.empty})}return B}},{key:"matchesNode",value:function(L,B,W){return this.dirty==Ne&&L.eq(this.node)&&mn(B,this.outerDeco)&&W.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(L,B){var W=this,j=this.node.inlineContent,re=B,le=L.composing?this.localCompositionInfo(L,B):null,De=le&&le.pos>-1?le:null,Ye=le&&le.pos<0,Pe=new Ti(this,De&&De.node,L);Ks(this.node,this.innerDeco,function(tt,ct,Tt){tt.spec.marks?Pe.syncToMarks(tt.spec.marks,j,L):tt.type.side>=0&&!Tt&&Pe.syncToMarks(ct==W.node.childCount?F.Mark.none:W.node.child(ct).marks,j,L),Pe.placeWidget(tt,L,re)},function(tt,ct,Tt,It){Pe.syncToMarks(tt.marks,j,L);var yt;Pe.findNodeMatch(tt,ct,Tt,It)||Ye&&L.state.selection.from>re&&L.state.selection.to<re+tt.nodeSize&&(yt=Pe.findIndexWithChild(le.node))>-1&&Pe.updateNodeAt(tt,ct,Tt,yt,L)||Pe.updateNextNode(tt,ct,Tt,L,It,re)||Pe.addNode(tt,ct,Tt,L,re),re+=tt.nodeSize}),Pe.syncToMarks([],j,L),this.node.isTextblock&&Pe.addTextblockHacks(),Pe.destroyRest(),(Pe.changed||this.dirty==Ze)&&(De&&this.protectLocalComposition(L,De),Te(this.contentDOM,this.children,L),on&&ms(this.dom))}},{key:"localCompositionInfo",value:function(L,B){var W=L.state.selection,j=W.from,re=W.to;if(!(L.state.selection instanceof O.TextSelection)||j<B||re>B+this.node.content.size)return null;var le=L.input.compositionNode;if(!le||!this.dom.contains(le.parentNode))return null;if(this.node.inlineContent){var De=le.nodeValue,Ye=so(this.node.content,De,j-B,re-B);return Ye<0?null:{node:le,pos:Ye,text:De}}else return{node:le,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(L,B){var W=B.node,j=B.pos,re=B.text;if(!this.getDesc(W)){for(var le=W;le.parentNode!=this.contentDOM;le=le.parentNode){for(;le.previousSibling;)le.parentNode.removeChild(le.previousSibling);for(;le.nextSibling;)le.parentNode.removeChild(le.nextSibling);le.pmViewDesc&&(le.pmViewDesc=void 0)}var De=new J(this,le,W,re);L.input.compositionNodes.push(De),this.children=Si(this.children,j,j+re.length,L,De)}}},{key:"update",value:function(L,B,W,j){return this.dirty==nt||!L.sameMarkup(this.node)?!1:(this.updateInner(L,B,W,j),!0)}},{key:"updateInner",value:function(L,B,W,j){this.updateOuterDeco(B),this.node=L,this.innerDeco=W,this.contentDOM&&this.updateChildren(j,this.posAtStart),this.dirty=Ne}},{key:"updateOuterDeco",value:function(L){if(!mn(L,this.outerDeco)){var B=this.nodeDOM.nodeType!=1,W=this.dom;this.dom=pt(this.dom,this.nodeDOM,ft(this.outerDeco,this.node,B),ft(L,this.node,B)),this.dom!=W&&(W.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=L}}},{key:"selectNode",value:function(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}},{key:"deselectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(L,B,W,j,re,le){var De=re.nodeViews[B.type.name],Ye,Pe=De&&De(B,re,function(){if(!Ye)return le;if(Ye.parent)return Ye.parent.posBeforeChild(Ye)},W,j),tt=Pe&&Pe.dom,ct=Pe&&Pe.contentDOM;if(B.isText){if(!tt)tt=document.createTextNode(B.text);else if(tt.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else if(!tt){var Tt=F.DOMSerializer.renderSpec(document,B.type.spec.toDOM(B),null,B.attrs);tt=Tt.dom,ct=Tt.contentDOM}!ct&&!B.isText&&tt.nodeName!="BR"&&(tt.hasAttribute("contenteditable")||(tt.contentEditable="false"),B.type.spec.draggable&&(tt.draggable=!0));var It=tt;return tt=Rt(tt,W,B),Pe?Ye=new oe(L,B,W,j,tt,ct||null,It,Pe,re,le+1):B.isText?new q(L,B,W,j,tt,It,re):new m(L,B,W,j,tt,ct||null,It)}}]),m}(wt);function M(g,E,m,S,L){Rt(S,E,g);var B=new T(void 0,g,E,m,S,S,S,L,0);return B.contentDOM&&B.updateChildren(L,0),B}var q=function(g){f(m,g);var E=v(m);function m(S,L,B,W,j,re,le){return h(this,m),E.call(this,S,L,B,W,j,null,re,le,0)}return A(m,[{key:"parseRule",value:function(){for(var L=this.nodeDOM.parentNode;L&&L!=this.dom&&!L.pmIsDeco;)L=L.parentNode;return{skip:L||!0}}},{key:"update",value:function(L,B,W,j){return this.dirty==nt||this.dirty!=Ne&&!this.inParent()||!L.sameMarkup(this.node)?!1:(this.updateOuterDeco(B),(this.dirty!=Ne||L.text!=this.node.text)&&L.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=L.text,j.trackWrites==this.nodeDOM&&(j.trackWrites=null)),this.node=L,this.dirty=Ne,!0)}},{key:"inParent",value:function(){for(var L=this.parent.contentDOM,B=this.nodeDOM;B;B=B.parentNode)if(B==L)return!0;return!1}},{key:"domFromPos",value:function(L){return{node:this.nodeDOM,offset:L}}},{key:"localPosFromDOM",value:function(L,B,W){return L==this.nodeDOM?this.posAtStart+Math.min(B,this.node.text.length):l(R(m.prototype),"localPosFromDOM",this).call(this,L,B,W)}},{key:"ignoreMutation",value:function(L){return L.type!="characterData"&&L.type!="selection"}},{key:"slice",value:function(L,B,W){var j=this.node.cut(L,B),re=document.createTextNode(j.text);return new m(this.parent,j,this.outerDeco,this.innerDeco,re,re,W)}},{key:"markDirty",value:function(L,B){l(R(m.prototype),"markDirty",this).call(this,L,B),this.dom!=this.nodeDOM&&(L==0||B==this.nodeDOM.nodeValue.length)&&(this.dirty=nt)}},{key:"domAtom",get:function(){return!1}},{key:"isText",value:function(L){return this.node.text==L}}]),m}(T),X=function(g){f(m,g);var E=v(m);function m(){return h(this,m),E.apply(this,arguments)}return A(m,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(L){return this.dirty==Ne&&this.dom.nodeName==L}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return this.dom.nodeName=="IMG"}}]),m}(wt),oe=function(g){f(m,g);var E=v(m);function m(S,L,B,W,j,re,le,De,Ye,Pe){var tt;return h(this,m),tt=E.call(this,S,L,B,W,j,re,le,Ye,Pe),tt.spec=De,tt}return A(m,[{key:"update",value:function(L,B,W,j){if(this.dirty==nt)return!1;if(this.spec.update&&(this.node.type==L.type||this.spec.multiType)){var re=this.spec.update(L,B,W);return re&&this.updateInner(L,B,W,j),re}else return!this.contentDOM&&!L.isLeaf?!1:l(R(m.prototype),"update",this).call(this,L,B,W,j)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():l(R(m.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():l(R(m.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(L,B,W,j){this.spec.setSelection?this.spec.setSelection(L,B,W.root):l(R(m.prototype),"setSelection",this).call(this,L,B,W,j)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),l(R(m.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(L){return this.spec.stopEvent?this.spec.stopEvent(L):!1}},{key:"ignoreMutation",value:function(L){return this.spec.ignoreMutation?this.spec.ignoreMutation(L):l(R(m.prototype),"ignoreMutation",this).call(this,L)}}]),m}(T);function Te(g,E,m){for(var S=g.firstChild,L=!1,B=0;B<E.length;B++){var W=E[B],j=W.dom;if(j.parentNode==g){for(;j!=S;)S=qn(S),L=!0;S=S.nextSibling}else L=!0,g.insertBefore(j,S);if(W instanceof U){var re=S?S.previousSibling:g.lastChild;Te(W.contentDOM,W.children,m),S=re?re.nextSibling:g.firstChild}}for(;S;)S=qn(S),L=!0;L&&m.trackWrites==g&&(m.trackWrites=null)}var ze=function(E){E&&(this.nodeName=E)};ze.prototype=Object.create(null);var Ke=[new ze];function ft(g,E,m){if(g.length==0)return Ke;for(var S=m?Ke[0]:new ze,L=[S],B=0;B<g.length;B++){var W=g[B].type.attrs;if(W){W.nodeName&&L.push(S=new ze(W.nodeName));for(var j in W){var re=W[j];re!=null&&(m&&L.length==1&&L.push(S=new ze(E.isInline?"span":"div")),j=="class"?S.class=(S.class?S.class+" ":"")+re:j=="style"?S.style=(S.style?S.style+";":"")+re:j!="nodeName"&&(S[j]=re))}}}return L}function pt(g,E,m,S){if(m==Ke&&S==Ke)return E;for(var L=E,B=0;B<S.length;B++){var W=S[B],j=m[B];if(B){var re=void 0;j&&j.nodeName==W.nodeName&&L!=g&&(re=L.parentNode)&&re.nodeName.toLowerCase()==W.nodeName||(re=document.createElement(W.nodeName),re.pmIsDeco=!0,re.appendChild(L),j=Ke[0]),L=re}kt(L,j||Ke[0],W)}return L}function kt(g,E,m){for(var S in E)S!="class"&&S!="style"&&S!="nodeName"&&!(S in m)&&g.removeAttribute(S);for(var L in m)L!="class"&&L!="style"&&L!="nodeName"&&m[L]!=E[L]&&g.setAttribute(L,m[L]);if(E.class!=m.class){for(var B=E.class?E.class.split(" ").filter(Boolean):[],W=m.class?m.class.split(" ").filter(Boolean):[],j=0;j<B.length;j++)W.indexOf(B[j])==-1&&g.classList.remove(B[j]);for(var re=0;re<W.length;re++)B.indexOf(W[re])==-1&&g.classList.add(W[re]);g.classList.length==0&&g.removeAttribute("class")}if(E.style!=m.style){if(E.style)for(var le=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,De;De=le.exec(E.style);)g.style.removeProperty(De[1]);m.style&&(g.style.cssText+=m.style)}}function Rt(g,E,m){return pt(g,g,Ke,ft(E,m,g.nodeType!=1))}function mn(g,E){if(g.length!=E.length)return!1;for(var m=0;m<g.length;m++)if(!g[m].type.eq(E[m].type))return!1;return!0}function qn(g){var E=g.nextSibling;return g.parentNode.removeChild(g),E}var Ti=function(){function g(E,m,S){h(this,g),this.lock=m,this.view=S,this.index=0,this.stack=[],this.changed=!1,this.top=E,this.preMatch=Ia(E.node.content,E)}return A(g,[{key:"destroyBetween",value:function(m,S){if(m!=S){for(var L=m;L<S;L++)this.top.children[L].destroy();this.top.children.splice(m,S-m),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(m,S,L){for(var B=0,W=this.stack.length>>1,j=Math.min(W,m.length);B<j&&(B==W-1?this.top:this.stack[B+1<<1]).matchesMark(m[B])&&m[B].type.spec.spanning!==!1;)B++;for(;B<W;)this.destroyRest(),this.top.dirty=Ne,this.index=this.stack.pop(),this.top=this.stack.pop(),W--;for(;W<m.length;){this.stack.push(this.top,this.index+1);for(var re=-1,le=this.index;le<Math.min(this.index+3,this.top.children.length);le++){var De=this.top.children[le];if(De.matchesMark(m[W])&&!this.isLocked(De.dom)){re=le;break}}if(re>-1)re>this.index&&(this.changed=!0,this.destroyBetween(this.index,re)),this.top=this.top.children[this.index];else{var Ye=U.create(this.top,m[W],S,L);this.top.children.splice(this.index,0,Ye),this.top=Ye,this.changed=!0}this.index=0,W++}}},{key:"findNodeMatch",value:function(m,S,L,B){var W=-1,j;if(B>=this.preMatch.index&&(j=this.preMatch.matches[B-this.preMatch.index]).parent==this.top&&j.matchesNode(m,S,L))W=this.top.children.indexOf(j,this.index);else for(var re=this.index,le=Math.min(this.top.children.length,re+5);re<le;re++){var De=this.top.children[re];if(De.matchesNode(m,S,L)&&!this.preMatch.matched.has(De)){W=re;break}}return W<0?!1:(this.destroyBetween(this.index,W),this.index++,!0)}},{key:"updateNodeAt",value:function(m,S,L,B,W){var j=this.top.children[B];return j.dirty==nt&&j.dom==j.contentDOM&&(j.dirty=Ze),j.update(m,S,L,W)?(this.destroyBetween(this.index,B),this.index++,!0):!1}},{key:"findIndexWithChild",value:function(m){for(;;){var S=m.parentNode;if(!S)return-1;if(S==this.top.contentDOM){var L=m.pmViewDesc;if(L){for(var B=this.index;B<this.top.children.length;B++)if(this.top.children[B]==L)return B}return-1}m=S}}},{key:"updateNextNode",value:function(m,S,L,B,W,j){for(var re=this.index;re<this.top.children.length;re++){var le=this.top.children[re];if(le instanceof T){var De=this.preMatch.matched.get(le);if(De!=null&&De!=W)return!1;var Ye=le.dom,Pe=void 0,tt=this.isLocked(Ye)&&!(m.isText&&le.node&&le.node.isText&&le.nodeDOM.nodeValue==m.text&&le.dirty!=nt&&mn(S,le.outerDeco));if(!tt&&le.update(m,S,L,B))return this.destroyBetween(this.index,re),le.dom!=Ye&&(this.changed=!0),this.index++,!0;if(!tt&&(Pe=this.recreateWrapper(le,m,S,L,B,j)))return this.destroyBetween(this.index,re),this.top.children[this.index]=Pe,Pe.contentDOM&&(Pe.dirty=Ze,Pe.updateChildren(B,j+1),Pe.dirty=Ne),this.changed=!0,this.index++,!0;break}}return!1}},{key:"recreateWrapper",value:function(m,S,L,B,W,j){if(m.dirty||S.isAtom||!m.children.length||!m.node.content.eq(S.content)||!mn(L,m.outerDeco)||!B.eq(m.innerDeco))return null;var re=T.create(this.top,S,L,B,W,j);if(re.contentDOM){re.children=m.children,m.children=[];var le=i(re.children),De;try{for(le.s();!(De=le.n()).done;){var Ye=De.value;Ye.parent=re}}catch(Pe){le.e(Pe)}finally{le.f()}}return m.destroy(),re}},{key:"addNode",value:function(m,S,L,B,W){var j=T.create(this.top,m,S,L,B,W);j.contentDOM&&j.updateChildren(B,W+1),this.top.children.splice(this.index++,0,j),this.changed=!0}},{key:"placeWidget",value:function(m,S,L){var B=this.index<this.top.children.length?this.top.children[this.index]:null;if(B&&B.matchesWidget(m)&&(m==B.widget||!B.widget.type.toDOM.parentNode))this.index++;else{var W=new Ht(this.top,m,S,L);this.top.children.splice(this.index++,0,W),this.changed=!0}}},{key:"addTextblockHacks",value:function(){for(var m=this.top.children[this.index-1],S=this.top;m instanceof U;)S=m,m=S.children[S.children.length-1];(!m||!(m instanceof q)||/\n$/.test(m.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(m.node.text))&&((Mt||Dt)&&m&&m.dom.contentEditable=="false"&&this.addHackNode("IMG",S),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(m,S){if(S==this.top&&this.index<S.children.length&&S.children[this.index].matchesHack(m))this.index++;else{var L=document.createElement(m);m=="IMG"&&(L.className="ProseMirror-separator",L.alt=""),m=="BR"&&(L.className="ProseMirror-trailingBreak");var B=new X(this.top,[],L,null);S!=this.top?S.children.push(B):S.children.splice(this.index++,0,B),this.changed=!0}}},{key:"isLocked",value:function(m){return this.lock&&(m==this.lock||m.nodeType==1&&m.contains(this.lock.parentNode))}}]),g}();function Ia(g,E){var m=E,S=m.children.length,L=g.childCount,B=new Map,W=[];e:for(;L>0;){for(var j=void 0;;)if(S){var re=m.children[S-1];if(re instanceof U)m=re,S=re.children.length;else{j=re,S--;break}}else{if(m==E)break e;S=m.parent.children.indexOf(m),m=m.parent}var le=j.node;if(le){if(le!=g.child(L-1))break;--L,B.set(j,L),W.push(j)}}return{index:L,matched:B,matches:W.reverse()}}function oo(g,E){return g.type.side-E.type.side}function Ks(g,E,m,S){var L=E.locals(g),B=0;if(L.length==0){for(var W=0;W<g.childCount;W++){var j=g.child(W);S(j,L,E.forChild(B,j),W),B+=j.nodeSize}return}for(var re=0,le=[],De=null,Ye=0;;){for(var Pe=void 0,tt=void 0;re<L.length&&L[re].to==B;){var ct=L[re++];ct.widget&&(Pe?(tt||(tt=[Pe])).push(ct):Pe=ct)}if(Pe)if(tt){tt.sort(oo);for(var Tt=0;Tt<tt.length;Tt++)m(tt[Tt],Ye,!!De)}else m(Pe,Ye,!!De);var It=void 0,yt=void 0;if(De)yt=-1,It=De,De=null;else if(Ye<g.childCount)yt=Ye,It=g.child(Ye++);else break;for(var Jt=0;Jt<le.length;Jt++)le[Jt].to<=B&&le.splice(Jt--,1);for(;re<L.length&&L[re].from<=B&&L[re].to>B;)le.push(L[re++]);var jt=B+It.nodeSize;if(It.isText){var Kt=jt;re<L.length&&L[re].from<Kt&&(Kt=L[re].from);for(var xn=0;xn<le.length;xn++)le[xn].to<Kt&&(Kt=le[xn].to);Kt<jt&&(De=It.cut(Kt-B),It=It.cut(0,Kt-B),jt=Kt,yt=-1)}else for(;re<L.length&&L[re].to<jt;)re++;var Un=It.isInline&&!It.isLeaf?le.filter(function(nr){return!nr.inline}):le.slice();S(It,Un,E.forChild(B,It),yt),B=jt}}function ms(g){if(g.nodeName=="UL"||g.nodeName=="OL"){var E=g.style.cssText;g.style.cssText=E+"; list-style: square !important",window.getComputedStyle(g).listStyle,g.style.cssText=E}}function so(g,E,m,S){for(var L=0,B=0;L<g.childCount&&B<=S;){var W=g.child(L++),j=B;if(B+=W.nodeSize,!!W.isText){for(var re=W.text;L<g.childCount;){var le=g.child(L++);if(B+=le.nodeSize,!le.isText)break;re+=le.text}if(B>=m){if(B>=S&&re.slice(S-E.length-j,S-j)==E)return S-E.length;var De=j<S?re.lastIndexOf(E,S-j-1):-1;if(De>=0&&De+E.length+j>=m)return j+De;if(m==S&&re.length>=S+E.length-j&&re.slice(S-j,S-j+E.length)==E)return S}}}return-1}function Si(g,E,m,S,L){for(var B=[],W=0,j=0;W<g.length;W++){var re=g[W],le=j,De=j+=re.size;le>=m||De<=E?B.push(re):(le<E&&B.push(re.slice(0,E-le,S)),L&&(B.push(L),L=void 0),De>m&&B.push(re.slice(m-le,re.size,S)))}return B}function fa(g){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=g.domSelectionRange(),S=g.state.doc;if(!m.focusNode)return null;var L=g.docView.nearestDesc(m.focusNode),B=L&&L.size==0,W=g.docView.posFromDOM(m.focusNode,m.focusOffset,1);if(W<0)return null;var j=S.resolve(W),re,le;if(we(m)){for(re=W;L&&!L.node;)L=L.parent;var De=L.node;if(L&&De.isAtom&&O.NodeSelection.isSelectable(De)&&L.parent&&!(De.isInline&&ye(m.focusNode,m.focusOffset,L.dom))){var Ye=L.posBefore;le=new O.NodeSelection(W==Ye?j:S.resolve(Ye))}}else{if(m instanceof g.dom.ownerDocument.defaultView.Selection&&m.rangeCount>1){for(var Pe=W,tt=W,ct=0;ct<m.rangeCount;ct++){var Tt=m.getRangeAt(ct);Pe=Math.min(Pe,g.docView.posFromDOM(Tt.startContainer,Tt.startOffset,1)),tt=Math.max(tt,g.docView.posFromDOM(Tt.endContainer,Tt.endOffset,-1))}if(Pe<0)return null;var It=tt==g.state.selection.anchor?[tt,Pe]:[Pe,tt],yt=n(It,2);re=yt[0],W=yt[1],j=S.resolve(W)}else re=g.docView.posFromDOM(m.anchorNode,m.anchorOffset,1);if(re<0)return null}var Jt=S.resolve(re);if(!le){var jt=E=="pointer"||g.state.selection.head<j.pos&&!B?1:-1;le=Ei(g,Jt,j,jt)}return le}function ys(g){return g.editable?g.hasFocus():Js(g)&&document.activeElement&&document.activeElement.contains(g.dom)}function jr(g){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=g.state.selection;if(lo(g,m),!!ys(g)){if(!E&&g.input.mouseDown&&g.input.mouseDown.allowDefault&&Dt){var S=g.domSelectionRange(),L=g.domObserver.currentSelection;if(S.anchorNode&&L.anchorNode&&be(S.anchorNode,S.anchorOffset,L.anchorNode,L.anchorOffset)){g.input.mouseDown.delayedSelectionSync=!0,g.domObserver.setCurSelection();return}}if(g.domObserver.disconnectSelection(),g.cursorWrapper)da(g);else{var B=m.anchor,W=m.head,j,re;bs&&!(m instanceof O.TextSelection)&&(m.$from.parent.inlineContent||(j=ws(g,m.from)),!m.empty&&!m.$from.parent.inlineContent&&(re=ws(g,m.to))),g.docView.setSelection(B,W,g,E),bs&&(j&&Po(j),re&&Po(re)),m.visible?g.dom.classList.remove("ProseMirror-hideselection"):(g.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Fo(g))}g.domObserver.setCurSelection(),g.domObserver.connectSelection()}}var bs=Mt||Dt&&Yt<63;function ws(g,E){var m=g.docView.domFromPos(E,0),S=m.node,L=m.offset,B=L<S.childNodes.length?S.childNodes[L]:null,W=L?S.childNodes[L-1]:null;if(Mt&&B&&B.contentEditable=="false")return Bo(B);if((!B||B.contentEditable=="false")&&(!W||W.contentEditable=="false")){if(B)return Bo(B);if(W)return Bo(W)}}function Bo(g){return g.contentEditable="true",Mt&&g.draggable&&(g.draggable=!1,g.wasDraggable=!0),g}function Po(g){g.contentEditable="false",g.wasDraggable&&(g.draggable=!0,g.wasDraggable=null)}function Fo(g){var E=g.dom.ownerDocument;E.removeEventListener("selectionchange",g.input.hideSelectionGuard);var m=g.domSelectionRange(),S=m.anchorNode,L=m.anchorOffset;E.addEventListener("selectionchange",g.input.hideSelectionGuard=function(){(m.anchorNode!=S||m.anchorOffset!=L)&&(E.removeEventListener("selectionchange",g.input.hideSelectionGuard),setTimeout(function(){(!ys(g)||g.state.selection.visible)&&g.dom.classList.remove("ProseMirror-hideselection")},20))})}function da(g){var E=g.domSelection(),m=document.createRange();if(E){var S=g.cursorWrapper.dom,L=S.nodeName=="IMG";L?m.setStart(S.parentNode,z(S)+1):m.setStart(S,0),m.collapse(!0),E.removeAllRanges(),E.addRange(m),!L&&!g.state.selection.visible&&We&&it<=11&&(S.disabled=!0,S.disabled=!1)}}function lo(g,E){if(E instanceof O.NodeSelection){var m=g.docView.descAt(E.from);m!=g.lastSelectedViewDesc&&(uo(g),m&&m.selectNode(),g.lastSelectedViewDesc=m)}else uo(g)}function uo(g){g.lastSelectedViewDesc&&(g.lastSelectedViewDesc.parent&&g.lastSelectedViewDesc.deselectNode(),g.lastSelectedViewDesc=void 0)}function Ei(g,E,m,S){return g.someProp("createSelectionBetween",function(L){return L(g,E,m)})||O.TextSelection.between(E,m,S)}function Ba(g){return g.editable&&!g.hasFocus()?!1:Js(g)}function Js(g){var E=g.domSelectionRange();if(!E.anchorNode)return!1;try{return g.dom.contains(E.anchorNode.nodeType==3?E.anchorNode.parentNode:E.anchorNode)&&(g.editable||g.dom.contains(E.focusNode.nodeType==3?E.focusNode.parentNode:E.focusNode))}catch{return!1}}function Pa(g){var E=g.docView.domFromPos(g.state.selection.anchor,0),m=g.domSelectionRange();return be(E.node,E.offset,m.anchorNode,m.anchorOffset)}function ha(g,E){var m=g.selection,S=m.$anchor,L=m.$head,B=E>0?S.max(L):S.min(L),W=B.parent.inlineContent?B.depth?g.doc.resolve(E>0?B.after():B.before()):null:B;return W&&O.Selection.findFrom(W,E)}function Wi(g,E){return g.dispatch(g.state.tr.setSelection(E).scrollIntoView()),!0}function zo(g,E,m){var S=g.state.selection;if(S instanceof O.TextSelection)if(m.indexOf("s")>-1){var L=S.$head,B=L.textOffset?null:E<0?L.nodeBefore:L.nodeAfter;if(!B||B.isText||!B.isLeaf)return!1;var W=g.state.doc.resolve(L.pos+B.nodeSize*(E<0?-1:1));return Wi(g,new O.TextSelection(S.$anchor,W))}else if(S.empty){if(g.endOfTextblock(E>0?"forward":"backward")){var j=ha(g.state,E);return j&&j instanceof O.NodeSelection?Wi(g,j):!1}else if(!(Wt&&m.indexOf("m")>-1)){var re=S.$head,le=re.textOffset?null:E<0?re.nodeBefore:re.nodeAfter,De;if(!le||le.isText)return!1;var Ye=E<0?re.pos-le.nodeSize:re.pos;return le.isAtom||(De=g.docView.descAt(Ye))&&!De.contentDOM?O.NodeSelection.isSelectable(le)?Wi(g,new O.NodeSelection(E<0?g.state.doc.resolve(re.pos-le.nodeSize):re)):gn?Wi(g,new O.TextSelection(g.state.doc.resolve(E<0?Ye:Ye+le.nodeSize))):!1:!1}}else return!1;else{if(S instanceof O.NodeSelection&&S.node.isInline)return Wi(g,new O.TextSelection(E>0?S.$to:S.$from));var Pe=ha(g.state,E);return Pe?Wi(g,Pe):!1}}function co(g){return g.nodeType==3?g.nodeValue.length:g.childNodes.length}function Fa(g,E){var m=g.pmViewDesc;return m&&m.size==0&&(E<0||g.nextSibling||g.nodeName!="BR")}function Gi(g,E){return E<0?Xs(g):Uu(g)}function Xs(g){var E=g.domSelectionRange(),m=E.focusNode,S=E.focusOffset;if(m){var L,B,W=!1;for(ht&&m.nodeType==1&&S<co(m)&&Fa(m.childNodes[S],-1)&&(W=!0);;)if(S>0){if(m.nodeType!=1)break;var j=m.childNodes[S-1];if(Fa(j,-1))L=m,B=--S;else if(j.nodeType==3)m=j,S=m.nodeValue.length;else break}else{if(ui(m))break;for(var re=m.previousSibling;re&&Fa(re,-1);)L=m.parentNode,B=z(re),re=re.previousSibling;if(re)m=re,S=co(m);else{if(m=m.parentNode,m==g.dom)break;S=0}}W?Cs(g,m,S):L&&Cs(g,L,B)}}function Uu(g){var E=g.domSelectionRange(),m=E.focusNode,S=E.focusOffset;if(m){for(var L=co(m),B,W;;)if(S<L){if(m.nodeType!=1)break;var j=m.childNodes[S];if(Fa(j,1))B=m,W=++S;else break}else{if(ui(m))break;for(var re=m.nextSibling;re&&Fa(re,1);)B=re.parentNode,W=z(re)+1,re=re.nextSibling;if(re)m=re,S=0,L=co(m);else{if(m=m.parentNode,m==g.dom)break;S=L=0}}B&&Cs(g,B,W)}}function ui(g){var E=g.pmViewDesc;return E&&E.node&&E.node.isBlock}function Vl(g,E){for(;g&&E==g.childNodes.length&&!Me(g);)E=z(g)+1,g=g.parentNode;for(;g&&E<g.childNodes.length;){var m=g.childNodes[E];if(m.nodeType==3)return m;if(m.nodeType==1&&m.contentEditable=="false")break;g=m,E=0}}function $l(g,E){for(;g&&!E&&!Me(g);)E=z(g),g=g.parentNode;for(;g&&E;){var m=g.childNodes[E-1];if(m.nodeType==3)return m;if(m.nodeType==1&&m.contentEditable=="false")break;g=m,E=g.childNodes.length}}function Cs(g,E,m){if(E.nodeType!=3){var S,L;(L=Vl(E,m))?(E=L,m=0):(S=$l(E,m))&&(E=S,m=S.nodeValue.length)}var B=g.domSelection();if(B){if(we(B)){var W=document.createRange();W.setEnd(E,m),W.setStart(E,m),B.removeAllRanges(),B.addRange(W)}else B.extend&&B.extend(E,m);g.domObserver.setCurSelection();var j=g.state;setTimeout(function(){g.state==j&&jr(g)},50)}}function Wl(g,E){var m=g.state.doc.resolve(E);if(!(Dt||fn)&&m.parent.inlineContent){var S=g.coordsAtPos(E);if(E>m.start()){var L=g.coordsAtPos(E-1),B=(L.top+L.bottom)/2;if(B>S.top&&B<S.bottom&&Math.abs(L.left-S.left)>1)return L.left<S.left?"ltr":"rtl"}if(E<m.end()){var W=g.coordsAtPos(E+1),j=(W.top+W.bottom)/2;if(j>S.top&&j<S.bottom&&Math.abs(W.left-S.left)>1)return W.left>S.left?"ltr":"rtl"}}var re=getComputedStyle(g.dom).direction;return re=="rtl"?"rtl":"ltr"}function pa(g,E,m){var S=g.state.selection;if(S instanceof O.TextSelection&&!S.empty||m.indexOf("s")>-1||Wt&&m.indexOf("m")>-1)return!1;var L=S.$from,B=S.$to;if(!L.parent.inlineContent||g.endOfTextblock(E<0?"up":"down")){var W=ha(g.state,E);if(W&&W instanceof O.NodeSelection)return Wi(g,W)}if(!L.parent.inlineContent){var j=E<0?L:B,re=S instanceof O.AllSelection?O.Selection.near(j,E):O.Selection.findFrom(j,E);return re?Wi(g,re):!1}return!1}function Ai(g,E){if(!(g.state.selection instanceof O.TextSelection))return!0;var m=g.state.selection,S=m.$head,L=m.$anchor,B=m.empty;if(!S.sameParent(L))return!0;if(!B)return!1;if(g.endOfTextblock(E>0?"forward":"backward"))return!0;var W=!S.textOffset&&(E<0?S.nodeBefore:S.nodeAfter);if(W&&!W.isText){var j=g.state.tr;return E<0?j.delete(S.pos-W.nodeSize,S.pos):j.delete(S.pos,S.pos+W.nodeSize),g.dispatch(j),!0}return!1}function Qs(g,E,m){g.domObserver.stop(),E.contentEditable=m,g.domObserver.start()}function Gl(g){if(!Mt||g.state.selection.$head.parentOffset>0)return!1;var E=g.domSelectionRange(),m=E.focusNode,S=E.focusOffset;if(m&&m.nodeType==1&&S==0&&m.firstChild&&m.firstChild.contentEditable=="false"){var L=m.firstChild;Qs(g,L,"true"),setTimeout(function(){return Qs(g,L,"false")},20)}return!1}function jl(g){var E="";return g.ctrlKey&&(E+="c"),g.metaKey&&(E+="m"),g.altKey&&(E+="a"),g.shiftKey&&(E+="s"),E}function Vu(g,E){var m=E.keyCode,S=jl(E);if(m==8||Wt&&m==72&&S=="c")return Ai(g,-1)||Gi(g,-1);if(m==46&&!E.shiftKey||Wt&&m==68&&S=="c")return Ai(g,1)||Gi(g,1);if(m==13||m==27)return!0;if(m==37||Wt&&m==66&&S=="c"){var L=m==37?Wl(g,g.state.selection.from)=="ltr"?-1:1:-1;return zo(g,L,S)||Gi(g,L)}else if(m==39||Wt&&m==70&&S=="c"){var B=m==39?Wl(g,g.state.selection.from)=="ltr"?1:-1:1;return zo(g,B,S)||Gi(g,B)}else{if(m==38||Wt&&m==80&&S=="c")return pa(g,-1,S)||Gi(g,-1);if(m==40||Wt&&m==78&&S=="c")return Gl(g)||pa(g,1,S)||Gi(g,1);if(S==(Wt?"m":"c")&&(m==66||m==73||m==89||m==90))return!0}return!1}function _t(g,E){g.someProp("transformCopied",function(yt){E=yt(E,g)});for(var m=[],S=E,L=S.content,B=S.openStart,W=S.openEnd;B>1&&W>1&&L.childCount==1&&L.firstChild.childCount==1;){B--,W--;var j=L.firstChild;m.push(j.type.name,j.attrs!=j.type.defaultAttrs?j.attrs:null),L=j.content}var re=g.someProp("clipboardSerializer")||F.DOMSerializer.fromSchema(g.state.schema),le=xs(),De=le.createElement("div");De.appendChild(re.serializeFragment(L,{document:le}));for(var Ye=De.firstChild,Pe,tt=0;Ye&&Ye.nodeType==1&&(Pe=fo[Ye.nodeName.toLowerCase()]);){for(var ct=Pe.length-1;ct>=0;ct--){for(var Tt=le.createElement(Pe[ct]);De.firstChild;)Tt.appendChild(De.firstChild);De.appendChild(Tt),tt++}Ye=De.firstChild}Ye&&Ye.nodeType==1&&Ye.setAttribute("data-pm-slice","".concat(B," ").concat(W).concat(tt?" -".concat(tt):""," ").concat(JSON.stringify(m)));var It=g.someProp("clipboardTextSerializer",function(yt){return yt(E,g)})||E.content.textBetween(0,E.content.size,`

`);return{dom:De,text:It,slice:E}}function He(g,E,m,S,L){var B=L.parent.type.spec.code,W,j;if(!m&&!E)return null;var re=E&&(S||B||!m);if(re){if(g.someProp("transformPastedText",function(Un){E=Un(E,B||S,g)}),B)return E?new F.Slice(F.Fragment.from(g.state.schema.text(E.replace(/\r\n?/g,`
`))),0,0):F.Slice.empty;var le=g.someProp("clipboardTextParser",function(Un){return Un(E,L,S,g)});if(le)j=le;else{var De=L.marks(),Ye=g.state.schema,Pe=F.DOMSerializer.fromSchema(Ye);W=document.createElement("div"),E.split(/(?:\r\n?|\n)+/).forEach(function(Un){var nr=W.appendChild(document.createElement("p"));Un&&nr.appendChild(Pe.serializeNode(Ye.text(Un,De)))})}}else g.someProp("transformPastedHTML",function(Un){m=Un(m,g)}),W=$u(m),gn&&Mi(W);var tt=W&&W.querySelector("[data-pm-slice]"),ct=tt&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(tt.getAttribute("data-pm-slice")||"");if(ct&&ct[3])for(var Tt=+ct[3];Tt>0;Tt--){for(var It=W.firstChild;It&&It.nodeType!=1;)It=It.nextSibling;if(!It)break;W=It}if(!j){var yt=g.someProp("clipboardParser")||g.someProp("domParser")||F.DOMParser.fromSchema(g.state.schema);j=yt.parseSlice(W,{preserveWhitespace:!!(re||ct),context:L,ruleFromNode:function(nr){return nr.nodeName=="BR"&&!nr.nextSibling&&nr.parentNode&&!Ct.test(nr.parentNode.nodeName)?{ignore:!0}:null}})}if(ct)j=tf(ci(j,+ct[1],+ct[2]),ct[4]);else if(j=F.Slice.maxOpen(qt(j.content,L),!0),j.openStart||j.openEnd){for(var Jt=0,jt=0,Kt=j.content.firstChild;Jt<j.openStart&&!Kt.type.spec.isolating;Jt++,Kt=Kt.firstChild);for(var xn=j.content.lastChild;jt<j.openEnd&&!xn.type.spec.isolating;jt++,xn=xn.lastChild);j=ci(j,Jt,jt)}return g.someProp("transformPasted",function(Un){j=Un(j,g)}),j}var Ct=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function qt(g,E){if(g.childCount<2)return g;for(var m=function(){var W=E.node(L),j=W.contentMatchAt(E.index(L)),re,le=[];if(g.forEach(function(De){if(le){var Ye=j.findWrapping(De.type),Pe;if(!Ye)return le=null;if(Pe=le.length&&re.length&&br(Ye,re,De,le[le.length-1],0))le[le.length-1]=Pe;else{le.length&&(le[le.length-1]=wr(le[le.length-1],re.length));var tt=In(De,Ye);le.push(tt),j=j.matchType(tt.type),re=Ye}}}),le)return{v:F.Fragment.from(le)}},S,L=E.depth;L>=0;L--)if(S=m(),S)return S.v;return g}function In(g,E){for(var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=E.length-1;S>=m;S--)g=E[S].create(null,F.Fragment.from(g));return g}function br(g,E,m,S,L){if(L<g.length&&L<E.length&&g[L]==E[L]){var B=br(g,E,m,S.lastChild,L+1);if(B)return S.copy(S.content.replaceChild(S.childCount-1,B));var W=S.contentMatchAt(S.childCount);if(W.matchType(L==g.length-1?m.type:g[L+1]))return S.copy(S.content.append(F.Fragment.from(In(m,g,L+1))))}}function wr(g,E){if(E==0)return g;var m=g.content.replaceChild(g.childCount-1,wr(g.lastChild,E-1)),S=g.contentMatchAt(g.childCount).fillBefore(F.Fragment.empty,!0);return g.copy(m.append(S))}function hr(g,E,m,S,L,B){var W=E<0?g.firstChild:g.lastChild,j=W.content;return g.childCount>1&&(B=0),L<S-1&&(j=hr(j,E,m,S,L+1,B)),L>=m&&(j=E<0?W.contentMatchAt(0).fillBefore(j,B<=L).append(j):j.append(W.contentMatchAt(W.childCount).fillBefore(F.Fragment.empty,!0))),g.replaceChild(E<0?0:g.childCount-1,W.copy(j))}function ci(g,E,m){return E<g.openStart&&(g=new F.Slice(hr(g.content,-1,E,g.openStart,0,g.openEnd),E,g.openEnd)),m<g.openEnd&&(g=new F.Slice(hr(g.content,1,m,g.openEnd,0,0),g.openStart,m)),g}var fo={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},ur=null;function xs(){return ur||(ur=document.implementation.createHTMLDocument("title"))}var va=null;function ef(g){var E=window.trustedTypes;return E?(va||(va=E.defaultPolicy||E.createPolicy("ProseMirrorClipboard",{createHTML:function(S){return S}})),va.createHTML(g)):g}function $u(g){var E=/^(\s*<meta [^>]*>)*/.exec(g);E&&(g=g.slice(E[0].length));var m=xs().createElement("div"),S=/<([a-z][^>\s]+)/i.exec(g),L;if((L=S&&fo[S[1].toLowerCase()])&&(g=L.map(function(W){return"<"+W+">"}).join("")+g+L.map(function(W){return"</"+W+">"}).reverse().join("")),m.innerHTML=ef(g),L)for(var B=0;B<L.length;B++)m=m.querySelector(L[B])||m;return m}function Mi(g){for(var E=g.querySelectorAll(Dt?"span:not([class]):not([style])":"span.Apple-converted-space"),m=0;m<E.length;m++){var S=E[m];S.childNodes.length==1&&S.textContent=="Â "&&S.parentNode&&S.parentNode.replaceChild(g.ownerDocument.createTextNode(" "),S)}}function tf(g,E){if(!g.size)return g;var m=g.content.firstChild.type.schema,S;try{S=JSON.parse(E)}catch{return g}for(var L=g.content,B=g.openStart,W=g.openEnd,j=S.length-2;j>=0;j-=2){var re=m.nodes[S[j]];if(!re||re.hasRequiredAttrs())break;L=F.Fragment.from(re.create(S[j+1],L)),B++,W++}return new F.Slice(L,B,W)}var Fr={},zr={},nf={touchstart:!0,touchmove:!0},rf=A(function g(){h(this,g),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null});function af(g){var E=function(){var L=Fr[m];g.dom.addEventListener(m,g.input.eventHandlers[m]=function(B){of(g,B)&&!Wu(g,B)&&(g.editable||!(B.type in zr))&&L(g,B)},nf[m]?{passive:!0}:void 0)};for(var m in Fr)E();Mt&&g.dom.addEventListener("input",function(){return null}),ti(g)}function pr(g,E){g.input.lastSelectionOrigin=E,g.input.lastSelectionTime=Date.now()}function $d(g){g.domObserver.stop();for(var E in g.input.eventHandlers)g.dom.removeEventListener(E,g.input.eventHandlers[E]);clearTimeout(g.input.composingTimeout),clearTimeout(g.input.lastIOSEnterFallbackTimeout)}function ti(g){g.someProp("handleDOMEvents",function(E){for(var m in E)g.input.eventHandlers[m]||g.dom.addEventListener(m,g.input.eventHandlers[m]=function(S){return Wu(g,S)})})}function Wu(g,E){return g.someProp("handleDOMEvents",function(m){var S=m[E.type];return S?S(g,E)||E.defaultPrevented:!1})}function of(g,E){if(!E.bubbles)return!0;if(E.defaultPrevented)return!1;for(var m=E.target;m!=g.dom;m=m.parentNode)if(!m||m.nodeType==11||m.pmViewDesc&&m.pmViewDesc.stopEvent(E))return!1;return!0}function ho(g,E){!Wu(g,E)&&Fr[E.type]&&(g.editable||!(E.type in zr))&&Fr[E.type](g,E)}zr.keydown=function(g,E){var m=E;if(g.input.shiftKey=m.keyCode==16||m.shiftKey,!sf(g,m)&&(g.input.lastKeyCode=m.keyCode,g.input.lastKeyCodeTime=Date.now(),!(Zt&&Dt&&m.keyCode==13)))if(m.keyCode!=229&&g.domObserver.forceFlush(),on&&m.keyCode==13&&!m.ctrlKey&&!m.altKey&&!m.metaKey){var S=Date.now();g.input.lastIOSEnter=S,g.input.lastIOSEnterFallbackTimeout=setTimeout(function(){g.input.lastIOSEnter==S&&(g.someProp("handleKeyDown",function(L){return L(g,Fe(13,"Enter"))}),g.input.lastIOSEnter=0)},200)}else g.someProp("handleKeyDown",function(L){return L(g,m)})||Vu(g,m)?m.preventDefault():pr(g,"key")},zr.keyup=function(g,E){E.keyCode==16&&(g.input.shiftKey=!1)},zr.keypress=function(g,E){var m=E;if(!(sf(g,m)||!m.charCode||m.ctrlKey&&!m.altKey||Wt&&m.metaKey)){if(g.someProp("handleKeyPress",function(B){return B(g,m)})){m.preventDefault();return}var S=g.state.selection;if(!(S instanceof O.TextSelection)||!S.$from.sameParent(S.$to)){var L=String.fromCharCode(m.charCode);!/[\r\n]/.test(L)&&!g.someProp("handleTextInput",function(B){return B(g,S.$from.pos,S.$to.pos,L)})&&g.dispatch(g.state.tr.insertText(L).scrollIntoView()),m.preventDefault()}}};function Ho(g){return{left:g.clientX,top:g.clientY}}function Gu(g,E){var m=E.x-g.clientX,S=E.y-g.clientY;return m*m+S*S<100}function Kn(g,E,m,S,L){if(S==-1)return!1;for(var B=g.state.doc.resolve(S),W=function(De){if(g.someProp(E,function(Ye){return De>B.depth?Ye(g,m,B.nodeAfter,B.before(De),L,!0):Ye(g,m,B.node(De),B.before(De),L,!1)}))return{v:!0}},j,re=B.depth+1;re>0;re--)if(j=W(re),j)return j.v;return!1}function fi(g,E,m){if(g.focused||g.focus(),!g.state.selection.eq(E)){var S=g.state.tr.setSelection(E);S.setMeta("pointer",!0),g.dispatch(S)}}function ju(g,E){if(E==-1)return!1;var m=g.state.doc.resolve(E),S=m.nodeAfter;return S&&S.isAtom&&O.NodeSelection.isSelectable(S)?(fi(g,new O.NodeSelection(m)),!0):!1}function Wd(g,E){if(E==-1)return!1;var m=g.state.selection,S,L;m instanceof O.NodeSelection&&(S=m.node);for(var B=g.state.doc.resolve(E),W=B.depth+1;W>0;W--){var j=W>B.depth?B.nodeAfter:B.node(W);if(O.NodeSelection.isSelectable(j)){S&&m.$from.depth>0&&W>=m.$from.depth&&B.before(m.$from.depth+1)==m.$from.pos?L=B.before(m.$from.depth):L=B.before(W);break}}return L!=null?(fi(g,O.NodeSelection.create(g.state.doc,L)),!0):!1}function Yu(g,E,m,S,L){return Kn(g,"handleClickOn",E,m,S)||g.someProp("handleClick",function(B){return B(g,E,S)})||(L?Wd(g,m):ju(g,m))}function Gd(g,E,m,S){return Kn(g,"handleDoubleClickOn",E,m,S)||g.someProp("handleDoubleClick",function(L){return L(g,E,S)})}function jd(g,E,m,S){return Kn(g,"handleTripleClickOn",E,m,S)||g.someProp("handleTripleClick",function(L){return L(g,E,S)})||Yd(g,m,S)}function Yd(g,E,m){if(m.button!=0)return!1;var S=g.state.doc;if(E==-1)return S.inlineContent?(fi(g,O.TextSelection.create(S,0,S.content.size)),!0):!1;for(var L=S.resolve(E),B=L.depth+1;B>0;B--){var W=B>L.depth?L.nodeAfter:L.node(B),j=L.before(B);if(W.inlineContent)fi(g,O.TextSelection.create(S,j+1,j+1+W.content.size));else if(O.NodeSelection.isSelectable(W))fi(g,O.NodeSelection.create(S,j));else continue;return!0}}function Yl(g){return tl(g)}var el=Wt?"metaKey":"ctrlKey";Fr.mousedown=function(g,E){var m=E;g.input.shiftKey=m.shiftKey;var S=Yl(g),L=Date.now(),B="singleClick";L-g.input.lastClick.time<500&&Gu(m,g.input.lastClick)&&!m[el]&&g.input.lastClick.button==m.button&&(g.input.lastClick.type=="singleClick"?B="doubleClick":g.input.lastClick.type=="doubleClick"&&(B="tripleClick")),g.input.lastClick={time:L,x:m.clientX,y:m.clientY,type:B,button:m.button};var W=g.posAtCoords(Ho(m));W&&(B=="singleClick"?(g.input.mouseDown&&g.input.mouseDown.done(),g.input.mouseDown=new ks(g,W,m,!!S)):(B=="doubleClick"?Gd:jd)(g,W.pos,W.inside,m)?m.preventDefault():pr(g,"pointer"))};var ks=function(){function g(E,m,S,L){var B=this;h(this,g),this.view=E,this.pos=m,this.event=S,this.flushed=L,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=E.state.doc,this.selectNode=!!S[el],this.allowDefault=S.shiftKey;var W,j;if(m.inside>-1)W=E.state.doc.nodeAt(m.inside),j=m.inside;else{var re=E.state.doc.resolve(m.pos);W=re.parent,j=re.depth?re.before():0}var le=L?null:S.target,De=le?E.docView.nearestDesc(le,!0):null;this.target=De&&De.dom.nodeType==1?De.dom:null;var Ye=E.state.selection;(S.button==0&&W.type.spec.draggable&&W.type.spec.selectable!==!1||Ye instanceof O.NodeSelection&&Ye.from<=j&&Ye.to>j)&&(this.mightDrag={node:W,pos:j,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ht&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){B.view.input.mouseDown==B&&B.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),E.root.addEventListener("mouseup",this.up=this.up.bind(this)),E.root.addEventListener("mousemove",this.move=this.move.bind(this)),pr(E,"pointer")}return A(g,[{key:"done",value:function(){var m=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return jr(m.view)}),this.view.input.mouseDown=null}},{key:"up",value:function(m){if(this.done(),!!this.view.dom.contains(m.target)){var S=this.pos;this.view.state.doc!=this.startDoc&&(S=this.view.posAtCoords(Ho(m))),this.updateAllowDefault(m),this.allowDefault||!S?pr(this.view,"pointer"):Yu(this.view,S.pos,S.inside,m,this.selectNode)?m.preventDefault():m.button==0&&(this.flushed||Mt&&this.mightDrag&&!this.mightDrag.node.isAtom||Dt&&!this.view.state.selection.visible&&Math.min(Math.abs(S.pos-this.view.state.selection.from),Math.abs(S.pos-this.view.state.selection.to))<=2)?(fi(this.view,O.Selection.near(this.view.state.doc.resolve(S.pos))),m.preventDefault()):pr(this.view,"pointer")}}},{key:"move",value:function(m){this.updateAllowDefault(m),pr(this.view,"pointer"),m.buttons==0&&this.done()}},{key:"updateAllowDefault",value:function(m){!this.allowDefault&&(Math.abs(this.event.x-m.clientX)>4||Math.abs(this.event.y-m.clientY)>4)&&(this.allowDefault=!0)}}]),g}();Fr.touchstart=function(g){g.input.lastTouch=Date.now(),Yl(g),pr(g,"pointer")},Fr.touchmove=function(g){g.input.lastTouch=Date.now(),pr(g,"pointer")},Fr.contextmenu=function(g){return Yl(g)};function sf(g,E){return g.composing?!0:Mt&&Math.abs(E.timeStamp-g.input.compositionEndedAt)<500?(g.input.compositionEndedAt=-2e8,!0):!1}var lf=Zt?5e3:-1;zr.compositionstart=zr.compositionupdate=function(g){if(!g.composing){g.domObserver.flush();var E=g.state,m=E.selection.$to;if(E.selection instanceof O.TextSelection&&(E.storedMarks||!m.textOffset&&m.parentOffset&&m.nodeBefore.marks.some(function(re){return re.type.spec.inclusive===!1})))g.markCursor=g.state.storedMarks||m.marks(),tl(g,!0),g.markCursor=null;else if(tl(g,!E.selection.empty),ht&&E.selection.empty&&m.parentOffset&&!m.textOffset&&m.nodeBefore.marks.length)for(var S=g.domSelectionRange(),L=S.focusNode,B=S.focusOffset;L&&L.nodeType==1&&B!=0;){var W=B<0?L.lastChild:L.childNodes[B-1];if(!W)break;if(W.nodeType==3){var j=g.domSelection();j&&j.collapse(W,W.nodeValue.length);break}else L=W,B=-1}g.input.composing=!0}Zu(g,lf)},zr.compositionend=function(g,E){g.composing&&(g.input.composing=!1,g.input.compositionEndedAt=E.timeStamp,g.input.compositionPendingChanges=g.domObserver.pendingRecords().length?g.input.compositionID:0,g.input.compositionNode=null,g.input.compositionPendingChanges&&Promise.resolve().then(function(){return g.domObserver.flush()}),g.input.compositionID++,Zu(g,20))};function Zu(g,E){clearTimeout(g.input.composingTimeout),E>-1&&(g.input.composingTimeout=setTimeout(function(){return tl(g)},E))}function Zl(g){for(g.composing&&(g.input.composing=!1,g.input.compositionEndedAt=uf());g.input.compositionNodes.length>0;)g.input.compositionNodes.pop().markParentsDirty()}function Ku(g){var E=g.domSelectionRange();if(!E.focusNode)return null;var m=Be(E.focusNode,E.focusOffset),S=Je(E.focusNode,E.focusOffset);if(m&&S&&m!=S){var L=S.pmViewDesc,B=g.domObserver.lastChangedTextNode;if(m==B||S==B)return B;if(!L||!L.isText(S.nodeValue))return S;if(g.input.compositionNode==S){var W=m.pmViewDesc;if(!(!W||!W.isText(m.nodeValue)))return S}}return m||S}function uf(){var g=document.createEvent("Event");return g.initEvent("event",!0,!0),g.timeStamp}function tl(g){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(Zt&&g.domObserver.flushingSoon>=0)){if(g.domObserver.forceFlush(),Zl(g),E||g.docView&&g.docView.dirty){var m=fa(g),S=g.state.selection;return m&&!m.eq(S)?g.dispatch(g.state.tr.setSelection(m)):(g.markCursor||E)&&!S.$from.node(S.$from.sharedDepth(S.to)).inlineContent?g.dispatch(g.state.tr.deleteSelection()):g.updateState(g.state),!0}return!1}}function Ju(g,E){if(g.dom.parentNode){var m=g.dom.parentNode.appendChild(document.createElement("div"));m.appendChild(E),m.style.cssText="position: fixed; left: -10000px; top: 10px";var S=getSelection(),L=document.createRange();L.selectNodeContents(E),g.dom.blur(),S.removeAllRanges(),S.addRange(L),setTimeout(function(){m.parentNode&&m.parentNode.removeChild(m),g.focus()},50)}}var qo=We&&it<15||on&&En<604;Fr.copy=zr.cut=function(g,E){var m=E,S=g.state.selection,L=m.type=="cut";if(!S.empty){var B=qo?null:m.clipboardData,W=S.content(),j=_t(g,W),re=j.dom,le=j.text;B?(m.preventDefault(),B.clearData(),B.setData("text/html",re.innerHTML),B.setData("text/plain",le)):Ju(g,re),L&&g.dispatch(g.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function Zd(g){return g.openStart==0&&g.openEnd==0&&g.content.childCount==1?g.content.firstChild:null}function cf(g,E){if(g.dom.parentNode){var m=g.input.shiftKey||g.state.selection.$from.parent.type.spec.code,S=g.dom.parentNode.appendChild(document.createElement(m?"textarea":"div"));m||(S.contentEditable="true"),S.style.cssText="position: fixed; left: -10000px; top: 10px",S.focus();var L=g.input.shiftKey&&g.input.lastKeyCode!=45;setTimeout(function(){g.focus(),S.parentNode&&S.parentNode.removeChild(S),m?Nr(g,S.value,null,L,E):Nr(g,S.textContent,S.innerHTML,L,E)},50)}}function Nr(g,E,m,S,L){var B=He(g,E,m,S,g.state.selection.$from);if(g.someProp("handlePaste",function(re){return re(g,L,B||F.Slice.empty)}))return!0;if(!B)return!1;var W=Zd(B),j=W?g.state.tr.replaceSelectionWith(W,S):g.state.tr.replaceSelection(B);return g.dispatch(j.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Kl(g){var E=g.getData("text/plain")||g.getData("Text");if(E)return E;var m=g.getData("text/uri-list");return m?m.replace(/\r?\n/g," "):""}zr.paste=function(g,E){var m=E;if(!(g.composing&&!Zt)){var S=qo?null:m.clipboardData,L=g.input.shiftKey&&g.input.lastKeyCode!=45;S&&Nr(g,Kl(S),S.getData("text/html"),L,m)?m.preventDefault():cf(g,m)}};var _s=A(function g(E,m,S){h(this,g),this.slice=E,this.move=m,this.node=S}),ff=Wt?"altKey":"ctrlKey";function Xu(g,E){var m=g.someProp("dragCopies",function(S){return!S(E)});return m??!E[ff]}Fr.dragstart=function(g,E){var m=E,S=g.input.mouseDown;if(S&&S.done(),!!m.dataTransfer){var L=g.state.selection,B=L.empty?null:g.posAtCoords(Ho(m)),W;if(!(B&&B.pos>=L.from&&B.pos<=(L instanceof O.NodeSelection?L.to-1:L.to))){if(S&&S.mightDrag)W=O.NodeSelection.create(g.state.doc,S.mightDrag.pos);else if(m.target&&m.target.nodeType==1){var j=g.docView.nearestDesc(m.target,!0);j&&j.node.type.spec.draggable&&j!=g.docView&&(W=O.NodeSelection.create(g.state.doc,j.posBefore))}}var re=(W||g.state.selection).content(),le=_t(g,re),De=le.dom,Ye=le.text,Pe=le.slice;(!m.dataTransfer.files.length||!Dt||Yt>120)&&m.dataTransfer.clearData(),m.dataTransfer.setData(qo?"Text":"text/html",De.innerHTML),m.dataTransfer.effectAllowed="copyMove",qo||m.dataTransfer.setData("text/plain",Ye),g.dragging=new _s(Pe,Xu(g,m),W)}},Fr.dragend=function(g){var E=g.dragging;window.setTimeout(function(){g.dragging==E&&(g.dragging=null)},50)},zr.dragover=zr.dragenter=function(g,E){return E.preventDefault()},zr.drop=function(g,E){var m=E,S=g.dragging;if(g.dragging=null,!!m.dataTransfer){var L=g.posAtCoords(Ho(m));if(L){var B=g.state.doc.resolve(L.pos),W=S&&S.slice;W?g.someProp("transformPasted",function(It){W=It(W,g)}):W=He(g,Kl(m.dataTransfer),qo?null:m.dataTransfer.getData("text/html"),!1,B);var j=!!(S&&Xu(g,m));if(g.someProp("handleDrop",function(It){return It(g,m,W||F.Slice.empty,j)})){m.preventDefault();return}if(W){m.preventDefault();var re=W?$.dropPoint(g.state.doc,B.pos,W):B.pos;re==null&&(re=B.pos);var le=g.state.tr;if(j){var De=S.node;De?De.replace(le):le.deleteSelection()}var Ye=le.mapping.map(re),Pe=W.openStart==0&&W.openEnd==0&&W.content.childCount==1,tt=le.doc;if(Pe?le.replaceRangeWith(Ye,Ye,W.content.firstChild):le.replaceRange(Ye,Ye,W),!le.doc.eq(tt)){var ct=le.doc.resolve(Ye);if(Pe&&O.NodeSelection.isSelectable(W.content.firstChild)&&ct.nodeAfter&&ct.nodeAfter.sameMarkup(W.content.firstChild))le.setSelection(new O.NodeSelection(ct));else{var Tt=le.mapping.map(re);le.mapping.maps[le.mapping.maps.length-1].forEach(function(It,yt,Jt,jt){return Tt=jt}),le.setSelection(Ei(g,ct,le.doc.resolve(Tt)))}g.focus(),g.dispatch(le.setMeta("uiEvent","drop"))}}}}},Fr.focus=function(g){g.input.lastFocus=Date.now(),g.focused||(g.domObserver.stop(),g.dom.classList.add("ProseMirror-focused"),g.domObserver.start(),g.focused=!0,setTimeout(function(){g.docView&&g.hasFocus()&&!g.domObserver.currentSelection.eq(g.domSelectionRange())&&jr(g)},20))},Fr.blur=function(g,E){var m=E;g.focused&&(g.domObserver.stop(),g.dom.classList.remove("ProseMirror-focused"),g.domObserver.start(),m.relatedTarget&&g.dom.contains(m.relatedTarget)&&g.domObserver.currentSelection.clear(),g.focused=!1)},Fr.beforeinput=function(g,E){var m=E;if(Dt&&Zt&&m.inputType=="deleteContentBackward"){g.domObserver.flushSoon();var S=g.input.domChangeCount;setTimeout(function(){if(g.input.domChangeCount==S&&(g.dom.blur(),g.focus(),!g.someProp("handleKeyDown",function(B){return B(g,Fe(8,"Backspace"))}))){var L=g.state.selection.$cursor;L&&L.pos>0&&g.dispatch(g.state.tr.delete(L.pos-1,L.pos).scrollIntoView())}},50)}};for(var df in zr)Fr[df]=zr[df];function nl(g,E){if(g==E)return!0;for(var m in g)if(g[m]!==E[m])return!1;for(var S in E)if(!(S in g))return!1;return!0}var hf=function(){function g(E,m){h(this,g),this.toDOM=E,this.spec=m||Uo,this.side=this.spec.side||0}return A(g,[{key:"map",value:function(m,S,L,B){var W=m.mapResult(S.from+B,this.side<0?-1:1),j=W.pos,re=W.deleted;return re?null:new Ni(j-L,j-L,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(m){return this==m||m instanceof g&&(this.spec.key&&this.spec.key==m.spec.key||this.toDOM==m.toDOM&&nl(this.spec,m.spec))}},{key:"destroy",value:function(m){this.spec.destroy&&this.spec.destroy(m)}}]),g}(),rl=function(){function g(E,m){h(this,g),this.attrs=E,this.spec=m||Uo}return A(g,[{key:"map",value:function(m,S,L,B){var W=m.map(S.from+B,this.spec.inclusiveStart?-1:1)-L,j=m.map(S.to+B,this.spec.inclusiveEnd?1:-1)-L;return W>=j?null:new Ni(W,j,this)}},{key:"valid",value:function(m,S){return S.from<S.to}},{key:"eq",value:function(m){return this==m||m instanceof g&&nl(this.attrs,m.attrs)&&nl(this.spec,m.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(m){return m.type instanceof g}}]),g}(),Kd=function(){function g(E,m){h(this,g),this.attrs=E,this.spec=m||Uo}return A(g,[{key:"map",value:function(m,S,L,B){var W=m.mapResult(S.from+B,1);if(W.deleted)return null;var j=m.mapResult(S.to+B,-1);return j.deleted||j.pos<=W.pos?null:new Ni(W.pos-L,j.pos-L,this)}},{key:"valid",value:function(m,S){var L=m.content.findIndex(S.from),B=L.index,W=L.offset,j;return W==S.from&&!(j=m.child(B)).isText&&W+j.nodeSize==S.to}},{key:"eq",value:function(m){return this==m||m instanceof g&&nl(this.attrs,m.attrs)&&nl(this.spec,m.spec)}},{key:"destroy",value:function(){}}]),g}(),Ni=function(){function g(E,m,S){h(this,g),this.from=E,this.to=m,this.type=S}return A(g,[{key:"copy",value:function(m,S){return new g(m,S,this.type)}},{key:"eq",value:function(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.type.eq(m.type)&&this.from+S==m.from&&this.to+S==m.to}},{key:"map",value:function(m,S,L){return this.type.map(m,this,S,L)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof rl}},{key:"widget",get:function(){return this.type instanceof hf}}],[{key:"widget",value:function(m,S,L){return new g(m,m,new hf(S,L))}},{key:"inline",value:function(m,S,L,B){return new g(m,S,new rl(L,B))}},{key:"node",value:function(m,S,L,B){return new g(m,S,new Kd(L,B))}}]),g}(),Ts=[],Uo={},di=function(){function g(E,m){h(this,g),this.local=E.length?E:Ts,this.children=m.length?m:Ts}return A(g,[{key:"find",value:function(m,S,L){var B=[];return this.findInner(m??0,S??1e9,B,0,L),B}},{key:"findInner",value:function(m,S,L,B,W){for(var j=0;j<this.local.length;j++){var re=this.local[j];re.from<=S&&re.to>=m&&(!W||W(re.spec))&&L.push(re.copy(re.from+B,re.to+B))}for(var le=0;le<this.children.length;le+=3)if(this.children[le]<S&&this.children[le+1]>m){var De=this.children[le]+1;this.children[le+2].findInner(m-De,S-De,L,B+De,W)}}},{key:"map",value:function(m,S,L){return this==Dr||m.maps.length==0?this:this.mapInner(m,S,0,0,L||Uo)}},{key:"mapInner",value:function(m,S,L,B,W){for(var j,re=0;re<this.local.length;re++){var le=this.local[re].map(m,L,B);le&&le.type.valid(S,le)?(j||(j=[])).push(le):W.onRemove&&W.onRemove(this.local[re].spec)}return this.children.length?Jl(this.children,j||[],m,S,L,B,W):j?new g(j.sort(po),Ts):Dr}},{key:"add",value:function(m,S){return S.length?this==Dr?g.create(m,S):this.addInner(m,S,0):this}},{key:"addInner",value:function(m,S,L){var B=this,W,j=0;m.forEach(function(De,Ye){var Pe=Ye+L,tt;if(tt=vf(S,De,Pe)){for(W||(W=B.children.slice());j<W.length&&W[j]<Ye;)j+=3;W[j]==Ye?W[j+2]=W[j+2].addInner(De,tt,Pe+1):W.splice(j,0,Ye,Ye+De.nodeSize,ni(tt,De,Pe+1,Uo)),j+=3}});for(var re=pf(j?Vo(S):S,-L),le=0;le<re.length;le++)re[le].type.valid(m,re[le])||re.splice(le--,1);return new g(re.length?this.local.concat(re).sort(po):this.local,W||this.children)}},{key:"remove",value:function(m){return m.length==0||this==Dr?this:this.removeInner(m,0)}},{key:"removeInner",value:function(m,S){for(var L=this.children,B=this.local,W=0;W<L.length;W+=3){for(var j=void 0,re=L[W]+S,le=L[W+1]+S,De=0,Ye;De<m.length;De++)(Ye=m[De])&&Ye.from>re&&Ye.to<le&&(m[De]=null,(j||(j=[])).push(Ye));if(j){L==this.children&&(L=this.children.slice());var Pe=L[W+2].removeInner(j,re+1);Pe!=Dr?L[W+2]=Pe:(L.splice(W,3),W-=3)}}if(B.length){for(var tt=0,ct;tt<m.length;tt++)if(ct=m[tt])for(var Tt=0;Tt<B.length;Tt++)B[Tt].eq(ct,S)&&(B==this.local&&(B=this.local.slice()),B.splice(Tt--,1))}return L==this.children&&B==this.local?this:B.length||L.length?new g(B,L):Dr}},{key:"forChild",value:function(m,S){if(this==Dr)return this;if(S.isLeaf)return g.empty;for(var L,B,W=0;W<this.children.length;W+=3)if(this.children[W]>=m){this.children[W]==m&&(L=this.children[W+2]);break}for(var j=m+1,re=j+S.content.size,le=0;le<this.local.length;le++){var De=this.local[le];if(De.from<re&&De.to>j&&De.type instanceof rl){var Ye=Math.max(j,De.from)-j,Pe=Math.min(re,De.to)-j;Ye<Pe&&(B||(B=[])).push(De.copy(Ye,Pe))}}if(B){var tt=new g(B.sort(po),Ts);return L?new za([tt,L]):tt}return L||Dr}},{key:"eq",value:function(m){if(this==m)return!0;if(!(m instanceof g)||this.local.length!=m.local.length||this.children.length!=m.children.length)return!1;for(var S=0;S<this.local.length;S++)if(!this.local[S].eq(m.local[S]))return!1;for(var L=0;L<this.children.length;L+=3)if(this.children[L]!=m.children[L]||this.children[L+1]!=m.children[L+1]||!this.children[L+2].eq(m.children[L+2]))return!1;return!0}},{key:"locals",value:function(m){return Qu(this.localsInner(m))}},{key:"localsInner",value:function(m){if(this==Dr)return Ts;if(m.inlineContent||!this.local.some(rl.is))return this.local;for(var S=[],L=0;L<this.local.length;L++)this.local[L].type instanceof rl||S.push(this.local[L]);return S}},{key:"forEachSet",value:function(m){m(this)}}],[{key:"create",value:function(m,S){return S.length?ni(S,m,0,Uo):Dr}}]),g}();di.empty=new di([],[]),di.removeOverlap=Qu;var Dr=di.empty,za=function(){function g(E){h(this,g),this.members=E}return A(g,[{key:"map",value:function(m,S){var L=this.members.map(function(B){return B.map(m,S,Uo)});return g.from(L)}},{key:"forChild",value:function(m,S){if(S.isLeaf)return di.empty;for(var L=[],B=0;B<this.members.length;B++){var W=this.members[B].forChild(m,S);W!=Dr&&(W instanceof g?L=L.concat(W.members):L.push(W))}return g.from(L)}},{key:"eq",value:function(m){if(!(m instanceof g)||m.members.length!=this.members.length)return!1;for(var S=0;S<this.members.length;S++)if(!this.members[S].eq(m.members[S]))return!1;return!0}},{key:"locals",value:function(m){for(var S,L=!0,B=0;B<this.members.length;B++){var W=this.members[B].localsInner(m);if(W.length)if(!S)S=W;else{L&&(S=S.slice(),L=!1);for(var j=0;j<W.length;j++)S.push(W[j])}}return S?Qu(L?S:S.sort(po)):Ts}},{key:"forEachSet",value:function(m){for(var S=0;S<this.members.length;S++)this.members[S].forEachSet(m)}}],[{key:"from",value:function(m){switch(m.length){case 0:return Dr;case 1:return m[0];default:return new g(m.every(function(S){return S instanceof di})?m:m.reduce(function(S,L){return S.concat(L instanceof di?L:L.members)},[]))}}}]),g}();function Jl(g,E,m,S,L,B,W){for(var j=g.slice(),re=function(Yr){var Ua=0;m.maps[le].forEach(function(Lr,vr,rh,ih){for(var nu=ih-rh-(vr-Lr),$o=0;$o<j.length;$o+=3){var al=j[$o+1];if(!(al<0||Lr>al+Yr-Ua)){var Ms=j[$o]+Yr-Ua;vr>=Ms?j[$o+1]=Lr<=Ms?-2:-1:Lr>=Yr&&nu&&(j[$o]+=nu,j[$o+1]+=nu)}}Ua+=nu}),Yr=m.maps[le].map(Yr,-1),De=Yr},le=0,De=B;le<m.maps.length;le++)re(De);for(var Ye=!1,Pe=0;Pe<j.length;Pe+=3)if(j[Pe+1]<0){if(j[Pe+1]==-2){Ye=!0,j[Pe+1]=-1;continue}var tt=m.map(g[Pe]+B),ct=tt-L;if(ct<0||ct>=S.content.size){Ye=!0;continue}var Tt=m.map(g[Pe+1]+B,-1),It=Tt-L,yt=S.content.findIndex(ct),Jt=yt.index,jt=yt.offset,Kt=S.maybeChild(Jt);if(Kt&&jt==ct&&jt+Kt.nodeSize==It){var xn=j[Pe+2].mapInner(m,Kt,tt+1,g[Pe]+B+1,W);xn!=Dr?(j[Pe]=ct,j[Pe+1]=It,j[Pe+2]=xn):(j[Pe+1]=-2,Ye=!0)}else Ye=!0}if(Ye){var Un=Jd(j,g,E,m,L,B,W),nr=ni(Un,S,0,W);E=nr.local;for(var hi=0;hi<j.length;hi+=3)j[hi+1]<0&&(j.splice(hi,3),hi-=3);for(var or=0,Hr=0;or<nr.children.length;or+=3){for(var rr=nr.children[or];Hr<j.length&&j[Hr]<rr;)Hr+=3;j.splice(Hr,0,nr.children[or],nr.children[or+1],nr.children[or+2])}}return new di(E.sort(po),j)}function pf(g,E){if(!E||!g.length)return g;for(var m=[],S=0;S<g.length;S++){var L=g[S];m.push(new Ni(L.from+E,L.to+E,L.type))}return m}function Jd(g,E,m,S,L,B,W){function j(le,De){for(var Ye=0;Ye<le.local.length;Ye++){var Pe=le.local[Ye].map(S,L,De);Pe?m.push(Pe):W.onRemove&&W.onRemove(le.local[Ye].spec)}for(var tt=0;tt<le.children.length;tt+=3)j(le.children[tt+2],le.children[tt]+De+1)}for(var re=0;re<g.length;re+=3)g[re+1]==-1&&j(g[re+2],E[re]+B+1);return m}function vf(g,E,m){if(E.isLeaf)return null;for(var S=m+E.nodeSize,L=null,B=0,W;B<g.length;B++)(W=g[B])&&W.from>m&&W.to<S&&((L||(L=[])).push(W),g[B]=null);return L}function Vo(g){for(var E=[],m=0;m<g.length;m++)g[m]!=null&&E.push(g[m]);return E}function ni(g,E,m,S){var L=[],B=!1;E.forEach(function(re,le){var De=vf(g,re,le+m);if(De){B=!0;var Ye=ni(De,re,m+le+1,S);Ye!=Dr&&L.push(le,le+re.nodeSize,Ye)}});for(var W=pf(B?Vo(g):g,-m).sort(po),j=0;j<W.length;j++)W[j].type.valid(E,W[j])||(S.onRemove&&S.onRemove(W[j].spec),W.splice(j--,1));return W.length||L.length?new di(W,L):Dr}function po(g,E){return g.from-E.from||g.to-E.to}function Qu(g){for(var E=g,m=0;m<E.length-1;m++){var S=E[m];if(S.from!=S.to)for(var L=m+1;L<E.length;L++){var B=E[L];if(B.from==S.from){B.to!=S.to&&(E==g&&(E=g.slice()),E[L]=B.copy(B.from,S.to),gf(E,L+1,B.copy(S.to,B.to)));continue}else{B.from<S.to&&(E==g&&(E=g.slice()),E[m]=S.copy(S.from,B.from),gf(E,L,S.copy(B.from,S.to)));break}}}return E}function gf(g,E,m){for(;E<g.length&&po(m,g[E])>0;)E++;g.splice(E,0,m)}function ec(g){var E=[];return g.someProp("decorations",function(m){var S=m(g.state);S&&S!=Dr&&E.push(S)}),g.cursorWrapper&&E.push(di.create(g.state.doc,[g.cursorWrapper.deco])),za.from(E)}var Xd={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Qd=We&&it<=11,Ss=function(){function g(){h(this,g),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return A(g,[{key:"set",value:function(m){this.anchorNode=m.anchorNode,this.anchorOffset=m.anchorOffset,this.focusNode=m.focusNode,this.focusOffset=m.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(m){return m.anchorNode==this.anchorNode&&m.anchorOffset==this.anchorOffset&&m.focusNode==this.focusNode&&m.focusOffset==this.focusOffset}}]),g}(),$e=function(){function g(E,m){var S=this;h(this,g),this.view=E,this.handleDOMChange=m,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ss,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(function(L){for(var B=0;B<L.length;B++)S.queue.push(L[B]);We&&it<=11&&L.some(function(W){return W.type=="childList"&&W.removedNodes.length||W.type=="characterData"&&W.oldValue.length>W.target.nodeValue.length})?S.flushSoon():S.flush()}),Qd&&(this.onCharData=function(L){S.queue.push({target:L.target,type:"characterData",oldValue:L.prevValue}),S.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return A(g,[{key:"flushSoon",value:function(){var m=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){m.flushingSoon=-1,m.flush()},20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Xd)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var m=this;if(this.observer){var S=this.observer.takeRecords();if(S.length){for(var L=0;L<S.length;L++)this.queue.push(S[L]);window.setTimeout(function(){return m.flush()},20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var m=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return m.suppressingSelectionUpdates=!1},50)}},{key:"onSelectionChange",value:function(){if(Ba(this.view)){if(this.suppressingSelectionUpdates)return jr(this.view);if(We&&it<=11&&!this.view.state.selection.empty){var m=this.view.domSelectionRange();if(m.focusNode&&be(m.focusNode,m.focusOffset,m.anchorNode,m.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(m){if(!m.focusNode)return!0;for(var S=new Set,L,B=m.focusNode;B;B=ee(B))S.add(B);for(var W=m.anchorNode;W;W=ee(W))if(S.has(W)){L=W;break}var j=L&&this.view.docView.nearestDesc(L);if(j&&j.ignoreMutation({type:"selection",target:L.nodeType==3?L.parentNode:L}))return this.setCurSelection(),!0}},{key:"pendingRecords",value:function(){if(this.observer){var m=i(this.observer.takeRecords()),S;try{for(m.s();!(S=m.n()).done;){var L=S.value;this.queue.push(L)}}catch(B){m.e(B)}finally{m.f()}}return this.queue}},{key:"flush",value:function(){var m=this.view;if(!(!m.docView||this.flushingSoon>-1)){var S=this.pendingRecords();S.length&&(this.queue=[]);var L=m.domSelectionRange(),B=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(L)&&Ba(m)&&!this.ignoreSelectionChange(L),W=-1,j=-1,re=!1,le=[];if(m.editable)for(var De=0;De<S.length;De++){var Ye=this.registerMutation(S[De],le);Ye&&(W=W<0?Ye.from:Math.min(Ye.from,W),j=j<0?Ye.to:Math.max(Ye.to,j),Ye.typeOver&&(re=!0))}if(ht&&le.length){var Pe=le.filter(function(Un){return Un.nodeName=="BR"});if(Pe.length==2){var tt=n(Pe,2),ct=tt[0],Tt=tt[1];ct.parentNode&&ct.parentNode.parentNode==Tt.parentNode?Tt.remove():ct.remove()}else{var It=this.currentSelection.focusNode,yt=i(Pe),Jt;try{for(yt.s();!(Jt=yt.n()).done;){var jt=Jt.value,Kt=jt.parentNode;Kt&&Kt.nodeName=="LI"&&(!It||Cr(m,It)!=Kt)&&jt.remove()}}catch(Un){yt.e(Un)}finally{yt.f()}}}var xn=null;W<0&&B&&m.input.lastFocus>Date.now()-200&&Math.max(m.input.lastTouch,m.input.lastClick.time)<Date.now()-300&&we(L)&&(xn=fa(m))&&xn.eq(O.Selection.near(m.state.doc.resolve(0),1))?(m.input.lastFocus=0,jr(m),this.currentSelection.set(L),m.scrollToSelection()):(W>-1||B)&&(W>-1&&(m.docView.markDirty(W,j),Bt(m)),this.handleDOMChange(W,j,re,le),m.docView&&m.docView.dirty?m.updateState(m.state):this.currentSelection.eq(L)||jr(m),this.currentSelection.set(L))}}},{key:"registerMutation",value:function(m,S){if(S.indexOf(m.target)>-1)return null;var L=this.view.docView.nearestDesc(m.target);if(m.type=="attributes"&&(L==this.view.docView||m.attributeName=="contenteditable"||m.attributeName=="style"&&!m.oldValue&&!m.target.getAttribute("style"))||!L||L.ignoreMutation(m))return null;if(m.type=="childList"){for(var B=0;B<m.addedNodes.length;B++){var W=m.addedNodes[B];S.push(W),W.nodeType==3&&(this.lastChangedTextNode=W)}if(L.contentDOM&&L.contentDOM!=L.dom&&!L.contentDOM.contains(m.target))return{from:L.posBefore,to:L.posAfter};var j=m.previousSibling,re=m.nextSibling;if(We&&it<=11&&m.addedNodes.length)for(var le=0;le<m.addedNodes.length;le++){var De=m.addedNodes[le],Ye=De.previousSibling,Pe=De.nextSibling;(!Ye||Array.prototype.indexOf.call(m.addedNodes,Ye)<0)&&(j=Ye),(!Pe||Array.prototype.indexOf.call(m.addedNodes,Pe)<0)&&(re=Pe)}var tt=j&&j.parentNode==m.target?z(j)+1:0,ct=L.localPosFromDOM(m.target,tt,-1),Tt=re&&re.parentNode==m.target?z(re):m.target.childNodes.length,It=L.localPosFromDOM(m.target,Tt,1);return{from:ct,to:It}}else return m.type=="attributes"?{from:L.posAtStart-L.border,to:L.posAtEnd+L.border}:(this.lastChangedTextNode=m.target,{from:L.posAtStart,to:L.posAtEnd,typeOver:m.target.nodeValue==m.oldValue})}}]),g}(),st=new WeakMap,Qe=!1;function Bt(g){if(!st.has(g)&&(st.set(g,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(g.dom).whiteSpace)!==-1)){if(g.requiresGeckoHackNode=ht,Qe)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Qe=!0}}function sn(g,E){var m=E.startContainer,S=E.startOffset,L=E.endContainer,B=E.endOffset,W=g.domAtPos(g.state.selection.anchor);if(be(W.node,W.offset,L,B)){var j=[L,B,m,S];m=j[0],S=j[1],L=j[2],B=j[3]}return{anchorNode:m,anchorOffset:S,focusNode:L,focusOffset:B}}function Bn(g,E){if(E.getComposedRanges){var m=E.getComposedRanges(g.root)[0];if(m)return sn(g,m)}var S;function L(B){B.preventDefault(),B.stopImmediatePropagation(),S=B.getTargetRanges()[0]}return g.dom.addEventListener("beforeinput",L,!0),document.execCommand("indent"),g.dom.removeEventListener("beforeinput",L,!0),S?sn(g,S):null}function Cr(g,E){for(var m=E.parentNode;m&&m!=g.dom;m=m.parentNode){var S=g.docView.nearestDesc(m,!0);if(S&&S.node.isBlock)return m}return null}function Yn(g,E,m){var S=g.docView.parseRange(E,m),L=S.node,B=S.fromOffset,W=S.toOffset,j=S.from,re=S.to,le=g.domSelectionRange(),De,Ye=le.anchorNode;if(Ye&&g.dom.contains(Ye.nodeType==1?Ye:Ye.parentNode)&&(De=[{node:Ye,offset:le.anchorOffset}],we(le)||De.push({node:le.focusNode,offset:le.focusOffset})),Dt&&g.input.lastKeyCode===8)for(var Pe=W;Pe>B;Pe--){var tt=L.childNodes[Pe-1],ct=tt.pmViewDesc;if(tt.nodeName=="BR"&&!ct){W=Pe;break}if(!ct||ct.size)break}var Tt=g.state.doc,It=g.someProp("domParser")||F.DOMParser.fromSchema(g.state.schema),yt=Tt.resolve(j),Jt=null,jt=It.parse(L,{topNode:yt.parent,topMatch:yt.parent.contentMatchAt(yt.index()),topOpen:!0,from:B,to:W,preserveWhitespace:yt.parent.type.whitespace=="pre"?"full":!0,findPositions:De,ruleFromNode:tc,context:yt});if(De&&De[0].pos!=null){var Kt=De[0].pos,xn=De[1]&&De[1].pos;xn==null&&(xn=Kt),Jt={anchor:Kt+j,head:xn+j}}return{doc:jt,sel:Jt,from:j,to:re}}function tc(g){var E=g.pmViewDesc;if(E)return E.parseRule();if(g.nodeName=="BR"&&g.parentNode){if(Mt&&/^(ul|ol)$/i.test(g.parentNode.nodeName)){var m=document.createElement("div");return m.appendChild(document.createElement("li")),{skip:m}}else if(g.parentNode.lastChild==g||Mt&&/^(tr|table)$/i.test(g.parentNode.nodeName))return{ignore:!0}}else if(g.nodeName=="IMG"&&g.getAttribute("mark-placeholder"))return{ignore:!0};return null}var eh=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Di(g,E,m,S,L){var B=g.input.compositionPendingChanges||(g.composing?g.input.compositionID:0);if(g.input.compositionPendingChanges=0,E<0){var W=g.input.lastSelectionTime>Date.now()-50?g.input.lastSelectionOrigin:null,j=fa(g,W);if(j&&!g.state.selection.eq(j)){if(Dt&&Zt&&g.input.lastKeyCode===13&&Date.now()-100<g.input.lastKeyCodeTime&&g.someProp("handleKeyDown",function(vr){return vr(g,Fe(13,"Enter"))}))return;var re=g.state.tr.setSelection(j);W=="pointer"?re.setMeta("pointer",!0):W=="key"&&re.scrollIntoView(),B&&re.setMeta("composition",B),g.dispatch(re)}return}var le=g.state.doc.resolve(E),De=le.sharedDepth(m);E=le.before(De+1),m=g.state.doc.resolve(m).after(De+1);var Ye=g.state.selection,Pe=Yn(g,E,m),tt=g.state.doc,ct=tt.slice(Pe.from,Pe.to),Tt,It;g.input.lastKeyCode===8&&Date.now()-100<g.input.lastKeyCodeTime?(Tt=g.state.selection.to,It="end"):(Tt=g.state.selection.from,It="start"),g.input.lastKeyCode=null;var yt=Xl(ct.content,Pe.doc.content,Pe.from,Tt,It);if(yt&&g.input.domChangeCount++,(on&&g.input.lastIOSEnter>Date.now()-225||Zt)&&L.some(function(vr){return vr.nodeType==1&&!eh.test(vr.nodeName)})&&(!yt||yt.endA>=yt.endB)&&g.someProp("handleKeyDown",function(vr){return vr(g,Fe(13,"Enter"))})){g.input.lastIOSEnter=0;return}if(!yt)if(S&&Ye instanceof O.TextSelection&&!Ye.empty&&Ye.$head.sameParent(Ye.$anchor)&&!g.composing&&!(Pe.sel&&Pe.sel.anchor!=Pe.sel.head))yt={start:Ye.from,endA:Ye.to,endB:Ye.to};else{if(Pe.sel){var Jt=il(g,g.state.doc,Pe.sel);if(Jt&&!Jt.eq(g.state.selection)){var jt=g.state.tr.setSelection(Jt);B&&jt.setMeta("composition",B),g.dispatch(jt)}}return}g.state.selection.from<g.state.selection.to&&yt.start==yt.endB&&g.state.selection instanceof O.TextSelection&&(yt.start>g.state.selection.from&&yt.start<=g.state.selection.from+2&&g.state.selection.from>=Pe.from?yt.start=g.state.selection.from:yt.endA<g.state.selection.to&&yt.endA>=g.state.selection.to-2&&g.state.selection.to<=Pe.to&&(yt.endB+=g.state.selection.to-yt.endA,yt.endA=g.state.selection.to)),We&&it<=11&&yt.endB==yt.start+1&&yt.endA==yt.start&&yt.start>Pe.from&&Pe.doc.textBetween(yt.start-Pe.from-1,yt.start-Pe.from+1)==" Â "&&(yt.start--,yt.endA--,yt.endB--);var Kt=Pe.doc.resolveNoCache(yt.start-Pe.from),xn=Pe.doc.resolveNoCache(yt.endB-Pe.from),Un=tt.resolve(yt.start),nr=Kt.sameParent(xn)&&Kt.parent.inlineContent&&Un.end()>=yt.endA,hi;if((on&&g.input.lastIOSEnter>Date.now()-225&&(!nr||L.some(function(vr){return vr.nodeName=="DIV"||vr.nodeName=="P"}))||!nr&&Kt.pos<Pe.doc.content.size&&(!Kt.sameParent(xn)||!Kt.parent.inlineContent)&&!/\S/.test(Pe.doc.textBetween(Kt.pos,xn.pos,"",""))&&(hi=O.Selection.findFrom(Pe.doc.resolve(Kt.pos+1),1,!0))&&hi.head>Kt.pos)&&g.someProp("handleKeyDown",function(vr){return vr(g,Fe(13,"Enter"))})){g.input.lastIOSEnter=0;return}if(g.state.selection.anchor>yt.start&&Es(tt,yt.start,yt.endA,Kt,xn)&&g.someProp("handleKeyDown",function(vr){return vr(g,Fe(8,"Backspace"))})){Zt&&Dt&&g.domObserver.suppressSelectionUpdates();return}Dt&&yt.endB==yt.start&&(g.input.lastChromeDelete=Date.now()),Zt&&!nr&&Kt.start()!=xn.start()&&xn.parentOffset==0&&Kt.depth==xn.depth&&Pe.sel&&Pe.sel.anchor==Pe.sel.head&&Pe.sel.head==yt.endA&&(yt.endB-=2,xn=Pe.doc.resolveNoCache(yt.endB-Pe.from),setTimeout(function(){g.someProp("handleKeyDown",function(vr){return vr(g,Fe(13,"Enter"))})},20));var or=yt.start,Hr=yt.endA,rr,qa,Yr;if(nr){if(Kt.pos==xn.pos)We&&it<=11&&Kt.parentOffset==0&&(g.domObserver.suppressSelectionUpdates(),setTimeout(function(){return jr(g)},20)),rr=g.state.tr.delete(or,Hr),qa=tt.resolve(yt.start).marksAcross(tt.resolve(yt.endA));else if(yt.endA==yt.endB&&(Yr=th(Kt.parent.content.cut(Kt.parentOffset,xn.parentOffset),Un.parent.content.cut(Un.parentOffset,yt.endA-Un.start()))))rr=g.state.tr,Yr.type=="add"?rr.addMark(or,Hr,Yr.mark):rr.removeMark(or,Hr,Yr.mark);else if(Kt.parent.child(Kt.index()).isText&&Kt.index()==xn.index()-(xn.textOffset?0:1)){var Ua=Kt.parent.textBetween(Kt.parentOffset,xn.parentOffset);if(g.someProp("handleTextInput",function(vr){return vr(g,or,Hr,Ua)}))return;rr=g.state.tr.insertText(Ua,or,Hr)}}if(rr||(rr=g.state.tr.replace(or,Hr,Pe.doc.slice(yt.start-Pe.from,yt.endB-Pe.from))),Pe.sel){var Lr=il(g,rr.doc,Pe.sel);Lr&&!(Dt&&g.composing&&Lr.empty&&(yt.start!=yt.endB||g.input.lastChromeDelete<Date.now()-100)&&(Lr.head==or||Lr.head==rr.mapping.map(Hr)-1)||We&&Lr.empty&&Lr.head==or)&&rr.setSelection(Lr)}qa&&rr.ensureMarks(qa),B&&rr.setMeta("composition",B),g.dispatch(rr.scrollIntoView())}function il(g,E,m){return Math.max(m.anchor,m.head)>E.content.size?null:Ei(g,E.resolve(m.anchor),E.resolve(m.head))}function th(g,E){for(var m=g.firstChild.marks,S=E.firstChild.marks,L=m,B=S,W,j,re,le=0;le<S.length;le++)L=S[le].removeFromSet(L);for(var De=0;De<m.length;De++)B=m[De].removeFromSet(B);if(L.length==1&&B.length==0)j=L[0],W="add",re=function(ct){return ct.mark(j.addToSet(ct.marks))};else if(L.length==0&&B.length==1)j=B[0],W="remove",re=function(ct){return ct.mark(j.removeFromSet(ct.marks))};else return null;for(var Ye=[],Pe=0;Pe<E.childCount;Pe++)Ye.push(re(E.child(Pe)));if(F.Fragment.from(Ye).eq(g))return{mark:j,type:W}}function Es(g,E,m,S,L){if(m-E<=L.pos-S.pos||As(S,!0,!1)<L.pos)return!1;var B=g.resolve(E);if(!S.parent.isTextblock){var W=B.nodeAfter;return W!=null&&m==E+W.nodeSize}if(B.parentOffset<B.parent.content.size||!B.parent.isTextblock)return!1;var j=g.resolve(As(B,!0,!0));return!j.parent.isTextblock||j.pos>m||As(j,!0,!1)<m?!1:S.parent.content.cut(S.parentOffset).eq(j.parent.content)}function As(g,E,m){for(var S=g.depth,L=E?g.end():g.pos;S>0&&(E||g.indexAfter(S)==g.node(S).childCount);)S--,L++,E=!1;if(m)for(var B=g.node(S).maybeChild(g.indexAfter(S));B&&!B.isLeaf;)B=B.firstChild,L++;return L}function Xl(g,E,m,S,L){var B=g.findDiffStart(E,m);if(B==null)return null;var W=g.findDiffEnd(E,m+g.size,m+E.size),j=W.a,re=W.b;if(L=="end"){var le=Math.max(0,B-Math.min(j,re));S-=j+le-B}if(j<B&&g.size<E.size){var De=S<=B&&S>=j?B-S:0;B-=De,B&&B<E.size&&Fn(E.textBetween(B-1,B+1))&&(B+=De?1:-1),re=B+(re-j),j=B}else if(re<B){var Ye=S<=B&&S>=re?B-S:0;B-=Ye,B&&B<g.size&&Fn(g.textBetween(B-1,B+1))&&(B+=Ye?1:-1),j=B+(j-re),re=B}return{start:B,endA:j,endB:re}}function Fn(g){if(g.length!=2)return!1;var E=g.charCodeAt(0),m=g.charCodeAt(1);return E>=56320&&E<=57343&&m>=55296&&m<=56319}var nh=He,mf=tl,Ql=function(){function g(E,m){var S=this;h(this,g),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new rf,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=m,this.state=m.state,this.directPlugins=m.plugins||[],this.directPlugins.forEach(nc),this.dispatch=this.dispatch.bind(this),this.dom=E&&E.mount||document.createElement("div"),E&&(E.appendChild?E.appendChild(this.dom):typeof E=="function"?E(this.dom):E.mount&&(this.mounted=!0)),this.editable=wf(this),bf(this),this.nodeViews=Ha(this),this.docView=M(this.state.doc,yf(this),ec(this),this.dom,this),this.domObserver=new $e(this,function(L,B,W,j){return Di(S,L,B,W,j)}),this.domObserver.start(),af(this),this.updatePluginViews()}return A(g,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var m=this._props;this._props={};for(var S in m)this._props[S]=m[S];this._props.state=this.state}return this._props}},{key:"update",value:function(m){m.handleDOMEvents!=this._props.handleDOMEvents&&ti(this);var S=this._props;this._props=m,m.plugins&&(m.plugins.forEach(nc),this.directPlugins=m.plugins),this.updateStateInner(m.state,S)}},{key:"setProps",value:function(m){var S={};for(var L in this._props)S[L]=this._props[L];S.state=this.state;for(var B in m)S[B]=m[B];this.update(S)}},{key:"updateState",value:function(m){this.updateStateInner(m,this._props)}},{key:"updateStateInner",value:function(m,S){var L,B=this.state,W=!1,j=!1;m.storedMarks&&this.composing&&(Zl(this),j=!0),this.state=m;var re=B.plugins!=m.plugins||this._props.plugins!=S.plugins;if(re||this._props.plugins!=S.plugins||this._props.nodeViews!=S.nodeViews){var le=Ha(this);tu(le,this.nodeViews)&&(this.nodeViews=le,W=!0)}(re||S.handleDOMEvents!=this._props.handleDOMEvents)&&ti(this),this.editable=wf(this),bf(this);var De=ec(this),Ye=yf(this),Pe=B.plugins!=m.plugins&&!B.doc.eq(m.doc)?"reset":m.scrollToSelection>B.scrollToSelection?"to selection":"preserve",tt=W||!this.docView.matchesNode(m.doc,Ye,De);(tt||!m.selection.eq(B.selection))&&(j=!0);var ct=Pe=="preserve"&&j&&this.dom.style.overflowAnchor==null&&Et(this);if(j){this.domObserver.stop();var Tt=tt&&(We||Dt)&&!this.composing&&!B.selection.empty&&!m.selection.empty&&eu(B.selection,m.selection);if(tt){var It=Dt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ku(this)),(W||!this.docView.update(m.doc,Ye,De,this))&&(this.docView.updateOuterDeco(Ye),this.docView.destroy(),this.docView=M(m.doc,Ye,De,this.dom,this)),It&&!this.trackWrites&&(Tt=!0)}Tt||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Pa(this))?jr(this,Tt):(lo(this,m.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(B),!((L=this.dragging)===null||L===void 0)&&L.node&&!B.doc.eq(m.doc)&&this.updateDraggedNode(this.dragging,B),Pe=="reset"?this.dom.scrollTop=0:Pe=="to selection"?this.scrollToSelection():ct&&Gt(ct)}},{key:"scrollToSelection",value:function(){var m=this,S=this.domSelectionRange().focusNode;if(!(!S||!this.dom.contains(S.nodeType==1?S:S.parentNode))){if(!this.someProp("handleScrollToSelection",function(B){return B(m)}))if(this.state.selection instanceof O.NodeSelection){var L=this.docView.domAfterPos(this.state.selection.from);L.nodeType==1&&mt(this,L.getBoundingClientRect(),S)}else mt(this,this.coordsAtPos(this.state.selection.head,1),S)}}},{key:"destroyPluginViews",value:function(){for(var m;m=this.pluginViews.pop();)m.destroy&&m.destroy()}},{key:"updatePluginViews",value:function(m){if(!m||m.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var S=0;S<this.directPlugins.length;S++){var L=this.directPlugins[S];L.spec.view&&this.pluginViews.push(L.spec.view(this))}for(var B=0;B<this.state.plugins.length;B++){var W=this.state.plugins[B];W.spec.view&&this.pluginViews.push(W.spec.view(this))}}else for(var j=0;j<this.pluginViews.length;j++){var re=this.pluginViews[j];re.update&&re.update(this,m)}}},{key:"updateDraggedNode",value:function(m,S){var L=m.node,B=-1;if(this.state.doc.nodeAt(L.from)==L.node)B=L.from;else{var W=L.from+(this.state.doc.content.size-S.doc.content.size),j=W>0&&this.state.doc.nodeAt(W);j==L.node&&(B=W)}this.dragging=new _s(m.slice,m.move,B<0?void 0:O.NodeSelection.create(this.state.doc,B))}},{key:"someProp",value:function(m,S){var L=this._props&&this._props[m],B;if(L!=null&&(B=S?S(L):L))return B;for(var W=0;W<this.directPlugins.length;W++){var j=this.directPlugins[W].props[m];if(j!=null&&(B=S?S(j):j))return B}var re=this.state.plugins;if(re)for(var le=0;le<re.length;le++){var De=re[le].props[m];if(De!=null&&(B=S?S(De):De))return B}}},{key:"hasFocus",value:function(){if(We){var m=this.root.activeElement;if(m==this.dom)return!0;if(!m||!this.dom.contains(m))return!1;for(;m&&this.dom!=m&&this.dom.contains(m);){if(m.contentEditable=="false")return!1;m=m.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&an(this.dom),jr(this),this.domObserver.start()}},{key:"root",get:function(){var m=this,S=this._root;if(S==null){for(var L=function(re){if(re.nodeType==9||re.nodeType==11&&re.host)return re.getSelection||(Object.getPrototypeOf(re).getSelection=function(){return re.ownerDocument.getSelection()}),{v:m._root=re}},B,W=this.dom.parentNode;W;W=W.parentNode)if(B=L(W),B)return B.v}return S||document}},{key:"updateRoot",value:function(){this._root=null}},{key:"posAtCoords",value:function(m){return ar(this,m)}},{key:"coordsAtPos",value:function(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Oe(this,m,S)}},{key:"domAtPos",value:function(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.domFromPos(m,S)}},{key:"nodeDOM",value:function(m){var S=this.docView.descAt(m);return S?S.nodeDOM:null}},{key:"posAtDOM",value:function(m,S){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,B=this.docView.posFromDOM(m,S,L);if(B==null)throw new RangeError("DOM position not inside the editor");return B}},{key:"endOfTextblock",value:function(m,S){return et(this,S||this.state,m)}},{key:"pasteHTML",value:function(m,S){return Nr(this,"",m,!1,S||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(m,S){return Nr(this,m,null,!0,S||new ClipboardEvent("paste"))}},{key:"serializeForClipboard",value:function(m){return _t(this,m)}},{key:"destroy",value:function(){this.docView&&($d(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ec(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,pe())}},{key:"isDestroyed",get:function(){return this.docView==null}},{key:"dispatchEvent",value:function(m){return ho(this,m)}},{key:"dispatch",value:function(m){var S=this._props.dispatchTransaction;S?S.call(this,m):this.updateState(this.state.apply(m))}},{key:"domSelectionRange",value:function(){var m=this.domSelection();return m?Mt&&this.root.nodeType===11&&ke(this.dom.ownerDocument)==this.dom&&Bn(this,m)||m:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),g}();function yf(g){var E=Object.create(null);return E.class="ProseMirror",E.contenteditable=String(g.editable),g.someProp("attributes",function(m){if(typeof m=="function"&&(m=m(g.state)),m)for(var S in m)S=="class"?E.class+=" "+m[S]:S=="style"?E.style=(E.style?E.style+";":"")+m[S]:!E[S]&&S!="contenteditable"&&S!="nodeName"&&(E[S]=String(m[S]))}),E.translate||(E.translate="no"),[Ni.node(0,g.state.doc.content.size,E)]}function bf(g){if(g.markCursor){var E=document.createElement("img");E.className="ProseMirror-separator",E.setAttribute("mark-placeholder","true"),E.setAttribute("alt",""),g.cursorWrapper={dom:E,deco:Ni.widget(g.state.selection.from,E,{raw:!0,marks:g.markCursor})}}else g.cursorWrapper=null}function wf(g){return!g.someProp("editable",function(E){return E(g.state)===!1})}function eu(g,E){var m=Math.min(g.$anchor.sharedDepth(g.head),E.$anchor.sharedDepth(E.head));return g.$anchor.start(m)!=E.$anchor.start(m)}function Ha(g){var E=Object.create(null);function m(S){for(var L in S)Object.prototype.hasOwnProperty.call(E,L)||(E[L]=S[L])}return g.someProp("nodeViews",m),g.someProp("markViews",m),E}function tu(g,E){var m=0,S=0;for(var L in g){if(g[L]!=E[L])return!0;m++}for(var B in E)S++;return m!=S}function nc(g){if(g.spec.state||g.spec.filterTransaction||g.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}return Cc.Decoration=Ni,Cc.DecorationSet=di,Cc.EditorView=Ql,Cc.__endComposition=mf,Cc.__parseFromClipboard=nh,Cc}/*!
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */var AO;function got(){return AO||(AO=1,function(n,e){(function(r,i){n.exports=i(dot(),pot(),Z1(),K1(),vot())})(self,function(t,r,i,a,o){return function(){var l={368:function(v){/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */(function(y,k){v.exports=k()})(this,function(){function y(bt){if(Array.isArray(bt)){for(var mt=0,Et=Array(bt.length);mt<bt.length;mt++)Et[mt]=bt[mt];return Et}else return Array.from(bt)}var k=Object.hasOwnProperty,x=Object.setPrototypeOf,R=Object.isFrozen,d=Object.getPrototypeOf,h=Object.getOwnPropertyDescriptor,w=Object.freeze,A=Object.seal,D=Object.create,I=typeof Reflect<"u"&&Reflect,O=I.apply,F=I.construct;O||(O=function(mt,Et,Ft){return mt.apply(Et,Ft)}),w||(w=function(mt){return mt}),A||(A=function(mt){return mt}),F||(F=function(mt,Et){return new(Function.prototype.bind.apply(mt,[null].concat(y(Et))))});var $=Be(Array.prototype.forEach),z=Be(Array.prototype.pop),ee=Be(Array.prototype.push),me=Be(String.prototype.toLowerCase),ie=Be(String.prototype.match),pe=Be(String.prototype.replace),be=Be(String.prototype.indexOf),Ve=Be(String.prototype.trim),Ue=Be(RegExp.prototype.test),Ge=Je(TypeError);function Be(bt){return function(mt){for(var Et=arguments.length,Ft=Array(Et>1?Et-1:0),Gt=1;Gt<Et;Gt++)Ft[Gt-1]=arguments[Gt];return O(bt,mt,Ft)}}function Je(bt){return function(){for(var mt=arguments.length,Et=Array(mt),Ft=0;Ft<mt;Ft++)Et[Ft]=arguments[Ft];return F(bt,Et)}}function ye(bt,mt){x&&x(bt,null);for(var Et=mt.length;Et--;){var Ft=mt[Et];if(typeof Ft=="string"){var Gt=me(Ft);Gt!==Ft&&(R(mt)||(mt[Et]=Gt),Ft=Gt)}bt[Ft]=!0}return bt}function Me(bt){var mt=D(null),Et=void 0;for(Et in bt)O(k,bt,[Et])&&(mt[Et]=bt[Et]);return mt}function we(bt,mt){for(;bt!==null;){var Et=h(bt,mt);if(Et){if(Et.get)return Be(Et.get);if(typeof Et.value=="function")return Be(Et.value)}bt=d(bt)}function Ft(Gt){return console.warn("fallback value for",Gt),null}return Ft}var Fe=w(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ke=w(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ae=w(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ee=w(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ce=w(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ve=w(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ge=w(["#text"]),fe=w(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Re=w(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),We=w(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),it=w(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ht=A(/\{\{[\s\S]*|[\s\S]*\}\}/gm),xt=A(/<%[\s\S]*|[\s\S]*%>/gm),Dt=A(/^data-[\-\w.\u00B7-\uFFFF]/),Yt=A(/^aria-[\-\w]+$/),Mt=A(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),on=A(/^(?:\w+script|data):/i),Wt=A(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt};function Zt(bt){if(Array.isArray(bt)){for(var mt=0,Et=Array(bt.length);mt<bt.length;mt++)Et[mt]=bt[mt];return Et}else return Array.from(bt)}var gn=function(){return typeof window>"u"?null:window},En=function(mt,Et){if((typeof mt>"u"?"undefined":fn(mt))!=="object"||typeof mt.createPolicy!="function")return null;var Ft=null,Gt="data-tt-policy-suffix";Et.currentScript&&Et.currentScript.hasAttribute(Gt)&&(Ft=Et.currentScript.getAttribute(Gt));var Nn="dompurify"+(Ft?"#"+Ft:"");try{return mt.createPolicy(Nn,{createHTML:function(an){return an}})}catch{return console.warn("TrustedTypes policy "+Nn+" could not be created."),null}};function $t(){var bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gn(),mt=function(He){return $t(He)};if(mt.version="2.3.3",mt.removed=[],!bt||!bt.document||bt.document.nodeType!==9)return mt.isSupported=!1,mt;var Et=bt.document,Ft=bt.document,Gt=bt.DocumentFragment,Nn=bt.HTMLTemplateElement,hn=bt.Node,an=bt.Element,Qt=bt.NodeFilter,lr=bt.NamedNodeMap,Hn=lr===void 0?bt.NamedNodeMap||bt.MozNamedAttrMap:lr,Er=bt.Text,fr=bt.Comment,dr=bt.DOMParser,Qn=bt.trustedTypes,ar=an.prototype,Ar=we(ar,"cloneNode"),se=we(ar,"nextSibling"),he=we(ar,"childNodes"),Oe=we(ar,"parentNode");if(typeof Nn=="function"){var Xe=Ft.createElement("template");Xe.content&&Xe.content.ownerDocument&&(Ft=Xe.content.ownerDocument)}var te=En(Qn,Et),ne=te&&oo?te.createHTML(""):"",G=Ft,V=G.implementation,Y=G.createNodeIterator,K=G.createDocumentFragment,de=G.getElementsByTagName,qe=Et.importNode,et={};try{et=Me(Ft).documentMode?Ft.documentMode:{}}catch{}var Ne={};mt.isSupported=typeof Oe=="function"&&V&&typeof V.createHTMLDocument<"u"&&et!==9;var _e=ht,Ze=xt,nt=Dt,wt=Yt,Ht=on,J=Wt,U=Mt,T=null,M=ye({},[].concat(Zt(Fe),Zt(ke),Zt(Ae),Zt(Ce),Zt(ge))),q=null,X=ye({},[].concat(Zt(fe),Zt(Re),Zt(We),Zt(it))),oe=null,Te=null,ze=!0,Ke=!0,ft=!1,pt=!1,kt=!1,Rt=!1,mn=!1,qn=!1,Ti=!1,Ia=!0,oo=!1,Ks=!0,ms=!0,so=!1,Si={},fa=null,ys=ye({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),jr=null,bs=ye({},["audio","video","img","source","image","track"]),ws=null,Bo=ye({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Po="http://www.w3.org/1998/Math/MathML",Fo="http://www.w3.org/2000/svg",da="http://www.w3.org/1999/xhtml",lo=da,uo=!1,Ei=void 0,Ba=["application/xhtml+xml","text/html"],Js="text/html",Pa=void 0,ha=null,Wi=Ft.createElement("form"),zo=function(He){ha&&ha===He||((!He||(typeof He>"u"?"undefined":fn(He))!=="object")&&(He={}),He=Me(He),T="ALLOWED_TAGS"in He?ye({},He.ALLOWED_TAGS):M,q="ALLOWED_ATTR"in He?ye({},He.ALLOWED_ATTR):X,ws="ADD_URI_SAFE_ATTR"in He?ye(Me(Bo),He.ADD_URI_SAFE_ATTR):Bo,jr="ADD_DATA_URI_TAGS"in He?ye(Me(bs),He.ADD_DATA_URI_TAGS):bs,fa="FORBID_CONTENTS"in He?ye({},He.FORBID_CONTENTS):ys,oe="FORBID_TAGS"in He?ye({},He.FORBID_TAGS):{},Te="FORBID_ATTR"in He?ye({},He.FORBID_ATTR):{},Si="USE_PROFILES"in He?He.USE_PROFILES:!1,ze=He.ALLOW_ARIA_ATTR!==!1,Ke=He.ALLOW_DATA_ATTR!==!1,ft=He.ALLOW_UNKNOWN_PROTOCOLS||!1,pt=He.SAFE_FOR_TEMPLATES||!1,kt=He.WHOLE_DOCUMENT||!1,qn=He.RETURN_DOM||!1,Ti=He.RETURN_DOM_FRAGMENT||!1,Ia=He.RETURN_DOM_IMPORT!==!1,oo=He.RETURN_TRUSTED_TYPE||!1,mn=He.FORCE_BODY||!1,Ks=He.SANITIZE_DOM!==!1,ms=He.KEEP_CONTENT!==!1,so=He.IN_PLACE||!1,U=He.ALLOWED_URI_REGEXP||U,lo=He.NAMESPACE||da,Ei=Ba.indexOf(He.PARSER_MEDIA_TYPE)===-1?Ei=Js:Ei=He.PARSER_MEDIA_TYPE,Pa=Ei==="application/xhtml+xml"?function(Ct){return Ct}:me,pt&&(Ke=!1),Ti&&(qn=!0),Si&&(T=ye({},[].concat(Zt(ge))),q=[],Si.html===!0&&(ye(T,Fe),ye(q,fe)),Si.svg===!0&&(ye(T,ke),ye(q,Re),ye(q,it)),Si.svgFilters===!0&&(ye(T,Ae),ye(q,Re),ye(q,it)),Si.mathMl===!0&&(ye(T,Ce),ye(q,We),ye(q,it))),He.ADD_TAGS&&(T===M&&(T=Me(T)),ye(T,He.ADD_TAGS)),He.ADD_ATTR&&(q===X&&(q=Me(q)),ye(q,He.ADD_ATTR)),He.ADD_URI_SAFE_ATTR&&ye(ws,He.ADD_URI_SAFE_ATTR),He.FORBID_CONTENTS&&(fa===ys&&(fa=Me(fa)),ye(fa,He.FORBID_CONTENTS)),ms&&(T["#text"]=!0),kt&&ye(T,["html","head","body"]),T.table&&(ye(T,["tbody"]),delete oe.tbody),w&&w(He),ha=He)},co=ye({},["mi","mo","mn","ms","mtext"]),Fa=ye({},["foreignobject","desc","title","annotation-xml"]),Gi=ye({},ke);ye(Gi,Ae),ye(Gi,Ee);var Xs=ye({},Ce);ye(Xs,ve);var Uu=function(He){var Ct=Oe(He);(!Ct||!Ct.tagName)&&(Ct={namespaceURI:da,tagName:"template"});var qt=me(He.tagName),In=me(Ct.tagName);if(He.namespaceURI===Fo)return Ct.namespaceURI===da?qt==="svg":Ct.namespaceURI===Po?qt==="svg"&&(In==="annotation-xml"||co[In]):!!Gi[qt];if(He.namespaceURI===Po)return Ct.namespaceURI===da?qt==="math":Ct.namespaceURI===Fo?qt==="math"&&Fa[In]:!!Xs[qt];if(He.namespaceURI===da){if(Ct.namespaceURI===Fo&&!Fa[In]||Ct.namespaceURI===Po&&!co[In])return!1;var br=ye({},["title","style","font","a","script"]);return!Xs[qt]&&(br[qt]||!Gi[qt])}return!1},ui=function(He){ee(mt.removed,{element:He});try{He.parentNode.removeChild(He)}catch{try{He.outerHTML=ne}catch{He.remove()}}},Vl=function(He,Ct){try{ee(mt.removed,{attribute:Ct.getAttributeNode(He),from:Ct})}catch{ee(mt.removed,{attribute:null,from:Ct})}if(Ct.removeAttribute(He),He==="is"&&!q[He])if(qn||Ti)try{ui(Ct)}catch{}else try{Ct.setAttribute(He,"")}catch{}},$l=function(He){var Ct=void 0,qt=void 0;if(mn)He="<remove></remove>"+He;else{var In=ie(He,/^[\r\n\t ]+/);qt=In&&In[0]}Ei==="application/xhtml+xml"&&(He='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+He+"</body></html>");var br=te?te.createHTML(He):He;if(lo===da)try{Ct=new dr().parseFromString(br,Ei)}catch{}if(!Ct||!Ct.documentElement){Ct=V.createDocument(lo,"template",null);try{Ct.documentElement.innerHTML=uo?"":br}catch{}}var wr=Ct.body||Ct.documentElement;return He&&qt&&wr.insertBefore(Ft.createTextNode(qt),wr.childNodes[0]||null),lo===da?de.call(Ct,kt?"html":"body")[0]:kt?Ct.documentElement:wr},Cs=function(He){return Y.call(He.ownerDocument||He,He,Qt.SHOW_ELEMENT|Qt.SHOW_COMMENT|Qt.SHOW_TEXT,null,!1)},Wl=function(He){return He instanceof Er||He instanceof fr?!1:typeof He.nodeName!="string"||typeof He.textContent!="string"||typeof He.removeChild!="function"||!(He.attributes instanceof Hn)||typeof He.removeAttribute!="function"||typeof He.setAttribute!="function"||typeof He.namespaceURI!="string"||typeof He.insertBefore!="function"},pa=function(He){return(typeof hn>"u"?"undefined":fn(hn))==="object"?He instanceof hn:He&&(typeof He>"u"?"undefined":fn(He))==="object"&&typeof He.nodeType=="number"&&typeof He.nodeName=="string"},Ai=function(He,Ct,qt){Ne[He]&&$(Ne[He],function(In){In.call(mt,Ct,qt,ha)})},Qs=function(He){var Ct=void 0;if(Ai("beforeSanitizeElements",He,null),Wl(He)||ie(He.nodeName,/[\u0080-\uFFFF]/))return ui(He),!0;var qt=Pa(He.nodeName);if(Ai("uponSanitizeElement",He,{tagName:qt,allowedTags:T}),!pa(He.firstElementChild)&&(!pa(He.content)||!pa(He.content.firstElementChild))&&Ue(/<[/\w]/g,He.innerHTML)&&Ue(/<[/\w]/g,He.textContent)||qt==="select"&&Ue(/<template/i,He.innerHTML))return ui(He),!0;if(!T[qt]||oe[qt]){if(ms&&!fa[qt]){var In=Oe(He)||He.parentNode,br=he(He)||He.childNodes;if(br&&In)for(var wr=br.length,hr=wr-1;hr>=0;--hr)In.insertBefore(Ar(br[hr],!0),se(He))}return ui(He),!0}return He instanceof an&&!Uu(He)||(qt==="noscript"||qt==="noembed")&&Ue(/<\/no(script|embed)/i,He.innerHTML)?(ui(He),!0):(pt&&He.nodeType===3&&(Ct=He.textContent,Ct=pe(Ct,_e," "),Ct=pe(Ct,Ze," "),He.textContent!==Ct&&(ee(mt.removed,{element:He.cloneNode()}),He.textContent=Ct)),Ai("afterSanitizeElements",He,null),!1)},Gl=function(He,Ct,qt){if(Ks&&(Ct==="id"||Ct==="name")&&(qt in Ft||qt in Wi))return!1;if(!(Ke&&!Te[Ct]&&Ue(nt,Ct))){if(!(ze&&Ue(wt,Ct))){if(!q[Ct]||Te[Ct])return!1;if(!ws[Ct]){if(!Ue(U,pe(qt,J,""))){if(!((Ct==="src"||Ct==="xlink:href"||Ct==="href")&&He!=="script"&&be(qt,"data:")===0&&jr[He])){if(!(ft&&!Ue(Ht,pe(qt,J,"")))){if(qt)return!1}}}}}}return!0},jl=function(He){var Ct=void 0,qt=void 0,In=void 0,br=void 0;Ai("beforeSanitizeAttributes",He,null);var wr=He.attributes;if(wr){var hr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q};for(br=wr.length;br--;){Ct=wr[br];var ci=Ct,fo=ci.name,ur=ci.namespaceURI;if(qt=Ve(Ct.value),In=Pa(fo),hr.attrName=In,hr.attrValue=qt,hr.keepAttr=!0,hr.forceKeepAttr=void 0,Ai("uponSanitizeAttribute",He,hr),qt=hr.attrValue,!hr.forceKeepAttr&&(Vl(fo,He),!!hr.keepAttr)){if(Ue(/\/>/i,qt)){Vl(fo,He);continue}pt&&(qt=pe(qt,_e," "),qt=pe(qt,Ze," "));var xs=Pa(He.nodeName);if(Gl(xs,In,qt))try{ur?He.setAttributeNS(ur,fo,qt):He.setAttribute(fo,qt),z(mt.removed)}catch{}}}Ai("afterSanitizeAttributes",He,null)}},Vu=function _t(He){var Ct=void 0,qt=Cs(He);for(Ai("beforeSanitizeShadowDOM",He,null);Ct=qt.nextNode();)Ai("uponSanitizeShadowNode",Ct,null),!Qs(Ct)&&(Ct.content instanceof Gt&&_t(Ct.content),jl(Ct));Ai("afterSanitizeShadowDOM",He,null)};return mt.sanitize=function(_t,He){var Ct=void 0,qt=void 0,In=void 0,br=void 0,wr=void 0;if(uo=!_t,uo&&(_t="<!-->"),typeof _t!="string"&&!pa(_t)){if(typeof _t.toString!="function")throw Ge("toString is not a function");if(_t=_t.toString(),typeof _t!="string")throw Ge("dirty is not a string, aborting")}if(!mt.isSupported){if(fn(bt.toStaticHTML)==="object"||typeof bt.toStaticHTML=="function"){if(typeof _t=="string")return bt.toStaticHTML(_t);if(pa(_t))return bt.toStaticHTML(_t.outerHTML)}return _t}if(Rt||zo(He),mt.removed=[],typeof _t=="string"&&(so=!1),!so)if(_t instanceof hn)Ct=$l("<!---->"),qt=Ct.ownerDocument.importNode(_t,!0),qt.nodeType===1&&qt.nodeName==="BODY"||qt.nodeName==="HTML"?Ct=qt:Ct.appendChild(qt);else{if(!qn&&!pt&&!kt&&_t.indexOf("<")===-1)return te&&oo?te.createHTML(_t):_t;if(Ct=$l(_t),!Ct)return qn?null:ne}Ct&&mn&&ui(Ct.firstChild);for(var hr=Cs(so?_t:Ct);In=hr.nextNode();)In.nodeType===3&&In===br||Qs(In)||(In.content instanceof Gt&&Vu(In.content),jl(In),br=In);if(br=null,so)return _t;if(qn){if(Ti)for(wr=K.call(Ct.ownerDocument);Ct.firstChild;)wr.appendChild(Ct.firstChild);else wr=Ct;return Ia&&(wr=qe.call(Et,wr,!0)),wr}var ci=kt?Ct.outerHTML:Ct.innerHTML;return pt&&(ci=pe(ci,_e," "),ci=pe(ci,Ze," ")),te&&oo?te.createHTML(ci):ci},mt.setConfig=function(_t){zo(_t),Rt=!0},mt.clearConfig=function(){ha=null,Rt=!1},mt.isValidAttribute=function(_t,He,Ct){ha||zo({});var qt=Pa(_t),In=Pa(He);return Gl(qt,In,Ct)},mt.addHook=function(_t,He){typeof He=="function"&&(Ne[_t]=Ne[_t]||[],ee(Ne[_t],He))},mt.removeHook=function(_t){Ne[_t]&&z(Ne[_t])},mt.removeHooks=function(_t){Ne[_t]&&(Ne[_t]=[])},mt.removeAllHooks=function(){Ne={}},mt}var Rn=$t();return Rn})},928:function(v,y,k){var x=k(322);function R(d,h,w){var A,D;if(w=w||0,!x(h))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(h,d,w);for(D=h.length,A=w;w>=0&&A<D;A+=1)if(h[A]===d)return A;return-1}v.exports=R},690:function(v,y,k){var x=k(322),R=k(893),d=k(956);function h(w,A,D){x(w)?R(w,A,D):d(w,A,D)}v.exports=h},893:function(v){function y(k,x,R){var d=0,h=k.length;for(R=R||null;d<h&&x.call(R,k[d],d,k)!==!1;d+=1);}v.exports=y},956:function(v){function y(k,x,R){var d;R=R||null;for(d in k)if(k.hasOwnProperty(d)&&x.call(R,k[d],d,k)===!1)break}v.exports=y},990:function(v,y,k){var x=k(893);function R(d){var h;try{h=Array.prototype.slice.call(d)}catch{h=[],x(d,function(A){h.push(A)})}return h}v.exports=R},755:function(v){var y="_feEventKey";function k(x,R){var d=x[y],h;return d||(d=x[y]={}),h=d[R],h||(h=d[R]=[]),h}v.exports=k},349:function(v,y,k){var x=k(758),R=k(690),d=k(755);function h(D,I,O){if(x(I)){R(I.split(/\s+/g),function(F){w(D,F,O)});return}R(I,function(F,$){w(D,$,F)})}function w(D,I,O){var F=d(D,I),$;O?(R(F,function(z,ee){return O===z.handler?(A(D,I,z.wrappedHandler),$=ee,!1):!0}),F.splice($,1)):(R(F,function(z){A(D,I,z.wrappedHandler)}),F.splice(0,F.length))}function A(D,I,O){"removeEventListener"in D?D.removeEventListener(I,O):"detachEvent"in D&&D.detachEvent("on"+I,O)}v.exports=h},348:function(v,y,k){var x=k(758),R=k(690),d=k(755);function h(D,I,O,F){if(x(I)){R(I.split(/\s+/g),function($){w(D,$,O,F)});return}R(I,function($,z){w(D,z,$,O)})}function w(D,I,O,F){function $(z){O.call(F||D,z||window.event)}"addEventListener"in D?D.addEventListener(I,$):"attachEvent"in D&&D.attachEvent("on"+I,$),A(D,I,O,$)}function A(D,I,O,F){var $=d(D,I),z=!1;R($,function(ee){return ee.handler===O?(z=!0,!1):!0}),z||$.push({handler:O,wrappedHandler:F})}v.exports=h},24:function(v,y,k){var x=k(322),R=k(929);function d(h,w){if(w=x(w)?w.join(" "):w,w=w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),R(h.className.baseVal)){h.className=w;return}h.className.baseVal=w}v.exports=d},204:function(v,y,k){var x=k(690),R=k(928),d=k(902),h=k(24);function w(A){var D=Array.prototype.slice.call(arguments,1),I=A.classList,O=[],F;if(I){x(D,function($){A.classList.add($)});return}F=d(A),F&&(D=[].concat(F.split(/\s+/),D)),x(D,function($){R($,O)<0&&O.push($)}),h(A,O)}v.exports=w},522:function(v,y,k){var x=k(758),R=k(690);function d(h,w,A){var D=h.style;if(x(w)){D[w]=A;return}R(w,function(I,O){D[O]=I})}v.exports=d},902:function(v,y,k){var x=k(929);function R(d){return!d||!d.className?"":x(d.className.baseVal)?d.className:d.className.baseVal}v.exports=R},714:function(v,y,k){var x=k(928),R=k(902);function d(h,w){var A;return h.classList?h.classList.contains(w):(A=R(h).split(/\s+/),x(w,A)>-1)}v.exports=d},471:function(v,y,k){var x=k(928),R=k(990),d=Element.prototype,h=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector||function(A){var D=this.document||this.ownerDocument;return x(this,R(D.querySelectorAll(A)))>-1};function w(A,D){return h.call(A,D)}v.exports=w},462:function(v,y,k){var x=k(893),R=k(928),d=k(902),h=k(24);function w(A){var D=Array.prototype.slice.call(arguments,1),I=A.classList,O,F;if(I){x(D,function($){I.remove($)});return}O=d(A).split(/\s+/),F=[],x(O,function($){R($,D)<0&&F.push($)}),h(A,F)}v.exports=w},969:function(v){function y(k,x){var R=Object.prototype.hasOwnProperty,d,h,w,A;for(w=1,A=arguments.length;w<A;w+=1){d=arguments[w];for(h in d)R.call(d,h)&&(k[h]=d[h])}return k}v.exports=y},254:function(v,y,k){var x=k(956);function R(d,h){var w=document.createElement("img"),A="";return x(h,function(D,I){A+="&"+I+"="+D}),A=A.substring(1),w.src=d+"?"+A,w.style.display="none",document.body.appendChild(w),document.body.removeChild(w),w}v.exports=R},391:function(v,y,k){var x=k(929),R=k(254),d=7*24*60*60*1e3;function h(A){var D=new Date().getTime();return D-A>d}function w(A,D){var I="https://www.google-analytics.com/collect",O=location.hostname,F="event",$="use",z="TOAST UI "+A+" for "+O+": Statistics",ee=window.localStorage.getItem(z);!x(window.tui)&&window.tui.usageStatistics===!1||ee&&!h(ee)||(window.localStorage.setItem(z,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&R(I,{v:1,t:F,tid:D,cid:O,dp:O,dh:A,el:A,ec:$})},1e3))}v.exports=w},322:function(v){function y(k){return k instanceof Array}v.exports=y},65:function(v,y,k){var x=k(929),R=k(934);function d(h){return!x(h)&&!R(h)}v.exports=d},404:function(v,y,k){var x=k(790);function R(d){return!x(d)}v.exports=R},294:function(v){function y(k){return k instanceof Function}v.exports=y},934:function(v){function y(k){return k===null}v.exports=y},758:function(v){function y(k){return typeof k=="string"||k instanceof String}v.exports=y},790:function(v,y,k){var x=k(65);function R(d){return x(d)&&d!==!1}v.exports=R},929:function(v){function y(k){return k===void 0}v.exports=y},479:function(v){v.exports=t},481:function(v){v.exports=r},43:function(v){v.exports=i},814:function(v){v.exports=a},311:function(v){v.exports=o}},s={};function f(v){var y=s[v];if(y!==void 0)return y.exports;var k=s[v]={exports:{}};return l[v].call(k.exports,k,k.exports,f),k.exports}(function(){f.n=function(v){var y=v&&v.__esModule?function(){return v.default}:function(){return v};return f.d(y,{a:y}),y}})(),function(){f.d=function(v,y){for(var k in y)f.o(y,k)&&!f.o(v,k)&&Object.defineProperty(v,k,{enumerable:!0,get:y[k]})}}(),function(){f.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){f.o=function(v,y){return Object.prototype.hasOwnProperty.call(v,y)}}();var c={};return function(){f.d(c,{default:function(){return Jse}});var v=function(){return v=Object.assign||function(b){for(var N,P=1,Z=arguments.length;P<Z;P++){N=arguments[P];for(var ue in N)Object.prototype.hasOwnProperty.call(N,ue)&&(b[ue]=N[ue])}return b},v.apply(this,arguments)};function y(C,b,N){if(arguments.length===2)for(var P=0,Z=b.length,ue;P<Z;P++)(ue||!(P in b))&&(ue||(ue=Array.prototype.slice.call(b,0,P)),ue[P]=b[P]);return C.concat(ue||Array.prototype.slice.call(b))}/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var k=function(C,b){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,P){N.__proto__=P}||function(N,P){for(var Z in P)Object.prototype.hasOwnProperty.call(P,Z)&&(N[Z]=P[Z])},k(C,b)};function x(C,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");k(C,b);function N(){this.constructor=C}C.prototype=b===null?Object.create(b):(N.prototype=b.prototype,new N)}var R=function(){return R=Object.assign||function(b){for(var N,P=1,Z=arguments.length;P<Z;P++){N=arguments[P];for(var ue in N)Object.prototype.hasOwnProperty.call(N,ue)&&(b[ue]=N[ue])}return b},R.apply(this,arguments)};function d(C,b,N){if(arguments.length===2)for(var P=0,Z=b.length,ue;P<Z;P++)(ue||!(P in b))&&(ue||(ue=Array.prototype.slice.call(b,0,P)),ue[P]=b[P]);return C.concat(ue||Array.prototype.slice.call(b))}var h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof f.g<"u"?f.g:typeof self<"u"?self:{},w={};function A(C){var b,N,P=w[C];if(P)return P;for(P=w[C]=[],b=0;b<128;b++)N=String.fromCharCode(b),/^[0-9a-z]$/i.test(N)?P.push(N):P.push("%"+("0"+b.toString(16).toUpperCase()).slice(-2));for(b=0;b<C.length;b++)P[C.charCodeAt(b)]=C[b];return P}function D(C,b,N){var P,Z,ue,xe,Le,ot="";for(typeof b!="string"&&(N=b,b=D.defaultChars),typeof N>"u"&&(N=!0),Le=A(b),P=0,Z=C.length;P<Z;P++){if(ue=C.charCodeAt(P),N&&ue===37&&P+2<Z&&/^[0-9a-f]{2}$/i.test(C.slice(P+1,P+3))){ot+=C.slice(P,P+3),P+=2;continue}if(ue<128){ot+=Le[ue];continue}if(ue>=55296&&ue<=57343){if(ue>=55296&&ue<=56319&&P+1<Z&&(xe=C.charCodeAt(P+1),xe>=56320&&xe<=57343)){ot+=encodeURIComponent(C[P]+C[P+1]),P++;continue}ot+="%EF%BF%BD";continue}ot+=encodeURIComponent(C[P])}return ot}D.defaultChars=";/?:@&=+$,-_.!~*'()#",D.componentChars="-_.!~*'()";var I=D,O={},F={},$="Ã",z="Ã¡",ee="Ä",me="Ä",ie="â¾",pe="â¿",be="â¾Ì³",Ve="Ã",Ue="Ã¢",Ge="Â´",Be="Ð",Je="Ð°",ye="Ã",Me="Ã¦",we="â¡",Fe="ð",ke="ð",Ae="Ã",Ee="Ã ",Ce="âµ",ve="âµ",ge="Î",fe="Î±",Re="Ä",We="Ä",it="â¨¿",ht="&",xt="&",Dt="â©",Yt="â©",Mt="â§",on="â©",Wt="â©",fn="â©",Zt="â ",gn="â¦¤",En="â ",$t="â¦¨",Rn="â¦©",bt="â¦ª",mt="â¦«",Et="â¦¬",Ft="â¦­",Gt="â¦®",Nn="â¦¯",hn="â¡",an="â",Qt="â¾",lr="â¦",Hn="â¢",Er="Ã",fr="â¼",dr="Ä",Qn="Ä",ar="ð¸",Ar="ð",se="â©¯",he="â",Oe="â©°",Xe="â",te="â",ne="'",G="â¡",V="â",Y="â",K="Ã",de="Ã¥",qe="ð",et="ð¶",Ne="â",_e="*",Ze="â",nt="â",wt="Ã",Ht="Ã£",J="Ã",U="Ã¤",T="â³",M="â¨",q="â",X="Ï¶",oe="âµ",Te="â½",ze="â",Ke="â",ft="â«§",pt="â½",kt="â",Rt="â",mn="â",qn="âµ",Ti="â¶",Ia="â",oo="Ð",Ks="Ð±",ms="â",so="âµ",Si="âµ",fa="âµ",ys="â¦°",jr="Ï¶",bs="â¬",ws="â¬",Bo="Î",Po="Î²",Fo="â¶",da="â¬",lo="ð",uo="ð",Ei="â",Ba="â¯",Js="â",Pa="â¨",ha="â¨",Wi="â¨",zo="â¨",co="â",Fa="â½",Gi="â³",Xs="â¨",Uu="â",ui="â",Vl="â¤",$l="â§«",Cs="âª",Wl="â´",pa="â¾",Ai="â",Qs="â¸",Gl="â£",jl="â",Vu="â",_t="â",He="â",Ct="=â¥",qt="â¡â¥",In="â«­",br="â",wr="ð¹",hr="ð",ci="â¥",fo="â¥",ur="â",xs="â§",va="â",ef="â",$u="â",Mi="â",tf="â",Fr="â",zr="â",nf="â",rf="â",af="â",pr="â¬",$d="â¤",ti="â¥",Wu="â¦",of="â´",ho="â§",Ho="â¨",Gu="â©",Kn="â",fi="â",ju="â ",Wd="â",Yu="â",Gd="â",jd="â",Yd="â",Yl="â",el="â",ks="â",sf="â",lf="â",Zu="â¼",Zl="âª",Ku="â«",uf="â¬",tl="â¤",Ju="â¡",qo="â¢",Zd="â£",cf="â",Nr="â",Kl="â",_s="â ",ff="âµ",Xu="Ë",df="Ë",nl="Â¦",hf="ð·",rl="â¬",Kd="â",Ni="â½",Ts="â",Uo="â§",di="\\",Dr="â",za="â¢",Jl="â¢",pf="â",Jd="âª®",vf="â",Vo="â",ni="â",po="Ä",Qu="Ä",gf="â©",ec="â©",Xd="â©",Qd="â©",Ss="â",$e="â©",st="â©",Qe="â",Bt="â©ï¸",sn="â",Bn="Ë",Cr="â­",Yn="â©",tc="Ä",eh="Ä",Di="Ã",il="Ã§",th="Ä",Es="Ä",As="â°",Xl="â©",Fn="â©",nh="Ä",mf="Ä",Ql="Â¸",yf="Â¸",bf="â¦²",wf="Â¢",eu="Â·",Ha="Â·",tu="ð ",nc="â­",g="Ð§",E="Ñ",m="â",S="â",L="Î§",B="Ï",W="Ë",j="â",re="âº",le="â»",De="â",Ye="â",Pe="â",tt="â",ct="Â®",Tt="â",It="â",yt="â",Jt="â",jt="â",Kt="â§",xn="â",Un="â¨",nr="â«¯",hi="â§",or="â²",Hr="â",rr="â",qa="â£",Yr="â£",Ua=":",Lr="â·",vr="â©´",rh="â",ih="â",nu=",",$o="@",al="â",Ms="â",mv="â",ae="â",ru="â",Cf="â©­",ga="â¡",Tn="â®",J1="â¯",X1="â®",Q1="ð",ol="â",ey="â",ty="â",ny="Â©",ry="Â©",iy="â",Wo="â³",ay="âµ",oy="â",sy="â¨¯",ly="ð",uy="ð¸",Go="â«",cy="â«",fy="â«",dy="â«",hy="â¯",py="â¤¸",sl="â¤µ",vy="â",gy="â",Va="â¶",my="â¤½",yy="â©",by="â©",wy="â",Cy="âª",yv="â",bv="â©",xy="â",ky="â©",ah="âªï¸",rc="â·",xf="â¤¼",_y="â",wv="â",Ty="â",jo="â",oh="Â¤",ll="â¶",ma="â·",Sy="â",Cv="â",xv="â²",ic="â±",Ns="â­",kv="â ",Ey="â¡",kf="â¸",Ay="â",_v="â¡",Zr="â",sh="â",Tv="â«¤",vo="â£",lh="â¤",_f="Ë",ul="Ä",Sv="Ä",pi="Ð",uh="Ð´",My="â¡",Ny="â",Dy="â",ch="â",Ly="â¤",ac="â©·",Ev="Â°",Oy="â",Ry="Î",oc="Î´",Iy="â¦±",By="â¥¿",fh="ð",Av="ð¡",Py="â¥¥",Fy="â",zy="â",Mv="Â´",dh="Ë",Hy="Ë",hh="`",Nv="Ë",Dv="â",Lv="â",Tf="â",qy="â¦",Ov="â¦",Rv="Â¨",Uy="â",Iv="Ï",Vy="â²",ph="Ã·",Bv="Ã·",vh="â",$y="â",gh="Ð",kn="Ñ",Wy="â",Gy="â",sc="$",Pv="ð»",jy="ð",Yy="Â¨",ya="Ë",Zy="â",Sf="â",mh="â",Fv="â",zv="â¸",ji="â",Ds="â¡",yh="â",Hv="â¯",Ef="Â¨",qv="â",bh="â",Uv="â",wh="â«¤",Ch="â¸",Ls="âº",Ky="â¹",Os="â",Vv="â¨",$v="â",xh="â",Jy="â¥",Xy="â¤",Qy="â",Wv="â",Gv="â",eb="âµ",jv="Ì",Yv="â",Li="â",go="â",tb="â¥",nb="â¥",Af="â¥",iu="â½",Zv="â¥",Kv="â¥",rb="â",Jv="â§",au="â¤",lc="â¤",ib="â",Xv="â",Qv="ð",Mf="ð¹",eg="Ð",Nf="Ñ",kh="â§¶",Df="Ä",ab="Ä",tg="â±",Lf="â¿",ng="â¾",_h="âµ",ob="â¥¯",rg="â¦¦",Yo="Ð",ig="Ñ",ag="â¿",sb="Ã",og="Ã©",lb="â©®",ub="Ä",Zo="Ä",Th="Ã",Sh="Ãª",Eh="â",Of="â",ou="Ð­",tn="Ñ",Rf="â©·",Ah="Ä",cl="Ä",cb="â",Mh="â",sg="â",ri="ð",fb="ð¢",db="âª",lg="Ã",hb="Ã¨",ug="âª",pb="âª",vb="âª",gb="â",Ko="â§",vi="â",Nh="âª",mb="âª",Dh="Ä",yb="Ä",bb="â",uc="â",cg="â»",fg="â",wb="â«",Cb="â",xb="â",kb="â",dg="Å",hg="Å",_b="â",Lh="Ä",pg="Ä",cc="ð¼",Oh="ð",vg="â",gg="â§£",If="â©±",mg="Îµ",mo="Î",fl="Îµ",Tb="Ïµ",yg="â",Sb="â",Eb="â",Ab="âª",Mb="âª",Nb="â©µ",Db="=",Lb="â",Ob="â",Rb="â",Ib="â¡",Bb="â©¸",bg="â§¥",wg="â¥±",Cg="â",Pb="â¯",Fb="â°",zb="â",xg="â©³",Hb="â",qb="Î",Ub="Î·",Vb="Ã",$b="Ã°",Wb="Ã",ba="Ã«",Gb="â¬",jb="!",Yb="â",kg="â",Zb="â°",Kb="â",Jb="â",Xb="â",Rh="Ð¤",Qb="Ñ",ew="â",tw="ï¬",nw="ï¬",rw="ï¬",iw="ð",aw="ð£",ow="ï¬",sw="â¼",lw="âª",uw="fj",cw="â­",fw="ï¬",dw="â±",hw="Æ",pw="ð½",vw="ð",gw="â",mw="â",yw="â",Ih="â«",_g="â±",bw="â¨",ww="Â½",Cw="â",xw="Â¼",kw="â",_w="â",Tw="â",Sw="â",Tg="â",Ew="Â¾",Bf="â",Aw="â",Mw="â",Nw="â",Dw="â",Lw="â",Ow="â",Rw="â¢",Iw="ð»",Bw="â±",Pw="Çµ",Fw="Î",zw="Î³",Hw="Ï",qw="Ï",Uw="âª",Vw="Ä",Sg="Ä",Eg="Ä¢",$w="Ä",Ww="Ä",Gw="Ð",jw="Ð³",Pf="Ä ",Yw="Ä¡",Zw="â¥",Kw="â§",Jw="âª",Xw="â",Qw="â¥",eC="â§",tC="â©¾",nC="âª©",rC="â©¾",iC="âª",Ff="âª",aC="âª",Ag="âï¸",Mg="âª",Bh="ð",Ng="ð¤",Dg="â«",Lg="â",Og="â",oC="â·",sC="Ð",lC="Ñ",zf="âª¥",Hf="â·",uC="âª",cC="âª¤",Ph="âª",Rg="âª",fC="âª",dC="â©",hC="âª",pC="â©",vC="â§",gC="ð¾",mC="ð",yC="`",bC="â¥",wC="â",CC="â§",xC="âª¢",$a="â·",kC="â©¾",_C="â³",dl="ð¢",dn="â",TC="â³",Oi="âª",xr="âª",SC="âª§",Rs="â©º",EC=">",AC=">",MC="â«",NC="â",DC="â¦",Fh="â©¼",LC="âª",Jo="â¥¸",Ig="â",qf="â",cr="âª",gr="â·",Bg="â³",OC="â©ï¸",RC="â©ï¸",IC="Ë",BC="â",PC="Â½",FC="â",Pg="Ðª",fc="Ñ",zh="â¥",zC="â",Fg="â",Uf="â­",Yi="^",su="â",HC="Ä¤",qC="Ä¥",UC="â¥",VC="â¥",$C="â¦",zg="â¹",Xo="ð¥",yn="â",Hg="â",wa="â¤¥",qg="â¤¦",WC="â¿",Wn="â»",GC="â©",Ug="âª",Vf="ð",jC="â",YC="â",ZC="â",KC="ð½",JC="â",XC="â",QC="Ä¦",ex="Ä§",tx="â",nx="â",rx="â",ix="â",ax="Ã",Hh="Ã­",ox="â£",qh="Ã",sx="Ã®",lx="Ð",ux="Ð¸",qr="Ä°",Ri="Ð",cx="Ðµ",fx="Â¡",dx="â",Vg="ð¦",hx="â",px="Ã",vx="Ã¬",$g="â",gx="â¨",mx="â­",yx="â§",Wg="â©",Gg="Ä²",bx="Ä³",wx="Äª",Cx="Ä«",xx="â",lu="â",kx="â",_x="â",Tx="Ä±",Sx="â",Ex="â·",jg="Æµ",Yg="â",Ax="â",Mx="â",Nx="â§",Dx="Ä±",Lx="âº",Ox="â«",Rx="â¬",Ix="â¤",Bx="â«",Px="âº",Fx="â",zx="â¨",Hx="â¨¼",qx="â£",Ux="â¢",Vx="Ð",$x="Ñ",Wx="Ä®",Gx="Ä¯",jx="ð",Yx="ð",Zx="Î",Kx="Î¹",Jx="â¨¼",Xx="Â¿",Uh="ð¾",Zg="â",Kg="â",Qx="âµ",ek="â¹",tk="â´",Vh="â³",nk="â",rk="â¢",ik="Ä¨",Ii="Ä©",$h="Ð",ak="Ñ",ok="Ã",sk="Ã¯",lk="Ä´",Wh="Äµ",uk="Ð",Gh="Ð¹",ck="ð",fk="ð§",dk="È·",hk="ð",Jg="ð",pk="ð¥",vk="ð¿",gk="Ð",jh="Ñ",Yh="Ð",mk="Ñ",yk="Î",bk="Îº",wk="Ï°",Ck="Ä¶",xk="Ä·",kk="Ð",_k="Ðº",Tk="ð",Sk="ð¨",Ek="Ä¸",Ak="Ð¥",Mk="Ñ",Nk="Ð",Dk="Ñ",Lk="ð",Ok="ð",Rk="ð¦",Ik="ð",Bk="â",Pk="Ä¹",u="Äº",p="â¦´",_="â",H="Î",Q="Î»",ce="â¨",Se="âª",Ie="â¦",je="â¨",lt="âª",ut="â",vt="Â«",Nt="â¤",Ut="â¤",nn="â",bn="â",rn="â",_n="â¤",An="â©",Zi="â«",gi="â¤¹",Ki="â¥³",kr="â¢",Wa="â¤",Qo="â¤",Xg="âª«",q5="âª­",U5="âª­ï¸",V5="â¤",$5="â¤",W5="â²",G5="{",j5="[",Y5="â¦",Z5="â¦",K5="â¦",J5="Ä½",X5="Ä¾",Q5="Ä»",eB="Ä¼",tB="â",nB="{",rB="Ð",iB="Ð»",aB="â¤¶",oB="â",sB="â",lB="â¥§",uB="â¥",cB="â²",fB="â¤",dB="â¦",hB="â¨",pB="â¤",vB="â",gB="â",mB="â",yB="â",bB="â¢",wB="â",CB="â¦",xB="â¥¡",kB="â¥",_B="â",TB="â",SB="â½",EB="â¼",AB="â",MB="â",NB="â",DB="â",LB="â",OB="â",RB="â­",IB="â¥",BB="â¤",PB="â£",FB="â¥",zB="â",HB="â§",qB="â²",UB="â´",VB="â¥",$B="â¥ ",WB="â¥",GB="â¿",jB="â¥",YB="â¼",ZB="âª",KB="â",JB="â¤",XB="â¦",QB="â©½",eP="âª¨",tP="â©½",nP="â©¿",rP="âª",iP="âª",aP="âï¸",oP="âª",sP="âª",lP="â",uP="â",cP="âª",fP="â",dP="â¦",hP="â¶",pP="â¶",vP="âª¡",gP="â²",mP="â©½",yP="â²",bP="â¥¼",wP="â",CP="ð",xP="ð©",kP="â¶",_P="âª",TP="â¥¢",SP="â½",EP="â¼",AP="â¥ª",MP="â",NP="Ð",DP="Ñ",LP="â",OP="âª",RP="â",IP="â",BP="â",PP="â¥«",FP="âº",zP="Ä¿",HP="Å",qP="â°",UP="â°",VP="âª",$P="âª",WP="âª",GP="â¨",jP="âª",YP="â¨",ZP="â¦",KP="â¬",JP="â½",XP="â¦",QP="âµ",e7="âµ",t7="â¸",n7="â·",r7="â·",i7="âº",a7="â¼",o7="â¶",s7="â¶",l7="â¹",u7="â«",c7="â¬",f7="â¦",d7="ð",h7="ð",p7="â¨­",v7="â¨´",g7="â",m7="_",y7="â",b7="â",w7="â",C7="â",x7="â§«",k7="(",_7="â¦",T7="â",S7="â",E7="â",A7="â¥­",M7="â",N7="â¿",D7="â¹",L7="ð",O7="â",R7="â°",I7="â°",B7="â²",P7="âª",F7="âª",z7="[",H7="â",q7="â",U7="Å",V7="Å",$7="âª¦",W7="â©¹",G7="<",j7="<",Y7="âª",Z7="â",K7="â",J7="â",X7="â¥¶",Q7="â©»",e6="â",t6="â´",n6="â",r6="â¦",i6="â¥",a6="â¥¦",o6="â¨ï¸",s6="â¨ï¸",l6="Â¯",u6="â",c6="â ",f6="â ",d6="â¦",h6="â¦",p6="â§",v6="â¤",g6="â¥",m6="â®",y6="â¨©",b6="Ð",w6="Ð¼",C6="â",x6="âº",k6="â¡",_6="â",T6="â³",S6="ð",E6="ðª",A6="â§",M6="Âµ",N6="*",D6="â«°",L6="â£",O6="Â·",R6="â",I6="â",B6="â¸",P6="â¨ª",F6="â",z6="â«",H6="â¦",q6="â",U6="â§",V6="ð",$6="ð",W6="â",G6="ð",j6="â³",Y6="â¾",Z6="Î",K6="Î¼",J6="â¸",X6="â¸",Q6="â",e8="Å",t8="Å",n8="â â",r8="â",i8="â©°Ì¸",a8="âÌ¸",o8="Å",s8="â",l8="â®",u8="â",c8="â®",f8="Â ",d8="âÌ¸",h8="âÌ¸",p8="â©",v8="Å",g8="Å",m8="Å",y8="Å",b8="â",w8="â©­Ì¸",C8="â©",x8="Ð",k8="Ð½",_8="â",T8="â¤¤",S8="â",E8="â",A8="â",M8="â ",N8="âÌ¸",D8="â",L8="â",O8="â",R8="â",I8="â¢",B8="â¤¨",P8="âÌ¸",F8="â«",z8="âª",H8=`
`,q8="â",U8="â",V8="ð",$8="ð«",W8="â§Ì¸",G8="â±",j8="â±",Y8="â§Ì¸",Z8="â©¾Ì¸",K8="â©¾Ì¸",J8="âÌ¸",X8="âµ",Q8="â«â",eF="â¯",tF="â¯",nF="â«Ì¸",rF="â®",iF="â",aF="â«²",oF="â",sF="â¼",lF="âº",uF="â",cF="Ð",fF="Ñ",dF="â",hF="â",pF="â¥",vF="â¦Ì¸",gF="â°",mF="â",yF="â",bF="â®",wF="â",CF="â°",xF="â¦Ì¸",kF="â©½Ì¸",_F="â©½Ì¸",TF="â®",SF="âÌ¸",EF="â´",AF="âªâ",MF="â®",NF="âª",DF="â¬",LF="âªÌ¸",OF="â¤",RF="â ",IF="Â ",BF="ð",PF="â",FF="â«¬",zF="Â¬",HF="â¢",qF="â­",UF="â¦",VF="â",$F="â ",WF="âÌ¸",GF="â",jF="â¯",YF="â±",ZF="â§Ì¸",KF="â«Ì¸",JF="â¹",XF="â©¾Ì¸",QF="âµ",e9="âÌ¸",t9="âÌ¸",n9="â",r9="âµÌ¸",i9="â¹Ì¸",a9="â",o9="â·",s9="â¶",l9="â§Ì¸",u9="âª",c9="â¬",f9="â®",d9="â°",h9="â¸",p9="âªÌ¸",v9="â©½Ì¸",g9="â´",m9="âª¢Ì¸",y9="âª¡Ì¸",b9="â",w9="â",C9="â¾",x9="â½",k9="â",_9="âª¯Ì¸",T9="â ",S9="â",E9="â§Ì¸",A9="â«",M9="â­",N9="âÌ¸",D9="â¢",L9="âÌ¸",O9="â£",R9="ââ",I9="â",B9="â",P9="âª°Ì¸",F9="â¡",z9="â¿Ì¸",H9="ââ",q9="â",U9="â",V9="â",$9="â",W9="â",G9="â¤",j9="â¦",Y9="â¦",Z9="â«½â¥",K9="âÌ¸",J9="â¨",X9="â",Q9="â ",ez="â",tz="âª¯Ì¸",nz="âª¯Ì¸",rz="â¤³Ì¸",iz="â",az="â",oz="âÌ¸",sz="â",lz="â",uz="â«",cz="â­",fz="â",dz="â¡",hz="âª°Ì¸",pz="ð©",vz="ð",gz="â¤",mz="â¦",yz="â",bz="â",wz="â",Cz="â¤",xz="â¦",kz="â¢",_z="â£",Tz="â",Sz="â«Ì¸",Ez="â",Az="ââ",Mz="â",Nz="â«Ì¸",Dz="â",Lz="âª°Ì¸",Oz="â",Rz="â«Ì¸",Iz="â",Bz="ââ",Pz="â",Fz="â«Ì¸",zz="â¹",Hz="Ã",qz="Ã±",Uz="â¸",Vz="âª",$z="â¬",Wz="â«",Gz="â­",jz="Î",Yz="Î½",Zz="#",Kz="â",Jz="â",Xz="ââ",Qz="â¬",eH="â­",tH="â®",nH="â¯",rH="â¥â",iH=">â",aH="â¤",oH="â§",sH="â¤",lH="â¤â",uH="<â",cH="â´â",fH="â¤",dH="âµâ",hH="â¼â",pH="â¤£",vH="â",gH="â",mH="â",yH="â¤§",bH="Ã",wH="Ã³",CH="â",xH="Ã",kH="Ã´",_H="â",TH="Ð",SH="Ð¾",EH="â",AH="Å",MH="Å",NH="â¨¸",DH="â",LH="â¦¼",OH="Å",RH="Å",IH="â¦¿",BH="ð",PH="ð¬",FH="Ë",zH="Ã",HH="Ã²",qH="â§",UH="â¦µ",VH="Î©",$H="â®",WH="âº",GH="â¦¾",jH="â¦»",YH="â¾",ZH="â§",KH="Å",JH="Å",XH="Î©",QH="Ï",eq="Î",tq="Î¿",nq="â¦¶",rq="â",iq="ð",aq="ð ",oq="â¦·",sq="â",lq="â",uq="â¦¹",cq="â",fq="â»",dq="â©",hq="â¨",pq="â©",vq="â´",gq="â´",mq="Âª",yq="Âº",bq="â¶",wq="â©",Cq="â©",xq="â©",kq="â",_q="ðª",Tq="â´",Sq="Ã",Eq="Ã¸",Aq="â",Mq="Ã",Nq="Ãµ",Dq="â¨¶",Lq="â¨·",Oq="â",Rq="Ã",Iq="Ã¶",Bq="â½",Pq="â¾",Fq="â",zq="â´",Hq="â",qq="Â¶",Uq="â¥",Vq="â¥",$q="â«³",Wq="â«½",Gq="â",jq="â",Yq="Ð",Zq="Ð¿",Kq="%",Jq=".",Xq="â°",Qq="â¥",eU="â±",tU="ð",nU="ð­",rU="Î¦",iU="Ï",aU="Ï",oU="â³",sU="â",lU="Î ",uU="Ï",cU="â",fU="Ï",dU="â",hU="â",pU="â",vU="â¨£",gU="â",mU="â¨¢",yU="+",bU="â",wU="â¨¥",CU="â©²",xU="Â±",kU="Â±",_U="â¨¦",TU="â¨§",SU="Â±",EU="â",AU="â¨",MU="ð¡",NU="â",DU="Â£",LU="âª·",OU="âª»",RU="âº",IU="â¼",BU="âª·",PU="âº",FU="â¼",zU="âº",HU="âª¯",qU="â¼",UU="â¾",VU="âª¯",$U="âª¹",WU="âªµ",GU="â¨",jU="âª¯",YU="âª³",ZU="â¾",KU="â²",JU="â³",XU="â",QU="âª¹",eV="âªµ",tV="â¨",nV="â",rV="â",iV="â®",aV="â",oV="â",sV="â",lV="â",uV="â·",cV="â",fV="â¾",dV="â°",hV="ð«",pV="ð",vV="Î¨",gV="Ï",mV="â",yV="ð",bV="ð®",wV="â¨",CV="ð¢",xV="â",kV="â",_V="ð¬",TV="ð",SV="â",EV="â¨",AV="?",MV="â",NV='"',DV='"',LV="â",OV="â½Ì±",RV="Å",IV="Å",BV="â",PV="â¦³",FV="â©",zV="â«",HV="â¦",qV="â¦¥",UV="â©",VV="Â»",$V="â¥µ",WV="â¥",GV="â¤ ",jV="â¤³",YV="â",ZV="â ",KV="â",JV="â¤",XV="âª",QV="â¬",e$="â¥",t$="â¥´",n$="â¤",r$="â£",i$="â",a$="â¤",o$="â¤",s$="â¶",l$="â",u$="â¤",c$="â¤",f$="â¤",d$="â³",h$="}",p$="]",v$="â¦",g$="â¦",m$="â¦",y$="Å",b$="Å",w$="Å",C$="Å",x$="â",k$="}",_$="Ð ",T$="Ñ",S$="â¤·",E$="â¥©",A$="â",M$="â",N$="â³",D$="â",L$="â",O$="â",R$="â",I$="â",B$="â­",P$="Â®",F$="Â®",z$="â",H$="â",q$="â¥¯",U$="â¥½",V$="â",$$="ð¯",W$="â",G$="â¥¤",j$="â",Y$="â",Z$="â¥¬",K$="Î¡",J$="Ï",X$="Ï±",Q$="â©",eW="â¥",tW="â",nW="â",rW="â",iW="â",aW="â£",oW="â",sW="â§",lW="â¥",uW="â¥",cW="â",fW="â",dW="â",hW="â",pW="â",vW="â",gW="â",mW="â",yW="â¦",bW="â¢",wW="â¥",CW="â",xW="â§",kW="â³",_W="âµ",TW="â¥",SW="â¥",EW="â¥",AW="â¾",MW="â¥",NW="â",DW="Ë",LW="â",OW="â",RW="â",IW="â",BW="â±",PW="â±",FW="â«®",zW="â­",HW="â¾",qW="â§",UW="â¦",VW="ð£",$W="â",WW="â¨®",GW="â¨µ",jW="â¥°",YW=")",ZW="â¦",KW="â¨",JW="â",XW="â",QW="âº",eG="ð",tG="â",nG="â±",rG="â±",iG="]",aG="â",oG="â",sG="â",lG="â",uG="â¹",cG="âµ",fG="â¸",dG="â§",hG="â§´",pG="â¥¨",vG="â",gG="Å",mG="Å",yG="â",bG="âª¸",wG="Å ",CG="Å¡",xG="âª¼",kG="â»",_G="â½",TG="âª°",SG="âª´",EG="Å",AG="Å",MG="Å",NG="Å",DG="âªº",LG="âª¶",OG="â©",RG="â¨",IG="â¿",BG="Ð¡",PG="Ñ",FG="â¡",zG="â",HG="â©¦",qG="â¤¥",UG="â",VG="â",$G="â",WG="Â§",GG=";",jG="â¤©",YG="â",ZG="â",KG="â¶",JG="ð",XG="ð°",QG="â¢",ej="â¯",tj="Ð©",nj="Ñ",rj="Ð¨",ij="Ñ",aj="â",oj="â",sj="â£",lj="â¥",uj="â",cj="â",fj="Â­",dj="Î£",hj="Ï",pj="Ï",vj="Ï",gj="â¼",mj="â©ª",yj="â",bj="â",wj="âª",Cj="âª ",xj="âª",kj="âª",_j="â",Tj="â¨¤",Sj="â¥²",Ej="â",Aj="â",Mj="â",Nj="â¨³",Dj="â§¤",Lj="â£",Oj="â£",Rj="âªª",Ij="âª¬",Bj="âª¬ï¸",Pj="Ð¬",Fj="Ñ",zj="â¿",Hj="â§",qj="/",Uj="ð",Vj="ð¤",$j="â ",Wj="â ",Gj="â¥",jj="â",Yj="âï¸",Zj="â",Kj="âï¸",Jj="â",Xj="â",Qj="â",eY="â",tY="â",nY="â",rY="â",iY="â",aY="â",oY="â¡",sY="â¡",lY="â",uY="â",cY="â",fY="â",dY="â",hY="â",pY="âª",vY="â¡",gY="âª",mY="â",yY="ð®",bY="ð",wY="â",CY="â£",xY="â",kY="â",_Y="â",TY="â",SY="Ïµ",EY="Ï",AY="Â¯",MY="â",NY="â",DY="âª½",LY="â«",OY="â",RY="â«",IY="â«",BY="â«",PY="â",FY="âª¿",zY="â¥¹",HY="â",qY="â",UY="â",VY="â«",$Y="â",WY="â",GY="â«",jY="â«",YY="â«",ZY="â«",KY="âª¸",JY="â»",XY="â½",QY="â»",eZ="âª°",tZ="â½",nZ="â¿",rZ="âª°",iZ="âªº",aZ="âª¶",oZ="â©",sZ="â¿",lZ="â",uZ="â",cZ="â",fZ="âª",dZ="Â¹",hZ="Â²",pZ="Â³",vZ="â",gZ="â",mZ="âª¾",yZ="â«",bZ="â«",wZ="â",CZ="â«",xZ="â",kZ="â",_Z="â",TZ="â«",SZ="â¥»",EZ="â«",AZ="â«",MZ="â",NZ="â«",DZ="â",LZ="â",OZ="â",RZ="â«",IZ="â",BZ="â«",PZ="â«",FZ="â«",zZ="â«",HZ="â¤¦",qZ="â",UZ="â",VZ="â",$Z="â¤ª",WZ="Ã",GZ="	",jZ="â",YZ="Î¤",ZZ="Ï",KZ="â´",JZ="Å¤",XZ="Å¥",QZ="Å¢",eK="Å£",tK="Ð¢",nK="Ñ",rK="â",iK="â",aK="ð",oK="ð±",sK="â´",lK="â´",uK="â´",cK="Î",fK="Î¸",dK="Ï",hK="Ï",pK="â",vK="â¼",gK="ââ",mK="â",yK="â",bK="â",wK="â¼",CK="Ã",xK="Ã¾",kK="Ë",_K="â¼",TK="â",SK="â",EK="â",AK="â¨±",MK="â ",NK="Ã",DK="â¨°",LK="â­",OK="â¤¨",RK="â¶",IK="â«±",BK="â¤",PK="ð",FK="ð¥",zK="â«",HK="â¤©",qK="â´",UK="â¢",VK="â¢",$K="âµ",WK="â¿",GK="â",jK="â´",YK="â",ZK="â¹",KK="âµ",JK="â¬",XK="â",QK="â¨º",eJ="â",tJ="â¨¹",nJ="â§",rJ="â¨»",iJ="â¢",aJ="ð¯",oJ="ð",sJ="Ð¦",lJ="Ñ",uJ="Ð",cJ="Ñ",fJ="Å¦",dJ="Å§",hJ="â¬",pJ="â",vJ="â ",gJ="Ã",mJ="Ãº",yJ="â",bJ="â",wJ="â",CJ="â¥",xJ="Ð",kJ="Ñ",_J="Å¬",TJ="Å­",SJ="Ã",EJ="Ã»",AJ="Ð£",MJ="Ñ",NJ="â",DJ="Å°",LJ="Å±",OJ="â¥®",RJ="â¥¾",IJ="ð",BJ="ð²",PJ="Ã",FJ="Ã¹",zJ="â¥£",HJ="â¿",qJ="â¾",UJ="â",VJ="â",$J="â",WJ="â",GJ="â¸",jJ="Åª",YJ="Å«",ZJ="Â¨",KJ="_",JJ="â",XJ="âµ",QJ="â",eX="â",tX="â",nX="Å²",rX="Å³",iX="ð",aX="ð¦",oX="â¤",sX="â",lX="â",uX="â",cX="â",fX="â",dX="â",hX="â",pX="â¥®",vX="â¿",gX="â¾",mX="â",yX="â",bX="â",wX="Ï",CX="Ï",xX="Ï",kX="Î¥",_X="Ï",TX="â¥",SX="â¥",EX="â",AX="â",MX="â",NX="â",DX="Å®",LX="Å¯",OX="â¹",RX="ð°",IX="ð",BX="â°",PX="Å¨",FX="Å©",zX="âµ",HX="â´",qX="â",UX="Ã",VX="Ã¼",$X="â¦§",WX="â¦",GX="Ïµ",jX="Ï°",YX="â",ZX="Ï",KX="Ï",JX="â",XX="â",QX="â",eQ="Ï±",tQ="Ï",nQ="âï¸",rQ="â«ï¸",iQ="âï¸",aQ="â«ï¸",oQ="Ï",sQ="â²",lQ="â³",uQ="â«¨",cQ="â««",fQ="â«©",dQ="Ð",hQ="Ð²",pQ="â¢",vQ="â¨",gQ="â©",mQ="â«",yQ="â«¦",bQ="â»",wQ="â¨",CQ="â",xQ="â",kQ="â®",_Q="|",TQ="â",SQ="|",EQ="â",AQ="â£",MQ="|",NQ="â",DQ="â",LQ="â",OQ="ð",RQ="ð³",IQ="â²",BQ="ââ",PQ="ââ",FQ="ð",zQ="ð§",HQ="â",qQ="â³",UQ="ð±",VQ="ð",$Q="â«ï¸",WQ="âï¸",GQ="â«ï¸",jQ="âï¸",YQ="âª",ZQ="â¦",KQ="Å´",JQ="Åµ",XQ="â©",QQ="â§",eee="â",tee="â",nee="â",ree="ð",iee="ð´",aee="ð",oee="ð¨",see="â",lee="â",uee="â",cee="ð²",fee="ð",dee="â",hee="â¯",pee="â",vee="â½",gee="ð",mee="ðµ",yee="â·",bee="âº",wee="Î",Cee="Î¾",xee="âµ",kee="â¸",_ee="â¼",Tee="â»",See="â¨",Eee="ð",Aee="ð©",Mee="â¨",Nee="â¨",Dee="â¶",Lee="â¹",Oee="ð³",Ree="ð",Iee="â¨",Bee="â¨",Pee="â³",Fee="â",zee="â",Hee="Ã",qee="Ã½",Uee="Ð¯",Vee="Ñ",$ee="Å¶",Wee="Å·",Gee="Ð«",jee="Ñ",Yee="Â¥",Zee="ð",Kee="ð¶",Jee="Ð",Xee="Ñ",Qee="ð",ete="ðª",tte="ð´",nte="ð",rte="Ð®",ite="Ñ",ate="Ã¿",ote="Å¸",ste="Å¹",lte="Åº",ute="Å½",cte="Å¾",fte="Ð",dte="Ð·",hte="Å»",pte="Å¼",vte="â¨",gte="â",mte="Î",yte="Î¶",bte="ð·",wte="â¨",Cte="Ð",xte="Ð¶",kte="â",_te="ð«",Tte="â¤",Ste="ðµ",Ete="ð",Ate="â",Mte="â",h2={Aacute:$,aacute:z,Abreve:ee,abreve:me,ac:ie,acd:pe,acE:be,Acirc:Ve,acirc:Ue,acute:Ge,Acy:Be,acy:Je,AElig:ye,aelig:Me,af:we,Afr:Fe,afr:ke,Agrave:Ae,agrave:Ee,alefsym:Ce,aleph:ve,Alpha:ge,alpha:fe,Amacr:Re,amacr:We,amalg:it,amp:ht,AMP:xt,andand:Dt,And:Yt,and:Mt,andd:on,andslope:Wt,andv:fn,ang:Zt,ange:gn,angle:En,angmsdaa:$t,angmsdab:Rn,angmsdac:bt,angmsdad:mt,angmsdae:Et,angmsdaf:Ft,angmsdag:Gt,angmsdah:Nn,angmsd:hn,angrt:an,angrtvb:Qt,angrtvbd:lr,angsph:Hn,angst:Er,angzarr:fr,Aogon:dr,aogon:Qn,Aopf:ar,aopf:Ar,apacir:se,ap:he,apE:Oe,ape:Xe,apid:te,apos:ne,ApplyFunction:G,approx:V,approxeq:Y,Aring:K,aring:de,Ascr:qe,ascr:et,Assign:Ne,ast:_e,asymp:Ze,asympeq:nt,Atilde:wt,atilde:Ht,Auml:J,auml:U,awconint:T,awint:M,backcong:q,backepsilon:X,backprime:oe,backsim:Te,backsimeq:ze,Backslash:Ke,Barv:ft,barvee:pt,barwed:kt,Barwed:Rt,barwedge:mn,bbrk:qn,bbrktbrk:Ti,bcong:Ia,Bcy:oo,bcy:Ks,bdquo:ms,becaus:so,because:Si,Because:fa,bemptyv:ys,bepsi:jr,bernou:bs,Bernoullis:ws,Beta:Bo,beta:Po,beth:Fo,between:da,Bfr:lo,bfr:uo,bigcap:Ei,bigcirc:Ba,bigcup:Js,bigodot:Pa,bigoplus:ha,bigotimes:Wi,bigsqcup:zo,bigstar:co,bigtriangledown:Fa,bigtriangleup:Gi,biguplus:Xs,bigvee:Uu,bigwedge:ui,bkarow:Vl,blacklozenge:$l,blacksquare:Cs,blacktriangle:Wl,blacktriangledown:pa,blacktriangleleft:Ai,blacktriangleright:Qs,blank:Gl,blk12:jl,blk14:Vu,blk34:_t,block:He,bne:Ct,bnequiv:qt,bNot:In,bnot:br,Bopf:wr,bopf:hr,bot:ci,bottom:fo,bowtie:ur,boxbox:xs,boxdl:va,boxdL:ef,boxDl:$u,boxDL:Mi,boxdr:tf,boxdR:Fr,boxDr:zr,boxDR:nf,boxh:rf,boxH:af,boxhd:pr,boxHd:$d,boxhD:ti,boxHD:Wu,boxhu:of,boxHu:ho,boxhU:Ho,boxHU:Gu,boxminus:Kn,boxplus:fi,boxtimes:ju,boxul:Wd,boxuL:Yu,boxUl:Gd,boxUL:jd,boxur:Yd,boxuR:Yl,boxUr:el,boxUR:ks,boxv:sf,boxV:lf,boxvh:Zu,boxvH:Zl,boxVh:Ku,boxVH:uf,boxvl:tl,boxvL:Ju,boxVl:qo,boxVL:Zd,boxvr:cf,boxvR:Nr,boxVr:Kl,boxVR:_s,bprime:ff,breve:Xu,Breve:df,brvbar:nl,bscr:hf,Bscr:rl,bsemi:Kd,bsim:Ni,bsime:Ts,bsolb:Uo,bsol:di,bsolhsub:Dr,bull:za,bullet:Jl,bump:pf,bumpE:Jd,bumpe:vf,Bumpeq:Vo,bumpeq:ni,Cacute:po,cacute:Qu,capand:gf,capbrcup:ec,capcap:Xd,cap:Qd,Cap:Ss,capcup:$e,capdot:st,CapitalDifferentialD:Qe,caps:Bt,caret:sn,caron:Bn,Cayleys:Cr,ccaps:Yn,Ccaron:tc,ccaron:eh,Ccedil:Di,ccedil:il,Ccirc:th,ccirc:Es,Cconint:As,ccups:Xl,ccupssm:Fn,Cdot:nh,cdot:mf,cedil:Ql,Cedilla:yf,cemptyv:bf,cent:wf,centerdot:eu,CenterDot:Ha,cfr:tu,Cfr:nc,CHcy:g,chcy:E,check:m,checkmark:S,Chi:L,chi:B,circ:W,circeq:j,circlearrowleft:re,circlearrowright:le,circledast:De,circledcirc:Ye,circleddash:Pe,CircleDot:tt,circledR:ct,circledS:Tt,CircleMinus:It,CirclePlus:yt,CircleTimes:Jt,cir:jt,cirE:Kt,cire:xn,cirfnint:Un,cirmid:nr,cirscir:hi,ClockwiseContourIntegral:or,CloseCurlyDoubleQuote:Hr,CloseCurlyQuote:rr,clubs:qa,clubsuit:Yr,colon:Ua,Colon:Lr,Colone:vr,colone:rh,coloneq:ih,comma:nu,commat:$o,comp:al,compfn:Ms,complement:mv,complexes:ae,cong:ru,congdot:Cf,Congruent:ga,conint:Tn,Conint:J1,ContourIntegral:X1,copf:Q1,Copf:ol,coprod:ey,Coproduct:ty,copy:ny,COPY:ry,copysr:iy,CounterClockwiseContourIntegral:Wo,crarr:ay,cross:oy,Cross:sy,Cscr:ly,cscr:uy,csub:Go,csube:cy,csup:fy,csupe:dy,ctdot:hy,cudarrl:py,cudarrr:sl,cuepr:vy,cuesc:gy,cularr:Va,cularrp:my,cupbrcap:yy,cupcap:by,CupCap:wy,cup:Cy,Cup:yv,cupcup:bv,cupdot:xy,cupor:ky,cups:ah,curarr:rc,curarrm:xf,curlyeqprec:_y,curlyeqsucc:wv,curlyvee:Ty,curlywedge:jo,curren:oh,curvearrowleft:ll,curvearrowright:ma,cuvee:Sy,cuwed:Cv,cwconint:xv,cwint:ic,cylcty:Ns,dagger:kv,Dagger:Ey,daleth:kf,darr:Ay,Darr:_v,dArr:Zr,dash:sh,Dashv:Tv,dashv:vo,dbkarow:lh,dblac:_f,Dcaron:ul,dcaron:Sv,Dcy:pi,dcy:uh,ddagger:My,ddarr:Ny,DD:Dy,dd:ch,DDotrahd:Ly,ddotseq:ac,deg:Ev,Del:Oy,Delta:Ry,delta:oc,demptyv:Iy,dfisht:By,Dfr:fh,dfr:Av,dHar:Py,dharl:Fy,dharr:zy,DiacriticalAcute:Mv,DiacriticalDot:dh,DiacriticalDoubleAcute:Hy,DiacriticalGrave:hh,DiacriticalTilde:Nv,diam:Dv,diamond:Lv,Diamond:Tf,diamondsuit:qy,diams:Ov,die:Rv,DifferentialD:Uy,digamma:Iv,disin:Vy,div:ph,divide:Bv,divideontimes:vh,divonx:$y,DJcy:gh,djcy:kn,dlcorn:Wy,dlcrop:Gy,dollar:sc,Dopf:Pv,dopf:jy,Dot:Yy,dot:ya,DotDot:Zy,doteq:Sf,doteqdot:mh,DotEqual:Fv,dotminus:zv,dotplus:ji,dotsquare:Ds,doublebarwedge:yh,DoubleContourIntegral:Hv,DoubleDot:Ef,DoubleDownArrow:qv,DoubleLeftArrow:bh,DoubleLeftRightArrow:Uv,DoubleLeftTee:wh,DoubleLongLeftArrow:Ch,DoubleLongLeftRightArrow:Ls,DoubleLongRightArrow:Ky,DoubleRightArrow:Os,DoubleRightTee:Vv,DoubleUpArrow:$v,DoubleUpDownArrow:xh,DoubleVerticalBar:Jy,DownArrowBar:Xy,downarrow:Qy,DownArrow:Wv,Downarrow:Gv,DownArrowUpArrow:eb,DownBreve:jv,downdownarrows:Yv,downharpoonleft:Li,downharpoonright:go,DownLeftRightVector:tb,DownLeftTeeVector:nb,DownLeftVectorBar:Af,DownLeftVector:iu,DownRightTeeVector:Zv,DownRightVectorBar:Kv,DownRightVector:rb,DownTeeArrow:Jv,DownTee:au,drbkarow:lc,drcorn:ib,drcrop:Xv,Dscr:Qv,dscr:Mf,DScy:eg,dscy:Nf,dsol:kh,Dstrok:Df,dstrok:ab,dtdot:tg,dtri:Lf,dtrif:ng,duarr:_h,duhar:ob,dwangle:rg,DZcy:Yo,dzcy:ig,dzigrarr:ag,Eacute:sb,eacute:og,easter:lb,Ecaron:ub,ecaron:Zo,Ecirc:Th,ecirc:Sh,ecir:Eh,ecolon:Of,Ecy:ou,ecy:tn,eDDot:Rf,Edot:Ah,edot:cl,eDot:cb,ee:Mh,efDot:sg,Efr:ri,efr:fb,eg:db,Egrave:lg,egrave:hb,egs:ug,egsdot:pb,el:vb,Element:gb,elinters:Ko,ell:vi,els:Nh,elsdot:mb,Emacr:Dh,emacr:yb,empty:bb,emptyset:uc,EmptySmallSquare:cg,emptyv:fg,EmptyVerySmallSquare:wb,emsp13:Cb,emsp14:xb,emsp:kb,ENG:dg,eng:hg,ensp:_b,Eogon:Lh,eogon:pg,Eopf:cc,eopf:Oh,epar:vg,eparsl:gg,eplus:If,epsi:mg,Epsilon:mo,epsilon:fl,epsiv:Tb,eqcirc:yg,eqcolon:Sb,eqsim:Eb,eqslantgtr:Ab,eqslantless:Mb,Equal:Nb,equals:Db,EqualTilde:Lb,equest:Ob,Equilibrium:Rb,equiv:Ib,equivDD:Bb,eqvparsl:bg,erarr:wg,erDot:Cg,escr:Pb,Escr:Fb,esdot:zb,Esim:xg,esim:Hb,Eta:qb,eta:Ub,ETH:Vb,eth:$b,Euml:Wb,euml:ba,euro:Gb,excl:jb,exist:Yb,Exists:kg,expectation:Zb,exponentiale:Kb,ExponentialE:Jb,fallingdotseq:Xb,Fcy:Rh,fcy:Qb,female:ew,ffilig:tw,fflig:nw,ffllig:rw,Ffr:iw,ffr:aw,filig:ow,FilledSmallSquare:sw,FilledVerySmallSquare:lw,fjlig:uw,flat:cw,fllig:fw,fltns:dw,fnof:hw,Fopf:pw,fopf:vw,forall:gw,ForAll:mw,fork:yw,forkv:Ih,Fouriertrf:_g,fpartint:bw,frac12:ww,frac13:Cw,frac14:xw,frac15:kw,frac16:_w,frac18:Tw,frac23:Sw,frac25:Tg,frac34:Ew,frac35:Bf,frac38:Aw,frac45:Mw,frac56:Nw,frac58:Dw,frac78:Lw,frasl:Ow,frown:Rw,fscr:Iw,Fscr:Bw,gacute:Pw,Gamma:Fw,gamma:zw,Gammad:Hw,gammad:qw,gap:Uw,Gbreve:Vw,gbreve:Sg,Gcedil:Eg,Gcirc:$w,gcirc:Ww,Gcy:Gw,gcy:jw,Gdot:Pf,gdot:Yw,ge:Zw,gE:Kw,gEl:Jw,gel:Xw,geq:Qw,geqq:eC,geqslant:tC,gescc:nC,ges:rC,gesdot:iC,gesdoto:Ff,gesdotol:aC,gesl:Ag,gesles:Mg,Gfr:Bh,gfr:Ng,gg:Dg,Gg:Lg,ggg:Og,gimel:oC,GJcy:sC,gjcy:lC,gla:zf,gl:Hf,glE:uC,glj:cC,gnap:Ph,gnapprox:Rg,gne:fC,gnE:dC,gneq:hC,gneqq:pC,gnsim:vC,Gopf:gC,gopf:mC,grave:yC,GreaterEqual:bC,GreaterEqualLess:wC,GreaterFullEqual:CC,GreaterGreater:xC,GreaterLess:$a,GreaterSlantEqual:kC,GreaterTilde:_C,Gscr:dl,gscr:dn,gsim:TC,gsime:Oi,gsiml:xr,gtcc:SC,gtcir:Rs,gt:EC,GT:AC,Gt:MC,gtdot:NC,gtlPar:DC,gtquest:Fh,gtrapprox:LC,gtrarr:Jo,gtrdot:Ig,gtreqless:qf,gtreqqless:cr,gtrless:gr,gtrsim:Bg,gvertneqq:OC,gvnE:RC,Hacek:IC,hairsp:BC,half:PC,hamilt:FC,HARDcy:Pg,hardcy:fc,harrcir:zh,harr:zC,hArr:Fg,harrw:Uf,Hat:Yi,hbar:su,Hcirc:HC,hcirc:qC,hearts:UC,heartsuit:VC,hellip:$C,hercon:zg,hfr:Xo,Hfr:yn,HilbertSpace:Hg,hksearow:wa,hkswarow:qg,hoarr:WC,homtht:Wn,hookleftarrow:GC,hookrightarrow:Ug,hopf:Vf,Hopf:jC,horbar:YC,HorizontalLine:ZC,hscr:KC,Hscr:JC,hslash:XC,Hstrok:QC,hstrok:ex,HumpDownHump:tx,HumpEqual:nx,hybull:rx,hyphen:ix,Iacute:ax,iacute:Hh,ic:ox,Icirc:qh,icirc:sx,Icy:lx,icy:ux,Idot:qr,IEcy:Ri,iecy:cx,iexcl:fx,iff:dx,ifr:Vg,Ifr:hx,Igrave:px,igrave:vx,ii:$g,iiiint:gx,iiint:mx,iinfin:yx,iiota:Wg,IJlig:Gg,ijlig:bx,Imacr:wx,imacr:Cx,image:xx,ImaginaryI:lu,imagline:kx,imagpart:_x,imath:Tx,Im:Sx,imof:Ex,imped:jg,Implies:Yg,incare:Ax,in:"â",infin:Mx,infintie:Nx,inodot:Dx,intcal:Lx,int:Ox,Int:Rx,integers:Ix,Integral:Bx,intercal:Px,Intersection:Fx,intlarhk:zx,intprod:Hx,InvisibleComma:qx,InvisibleTimes:Ux,IOcy:Vx,iocy:$x,Iogon:Wx,iogon:Gx,Iopf:jx,iopf:Yx,Iota:Zx,iota:Kx,iprod:Jx,iquest:Xx,iscr:Uh,Iscr:Zg,isin:Kg,isindot:Qx,isinE:ek,isins:tk,isinsv:Vh,isinv:nk,it:rk,Itilde:ik,itilde:Ii,Iukcy:$h,iukcy:ak,Iuml:ok,iuml:sk,Jcirc:lk,jcirc:Wh,Jcy:uk,jcy:Gh,Jfr:ck,jfr:fk,jmath:dk,Jopf:hk,jopf:Jg,Jscr:pk,jscr:vk,Jsercy:gk,jsercy:jh,Jukcy:Yh,jukcy:mk,Kappa:yk,kappa:bk,kappav:wk,Kcedil:Ck,kcedil:xk,Kcy:kk,kcy:_k,Kfr:Tk,kfr:Sk,kgreen:Ek,KHcy:Ak,khcy:Mk,KJcy:Nk,kjcy:Dk,Kopf:Lk,kopf:Ok,Kscr:Rk,kscr:Ik,lAarr:Bk,Lacute:Pk,lacute:u,laemptyv:p,lagran:_,Lambda:H,lambda:Q,lang:ce,Lang:Se,langd:Ie,langle:je,lap:lt,Laplacetrf:ut,laquo:vt,larrb:Nt,larrbfs:Ut,larr:nn,Larr:bn,lArr:rn,larrfs:_n,larrhk:An,larrlp:Zi,larrpl:gi,larrsim:Ki,larrtl:kr,latail:Wa,lAtail:Qo,lat:Xg,late:q5,lates:U5,lbarr:V5,lBarr:$5,lbbrk:W5,lbrace:G5,lbrack:j5,lbrke:Y5,lbrksld:Z5,lbrkslu:K5,Lcaron:J5,lcaron:X5,Lcedil:Q5,lcedil:eB,lceil:tB,lcub:nB,Lcy:rB,lcy:iB,ldca:aB,ldquo:oB,ldquor:sB,ldrdhar:lB,ldrushar:uB,ldsh:cB,le:fB,lE:dB,LeftAngleBracket:hB,LeftArrowBar:pB,leftarrow:vB,LeftArrow:gB,Leftarrow:mB,LeftArrowRightArrow:yB,leftarrowtail:bB,LeftCeiling:wB,LeftDoubleBracket:CB,LeftDownTeeVector:xB,LeftDownVectorBar:kB,LeftDownVector:_B,LeftFloor:TB,leftharpoondown:SB,leftharpoonup:EB,leftleftarrows:AB,leftrightarrow:MB,LeftRightArrow:NB,Leftrightarrow:DB,leftrightarrows:LB,leftrightharpoons:OB,leftrightsquigarrow:RB,LeftRightVector:IB,LeftTeeArrow:BB,LeftTee:PB,LeftTeeVector:FB,leftthreetimes:zB,LeftTriangleBar:HB,LeftTriangle:qB,LeftTriangleEqual:UB,LeftUpDownVector:VB,LeftUpTeeVector:$B,LeftUpVectorBar:WB,LeftUpVector:GB,LeftVectorBar:jB,LeftVector:YB,lEg:ZB,leg:KB,leq:JB,leqq:XB,leqslant:QB,lescc:eP,les:tP,lesdot:nP,lesdoto:rP,lesdotor:iP,lesg:aP,lesges:oP,lessapprox:sP,lessdot:lP,lesseqgtr:uP,lesseqqgtr:cP,LessEqualGreater:fP,LessFullEqual:dP,LessGreater:hP,lessgtr:pP,LessLess:vP,lesssim:gP,LessSlantEqual:mP,LessTilde:yP,lfisht:bP,lfloor:wP,Lfr:CP,lfr:xP,lg:kP,lgE:_P,lHar:TP,lhard:SP,lharu:EP,lharul:AP,lhblk:MP,LJcy:NP,ljcy:DP,llarr:LP,ll:OP,Ll:RP,llcorner:IP,Lleftarrow:BP,llhard:PP,lltri:FP,Lmidot:zP,lmidot:HP,lmoustache:qP,lmoust:UP,lnap:VP,lnapprox:$P,lne:WP,lnE:GP,lneq:jP,lneqq:YP,lnsim:ZP,loang:KP,loarr:JP,lobrk:XP,longleftarrow:QP,LongLeftArrow:e7,Longleftarrow:t7,longleftrightarrow:n7,LongLeftRightArrow:r7,Longleftrightarrow:i7,longmapsto:a7,longrightarrow:o7,LongRightArrow:s7,Longrightarrow:l7,looparrowleft:u7,looparrowright:c7,lopar:f7,Lopf:d7,lopf:h7,loplus:p7,lotimes:v7,lowast:g7,lowbar:m7,LowerLeftArrow:y7,LowerRightArrow:b7,loz:w7,lozenge:C7,lozf:x7,lpar:k7,lparlt:_7,lrarr:T7,lrcorner:S7,lrhar:E7,lrhard:A7,lrm:M7,lrtri:N7,lsaquo:D7,lscr:L7,Lscr:O7,lsh:R7,Lsh:I7,lsim:B7,lsime:P7,lsimg:F7,lsqb:z7,lsquo:H7,lsquor:q7,Lstrok:U7,lstrok:V7,ltcc:$7,ltcir:W7,lt:G7,LT:j7,Lt:Y7,ltdot:Z7,lthree:K7,ltimes:J7,ltlarr:X7,ltquest:Q7,ltri:e6,ltrie:t6,ltrif:n6,ltrPar:r6,lurdshar:i6,luruhar:a6,lvertneqq:o6,lvnE:s6,macr:l6,male:u6,malt:c6,maltese:f6,Map:"â¤",map:d6,mapsto:h6,mapstodown:p6,mapstoleft:v6,mapstoup:g6,marker:m6,mcomma:y6,Mcy:b6,mcy:w6,mdash:C6,mDDot:x6,measuredangle:k6,MediumSpace:_6,Mellintrf:T6,Mfr:S6,mfr:E6,mho:A6,micro:M6,midast:N6,midcir:D6,mid:L6,middot:O6,minusb:R6,minus:I6,minusd:B6,minusdu:P6,MinusPlus:F6,mlcp:z6,mldr:H6,mnplus:q6,models:U6,Mopf:V6,mopf:$6,mp:W6,mscr:G6,Mscr:j6,mstpos:Y6,Mu:Z6,mu:K6,multimap:J6,mumap:X6,nabla:Q6,Nacute:e8,nacute:t8,nang:n8,nap:r8,napE:i8,napid:a8,napos:o8,napprox:s8,natural:l8,naturals:u8,natur:c8,nbsp:f8,nbump:d8,nbumpe:h8,ncap:p8,Ncaron:v8,ncaron:g8,Ncedil:m8,ncedil:y8,ncong:b8,ncongdot:w8,ncup:C8,Ncy:x8,ncy:k8,ndash:_8,nearhk:T8,nearr:S8,neArr:E8,nearrow:A8,ne:M8,nedot:N8,NegativeMediumSpace:D8,NegativeThickSpace:L8,NegativeThinSpace:O8,NegativeVeryThinSpace:R8,nequiv:I8,nesear:B8,nesim:P8,NestedGreaterGreater:F8,NestedLessLess:z8,NewLine:H8,nexist:q8,nexists:U8,Nfr:V8,nfr:$8,ngE:W8,nge:G8,ngeq:j8,ngeqq:Y8,ngeqslant:Z8,nges:K8,nGg:J8,ngsim:X8,nGt:Q8,ngt:eF,ngtr:tF,nGtv:nF,nharr:rF,nhArr:iF,nhpar:aF,ni:oF,nis:sF,nisd:lF,niv:uF,NJcy:cF,njcy:fF,nlarr:dF,nlArr:hF,nldr:pF,nlE:vF,nle:gF,nleftarrow:mF,nLeftarrow:yF,nleftrightarrow:bF,nLeftrightarrow:wF,nleq:CF,nleqq:xF,nleqslant:kF,nles:_F,nless:TF,nLl:SF,nlsim:EF,nLt:AF,nlt:MF,nltri:NF,nltrie:DF,nLtv:LF,nmid:OF,NoBreak:RF,NonBreakingSpace:IF,nopf:BF,Nopf:PF,Not:FF,not:zF,NotCongruent:HF,NotCupCap:qF,NotDoubleVerticalBar:UF,NotElement:VF,NotEqual:$F,NotEqualTilde:WF,NotExists:GF,NotGreater:jF,NotGreaterEqual:YF,NotGreaterFullEqual:ZF,NotGreaterGreater:KF,NotGreaterLess:JF,NotGreaterSlantEqual:XF,NotGreaterTilde:QF,NotHumpDownHump:e9,NotHumpEqual:t9,notin:n9,notindot:r9,notinE:i9,notinva:a9,notinvb:o9,notinvc:s9,NotLeftTriangleBar:l9,NotLeftTriangle:u9,NotLeftTriangleEqual:c9,NotLess:f9,NotLessEqual:d9,NotLessGreater:h9,NotLessLess:p9,NotLessSlantEqual:v9,NotLessTilde:g9,NotNestedGreaterGreater:m9,NotNestedLessLess:y9,notni:b9,notniva:w9,notnivb:C9,notnivc:x9,NotPrecedes:k9,NotPrecedesEqual:_9,NotPrecedesSlantEqual:T9,NotReverseElement:S9,NotRightTriangleBar:E9,NotRightTriangle:A9,NotRightTriangleEqual:M9,NotSquareSubset:N9,NotSquareSubsetEqual:D9,NotSquareSuperset:L9,NotSquareSupersetEqual:O9,NotSubset:R9,NotSubsetEqual:I9,NotSucceeds:B9,NotSucceedsEqual:P9,NotSucceedsSlantEqual:F9,NotSucceedsTilde:z9,NotSuperset:H9,NotSupersetEqual:q9,NotTilde:U9,NotTildeEqual:V9,NotTildeFullEqual:$9,NotTildeTilde:W9,NotVerticalBar:G9,nparallel:j9,npar:Y9,nparsl:Z9,npart:K9,npolint:J9,npr:X9,nprcue:Q9,nprec:ez,npreceq:tz,npre:nz,nrarrc:rz,nrarr:iz,nrArr:az,nrarrw:oz,nrightarrow:sz,nRightarrow:lz,nrtri:uz,nrtrie:cz,nsc:fz,nsccue:dz,nsce:hz,Nscr:pz,nscr:vz,nshortmid:gz,nshortparallel:mz,nsim:yz,nsime:bz,nsimeq:wz,nsmid:Cz,nspar:xz,nsqsube:kz,nsqsupe:_z,nsub:Tz,nsubE:Sz,nsube:Ez,nsubset:Az,nsubseteq:Mz,nsubseteqq:Nz,nsucc:Dz,nsucceq:Lz,nsup:Oz,nsupE:Rz,nsupe:Iz,nsupset:Bz,nsupseteq:Pz,nsupseteqq:Fz,ntgl:zz,Ntilde:Hz,ntilde:qz,ntlg:Uz,ntriangleleft:Vz,ntrianglelefteq:$z,ntriangleright:Wz,ntrianglerighteq:Gz,Nu:jz,nu:Yz,num:Zz,numero:Kz,numsp:Jz,nvap:Xz,nvdash:Qz,nvDash:eH,nVdash:tH,nVDash:nH,nvge:rH,nvgt:iH,nvHarr:aH,nvinfin:oH,nvlArr:sH,nvle:lH,nvlt:uH,nvltrie:cH,nvrArr:fH,nvrtrie:dH,nvsim:hH,nwarhk:pH,nwarr:vH,nwArr:gH,nwarrow:mH,nwnear:yH,Oacute:bH,oacute:wH,oast:CH,Ocirc:xH,ocirc:kH,ocir:_H,Ocy:TH,ocy:SH,odash:EH,Odblac:AH,odblac:MH,odiv:NH,odot:DH,odsold:LH,OElig:OH,oelig:RH,ofcir:IH,Ofr:BH,ofr:PH,ogon:FH,Ograve:zH,ograve:HH,ogt:qH,ohbar:UH,ohm:VH,oint:$H,olarr:WH,olcir:GH,olcross:jH,oline:YH,olt:ZH,Omacr:KH,omacr:JH,Omega:XH,omega:QH,Omicron:eq,omicron:tq,omid:nq,ominus:rq,Oopf:iq,oopf:aq,opar:oq,OpenCurlyDoubleQuote:sq,OpenCurlyQuote:lq,operp:uq,oplus:cq,orarr:fq,Or:dq,or:hq,ord:pq,order:vq,orderof:gq,ordf:mq,ordm:yq,origof:bq,oror:wq,orslope:Cq,orv:xq,oS:kq,Oscr:_q,oscr:Tq,Oslash:Sq,oslash:Eq,osol:Aq,Otilde:Mq,otilde:Nq,otimesas:Dq,Otimes:Lq,otimes:Oq,Ouml:Rq,ouml:Iq,ovbar:Bq,OverBar:Pq,OverBrace:Fq,OverBracket:zq,OverParenthesis:Hq,para:qq,parallel:Uq,par:Vq,parsim:$q,parsl:Wq,part:Gq,PartialD:jq,Pcy:Yq,pcy:Zq,percnt:Kq,period:Jq,permil:Xq,perp:Qq,pertenk:eU,Pfr:tU,pfr:nU,Phi:rU,phi:iU,phiv:aU,phmmat:oU,phone:sU,Pi:lU,pi:uU,pitchfork:cU,piv:fU,planck:dU,planckh:hU,plankv:pU,plusacir:vU,plusb:gU,pluscir:mU,plus:yU,plusdo:bU,plusdu:wU,pluse:CU,PlusMinus:xU,plusmn:kU,plussim:_U,plustwo:TU,pm:SU,Poincareplane:EU,pointint:AU,popf:MU,Popf:NU,pound:DU,prap:LU,Pr:OU,pr:RU,prcue:IU,precapprox:BU,prec:PU,preccurlyeq:FU,Precedes:zU,PrecedesEqual:HU,PrecedesSlantEqual:qU,PrecedesTilde:UU,preceq:VU,precnapprox:$U,precneqq:WU,precnsim:GU,pre:jU,prE:YU,precsim:ZU,prime:KU,Prime:JU,primes:XU,prnap:QU,prnE:eV,prnsim:tV,prod:nV,Product:rV,profalar:iV,profline:aV,profsurf:oV,prop:sV,Proportional:lV,Proportion:uV,propto:cV,prsim:fV,prurel:dV,Pscr:hV,pscr:pV,Psi:vV,psi:gV,puncsp:mV,Qfr:yV,qfr:bV,qint:wV,qopf:CV,Qopf:xV,qprime:kV,Qscr:_V,qscr:TV,quaternions:SV,quatint:EV,quest:AV,questeq:MV,quot:NV,QUOT:DV,rAarr:LV,race:OV,Racute:RV,racute:IV,radic:BV,raemptyv:PV,rang:FV,Rang:zV,rangd:HV,range:qV,rangle:UV,raquo:VV,rarrap:$V,rarrb:WV,rarrbfs:GV,rarrc:jV,rarr:YV,Rarr:ZV,rArr:KV,rarrfs:JV,rarrhk:XV,rarrlp:QV,rarrpl:e$,rarrsim:t$,Rarrtl:n$,rarrtl:r$,rarrw:i$,ratail:a$,rAtail:o$,ratio:s$,rationals:l$,rbarr:u$,rBarr:c$,RBarr:f$,rbbrk:d$,rbrace:h$,rbrack:p$,rbrke:v$,rbrksld:g$,rbrkslu:m$,Rcaron:y$,rcaron:b$,Rcedil:w$,rcedil:C$,rceil:x$,rcub:k$,Rcy:_$,rcy:T$,rdca:S$,rdldhar:E$,rdquo:A$,rdquor:M$,rdsh:N$,real:D$,realine:L$,realpart:O$,reals:R$,Re:I$,rect:B$,reg:P$,REG:F$,ReverseElement:z$,ReverseEquilibrium:H$,ReverseUpEquilibrium:q$,rfisht:U$,rfloor:V$,rfr:$$,Rfr:W$,rHar:G$,rhard:j$,rharu:Y$,rharul:Z$,Rho:K$,rho:J$,rhov:X$,RightAngleBracket:Q$,RightArrowBar:eW,rightarrow:tW,RightArrow:nW,Rightarrow:rW,RightArrowLeftArrow:iW,rightarrowtail:aW,RightCeiling:oW,RightDoubleBracket:sW,RightDownTeeVector:lW,RightDownVectorBar:uW,RightDownVector:cW,RightFloor:fW,rightharpoondown:dW,rightharpoonup:hW,rightleftarrows:pW,rightleftharpoons:vW,rightrightarrows:gW,rightsquigarrow:mW,RightTeeArrow:yW,RightTee:bW,RightTeeVector:wW,rightthreetimes:CW,RightTriangleBar:xW,RightTriangle:kW,RightTriangleEqual:_W,RightUpDownVector:TW,RightUpTeeVector:SW,RightUpVectorBar:EW,RightUpVector:AW,RightVectorBar:MW,RightVector:NW,ring:DW,risingdotseq:LW,rlarr:OW,rlhar:RW,rlm:IW,rmoustache:BW,rmoust:PW,rnmid:FW,roang:zW,roarr:HW,robrk:qW,ropar:UW,ropf:VW,Ropf:$W,roplus:WW,rotimes:GW,RoundImplies:jW,rpar:YW,rpargt:ZW,rppolint:KW,rrarr:JW,Rrightarrow:XW,rsaquo:QW,rscr:eG,Rscr:tG,rsh:nG,Rsh:rG,rsqb:iG,rsquo:aG,rsquor:oG,rthree:sG,rtimes:lG,rtri:uG,rtrie:cG,rtrif:fG,rtriltri:dG,RuleDelayed:hG,ruluhar:pG,rx:vG,Sacute:gG,sacute:mG,sbquo:yG,scap:bG,Scaron:wG,scaron:CG,Sc:xG,sc:kG,sccue:_G,sce:TG,scE:SG,Scedil:EG,scedil:AG,Scirc:MG,scirc:NG,scnap:DG,scnE:LG,scnsim:OG,scpolint:RG,scsim:IG,Scy:BG,scy:PG,sdotb:FG,sdot:zG,sdote:HG,searhk:qG,searr:UG,seArr:VG,searrow:$G,sect:WG,semi:GG,seswar:jG,setminus:YG,setmn:ZG,sext:KG,Sfr:JG,sfr:XG,sfrown:QG,sharp:ej,SHCHcy:tj,shchcy:nj,SHcy:rj,shcy:ij,ShortDownArrow:aj,ShortLeftArrow:oj,shortmid:sj,shortparallel:lj,ShortRightArrow:uj,ShortUpArrow:cj,shy:fj,Sigma:dj,sigma:hj,sigmaf:pj,sigmav:vj,sim:gj,simdot:mj,sime:yj,simeq:bj,simg:wj,simgE:Cj,siml:xj,simlE:kj,simne:_j,simplus:Tj,simrarr:Sj,slarr:Ej,SmallCircle:Aj,smallsetminus:Mj,smashp:Nj,smeparsl:Dj,smid:Lj,smile:Oj,smt:Rj,smte:Ij,smtes:Bj,SOFTcy:Pj,softcy:Fj,solbar:zj,solb:Hj,sol:qj,Sopf:Uj,sopf:Vj,spades:$j,spadesuit:Wj,spar:Gj,sqcap:jj,sqcaps:Yj,sqcup:Zj,sqcups:Kj,Sqrt:Jj,sqsub:Xj,sqsube:Qj,sqsubset:eY,sqsubseteq:tY,sqsup:nY,sqsupe:rY,sqsupset:iY,sqsupseteq:aY,square:oY,Square:sY,SquareIntersection:lY,SquareSubset:uY,SquareSubsetEqual:cY,SquareSuperset:fY,SquareSupersetEqual:dY,SquareUnion:hY,squarf:pY,squ:vY,squf:gY,srarr:mY,Sscr:yY,sscr:bY,ssetmn:wY,ssmile:CY,sstarf:xY,Star:kY,star:_Y,starf:TY,straightepsilon:SY,straightphi:EY,strns:AY,sub:MY,Sub:NY,subdot:DY,subE:LY,sube:OY,subedot:RY,submult:IY,subnE:BY,subne:PY,subplus:FY,subrarr:zY,subset:HY,Subset:qY,subseteq:UY,subseteqq:VY,SubsetEqual:$Y,subsetneq:WY,subsetneqq:GY,subsim:jY,subsub:YY,subsup:ZY,succapprox:KY,succ:JY,succcurlyeq:XY,Succeeds:QY,SucceedsEqual:eZ,SucceedsSlantEqual:tZ,SucceedsTilde:nZ,succeq:rZ,succnapprox:iZ,succneqq:aZ,succnsim:oZ,succsim:sZ,SuchThat:lZ,sum:uZ,Sum:cZ,sung:fZ,sup1:dZ,sup2:hZ,sup3:pZ,sup:vZ,Sup:gZ,supdot:mZ,supdsub:yZ,supE:bZ,supe:wZ,supedot:CZ,Superset:xZ,SupersetEqual:kZ,suphsol:_Z,suphsub:TZ,suplarr:SZ,supmult:EZ,supnE:AZ,supne:MZ,supplus:NZ,supset:DZ,Supset:LZ,supseteq:OZ,supseteqq:RZ,supsetneq:IZ,supsetneqq:BZ,supsim:PZ,supsub:FZ,supsup:zZ,swarhk:HZ,swarr:qZ,swArr:UZ,swarrow:VZ,swnwar:$Z,szlig:WZ,Tab:GZ,target:jZ,Tau:YZ,tau:ZZ,tbrk:KZ,Tcaron:JZ,tcaron:XZ,Tcedil:QZ,tcedil:eK,Tcy:tK,tcy:nK,tdot:rK,telrec:iK,Tfr:aK,tfr:oK,there4:sK,therefore:lK,Therefore:uK,Theta:cK,theta:fK,thetasym:dK,thetav:hK,thickapprox:pK,thicksim:vK,ThickSpace:gK,ThinSpace:mK,thinsp:yK,thkap:bK,thksim:wK,THORN:CK,thorn:xK,tilde:kK,Tilde:_K,TildeEqual:TK,TildeFullEqual:SK,TildeTilde:EK,timesbar:AK,timesb:MK,times:NK,timesd:DK,tint:LK,toea:OK,topbot:RK,topcir:IK,top:BK,Topf:PK,topf:FK,topfork:zK,tosa:HK,tprime:qK,trade:UK,TRADE:VK,triangle:$K,triangledown:WK,triangleleft:GK,trianglelefteq:jK,triangleq:YK,triangleright:ZK,trianglerighteq:KK,tridot:JK,trie:XK,triminus:QK,TripleDot:eJ,triplus:tJ,trisb:nJ,tritime:rJ,trpezium:iJ,Tscr:aJ,tscr:oJ,TScy:sJ,tscy:lJ,TSHcy:uJ,tshcy:cJ,Tstrok:fJ,tstrok:dJ,twixt:hJ,twoheadleftarrow:pJ,twoheadrightarrow:vJ,Uacute:gJ,uacute:mJ,uarr:yJ,Uarr:bJ,uArr:wJ,Uarrocir:CJ,Ubrcy:xJ,ubrcy:kJ,Ubreve:_J,ubreve:TJ,Ucirc:SJ,ucirc:EJ,Ucy:AJ,ucy:MJ,udarr:NJ,Udblac:DJ,udblac:LJ,udhar:OJ,ufisht:RJ,Ufr:IJ,ufr:BJ,Ugrave:PJ,ugrave:FJ,uHar:zJ,uharl:HJ,uharr:qJ,uhblk:UJ,ulcorn:VJ,ulcorner:$J,ulcrop:WJ,ultri:GJ,Umacr:jJ,umacr:YJ,uml:ZJ,UnderBar:KJ,UnderBrace:JJ,UnderBracket:XJ,UnderParenthesis:QJ,Union:eX,UnionPlus:tX,Uogon:nX,uogon:rX,Uopf:iX,uopf:aX,UpArrowBar:oX,uparrow:sX,UpArrow:lX,Uparrow:uX,UpArrowDownArrow:cX,updownarrow:fX,UpDownArrow:dX,Updownarrow:hX,UpEquilibrium:pX,upharpoonleft:vX,upharpoonright:gX,uplus:mX,UpperLeftArrow:yX,UpperRightArrow:bX,upsi:wX,Upsi:CX,upsih:xX,Upsilon:kX,upsilon:_X,UpTeeArrow:TX,UpTee:SX,upuparrows:EX,urcorn:AX,urcorner:MX,urcrop:NX,Uring:DX,uring:LX,urtri:OX,Uscr:RX,uscr:IX,utdot:BX,Utilde:PX,utilde:FX,utri:zX,utrif:HX,uuarr:qX,Uuml:UX,uuml:VX,uwangle:$X,vangrt:WX,varepsilon:GX,varkappa:jX,varnothing:YX,varphi:ZX,varpi:KX,varpropto:JX,varr:XX,vArr:QX,varrho:eQ,varsigma:tQ,varsubsetneq:nQ,varsubsetneqq:rQ,varsupsetneq:iQ,varsupsetneqq:aQ,vartheta:oQ,vartriangleleft:sQ,vartriangleright:lQ,vBar:uQ,Vbar:cQ,vBarv:fQ,Vcy:dQ,vcy:hQ,vdash:pQ,vDash:vQ,Vdash:gQ,VDash:mQ,Vdashl:yQ,veebar:bQ,vee:wQ,Vee:CQ,veeeq:xQ,vellip:kQ,verbar:_Q,Verbar:TQ,vert:SQ,Vert:EQ,VerticalBar:AQ,VerticalLine:MQ,VerticalSeparator:NQ,VerticalTilde:DQ,VeryThinSpace:LQ,Vfr:OQ,vfr:RQ,vltri:IQ,vnsub:BQ,vnsup:PQ,Vopf:FQ,vopf:zQ,vprop:HQ,vrtri:qQ,Vscr:UQ,vscr:VQ,vsubnE:$Q,vsubne:WQ,vsupnE:GQ,vsupne:jQ,Vvdash:YQ,vzigzag:ZQ,Wcirc:KQ,wcirc:JQ,wedbar:XQ,wedge:QQ,Wedge:eee,wedgeq:tee,weierp:nee,Wfr:ree,wfr:iee,Wopf:aee,wopf:oee,wp:see,wr:lee,wreath:uee,Wscr:cee,wscr:fee,xcap:dee,xcirc:hee,xcup:pee,xdtri:vee,Xfr:gee,xfr:mee,xharr:yee,xhArr:bee,Xi:wee,xi:Cee,xlarr:xee,xlArr:kee,xmap:_ee,xnis:Tee,xodot:See,Xopf:Eee,xopf:Aee,xoplus:Mee,xotime:Nee,xrarr:Dee,xrArr:Lee,Xscr:Oee,xscr:Ree,xsqcup:Iee,xuplus:Bee,xutri:Pee,xvee:Fee,xwedge:zee,Yacute:Hee,yacute:qee,YAcy:Uee,yacy:Vee,Ycirc:$ee,ycirc:Wee,Ycy:Gee,ycy:jee,yen:Yee,Yfr:Zee,yfr:Kee,YIcy:Jee,yicy:Xee,Yopf:Qee,yopf:ete,Yscr:tte,yscr:nte,YUcy:rte,yucy:ite,yuml:ate,Yuml:ote,Zacute:ste,zacute:lte,Zcaron:ute,zcaron:cte,Zcy:fte,zcy:dte,Zdot:hte,zdot:pte,zeetrf:vte,ZeroWidthSpace:gte,Zeta:mte,zeta:yte,zfr:bte,Zfr:wte,ZHcy:Cte,zhcy:xte,zigrarr:kte,zopf:_te,Zopf:Tte,Zscr:Ste,zscr:Ete,zwj:Ate,zwnj:Mte},Nte="Ã",Dte="Ã¡",Lte="Ã",Ote="Ã¢",Rte="Â´",Ite="Ã",Bte="Ã¦",Pte="Ã",Fte="Ã ",zte="&",Hte="&",qte="Ã",Ute="Ã¥",Vte="Ã",$te="Ã£",Wte="Ã",Gte="Ã¤",jte="Â¦",Yte="Ã",Zte="Ã§",Kte="Â¸",Jte="Â¢",Xte="Â©",Qte="Â©",ene="Â¤",tne="Â°",nne="Ã·",rne="Ã",ine="Ã©",ane="Ã",one="Ãª",sne="Ã",lne="Ã¨",une="Ã",cne="Ã°",fne="Ã",dne="Ã«",hne="Â½",pne="Â¼",vne="Â¾",gne=">",mne=">",yne="Ã",bne="Ã­",wne="Ã",Cne="Ã®",xne="Â¡",kne="Ã",_ne="Ã¬",Tne="Â¿",Sne="Ã",Ene="Ã¯",Ane="Â«",Mne="<",Nne="<",Dne="Â¯",Lne="Âµ",One="Â·",Rne="Â ",Ine="Â¬",Bne="Ã",Pne="Ã±",Fne="Ã",zne="Ã³",Hne="Ã",qne="Ã´",Une="Ã",Vne="Ã²",$ne="Âª",Wne="Âº",Gne="Ã",jne="Ã¸",Yne="Ã",Zne="Ãµ",Kne="Ã",Jne="Ã¶",Xne="Â¶",Qne="Â±",ere="Â£",tre='"',nre='"',rre="Â»",ire="Â®",are="Â®",ore="Â§",sre="Â­",lre="Â¹",ure="Â²",cre="Â³",fre="Ã",dre="Ã",hre="Ã¾",pre="Ã",vre="Ã",gre="Ãº",mre="Ã",yre="Ã»",bre="Ã",wre="Ã¹",Cre="Â¨",xre="Ã",kre="Ã¼",_re="Ã",Tre="Ã½",Sre="Â¥",Ere="Ã¿",Are={Aacute:Nte,aacute:Dte,Acirc:Lte,acirc:Ote,acute:Rte,AElig:Ite,aelig:Bte,Agrave:Pte,agrave:Fte,amp:zte,AMP:Hte,Aring:qte,aring:Ute,Atilde:Vte,atilde:$te,Auml:Wte,auml:Gte,brvbar:jte,Ccedil:Yte,ccedil:Zte,cedil:Kte,cent:Jte,copy:Xte,COPY:Qte,curren:ene,deg:tne,divide:nne,Eacute:rne,eacute:ine,Ecirc:ane,ecirc:one,Egrave:sne,egrave:lne,ETH:une,eth:cne,Euml:fne,euml:dne,frac12:hne,frac14:pne,frac34:vne,gt:gne,GT:mne,Iacute:yne,iacute:bne,Icirc:wne,icirc:Cne,iexcl:xne,Igrave:kne,igrave:_ne,iquest:Tne,Iuml:Sne,iuml:Ene,laquo:Ane,lt:Mne,LT:Nne,macr:Dne,micro:Lne,middot:One,nbsp:Rne,not:Ine,Ntilde:Bne,ntilde:Pne,Oacute:Fne,oacute:zne,Ocirc:Hne,ocirc:qne,Ograve:Une,ograve:Vne,ordf:$ne,ordm:Wne,Oslash:Gne,oslash:jne,Otilde:Yne,otilde:Zne,Ouml:Kne,ouml:Jne,para:Xne,plusmn:Qne,pound:ere,quot:tre,QUOT:nre,raquo:rre,reg:ire,REG:are,sect:ore,shy:sre,sup1:lre,sup2:ure,sup3:cre,szlig:fre,THORN:dre,thorn:hre,times:pre,Uacute:vre,uacute:gre,Ucirc:mre,ucirc:yre,Ugrave:bre,ugrave:wre,uml:Cre,Uuml:xre,uuml:kre,Yacute:_re,yacute:Tre,yen:Sre,yuml:Ere},Mre="&",Nre="'",Dre=">",Lre="<",Ore='"',p2={amp:Mre,apos:Nre,gt:Dre,lt:Lre,quot:Ore},Fk={},Rre={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},Ire=h&&h.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(Fk,"__esModule",{value:!0});var v2=Ire(Rre),Bre=String.fromCodePoint||function(C){var b="";return C>65535&&(C-=65536,b+=String.fromCharCode(C>>>10&1023|55296),C=56320|C&1023),b+=String.fromCharCode(C),b};function Pre(C){return C>=55296&&C<=57343||C>1114111?"ï¿½":(C in v2.default&&(C=v2.default[C]),Bre(C))}Fk.default=Pre;var Qg=h&&h.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(F,"__esModule",{value:!0}),F.decodeHTML=F.decodeHTMLStrict=F.decodeXML=void 0;var zk=Qg(h2),Fre=Qg(Are),zre=Qg(p2),g2=Qg(Fk),Hre=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;F.decodeXML=m2(zre.default),F.decodeHTMLStrict=m2(zk.default);function m2(C){var b=b2(C);return function(N){return String(N).replace(Hre,b)}}var y2=function(C,b){return C<b?1:-1};F.decodeHTML=function(){for(var C=Object.keys(Fre.default).sort(y2),b=Object.keys(zk.default).sort(y2),N=0,P=0;N<b.length;N++)C[P]===b[N]?(b[N]+=";?",P++):b[N]+=";";var Z=new RegExp("&(?:"+b.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),ue=b2(zk.default);function xe(Le){return Le.substr(-1)!==";"&&(Le+=";"),ue(Le)}return function(Le){return String(Le).replace(Z,xe)}}();function b2(C){return function(N){if(N.charAt(1)==="#"){var P=N.charAt(2);return P==="X"||P==="x"?g2.default(parseInt(N.substr(3),16)):g2.default(parseInt(N.substr(2),10))}return C[N.slice(1,-1)]||N}}var Ga={},w2=h&&h.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.escapeUTF8=Ga.escape=Ga.encodeNonAsciiHTML=Ga.encodeHTML=Ga.encodeXML=void 0;var qre=w2(p2),C2=k2(qre.default),x2=_2(C2);Ga.encodeXML=E2(C2);var Ure=w2(h2),Hk=k2(Ure.default),Vre=_2(Hk);Ga.encodeHTML=Wre(Hk,Vre),Ga.encodeNonAsciiHTML=E2(Hk);function k2(C){return Object.keys(C).sort().reduce(function(b,N){return b[C[N]]="&"+N+";",b},{})}function _2(C){for(var b=[],N=[],P=0,Z=Object.keys(C);P<Z.length;P++){var ue=Z[P];ue.length===1?b.push("\\"+ue):N.push(ue)}b.sort();for(var xe=0;xe<b.length-1;xe++){for(var Le=xe;Le<b.length-1&&b[Le].charCodeAt(1)+1===b[Le+1].charCodeAt(1);)Le+=1;var ot=1+Le-xe;ot<3||b.splice(xe,ot,b[xe]+"-"+b[Le])}return N.unshift("["+b.join("")+"]"),new RegExp(N.join("|"),"g")}var T2=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,$re=String.prototype.codePointAt!=null?function(C){return C.codePointAt(0)}:function(C){return(C.charCodeAt(0)-55296)*1024+C.charCodeAt(1)-56320+65536};function em(C){return"&#x"+(C.length>1?$re(C):C.charCodeAt(0)).toString(16).toUpperCase()+";"}function Wre(C,b){return function(N){return N.replace(b,function(P){return C[P]}).replace(T2,em)}}var S2=new RegExp(x2.source+"|"+T2.source,"g");function Gre(C){return C.replace(S2,em)}Ga.escape=Gre;function jre(C){return C.replace(x2,em)}Ga.escapeUTF8=jre;function E2(C){return function(b){return b.replace(S2,function(N){return C[N]||em(N)})}}(function(C){Object.defineProperty(C,"__esModule",{value:!0}),C.decodeXMLStrict=C.decodeHTML5Strict=C.decodeHTML4Strict=C.decodeHTML5=C.decodeHTML4=C.decodeHTMLStrict=C.decodeHTML=C.decodeXML=C.encodeHTML5=C.encodeHTML4=C.escapeUTF8=C.escape=C.encodeNonAsciiHTML=C.encodeHTML=C.encodeXML=C.encode=C.decodeStrict=C.decode=void 0;var b=F,N=Ga;function P(ot,dt){return(!dt||dt<=0?b.decodeXML:b.decodeHTML)(ot)}C.decode=P;function Z(ot,dt){return(!dt||dt<=0?b.decodeXML:b.decodeHTMLStrict)(ot)}C.decodeStrict=Z;function ue(ot,dt){return(!dt||dt<=0?N.encodeXML:N.encodeHTML)(ot)}C.encode=ue;var xe=Ga;Object.defineProperty(C,"encodeXML",{enumerable:!0,get:function(){return xe.encodeXML}}),Object.defineProperty(C,"encodeHTML",{enumerable:!0,get:function(){return xe.encodeHTML}}),Object.defineProperty(C,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return xe.encodeNonAsciiHTML}}),Object.defineProperty(C,"escape",{enumerable:!0,get:function(){return xe.escape}}),Object.defineProperty(C,"escapeUTF8",{enumerable:!0,get:function(){return xe.escapeUTF8}}),Object.defineProperty(C,"encodeHTML4",{enumerable:!0,get:function(){return xe.encodeHTML}}),Object.defineProperty(C,"encodeHTML5",{enumerable:!0,get:function(){return xe.encodeHTML}});var Le=F;Object.defineProperty(C,"decodeXML",{enumerable:!0,get:function(){return Le.decodeXML}}),Object.defineProperty(C,"decodeHTML",{enumerable:!0,get:function(){return Le.decodeHTML}}),Object.defineProperty(C,"decodeHTMLStrict",{enumerable:!0,get:function(){return Le.decodeHTMLStrict}}),Object.defineProperty(C,"decodeHTML4",{enumerable:!0,get:function(){return Le.decodeHTML}}),Object.defineProperty(C,"decodeHTML5",{enumerable:!0,get:function(){return Le.decodeHTML}}),Object.defineProperty(C,"decodeHTML4Strict",{enumerable:!0,get:function(){return Le.decodeHTMLStrict}}),Object.defineProperty(C,"decodeHTML5Strict",{enumerable:!0,get:function(){return Le.decodeHTMLStrict}}),Object.defineProperty(C,"decodeXMLStrict",{enumerable:!0,get:function(){return Le.decodeXML}})})(O);var A2="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",Yre=92,Zre=/[\\&]/,qk="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",Kre=new RegExp("\\\\"+qk+"|"+A2,"gi"),Jre='[&<>"]',M2=new RegExp(Jre,"g"),Xre=function(C){return C.charCodeAt(0)===Yre?C.charAt(1):O.decodeHTML(C)};function Zh(C){return Zre.test(C)?C.replace(Kre,Xre):C}function tm(C){try{return I(C)}catch{return C}}function Qre(C){switch(C){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return C}}function $f(C){return M2.test(C)?C.replace(M2,Qre):C}function Uk(C,b){for(var N=[],P=0;P<b;P++)N.push(C);return N.join("")}function N2(C){return C?!/[^ \t]+/.test(C):!0}var eie=function(){function C(b){this.current=b,this.root=b,this.entering=!0}return C.prototype.next=function(){var b=this.current,N=this.entering;if(b===null)return null;var P=Vk(b);return N&&P?b.firstChild?(this.current=b.firstChild,this.entering=!0):this.entering=!1:b===this.root?this.current=null:b.next===null?(this.current=b.parent,this.entering=!1):(this.current=b.next,this.entering=!0),{entering:N,node:b}},C.prototype.resumeAt=function(b,N){this.current=b,this.entering=N===!0},C}();function Vk(C){switch(C.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var tie=1,nm={};function nie(C){return nm[C]}function $k(C){delete nm[C]}function rie(){nm={}}var Kh=function(){function C(b,N){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,b==="document"?this.id=-1:this.id=tie++,this.type=b,this.sourcepos=N,nm[this.id]=this}return C.prototype.isContainer=function(){return Vk(this)},C.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},C.prototype.replaceWith=function(b){this.insertBefore(b),this.unlink()},C.prototype.insertAfter=function(b){b.unlink(),b.next=this.next,b.next&&(b.next.prev=b),b.prev=this,this.next=b,this.parent&&(b.parent=this.parent,b.next||(b.parent.lastChild=b))},C.prototype.insertBefore=function(b){b.unlink(),b.prev=this.prev,b.prev&&(b.prev.next=b),b.next=this,this.prev=b,b.parent=this.parent,b.prev||(b.parent.firstChild=b)},C.prototype.appendChild=function(b){b.unlink(),b.parent=this,this.lastChild?(this.lastChild.next=b,b.prev=this.lastChild,this.lastChild=b):(this.firstChild=b,this.lastChild=b)},C.prototype.prependChild=function(b){b.unlink(),b.parent=this,this.firstChild?(this.firstChild.prev=b,b.next=this.firstChild,this.firstChild=b):(this.firstChild=b,this.lastChild=b)},C.prototype.walker=function(){return new eie(this)},C}(),hl=function(C){x(b,C);function b(N,P){var Z=C.call(this,N,P)||this;return Z.open=!0,Z.lineOffsets=null,Z.stringContent=null,Z.lastLineBlank=!1,Z.lastLineChecked=!1,Z.type=N,Z}return b}(Kh),iie=function(C){x(b,C);function b(){var N=C!==null&&C.apply(this,arguments)||this;return N.listData=null,N}return b}(hl),aie=function(C){x(b,C);function b(){var N=C!==null&&C.apply(this,arguments)||this;return N.level=0,N.headingType="atx",N}return b}(hl),oie=function(C){x(b,C);function b(){var N=C!==null&&C.apply(this,arguments)||this;return N.isFenced=!1,N.fenceChar=null,N.fenceLength=0,N.fenceOffset=-1,N.info=null,N.infoPadding=0,N}return b}(hl),sie=function(C){x(b,C);function b(){var N=C!==null&&C.apply(this,arguments)||this;return N.columns=[],N}return b}(hl),lie=function(C){x(b,C);function b(){var N=C!==null&&C.apply(this,arguments)||this;return N.startIdx=0,N.endIdx=0,N.paddingLeft=0,N.paddingRight=0,N.ignored=!1,N}return b}(hl),uie=function(C){x(b,C);function b(){var N=C!==null&&C.apply(this,arguments)||this;return N.title="",N.dest="",N.label="",N}return b}(hl),cie=function(C){x(b,C);function b(){var N=C!==null&&C.apply(this,arguments)||this;return N.syntaxLength=0,N.offset=-1,N.info="",N}return b}(hl),fie=function(C){x(b,C);function b(){var N=C!==null&&C.apply(this,arguments)||this;return N.htmlBlockType=-1,N}return b}(hl),die=function(C){x(b,C);function b(){var N=C!==null&&C.apply(this,arguments)||this;return N.destination=null,N.title=null,N.extendedAutolink=!1,N}return b}(Kh),hie=function(C){x(b,C);function b(){var N=C!==null&&C.apply(this,arguments)||this;return N.tickCount=0,N}return b}(Kh),pie=function(C){x(b,C);function b(){var N=C!==null&&C.apply(this,arguments)||this;return N.info="",N}return b}(Kh);function Or(C,b){switch(C){case"heading":return new aie(C,b);case"list":case"item":return new iie(C,b);case"link":case"image":return new die(C,b);case"codeBlock":return new oie(C,b);case"htmlBlock":return new fie(C,b);case"table":return new sie(C,b);case"tableCell":return new lie(C,b);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new hl(C,b);case"code":return new hie(C,b);case"refDef":return new uie(C,b);case"customBlock":return new cie(C,b);case"customInline":return new pie(C,b);default:return new Kh(C,b)}}function D2(C){return C.type==="codeBlock"}function vie(C){return C.type==="htmlBlock"}function gie(C){return C.type==="heading"}function L2(C){return C.type==="list"}function mie(C){return C.type==="table"}function Wf(C){return C.type==="refDef"}function O2(C){return C.type==="customBlock"}function yie(C){return C.type==="customInline"}function Kr(C,b){var N=Or("text",b);return N.literal=C,N}var R2="[A-Za-z][A-Za-z0-9-]*",bie="[a-zA-Z_:][a-zA-Z0-9:._-]*",wie="[^\"'=<>`\\x00-\\x20]+",Cie="'[^']*'",xie='"[^"]*"',kie="(?:"+wie+"|"+Cie+"|"+xie+")",_ie="(?:\\s*=\\s*"+kie+")",Tie="(?:\\s+"+bie+_ie+"?)",I2="<"+R2+Tie+"*\\s*/?>",B2="</"+R2+"\\s*[>]",Sie="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",Eie="[<][?].*?[?][>]",Aie="<![A-Z]+\\s+[^>]*>",Mie="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Nie="(?:"+I2+"|"+B2+"|"+Sie+"|"+Eie+"|"+Aie+"|"+Mie+")",Die=new RegExp("^"+Nie,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var Wk;if(String.fromCodePoint)Wk=function(C){try{return String.fromCodePoint(C)}catch(b){if(b instanceof RangeError)return"ï¿½";throw b}};else{var Lie=String.fromCharCode,Oie=Math.floor;Wk=function(){for(var C=[],b=0;b<arguments.length;b++)C[b]=arguments[b];var N=16384,P=[],Z,ue,xe=-1,Le=C.length;if(!Le)return"";for(var ot="";++xe<Le;){var dt=Number(C[xe]);if(!isFinite(dt)||dt<0||dt>1114111||Oie(dt)!==dt)return"ï¿½";dt<=65535?P.push(dt):(dt-=65536,Z=(dt>>10)+55296,ue=dt%1024+56320,P.push(Z,ue)),(xe+1===Le||P.length>N)&&(ot+=Lie.apply(void 0,P),P.length=0)}return ot}}var Gk=Wk,Rie="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",Iie="[^<\\s]*[^<?!.,:*_?~\\s]",Bie="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function Pie(C){var b=/\)+$/.exec(C);if(b){for(var N=0,P=0,Z=C;P<Z.length;P++){var ue=Z[P];ue==="("?N<0?N=1:N+=1:ue===")"&&(N-=1)}if(N<0){var xe=Math.min(-N,b[0].length);return C.substring(0,C.length-xe)}}return C}function Fie(C){return C.replace(/&[A-Za-z0-9]+;$/,"")}function zie(C){for(var b=new RegExp(Bie,"g"),N=[],P;P=b.exec(C);){var Z=P[0];/[_-]+$/.test(Z)||N.push({text:Z,range:[P.index,P.index+Z.length-1],url:"mailto:"+Z})}return N}function Hie(C){for(var b=new RegExp("(www|https?://)."+Rie+Iie,"g"),N=[],P;P=b.exec(C);){var Z=Fie(Pie(P[0])),ue=P[1]==="www"?"http://":"";N.push({text:Z,range:[P.index,P.index+Z.length-1],url:""+ue+Z})}return N}function qie(C){return d(d([],Hie(C)),zie(C)).sort(function(b,N){return b.range[0]-N.range[0]})}function Uie(C,b){typeof b=="boolean"&&(b=qie);for(var N,P=function(){var Z=N.entering,ue=N.node;if(Z&&ue.type==="text"&&ue.parent.type!=="link"){var xe=ue.literal,Le=b(xe);if(!Le||!Le.length)return"continue";for(var ot=0,dt=ue.sourcepos[0],Lt=dt[0],Pt=dt[1],At=function(ml,Xse){return[[Lt,Pt+ml],[Lt,Pt+Xse]]},en=[],Xt=0,Gn=Le;Xt<Gn.length;Xt++){var Rr=Gn[Xt],ii=Rr.range,pl=Rr.url,yo=Rr.text;ii[0]>ot&&en.push(Kr(xe.substring(ot,ii[0]),At(ot,ii[0]-1)));var Ya=Or("link",At.apply(void 0,ii));Ya.appendChild(Kr(yo,At.apply(void 0,ii))),Ya.destination=pl,Ya.extendedAutolink=!0,en.push(Ya),ot=ii[1]+1}ot<xe.length&&en.push(Kr(xe.substring(ot),At(ot,xe.length-1)));for(var es=0,vl=en;es<vl.length;es++){var gl=vl[es];ue.insertBefore(gl)}ue.unlink()}};N=C.next();)P()}function rm(C){return C[C.length-1]}function P2(C){return C.slice(1,C.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function im(C,b){Object.keys(C).forEach(function(N){b(N,C[N])})}function Vie(C){for(var b=[],N=1;N<arguments.length;N++)b[N-1]=arguments[N];var P=R({},C);return b.forEach(function(Z){delete P[Z]}),P}function Gf(C){return!Object.keys(C).length}function $ie(C){Object.keys(C).forEach(function(b){delete C[b]})}var jk=10,Yk=42,am=95,Wie=96,F2=91,Gie=93,om=126,z2=60,jie=33,H2=92,Yie=38,q2=40,Zk=41,Zie=58,dc=39,hc=34,pc=36,Kk="\\\\"+qk,U2=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),Kie=new RegExp('^(?:"('+Kk+'|[^"\\x00])*"|'+("'("+Kk+"|[^'\\x00])*'")+"|"+("\\(("+Kk+"|[^()\\x00])*\\))")),Jie=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,V2=new RegExp("^"+qk),Xie=new RegExp("^"+A2,"i"),Qie=/`+/,eae=/^`+/,tae=/\.\.\./g,nae=/--+/g,rae=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,iae=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,aae=/^ *(?:\n *)?/,Jk=/^[ \t\n\x0b\x0c\x0d]/,$2=/^\s/,oae=/ *$/,sae=/^ */,W2=/^ *(?:\n|$)/,lae=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,uae=/^[^\n`\[\]\\!<&*_'"~$]+/m,cae=function(){function C(b){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=b}return C.prototype.sourcepos=function(b,N){var P=this.linePosOffset+this.lineOffsets[this.lineIdx],Z=this.lineStartNum+this.lineIdx,ue=[Z,b+P];return typeof N=="number"?[ue,[Z,N+P]]:ue},C.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},C.prototype.match=function(b){var N=b.exec(this.subject.slice(this.pos));return N===null?null:(this.pos+=N.index+N[0].length,N[0])},C.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},C.prototype.spnl=function(){return this.match(aae),!0},C.prototype.parseBackticks=function(b){var N=this.pos+1,P=this.match(eae);if(P===null)return!1;for(var Z=this.pos,ue;(ue=this.match(Qie))!==null;)if(ue===P){var xe=this.subject.slice(Z,this.pos-P.length),Le=this.sourcepos(N,this.pos),ot=xe.split(`
`);if(ot.length>1){var dt=rm(ot);this.lineIdx+=ot.length-1,this.linePosOffset=-(this.pos-dt.length-P.length),Le[1]=this.sourcepos(this.pos),xe=ot.join(" ")}var Lt=Or("code",Le);return xe.length>0&&xe.match(/[^ ]/)!==null&&xe[0]==" "&&xe[xe.length-1]==" "?Lt.literal=xe.slice(1,xe.length-1):Lt.literal=xe,Lt.tickCount=P.length,b.appendChild(Lt),!0}return this.pos=Z,b.appendChild(Kr(P,this.sourcepos(N,this.pos-1))),!0},C.prototype.parseBackslash=function(b){var N=this.subject,P;this.pos+=1;var Z=this.pos;return this.peek()===jk?(this.pos+=1,P=Or("linebreak",this.sourcepos(this.pos-1,this.pos)),b.appendChild(P),this.nextLine()):V2.test(N.charAt(this.pos))?(b.appendChild(Kr(N.charAt(this.pos),this.sourcepos(Z,this.pos))),this.pos+=1):b.appendChild(Kr("\\",this.sourcepos(Z,Z))),!0},C.prototype.parseAutolink=function(b){var N,P,Z,ue=this.pos+1;return(N=this.match(rae))?(P=N.slice(1,N.length-1),Z=Or("link",this.sourcepos(ue,this.pos)),Z.destination=tm("mailto:"+P),Z.title="",Z.appendChild(Kr(P,this.sourcepos(ue+1,this.pos-1))),b.appendChild(Z),!0):(N=this.match(iae))?(P=N.slice(1,N.length-1),Z=Or("link",this.sourcepos(ue,this.pos)),Z.destination=tm(P),Z.title="",Z.appendChild(Kr(P,this.sourcepos(ue+1,this.pos-1))),b.appendChild(Z),!0):!1},C.prototype.parseHtmlTag=function(b){var N=this.pos+1,P=this.match(Die);if(P===null)return!1;var Z=Or("htmlInline",this.sourcepos(N,this.pos));return Z.literal=P,b.appendChild(Z),!0},C.prototype.scanDelims=function(b){var N=0,P=this.pos;if(b===dc||b===hc)N++,this.pos++;else for(;this.peek()===b;)N++,this.pos++;if(N===0||N<2&&(b===om||b===pc))return this.pos=P,null;var Z=P===0?`
`:this.subject.charAt(P-1),ue=this.peek(),xe;ue===-1?xe=`
`:xe=Gk(ue);var Le=$2.test(xe),ot=U2.test(xe),dt=$2.test(Z),Lt=U2.test(Z),Pt=!Le&&(!ot||dt||Lt),At=!dt&&(!Lt||Le||ot),en,Xt;return b===am?(en=Pt&&(!At||Lt),Xt=At&&(!Pt||ot)):b===dc||b===hc?(en=Pt&&!At,Xt=At):b===pc?(en=!Le,Xt=!dt):(en=Pt,Xt=At),this.pos=P,{numdelims:N,canOpen:en,canClose:Xt}},C.prototype.handleDelim=function(b,N){var P=this.scanDelims(b);if(!P)return!1;var Z=P.numdelims,ue=this.pos+1,xe;this.pos+=Z,b===dc?xe="â":b===hc?xe="â":xe=this.subject.slice(ue-1,this.pos);var Le=Kr(xe,this.sourcepos(ue,this.pos));return N.appendChild(Le),(P.canOpen||P.canClose)&&(this.options.smart||b!==dc&&b!==hc)&&(this.delimiters={cc:b,numdelims:Z,origdelims:Z,node:Le,previous:this.delimiters,next:null,canOpen:P.canOpen,canClose:P.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},C.prototype.removeDelimiter=function(b){b.previous!==null&&(b.previous.next=b.next),b.next===null?this.delimiters=b.previous:b.next.previous=b.previous},C.prototype.removeDelimitersBetween=function(b,N){b.next!==N&&(b.next=N,N.previous=b)},C.prototype.processEmphasis=function(b){var N,P,Z,ue,xe,Le,ot,dt=!1,Lt=(N={},N[am]=[b,b,b],N[Yk]=[b,b,b],N[dc]=[b],N[hc]=[b],N[om]=[b],N[pc]=[b],N);for(Z=this.delimiters;Z!==null&&Z.previous!==b;)Z=Z.previous;for(;Z!==null;){var Pt=Z.cc,At=Pt===am||Pt===Yk;if(!Z.canClose)Z=Z.next;else{for(P=Z.previous,ot=!1;P!==null&&P!==b&&P!==Lt[Pt][At?Z.origdelims%3:0];){if(dt=At&&(Z.canOpen||P.canClose)&&Z.origdelims%3!==0&&(P.origdelims+Z.origdelims)%3===0,P.cc===Z.cc&&P.canOpen&&!dt){ot=!0;break}P=P.previous}if(ue=Z,At||Pt===om||Pt===pc){if(!ot)Z=Z.next;else if(P){var en=Z.numdelims>=2&&P.numdelims>=2?2:1,Xt=At?0:1;xe=P.node,Le=Z.node;var Gn=At?en===1?"emph":"strong":"strike";Pt===pc&&(Gn="customInline");var Rr=Or(Gn),ii=xe.sourcepos[1],pl=Le.sourcepos[0];Rr.sourcepos=[[ii[0],ii[1]-en+1],[pl[0],pl[1]+en-1]],xe.sourcepos[1][1]-=en,Le.sourcepos[0][1]+=en,xe.literal=xe.literal.slice(en),Le.literal=Le.literal.slice(en),P.numdelims-=en,Z.numdelims-=en;for(var yo=xe.next,Ya=void 0;yo&&yo!==Le;)Ya=yo.next,yo.unlink(),Rr.appendChild(yo),yo=Ya;if(Pt===pc){var es=Rr.firstChild,vl=es.literal||"",gl=vl.split(/\s/)[0];Rr.info=gl,vl.length<=gl.length?es.unlink():(es.sourcepos[0][1]+=gl.length,es.literal=vl.replace(gl+" ",""))}if(xe.insertAfter(Rr),this.removeDelimitersBetween(P,Z),P.numdelims<=Xt&&(P.numdelims===0&&xe.unlink(),this.removeDelimiter(P)),Z.numdelims<=Xt){Z.numdelims===0&&Le.unlink();var ml=Z.next;this.removeDelimiter(Z),Z=ml}}}else Pt===dc?(Z.node.literal="â",ot&&(P.node.literal="â"),Z=Z.next):Pt===hc&&(Z.node.literal="â",ot&&(P.node.literal="â"),Z=Z.next);ot||(Lt[Pt][At?ue.origdelims%3:0]=ue.previous,ue.canOpen||this.removeDelimiter(ue))}}for(;this.delimiters!==null&&this.delimiters!==b;)this.removeDelimiter(this.delimiters)},C.prototype.parseLinkTitle=function(){var b=this.match(Kie);return b===null?null:Zh(b.substr(1,b.length-2))},C.prototype.parseLinkDestination=function(){var b=this.match(Jie);if(b===null){if(this.peek()===z2)return null;for(var N=this.pos,P=0,Z=void 0;(Z=this.peek())!==-1;)if(Z===H2&&V2.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(Z===q2)this.pos+=1,P+=1;else if(Z===Zk){if(P<1)break;this.pos+=1,P-=1}else{if(Jk.exec(Gk(Z))!==null)break;this.pos+=1}return this.pos===N&&Z!==Zk||P!==0?null:(b=this.subject.substr(N,this.pos-N),tm(Zh(b)))}return tm(Zh(b.substr(1,b.length-2)))},C.prototype.parseLinkLabel=function(){var b=this.match(lae);return b===null||b.length>1001?0:b.length},C.prototype.parseOpenBracket=function(b){var N=this.pos;this.pos+=1;var P=Kr("[",this.sourcepos(this.pos,this.pos));return b.appendChild(P),this.addBracket(P,N,!1),!0},C.prototype.parseBang=function(b){var N=this.pos;if(this.pos+=1,this.peek()===F2){this.pos+=1;var P=Kr("![",this.sourcepos(this.pos-1,this.pos));b.appendChild(P),this.addBracket(P,N+1,!0)}else{var P=Kr("!",this.sourcepos(this.pos,this.pos));b.appendChild(P)}return!0},C.prototype.parseCloseBracket=function(b){var N=null,P=null,Z=!1;this.pos+=1;var ue=this.pos,xe=this.brackets;if(xe===null)return b.appendChild(Kr("]",this.sourcepos(ue,ue))),!0;if(!xe.active)return b.appendChild(Kr("]",this.sourcepos(ue,ue))),this.removeBracket(),!0;var Le=xe.image,ot=this.pos;this.peek()===q2&&(this.pos++,this.spnl()&&(N=this.parseLinkDestination())!==null&&this.spnl()&&(Jk.test(this.subject.charAt(this.pos-1))&&(P=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Zk?(this.pos+=1,Z=!0):this.pos=ot);var dt="";if(!Z){var Lt=this.pos,Pt=this.parseLinkLabel();if(Pt>2?dt=this.subject.slice(Lt,Lt+Pt):xe.bracketAfter||(dt=this.subject.slice(xe.index,ue)),Pt===0&&(this.pos=ot),dt){dt=P2(dt);var At=this.refMap[dt];At&&(N=At.destination,P=At.title,Z=!0)}}if(Z){var en=Or(Le?"image":"link");en.destination=N,en.title=P||"",en.sourcepos=[xe.startpos,this.sourcepos(this.pos)];for(var Xt=xe.node.next,Gn=void 0;Xt;)Gn=Xt.next,Xt.unlink(),en.appendChild(Xt),Xt=Gn;if(b.appendChild(en),this.processEmphasis(xe.previousDelimiter),this.removeBracket(),xe.node.unlink(),!Le)for(xe=this.brackets;xe!==null;)xe.image||(xe.active=!1),xe=xe.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[b.id]={node:b,refLabel:dt}),!0}return this.removeBracket(),this.pos=ue,b.appendChild(Kr("]",this.sourcepos(ue,ue))),this.options.referenceDefinition&&(this.refLinkCandidateMap[b.id]={node:b,refLabel:dt}),!0},C.prototype.addBracket=function(b,N,P){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:b,startpos:this.sourcepos(N+(P?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:N,image:P,active:!0}},C.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},C.prototype.parseEntity=function(b){var N,P=this.pos+1;return(N=this.match(Xie))?(b.appendChild(Kr(O.decodeHTML(N),this.sourcepos(P,this.pos))),!0):!1},C.prototype.parseString=function(b){var N,P=this.pos+1;if(N=this.match(uae)){if(this.options.smart){var Z=N.replace(tae,"â¦").replace(nae,function(xe){var Le=0,ot=0;return xe.length%3===0?ot=xe.length/3:xe.length%2===0?Le=xe.length/2:xe.length%3===2?(Le=1,ot=(xe.length-2)/3):(Le=2,ot=(xe.length-4)/3),Uk("â",ot)+Uk("â",Le)});b.appendChild(Kr(Z,this.sourcepos(P,this.pos)))}else{var ue=Kr(N,this.sourcepos(P,this.pos));b.appendChild(ue)}return!0}return!1},C.prototype.parseNewline=function(b){this.pos+=1;var N=b.lastChild;if(N&&N.type==="text"&&N.literal[N.literal.length-1]===" "){var P=N.literal[N.literal.length-2]===" ",Z=N.literal.length;N.literal=N.literal.replace(oae,"");var ue=Z-N.literal.length;N.sourcepos[1][1]-=ue,b.appendChild(Or(P?"linebreak":"softbreak",this.sourcepos(this.pos-ue,this.pos)))}else b.appendChild(Or("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(sae),!0},C.prototype.parseReference=function(b,N){if(!this.options.referenceDefinition)return 0;this.subject=b.stringContent,this.pos=0;var P=null,Z=this.pos,ue=this.parseLinkLabel();if(ue===0)return 0;var xe=this.subject.substr(0,ue);if(this.peek()===Zie)this.pos++;else return this.pos=Z,0;this.spnl();var Le=this.parseLinkDestination();if(Le===null)return this.pos=Z,0;var ot=this.pos;this.spnl(),this.pos!==ot&&(P=this.parseLinkTitle()),P===null&&(P="",this.pos=ot);var dt=!0;if(this.match(W2)===null&&(P===""?dt=!1:(P="",this.pos=ot,dt=this.match(W2)!==null)),!dt)return this.pos=Z,0;var Lt=P2(xe);if(Lt==="")return this.pos=Z,0;var Pt=this.getReferenceDefSourcepos(b);b.sourcepos[0][0]=Pt[1][0]+1;var At=Or("refDef",Pt);return At.title=P,At.dest=Le,At.label=Lt,b.insertBefore(At),N[Lt]?this.refDefCandidateMap[At.id]=At:N[Lt]=r_(At),this.pos-Z},C.prototype.mergeTextNodes=function(b){for(var N,P=[];N=b.next();){var Z=N.entering,ue=N.node;if(Z&&ue.type==="text")P.push(ue);else if(P.length===1)P=[];else if(P.length>1){var xe=P[0],Le=P[P.length-1];xe.sourcepos&&Le.sourcepos&&(xe.sourcepos[1]=Le.sourcepos[1]),xe.next=Le.next,xe.next&&(xe.next.prev=xe);for(var ot=1;ot<P.length;ot+=1)xe.literal+=P[ot].literal,P[ot].unlink();P=[]}}},C.prototype.getReferenceDefSourcepos=function(b){for(var N=b.stringContent.split(/\n|\r\n/),P=!1,Z=0,ue={line:0,ch:0},xe=0;xe<N.length;xe+=1){var Le=N[xe];if(Jk.test(Le))break;if(/\:/.test(Le)&&Z===0){if(P)break;var ot=Le.indexOf(":")===Le.length-1?xe+1:xe;ue={line:ot,ch:N[ot].length},P=!0}var dt=Le.match(/'|"/g);if(dt&&(Z+=dt.length),Z===2){ue={line:xe,ch:Le.length};break}}return[[b.sourcepos[0][0],b.sourcepos[0][1]],[b.sourcepos[0][0]+ue.line,ue.ch]]},C.prototype.parseInline=function(b){var N,P=!1,Z=this.peek();if(Z===-1)return!1;switch(Z){case jk:P=this.parseNewline(b);break;case H2:P=this.parseBackslash(b);break;case Wie:P=this.parseBackticks(b);break;case Yk:case am:case om:case pc:P=this.handleDelim(Z,b);break;case dc:case hc:P=!!(!((N=this.options)===null||N===void 0)&&N.smart)&&this.handleDelim(Z,b);break;case F2:P=this.parseOpenBracket(b);break;case jie:P=this.parseBang(b);break;case Gie:P=this.parseCloseBracket(b);break;case z2:P=this.parseAutolink(b)||this.parseHtmlTag(b);break;case Yie:b.disabledEntityParse||(P=this.parseEntity(b));break;default:P=this.parseString(b);break}return P||(this.pos+=1,b.appendChild(Kr(Gk(Z),this.sourcepos(this.pos,this.pos+1)))),!0},C.prototype.parse=function(b){for(this.subject=b.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=b.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=b.sourcepos[0][0],gie(b)&&(this.lineOffsets[0]+=b.level+1);this.parseInline(b););b.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(b.walker());var N=this.options,P=N.extendedAutolinks,Z=N.customParser;if(P&&Uie(b.walker(),P),Z&&b.firstChild)for(var ue,xe=b.firstChild.walker();ue=xe.next();){var Le=ue.node,ot=ue.entering;Z[Le.type]&&Z[Le.type](Le,{entering:ot,options:this.options})}},C}(),fae=/^\[([ \txX])\][ \t]+/;function dae(C,b){if(b.firstChild&&b.firstChild.type==="paragraph"){var N=b.firstChild,P=N.stringContent.match(fae);if(P){var Z=P[0].length;N.stringContent=N.stringContent.substring(Z-1),N.sourcepos[0][1]+=Z,N.lineOffsets[0]+=Z,b.listData.task=!0,b.listData.checked=/[xX]/.test(P[1])}}}var hae={continue:function(){return 0},finalize:function(){},canContain:function(C){return C==="tableHead"||C==="tableBody"},acceptsLines:!1},pae={continue:function(){return 0},finalize:function(){},canContain:function(C){return C==="tableRow"},acceptsLines:!1},vae={continue:function(){return 1},finalize:function(){},canContain:function(C){return C==="tableRow"||C==="tableDelimRow"},acceptsLines:!1},gae={continue:function(){return 1},finalize:function(){},canContain:function(C){return C==="tableDelimCell"},acceptsLines:!1},mae={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},yae={continue:function(){return 1},finalize:function(){},canContain:function(C){return C==="tableCell"},acceptsLines:!1},bae={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},sm=4,G2=9,j2=62,wae=60,Y2=32,Z2=91,K2=/[^ \t\f\v\r\n]/,Cae=/^(?:`{3,}|~{3,})(?= *$)/;function J2(C){for(var b=C;b;){if(b.lastLineBlank)return!0;var N=b.type;if(!b.lastLineChecked&&(N==="list"||N==="item"))b.lastLineChecked=!0,b=b.lastChild;else{b.lastLineChecked=!0;break}}return!1}function ja(C,b){return b<C.length?C.charCodeAt(b):-1}function X2(C){return!K2.test(C)}function jf(C){return C===Y2||C===G2}var xae=/^\$\$$/,kae={continue:function(C,b){var N=C.currentLine,P=N.match(xae);if(P)return C.lastLineLength=P[0].length,C.finalize(b,C.lineNumber),2;for(var Z=b.offset;Z>0&&jf(ja(N,C.offset));)C.advanceOffset(1,!0),Z--;return 0},finalize:function(C,b){if(b.stringContent!==null){var N=b.stringContent,P=N.indexOf(`
`),Z=N.slice(0,P),ue=N.slice(P+1),xe=Z.match(/^(\s*)(.*)/);b.info=Zh(xe[2].trim()),b.literal=ue,b.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Q2={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},_ae={continue:function(){return 0},finalize:function(){},canContain:function(C){return C!=="item"},acceptsLines:!1},Tae={continue:function(){return 0},finalize:function(C,b){for(var N=b.firstChild;N;){if(J2(N)&&N.next){b.listData.tight=!1;break}for(var P=N.firstChild;P;){if(J2(P)&&(N.next||P.next)){b.listData.tight=!1;break}P=P.next}N=N.next}},canContain:function(C){return C==="item"},acceptsLines:!1},Sae={continue:function(C){var b=C.currentLine;if(!C.indented&&ja(b,C.nextNonspace)===j2)C.advanceNextNonspace(),C.advanceOffset(1,!1),jf(ja(b,C.offset))&&C.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(C){return C!=="item"},acceptsLines:!1},Eae={continue:function(C,b){if(C.blank){if(b.firstChild===null)return 1;C.advanceNextNonspace()}else if(C.indent>=b.listData.markerOffset+b.listData.padding)C.advanceOffset(b.listData.markerOffset+b.listData.padding,!0);else return 1;return 0},finalize:dae,canContain:function(C){return C!=="item"},acceptsLines:!1},Aae={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Mae={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Nae={continue:function(C,b){var N=C.currentLine,P=C.indent;if(b.isFenced){var Z=P<=3&&N.charAt(C.nextNonspace)===b.fenceChar&&N.slice(C.nextNonspace).match(Cae);if(Z&&Z[0].length>=b.fenceLength)return C.lastLineLength=C.offset+P+Z[0].length,C.finalize(b,C.lineNumber),2;for(var ue=b.fenceOffset;ue>0&&jf(ja(N,C.offset));)C.advanceOffset(1,!0),ue--}else if(P>=sm)C.advanceOffset(sm,!0);else if(C.blank)C.advanceNextNonspace();else return 1;return 0},finalize:function(C,b){var N;if(b.stringContent!==null){if(b.isFenced){var P=b.stringContent,Z=P.indexOf(`
`),ue=P.slice(0,Z),xe=P.slice(Z+1),Le=ue.match(/^(\s*)(.*)/);b.infoPadding=Le[1].length,b.info=Zh(Le[2].trim()),b.literal=xe}else b.literal=(N=b.stringContent)===null||N===void 0?void 0:N.replace(/(\n *)+$/,`
`);b.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Dae={continue:function(C,b){return C.blank&&(b.htmlBlockType===6||b.htmlBlockType===7)?1:0},finalize:function(C,b){var N;b.literal=((N=b.stringContent)===null||N===void 0?void 0:N.replace(/(\n *)+$/,""))||null,b.stringContent=null},canContain:function(){return!1},acceptsLines:!0},Lae={continue:function(C){return C.blank?1:0},finalize:function(C,b){if(b.stringContent!==null){for(var N,P=!1;ja(b.stringContent,0)===Z2&&(N=C.inlineParser.parseReference(b,C.refMap));)b.stringContent=b.stringContent.slice(N),P=!0;P&&X2(b.stringContent)&&b.unlink()}},canContain:function(){return!1},acceptsLines:!0},Oae=Q2,Rae=Q2,Yf={document:_ae,list:Tae,blockQuote:Sae,item:Eae,heading:Aae,thematicBreak:Mae,codeBlock:Nae,htmlBlock:Dae,paragraph:Lae,table:hae,tableBody:pae,tableHead:vae,tableRow:yae,tableCell:bae,tableDelimRow:gae,tableDelimCell:mae,refDef:Oae,customBlock:kae,frontMatter:Rae};function Xk(C){for(var b=0,N=0,P=[],Z=0;Z<C.length;Z+=1)if(C[Z]==="|"&&C[Z-1]!=="\\"){var ue=C.substring(b,Z);b===0&&N2(ue)?N=Z+1:P.push(ue),b=Z+1}if(b<C.length){var ue=C.substring(b,C.length);N2(ue)||P.push(ue)}return[N,P]}function Qk(C,b,N,P){for(var Z=[],ue=0,xe=b;ue<xe.length;ue++){var Le=xe[ue],ot=Le.match(/^[ \t]+/),dt=ot?ot[0].length:0,Lt=void 0,Pt=void 0;if(dt===Le.length)dt=0,Lt=0,Pt="";else{var At=Le.match(/[ \t]+$/);Lt=At?At[0].length:0,Pt=Le.slice(dt,Le.length-Lt)}var en=P+dt,Xt=Or(C,[[N,P],[N,P+Le.length-1]]);Xt.stringContent=Pt.replace(/\\\|/g,"|"),Xt.startIdx=Z.length,Xt.endIdx=Z.length,Xt.lineOffsets=[en-1],Xt.paddingLeft=dt,Xt.paddingRight=Lt,Z.push(Xt),P+=Le.length+1}return Z}function Iae(C){var b=null,N=C.stringContent,P=N[0],Z=N[N.length-1];return Z===":"?b=P===":"?"center":"right":P===":"&&(b="left"),{align:b}}var Bae=function(C,b){var N=b.stringContent;if(b.type==="paragraph"&&!C.indented&&!C.blank){var P=N.length-1,Z=N.lastIndexOf(`
`,P-1)+1,ue=N.slice(Z,P),xe=C.currentLine.slice(C.nextNonspace),Le=Xk(ue),ot=Le[0],dt=Le[1],Lt=Xk(xe),Pt=Lt[0],At=Lt[1],en=/^[ \t]*:?-+:?[ \t]*$/;if(!dt.length||!At.length||At.some(function(ml){return!en.test(ml)})||At.length===1&&xe.indexOf("|")!==0)return 0;var Xt=b.lineOffsets,Gn=C.lineNumber-1,Rr=rm(Xt)+1,ii=Or("table",[[Gn,Rr],[C.lineNumber,C.offset]]);if(ii.columns=At.map(function(){return{align:null}}),b.insertAfter(ii),Xt.length===1)b.unlink();else{b.stringContent=N.slice(0,Z);var pl=N.lastIndexOf(`
`,Z-2)+1,yo=Z-pl-1;C.lastLineLength=Xt[Xt.length-2]+yo,C.finalize(b,Gn-1)}C.advanceOffset(C.currentLine.length-C.offset,!1);var Ya=Or("tableHead",[[Gn,Rr],[C.lineNumber,C.offset]]);ii.appendChild(Ya);var es=Or("tableRow",[[Gn,Rr],[Gn,Rr+ue.length-1]]),vl=Or("tableDelimRow",[[C.lineNumber,C.nextNonspace+1],[C.lineNumber,C.offset]]);Ya.appendChild(es),Ya.appendChild(vl),Qk("tableCell",dt,Gn,Rr+ot).forEach(function(ml){es.appendChild(ml)});var gl=Qk("tableDelimCell",At,C.lineNumber,C.nextNonspace+1+Pt);return gl.forEach(function(ml){vl.appendChild(ml)}),ii.columns=gl.map(Iae),C.tip=ii,2}return 0},Pae=function(C,b){if(b.type!=="table"&&b.type!=="tableBody"||!C.blank&&C.currentLine.indexOf("|")===-1)return 0;if(C.advanceOffset(C.currentLine.length-C.offset,!1),C.blank){var N=b;return b.type==="tableBody"&&(N=b.parent,C.finalize(b,C.lineNumber-1)),C.finalize(N,C.lineNumber-1),0}var P=b;b.type==="table"&&(P=C.addChild("tableBody",C.nextNonspace),P.stringContent=null);var Z=Or("tableRow",[[C.lineNumber,C.nextNonspace+1],[C.lineNumber,C.currentLine.length]]);P.appendChild(Z);var ue=P.parent,xe=C.currentLine.slice(C.nextNonspace),Le=Xk(xe),ot=Le[0],dt=Le[1];return Qk("tableCell",dt,C.lineNumber,C.nextNonspace+1+ot).forEach(function(Lt,Pt){Pt>=ue.columns.length&&(Lt.ignored=!0),Z.appendChild(Lt)}),2},Fae=/^(\$\$)(\s*[a-zA-Z])+/,zae=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,Hae=function(C){var b;if(!C.indented&&!zae.test(C.currentLine)&&(b=C.currentLine.match(Fae))){var N=b[1].length;C.closeUnmatchedBlocks();var P=C.addChild("customBlock",C.nextNonspace);return P.syntaxLength=N,P.offset=C.indent,C.advanceNextNonspace(),C.advanceOffset(N,!1),2}return 0},qae=/^`{3,}(?!.*`)|^~{3,}/,Uae=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+I2+"|"+B2+")\\s*$","i")],Vae=/^(?:=+|-+)[ \t]*$/,$ae=/^#{1,6}(?:[ \t]+|$)/,Wae=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,eA=/^[*+-]/,tA=/^(\d{1,9})([.)])/;function Gae(C,b){var N=C.currentLine.slice(C.nextNonspace),P,Z,ue={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:C.indent,task:!1,checked:!1};if(C.indent>=4)return null;if(P=N.match(eA))ue.type="bullet",ue.bulletChar=P[0][0];else if((P=N.match(tA))&&(b.type!=="paragraph"||P[1]==="1"))ue.type="ordered",ue.start=parseInt(P[1],10),ue.delimiter=P[2];else return null;if(Z=ja(C.currentLine,C.nextNonspace+P[0].length),!(Z===-1||Z===G2||Z===Y2)||b.type==="paragraph"&&!C.currentLine.slice(C.nextNonspace+P[0].length).match(K2))return null;C.advanceNextNonspace(),C.advanceOffset(P[0].length,!0);var xe=C.column,Le=C.offset;do C.advanceOffset(1,!0),Z=ja(C.currentLine,C.offset);while(C.column-xe<5&&jf(Z));var ot=ja(C.currentLine,C.offset)===-1,dt=C.column-xe;return dt>=5||dt<1||ot?(ue.padding=P[0].length+1,C.column=xe,C.offset=Le,jf(ja(C.currentLine,C.offset))&&C.advanceOffset(1,!0)):ue.padding=P[0].length+dt,ue}function jae(C,b){return C.type===b.type&&C.delimiter===b.delimiter&&C.bulletChar===b.bulletChar}function nA(C,b){return C.options.disallowDeepHeading&&(b.type==="blockQuote"||b.type==="item")}var Yae=function(C){return!C.indented&&ja(C.currentLine,C.nextNonspace)===j2?(C.advanceNextNonspace(),C.advanceOffset(1,!1),jf(ja(C.currentLine,C.offset))&&C.advanceOffset(1,!0),C.closeUnmatchedBlocks(),C.addChild("blockQuote",C.nextNonspace),1):0},Zae=function(C,b){var N;if(!C.indented&&!nA(C,b)&&(N=C.currentLine.slice(C.nextNonspace).match($ae))){C.advanceNextNonspace(),C.advanceOffset(N[0].length,!1),C.closeUnmatchedBlocks();var P=C.addChild("heading",C.nextNonspace);return P.level=N[0].trim().length,P.headingType="atx",P.stringContent=C.currentLine.slice(C.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),C.advanceOffset(C.currentLine.length-C.offset),2}return 0},Kae=function(C){var b;if(!C.indented&&(b=C.currentLine.slice(C.nextNonspace).match(qae))){var N=b[0].length;C.closeUnmatchedBlocks();var P=C.addChild("codeBlock",C.nextNonspace);return P.isFenced=!0,P.fenceLength=N,P.fenceChar=b[0][0],P.fenceOffset=C.indent,C.advanceNextNonspace(),C.advanceOffset(N,!1),2}return 0},Jae=function(C,b){if(!C.indented&&ja(C.currentLine,C.nextNonspace)===wae){var N=C.currentLine.slice(C.nextNonspace),P=C.options.disallowedHtmlBlockTags,Z=void 0;for(Z=1;Z<=7;Z++){var ue=N.match(Uae[Z]);if(ue){if(Z===7){if(b.type==="paragraph")return 0;if(P.length>0){var xe=new RegExp("</?(?:"+P.join("|")+")","i");if(xe.test(ue[0]))return 0}}C.closeUnmatchedBlocks();var Le=C.addChild("htmlBlock",C.offset);return Le.htmlBlockType=Z,2}}}return 0},Xae=function(C,b){var N;if(b.stringContent!==null&&!C.indented&&b.type==="paragraph"&&!nA(C,b.parent)&&(N=C.currentLine.slice(C.nextNonspace).match(Vae))){C.closeUnmatchedBlocks();for(var P=void 0;ja(b.stringContent,0)===Z2&&(P=C.inlineParser.parseReference(b,C.refMap));)b.stringContent=b.stringContent.slice(P);if(b.stringContent.length>0){var Z=Or("heading",b.sourcepos);return Z.level=N[0][0]==="="?1:2,Z.headingType="setext",Z.stringContent=b.stringContent,b.insertAfter(Z),b.unlink(),C.tip=Z,C.advanceOffset(C.currentLine.length-C.offset,!1),2}return 0}return 0},Qae=function(C){return!C.indented&&Wae.test(C.currentLine.slice(C.nextNonspace))?(C.closeUnmatchedBlocks(),C.addChild("thematicBreak",C.nextNonspace),C.advanceOffset(C.currentLine.length-C.offset,!1),2):0},eoe=function(C,b){var N,P=b;return(!C.indented||b.type==="list")&&(N=Gae(C,P))?(C.closeUnmatchedBlocks(),(C.tip.type!=="list"||!jae(P.listData,N))&&(P=C.addChild("list",C.nextNonspace),P.listData=N),P=C.addChild("item",C.nextNonspace),P.listData=N,1):0},toe=function(C){return C.indented&&C.tip.type!=="paragraph"&&!C.blank?(C.advanceOffset(sm,!0),C.closeUnmatchedBlocks(),C.addChild("codeBlock",C.offset),2):0},e_=[Yae,Zae,Kae,Jae,Xae,Qae,eoe,toe,Bae,Pae,Hae],rA=/^(-{3}|\+{3}|;{3})$/,noe=function(C,b){var N=C.currentLine,P=C.lineNumber,Z=C.indented;if(P===1&&!Z&&b.type==="document"&&rA.test(N)){C.closeUnmatchedBlocks();var ue=C.addChild("frontMatter",C.nextNonspace);return ue.stringContent=N,C.advanceNextNonspace(),C.advanceOffset(N.length,!1),2}return 0},roe={continue:function(C,b){var N=C.currentLine,P=N.match(rA);return b.type==="frontMatter"&&P?(b.stringContent+=N,C.lastLineLength=P[0].length,C.finalize(b,C.lineNumber),2):0},finalize:function(C,b){b.stringContent!==null&&(b.literal=b.stringContent,b.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},ioe=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],aoe=/^[#`~*+_=<>0-9-;$]/,ooe=/\r\n|\n|\r/;function t_(){return Or("document",[[1,1],[0,0]])}var soe={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},loe=function(){function C(b){this.options=R(R({},soe),b),this.doc=t_(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Yf.frontMatter=roe,e_.unshift(noe)),this.inlineParser=new cae(this.options)}return C.prototype.advanceOffset=function(b,N){N===void 0&&(N=!1);for(var P=this.currentLine,Z,ue,xe;b>0&&(xe=P[this.offset]);)xe==="	"?(Z=4-this.column%4,N?(this.partiallyConsumedTab=Z>b,ue=Z>b?b:Z,this.column+=ue,this.offset+=this.partiallyConsumedTab?0:1,b-=ue):(this.partiallyConsumedTab=!1,this.column+=Z,this.offset+=1,b-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,b-=1)},C.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},C.prototype.findNextNonspace=function(){for(var b=this.currentLine,N=this.offset,P=this.column,Z;(Z=b.charAt(N))!=="";)if(Z===" ")N++,P++;else if(Z==="	")N++,P+=4-P%4;else break;this.blank=Z===`
`||Z==="\r"||Z==="",this.nextNonspace=N,this.nextNonspaceColumn=P,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=sm},C.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var b=4-this.column%4;this.tip.stringContent+=Uk(" ",b)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},C.prototype.addChild=function(b,N){for(;!Yf[this.tip.type].canContain(b);)this.finalize(this.tip,this.lineNumber-1);var P=N+1,Z=Or(b,[[this.lineNumber,P],[0,0]]);return Z.stringContent="",this.tip.appendChild(Z),this.tip=Z,Z},C.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var b=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=b}this.allClosed=!0}},C.prototype.finalize=function(b,N){var P=b.parent;b.open=!1,b.sourcepos[1]=[N,this.lastLineLength],Yf[b.type].finalize(this,b),this.tip=P},C.prototype.processInlines=function(b){var N,P=this.options.customParser,Z=b.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;N=Z.next();){var ue=N.node,xe=N.entering,Le=ue.type;P&&P[Le]&&P[Le](ue,{entering:xe,options:this.options}),!xe&&(Le==="paragraph"||Le==="heading"||Le==="tableCell"&&!ue.ignored)&&this.inlineParser.parse(ue)}},C.prototype.incorporateLine=function(b){var N=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,b.indexOf("\0")!==-1&&(b=b.replace(/\0/g,"ï¿½")),this.currentLine=b;for(var P=!0,Z;(Z=N.lastChild)&&Z.open;){switch(N=Z,this.findNextNonspace(),Yf[N.type].continue(this,N)){case 0:break;case 1:P=!1;break;case 2:this.lastLineLength=b.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!P){N=N.parent;break}}this.allClosed=N===this.oldtip,this.lastMatchedContainer=N;for(var ue=N.type!=="paragraph"&&Yf[N.type].acceptsLines,xe=e_.length;!ue;){if(this.findNextNonspace(),N.type!=="table"&&N.type!=="tableBody"&&N.type!=="paragraph"&&!this.indented&&!aoe.test(b.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var Le=0;Le<xe;){var ot=e_[Le](this,N);if(ot===1){N=this.tip;break}else if(ot===2){N=this.tip,ue=!0;break}else Le++}if(Le===xe){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&N.lastChild&&(N.lastChild.lastLineBlank=!0);for(var dt=N.type,Lt=this.blank&&!(dt==="blockQuote"||D2(N)&&N.isFenced||dt==="item"&&!N.firstChild&&N.sourcepos[0][0]===this.lineNumber),Pt=N;Pt;)Pt.lastLineBlank=Lt,Pt=Pt.parent;Yf[dt].acceptsLines?(this.addLine(),vie(N)&&N.htmlBlockType>=1&&N.htmlBlockType<=5&&ioe[N.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=b.length,this.finalize(N,this.lineNumber))):this.offset<b.length&&!this.blank&&(N=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=b.length},C.prototype.parse=function(b,N){this.doc=t_(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var P=b.split(ooe),Z=P.length;this.lines=N||P,this.options.referenceDefinition&&this.clearRefMaps(),b.charCodeAt(b.length-1)===jk&&(Z-=1);for(var ue=0;ue<Z;ue++)this.incorporateLine(P[ue]);for(;this.tip;)this.finalize(this.tip,Z);return this.processInlines(this.doc),this.doc},C.prototype.partialParseStart=function(b,N){this.doc=t_(),this.tip=this.doc,this.lineNumber=b-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var P=N.length,Z=0;Z<P;Z++)this.incorporateLine(N[Z]);return this.doc},C.prototype.partialParseExtends=function(b){for(var N=0;N<b.length;N++)this.incorporateLine(b[N])},C.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},C.prototype.setRefMaps=function(b,N,P){this.refMap=b,this.refLinkCandidateMap=N,this.refDefCandidateMap=P},C.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(b){$ie(b)})},C}();function iA(C,b){return C[0]<b[0]?1:C[0]>b[0]?-1:C[1]<b[1]?1:C[1]>b[1]?-1:0}function uoe(C,b){var N=C[0],P=C[1];return iA(P,b)===1?1:iA(N,b)===-1?-1:0}function coe(C,b){if(!(C.parent!==b.parent||C===b)){for(var N=C.next;N&&N!==b;){for(var P=N.next,Z=0,ue=["parent","prev","next"];Z<ue.length;Z++){var xe=ue[Z];N[xe]&&($k(N[xe].id),N[xe]=null)}N=P}C.next=b.next,b.next?b.next.prev=C:C.parent.lastChild=C}}function foe(C){for(var b=[],N=C.firstChild;N;)b.push(N),N=N.next;return b}function aA(C,b){for(var N=0,P=b;N<P.length;N++){var Z=P[N];C.insertBefore(Z)}}function doe(C,b){for(var N=b.length-1;N>=0;N-=1)C.prependChild(b[N])}function hoe(C,b){if(!(!C||!C.parent||b===0)){var N=C.parent.walker();N.resumeAt(C,!0);for(var P;P=N.next();){var Z=P.node,ue=P.entering;ue&&(Z.sourcepos[0][0]+=b,Z.sourcepos[1][0]+=b)}}}function oA(C,b){var N=C[0],P=C[1];return P[0]<b?1:N[0]>b?-1:0}function lm(C,b){for(var N=C.firstChild;N;){var P=oA(N.sourcepos,b);if(P===0)return N;if(P===-1)return N.prev||N;N=N.next}return C.lastChild}function poe(C){for(;C.lastChild;)C=C.lastChild;return C}function voe(C){for(;C.parent&&C.parent.type!=="document"&&C.parent.sourcepos[0][0]===C.sourcepos[0][0];)C=C.parent;return C}function goe(C,b){for(var N=C.firstChild,P=null;N;){var Z=oA(N.sourcepos,b);if(Z===0){if(N.sourcepos[0][0]===b||!N.firstChild)return N;P=N,N=N.firstChild}else{if(Z===-1)break;P=N,N=N.next}}return P?voe(poe(P)):null}function moe(C,b){for(var N=C,P=null;N;){var Z=uoe(N.sourcepos,b);if(Z===0)if(N.firstChild)P=N,N=N.firstChild;else return N;else{if(Z===-1)return P;if(N.next)N=N.next;else return P}}return N}function sA(C){return nie(C)||null}function n_(C,b,N){if(N===void 0&&(N=null),b)for(var P=b.walker();b&&b!==N;){C(b);var Z=P.next();if(Z)b=Z.node;else break}}function yoe(C){var b=sA(C);if(!b)return!0;for(;b&&b.type!=="document";){if(!b.parent&&!b.prev&&!b.next)return!0;b=b.parent}return!1}var lA=/\r\n|\n|\r/;function boe(C){var b=C.match(/^[ \t]+/);if(b&&(b[0].length>=2||/\t/.test(b[0])))return!0;var N=b?C.slice(b.length):C;return eA.test(N)||tA.test(N)}function woe(C){return!X2(C)&&C.indexOf("|")!==-1}function r_(C){var b=C.id,N=C.title,P=C.sourcepos,Z=C.dest;return{id:b,title:N,sourcepos:P,unlinked:!1,destination:Z}}var Coe=function(){function C(b,N){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(N!=null&&N.referenceDefinition),this.parser=new loe(N),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},b=b||"",this.lineTexts=b.split(lA),this.root=this.parser.parse(b,this.lineTexts)}return C.prototype.updateLineTexts=function(b,N,P){var Z,ue=b[0],xe=b[1],Le=N[0],ot=N[1],dt=P.split(lA),Lt=dt.length,Pt=this.lineTexts[ue-1],At=this.lineTexts[Le-1];dt[0]=Pt.slice(0,xe-1)+dt[0],dt[Lt-1]=dt[Lt-1]+At.slice(ot-1);var en=Le-ue+1;return(Z=this.lineTexts).splice.apply(Z,d([ue-1,en],dt)),Lt-en},C.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var b=this.lineTexts,N=b.length-1;b[N]==="";)N-=1;b.length-2>N&&(N+=1),this.root.sourcepos[1]=[N+1,b[N].length]},C.prototype.replaceRangeNodes=function(b,N,P){b?(aA(b,P),coe(b,N),[b.id,N.id].forEach(function(Z){return $k(Z)}),b.unlink()):N?(aA(N,P),$k(N.id),N.unlink()):doe(this.root,P)},C.prototype.getNodeRange=function(b,N){var P=lm(this.root,b[0]),Z=lm(this.root,N[0]);return Z&&Z.next&&N[0]+1===Z.next.sourcepos[0][0]&&(Z=Z.next),[P,Z]},C.prototype.trigger=function(b,N){this.eventHandlerMap[b].forEach(function(P){P(N)})},C.prototype.extendEndLine=function(b){for(;this.lineTexts[b]==="";)b+=1;return b},C.prototype.parseRange=function(b,N,P,Z){b&&b.prev&&(L2(b.prev)&&boe(this.lineTexts[P-1])||mie(b.prev)&&woe(this.lineTexts[P-1]))&&(b=b.prev,P=b.sourcepos[0][0]);for(var ue=this.lineTexts.slice(P-1,Z),xe=this.parser.partialParseStart(P,ue),Le=N?N.next:this.root.firstChild,ot=xe.lastChild,dt=ot&&D2(ot)&&ot.open,Lt=ot&&O2(ot)&&ot.open,Pt=ot&&L2(ot);(dt||Lt)&&Le||Pt&&Le&&(Le.type==="list"||Le.sourcepos[0][1]>=2);){var At=this.extendEndLine(Le.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(Z,At)),b||(b=N),N=Le,Z=At,Le=Le.next}this.parser.partialParseFinish();var en=foe(xe);return{newNodes:en,extStartNode:b,extEndNode:N}},C.prototype.getRemovedNodeRange=function(b,N){return!b||b&&Wf(b)||N&&Wf(N)?null:{id:[b.id,N.id],line:[b.sourcepos[0][0]-1,N.sourcepos[1][0]-1]}},C.prototype.markDeletedRefMap=function(b,N){var P=this;if(!Gf(this.refMap)){var Z=function(ue){if(Wf(ue)){var xe=P.refMap[ue.label];xe&&ue.id===xe.id&&(xe.unlinked=!0)}};b&&n_(Z,b.parent,N),N&&n_(Z,N)}},C.prototype.replaceWithNewRefDefState=function(b){var N=this;if(!Gf(this.refMap)){var P=function(Z){if(Wf(Z)){var ue=Z.label,xe=N.refMap[ue];(!xe||xe.unlinked)&&(N.refMap[ue]=r_(Z))}};b.forEach(function(Z){n_(P,Z)})}},C.prototype.replaceWithRefDefCandidate=function(){var b=this;Gf(this.refDefCandidateMap)||im(this.refDefCandidateMap,function(N,P){var Z=P.label,ue=P.sourcepos,xe=b.refMap[Z];(!xe||xe.unlinked||xe.sourcepos[0][0]>ue[0][0])&&(b.refMap[Z]=r_(P))})},C.prototype.getRangeWithRefDef=function(b,N,P,Z,ue){if(this.referenceDefinition&&!Gf(this.refMap)){var xe=lm(this.root,b-1),Le=lm(this.root,N+1);xe&&Wf(xe)&&xe!==P&&xe!==Z&&(P=xe,b=P.sourcepos[0][0]),Le&&Wf(Le)&&Le!==P&&Le!==Z&&(Z=Le,N=this.extendEndLine(Z.sourcepos[1][0]+ue))}return[P,Z,b,N]},C.prototype.parse=function(b,N,P){P===void 0&&(P=0);var Z=this.getNodeRange(b,N),ue=Z[0],xe=Z[1],Le=ue?Math.min(ue.sourcepos[0][0],b[0]):b[0],ot=this.extendEndLine((xe?Math.max(xe.sourcepos[1][0],N[0]):N[0])+P),dt=this.parseRange.apply(this,this.getRangeWithRefDef(Le,ot,ue,xe,P)),Lt=dt.newNodes,Pt=dt.extStartNode,At=dt.extEndNode,en=this.getRemovedNodeRange(Pt,At),Xt=At?At.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(Pt,At),this.replaceRangeNodes(Pt,At,Lt),this.replaceWithNewRefDefState(Lt)):this.replaceRangeNodes(Pt,At,Lt),{nodes:Lt,removedNodeRange:en,nextNode:Xt}},C.prototype.parseRefLink=function(){var b=this,N=[];return Gf(this.refMap)||im(this.refMap,function(P,Z){Z.unlinked&&delete b.refMap[P],im(b.refLinkCandidateMap,function(ue,xe){var Le=xe.node,ot=xe.refLabel;ot===P&&N.push(b.parse(Le.sourcepos[0],Le.sourcepos[1]))})}),N},C.prototype.removeUnlinkedCandidate=function(){Gf(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(b){im(b,function(N){yoe(N)&&delete b[N]})})},C.prototype.editMarkdown=function(b,N,P){var Z=this.updateLineTexts(b,N,P),ue=this.parse(b,N,Z),xe=Vie(ue,"nextNode");hoe(ue.nextNode,Z),this.updateRootNodeState();var Le=[xe];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),Le=Le.concat(this.parseRefLink())),this.trigger("change",Le),Le},C.prototype.getLineTexts=function(){return this.lineTexts},C.prototype.getRootNode=function(){return this.root},C.prototype.findNodeAtPosition=function(b){var N=moe(this.root,b);return!N||N===this.root?null:N},C.prototype.findFirstNodeAtLine=function(b){return goe(this.root,b)},C.prototype.on=function(b,N){this.eventHandlerMap[b].push(N)},C.prototype.off=function(b,N){var P=this.eventHandlerMap[b],Z=P.indexOf(N);P.splice(Z,1)},C.prototype.findNodeById=function(b){return sA(b)},C.prototype.removeAllNode=function(){rie()},C}(),xoe=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],uA=new RegExp("<(/?(?:"+xoe.join("|")+")[^>]*>)","ig");function cA(C){return uA.test(C)?C.replace(uA,function(b,N){return"&lt;"+N}):C}var fA={heading:function(C,b){var N=b.entering;return{type:N?"openTag":"closeTag",tagName:"h"+C.level,outerNewLine:!0}},text:function(C){return{type:"text",content:C.literal}},softbreak:function(C,b){var N=b.options;return{type:"html",content:N.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(C,b){var N=b.entering;return{type:N?"openTag":"closeTag",tagName:"em"}},strong:function(C,b){var N=b.entering;return{type:N?"openTag":"closeTag",tagName:"strong"}},paragraph:function(C,b){var N,P=b.entering,Z=(N=C.parent)===null||N===void 0?void 0:N.parent;return Z&&Z.type==="list"&&Z.listData.tight?null:{type:P?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(C,b){var N=b.entering;return{type:N?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(C,b){var N=b.entering,P=C.listData,Z=P.type,ue=P.start,xe=Z==="bullet"?"ul":"ol",Le={};return xe==="ol"&&ue!==null&&ue!==1&&(Le.start=ue.toString()),{type:N?"openTag":"closeTag",tagName:xe,attributes:Le,outerNewLine:!0}},item:function(C,b){var N=b.entering;return{type:N?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(C,b){var N=b.options,P=N.tagFilter?cA(C.literal):C.literal;return{type:"html",content:P}},htmlBlock:function(C,b){var N=b.options,P=N.tagFilter?cA(C.literal):C.literal;return N.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:P},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:P,outerNewLine:!0}},code:function(C){return[{type:"openTag",tagName:"code"},{type:"text",content:C.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(C){var b=C.info,N=b?b.split(/\s+/):[],P=[];return N.length>0&&N[0].length>0&&P.push("language-"+$f(N[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:P},{type:"text",content:C.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(C,b){var N=b.entering;if(N){var P=C,Z=P.title,ue=P.destination;return{type:"openTag",tagName:"a",attributes:R({href:$f(ue)},Z&&{title:$f(Z)})}}return{type:"closeTag",tagName:"a"}},image:function(C,b){var N=b.getChildrenText,P=b.skipChildren,Z=C,ue=Z.title,xe=Z.destination;return P(),{type:"openTag",tagName:"img",selfClose:!0,attributes:R({src:$f(xe),alt:N(C)},ue&&{title:$f(ue)})}},customBlock:function(C,b,N){var P=C.info.trim().toLowerCase(),Z=N[P];if(Z)try{return Z(C,b)}catch(ue){console.warn("[@toast-ui/editor] - The error occurred when "+P+" block node was parsed in markdown renderer: "+ue)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:C.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(C){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:C.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(C,b,N){var P=C,Z=P.info,ue=P.firstChild,xe=Z.trim().toLowerCase(),Le=N[xe],ot=b.entering;if(Le)try{return Le(C,b)}catch(dt){console.warn("[@toast-ui/editor] - The error occurred when "+xe+" inline node was parsed in markdown renderer: "+dt)}return ot?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+Z+(ue?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},dA={strike:function(C,b){var N=b.entering;return{type:N?"openTag":"closeTag",tagName:"del"}},item:function(C,b){var N=b.entering,P=C.listData,Z=P.checked,ue=P.task;if(N){var xe={type:"openTag",tagName:"li",outerNewLine:!0};return ue?[xe,{type:"openTag",tagName:"input",selfClose:!0,attributes:R(R({},Z&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:xe}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(C,b){var N=b.entering;return{type:N?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(C,b){var N=b.entering;return{type:N?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(C,b){var N=b.entering;return{type:N?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(C,b){var N=b.entering;if(N)return{type:"openTag",tagName:"tr",outerNewLine:!0};var P=[];if(C.lastChild)for(var Z=C.parent.parent.columns.length,ue=C.lastChild.endIdx,xe=ue+1;xe<Z;xe+=1)P.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return P.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),P},tableCell:function(C,b){var N=b.entering;if(C.ignored)return{type:"text",content:""};var P=C.parent.parent,Z=P.type==="tableHead"?"th":"td",ue=P.parent,xe=ue.columns[C.startIdx],Le=xe!=null&&xe.align?{align:xe.align}:null;return N?R({type:"openTag",tagName:Z,outerNewLine:!0},Le&&{attributes:Le}):{type:"closeTag",tagName:Z,outerNewLine:!0}}},koe={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function _oe(C){for(var b=[],N=C.walker(),P=null;P=N.next();){var Z=P.node;Z.type==="text"&&b.push(Z.literal)}return b.join("")}var Toe=function(){function C(b){this.buffer=[],this.options=R(R({},koe),b),this.convertors=this.createConvertors(),delete this.options.convertors}return C.prototype.createConvertors=function(){var b=R({},fA);if(this.options.gfm&&(b=R(R({},b),dA)),this.options.convertors){var N=this.options.convertors,P=Object.keys(N),Z=R(R({},fA),dA);P.forEach(function(ue){var xe=b[ue],Le=N[ue],ot=Object.keys(Z).indexOf(ue)===-1?ue.toLowerCase():ue;xe?b[ot]=function(dt,Lt,Pt){return Lt.origin=function(){return xe(dt,Lt,Pt)},Le(dt,Lt)}:b[ot]=Le})}return b},C.prototype.getConvertors=function(){return this.convertors},C.prototype.getOptions=function(){return this.options},C.prototype.render=function(b){var N=this;this.buffer=[];for(var P=b.walker(),Z=null,ue=function(){var Le=Z.node,ot=Z.entering,dt=xe.convertors[Le.type];if(!dt)return"continue";var Lt=!1,Pt={entering:ot,leaf:!Vk(Le),options:xe.options,getChildrenText:_oe,skipChildren:function(){Lt=!0}},At=O2(Le)||yie(Le)?dt(Le,Pt,xe.convertors):dt(Le,Pt);if(At){var en=Array.isArray(At)?At:[At];en.forEach(function(Xt,Gn){Xt.type==="openTag"&&N.options.nodeId&&Gn===0&&(Xt.attributes||(Xt.attributes={}),Xt.attributes["data-nodeid"]=String(Le.id)),N.renderHTMLNode(Xt)}),Lt&&(P.resumeAt(Le,!1),P.next())}},xe=this;Z=P.next();)ue();return this.addNewLine(),this.buffer.join("")},C.prototype.renderHTMLNode=function(b){switch(b.type){case"openTag":case"closeTag":this.renderElementNode(b);break;case"text":this.renderTextNode(b);break;case"html":this.renderRawHtmlNode(b);break}},C.prototype.generateOpenTagString=function(b){var N=this,P=b.tagName,Z=b.classNames,ue=b.attributes;this.buffer.push("<"+P),Z&&Z.length>0&&this.buffer.push(' class="'+Z.join(" ")+'"'),ue&&Object.keys(ue).forEach(function(xe){var Le=ue[xe];N.buffer.push(" "+xe+'="'+Le+'"')}),b.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},C.prototype.generateCloseTagString=function(b){var N=b.tagName;this.buffer.push("</"+N+">")},C.prototype.addNewLine=function(){this.buffer.length&&rm(rm(this.buffer))!==`
`&&this.buffer.push(`
`)},C.prototype.addOuterNewLine=function(b){b.outerNewLine&&this.addNewLine()},C.prototype.addInnerNewLine=function(b){b.innerNewLine&&this.addNewLine()},C.prototype.renderTextNode=function(b){this.buffer.push($f(b.content))},C.prototype.renderRawHtmlNode=function(b){this.addOuterNewLine(b),this.buffer.push(b.content),this.addOuterNewLine(b)},C.prototype.renderElementNode=function(b){b.type==="openTag"?(this.addOuterNewLine(b),this.generateOpenTagString(b),b.selfClose?this.addOuterNewLine(b):this.addInnerNewLine(b)):(this.addInnerNewLine(b),this.generateCloseTagString(b),this.addOuterNewLine(b))},C}(),Soe=f(956),Eoe=f.n(Soe),Aoe=f(969),hA=f.n(Aoe),Moe=f(348),pA=f.n(Moe),Noe=f(349),vA=f.n(Noe),Doe=f(204),gA=f.n(Doe),Loe=f(462),i_=f.n(Loe),Ooe=f(522),mA=f.n(Ooe),Roe=f(990),Ioe=f.n(Roe),Boe=f(322),Poe=f.n(Boe),Foe=f(758),zoe=f.n(Foe),Hoe=f(929),um=f.n(Hoe),qoe=f(714),Uoe=f.n(qoe);f(471);var yA="[A-Za-z][A-Za-z0-9-]*",Voe="[a-zA-Z_:][a-zA-Z0-9:._-]*",$oe="[^\"'=<>`\\x00-\\x20]+",Woe="'[^']*'",Goe='"[^"]*"',joe="(?:"+$oe+"|"+Woe+"|"+Goe+")",Yoe="(?:\\s*=\\s*"+joe+")",bA="(?:\\s+"+Voe+Yoe+"?)",Zoe="<("+yA+")("+bA+")*\\s*/?>",Koe="</("+yA+")\\s*[>]",Joe="(?:"+Zoe+"|"+Koe+")",wA=new RegExp("^"+Joe,"i");f(934),f(391);function a_(C,b){return C.indexOf(b)!==-1}var Xoe=["rel","target","hreflang","type"];function Qoe(C){if(!C)return null;var b={};return Xoe.forEach(function(N){um()(C[N])||(b[N]=C[N])}),b}function ese(C){return C[C.length-1]}function o_(C){return typeof C=="object"&&C!==null}function s_(C,b){var N=v({},C);return C&&b&&Object.keys(b).forEach(function(P){o_(N[P])?Array.isArray(b[P])?N[P]=l_(b[P]):N.hasOwnProperty(P)?N[P]=s_(N[P],b[P]):N[P]=u_(b[P]):N[P]=b[P]}),N}function l_(C){return C.map(function(b){return o_(b)?Array.isArray(b)?l_(b):u_(b):b})}function u_(C){var b=Object.keys(C);return b.length?b.reduce(function(N,P){return o_(C[P])?N[P]=Array.isArray(C[P])?l_(C[P]):u_(C[P]):N[P]=C[P],N},{}):C}function CA(C,b){return b===void 0&&(b={}),Object.keys(b).forEach(function(N){C.hasOwnProperty(N)&&typeof C[N]=="object"?Array.isArray(b[N])?C[N]=b[N]:CA(C[N],b[N]):C[N]=b[N]}),C}function xA(C,b){return C>b?[b,C]:[C,b]}function tse(C,b,N){var P=parseInt(C.left,10),Z=parseInt(C.top,10),ue=parseInt(C.width,10)+parseInt(C.paddingLeft,10)+parseInt(C.paddingRight,10),xe=parseInt(C.height,10)+parseInt(C.paddingTop,10)+parseInt(C.paddingBottom,10);return b>=P&&b<=P+ue&&N>=Z&&N<=Z+xe}var nse="toastui-editor-";function cm(){for(var C=[],b=0;b<arguments.length;b++)C[b]=arguments[b];for(var N=[],P=0,Z=C;P<Z.length;P++){var ue=Z[P],xe=void 0;Array.isArray(ue)?xe=ue[0]?ue[1]:null:xe=ue,xe&&N.push(""+nse+xe)}return N.join(" ")}function kA(C){C.parentNode&&C.parentNode.removeChild(C)}function _A(C,b,N){um()(N)&&(N=!Uoe()(C,b));var P=N?gA():i_();P(C,b)}function rse(C,b){var N=document.createElement("div");zoe()(C)?N.innerHTML=C:N.appendChild(C);var P=N.firstChild;return P}function ise(C){var b=/<img class="ProseMirror-separator" alt="">/g,N=/ class="ProseMirror-trailingBreak"/g,P=C;return P=P.replace(b,""),P=P.replace(N,""),P}var ase=f(294),TA=f.n(ase);function ose(C){return C.sourcepos[0][1]}function sse(C){switch(C.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function lse(C,b,N){for(N===void 0&&(N=!0),C=N?C:C.parent;C&&C.type!=="document";){if(b(C))return C;C=C.parent}return null}function use(C){var b=C.firstChild.literal;switch(C.type){case"emph":return"*"+b+"*";case"strong":return"**"+b+"**";case"strike":return"~~"+b+"~~";case"code":return"`"+b+"`";case"link":case"image":var N=C,P=N.destination,Z=N.title,ue=C.type==="link"?"":"!";return ue+"["+b+"]("+P+(Z?' "'+Z+'"':"")+")";default:return null}}var cse={},SA=/\$\$widget\d+\s/;function EA(C){var b=C.search(SA);if(b!==-1){var N=C.substring(b),P=N.replace(SA,"").replace("$$","");C=C.substring(0,b),C+=EA(P)}return C}function fse(C,b){var N=cse[C],P=N.rule,Z=N.toDOM,ue=EA(b).match(P);return ue&&(b=ue[0]),Z(b)}function dse(C){for(var b,N="",P=C.walker();b=P.next();){var Z=b.node,ue=b.entering;ue&&(Z!==C&&Z.type!=="text"?(N+=use(Z),P.resumeAt(C,!1),P.next()):Z.type==="text"&&(N+=Z.literal))}return N}var hse=f(368),pse=f.n(hse),vse=["iframe","embed"],AA=[];function gse(C){a_(vse,C)&&AA.push(C.toLowerCase())}function mse(C,b){return pse().sanitize(C,v({ADD_TAGS:AA,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},b))}function yse(C,b){return C.literal.replace(new RegExp("(<\\s*"+b+"[^>]*>)|(</"+b+"\\s*[>])","ig"),"").trim()}function bse(C){C=C.match(wA)[0];var b=C.match(new RegExp(bA,"g"));return b?b.reduce(function(N,P){var Z=P.trim().split("="),ue=Z[0],xe=Z.slice(1);return xe.length&&(N[ue]=xe.join("=").replace(/'|"/g,"").trim()),N},{}):{}}var wse=/^\s*<\s*\//,Cse={paragraph:function(C,b){var N=b.entering,P=b.origin,Z=b.options;return Z.nodeId?{type:N?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:P()},softbreak:function(C){var b=C.prev&&C.prev.type==="htmlInline",N=b&&/<br ?\/?>/.test(C.prev.literal),P=N?`
`:`<br>
`;return{type:"html",content:P}},item:function(C,b){var N=b.entering;if(N){var P={},Z=[];return C.listData.task&&(P["data-task"]="",Z.push("task-list-item"),C.listData.checked&&(Z.push("checked"),P["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:Z,attributes:P,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(C){var b={"data-backticks":String(C.tickCount)};return[{type:"openTag",tagName:"code",attributes:b},{type:"text",content:C.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(C){var b=C,N=b.fenceLength,P=b.info,Z=P?P.split(/\s+/):[],ue=[],xe={};if(N>3&&(xe["data-backticks"]=N),Z.length>0&&Z[0].length>0){var Le=Z[0];ue.push("lang-"+Le),xe["data-language"]=Le}return[{type:"openTag",tagName:"pre",classNames:ue},{type:"openTag",tagName:"code",attributes:xe},{type:"text",content:C.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(C,b){var N=b.origin,P=b.entering,Z=b.skipChildren,ue=C.info;if(ue.indexOf("widget")!==-1&&P){Z();var xe=dse(C),Le=fse(ue,xe).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:Le},{type:"closeTag",tagName:"span"}]}return N()}};function xse(C,b){var N=v({},Cse);return C&&(N.link=function(P,Z){var ue=Z.entering,xe=Z.origin,Le=xe();return ue&&(Le.attributes=v(v({},Le.attributes),C)),Le}),b&&Object.keys(b).forEach(function(P){var Z=N[P],ue=b[P];Z&&TA()(ue)?N[P]=function(xe,Le){var ot=v({},Le);return ot.origin=function(){return Z(xe,Le)},ue(xe,ot)}:a_(["htmlBlock","htmlInline"],P)&&!TA()(ue)?N[P]=function(xe,Le){var ot=xe.literal.match(wA);if(ot){var dt=ot[0],Lt=ot[1],Pt=ot[3],At=(Lt||Pt).toLowerCase(),en=ue[At],Xt=yse(xe,At);if(en){var Gn=v({},xe);return Gn.attrs=bse(dt),Gn.childrenHTML=Xt,Gn.type=At,Le.entering=!wse.test(xe.literal),en(Gn,Le)}}return Le.origin()}:N[P]=ue}),N}var kse=["UL","OL","BLOCKQUOTE"];function _se(C,b){for(var N=0;C&&C!==b&&(a_(kse,C.tagName)||(N+=C.offsetTop),C.offsetParent!==b.offsetParent);)C=C.parentElement;return N}function Tse(C,b){for(var N=b,P=null;N;){var Z=N.firstElementChild;if(!Z)break;var ue=MA(Z,C,_se(N,b));P=N,N=ue}var xe=N||P;return xe===b?null:xe}function MA(C,b,N){return C&&b>N+C.offsetTop?MA(C.nextElementSibling,b,N)||C:null}var Sse={};function c_(C){C&&(delete Sse[Number(C.getAttribute("data-nodeid"))],Ioe()(C.children).forEach(function(b){c_(b)}))}var f_=cm("md-preview-highlight");function Ese(C,b){for(var N=C.firstChild;N&&N.next&&!(ose(N.next)>b+1);)N=N.next;return N}var Ase=function(){function C(b,N){var P=document.createElement("div");this.el=P,this.eventEmitter=b,this.isViewer=!!N.isViewer,this.el.className=cm("md-preview");var Z=N.linkAttributes,ue=N.customHTMLRenderer,xe=N.sanitizer,Le=N.highlight,ot=Le===void 0?!1:Le;this.renderer=new Toe({gfm:!0,nodeId:!0,convertors:xse(Z,ue)}),this.cursorNodeId=null,this.sanitizer=xe,this.initEvent(ot),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return C.prototype.initContentSection=function(){this.previewContent=rse('<div class="'+cm("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},C.prototype.toggleActive=function(b){_A(this.el,"active",b)},C.prototype.initEvent=function(b){var N=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(b&&(this.eventEmitter.listen("changeToolbarState",function(P){var Z=P.mdNode,ue=P.cursorPos;N.updateCursorNode(Z,ue)}),this.eventEmitter.listen("blur",function(){N.removeHighlight()})),pA()(this.el,"scroll",function(P){N.eventEmitter.emit("scroll","preview",Tse(P.target.scrollTop,N.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return N.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return N.toggleActive(!1)}))},C.prototype.removeHighlight=function(){if(this.cursorNodeId){var b=this.getElementByNodeId(this.cursorNodeId);b&&i_()(b,f_)}},C.prototype.updateCursorNode=function(b,N){b&&(b=lse(b,function(xe){return!sse(xe)}),b.type==="tableRow"?b=Ese(b,N[1]):b.type==="tableBody"&&(b=null));var P=b?b.id:null;if(this.cursorNodeId!==P){var Z=this.getElementByNodeId(this.cursorNodeId),ue=this.getElementByNodeId(P);Z&&i_()(Z,f_),ue&&gA()(ue,f_),this.cursorNodeId=P}},C.prototype.getElementByNodeId=function(b){return b?this.previewContent.querySelector('[data-nodeid="'+b+'"]'):null},C.prototype.update=function(b){var N=this;b.forEach(function(P){return N.replaceRangeNodes(P)}),this.eventEmitter.emit("afterPreviewRender",this)},C.prototype.replaceRangeNodes=function(b){var N=this,P=b.nodes,Z=b.removedNodeRange,ue=this.previewContent,xe=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(P.map(function(Xt){return N.renderer.render(Xt)}).join("")));if(!Z)ue.insertAdjacentHTML("afterbegin",xe);else{var Le=Z.id,ot=Le[0],dt=Le[1],Lt=this.getElementByNodeId(ot),Pt=this.getElementByNodeId(dt);if(Lt){Lt.insertAdjacentHTML("beforebegin",xe);for(var At=Lt;At&&At!==Pt;){var en=At.nextElementSibling;kA(At),c_(At),At=en}At!=null&&At.parentNode&&(kA(At),c_(At))}}},C.prototype.getRenderer=function(){return this.renderer},C.prototype.destroy=function(){vA()(this.el,"scroll"),this.el=null},C.prototype.getElement=function(){return this.el},C.prototype.getHTML=function(){return ise(this.previewContent.innerHTML)},C.prototype.setHTML=function(b){this.previewContent.innerHTML=b},C.prototype.setHeight=function(b){mA()(this.el,{height:b+"px"})},C.prototype.setMinHeight=function(b){mA()(this.el,{minHeight:b+"px"})},C}(),Mse=Ase,fm=f(814),d_=f(479),NA=f(311),Nse=f(481),Dse=f(43),Lse=f(928),Ose=f.n(Lse),Rse=function(){function C(){this.keys=[],this.values=[]}return C.prototype.getKeyIndex=function(b){return Ose()(b,this.keys)},C.prototype.get=function(b){return this.values[this.getKeyIndex(b)]},C.prototype.set=function(b,N){var P=this.getKeyIndex(b);return P>-1?this.values[P]=N:(this.keys.push(b),this.values.push(N)),this},C.prototype.has=function(b){return this.getKeyIndex(b)>-1},C.prototype.delete=function(b){var N=this.getKeyIndex(b);return N>-1?(this.keys.splice(N,1),this.values.splice(N,1),!0):!1},C.prototype.forEach=function(b,N){var P=this;N===void 0&&(N=this),this.values.forEach(function(Z,ue){Z&&P.keys[ue]&&b.call(N,Z,P.keys[ue],P)})},C.prototype.clear=function(){this.keys=[],this.values=[]},C}(),DA=Rse,h_="en-US",Ise=function(){function C(){this.code=h_,this.langs=new DA}return C.prototype.setCode=function(b){this.code=b||h_},C.prototype.setLanguage=function(b,N){var P=this;b=[].concat(b),b.forEach(function(Z){if(!P.langs.has(Z))P.langs.set(Z,N);else{var ue=P.langs.get(Z);P.langs.set(Z,hA()(ue,N))}})},C.prototype.get=function(b,N){N||(N=this.code);var P=this.langs.get(N);P||(P=this.langs.get(h_));var Z=P[b];if(!Z)throw new Error('There is no text key "'+b+'" in '+N);return Z},C}(),Bse=new Ise;function Pse(C,b){for(var N=C.depth;N;){var P=C.node(N);if(b(P,N))return{node:P,depth:N,offset:N>0?C.before(N):0};N-=1}return null}var LA=new Map,OA=function(){function C(b,N,P,Z){this.table=b,this.tableRows=N,this.tableStartPos=P,this.rowInfo=Z}return C.create=function(b){var N=Pse(b,function(Xt){var Gn=Xt.type;return Gn.name==="table"});if(N){var P=N.node,Z=N.depth,ue=N.offset,xe=LA.get(P);if((xe==null?void 0:xe.tableStartPos)===ue+1)return xe;var Le=[],ot=b.start(Z),dt=P.child(0),Lt=P.child(1),Pt=p_(dt,ot),At=p_(Lt,ot+dt.nodeSize);dt.forEach(function(Xt){return Le.push(Xt)}),Lt.forEach(function(Xt){return Le.push(Xt)});var en=new C(P,Le,ot,Pt.concat(At));return LA.set(P,en),en}return null},Object.defineProperty(C.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),C.prototype.getCellInfo=function(b,N){return this.rowInfo[b][N]},C.prototype.posAt=function(b,N){for(var P=0,Z=this.tableStartPos;;P+=1){var ue=Z+this.tableRows[P].nodeSize;if(P===b){for(var xe=N;xe<this.totalColumnCount&&this.rowInfo[P][xe].offset<Z;)xe+=1;return xe===this.totalColumnCount?ue:this.rowInfo[P][xe].offset}Z=ue}},C.prototype.getNodeAndPos=function(b,N){var P=this.rowInfo[b][N];return{node:this.table.nodeAt(P.offset-this.tableStartOffset),pos:P.offset}},C.prototype.extendedRowspan=function(b,N){return!1},C.prototype.extendedColspan=function(b,N){return!1},C.prototype.getRowspanCount=function(b,N){return 0},C.prototype.getColspanCount=function(b,N){return 0},C.prototype.decreaseColspanCount=function(b,N){return 0},C.prototype.decreaseRowspanCount=function(b,N){return 0},C.prototype.getColspanStartInfo=function(b,N){return null},C.prototype.getRowspanStartInfo=function(b,N){return null},C.prototype.getCellStartOffset=function(b,N){var P=this.rowInfo[b][N].offset;return this.extendedRowspan(b,N)?this.posAt(b,N):P},C.prototype.getCellEndOffset=function(b,N){var P=this.rowInfo[b][N],Z=P.offset,ue=P.nodeSize;return this.extendedRowspan(b,N)?this.posAt(b,N):Z+ue},C.prototype.getCellIndex=function(b){for(var N=0;N<this.totalRowCount;N+=1)for(var P=this.rowInfo[N],Z=0;Z<this.totalColumnCount;Z+=1)if(P[Z].offset+1>b.pos)return[N,Z];return[0,0]},C.prototype.getRectOffsets=function(b,N){var P,Z,ue;N===void 0&&(N=b),b.pos>N.pos&&(P=[N,b],b=P[0],N=P[1]);var xe=this.getCellIndex(b),Le=xe[0],ot=xe[1],dt=this.getCellIndex(N),Lt=dt[0],Pt=dt[1];return Z=xA(Le,Lt),Le=Z[0],Lt=Z[1],ue=xA(ot,Pt),ot=ue[0],Pt=ue[1],this.getSpannedOffsets({startRowIdx:Le,startColIdx:ot,endRowIdx:Lt,endColIdx:Pt})},C.prototype.getSpannedOffsets=function(b){return b},C}(),p_=function(C,b){var N=[];return C.forEach(function(P,Z){var ue={rowspanMap:{},colspanMap:{},length:0};P.forEach(function(xe,Le){for(var ot=xe.nodeSize,dt=0;ue[dt];)dt+=1;ue[dt]={offset:b+Z+Le+2,nodeSize:ot},ue.length+=1}),N.push(ue)}),N};function Fse(C,b){return CA(OA.prototype,C),p_=b,OA}function zse(C){var b=C.plugin,N=C.eventEmitter,P=C.usageStatistics,Z=C.instance,ue={Plugin:fm.Plugin,PluginKey:fm.PluginKey,Selection:fm.Selection,TextSelection:fm.TextSelection},xe={Decoration:NA.Decoration,DecorationSet:NA.DecorationSet},Le={Fragment:Dse.Fragment},ot={InputRule:d_.InputRule,inputRules:d_.inputRules,undoInputRule:d_.undoInputRule},dt={keymap:Nse.keymap},Lt={eventEmitter:N,usageStatistics:P,instance:Z,pmState:ue,pmView:xe,pmModel:Le,pmRules:ot,pmKeymap:dt,i18n:Bse};if(Poe()(b)){var Pt=b[0],At=b[1],en=At===void 0?{}:At;return Pt(Lt,en)}return b(Lt)}function Hse(C){var b=C.plugins,N=C.eventEmitter,P=C.usageStatistics,Z=C.instance;return N.listen("mixinTableOffsetMapPrototype",Fse),(b??[]).reduce(function(ue,xe){var Le=zse({plugin:xe,eventEmitter:N,usageStatistics:P,instance:Z});if(!Le)throw new Error("The return value of the executed plugin is empty.");var ot=Le.markdownParsers,dt=Le.toHTMLRenderers,Lt=Le.toMarkdownRenderers,Pt=Le.markdownPlugins,At=Le.wysiwygPlugins,en=Le.wysiwygNodeViews,Xt=Le.markdownCommands,Gn=Le.wysiwygCommands,Rr=Le.toolbarItems;return dt&&(ue.toHTMLRenderers=s_(ue.toHTMLRenderers,dt)),Lt&&(ue.toMarkdownRenderers=s_(ue.toMarkdownRenderers,Lt)),Pt&&(ue.mdPlugins=ue.mdPlugins.concat(Pt)),At&&(ue.wwPlugins=ue.wwPlugins.concat(At)),en&&(ue.wwNodeViews=v(v({},ue.wwNodeViews),en)),Xt&&(ue.mdCommands=v(v({},ue.mdCommands),Xt)),Gn&&(ue.wwCommands=v(v({},ue.wwCommands),Gn)),Rr&&(ue.toolbarItems=ue.toolbarItems.concat(Rr)),ot&&(ue.markdownParsers=v(v({},ue.markdownParsers),ot)),ue},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var qse=f(404),Use=f.n(qse),RA=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],Vse=function(){function C(){var b=this;this.events=new DA,this.eventTypes=RA.reduce(function(N,P){return v(v({},N),{type:P})},{}),this.hold=!1,RA.forEach(function(N){b.addEventType(N)})}return C.prototype.listen=function(b,N){var P=this.getTypeInfo(b),Z=this.events.get(P.type)||[];if(!this.hasEventType(P.type))throw new Error("There is no event type "+P.type);P.namespace&&(N.namespace=P.namespace),Z.push(N),this.events.set(P.type,Z)},C.prototype.emit=function(b){for(var N=[],P=1;P<arguments.length;P++)N[P-1]=arguments[P];var Z=this.getTypeInfo(b),ue=this.events.get(Z.type),xe=[];return!this.hold&&ue&&ue.forEach(function(Le){var ot=Le.apply(void 0,N);um()(ot)||xe.push(ot)}),xe},C.prototype.emitReduce=function(b,N){for(var P=[],Z=2;Z<arguments.length;Z++)P[Z-2]=arguments[Z];var ue=this.events.get(b);return!this.hold&&ue&&ue.forEach(function(xe){var Le=xe.apply(void 0,y([N],P));Use()(Le)||(N=Le)}),N},C.prototype.getTypeInfo=function(b){var N=b.split(".");return{type:N[0],namespace:N[1]}},C.prototype.hasEventType=function(b){return!um()(this.eventTypes[this.getTypeInfo(b).type])},C.prototype.addEventType=function(b){if(this.hasEventType(b))throw new Error("There is already have event type "+b);this.eventTypes[b]=b},C.prototype.removeEventHandler=function(b,N){var P=this,Z=this.getTypeInfo(b),ue=Z.type,xe=Z.namespace;ue&&N?this.removeEventHandlerWithHandler(ue,N):ue&&!xe?this.events.delete(ue):!ue&&xe?this.events.forEach(function(Le,ot){P.removeEventHandlerWithTypeInfo(ot,xe)}):ue&&xe&&this.removeEventHandlerWithTypeInfo(ue,xe)},C.prototype.removeEventHandlerWithHandler=function(b,N){var P=this.events.get(b);if(P){var Z=P.indexOf(N);P.indexOf(N)>=0&&P.splice(Z,1)}},C.prototype.removeEventHandlerWithTypeInfo=function(b,N){var P=[],Z=this.events.get(b);Z&&(Z.map(function(ue){return ue.namespace!==N&&P.push(ue),null}),this.events.set(b,P))},C.prototype.getEvents=function(){return this.events},C.prototype.holdEventInvoke=function(b){this.hold=!0,b(),this.hold=!1},C}(),$se=Vse,Wse="data-task",Gse="data-task-disabled",jse="checked";function Yse(C){["htmlBlock","htmlInline"].forEach(function(b){C[b]&&Object.keys(C[b]).forEach(function(N){return gse(N)})})}var Zse=function(){function C(b){var N=this;this.options=hA()({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},b),this.eventEmitter=new $se;var P=Qoe(this.options.linkAttributes),Z=Hse({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},ue=Z.toHTMLRenderers,xe=Z.markdownParsers,Le=this.options,ot=Le.customHTMLRenderer,dt=Le.extendedAutolinks,Lt=Le.referenceDefinition,Pt=Le.frontMatter,At=Le.customHTMLSanitizer,en={linkAttributes:P,customHTMLRenderer:v(v({},ue),ot),extendedAutolinks:dt,referenceDefinition:Lt,frontMatter:Pt,sanitizer:At||mse};Yse(en.customHTMLRenderer),this.options.events&&Eoe()(this.options.events,function(yo,Ya){N.on(Ya,yo)});var Xt=this.options,Gn=Xt.el,Rr=Xt.initialValue,ii=Xt.theme,pl=Gn.innerHTML;ii!=="light"&&Gn.classList.add(cm(ii)),Gn.innerHTML="",this.toastMark=new Coe("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:dt,referenceDefinition:Lt,disallowDeepHeading:!0,frontMatter:Pt,customParser:xe}),this.preview=new Mse(this.eventEmitter,v(v({},en),{isViewer:!0})),pA()(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),Rr?this.setMarkdown(Rr):pl&&this.preview.setHTML(pl),Gn.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return C.prototype.toggleTask=function(b){var N=b.target,P=getComputedStyle(N,":before");!N.hasAttribute(Gse)&&N.hasAttribute(Wse)&&tse(P,b.offsetX,b.offsetY)&&(_A(N,jse),this.eventEmitter.emit("change",{source:"viewer",date:b}))},C.prototype.setMarkdown=function(b){var N=this.toastMark.getLineTexts(),P=N.length,Z=ese(N),ue=[P,Z.length+1],xe=this.toastMark.editMarkdown([1,1],ue,b||"");this.eventEmitter.emit("updatePreview",xe)},C.prototype.on=function(b,N){this.eventEmitter.listen(b,N)},C.prototype.off=function(b){this.eventEmitter.removeEventHandler(b)},C.prototype.addHook=function(b,N){this.eventEmitter.removeEventHandler(b),this.eventEmitter.listen(b,N)},C.prototype.destroy=function(){vA()(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},C.prototype.isViewer=function(){return!0},C.prototype.isMarkdownMode=function(){return!1},C.prototype.isWysiwygMode=function(){return!1},C}(),Kse=Zse,Jse=Kse}(),c=c.default,c}()})}(DT)),DT.exports}var mot=got();const Gst=Oo(mot);export{Xr as $,Kot as A,hst as B,dst as C,cst as D,Wr as E,fue as F,Pot as G,Tot as H,Iot as I,sst as J,La as K,Br as L,v1 as M,est as N,Qot as O,eo as P,Eot as Q,Aot as R,cn as S,Cot as T,nue as U,qT as V,jot as W,Jot as X,Dot as Y,nst as Z,Ist as _,Vot as a,Ost as a0,Rst as a1,Not as a2,Hot as a3,wot as a4,zot as a5,Got as a6,bot as a7,Xot as a8,Uot as a9,Yot as aa,Lst as ab,Zot as ac,Wot as ad,fst as ae,Jde as af,Ust as ag,qst as ah,Hst as ai,zst as aj,Fst as ak,Bst as al,Vst as am,Pst as an,$st as ao,Wst as ap,Gst as aq,_ot as b,ust as c,HO as d,ist as e,Oot as f,Tue as g,Bot as h,tst as i,$ot as j,Lot as k,ast as l,oue as m,Rle as n,ost as o,Ole as p,lst as q,xot as r,Sot as s,Mot as t,Fot as u,qot as v,rst as w,Qle as x,kot as y,Rot as z};
