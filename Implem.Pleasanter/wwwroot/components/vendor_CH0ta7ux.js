var Abe=Object.defineProperty;var x_=r=>{throw TypeError(r)};var Dbe=(r,e,t)=>e in r?Abe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var el=(r,e,t)=>Dbe(r,typeof e!="symbol"?e+"":e,t),C_=(r,e,t)=>e.has(r)||x_("Cannot "+t);var eo=(r,e,t)=>(C_(r,e,"read from private field"),t?t.call(r):e.get(r)),FM=(r,e,t)=>e.has(r)?x_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),VM=(r,e,t,n)=>(C_(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);const Pbe="5";var wV;typeof window<"u"&&((wV=window.__svelte??(window.__svelte={})).v??(wV.v=new Set)).add(Pbe);let Jp=!1,Rbe=!1;function Nbe(){Jp=!0}Nbe();const jR=1,YR=2,kV=4,$be=8,Lbe=16,_be=1,Ibe=2,SV=4,Qbe=8,Bbe=16,qbe=1,Fbe=2,Vbe=4,Zbe=1,zbe=2,GR="[",KR="[!",JR="]",hp={},no=Symbol(),Hbe="http://www.w3.org/1999/xhtml",T_=!1;var em=Array.isArray,Wbe=Array.prototype.indexOf,eN=Array.from,K0=Object.keys,bg=Object.defineProperty,rf=Object.getOwnPropertyDescriptor,xV=Object.getOwnPropertyDescriptors,Ube=Object.prototype,Xbe=Array.prototype,tN=Object.getPrototypeOf,E_=Object.isExtensible;function jbe(r){return typeof r=="function"}const Os=()=>{};function Ybe(r){return r()}function J0(r){for(var e=0;e<r.length;e++)r[e]()}function Zxt(r,e){if(Array.isArray(r))return r;if(!(Symbol.iterator in r))return Array.from(r);const t=[];for(const n of r)if(t.push(n),t.length===e)break;return t}const Ts=2,CV=4,w1=8,k1=16,oc=32,zh=64,ew=128,jo=256,tw=512,Ba=1024,tu=2048,bf=4096,zu=8192,S1=16384,TV=32768,x1=65536,EV=1<<17,Gbe=1<<19,MV=1<<20,_D=1<<21,Hu=Symbol("$state"),AV=Symbol("legacy props"),Kbe=Symbol("");function DV(r){return r===this.v}function PV(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function rN(r){return!PV(r,this.v)}function Jbe(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function e0e(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function t0e(r){throw new Error("https://svelte.dev/e/effect_orphan")}function r0e(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function n0e(){throw new Error("https://svelte.dev/e/hydration_failed")}function i0e(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function a0e(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function o0e(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function s0e(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function nN(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let dn=null;function M_(r){dn=r}function l0e(r,e=!1,t){var n=dn={p:dn,c:null,d:!1,e:null,m:!1,s:r,x:null,l:null};Jp&&!e&&(dn.l={s:null,u:null,r1:[],r2:Tp(!1)}),E1(()=>{n.d=!0})}function u0e(r){const e=dn;if(e!==null){r!==void 0&&(e.x=r);const o=e.e;if(o!==null){var t=Ur,n=an;e.e=null;try{for(var i=0;i<o.length;i++){var a=o[i];Es(a.effect),Oo(a.reaction),tm(a.fn)}}finally{Es(t),Oo(n)}}dn=e.p,e.m=!0}return r||{}}function iO(){return!Jp||dn!==null&&dn.l===null}function uh(r){if(typeof r!="object"||r===null||Hu in r)return r;const e=tN(r);if(e!==Ube&&e!==Xbe)return r;var t=new Map,n=em(r),i=Nc(0),a=an,o=s=>{var l=an;Oo(a);var u=s();return Oo(l),u};return n&&t.set("length",Nc(r.length)),new Proxy(r,{defineProperty(s,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&a0e();var c=t.get(l);return c===void 0?(c=o(()=>Nc(u.value)),t.set(l,c)):ao(c,o(()=>uh(u.value))),!0},deleteProperty(s,l){var u=t.get(l);if(u===void 0)l in s&&(t.set(l,o(()=>Nc(no))),ZM(i));else{if(n&&typeof l=="string"){var c=t.get("length"),h=Number(l);Number.isInteger(h)&&h<c.v&&ao(c,h)}ao(u,no),ZM(i)}return!0},get(s,l,u){var g;if(l===Hu)return r;var c=t.get(l),h=l in s;if(c===void 0&&(!h||(g=rf(s,l))!=null&&g.writable)&&(c=o(()=>Nc(uh(h?s[l]:no))),t.set(l,c)),c!==void 0){var p=In(c);return p===no?void 0:p}return Reflect.get(s,l,u)},getOwnPropertyDescriptor(s,l){var u=Reflect.getOwnPropertyDescriptor(s,l);if(u&&"value"in u){var c=t.get(l);c&&(u.value=In(c))}else if(u===void 0){var h=t.get(l),p=h==null?void 0:h.v;if(h!==void 0&&p!==no)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return u},has(s,l){var p;if(l===Hu)return!0;var u=t.get(l),c=u!==void 0&&u.v!==no||Reflect.has(s,l);if(u!==void 0||Ur!==null&&(!c||(p=rf(s,l))!=null&&p.writable)){u===void 0&&(u=o(()=>Nc(c?uh(s[l]):no)),t.set(l,u));var h=In(u);if(h===no)return!1}return c},set(s,l,u,c){var z;var h=t.get(l),p=l in s;if(n&&l==="length")for(var g=u;g<h.v;g+=1){var O=t.get(g+"");O!==void 0?ao(O,no):g in s&&(O=o(()=>Nc(no)),t.set(g+"",O))}h===void 0?(!p||(z=rf(s,l))!=null&&z.writable)&&(h=o(()=>Nc(void 0)),ao(h,o(()=>uh(u))),t.set(l,h)):(p=h.v!==no,ao(h,o(()=>uh(u))));var T=Reflect.getOwnPropertyDescriptor(s,l);if(T!=null&&T.set&&T.set.call(c,u),!p){if(n&&typeof l=="string"){var M=t.get("length"),R=Number(l);Number.isInteger(R)&&R>=M.v&&ao(M,R+1)}ZM(i)}return!0},ownKeys(s){In(i);var l=Reflect.ownKeys(s).filter(h=>{var p=t.get(h);return p===void 0||p.v!==no});for(var[u,c]of t)c.v!==no&&!(u in s)&&l.push(u);return l},setPrototypeOf(){o0e()}})}function ZM(r,e=1){ao(r,r.v+e)}function A_(r){try{if(r!==null&&typeof r=="object"&&Hu in r)return r[Hu]}catch{}return r}function c0e(r,e){return Object.is(A_(r),A_(e))}function Cp(r){var e=Ts|tu,t=an!==null&&an.f&Ts?an:null;return Ur===null||t!==null&&t.f&jo?e|=jo:Ur.f|=MV,{ctx:dn,deps:null,effects:null,equals:DV,f:e,fn:r,reactions:null,rv:0,v:null,wv:0,parent:t??Ur}}function zxt(r){const e=Cp(r);return jV(e),e}function RV(r){const e=Cp(r);return e.equals=rN,e}function NV(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)Ku(e[t])}}function f0e(r){for(var e=r.parent;e!==null;){if(!(e.f&Ts))return e;e=e.parent}return null}function $V(r){var e,t=Ur;Es(f0e(r));try{NV(r),e=JV(r)}finally{Es(t)}return e}function LV(r){var e=$V(r);if(r.equals(e)||(r.v=e,r.wv=GV()),!rm){var t=(Xc||r.f&jo)&&r.deps!==null?bf:Ba;Ms(r,t)}}const wg=new Map;function Tp(r,e){var t={f:0,v:r,reactions:null,equals:DV,rv:0,wv:0};return t}function Nc(r,e){const t=Tp(r);return jV(t),t}function C1(r,e=!1){var n;const t=Tp(r);return e||(t.equals=rN),Jp&&dn!==null&&dn.l!==null&&((n=dn.l).s??(n.s=[])).push(t),t}function Hxt(r,e){return ao(r,yo(()=>In(r))),e}function ao(r,e,t=!1){an!==null&&!zl&&iO()&&an.f&(Ts|k1)&&!($a!=null&&$a.includes(r))&&s0e();let n=t?uh(e):e;return kg(r,n)}function kg(r,e){if(!r.equals(e)){var t=r.v;rm?wg.set(r,e):wg.set(r,t),r.v=e,r.f&Ts&&(r.f&tu&&$V(r),Ms(r,r.f&jo?bf:Ba)),r.wv=GV(),_V(r,tu),iO()&&Ur!==null&&Ur.f&Ba&&!(Ur.f&(oc|zh))&&(ds===null?k0e([r]):ds.push(r))}return e}function D_(r,e=1){var t=In(r),n=e===1?t++:t--;return ao(r,t),n}function _V(r,e){var t=r.reactions;if(t!==null)for(var n=iO(),i=t.length,a=0;a<i;a++){var o=t[a],s=o.f;s&tu||!n&&o===Ur||(Ms(o,e),s&(Ba|jo)&&(s&Ts?_V(o,bf):D1(o)))}}function T1(r){console.warn("https://svelte.dev/e/hydration_mismatch")}function h0e(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let Pr=!1;function ol(r){Pr=r}let ln;function Ss(r){if(r===null)throw T1(),hp;return ln=r}function aO(){return Ss(sc(ln))}function Wxt(r){if(Pr){if(sc(ln)!==null)throw T1(),hp;ln=r}}function Uxt(r=1){if(Pr){for(var e=r,t=ln;e--;)t=sc(t);ln=t}}function ID(){for(var r=0,e=ln;;){if(e.nodeType===8){var t=e.data;if(t===JR){if(r===0)return e;r-=1}else(t===GR||t===KR)&&(r+=1)}var n=sc(e);e.remove(),e=n}}function IV(r){if(!r||r.nodeType!==8)throw T1(),hp;return r.data}var P_,QV,BV,qV;function QD(){if(P_===void 0){P_=window,QV=/Firefox/.test(navigator.userAgent);var r=Element.prototype,e=Node.prototype,t=Text.prototype;BV=rf(e,"firstChild").get,qV=rf(e,"nextSibling").get,E_(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),E_(t)&&(t.__t=void 0)}}function df(r=""){return document.createTextNode(r)}function pf(r){return BV.call(r)}function sc(r){return qV.call(r)}function Xxt(r,e){if(!Pr)return pf(r);var t=pf(ln);if(t===null)t=ln.appendChild(df());else if(e&&t.nodeType!==3){var n=df();return t==null||t.before(n),Ss(n),n}return Ss(t),t}function jxt(r,e){if(!Pr){var t=pf(r);return t instanceof Comment&&t.data===""?sc(t):t}return ln}function Yxt(r,e=1,t=!1){let n=Pr?ln:r;for(var i;e--;)i=n,n=sc(n);if(!Pr)return n;var a=n==null?void 0:n.nodeType;if(t&&a!==3){var o=df();return n===null?i==null||i.after(o):n.before(o),Ss(o),o}return Ss(n),n}function iN(r){r.textContent=""}function FV(r){Ur===null&&an===null&&t0e(),an!==null&&an.f&jo&&Ur===null&&e0e(),rm&&Jbe()}function d0e(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function Hh(r,e,t,n=!0){var i=Ur,a={ctx:dn,deps:null,nodes_start:null,nodes_end:null,f:r|tu,first:null,fn:e,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(t)try{A1(a),a.f|=TV}catch(l){throw Ku(a),l}else e!==null&&D1(a);var o=t&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(MV|ew))===0;if(!o&&n&&(i!==null&&d0e(a,i),an!==null&&an.f&Ts)){var s=an;(s.effects??(s.effects=[])).push(a)}return a}function E1(r){const e=Hh(w1,null,!1);return Ms(e,Ba),e.teardown=r,e}function BD(r){FV();var e=Ur!==null&&(Ur.f&oc)!==0&&dn!==null&&!dn.m;if(e){var t=dn;(t.e??(t.e=[])).push({fn:r,effect:Ur,reaction:an})}else{var n=tm(r);return n}}function p0e(r){return FV(),Wh(r)}function m0e(r){const e=Hh(zh,r,!0);return()=>{Ku(e)}}function v0e(r){const e=Hh(zh,r,!0);return(t={})=>new Promise(n=>{t.outro?rw(e,()=>{Ku(e),n(void 0)}):(Ku(e),n(void 0))})}function tm(r){return Hh(CV,r,!1)}function Gxt(r,e){var t=dn,n={effect:null,ran:!1};t.l.r1.push(n),n.effect=Wh(()=>{r(),!n.ran&&(n.ran=!0,ao(t.l.r2,!0),yo(e))})}function Kxt(){var r=dn;Wh(()=>{if(In(r.l.r2)){for(var e of r.l.r1){var t=e.effect;t.f&Ba&&Ms(t,bf),nm(t)&&A1(t),e.ran=!1}r.l.r2.v=!1}})}function Wh(r){return Hh(w1,r,!0)}function Jxt(r,e=[],t=Cp){const n=e.map(t);return aN(()=>r(...n.map(In)))}function aN(r,e=0){return Hh(w1|k1|e,r,!0)}function Sg(r,e=!0){return Hh(w1|oc,r,!0,e)}function VV(r){var e=r.teardown;if(e!==null){const t=rm,n=an;R_(!0),Oo(null);try{e.call(null)}finally{R_(t),Oo(n)}}}function ZV(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){var n=t.next;t.f&zh?t.parent=null:Ku(t,e),t=n}}function g0e(r){for(var e=r.first;e!==null;){var t=e.next;e.f&oc||Ku(e),e=t}}function Ku(r,e=!0){var t=!1;(e||r.f&Gbe)&&r.nodes_start!==null&&(O0e(r.nodes_start,r.nodes_end),t=!0),ZV(r,e&&!t),sw(r,0),Ms(r,S1);var n=r.transitions;if(n!==null)for(const a of n)a.stop();VV(r);var i=r.parent;i!==null&&i.first!==null&&zV(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function O0e(r,e){for(;r!==null;){var t=r===e?null:sc(r);r.remove(),r=t}}function zV(r){var e=r.parent,t=r.prev,n=r.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),e!==null&&(e.first===r&&(e.first=n),e.last===r&&(e.last=t))}function rw(r,e){var t=[];oN(r,t,!0),HV(t,()=>{Ku(r),e&&e()})}function HV(r,e){var t=r.length;if(t>0){var n=()=>--t||e();for(var i of r)i.out(n)}else e()}function oN(r,e,t){if(!(r.f&zu)){if(r.f^=zu,r.transitions!==null)for(const o of r.transitions)(o.is_global||t)&&e.push(o);for(var n=r.first;n!==null;){var i=n.next,a=(n.f&x1)!==0||(n.f&oc)!==0;oN(n,e,a?t:!1),n=i}}}function nw(r){WV(r,!0)}function WV(r,e){if(r.f&zu){r.f^=zu,r.f&Ba||(r.f^=Ba),nm(r)&&(Ms(r,tu),D1(r));for(var t=r.first;t!==null;){var n=t.next,i=(t.f&x1)!==0||(t.f&oc)!==0;WV(t,i?e:!1),t=n}if(r.transitions!==null)for(const a of r.transitions)(a.is_global||e)&&a.in()}}const y0e=typeof requestIdleCallback>"u"?r=>setTimeout(r,1):requestIdleCallback;let xg=[],Cg=[];function UV(){var r=xg;xg=[],J0(r)}function XV(){var r=Cg;Cg=[],J0(r)}function oO(r){xg.length===0&&queueMicrotask(UV),xg.push(r)}function b0e(r){Cg.length===0&&y0e(XV),Cg.push(r)}function w0e(){xg.length>0&&UV(),Cg.length>0&&XV()}let m0=!1,iw=!1,aw=null,yh=!1,rm=!1;function R_(r){rm=r}let tg=[];let an=null,zl=!1;function Oo(r){an=r}let Ur=null;function Es(r){Ur=r}let $a=null;function jV(r){an!==null&&an.f&_D&&($a===null?$a=[r]:$a.push(r))}let Na=null,Vo=0,ds=null;function k0e(r){ds=r}let YV=1,ow=0,Xc=!1,Zc=null;function GV(){return++YV}function nm(r){var h;var e=r.f;if(e&tu)return!0;if(e&bf){var t=r.deps,n=(e&jo)!==0;if(t!==null){var i,a,o=(e&tw)!==0,s=n&&Ur!==null&&!Xc,l=t.length;if(o||s){var u=r,c=u.parent;for(i=0;i<l;i++)a=t[i],(o||!((h=a==null?void 0:a.reactions)!=null&&h.includes(u)))&&(a.reactions??(a.reactions=[])).push(u);o&&(u.f^=tw),s&&c!==null&&!(c.f&jo)&&(u.f^=jo)}for(i=0;i<l;i++)if(a=t[i],nm(a)&&LV(a),a.wv>r.wv)return!0}(!n||Ur!==null&&!Xc)&&Ms(r,Ba)}return!1}function S0e(r,e){for(var t=e;t!==null;){if(t.f&ew)try{t.fn(r);return}catch{t.f^=ew}t=t.parent}throw m0=!1,r}function N_(r){return(r.f&S1)===0&&(r.parent===null||(r.parent.f&ew)===0)}function M1(r,e,t,n){if(m0){if(t===null&&(m0=!1),N_(e))throw r;return}if(t!==null&&(m0=!0),S0e(r,e),N_(e))throw r}function KV(r,e,t=!0){var n=r.reactions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];$a!=null&&$a.includes(r)||(a.f&Ts?KV(a,e,!1):e===a&&(t?Ms(a,tu):a.f&Ba&&Ms(a,bf),D1(a)))}}function JV(r){var g;var e=Na,t=Vo,n=ds,i=an,a=Xc,o=$a,s=dn,l=zl,u=r.f;Na=null,Vo=0,ds=null,Xc=(u&jo)!==0&&(zl||!yh||an===null),an=u&(oc|zh)?null:r,$a=null,M_(r.ctx),zl=!1,ow++,r.f|=_D;try{var c=(0,r.fn)(),h=r.deps;if(Na!==null){var p;if(sw(r,Vo),h!==null&&Vo>0)for(h.length=Vo+Na.length,p=0;p<Na.length;p++)h[Vo+p]=Na[p];else r.deps=h=Na;if(!Xc)for(p=Vo;p<h.length;p++)((g=h[p]).reactions??(g.reactions=[])).push(r)}else h!==null&&Vo<h.length&&(sw(r,Vo),h.length=Vo);if(iO()&&ds!==null&&!zl&&h!==null&&!(r.f&(Ts|bf|tu)))for(p=0;p<ds.length;p++)KV(ds[p],r);return i!==null&&i!==r&&(ow++,ds!==null&&(n===null?n=ds:n.push(...ds))),c}finally{Na=e,Vo=t,ds=n,an=i,Xc=a,$a=o,M_(s),zl=l,r.f^=_D}}function x0e(r,e){let t=e.reactions;if(t!==null){var n=Wbe.call(t,r);if(n!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[n]=t[i],t.pop())}}t===null&&e.f&Ts&&(Na===null||!Na.includes(e))&&(Ms(e,bf),e.f&(jo|tw)||(e.f^=tw),NV(e),sw(e,0))}function sw(r,e){var t=r.deps;if(t!==null)for(var n=e;n<t.length;n++)x0e(r,t[n])}function A1(r){var e=r.f;if(!(e&S1)){Ms(r,Ba);var t=Ur,n=dn,i=yh;Ur=r,yh=!0;try{e&k1?g0e(r):ZV(r),VV(r);var a=JV(r);r.teardown=typeof a=="function"?a:null,r.wv=YV;var o=r.deps,s;T_&&Rbe&&r.f&tu}catch(l){M1(l,r,t,n||r.ctx)}finally{yh=i,Ur=t}}}function C0e(){try{r0e()}catch(r){if(aw!==null)M1(r,aw,null);else throw r}}function eZ(){var r=yh;try{var e=0;for(yh=!0;tg.length>0;){e++>1e3&&C0e();var t=tg,n=t.length;tg=[];for(var i=0;i<n;i++){var a=E0e(t[i]);T0e(a)}wg.clear()}}finally{iw=!1,yh=r,aw=null}}function T0e(r){var e=r.length;if(e!==0)for(var t=0;t<e;t++){var n=r[t];if(!(n.f&(S1|zu)))try{nm(n)&&(A1(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?zV(n):n.fn=null))}catch(i){M1(i,n,null,n.ctx)}}}function D1(r){iw||(iw=!0,queueMicrotask(eZ));for(var e=aw=r;e.parent!==null;){e=e.parent;var t=e.f;if(t&(zh|oc)){if(!(t&Ba))return;e.f^=Ba}}tg.push(e)}function E0e(r){for(var e=[],t=r;t!==null;){var n=t.f,i=(n&(oc|zh))!==0,a=i&&(n&Ba)!==0;if(!a&&!(n&zu)){if(n&CV)e.push(t);else if(i)t.f^=Ba;else try{nm(t)&&A1(t)}catch(l){M1(l,t,null,t.ctx)}var o=t.first;if(o!==null){t=o;continue}}var s=t.parent;for(t=t.next;t===null&&s!==null;)t=s.next,s=s.parent}return e}function M0e(r){for(var e;;){if(w0e(),tg.length===0)return e;iw=!0,eZ()}}function In(r){var e=r.f,t=(e&Ts)!==0;if(Zc!==null&&Zc.add(r),an!==null&&!zl){if(!($a!=null&&$a.includes(r))){var n=an.deps;r.rv<ow&&(r.rv=ow,Na===null&&n!==null&&n[Vo]===r?Vo++:Na===null?Na=[r]:(!Xc||!Na.includes(r))&&Na.push(r))}}else if(t&&r.deps===null&&r.effects===null){var i=r,a=i.parent;a!==null&&!(a.f&jo)&&(i.f^=jo)}return t&&(i=r,nm(i)&&LV(i)),rm&&wg.has(r)?wg.get(r):r.v}function A0e(r){var e=Zc;Zc=new Set;var t=Zc,n;try{if(yo(r),e!==null)for(n of Zc)e.add(n)}finally{Zc=e}return t}function eCt(r){var e=A0e(()=>yo(r));for(var t of e)if(t.f&EV)for(const n of t.deps||[])n.f&Ts||kg(n,n.v);else kg(t,t.v)}function yo(r){var e=zl;try{return zl=!0,r()}finally{zl=e}}const D0e=-7169;function Ms(r,e){r.f=r.f&D0e|e}function P0e(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(Hu in r)qD(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&Hu in t&&qD(t)}}}function qD(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let n in r)try{qD(r[n],e)}catch{}const t=tN(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const n=xV(t);for(let i in n){const a=n[i].get;if(a)try{a.call(r)}catch{}}}}}function tCt(r){Pr&&pf(r)!==null&&iN(r)}let $_=!1;function tZ(){$_||($_=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var e;if(!r.defaultPrevented)for(const t of r.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function sN(r){var e=an,t=Ur;Oo(null),Es(null);try{return r()}finally{Oo(e),Es(t)}}function lN(r,e,t,n=t){r.addEventListener(e,()=>sN(t));const i=r.__on_r;i?r.__on_r=()=>{i(),n(!0)}:r.__on_r=()=>n(!0),tZ()}const R0e=new Set,L_=new Set;function N0e(r,e,t,n={}){function i(a){if(n.capture||_v.call(e,a),!a.cancelBubble)return sN(()=>t==null?void 0:t.call(this,a))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?oO(()=>{e.addEventListener(r,i,n)}):e.addEventListener(r,i,n),i}function rCt(r,e,t,n,i){var a={capture:n,passive:i},o=N0e(r,e,t,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&E1(()=>{e.removeEventListener(r,o,a)})}function _v(r){var z;var e=this,t=e.ownerDocument,n=r.type,i=((z=r.composedPath)==null?void 0:z.call(r))||[],a=i[0]||r.target,o=0,s=r.__root;if(s){var l=i.indexOf(s);if(l!==-1&&(e===document||e===window)){r.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(a=i[o]||r.target,a!==e){bg(r,"currentTarget",{configurable:!0,get(){return a||t}});var c=an,h=Ur;Oo(null),Es(null);try{for(var p,g=[];a!==null;){var O=a.assignedSlot||a.parentNode||a.host||null;try{var T=a["__"+n];if(T!=null&&(!a.disabled||r.target===a))if(em(T)){var[M,...R]=T;M.apply(a,[r,...R])}else T.call(a,r)}catch(U){p?g.push(U):p=U}if(r.cancelBubble||O===e||O===null)break;a=O}if(p){for(let U of g)queueMicrotask(()=>{throw U});throw p}}finally{r.__root=e,delete r.currentTarget,Oo(c),Es(h)}}}function $0e(r){var e=document.createElement("template");return e.innerHTML=r.replaceAll("<!>","<!---->"),e.content}function nf(r,e){var t=Ur;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function nCt(r,e){var t=(e&Zbe)!==0,n=(e&zbe)!==0,i,a=!r.startsWith("<!>");return()=>{if(Pr)return nf(ln,null),ln;i===void 0&&(i=$0e(a?r:"<!>"+r),t||(i=pf(i)));var o=n||QV?document.importNode(i,!0):i.cloneNode(!0);if(t){var s=pf(o),l=o.lastChild;nf(s,l)}else nf(o,o);return o}}function iCt(r=""){if(!Pr){var e=df(r+"");return nf(e,e),e}var t=ln;return t.nodeType!==3&&(t.before(t=df()),Ss(t)),nf(t,t),t}function aCt(){if(Pr)return nf(ln,null),ln;var r=document.createDocumentFragment(),e=document.createComment(""),t=df();return r.append(e,t),nf(e,t),r}function L0e(r,e){if(Pr){Ur.nodes_end=ln,aO();return}r!==null&&r.before(e)}const _0e=["touchstart","touchmove"];function I0e(r){return _0e.includes(r)}let FD=!0;function oCt(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t+"")}function rZ(r,e){return nZ(r,e)}function Q0e(r,e){QD(),e.intro=e.intro??!1;const t=e.target,n=Pr,i=ln;try{for(var a=pf(t);a&&(a.nodeType!==8||a.data!==GR);)a=sc(a);if(!a)throw hp;ol(!0),Ss(a),aO();const o=nZ(r,{...e,anchor:a});if(ln===null||ln.nodeType!==8||ln.data!==JR)throw T1(),hp;return ol(!1),o}catch(o){if(o===hp)return e.recover===!1&&n0e(),QD(),iN(t),ol(!1),rZ(r,e);throw o}finally{ol(n),Ss(i)}}const Fd=new Map;function nZ(r,{target:e,anchor:t,props:n={},events:i,context:a,intro:o=!0}){QD();var s=new Set,l=h=>{for(var p=0;p<h.length;p++){var g=h[p];if(!s.has(g)){s.add(g);var O=I0e(g);e.addEventListener(g,_v,{passive:O});var T=Fd.get(g);T===void 0?(document.addEventListener(g,_v,{passive:O}),Fd.set(g,1)):Fd.set(g,T+1)}}};l(eN(R0e)),L_.add(l);var u=void 0,c=v0e(()=>{var h=t??e.appendChild(df());return Sg(()=>{if(a){l0e({});var p=dn;p.c=a}i&&(n.$$events=i),Pr&&nf(h,null),FD=o,u=r(h,n)||{},FD=!0,Pr&&(Ur.nodes_end=ln),a&&u0e()}),()=>{var O;for(var p of s){e.removeEventListener(p,_v);var g=Fd.get(p);--g===0?(document.removeEventListener(p,_v),Fd.delete(p)):Fd.set(p,g)}L_.delete(l),h!==t&&((O=h.parentNode)==null||O.removeChild(h))}});return VD.set(u,c),u}let VD=new WeakMap;function B0e(r,e){const t=VD.get(r);return t?(VD.delete(r),t(e)):Promise.resolve()}function q0e(r){dn===null&&nN(),Jp&&dn.l!==null?V0e(dn).m.push(r):BD(()=>{const e=yo(r);if(typeof e=="function")return e})}function sCt(r){dn===null&&nN(),q0e(()=>()=>yo(r))}function F0e(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}function lCt(){const r=dn;return r===null&&nN(),(e,t,n)=>{var a;const i=(a=r.s.$$events)==null?void 0:a[e];if(i){const o=em(i)?i.slice():[i],s=F0e(e,t,n);for(const l of o)l.call(r.x,s);return!s.defaultPrevented}return!0}}function V0e(r){var e=r.l;return e.u??(e.u={a:[],b:[],m:[]})}function uCt(r,e,[t,n]=[0,0]){Pr&&t===0&&aO();var i=r,a=null,o=null,s=no,l=t>0?x1:0,u=!1;const c=(p,g=!0)=>{u=!0,h(g,p)},h=(p,g)=>{if(s===(s=p))return;let O=!1;if(Pr&&n!==-1){if(t===0){const M=IV(i);M===GR?n=0:M===KR?n=1/0:(n=parseInt(M.substring(1)),n!==n&&(n=s?1/0:-1))}const T=n>t;!!s===T&&(i=ID(),Ss(i),ol(!1),O=!0,n=-1)}s?(a?nw(a):g&&(a=Sg(()=>g(i))),o&&rw(o,()=>{o=null})):(o?nw(o):g&&(o=Sg(()=>g(i,[t+1,n]))),a&&rw(a,()=>{a=null})),O&&ol(!0)};aN(()=>{u=!1,e(c),u||h(null,null)},l),Pr&&(i=ln)}function cCt(r,e){return e}function Z0e(r,e,t,n){for(var i=[],a=e.length,o=0;o<a;o++)oN(e[o].e,i,!0);var s=a>0&&i.length===0&&t!==null;if(s){var l=t.parentNode;iN(l),l.append(t),n.clear(),Ic(r,e[0].prev,e[a-1].next)}HV(i,()=>{for(var u=0;u<a;u++){var c=e[u];s||(n.delete(c.k),Ic(r,c.prev,c.next)),Ku(c.e,!s)}})}function fCt(r,e,t,n,i,a=null){var o=r,s={flags:e,items:new Map,first:null},l=(e&kV)!==0;if(l){var u=r;o=Pr?Ss(pf(u)):u.appendChild(df())}Pr&&aO();var c=null,h=!1,p=RV(()=>{var g=t();return em(g)?g:g==null?[]:eN(g)});aN(()=>{var g=In(p),O=g.length;if(h&&O===0)return;h=O===0;let T=!1;if(Pr){var M=IV(o)===KR;M!==(O===0)&&(o=ID(),Ss(o),ol(!1),T=!0)}if(Pr){for(var R=null,z,U=0;U<O;U++){if(ln.nodeType===8&&ln.data===JR){o=ln,T=!0,ol(!1);break}var G=g[U],J=n(G,U);z=iZ(ln,s,R,null,G,J,U,i,e,t),s.items.set(J,z),R=z}O>0&&Ss(ID())}Pr||z0e(g,s,o,i,e,n,t),a!==null&&(O===0?c?nw(c):c=Sg(()=>a(o)):c!==null&&rw(c,()=>{c=null})),T&&ol(!0),In(p)}),Pr&&(o=ln)}function z0e(r,e,t,n,i,a,o){var at,dt,Ot,Qt;var s=(i&$be)!==0,l=(i&(jR|YR))!==0,u=r.length,c=e.items,h=e.first,p=h,g,O=null,T,M=[],R=[],z,U,G,J;if(s)for(J=0;J<u;J+=1)z=r[J],U=a(z,J),G=c.get(U),G!==void 0&&((at=G.a)==null||at.measure(),(T??(T=new Set)).add(G));for(J=0;J<u;J+=1){if(z=r[J],U=a(z,J),G=c.get(U),G===void 0){var ee=p?p.e.nodes_start:t;O=iZ(ee,e,O,O===null?e.first:O.next,z,U,J,n,i,o),c.set(U,O),M=[],R=[],p=O.next;continue}if(l&&H0e(G,z,J,i),G.e.f&zu&&(nw(G.e),s&&((dt=G.a)==null||dt.unfix(),(T??(T=new Set)).delete(G))),G!==p){if(g!==void 0&&g.has(G)){if(M.length<R.length){var le=R[0],pe;O=le.prev;var be=M[0],Fe=M[M.length-1];for(pe=0;pe<M.length;pe+=1)__(M[pe],le,t);for(pe=0;pe<R.length;pe+=1)g.delete(R[pe]);Ic(e,be.prev,Fe.next),Ic(e,O,be),Ic(e,Fe,le),p=le,O=Fe,J-=1,M=[],R=[]}else g.delete(G),__(G,p,t),Ic(e,G.prev,G.next),Ic(e,G,O===null?e.first:O.next),Ic(e,O,G),O=G;continue}for(M=[],R=[];p!==null&&p.k!==U;)p.e.f&zu||(g??(g=new Set)).add(p),R.push(p),p=p.next;if(p===null)continue;G=p}M.push(G),O=G,p=G.next}if(p!==null||g!==void 0){for(var Ge=g===void 0?[]:eN(g);p!==null;)p.e.f&zu||Ge.push(p),p=p.next;var _e=Ge.length;if(_e>0){var ot=i&kV&&u===0?t:null;if(s){for(J=0;J<_e;J+=1)(Ot=Ge[J].a)==null||Ot.measure();for(J=0;J<_e;J+=1)(Qt=Ge[J].a)==null||Qt.fix()}Z0e(e,Ge,ot,c)}}s&&oO(()=>{var Vt;if(T!==void 0)for(G of T)(Vt=G.a)==null||Vt.apply()}),Ur.first=e.first&&e.first.e,Ur.last=O&&O.e}function H0e(r,e,t,n){n&jR&&kg(r.v,e),n&YR?kg(r.i,t):r.i=t}function iZ(r,e,t,n,i,a,o,s,l,u){var c=(l&jR)!==0,h=(l&Lbe)===0,p=c?h?C1(i):Tp(i):i,g=l&YR?Tp(o):o,O={i:g,v:p,k:a,a:null,e:null,prev:t,next:n};try{return O.e=Sg(()=>s(r,p,g,u),Pr),O.e.prev=t&&t.e,O.e.next=n&&n.e,t===null?e.first=O:(t.next=O,t.e.next=O.e),n!==null&&(n.prev=O,n.e.prev=O.e),O}finally{}}function __(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,i=e?e.e.nodes_start:t,a=r.e.nodes_start;a!==n;){var o=sc(a);i.before(a),a=o}}function Ic(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function hCt(r,e,t,n,i){var s;Pr&&aO();var a=(s=e.$$slots)==null?void 0:s[t],o=!1;a===!0&&(a=e.children,o=!0),a===void 0||a(r,o?()=>n:n)}function dCt(r){const e={};r.children&&(e.default=!0);for(const t in r.$$slots)e[t]=!0;return e}function pCt(r,e){oO(()=>{var t=r.getRootNode(),n=t.host?t:t.head??t.ownerDocument.head;if(!n.querySelector("#"+e.hash)){const i=document.createElement("style");i.id=e.hash,i.textContent=e.code,n.appendChild(i)}})}const I_=[...` 	
\r\fÂ \v\uFEFF`];function W0e(r,e,t){var n=r==null?"":""+r;if(e&&(n=n?n+" "+e:e),t){for(var i in t)if(t[i])n=n?n+" "+i:i;else if(n.length)for(var a=i.length,o=0;(o=n.indexOf(i,o))>=0;){var s=o+a;(o===0||I_.includes(n[o-1]))&&(s===n.length||I_.includes(n[s]))?n=(o===0?"":n.substring(0,o))+n.substring(s+1):o=s}}return n===""?null:n}function Q_(r,e=!1){var t=e?" !important;":";",n="";for(var i in r){var a=r[i];a!=null&&a!==""&&(n+=" "+i+": "+a+t)}return n}function zM(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function U0e(r,e){if(e){var t="",n,i;if(Array.isArray(e)?(n=e[0],i=e[1]):n=e,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,o=0,s=!1,l=[];n&&l.push(...Object.keys(n).map(zM)),i&&l.push(...Object.keys(i).map(zM));var u=0,c=-1;const T=r.length;for(var h=0;h<T;h++){var p=r[h];if(s?p==="/"&&r[h-1]==="*"&&(s=!1):a?a===p&&(a=!1):p==="/"&&r[h+1]==="*"?s=!0:p==='"'||p==="'"?a=p:p==="("?o++:p===")"&&o--,!s&&a===!1&&o===0){if(p===":"&&c===-1)c=h;else if(p===";"||h===T-1){if(c!==-1){var g=zM(r.substring(u,c).trim());if(!l.includes(g)){p!==";"&&h++;var O=r.substring(u,h).trim();t+=" "+O+";"}}u=h+1,c=-1}}}}return n&&(t+=Q_(n)),i&&(t+=Q_(i,!0)),t=t.trim(),t===""?null:t}return r==null?null:String(r)}function mCt(r,e,t,n,i,a){var o=r.__className;if(Pr||o!==t||o===void 0){var s=W0e(t,n,a);(!Pr||s!==r.getAttribute("class"))&&(s==null?r.removeAttribute("class"):r.className=s),r.__className=t}else if(a&&i!==a)for(var l in a){var u=!!a[l];(i==null||u!==!!i[l])&&r.classList.toggle(l,u)}return a}function HM(r,e={},t,n){for(var i in t){var a=t[i];e[i]!==a&&(t[i]==null?r.style.removeProperty(i):r.style.setProperty(i,a,n))}}function vCt(r,e,t,n){var i=r.__style;if(Pr||i!==e){var a=U0e(e,n);(!Pr||a!==r.getAttribute("style"))&&(a==null?r.removeAttribute("style"):r.style.cssText=a),r.__style=e}else n&&(Array.isArray(n)?(HM(r,t==null?void 0:t[0],n[0]),HM(r,t==null?void 0:t[1],n[1],"important")):HM(r,t,n));return n}function aZ(r,e,t){if(r.multiple){if(e==null)return;if(!em(e))return h0e();for(var n of r.options)n.selected=e.includes(rg(n));return}for(n of r.options){var i=rg(n);if(c0e(i,e)){n.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function X0e(r,e){tm(()=>{var t=new MutationObserver(()=>{var n=r.__value;aZ(r,n)});return t.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function gCt(r,e,t=e){var n=!0;lN(r,"change",i=>{var a=i?"[selected]":":checked",o;if(r.multiple)o=[].map.call(r.querySelectorAll(a),rg);else{var s=r.querySelector(a)??r.querySelector("option:not([disabled])");o=s&&rg(s)}t(o)}),tm(()=>{var i=e();if(aZ(r,i,n),n&&i===void 0){var a=r.querySelector(":checked");a!==null&&(i=rg(a),t(i))}r.__value=i,n=!1}),X0e(r)}function rg(r){return"__value"in r?r.__value:r.value}const j0e=Symbol("is custom element"),Y0e=Symbol("is html");function OCt(r){if(Pr){var e=!1,t=()=>{if(!e){if(e=!0,r.hasAttribute("value")){var n=r.value;ZD(r,"value",null),r.value=n}if(r.hasAttribute("checked")){var i=r.checked;ZD(r,"checked",null),r.checked=i}}};r.__on_r=t,b0e(t),tZ()}}function yCt(r,e){var t=oZ(r);t.checked!==(t.checked=e??void 0)&&(r.checked=e)}function ZD(r,e,t,n){var i=oZ(r);Pr&&(i[e]=r.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&r.nodeName==="LINK")||i[e]!==(i[e]=t)&&(e==="loading"&&(r[Kbe]=t),t==null?r.removeAttribute(e):typeof t!="string"&&sZ(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function bCt(r,e,t){var n=an,i=Ur;let a=Pr;Pr&&ol(!1),Oo(null),Es(null);try{e!=="style"&&(zD.has(r.nodeName)||!customElements||customElements.get(r.tagName.toLowerCase())?sZ(r).includes(e):t&&typeof t=="object")?r[e]=t:ZD(r,e,t==null?t:String(t))}finally{Oo(n),Es(i),a&&ol(!0)}}function oZ(r){return r.__attributes??(r.__attributes={[j0e]:r.nodeName.includes("-"),[Y0e]:r.namespaceURI===Hbe})}var zD=new Map;function sZ(r){var e=zD.get(r.nodeName);if(e)return e;zD.set(r.nodeName,e=[]);for(var t,n=r,i=Element.prototype;i!==n;){t=xV(n);for(var a in t)t[a].set&&e.push(a);n=tN(n)}return e}const G0e=()=>performance.now(),qu={tick:r=>requestAnimationFrame(r),now:()=>G0e(),tasks:new Set};function lZ(){const r=qu.now();qu.tasks.forEach(e=>{e.c(r)||(qu.tasks.delete(e),e.f())}),qu.tasks.size!==0&&qu.tick(lZ)}function K0e(r){let e;return qu.tasks.size===0&&qu.tick(lZ),{promise:new Promise(t=>{qu.tasks.add(e={c:r,f:t})}),abort(){qu.tasks.delete(e)}}}function kb(r,e){sN(()=>{r.dispatchEvent(new CustomEvent(e))})}function J0e(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function B_(r){const e={},t=r.split(";");for(const n of t){const[i,a]=n.split(":");if(!i||a===void 0)break;const o=J0e(i.trim());e[o]=a.trim()}return e}const ewe=r=>r;function wCt(r,e,t,n){var i=(r&qbe)!==0,a=(r&Fbe)!==0,o=i&&a,s=(r&Vbe)!==0,l=o?"both":i?"in":"out",u,c=e.inert,h=e.style.overflow,p,g;function O(){var U=an,G=Ur;Oo(null),Es(null);try{return u??(u=t()(e,(n==null?void 0:n())??{},{direction:l}))}finally{Oo(U),Es(G)}}var T={is_global:s,in(){var U;if(e.inert=c,!i){g==null||g.abort(),(U=g==null?void 0:g.reset)==null||U.call(g);return}a||p==null||p.abort(),kb(e,"introstart"),p=HD(e,O(),g,1,()=>{kb(e,"introend"),p==null||p.abort(),p=u=void 0,e.style.overflow=h})},out(U){if(!a){U==null||U(),u=void 0;return}e.inert=!0,kb(e,"outrostart"),g=HD(e,O(),p,0,()=>{kb(e,"outroend"),U==null||U()})},stop:()=>{p==null||p.abort(),g==null||g.abort()}},M=Ur;if((M.transitions??(M.transitions=[])).push(T),i&&FD){var R=s;if(!R){for(var z=M.parent;z&&z.f&x1;)for(;(z=z.parent)&&!(z.f&k1););R=!z||(z.f&TV)!==0}R&&tm(()=>{yo(()=>T.in())})}}function HD(r,e,t,n,i){var a=n===1;if(jbe(e)){var o,s=!1;return oO(()=>{if(!s){var M=e({direction:a?"in":"out"});o=HD(r,M,t,n,i)}}),{abort:()=>{s=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:Os,deactivate:Os,reset:Os,t:()=>n};const{delay:l=0,css:u,tick:c,easing:h=ewe}=e;var p=[];if(a&&t===void 0&&(c&&c(0,1),u)){var g=B_(u(0,1));p.push(g,g)}var O=()=>1-n,T=r.animate(p,{duration:l});return T.onfinish=()=>{var M=(t==null?void 0:t.t())??1-n;t==null||t.abort();var R=n-M,z=e.duration*Math.abs(R),U=[];if(z>0){var G=!1;if(u)for(var J=Math.ceil(z/16.666666666666668),ee=0;ee<=J;ee+=1){var le=M+R*h(ee/J),pe=B_(u(le,1-le));U.push(pe),G||(G=pe.overflow==="hidden")}G&&(r.style.overflow="hidden"),O=()=>{var be=T.currentTime;return M+R*h(be/z)},c&&K0e(()=>{if(T.playState!=="running")return!1;var be=O();return c(be,1-be),!0})}T=r.animate(U,{duration:z,fill:"forwards"}),T.onfinish=()=>{O=()=>n,c==null||c(n,1-n),i()}},{abort:()=>{T&&(T.cancel(),T.effect=null,T.onfinish=Os)},deactivate:()=>{i=Os},reset:()=>{n===0&&(c==null||c(1,0))},t:()=>O()}}function kCt(r,e,t=e){var n=iO();lN(r,"input",i=>{var a=i?r.defaultValue:r.value;if(a=WM(r)?UM(a):a,t(a),n&&a!==(a=e())){var o=r.selectionStart,s=r.selectionEnd;r.value=a??"",s!==null&&(r.selectionStart=o,r.selectionEnd=Math.min(s,r.value.length))}}),(Pr&&r.defaultValue!==r.value||yo(e)==null&&r.value)&&t(WM(r)?UM(r.value):r.value),Wh(()=>{var i=e();WM(r)&&i===UM(r.value)||r.type==="date"&&!i&&!r.value||i!==r.value&&(r.value=i??"")})}function SCt(r,e,t=e){lN(r,"change",n=>{var i=n?r.defaultChecked:r.checked;t(i)}),(Pr&&r.defaultChecked!==r.checked||yo(e)==null)&&t(r.checked),Wh(()=>{var n=e();r.checked=!!n})}function WM(r){var e=r.type;return e==="number"||e==="range"}function UM(r){return r===""?null:+r}function xCt(r,e,t){var n=rf(r,e);n&&n.set&&(r[e]=t,E1(()=>{r[e]=null}))}function q_(r,e){return r===e||(r==null?void 0:r[Hu])===e}function CCt(r={},e,t,n){return tm(()=>{var i,a;return Wh(()=>{i=a,a=[],yo(()=>{r!==t(...a)&&(e(r,...a),i&&q_(t(...i),r)&&e(null,...i))})}),()=>{oO(()=>{a&&q_(t(...a),r)&&e(null,...a)})}}),r}function TCt(r=!1){const e=dn,t=e.l.u;if(!t)return;let n=()=>P0e(e.s);if(r){let i=0,a={};const o=Cp(()=>{let s=!1;const l=e.s;for(const u in l)l[u]!==a[u]&&(a[u]=l[u],s=!0);return s&&i++,i});n=()=>In(o)}t.b.length&&p0e(()=>{F_(e,n),J0(t.b)}),BD(()=>{const i=yo(()=>t.m.map(Ybe));return()=>{for(const a of i)typeof a=="function"&&a()}}),t.a.length&&BD(()=>{F_(e,n),J0(t.a)})}function F_(r,e){if(r.l.s)for(const t of r.l.s)In(t);e()}function ECt(r,e){var a;var t=(a=r.$$events)==null?void 0:a[e.type],n=em(t)?t.slice():t==null?[]:[t];for(var i of n)i.call(this,e)}function uZ(r,e,t){if(r==null)return e(void 0),Os;const n=yo(()=>r.subscribe(e,t));return n.unsubscribe?()=>n.unsubscribe():n}const Vd=[];function MCt(r,e=Os){let t=null;const n=new Set;function i(s){if(PV(r,s)&&(r=s,t)){const l=!Vd.length;for(const u of n)u[1](),Vd.push(u,r);if(l){for(let u=0;u<Vd.length;u+=2)Vd[u][0](Vd[u+1]);Vd.length=0}}}function a(s){i(s(r))}function o(s,l=Os){const u=[s,l];return n.add(u),n.size===1&&(t=e(i,a)||Os),s(r),()=>{n.delete(u),n.size===0&&t&&(t(),t=null)}}return{set:i,update:a,subscribe:o}}function twe(r){let e;return uZ(r,t=>e=t)(),e}let Sb=!1,WD=Symbol();function ACt(r,e,t){const n=t[e]??(t[e]={store:null,source:C1(void 0),unsubscribe:Os});if(n.store!==r&&!(WD in t))if(n.unsubscribe(),n.store=r??null,r==null)n.source.v=void 0,n.unsubscribe=Os;else{var i=!0;n.unsubscribe=uZ(r,a=>{i?n.source.v=a:ao(n.source,a)}),i=!1}return r&&WD in t?twe(r):In(n.source)}function DCt(r,e,t){let n=t[e];return n&&n.store!==r&&(n.unsubscribe(),n.unsubscribe=Os),r}function PCt(r,e){return r.set(e),e}function RCt(){const r={};function e(){E1(()=>{for(var t in r)r[t].unsubscribe();bg(r,WD,{enumerable:!1,value:!0})})}return[r,e]}function NCt(r,e,t){return r.set(t),e}function rwe(r){var e=Sb;try{return Sb=!1,[r(),Sb]}finally{Sb=e}}const nwe={get(r,e){if(!r.exclude.includes(e))return In(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,t){return e in r.special||(r.special[e]=iwe({get[e](){return r.props[e]}},e,SV)),r.special[e](t),D_(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),D_(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function $Ct(r,e){return new Proxy({props:r,exclude:e,special:{},version:Tp(0)},nwe)}function V_(r){var e;return((e=r.ctx)==null?void 0:e.d)??!1}function iwe(r,e,t,n){var le;var i=(t&_be)!==0,a=!Jp||(t&Ibe)!==0,o=(t&Qbe)!==0,s=(t&Bbe)!==0,l=!1,u;o?[u,l]=rwe(()=>r[e]):u=r[e];var c=Hu in r||AV in r,h=o&&(((le=rf(r,e))==null?void 0:le.set)??(c&&e in r&&(pe=>r[e]=pe)))||void 0,p=n,g=!0,O=!1,T=()=>(O=!0,g&&(g=!1,s?p=yo(n):p=n),p);u===void 0&&n!==void 0&&(h&&a&&i0e(),u=T(),h&&h(u));var M;if(a)M=()=>{var pe=r[e];return pe===void 0?T():(g=!0,O=!1,pe)};else{var R=(i?Cp:RV)(()=>r[e]);R.f|=EV,M=()=>{var pe=In(R);return pe!==void 0&&(p=void 0),pe===void 0?p:pe}}if(!(t&SV))return M;if(h){var z=r.$$legacy;return function(pe,be){return arguments.length>0?((!a||!be||z||l)&&h(be?M():pe),pe):M()}}var U=!1,G=!1,J=C1(u),ee=Cp(()=>{var pe=M(),be=In(J);return U?(U=!1,G=!0,be):(G=!1,J.v=pe)});return o&&In(ee),i||(ee.equals=rN),function(pe,be){if(Zc!==null&&(U=G,M(),In(J)),arguments.length>0){const Fe=be?In(ee):a&&o?uh(pe):pe;if(!ee.equals(Fe)){if(U=!0,ao(J,Fe),O&&p!==void 0&&(p=Fe),V_(ee))return pe;yo(()=>In(ee))}return pe}return V_(ee)?ee.v:In(ee)}}function awe(r){return new owe(r)}var Bu,ms;class owe{constructor(e){FM(this,Bu);FM(this,ms);var a;var t=new Map,n=(o,s)=>{var l=C1(s);return t.set(o,l),l};const i=new Proxy({...e.props||{},$$events:{}},{get(o,s){return In(t.get(s)??n(s,Reflect.get(o,s)))},has(o,s){return s===AV?!0:(In(t.get(s)??n(s,Reflect.get(o,s))),Reflect.has(o,s))},set(o,s,l){return ao(t.get(s)??n(s,l),l),Reflect.set(o,s,l)}});VM(this,ms,(e.hydrate?Q0e:rZ)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover})),(!((a=e==null?void 0:e.props)!=null&&a.$$host)||e.sync===!1)&&M0e(),VM(this,Bu,i.$$events);for(const o of Object.keys(eo(this,ms)))o==="$set"||o==="$destroy"||o==="$on"||bg(this,o,{get(){return eo(this,ms)[o]},set(s){eo(this,ms)[o]=s},enumerable:!0});eo(this,ms).$set=o=>{Object.assign(i,o)},eo(this,ms).$destroy=()=>{B0e(eo(this,ms))}}$set(e){eo(this,ms).$set(e)}$on(e,t){eo(this,Bu)[e]=eo(this,Bu)[e]||[];const n=(...i)=>t.call(this,...i);return eo(this,Bu)[e].push(n),()=>{eo(this,Bu)[e]=eo(this,Bu)[e].filter(i=>i!==n)}}$destroy(){eo(this,ms).$destroy()}}Bu=new WeakMap,ms=new WeakMap;let cZ;typeof HTMLElement=="function"&&(cZ=class extends HTMLElement{constructor(e,t,n){super();el(this,"$$ctor");el(this,"$$s");el(this,"$$c");el(this,"$$cn",!1);el(this,"$$d",{});el(this,"$$r",!1);el(this,"$$p_d",{});el(this,"$$l",{});el(this,"$$l_u",new Map);el(this,"$$me");this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const i=this.$$c.$on(e,t);this.$$l_u.set(t,i)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){const i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(i){return a=>{const o=document.createElement("slot");i!=="default"&&(o.name=i),L0e(a,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const t={},n=swe(this);for(const i of this.$$s)i in n&&(i==="default"&&!this.$$d.children?(this.$$d.children=e(i),t.default=!0):t[i]=e(i));for(const i of this.attributes){const a=this.$$g_p(i.name);a in this.$$d||(this.$$d[a]=v0(a,i.value,this.$$p_d,"toProp"))}for(const i in this.$$p_d)!(i in this.$$d)&&this[i]!==void 0&&(this.$$d[i]=this[i],delete this[i]);this.$$c=awe({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$host:this}}),this.$$me=m0e(()=>{Wh(()=>{var i;this.$$r=!0;for(const a of K0(this.$$c)){if(!((i=this.$$p_d[a])!=null&&i.reflect))continue;this.$$d[a]=this.$$c[a];const o=v0(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1})});for(const i in this.$$l)for(const a of this.$$l[i]){const o=this.$$c.$on(i,a);this.$$l_u.set(a,o)}this.$$l={}}}attributeChangedCallback(e,t,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=v0(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return K0(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function v0(r,e,t,n){var a;const i=(a=t[r])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!t[r])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function swe(r){const e={};return r.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}function LCt(r,e,t,n,i,a){let o=class extends cZ{constructor(){super(r,t,i),this.$$p_d=e}static get observedAttributes(){return K0(e).map(s=>(e[s].attribute||s).toLowerCase())}};return K0(e).forEach(s=>{bg(o.prototype,s,{get(){return this.$$c&&s in this.$$c?this.$$c[s]:this.$$d[s]},set(l){var h;l=v0(s,l,e),this.$$d[s]=l;var u=this.$$c;if(u){var c=(h=rf(u,s))==null?void 0:h.get;c?u[s]=l:u.$set({[s]:l})}}})}),n.forEach(s=>{bg(o.prototype,s,{get(){var l;return(l=this.$$c)==null?void 0:l[s]}})}),a&&(o=a(o)),r.element=o,o}let UD=[],fZ=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?fZ:UD).push(t=t+r[e])})();function lwe(r){if(r<768)return!1;for(let e=0,t=UD.length;;){let n=e+t>>1;if(r<UD[n])t=n;else if(r>=fZ[n])e=n+1;else return!0;if(e==t)return!1}}function Z_(r){return r>=127462&&r<=127487}const z_=8205;function uwe(r,e,t=!0,n=!0){return(t?hZ:cwe)(r,e,n)}function hZ(r,e,t){if(e==r.length)return e;e&&dZ(r.charCodeAt(e))&&pZ(r.charCodeAt(e-1))&&e--;let n=XM(r,e);for(e+=H_(n);e<r.length;){let i=XM(r,e);if(n==z_||i==z_||t&&lwe(i))e+=H_(i),n=i;else if(Z_(i)){let a=0,o=e-2;for(;o>=0&&Z_(XM(r,o));)a++,o-=2;if(a%2==0)break;e+=2}else break}return e}function cwe(r,e,t){for(;e>0;){let n=hZ(r,e-2,t);if(n<e)return n;e--}return 0}function XM(r,e){let t=r.charCodeAt(e);if(!pZ(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return dZ(n)?(t-55296<<10)+(n-56320)+65536:t}function dZ(r){return r>=56320&&r<57344}function pZ(r){return r>=55296&&r<56320}function H_(r){return r<65536?1:2}let Wr=class mZ{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=Ep(this,e,t);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),g0.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Ep(this,e,t);let n=[];return this.decompose(e,t,n,0),g0.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new ng(this),a=new ng(e);for(let o=t,s=t;;){if(i.next(o),a.next(o),o=0,i.lineBreak!=a.lineBreak||i.done!=a.done||i.value!=a.value)return!1;if(s+=i.value.length,i.done||s>=n)return!0}}iter(e=1){return new ng(this,e)}iterRange(e,t=this.length){return new vZ(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new gZ(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?mZ.empty:e.length<=32?new Yn(e):g0.from(Yn.split(e,[]))}};class Yn extends Wr{constructor(e,t=fwe(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,i){for(let a=0;;a++){let o=this.text[a],s=i+o.length;if((t?n:s)>=e)return new hwe(i,s,n,o);i=s+1,n++}}decompose(e,t,n,i){let a=e<=0&&t>=this.length?this:new Yn(W_(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=n.pop(),s=O0(a.text,o.text.slice(),0,a.length);if(s.length<=32)n.push(new Yn(s,o.length+a.length));else{let l=s.length>>1;n.push(new Yn(s.slice(0,l)),new Yn(s.slice(l)))}}else n.push(a)}replace(e,t,n){if(!(n instanceof Yn))return super.replace(e,t,n);[e,t]=Ep(this,e,t);let i=O0(this.text,O0(n.text,W_(this.text,0,e)),t),a=this.length+n.length-(t-e);return i.length<=32?new Yn(i,a):g0.from(Yn.split(i,[]),a)}sliceString(e,t=this.length,n=`
`){[e,t]=Ep(this,e,t);let i="";for(let a=0,o=0;a<=t&&o<this.text.length;o++){let s=this.text[o],l=a+s.length;a>e&&o&&(i+=n),e<l&&t>a&&(i+=s.slice(Math.max(0,e-a),t-a)),a=l+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],i=-1;for(let a of e)n.push(a),i+=a.length+1,n.length==32&&(t.push(new Yn(n,i)),n=[],i=-1);return i>-1&&t.push(new Yn(n,i)),t}}let g0=class Jd extends Wr{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,i){for(let a=0;;a++){let o=this.children[a],s=i+o.length,l=n+o.lines-1;if((t?l:s)>=e)return o.lineInner(e,t,n,i);i=s+1,n=l+1}}decompose(e,t,n,i){for(let a=0,o=0;o<=t&&a<this.children.length;a++){let s=this.children[a],l=o+s.length;if(e<=l&&t>=o){let u=i&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!u?n.push(s):s.decompose(e-o,t-o,n,u)}o=l+1}}replace(e,t,n){if([e,t]=Ep(this,e,t),n.lines<this.lines)for(let i=0,a=0;i<this.children.length;i++){let o=this.children[i],s=a+o.length;if(e>=a&&t<=s){let l=o.replace(e-a,t-a,n),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[i]=l,new Jd(c,this.length-(t-e)+n.length)}return super.replace(a,s,l)}a=s+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=Ep(this,e,t);let i="";for(let a=0,o=0;a<this.children.length&&o<=t;a++){let s=this.children[a],l=o+s.length;o>e&&a&&(i+=n),e<l&&t>o&&(i+=s.sliceString(e-o,t-o,n)),o=l+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Jd))return 0;let n=0,[i,a,o,s]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,a+=t){if(i==o||a==s)return n;let l=this.children[i],u=e.children[a];if(l!=u)return n+l.scanIdentical(u,t);n+=l.length+1}}static from(e,t=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let g of e)n+=g.lines;if(n<32){let g=[];for(let O of e)O.flatten(g);return new Yn(g,t)}let i=Math.max(32,n>>5),a=i<<1,o=i>>1,s=[],l=0,u=-1,c=[];function h(g){let O;if(g.lines>a&&g instanceof Jd)for(let T of g.children)h(T);else g.lines>o&&(l>o||!l)?(p(),s.push(g)):g instanceof Yn&&l&&(O=c[c.length-1])instanceof Yn&&g.lines+O.lines<=32?(l+=g.lines,u+=g.length+1,c[c.length-1]=new Yn(O.text.concat(g.text),O.length+1+g.length)):(l+g.lines>i&&p(),l+=g.lines,u+=g.length+1,c.push(g))}function p(){l!=0&&(s.push(c.length==1?c[0]:Jd.from(c,u)),u=-1,l=c.length=0)}for(let g of e)h(g);return p(),s.length==1?s[0]:new Jd(s,t)}};Wr.empty=new Yn([""],0);function fwe(r){let e=-1;for(let t of r)e+=t.length+1;return e}function O0(r,e,t=0,n=1e9){for(let i=0,a=0,o=!0;a<r.length&&i<=n;a++){let s=r[a],l=i+s.length;l>=t&&(l>n&&(s=s.slice(0,n-i)),i<t&&(s=s.slice(t-i)),o?(e[e.length-1]+=s,o=!1):e.push(s)),i=l+1}return e}function W_(r,e,t){return O0(r,[""],e,t)}class ng{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Yn?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],a=this.offsets[n],o=a>>1,s=i instanceof Yn?i.text.length:i.children.length;if(o==(t>0?s:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Yn){let l=i.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Yn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class vZ{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new ng(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=n?i:t<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class gZ{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Wr.prototype[Symbol.iterator]=function(){return this.iter()},ng.prototype[Symbol.iterator]=vZ.prototype[Symbol.iterator]=gZ.prototype[Symbol.iterator]=function(){return this});class hwe{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}function Ep(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function Gi(r,e,t=!0,n=!0){return uwe(r,e,t,n)}function dwe(r){return r>=56320&&r<57344}function pwe(r){return r>=55296&&r<56320}function so(r,e){let t=r.charCodeAt(e);if(!pwe(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return dwe(n)?(t-55296<<10)+(n-56320)+65536:t}function uN(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function Hl(r){return r<65536?1:2}const XD=/\r\n?|\n/;var Yi=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(Yi||(Yi={}));class Yl{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,i=0;t<this.sections.length;){let a=this.sections[t++],o=this.sections[t++];o<0?(e(n,i,a),i+=a):i+=o,n+=a}}iterChangedRanges(e,t=!1){jD(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];i<0?e.push(n,i):e.push(i,n)}return new Yl(e)}composeDesc(e){return this.empty?e:e.empty?this:OZ(this,e)}mapDesc(e,t=!1){return e.empty?this:YD(this,e,t)}mapPos(e,t=-1,n=Yi.Simple){let i=0,a=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],l=this.sections[o++],u=i+s;if(l<0){if(u>e)return a+(e-i);a+=s}else{if(n!=Yi.Simple&&u>=e&&(n==Yi.TrackDel&&i<e&&u>e||n==Yi.TrackBefore&&i<e||n==Yi.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!s)return e==i||t<0?a:a+l;a+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return a}touchesRange(e,t=e){for(let n=0,i=0;n<this.sections.length&&i<=t;){let a=this.sections[n++],o=this.sections[n++],s=i+a;if(o>=0&&i<=t&&s>=e)return i<e&&s>t?"cover":!0;i=s}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Yl(e)}static create(e){return new Yl(e)}}class bi extends Yl{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return jD(this,(t,n,i,a,o)=>e=e.replace(i,i+(n-t),o),!1),e}mapDesc(e,t=!1){return YD(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,a=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s>=0){t[i]=s,t[i+1]=o;let l=i>>1;for(;n.length<l;)n.push(Wr.empty);n.push(o?e.slice(a,a+o):Wr.empty)}a+=o}return new bi(t,n)}compose(e){return this.empty?e:e.empty?this:OZ(this,e,!0)}map(e,t=!1){return e.empty?this:YD(this,e,t,!0)}iterChanges(e,t=!1){jD(this,e,t)}get desc(){return Yl.create(this.sections)}filter(e){let t=[],n=[],i=[],a=new Tg(this);e:for(let o=0,s=0;;){let l=o==e.length?1e9:e[o++];for(;s<l||s==l&&a.len==0;){if(a.done)break e;let c=Math.min(a.len,l-s);pa(i,c,-1);let h=a.ins==-1?-1:a.off==0?a.ins:0;pa(t,c,h),h>0&&jc(n,t,a.text),a.forward(c),s+=c}let u=e[o++];for(;s<u;){if(a.done)break e;let c=Math.min(a.len,u-s);pa(t,c,-1),pa(i,c,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(c),s+=c}}return{changes:new bi(t,n),filtered:Yl.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],i=this.sections[t+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],a=[],o=0,s=null;function l(c=!1){if(!c&&!i.length)return;o<t&&pa(i,t-o,-1);let h=new bi(i,a);s=s?s.compose(h.map(s)):h,i=[],a=[],o=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof bi){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),s=s?s.compose(c.map(s)):c}else{let{from:h,to:p=h,insert:g}=c;if(h>p||h<0||p>t)throw new RangeError(`Invalid change range ${h} to ${p} (in doc of length ${t})`);let O=g?typeof g=="string"?Wr.of(g.split(n||XD)):g:Wr.empty,T=O.length;if(h==p&&T==0)return;h<o&&l(),h>o&&pa(i,h-o,-1),pa(i,p-h,T),jc(a,i,O),o=p}}return u(e),l(!s),s}static empty(e){return new bi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="number")t.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((o,s)=>s&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)t.push(a[0],0);else{for(;n.length<i;)n.push(Wr.empty);n[i]=Wr.of(a.slice(1)),t.push(a[0],n[i].length)}}}return new bi(t,n)}static createSet(e,t){return new bi(e,t)}}function pa(r,e,t,n=!1){if(e==0&&t<=0)return;let i=r.length-2;i>=0&&t<=0&&t==r[i+1]?r[i]+=e:i>=0&&e==0&&r[i]==0?r[i+1]+=t:n?(r[i]+=e,r[i+1]+=t):r.push(e,t)}function jc(r,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<n;)r.push(Wr.empty);r.push(t)}}function jD(r,e,t){let n=r.inserted;for(let i=0,a=0,o=0;o<r.sections.length;){let s=r.sections[o++],l=r.sections[o++];if(l<0)i+=s,a+=s;else{let u=i,c=a,h=Wr.empty;for(;u+=s,c+=l,l&&n&&(h=h.append(n[o-2>>1])),!(t||o==r.sections.length||r.sections[o+1]<0);)s=r.sections[o++],l=r.sections[o++];e(i,u,a,c,h),i=u,a=c}}}function YD(r,e,t,n=!1){let i=[],a=n?[]:null,o=new Tg(r),s=new Tg(e);for(let l=-1;;){if(o.done&&s.len||s.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&s.ins==-1){let u=Math.min(o.len,s.len);pa(i,u,-1),o.forward(u),s.forward(u)}else if(s.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(s.len<o.len||s.len==o.len&&!t))){let u=s.len;for(pa(i,s.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(pa(i,0,o.ins),a&&jc(a,i,o.text),l=o.i),o.forward(c),u-=c}s.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(s.ins==-1){let h=Math.min(c,s.len);u+=h,c-=h,s.forward(h)}else if(s.ins==0&&s.len<c)c-=s.len,s.next();else break;pa(i,u,l<o.i?o.ins:0),a&&l<o.i&&jc(a,i,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&s.done)return a?bi.createSet(i,a):Yl.create(i);throw new Error("Mismatched change set lengths")}}}function OZ(r,e,t=!1){let n=[],i=t?[]:null,a=new Tg(r),o=new Tg(e);for(let s=!1;;){if(a.done&&o.done)return i?bi.createSet(n,i):Yl.create(n);if(a.ins==0)pa(n,a.len,0,s),a.next();else if(o.len==0&&!o.done)pa(n,0,o.ins,s),i&&jc(i,n,o.text),o.next();else{if(a.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(a.len2,o.len),u=n.length;if(a.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;pa(n,l,c,s),i&&c&&jc(i,n,o.text)}else o.ins==-1?(pa(n,a.off?0:a.len,l,s),i&&jc(i,n,a.textBit(l))):(pa(n,a.off?0:a.len,o.off?0:o.ins,s),i&&!o.off&&jc(i,n,o.text));s=(a.ins>l||o.ins>=0&&o.len>l)&&(s||n.length>u),a.forward2(l),o.forward(l)}}}}class Tg{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Wr.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?Wr.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}let xb=class GD{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new GD(n,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Ye.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Ye.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ye.range(e.anchor,e.head)}static create(e,t,n){return new GD(e,t,n)}};class Ye{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Ye.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ye([this.main],0)}addRange(e,t=!0){return Ye.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,Ye.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ye(e.ranges.map(t=>xb.fromJSON(t)),e.main)}static single(e,t=e){return new Ye([Ye.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let a=e[i];if(a.empty?a.from<=n:a.from<n)return Ye.normalized(e.slice(),t);n=a.to}return new Ye(e,t)}static cursor(e,t=0,n,i){return xb.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(e,t,n,i){let a=(n??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?xb.create(t,e,48|a):xb.create(e,t,(t>e?8:0)|a)}static normalized(e,t=0){let n=e[t];e.sort((i,a)=>i.from-a.from),t=e.indexOf(n);for(let i=1;i<e.length;i++){let a=e[i],o=e[i-1];if(a.empty?a.from<=o.to:a.from<o.to){let s=o.from,l=Math.max(a.to,o.to);i<=t&&t--,e.splice(--i,2,a.anchor>a.head?Ye.range(l,s):Ye.range(s,l))}}return new Ye(e,t)}}function yZ(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let cN=0;class Mt{constructor(e,t,n,i,a){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.id=cN++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new Mt(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:fN),!!e.static,e.enables)}of(e){return new y0([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new y0(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new y0(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function fN(r,e){return r==e||r.length==e.length&&r.every((t,n)=>t===e[n])}class y0{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=cN++}dynamicSlot(e){var t;let n=this.value,i=this.facet.compareInput,a=this.id,o=e[a]>>1,s=this.type==2,l=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?u=!0:((t=e[h.id])!==null&&t!==void 0?t:1)&1||c.push(e[h.id]);return{create(h){return h.values[o]=n(h),1},update(h,p){if(l&&p.docChanged||u&&(p.docChanged||p.selection)||KD(h,c)){let g=n(h);if(s?!U_(g,h.values[o],i):!i(g,h.values[o]))return h.values[o]=g,1}return 0},reconfigure:(h,p)=>{let g,O=p.config.address[a];if(O!=null){let T=lw(p,O);if(this.dependencies.every(M=>M instanceof Mt?p.facet(M)===h.facet(M):M instanceof Ri?p.field(M,!1)==h.field(M,!1):!0)||(s?U_(g=n(h),T,i):i(g=n(h),T)))return h.values[o]=T,0}else g=n(h);return h.values[o]=g,1}}}}function U_(r,e,t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!t(r[n],e[n]))return!1;return!0}function KD(r,e){let t=!1;for(let n of e)ig(r,n)&1&&(t=!0);return t}function mwe(r,e,t){let n=t.map(l=>r[l.id]),i=t.map(l=>l.type),a=n.filter(l=>!(l&1)),o=r[e.id]>>1;function s(l){let u=[];for(let c=0;c<n.length;c++){let h=lw(l,n[c]);if(i[c]==2)for(let p of h)u.push(p);else u.push(h)}return e.combine(u)}return{create(l){for(let u of n)ig(l,u);return l.values[o]=s(l),1},update(l,u){if(!KD(l,a))return 0;let c=s(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=KD(l,n),h=u.config.facets[e.id],p=u.facet(e);if(h&&!c&&fN(t,h))return l.values[o]=p,0;let g=s(l);return e.compare(g,p)?(l.values[o]=p,0):(l.values[o]=g,1)}}}const Cb=Mt.define({static:!0});class Ri{constructor(e,t,n,i,a){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=a,this.provides=void 0}static define(e){let t=new Ri(cN++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Cb).find(n=>n.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,i)=>{let a=n.values[t],o=this.updateF(a,i);return this.compareF(a,o)?0:(n.values[t]=o,1)},reconfigure:(n,i)=>{let a=n.facet(Cb),o=i.facet(Cb),s;return(s=a.find(l=>l.field==this))&&s!=o.find(l=>l.field==this)?(n.values[t]=s.create(n),1):i.config.address[this.id]!=null?(n.values[t]=i.field(this),0):(n.values[t]=this.create(n),1)}}}init(e){return[this,Cb.of({field:this,create:e})]}get extension(){return this}}const ch={lowest:4,low:3,default:2,high:1,highest:0};function yv(r){return e=>new bZ(e,r)}const wf={highest:yv(ch.highest),high:yv(ch.high),default:yv(ch.default),low:yv(ch.low),lowest:yv(ch.lowest)};class bZ{constructor(e,t){this.inner=e,this.prec=t}}class P1{of(e){return new JD(this,e)}reconfigure(e){return P1.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class JD{constructor(e,t){this.compartment=e,this.inner=t}}let X_=class wZ{constructor(e,t,n,i,a,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=i,this.staticValues=a,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let i=[],a=Object.create(null),o=new Map;for(let p of vwe(e,t,o))p instanceof Ri?i.push(p):(a[p.facet.id]||(a[p.facet.id]=[])).push(p);let s=Object.create(null),l=[],u=[];for(let p of i)s[p.id]=u.length<<1,u.push(g=>p.slot(g));let c=n==null?void 0:n.config.facets;for(let p in a){let g=a[p],O=g[0].facet,T=c&&c[p]||[];if(g.every(M=>M.type==0))if(s[O.id]=l.length<<1|1,fN(T,g))l.push(n.facet(O));else{let M=O.combine(g.map(R=>R.value));l.push(n&&O.compare(M,n.facet(O))?n.facet(O):M)}else{for(let M of g)M.type==0?(s[M.id]=l.length<<1|1,l.push(M.value)):(s[M.id]=u.length<<1,u.push(R=>M.dynamicSlot(R)));s[O.id]=u.length<<1,u.push(M=>mwe(M,O,g))}}let h=u.map(p=>p(s));return new wZ(e,o,h,s,l,a)}};function vwe(r,e,t){let n=[[],[],[],[],[]],i=new Map;function a(o,s){let l=i.get(o);if(l!=null){if(l<=s)return;let u=n[l].indexOf(o);u>-1&&n[l].splice(u,1),o instanceof JD&&t.delete(o.compartment)}if(i.set(o,s),Array.isArray(o))for(let u of o)a(u,s);else if(o instanceof JD){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;t.set(o.compartment,u),a(u,s)}else if(o instanceof bZ)a(o.inner,o.prec);else if(o instanceof Ri)n[s].push(o),o.provides&&a(o.provides,s);else if(o instanceof y0)n[s].push(o),o.facet.extensions&&a(o.facet.extensions,ch.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(u,s)}}return a(r,ch.default),n.reduce((o,s)=>o.concat(s))}function ig(r,e){if(e&1)return 2;let t=e>>1,n=r.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;r.status[t]=4;let i=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|i}function lw(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const kZ=Mt.define(),eP=Mt.define({combine:r=>r.some(e=>e),static:!0}),SZ=Mt.define({combine:r=>r.length?r[0]:void 0,static:!0}),xZ=Mt.define(),CZ=Mt.define(),TZ=Mt.define(),EZ=Mt.define({combine:r=>r.length?r[0]:!1});class lc{constructor(e,t){this.type=e,this.value=t}static define(){return new gwe}}class gwe{of(e){return new lc(this,e)}}class Owe{constructor(e){this.map=e}of(e){return new fr(this,e)}}class fr{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new fr(this.type,t)}is(e){return this.type==e}static define(e={}){return new Owe(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let i of e){let a=i.map(t);a&&n.push(a)}return n}}fr.reconfigure=fr.define();fr.appendConfig=fr.define();let La=class Iv{constructor(e,t,n,i,a,o){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=a,this.scrollIntoView=o,this._doc=null,this._state=null,n&&yZ(n,t.newLength),a.some(s=>s.type==Iv.time)||(this.annotations=a.concat(Iv.time.of(Date.now())))}static create(e,t,n,i,a,o){return new Iv(e,t,n,i,a,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Iv.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}};La.time=lc.define();La.userEvent=lc.define();La.addToHistory=lc.define();La.remote=lc.define();function ywe(r,e){let t=[];for(let n=0,i=0;;){let a,o;if(n<r.length&&(i==e.length||e[i]>=r[n]))a=r[n++],o=r[n++];else if(i<e.length)a=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<a?t.push(a,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function MZ(r,e,t){var n;let i,a,o;return t?(i=e.changes,a=bi.empty(e.changes.length),o=r.changes.compose(e.changes)):(i=e.changes.map(r.changes),a=r.changes.mapDesc(e.changes,!0),o=r.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(a):(n=r.selection)===null||n===void 0?void 0:n.map(i),effects:fr.mapEffects(r.effects,i).concat(fr.mapEffects(e.effects,a)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function tP(r,e,t){let n=e.selection,i=dp(e.annotations);return e.userEvent&&(i=i.concat(La.userEvent.of(e.userEvent))),{changes:e.changes instanceof bi?e.changes:bi.of(e.changes||[],t,r.facet(SZ)),selection:n&&(n instanceof Ye?n:Ye.single(n.anchor,n.head)),effects:dp(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function AZ(r,e,t){let n=tP(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(t=!1);let o=!!e[a].sequential;n=MZ(n,tP(r,e[a],o?n.changes.newLength:r.doc.length),o)}let i=La.create(r,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return wwe(t?bwe(i):i)}function bwe(r){let e=r.startState,t=!0;for(let i of e.facet(xZ)){let a=i(r);if(a===!1){t=!1;break}Array.isArray(a)&&(t=t===!0?a:ywe(t,a))}if(t!==!0){let i,a;if(t===!1)a=r.changes.invertedDesc,i=bi.empty(e.doc.length);else{let o=r.changes.filter(t);i=o.changes,a=o.filtered.mapDesc(o.changes).invertedDesc}r=La.create(e,i,r.selection&&r.selection.map(a),fr.mapEffects(r.effects,a),r.annotations,r.scrollIntoView)}let n=e.facet(CZ);for(let i=n.length-1;i>=0;i--){let a=n[i](r);a instanceof La?r=a:Array.isArray(a)&&a.length==1&&a[0]instanceof La?r=a[0]:r=AZ(e,dp(a),!1)}return r}function wwe(r){let e=r.startState,t=e.facet(TZ),n=r;for(let i=t.length-1;i>=0;i--){let a=t[i](r);a&&Object.keys(a).length&&(n=MZ(n,tP(e,a,r.changes.newLength),!0))}return n==r?r:La.create(e,r.changes,r.selection,n.effects,n.annotations,n.scrollIntoView)}const kwe=[];function dp(r){return r==null?kwe:Array.isArray(r)?r:[r]}var An=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(An||(An={}));const Swe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let rP;try{rP=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function xwe(r){if(rP)return rP.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>"Â"&&(t.toUpperCase()!=t.toLowerCase()||Swe.test(t)))return!0}return!1}function Cwe(r){return e=>{if(!/\S/.test(e))return An.Space;if(xwe(e))return An.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return An.Word;return An.Other}}let Kn=class nl{constructor(e,t,n,i,a,o){this.config=e,this.doc=t,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=a,o&&(o._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)ig(this,s<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return ig(this,n),lw(this,n)}update(...e){return AZ(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:i}=t;for(let s of e.effects)s.is(P1.reconfigure)?(t&&(i=new Map,t.compartments.forEach((l,u)=>i.set(u,l)),t=null),i.set(s.value.compartment,s.value.extension)):s.is(fr.reconfigure)?(t=null,n=s.value):s.is(fr.appendConfig)&&(t=null,n=dp(n).concat(s.value));let a;t?a=e.startState.values.slice():(t=X_.resolve(n,i,this),a=new nl(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(eP)?e.newSelection:e.newSelection.asSingle();new nl(t,e.newDoc,o,a,(s,l)=>l.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Ye.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),i=this.changes(n.changes),a=[n.range],o=dp(n.effects);for(let s=1;s<t.ranges.length;s++){let l=e(t.ranges[s]),u=this.changes(l.changes),c=u.map(i);for(let p=0;p<s;p++)a[p]=a[p].map(c);let h=i.mapDesc(u,!0);a.push(l.range.map(h)),i=i.compose(c),o=fr.mapEffects(o,c).concat(fr.mapEffects(dp(l.effects),h))}return{changes:i,selection:Ye.create(a,t.mainIndex),effects:o}}changes(e=[]){return e instanceof bi?e:bi.of(e,this.doc.length,this.facet(nl.lineSeparator))}toText(e){return Wr.of(e.split(this.facet(nl.lineSeparator)||XD))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(ig(this,t),lw(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof Ri&&this.config.address[i.id]!=null&&(t[n]=i.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let a in n)if(Object.prototype.hasOwnProperty.call(e,a)){let o=n[a],s=e[a];i.push(o.init(l=>o.spec.fromJSON(s,l)))}}return nl.create({doc:e.doc,selection:Ye.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=X_.resolve(e.extensions||[],new Map),n=e.doc instanceof Wr?e.doc:Wr.of((e.doc||"").split(t.staticFacet(nl.lineSeparator)||XD)),i=e.selection?e.selection instanceof Ye?e.selection:Ye.single(e.selection.anchor,e.selection.head):Ye.single(0);return yZ(i,n.length),t.staticFacet(eP)||(i=i.asSingle()),new nl(t,n,i,t.dynamicSlots.map(()=>null),(a,o)=>o.create(a),null)}get tabSize(){return this.facet(nl.tabSize)}get lineBreak(){return this.facet(nl.lineSeparator)||`
`}get readOnly(){return this.facet(EZ)}phrase(e,...t){for(let n of this.facet(nl.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let a=+(i||1);return!a||a>t.length?n:t[a-1]})),e}languageDataAt(e,t,n=-1){let i=[];for(let a of this.facet(kZ))for(let o of a(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return Cwe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:i}=this.doc.lineAt(e),a=this.charCategorizer(e),o=e-n,s=e-n;for(;o>0;){let l=Gi(t,o,!1);if(a(t.slice(l,o))!=An.Word)break;o=l}for(;s<i;){let l=Gi(t,s);if(a(t.slice(s,l))!=An.Word)break;s=l}return o==s?null:Ye.range(o+n,s+n)}};Kn.allowMultipleSelections=eP;Kn.tabSize=Mt.define({combine:r=>r.length?r[0]:4});Kn.lineSeparator=SZ;Kn.readOnly=EZ;Kn.phrases=Mt.define({compare(r,e){let t=Object.keys(r),n=Object.keys(e);return t.length==n.length&&t.every(i=>r[i]==e[i])}});Kn.languageData=kZ;Kn.changeFilter=xZ;Kn.transactionFilter=CZ;Kn.transactionExtender=TZ;P1.reconfigure=fr.define();function su(r,e,t={}){let n={};for(let i of r)for(let a of Object.keys(i)){let o=i[a],s=n[a];if(s===void 0)n[a]=o;else if(!(s===o||o===void 0))if(Object.hasOwnProperty.call(t,a))n[a]=t[a](s,o);else throw new Error("Config merge conflict for field "+a)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class Eh{eq(e){return this==e}range(e,t=e){return nP.create(e,t,this)}}Eh.prototype.startSide=Eh.prototype.endSide=0;Eh.prototype.point=!1;Eh.prototype.mapMode=Yi.TrackDel;let nP=class DZ{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new DZ(e,t,n)}};function iP(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class hN{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,i=0){let a=n?this.to:this.from;for(let o=i,s=a.length;;){if(o==s)return o;let l=o+s>>1,u=a[l]-e||(n?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return u>=0?o:s;u>=0?s=l:o=l+1}}between(e,t,n,i){for(let a=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,a);a<o;a++)if(i(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,t){let n=[],i=[],a=[],o=-1,s=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,h=this.to[l]+e,p,g;if(c==h){let O=t.mapPos(c,u.startSide,u.mapMode);if(O==null||(p=g=O,u.startSide!=u.endSide&&(g=t.mapPos(c,u.endSide),g<p)))continue}else if(p=t.mapPos(c,u.startSide),g=t.mapPos(h,u.endSide),p>g||p==g&&u.startSide>0&&u.endSide<=0)continue;(g-p||u.endSide-u.startSide)<0||(o<0&&(o=p),u.point&&(s=Math.max(s,g-p)),n.push(u),i.push(p-o),a.push(g-o))}return{mapped:n.length?new hN(i,a,n,s):null,pos:o}}}class qr{constructor(e,t,n,i){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}static create(e,t,n,i){return new qr(e,t,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:i=0,filterTo:a=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(n&&(t=t.slice().sort(iP)),this.isEmpty)return t.length?qr.of(t):this;let s=new PZ(this,null,-1).goto(0),l=0,u=[],c=new Ju;for(;s.value||l<t.length;)if(l<t.length&&(s.from-t[l].from||s.startSide-t[l].value.startSide)>=0){let h=t[l++];c.addInner(h.from,h.to,h.value)||u.push(h)}else s.rangeIndex==1&&s.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(s.chunkIndex)<t[l].from)&&(!o||i>this.chunkEnd(s.chunkIndex)||a<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||i>s.to||a<s.from||o(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||u.push(nP.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?qr.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],i=-1;for(let o=0;o<this.chunk.length;o++){let s=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(s,s+l.length);if(u===!1)i=Math.max(i,l.maxPoint),t.push(l),n.push(e.mapPos(s));else if(u===!0){let{mapped:c,pos:h}=l.map(s,e);c&&(i=Math.max(i,c.maxPoint),t.push(c),n.push(h))}}let a=this.nextLayer.map(e);return t.length==0?a:new qr(n,t,a||qr.empty,i)}between(e,t,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let a=this.chunkPos[i],o=this.chunk[i];if(t>=a&&e<=a+o.length&&o.between(a,e-a,t-a,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return Eg.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Eg.from(e).goto(t)}static compare(e,t,n,i,a=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=a),s=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=a),l=j_(o,s,n),u=new bv(o,l,a),c=new bv(s,l,a);n.iterGaps((h,p,g)=>Y_(u,h,c,p,g,i)),n.empty&&n.length==0&&Y_(u,0,c,0,0,i)}static eq(e,t,n=0,i){i==null&&(i=999999999);let a=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0),o=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(a.length!=o.length)return!1;if(!a.length)return!0;let s=j_(a,o),l=new bv(a,s,0).goto(n),u=new bv(o,s,0).goto(n);for(;;){if(l.to!=u.to||!aP(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,t,n,i,a=-1){let o=new bv(e,null,a).goto(t),s=t,l=o.openStart;for(;;){let u=Math.min(o.to,n);if(o.point){let c=o.activeForPoint(o.to),h=o.pointFrom<t?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);i.point(s,u,o.point,c,h,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>s&&(i.span(s,u,o.active,l),l=o.openEnd(u));if(o.to>n)return l+(o.point&&o.to>n?1:0);s=o.to,o.next()}}static of(e,t=!1){let n=new Ju;for(let i of e instanceof nP?[e]:t?Twe(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return qr.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=qr.empty;i=i.nextLayer)t=new qr(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}qr.empty=new qr([],[],null,-1);function Twe(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let n=r[t];if(iP(e,n)>0)return r.slice().sort(iP);e=n}return r}qr.empty.nextLayer=qr.empty;class Ju{finishChunk(e){this.chunks.push(new hN(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Ju)).add(e,t,n)}addInner(e,t,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(qr.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=qr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function j_(r,e,t){let n=new Map;for(let a of r)for(let o=0;o<a.chunk.length;o++)a.chunk[o].maxPoint<=0&&n.set(a.chunk[o],a.chunkPos[o]);let i=new Set;for(let a of e)for(let o=0;o<a.chunk.length;o++){let s=n.get(a.chunk[o]);s!=null&&(t?t.mapPos(s):s)==a.chunkPos[o]&&!(t!=null&&t.touchesRange(s,s+a.chunk[o].length))&&i.add(a.chunk[o])}return i}class PZ{constructor(e,t,n,i=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Eg{constructor(e){this.heap=e}static from(e,t=null,n=-1){let i=[];for(let a=0;a<e.length;a++)for(let o=e[a];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&i.push(new PZ(o,t,n,a));return i.length==1?i[0]:new Eg(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)jM(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)jM(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),jM(this.heap,0)}}}function jM(r,e){for(let t=r[e];;){let n=(e<<1)+1;if(n>=r.length)break;let i=r[n];if(n+1<r.length&&i.compare(r[n+1])>=0&&(i=r[n+1],n++),t.compare(i)<0)break;r[n]=t,r[e]=i,e=n}}class bv{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Eg.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Tb(this.active,e),Tb(this.activeTo,e),Tb(this.activeRank,e),this.minActive=G_(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:i,rank:a}=this.cursor;for(;t<this.activeRank.length&&(a-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Eb(this.active,t,n),Eb(this.activeTo,t,i),Eb(this.activeRank,t,a),e&&Eb(e,t,this.cursor.from),this.minActive=G_(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Tb(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Y_(r,e,t,n,i,a){r.goto(e),t.goto(n);let o=n+i,s=n,l=n-e;for(;;){let u=r.to+l-t.to,c=u||r.endSide-t.endSide,h=c<0?r.to+l:t.to,p=Math.min(h,o);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&aP(r.activeForPoint(r.to),t.activeForPoint(t.to))||a.comparePoint(s,p,r.point,t.point):p>s&&!aP(r.active,t.active)&&a.compareRange(s,p,r.active,t.active),h>o)break;(u||r.openEnd!=t.openEnd)&&a.boundChange&&a.boundChange(h),s=h,c<=0&&r.next(),c>=0&&t.next()}}function aP(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function Tb(r,e){for(let t=e,n=r.length-1;t<n;t++)r[t]=r[t+1];r.pop()}function Eb(r,e,t){for(let n=r.length-1;n>=e;n--)r[n+1]=r[n];r[e]=t}function G_(r,e){let t=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||r[i].endSide-r[t].endSide)<0&&(t=i,n=e[i]);return t}function im(r,e,t=r.length){let n=0;for(let i=0;i<t&&i<r.length;)r.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=Gi(r,i));return n}function oP(r,e,t,n){for(let i=0,a=0;;){if(a>=e)return i;if(i==r.length)break;a+=r.charCodeAt(i)==9?t-a%t:1,i=Gi(r,i)}return n===!0?-1:r.length}const sP="Í¼",K_=typeof Symbol>"u"?"__"+sP:Symbol.for(sP),lP=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class mf{constructor(e,t){this.rules=[];let{finish:n}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function a(o,s,l,u){let c=[],h=/^@(\w+)\b/.exec(o[0]),p=h&&h[1]=="keyframes";if(h&&s==null)return l.push(o[0]+";");for(let g in s){let O=s[g];if(/&/.test(g))a(g.split(/,\s*/).map(T=>o.map(M=>T.replace(/&/,M))).reduce((T,M)=>T.concat(M)),O,l);else if(O&&typeof O=="object"){if(!h)throw new RangeError("The value of a property ("+g+") should be a primitive value.");a(i(g),O,c,p)}else O!=null&&c.push(g.replace(/_.*/,"").replace(/[A-Z]/g,T=>"-"+T.toLowerCase())+": "+O+";")}(c.length||p)&&l.push((n&&!h&&!u?o.map(n):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)a(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=J_[K_]||1;return J_[K_]=e+1,sP+e.toString(36)}static mount(e,t,n){let i=e[lP],a=n&&n.nonce;i?a&&i.setNonce(a):i=new Ewe(e,a),i.mount(Array.isArray(t)?t:[t],e)}}let eI=new Map;class Ewe{constructor(e,t){let n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let a=eI.get(n);if(a)return e[lP]=a;this.sheet=new i.CSSStyleSheet,eI.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[lP]=this}mount(e,t){let n=this.sheet,i=0,a=0;for(let o=0;o<e.length;o++){let s=e[o],l=this.modules.indexOf(s);if(l<a&&l>-1&&(this.modules.splice(l,1),a--,l=-1),l==-1){if(this.modules.splice(a++,0,s),n)for(let u=0;u<s.rules.length;u++)n.insertRule(s.rules[u],i++)}else{for(;a<l;)i+=this.modules[a++].rules.length;i+=s.rules.length,a++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let s=t.head||t;this.styleTag.parentNode!=s&&s.insertBefore(this.styleTag,s.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ec={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Mg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Mwe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Awe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Xi=0;Xi<10;Xi++)ec[48+Xi]=ec[96+Xi]=String(Xi);for(var Xi=1;Xi<=24;Xi++)ec[Xi+111]="F"+Xi;for(var Xi=65;Xi<=90;Xi++)ec[Xi]=String.fromCharCode(Xi+32),Mg[Xi]=String.fromCharCode(Xi);for(var YM in ec)Mg.hasOwnProperty(YM)||(Mg[YM]=ec[YM]);function RZ(r){var e=Mwe&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||Awe&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?Mg:ec)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Ag(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function uP(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function b0(r,e){if(!e.anchorNode)return!1;try{return uP(r,e.anchorNode)}catch{return!1}}function Dg(r){return r.nodeType==3?Ah(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function ag(r,e,t,n){return t?tI(r,e,t,n,-1)||tI(r,e,t,n,1):!1}function Mh(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function uw(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function tI(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:ru(r))){if(r.nodeName=="DIV")return!1;let a=r.parentNode;if(!a||a.nodeType!=1)return!1;e=Mh(r)+(i<0?0:1),r=a}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=i<0?ru(r):0}else return!1}}function ru(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function R1(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function Dwe(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function NZ(r,e){let t=e.width/r.offsetWidth,n=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-r.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function Pwe(r,e,t,n,i,a,o,s){let l=r.ownerDocument,u=l.defaultView||window;for(let c=r,h=!1;c&&!h;)if(c.nodeType==1){let p,g=c==l.body,O=1,T=1;if(g)p=Dwe(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let z=c.getBoundingClientRect();({scaleX:O,scaleY:T}=NZ(c,z)),p={left:z.left,right:z.left+c.clientWidth*O,top:z.top,bottom:z.top+c.clientHeight*T}}let M=0,R=0;if(i=="nearest")e.top<p.top?(R=-(p.top-e.top+o),t>0&&e.bottom>p.bottom+R&&(R=e.bottom-p.bottom+R+o)):e.bottom>p.bottom&&(R=e.bottom-p.bottom+o,t<0&&e.top-R<p.top&&(R=-(p.top+R-e.top+o)));else{let z=e.bottom-e.top,U=p.bottom-p.top;R=(i=="center"&&z<=U?e.top+z/2-U/2:i=="start"||i=="center"&&t<0?e.top-o:e.bottom-U+o)-p.top}if(n=="nearest"?e.left<p.left?(M=-(p.left-e.left+a),t>0&&e.right>p.right+M&&(M=e.right-p.right+M+a)):e.right>p.right&&(M=e.right-p.right+a,t<0&&e.left<p.left+M&&(M=-(p.left+M-e.left+a))):M=(n=="center"?e.left+(e.right-e.left)/2-(p.right-p.left)/2:n=="start"==s?e.left-a:e.right-(p.right-p.left)+a)-p.left,M||R)if(g)u.scrollBy(M,R);else{let z=0,U=0;if(R){let G=c.scrollTop;c.scrollTop+=R/T,U=(c.scrollTop-G)*T}if(M){let G=c.scrollLeft;c.scrollLeft+=M/O,z=(c.scrollLeft-G)*O}e={left:e.left-z,top:e.top-U,right:e.right-z,bottom:e.bottom-U},z&&Math.abs(z-M)<1&&(n="nearest"),U&&Math.abs(U-R)<1&&(i="nearest")}if(g)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function Rwe(r){let e=r.ownerDocument,t,n;for(let i=r.parentNode;i&&!(i==e.body||t&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:n}}class Nwe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?ru(t):0),n,Math.min(e.focusOffset,n?ru(n):0))}set(e,t,n,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=i}}let Zd=null;function $Z(r){if(r.setActive)return r.setActive();if(Zd)return r.focus(Zd);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(Zd==null?{get preventScroll(){return Zd={preventScroll:!0},!0}}:void 0),!Zd){Zd=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],a=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=a&&(n.scrollLeft=a)}}}let rI;function Ah(r,e,t=e){let n=rI||(rI=document.createRange());return n.setEnd(r,t),n.setStart(r,e),n}function pp(r,e,t,n){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let a=new KeyboardEvent("keydown",i);a.synthetic=!0,r.dispatchEvent(a);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,r.dispatchEvent(o),a.defaultPrevented||o.defaultPrevented}function $we(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function LZ(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function Lwe(r,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,ru(t));;)if(n){if(t.nodeType!=1)return!1;let i=t.childNodes[n-1];i.contentEditable=="false"?n--:(t=i,n=ru(t))}else{if(t==r)return!0;n=Mh(t),t=t.parentNode}}function _Z(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function IZ(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n>0)return{node:t,offset:n};if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=ru(t)}else if(t.parentNode&&!uw(t))n=Mh(t),t=t.parentNode;else return null}}function QZ(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n<t.nodeValue.length)return{node:t,offset:n};if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!uw(t))n=Mh(t)+1,t=t.parentNode;else return null}}class va{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new va(e.parentNode,Mh(e),t)}static after(e,t){return new va(e.parentNode,Mh(e)+1,t)}}const dN=[];class hn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let n=this.dom,i=null,a;for(let o of this.children){if(o.flags&7){if(!o.dom&&(a=i?i.nextSibling:n.firstChild)){let s=hn.get(a);(!s||!s.parent&&s.canReuseDOM(o))&&o.reuseDOM(a)}o.sync(e,t),o.flags&=-8}if(a=i?i.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&a!=o.dom&&(t.written=!0),o.dom.parentNode==n)for(;a&&a!=o.dom;)a=nI(a);else n.insertBefore(o.dom,a);i=o.dom}for(a=i?i.nextSibling:n.firstChild,a&&t&&t.node==n&&(t.written=!0);a;)a=nI(a)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let i=ru(e)==0?0:t==0?-1:1;for(;;){let a=e.parentNode;if(a==this.dom)break;i==0&&a.firstChild!=a.lastChild&&(e==a.firstChild?i=-1:i=1),e=a}i<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!hn.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,a=0;;i++){let o=this.children[i];if(o.dom==n)return a;a+=o.length+o.breakAfter}}domBoundsAround(e,t,n=0){let i=-1,a=-1,o=-1,s=-1;for(let l=0,u=n,c=n;l<this.children.length;l++){let h=this.children[l],p=u+h.length;if(u<e&&p>t)return h.domBoundsAround(e,t,u);if(p>=e&&i==-1&&(i=l,a=u),u>t&&h.dom.parentNode==this.dom){o=l,s=c;break}c=p,u=p+h.breakAfter}return{from:a,to:s<0?n+this.length:s,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=dN){this.markDirty();for(let i=e;i<t;i++){let a=this.children[i];a.parent==this&&n.indexOf(a)<0&&a.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new BZ(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,i,a,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}hn.prototype.breakAfter=0;function nI(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class BZ{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function qZ(r,e,t,n,i,a,o,s,l){let{children:u}=r,c=u.length?u[e]:null,h=a.length?a[a.length-1]:null,p=h?h.breakAfter:o;if(!(e==n&&c&&!o&&!p&&a.length<2&&c.merge(t,i,a.length?h:null,t==0,s,l))){if(n<u.length){let g=u[n];g&&(i<g.length||g.breakAfter&&(h!=null&&h.breakAfter))?(e==n&&(g=g.split(i),i=0),!p&&h&&g.merge(0,i,h,!0,0,l)?a[a.length-1]=g:((i||g.children.length&&!g.children[0].length)&&g.merge(0,i,null,!1,0,l),a.push(g))):g!=null&&g.breakAfter&&(h?h.breakAfter=1:o=1),n++}for(c&&(c.breakAfter=o,t>0&&(!o&&a.length&&c.merge(t,c.length,a[0],!1,s,0)?c.breakAfter=a.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,s,0),e++));e<n&&a.length;)if(u[n-1].become(a[a.length-1]))n--,a.pop(),l=a.length?0:s;else if(u[e].become(a[0]))e++,a.shift(),s=a.length?0:l;else break;!a.length&&e&&n<u.length&&!u[e-1].breakAfter&&u[n].merge(0,0,u[e-1],!1,s,l)&&e--,(e<n||a.length)&&r.replaceChildren(e,n,a)}}function FZ(r,e,t,n,i,a){let o=r.childCursor(),{i:s,off:l}=o.findPos(t,1),{i:u,off:c}=o.findPos(e,-1),h=e-t;for(let p of n)h+=p.length;r.length+=h,qZ(r,u,c,s,l,n,0,i,a)}let lo=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},cP=typeof document<"u"?document:{documentElement:{style:{}}};const fP=/Edge\/(\d+)/.exec(lo.userAgent),VZ=/MSIE \d/.test(lo.userAgent),hP=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(lo.userAgent),N1=!!(VZ||hP||fP),iI=!N1&&/gecko\/(\d+)/i.test(lo.userAgent),GM=!N1&&/Chrome\/(\d+)/.exec(lo.userAgent),aI="webkitFontSmoothing"in cP.documentElement.style,ZZ=!N1&&/Apple Computer/.test(lo.vendor),oI=ZZ&&(/Mobile\/\w+/.test(lo.userAgent)||lo.maxTouchPoints>2);var Tt={mac:oI||/Mac/.test(lo.platform),windows:/Win/.test(lo.platform),linux:/Linux|X11/.test(lo.platform),ie:N1,ie_version:VZ?cP.documentMode||6:hP?+hP[1]:fP?+fP[1]:0,gecko:iI,gecko_version:iI?+(/Firefox\/(\d+)/.exec(lo.userAgent)||[0,0])[1]:0,chrome:!!GM,chrome_version:GM?+GM[1]:0,ios:oI,android:/Android\b/.test(lo.userAgent),webkit:aI,safari:ZZ,webkit_version:aI?+(/\bAppleWebKit\/(\d+)/.exec(lo.userAgent)||[0,0])[1]:0,tabSize:cP.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const _we=256;class fl extends hn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return this.flags&8||n&&(!(n instanceof fl)||this.length-(t-e)+n.length>_we||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new fl(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new va(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Iwe(this.dom,e,t)}}class tc extends hn{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let i of t)i.setParent(this)}setAttrs(e){if(LZ(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,i,a,o){return n&&(!(n instanceof tc&&n.mark.eq(this.mark))||e&&a<=0||t<this.length&&o<=0)?!1:(FZ(this,e,t,n?n.children.slice():[],a-1,o-1),this.markDirty(),!0)}split(e){let t=[],n=0,i=-1,a=0;for(let s of this.children){let l=n+s.length;l>e&&t.push(n<e?s.split(e-n):s),i<0&&n>=e&&(i=a),n=l,a++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new tc(this.mark,t,o)}domAtPos(e){return zZ(this,e)}coordsAt(e,t){return WZ(this,e,t)}}function Iwe(r,e,t){let n=r.nodeValue.length;e>n&&(e=n);let i=e,a=e,o=0;e==0&&t<0||e==n&&t>=0?Tt.chrome||Tt.gecko||(e?(i--,o=1):a<n&&(a++,o=-1)):t<0?i--:a<n&&a++;let s=Ah(r,i,a).getClientRects();if(!s.length)return null;let l=s[(o?o<0:t>=0)?0:s.length-1];return Tt.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(s,u=>u.width)||l),o?R1(l,o<0):l||null}class Yc extends hn{static create(e,t,n){return new Yc(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=Yc.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,i,a,o){return n&&(!(n instanceof Yc)||!this.widget.compare(n.widget)||e>0&&a<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof Yc&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Wr.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):Wr.empty}domAtPos(e){return(this.length?e==0:this.side>0)?va.before(this.dom):va.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let i=this.dom.getClientRects(),a=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let s=o?i.length-1:0;a=i[s],!(e>0?s==0:s==i.length-1||a.top<a.bottom);s+=o?-1:1);return R1(a,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Mp extends hn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Mp&&e.side==this.side}split(){return new Mp(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?va.before(this.dom):va.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Wr.empty}get isHidden(){return!0}}fl.prototype.children=Yc.prototype.children=Mp.prototype.children=dN;function zZ(r,e){let t=r.dom,{children:n}=r,i=0;for(let a=0;i<n.length;i++){let o=n[i],s=a+o.length;if(!(s==a&&o.getSide()<=0)){if(e>a&&e<s&&o.dom.parentNode==t)return o.domAtPos(e-a);if(e<=a)break;a=s}}for(let a=i;a>0;a--){let o=n[a-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let a=i;a<n.length;a++){let o=n[a];if(o.dom.parentNode==t)return o.domAtPos(0)}return new va(t,0)}function HZ(r,e,t){let n,{children:i}=r;t>0&&e instanceof tc&&i.length&&(n=i[i.length-1])instanceof tc&&n.mark.eq(e.mark)?HZ(n,e.children[0],t-1):(i.push(e),e.setParent(r)),r.length+=e.length}function WZ(r,e,t){let n=null,i=-1,a=null,o=-1;function s(u,c){for(let h=0,p=0;h<u.children.length&&p<=c;h++){let g=u.children[h],O=p+g.length;O>=c&&(g.children.length?s(g,c-p):(!a||a.isHidden&&t>0)&&(O>c||p==O&&g.getSide()>0)?(a=g,o=c-p):(p<c||p==O&&g.getSide()<0&&!g.isHidden)&&(n=g,i=c-p)),p=O}}s(r,e);let l=(t<0?n:a)||n||a;return l?l.coordsAt(Math.max(0,l==n?i:o),t):Qwe(r)}function Qwe(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=Dg(e);return t[t.length-1]||null}function dP(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const sI=Object.create(null);function cw(r,e,t){if(r==e)return!0;r||(r=sI),e||(e=sI);let n=Object.keys(r),i=Object.keys(e);if(n.length-(t&&n.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let a of n)if(a!=t&&(i.indexOf(a)==-1||r[a]!==e[a]))return!1;return!0}function pP(r,e,t){let n=!1;if(e)for(let i in e)t&&i in t||(n=!0,i=="style"?r.style.cssText="":r.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(n=!0,i=="style"?r.style.cssText=t[i]:r.setAttribute(i,t[i]));return n}function Bwe(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let n=r.attributes[t];e[n.name]=n.value}return e}let uc=class{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}};var _a=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(_a||(_a={}));let jt=class extends Eh{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new sO(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new vf(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:a,end:o}=UZ(e,t);n=(a?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new vf(e,n,i,t,e.widget||null,!0)}static line(e){return new lO(e)}static set(e,t=!1){return qr.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};jt.none=qr.empty;class sO extends jt{constructor(e){let{start:t,end:n}=UZ(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof sO&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&cw(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}sO.prototype.point=!1;class lO extends jt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof lO&&this.spec.class==e.spec.class&&cw(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}lO.prototype.mapMode=Yi.TrackBefore;lO.prototype.point=!0;class vf extends jt{constructor(e,t,n,i,a,o){super(t,n,a,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?Yi.TrackBefore:Yi.TrackAfter:Yi.TrackDel}get type(){return this.startSide!=this.endSide?_a.WidgetRange:this.startSide<=0?_a.WidgetBefore:_a.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof vf&&qwe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}vf.prototype.point=!0;function UZ(r,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=r;return t==null&&(t=r.inclusive),n==null&&(n=r.inclusive),{start:t??e,end:n??e}}function qwe(r,e){return r==e||!!(r&&e&&r.compare(e))}function w0(r,e,t,n=0){let i=t.length-1;i>=0&&t[i]+n>=r?t[i]=Math.max(t[i],e):t.push(r,e)}class si extends hn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,i,a,o){if(n){if(!(n instanceof si))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),FZ(this,e,t,n?n.children.slice():[],a,o),!0}split(e){let t=new si;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:i}=this.childPos(e);i&&(t.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let a=n;a<this.children.length;a++)t.append(this.children[a],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){cw(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){HZ(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=dP(t,this.attrs||{})),n&&(this.attrs=dP({class:n},this.attrs||{}))}domAtPos(e){return zZ(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?this.flags&4&&(LZ(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(pP(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&hn.get(i)instanceof tc;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((n=hn.get(i))===null||n===void 0?void 0:n.isEditable)==!1&&(!Tt.ios||!this.children.some(a=>a instanceof fl))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let n of this.children){if(!(n instanceof fl)||/[^ -~]/.test(n.text))return null;let i=Dg(n.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let n=WZ(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:i}=this.parent.view.viewState,a=n.bottom-n.top;if(Math.abs(a-i.lineHeight)<2&&i.textHeight<a){let o=(a-i.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return e instanceof si&&this.children.length==0&&e.children.length==0&&cw(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,i=0;n<e.children.length;n++){let a=e.children[n],o=i+a.length;if(o>=t){if(a instanceof si)return a;if(o>t)break}i=o+a.breakAfter}return null}}class Wu extends hn{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,i,a,o){return n&&(!(n instanceof Wu)||!this.widget.compare(n.widget)||e>0&&a<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?va.before(this.dom):va.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Wu(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return dN}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Wr.empty}domBoundsAround(){return null}become(e){return e instanceof Wu&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);return n||(this.widget instanceof mP?null:R1(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t==n?!1:e<0?t<0:n>0}}class mP extends uc{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class og{constructor(e,t,n,i){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Wu&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new si),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Mb(new Mp(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Wu)&&this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:o,done:s}=this.cursor.next(this.skip);if(this.skip=0,s)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=a,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Mb(new fl(this.text.slice(this.textOff,this.textOff+i)),t),n),this.atCursorPos=!0,this.textOff+=i,e-=i,n=0}}span(e,t,n,i){this.buildText(t-e,n,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,n,i,a,o){if(this.disallowBlockEffectsFor[o]&&n instanceof vf){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=t-e;if(n instanceof vf)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Wu(n.widget||Ap.block,s,n));else{let l=Yc.create(n.widget||Ap.inline,s,s?0:n.startSide),u=this.atCursorPos&&!l.isEditable&&a<=i.length&&(e<t||n.startSide>0),c=!l.isEditable&&(e<t||a>i.length||n.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(h.append(Mb(new Mp(1),i),a),a=i.length+Math.max(0,a-i.length)),h.append(Mb(l,i),a),this.atCursorPos=c,this.pendingBuffer=c?e<t||a>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=a)}static build(e,t,n,i,a){let o=new og(e,t,n,a);return o.openEnd=qr.spans(i,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Mb(r,e){for(let t of e)r=new tc(t,[r],r.length);return r}class Ap extends uc{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ap.inline=new Ap("span");Ap.block=new Ap("div");var Sn=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(Sn||(Sn={}));const Dh=Sn.LTR,pN=Sn.RTL;function XZ(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const Fwe=XZ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Vwe=XZ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),vP=Object.create(null),_l=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);vP[e]=t,vP[t]=-e}function jZ(r){return r<=247?Fwe[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?Vwe[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const Zwe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Gc{get dir(){return this.level%2?pN:Dh}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,i){let a=-1;for(let o=0;o<e.length;o++){let s=e[o];if(s.from<=t&&s.to>=t){if(s.level==n)return o;(a<0||(i!=0?i<0?s.from<t:s.to>t:e[a].level>s.level))&&(a=o)}}if(a<0)throw new RangeError("Index out of range");return a}}function YZ(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let n=r[t],i=e[t];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!YZ(n.inner,i.inner))return!1}return!0}const fn=[];function zwe(r,e,t,n,i){for(let a=0;a<=n.length;a++){let o=a?n[a-1].to:e,s=a<n.length?n[a].from:t,l=a?256:i;for(let u=o,c=l,h=l;u<s;u++){let p=jZ(r.charCodeAt(u));p==512?p=c:p==8&&h==4&&(p=16),fn[u]=p==4?2:p,p&7&&(h=p),c=p}for(let u=o,c=l,h=l;u<s;u++){let p=fn[u];if(p==128)u<s-1&&c==fn[u+1]&&c&24?p=fn[u]=c:fn[u]=256;else if(p==64){let g=u+1;for(;g<s&&fn[g]==64;)g++;let O=u&&c==8||g<t&&fn[g]==8?h==1?1:8:256;for(let T=u;T<g;T++)fn[T]=O;u=g-1}else p==8&&h==1&&(fn[u]=1);c=p,p&7&&(h=p)}}}function Hwe(r,e,t,n,i){let a=i==1?2:1;for(let o=0,s=0,l=0;o<=n.length;o++){let u=o?n[o-1].to:e,c=o<n.length?n[o].from:t;for(let h=u,p,g,O;h<c;h++)if(g=vP[p=r.charCodeAt(h)])if(g<0){for(let T=s-3;T>=0;T-=3)if(_l[T+1]==-g){let M=_l[T+2],R=M&2?i:M&4?M&1?a:i:0;R&&(fn[h]=fn[_l[T]]=R),s=T;break}}else{if(_l.length==189)break;_l[s++]=h,_l[s++]=p,_l[s++]=l}else if((O=fn[h])==2||O==1){let T=O==i;l=T?0:1;for(let M=s-3;M>=0;M-=3){let R=_l[M+2];if(R&2)break;if(T)_l[M+2]|=2;else{if(R&4)break;_l[M+2]|=4}}}}}function Wwe(r,e,t,n){for(let i=0,a=n;i<=t.length;i++){let o=i?t[i-1].to:r,s=i<t.length?t[i].from:e;for(let l=o;l<s;){let u=fn[l];if(u==256){let c=l+1;for(;;)if(c==s){if(i==t.length)break;c=t[i++].to,s=i<t.length?t[i].from:e}else if(fn[c]==256)c++;else break;let h=a==1,p=(c<e?fn[c]:n)==1,g=h==p?h?1:2:n;for(let O=c,T=i,M=T?t[T-1].to:r;O>l;)O==M&&(O=t[--T].from,M=T?t[T-1].to:r),fn[--O]=g;l=c}else a=u,l++}}}function gP(r,e,t,n,i,a,o){let s=n%2?2:1;if(n%2==i%2)for(let l=e,u=0;l<t;){let c=!0,h=!1;if(u==a.length||l<a[u].from){let T=fn[l];T!=s&&(c=!1,h=T==16)}let p=!c&&s==1?[]:null,g=c?n:n+1,O=l;e:for(;;)if(u<a.length&&O==a[u].from){if(h)break e;let T=a[u];if(!c)for(let M=T.to,R=u+1;;){if(M==t)break e;if(R<a.length&&a[R].from==M)M=a[R++].to;else{if(fn[M]==s)break e;break}}if(u++,p)p.push(T);else{T.from>l&&o.push(new Gc(l,T.from,g));let M=T.direction==Dh!=!(g%2);OP(r,M?n+1:n,i,T.inner,T.from,T.to,o),l=T.to}O=T.to}else{if(O==t||(c?fn[O]!=s:fn[O]==s))break;O++}p?gP(r,l,O,n+1,i,p,o):l<O&&o.push(new Gc(l,O,g)),l=O}else for(let l=t,u=a.length;l>e;){let c=!0,h=!1;if(!u||l>a[u-1].to){let T=fn[l-1];T!=s&&(c=!1,h=T==16)}let p=!c&&s==1?[]:null,g=c?n:n+1,O=l;e:for(;;)if(u&&O==a[u-1].to){if(h)break e;let T=a[--u];if(!c)for(let M=T.from,R=u;;){if(M==e)break e;if(R&&a[R-1].to==M)M=a[--R].from;else{if(fn[M-1]==s)break e;break}}if(p)p.push(T);else{T.to<l&&o.push(new Gc(T.to,l,g));let M=T.direction==Dh!=!(g%2);OP(r,M?n+1:n,i,T.inner,T.from,T.to,o),l=T.from}O=T.from}else{if(O==e||(c?fn[O-1]!=s:fn[O-1]==s))break;O--}p?gP(r,O,l,n+1,i,p,o):O<l&&o.push(new Gc(O,l,g)),l=O}}function OP(r,e,t,n,i,a,o){let s=e%2?2:1;zwe(r,i,a,n,s),Hwe(r,i,a,n,s),Wwe(i,a,n,s),gP(r,i,a,e,t,n,o)}function Uwe(r,e,t){if(!r)return[new Gc(0,0,e==pN?1:0)];if(e==Dh&&!t.length&&!Zwe.test(r))return GZ(r.length);if(t.length)for(;r.length>fn.length;)fn[fn.length]=256;let n=[],i=e==Dh?0:1;return OP(r,i,i,t,0,r.length,n),n}function GZ(r){return[new Gc(0,r,0)]}let KZ="";function Xwe(r,e,t,n,i){var a;let o=n.head-r.from,s=Gc.find(e,o,(a=n.bidiLevel)!==null&&a!==void 0?a:-1,n.assoc),l=e[s],u=l.side(i,t);if(o==u){let p=s+=i?1:-1;if(p<0||p>=e.length)return null;l=e[s=p],o=l.side(!i,t),u=l.side(i,t)}let c=Gi(r.text,o,l.forward(i,t));(c<l.from||c>l.to)&&(c=u),KZ=r.text.slice(Math.min(o,c),Math.max(o,c));let h=s==(i?e.length-1:0)?null:e[s+(i?1:-1)];return h&&c==u&&h.level+(i?0:1)<l.level?Ye.cursor(h.side(!i,t)+r.from,h.forward(i,t)?1:-1,h.level):Ye.cursor(c+r.from,l.forward(i,t)?-1:1,l.level)}function jwe(r,e,t){for(let n=e;n<t;n++){let i=jZ(r.charCodeAt(n));if(i==1)return Dh;if(i==2||i==4)return pN}return Dh}const JZ=Mt.define(),ez=Mt.define(),tz=Mt.define(),rz=Mt.define(),yP=Mt.define(),nz=Mt.define(),iz=Mt.define(),mN=Mt.define(),vN=Mt.define(),az=Mt.define({combine:r=>r.some(e=>e)}),oz=Mt.define({combine:r=>r.some(e=>e)}),sz=Mt.define();class mp{constructor(e,t="nearest",n="nearest",i=5,a=5,o=!1){this.range=e,this.y=t,this.x=n,this.yMargin=i,this.xMargin=a,this.isSnapshot=o}map(e){return e.empty?this:new mp(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new mp(Ye.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ab=fr.define({map:(r,e)=>r.map(e)}),lz=fr.define();function ho(r,e,t){let n=r.facet(rz);n.length?n[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Fu=Mt.define({combine:r=>r.length?r[0]:!0});let Ywe=0;const Qv=Mt.define();class ci{constructor(e,t,n,i,a){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=i,this.extension=a(this)}static define(e,t){const{eventHandlers:n,eventObservers:i,provide:a,decorations:o}=t||{};return new ci(Ywe++,e,n,i,s=>{let l=[Qv.of(s)];return o&&l.push(Pg.of(u=>{let c=u.plugin(s);return c?o(c):jt.none})),a&&l.push(a(s)),l})}static fromClass(e,t){return ci.define(n=>new e(n),t)}}class KM{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(ho(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){ho(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){ho(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const uz=Mt.define(),gN=Mt.define(),Pg=Mt.define(),cz=Mt.define(),ON=Mt.define(),fz=Mt.define();function lI(r,e){let t=r.state.facet(fz);if(!t.length)return t;let n=t.map(a=>a instanceof Function?a(r):a),i=[];return qr.spans(n,e.from,e.to,{point(){},span(a,o,s,l){let u=a-e.from,c=o-e.from,h=i;for(let p=s.length-1;p>=0;p--,l--){let g=s[p].spec.bidiIsolate,O;if(g==null&&(g=jwe(e.text,u,c)),l>0&&h.length&&(O=h[h.length-1]).to==u&&O.direction==g)O.to=c,h=O.inner;else{let T={from:u,to:c,direction:g,inner:[]};h.push(T),h=T.inner}}}}),i}const hz=Mt.define();function yN(r){let e=0,t=0,n=0,i=0;for(let a of r.state.facet(hz)){let o=a(r);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(n=Math.max(n,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:t,top:n,bottom:i}}const Bv=Mt.define();class xs{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new xs(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let i=0,a=0,o=0,s=0;;i++){let l=i==e.length?null:e[i],u=o-s,c=l?l.fromB:1e9;for(;a<t.length&&t[a]<c;){let h=t[a],p=t[a+1],g=Math.max(s,h),O=Math.min(c,p);if(g<=O&&new xs(g+u,O+u,g,O).addToSet(n),p>c)break;a+=2}if(!l)return n;new xs(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),o=l.toA,s=l.toB}}}class fw{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=bi.empty(this.startState.doc.length);for(let a of n)this.changes=this.changes.compose(a.changes);let i=[];this.changes.iterChangedRanges((a,o,s,l)=>i.push(new xs(a,o,s,l))),this.changedRanges=i}static create(e,t,n){return new fw(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class uI extends hn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=jt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new si],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new xs(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!n1e(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let a=i>-1?Kwe(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;n=new xs(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(n.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(Tt.ie||Tt.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,s=this.updateDeco(),l=t1e(o,s,e.changes);return n=xs.extendWithRanges(n,l),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Tt.chrome||Tt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Wu&&o.widget instanceof mP&&a.push(o.dom);i.updateGaps(a)}updateChildren(e,t,n){let i=n?n.range.addToSet(e.slice()):e,a=this.childCursor(t);for(let o=i.length-1;;o--){let s=o>=0?i[o]:null;if(!s)break;let{fromA:l,toA:u,fromB:c,toB:h}=s,p,g,O,T;if(n&&n.range.fromB<h&&n.range.toB>c){let G=og.build(this.view.state.doc,c,n.range.fromB,this.decorations,this.dynamicDecorationMap),J=og.build(this.view.state.doc,n.range.toB,h,this.decorations,this.dynamicDecorationMap);g=G.breakAtStart,O=G.openStart,T=J.openEnd;let ee=this.compositionView(n);J.breakAtStart?ee.breakAfter=1:J.content.length&&ee.merge(ee.length,ee.length,J.content[0],!1,J.openStart,0)&&(ee.breakAfter=J.content[0].breakAfter,J.content.shift()),G.content.length&&ee.merge(0,0,G.content[G.content.length-1],!0,0,G.openEnd)&&G.content.pop(),p=G.content.concat(ee).concat(J.content)}else({content:p,breakAtStart:g,openStart:O,openEnd:T}=og.build(this.view.state.doc,c,h,this.decorations,this.dynamicDecorationMap));let{i:M,off:R}=a.findPos(u,1),{i:z,off:U}=a.findPos(l,-1);qZ(this,z,U,M,R,p,g,O,T)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let n of t.effects)n.is(lz)&&(this.editContextFormatting=n.value)}compositionView(e){let t=new fl(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new tc(i,[t],t.length);let n=new si;return n.append(t,0),n}fixCompositionDOM(e){let t=(a,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let s=hn.get(a);s&&s!=o&&(s.dom=null),o.setDOM(a)},n=this.childPos(e.range.fromB,1),i=this.children[n.i];t(e.line,i);for(let a=e.marks.length-1;a>=-1;a--)n=i.childPos(n.off,1),i=i.children[n.i],t(a>=0?e.marks[a].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,a=!i&&!(this.view.state.facet(Fu)||this.dom.tabIndex>-1)&&b0(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||t||a))return;let o=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(s.anchor)),u=s.empty?l:this.moveToLine(this.domAtPos(s.head));if(Tt.gecko&&s.empty&&!this.hasComposition&&Gwe(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=u=new va(h,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!ag(l.node,l.offset,c.anchorNode,c.anchorOffset)||!ag(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,s))&&(this.view.observer.ignore(()=>{Tt.android&&Tt.chrome&&this.dom.contains(c.focusNode)&&r1e(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=Ag(this.view.root);if(h)if(s.empty){if(Tt.gecko){let p=Jwe(l.node,l.offset);if(p&&p!=3){let g=(p==1?IZ:QZ)(l.node,l.offset);g&&(l=new va(g.node,g.offset))}}h.collapse(l.node,l.offset),s.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=s.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(u.node,u.offset)}catch{}}else{let p=document.createRange();s.anchor>s.head&&([l,u]=[u,l]),p.setEnd(u.node,u.offset),p.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(p)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new va(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new va(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&ag(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=Ag(e.root),{anchorNode:i,anchorOffset:a}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let o=si.find(this,t.head);if(!o)return;let s=o.posAtStart;if(t.head==s||t.head==s+o.length)return;let l=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&n.collapse(i,a)}moveToLine(e){let t=this.dom,n;if(e.node!=t)return e;for(let i=e.offset;!n&&i<t.childNodes.length;i++){let a=hn.get(t.childNodes[i]);a instanceof si&&(n=a.domAtPos(0))}for(let i=e.offset-1;!n&&i>=0;i--){let a=hn.get(t.childNodes[i]);a instanceof si&&(n=a.domAtPos(a.length))}return n?new va(n.node,n.offset,!0):e}nearest(e){for(let t=e;t;){let n=hn.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(n<i.length||i instanceof si)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,i=0;for(let a=this.length,o=this.children.length-1;o>=0;o--){let s=this.children[o],l=a-s.breakAfter,u=l-s.length;if(l<e)break;if(u<=e&&(u<e||s.covers(-1))&&(l>e||s.covers(1))&&(!n||s instanceof si&&!(n instanceof si&&t>=0)))n=s,i=u;else if(n&&u==e&&l==e&&s instanceof Wu&&Math.abs(t)<2){if(s.deco.startSide<0)break;o&&(n=null)}a=u}return n?n.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),i=this.children[t];if(!(i instanceof si))return null;for(;i.children.length;){let{i:s,off:l}=i.childPos(n,1);for(;;s++){if(s==i.children.length)return null;if((i=i.children[s]).length)break}n=l}if(!(i instanceof fl))return null;let a=Gi(i.text,n);if(a==n)return null;let o=Ah(i.dom,n,a).getClientRects();for(let s=0;s<o.length;s++){let l=o[s];if(s==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:i}=e,a=this.view.contentDOM.clientWidth,o=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,l=this.view.textDirection==Sn.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],p=u+h.length;if(p>i)break;if(u>=n){let g=h.dom.getBoundingClientRect();if(t.push(g.height),o){let O=h.dom.lastChild,T=O?Dg(O):[];if(T.length){let M=T[T.length-1],R=l?M.right-g.left:g.right-M.left;R>s&&(s=R,this.minWidth=a,this.minWidthFrom=u,this.minWidthTo=p)}}}u=p+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Sn.RTL:Sn.LTR}measureTextSize(){for(let a of this.children)if(a instanceof si){let o=a.measureTextSize();if(o)return o}let e=document.createElement("div"),t,n,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let a=Dg(e.firstChild)[0];t=e.getBoundingClientRect().height,n=a?a.width/27:7,i=a?a.height:t,e.remove()}),{lineHeight:t,charWidth:n,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new BZ(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,i=0;;i++){let a=i==t.viewports.length?null:t.viewports[i],o=a?a.from-1:this.length;if(o>n){let s=(t.lineBlockAt(o).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(jt.replace({widget:new mP(s),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!a)break;n=a.to+1}return jt.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Pg).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),n=!1,i=this.view.state.facet(cz).map((a,o)=>{let s=typeof a=="function";return s&&(n=!0),s?a(this.view):a});for(i.length&&(this.dynamicDecorationMap[e++]=n,t.push(qr.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(sz))try{if(u(this.view,e.range,e))return!0}catch(c){ho(this.view.state,c,"scroll handler")}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!n)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let a=yN(this.view),o={left:n.left-a.left,top:n.top-a.top,right:n.right+a.right,bottom:n.bottom+a.bottom},{offsetWidth:s,offsetHeight:l}=this.view.scrollDOM;Pwe(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,s),-s),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Sn.LTR)}}function Gwe(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function dz(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let n=IZ(t.focusNode,t.focusOffset),i=QZ(t.focusNode,t.focusOffset),a=n||i;if(i&&n&&i.node!=n.node){let s=hn.get(i.node);if(!s||s instanceof fl&&s.text!=i.node.nodeValue)a=i;else if(r.docView.lastCompositionAfterCursor){let l=hn.get(n.node);!l||l instanceof fl&&l.text!=n.node.nodeValue||(a=i)}}if(r.docView.lastCompositionAfterCursor=a!=n,!a)return null;let o=e-a.offset;return{from:o,to:o+a.node.nodeValue.length,node:a.node}}function Kwe(r,e,t){let n=dz(r,t);if(!n)return null;let{node:i,from:a,to:o}=n,s=i.nodeValue;if(/[\n\r]/.test(s)||r.state.doc.sliceString(n.from,n.to)!=s)return null;let l=e.invertedDesc,u=new xs(l.mapPos(a),l.mapPos(o),a,o),c=[];for(let h=i.parentNode;;h=h.parentNode){let p=hn.get(h);if(p instanceof tc)c.push({node:h,deco:p.mark});else{if(p instanceof si||h.nodeName=="DIV"&&h.parentNode==r.contentDOM)return{range:u,text:i,marks:c,line:h};if(h!=r.contentDOM)c.push({node:h,deco:new sO({inclusive:!0,attributes:Bwe(h),tagName:h.tagName.toLowerCase()})});else return null}}}function Jwe(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let e1e=class{constructor(){this.changes=[]}compareRange(e,t){w0(e,t,this.changes)}comparePoint(e,t){w0(e,t,this.changes)}boundChange(e){w0(e,e,this.changes)}};function t1e(r,e,t){let n=new e1e;return qr.compare(r,e,t,n),n.changes}function r1e(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function n1e(r,e){let t=!1;return e&&r.iterChangedRanges((n,i)=>{n<e.to&&i>e.from&&(t=!0)}),t}function i1e(r,e,t=1){let n=r.charCategorizer(e),i=r.doc.lineAt(e),a=e-i.from;if(i.length==0)return Ye.cursor(e);a==0?t=1:a==i.length&&(t=-1);let o=a,s=a;t<0?o=Gi(i.text,a,!1):s=Gi(i.text,a);let l=n(i.text.slice(o,s));for(;o>0;){let u=Gi(i.text,o,!1);if(n(i.text.slice(u,o))!=l)break;o=u}for(;s<i.length;){let u=Gi(i.text,s);if(n(i.text.slice(s,u))!=l)break;s=u}return Ye.range(o+i.from,s+i.from)}function a1e(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function o1e(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function JM(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function cI(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function fI(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function bP(r,e,t){let n,i,a,o,s=!1,l,u,c,h;for(let O=r.firstChild;O;O=O.nextSibling){let T=Dg(O);for(let M=0;M<T.length;M++){let R=T[M];i&&JM(i,R)&&(R=cI(fI(R,i.bottom),i.top));let z=a1e(e,R),U=o1e(t,R);if(z==0&&U==0)return O.nodeType==3?hI(O,e,t):bP(O,e,t);if(!n||o>U||o==U&&a>z){n=O,i=R,a=z,o=U;let G=U?t<R.top?-1:1:z?e<R.left?-1:1:0;s=!G||(G>0?M<T.length-1:M>0)}z==0?t>R.bottom&&(!c||c.bottom<R.bottom)?(l=O,c=R):t<R.top&&(!h||h.top>R.top)&&(u=O,h=R):c&&JM(c,R)?c=fI(c,R.bottom):h&&JM(h,R)&&(h=cI(h,R.top))}}if(c&&c.bottom>=t?(n=l,i=c):h&&h.top<=t&&(n=u,i=h),!n)return{node:r,offset:0};let p=Math.max(i.left,Math.min(i.right,e));if(n.nodeType==3)return hI(n,p,t);if(s&&n.contentEditable!="false")return bP(n,p,t);let g=Array.prototype.indexOf.call(r.childNodes,n)+(e>=(i.left+i.right)/2?1:0);return{node:r,offset:g}}function hI(r,e,t){let n=r.nodeValue.length,i=-1,a=1e9,o=0;for(let s=0;s<n;s++){let l=Ah(r,s,s+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let h=(c.top>t?c.top-t:t-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<a){let p=e>=(c.left+c.right)/2,g=p;if((Tt.chrome||Tt.gecko)&&Ah(r,s).getBoundingClientRect().left==c.right&&(g=!p),h<=0)return{node:r,offset:s+(g?1:0)};i=s+(g?1:0),a=h}}}return{node:r,offset:i>-1?i:o>0?r.nodeValue.length:0}}function pz(r,e,t,n=-1){var i,a;let o=r.contentDOM.getBoundingClientRect(),s=o.top+r.viewState.paddingTop,l,{docHeight:u}=r.viewState,{x:c,y:h}=e,p=h-s;if(p<0)return 0;if(p>u)return r.state.doc.length;for(let G=r.viewState.heightOracle.textHeight/2,J=!1;l=r.elementAtHeight(p),l.type!=_a.Text;)for(;p=n>0?l.bottom+G:l.top-G,!(p>=0&&p<=u);){if(J)return t?null:0;J=!0,n=-n}h=s+p;let g=l.from;if(g<r.viewport.from)return r.viewport.from==0?0:t?null:dI(r,o,l,c,h);if(g>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:dI(r,o,l,c,h);let O=r.dom.ownerDocument,T=r.root.elementFromPoint?r.root:O,M=T.elementFromPoint(c,h);M&&!r.contentDOM.contains(M)&&(M=null),M||(c=Math.max(o.left+1,Math.min(o.right-1,c)),M=T.elementFromPoint(c,h),M&&!r.contentDOM.contains(M)&&(M=null));let R,z=-1;if(M&&((i=r.docView.nearest(M))===null||i===void 0?void 0:i.isEditable)!=!1){if(O.caretPositionFromPoint){let G=O.caretPositionFromPoint(c,h);G&&({offsetNode:R,offset:z}=G)}else if(O.caretRangeFromPoint){let G=O.caretRangeFromPoint(c,h);G&&({startContainer:R,startOffset:z}=G,(!r.contentDOM.contains(R)||Tt.safari&&s1e(R,z,c)||Tt.chrome&&l1e(R,z,c))&&(R=void 0))}R&&(z=Math.min(ru(R),z))}if(!R||!r.docView.dom.contains(R)){let G=si.find(r.docView,g);if(!G)return p>l.top+l.height/2?l.to:l.from;({node:R,offset:z}=bP(G.dom,c,h))}let U=r.docView.nearest(R);if(!U)return null;if(U.isWidget&&((a=U.dom)===null||a===void 0?void 0:a.nodeType)==1){let G=U.dom.getBoundingClientRect();return e.y<G.top||e.y<=G.bottom&&e.x<=(G.left+G.right)/2?U.posAtStart:U.posAtEnd}else return U.localPosFromDOM(R,z)+U.posAtStart}function dI(r,e,t,n,i){let a=Math.round((n-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let s=r.viewState.heightOracle.textHeight,l=Math.floor((i-t.top-(r.defaultLineHeight-s)*.5)/s);a+=l*r.viewState.heightOracle.lineLength}let o=r.state.sliceDoc(t.from,t.to);return t.from+oP(o,a,r.state.tabSize)}function s1e(r,e,t){let n;if(r.nodeType!=3||e!=(n=r.nodeValue.length))return!1;for(let i=r.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Ah(r,n-1,n).getBoundingClientRect().left>t}function l1e(r,e,t){if(e!=0)return!1;for(let i=r;;){let a=i.parentNode;if(!a||a.nodeType!=1||a.firstChild!=i)return!1;if(a.classList.contains("cm-line"))break;i=a}let n=r.nodeType==1?r.getBoundingClientRect():Ah(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function wP(r,e){let t=r.lineBlockAt(e);if(Array.isArray(t.type)){for(let n of t.type)if(n.to>e||n.to==e&&(n.to==t.to||n.type==_a.Text))return n}return t}function u1e(r,e,t,n){let i=wP(r,e.head),a=!n||i.type!=_a.Text||!(r.lineWrapping||i.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(a){let o=r.dom.getBoundingClientRect(),s=r.textDirectionAt(i.from),l=r.posAtCoords({x:t==(s==Sn.LTR)?o.right-1:o.left+1,y:(a.top+a.bottom)/2});if(l!=null)return Ye.cursor(l,t?-1:1)}return Ye.cursor(t?i.to:i.from,t?-1:1)}function pI(r,e,t,n){let i=r.state.doc.lineAt(e.head),a=r.bidiSpans(i),o=r.textDirectionAt(i.from);for(let s=e,l=null;;){let u=Xwe(i,a,o,s,t),c=KZ;if(!u){if(i.number==(t?r.state.doc.lines:1))return s;c=`
`,i=r.state.doc.line(i.number+(t?1:-1)),a=r.bidiSpans(i),u=r.visualLineSide(i,!t)}if(l){if(!l(c))return s}else{if(!n)return u;l=n(c)}s=u}}function c1e(r,e,t){let n=r.state.charCategorizer(e),i=n(t);return a=>{let o=n(a);return i==An.Space&&(i=o),i==o}}function f1e(r,e,t,n){let i=e.head,a=t?1:-1;if(i==(t?r.state.doc.length:0))return Ye.cursor(i,e.assoc);let o=e.goalColumn,s,l=r.contentDOM.getBoundingClientRect(),u=r.coordsAtPos(i,e.assoc||-1),c=r.documentTop;if(u)o==null&&(o=u.left-l.left),s=a<0?u.top:u.bottom;else{let g=r.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,r.defaultCharacterWidth*(i-g.from))),s=(a<0?g.top:g.bottom)+c}let h=l.left+o,p=n??r.viewState.heightOracle.textHeight>>1;for(let g=0;;g+=10){let O=s+(p+g)*a,T=pz(r,{x:h,y:O},!1,a);if(O<l.top||O>l.bottom||(a<0?T<i:T>i)){let M=r.docView.coordsForChar(T),R=!M||O<M.top?-1:1;return Ye.cursor(T,R,void 0,o)}}}function k0(r,e,t){for(;;){let n=0;for(let i of r)i.between(e-1,e+1,(a,o,s)=>{if(e>a&&e<o){let l=n||t||(e-a<o-e?-1:1);e=l<0?a:o,n=l}});if(!n)return e}}function eA(r,e,t){let n=k0(r.state.facet(ON).map(i=>i(r)),t.from,e.head>t.from?-1:1);return n==t.from?t:Ye.cursor(n,n<t.from?1:-1)}const qv="ï¿¿";class h1e{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Kn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=qv}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let a=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==t)break;let s=hn.get(i),l=hn.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:uw(i))||uw(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>a)&&this.lineBreak(),i=o}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,o=1,s;if(this.lineSeparator?(a=t.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(s=i.exec(t))&&(a=s.index,o=s[0].length),this.append(t.slice(n,a<0?t.length:a)),a<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);n=a+o}}readNode(e){if(e.cmIgnore)return;let t=hn.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(d1e(e,n.node,n.offset)?t:0))}}function d1e(r,e,t){for(;;){if(!e||t<ru(e))return!1;if(e==r)return!0;t=Mh(e)+1,e=e.parentNode}}class mI{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class p1e{constructor(e,t,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:a,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let s=a||o?[]:g1e(e),l=new h1e(s,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=O1e(s,this.bounds.from)}else{let s=e.observer.selectionRange,l=a&&a.node==s.focusNode&&a.offset==s.focusOffset||!uP(e.contentDOM,s.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(s.focusNode,s.focusOffset),u=o&&o.node==s.anchorNode&&o.offset==s.anchorOffset||!uP(e.contentDOM,s.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(s.anchorNode,s.anchorOffset),c=e.viewport;if((Tt.ios||Tt.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let h=Math.min(l,u),p=Math.max(l,u),g=c.from-h,O=c.to-p;(g==0||g==1||h==0)&&(O==0||O==-1||p==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=Ye.single(u,l)}}}function mz(r,e){let t,{newSel:n}=e,i=r.state.selection.main,a=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:s}=e.bounds,l=i.from,u=null;(a===8||Tt.android&&e.text.length<s-o)&&(l=i.to,u="end");let c=v1e(r.state.doc.sliceString(o,s,qv),e.text,l-o,u);c&&(Tt.chrome&&a==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==qv+qv&&c.toB--,t={from:o+c.from,to:o+c.toA,insert:Wr.of(e.text.slice(c.from,c.toB).split(qv))})}else n&&(!r.hasFocus&&r.state.facet(Fu)||n.main.eq(i))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!i.empty&&n&&n.main.empty?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,i.to)}:(Tt.mac||Tt.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=Ye.single(n.main.anchor-1,n.main.head-1)),t={from:t.from,to:t.to,insert:Wr.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,i.to))}:Tt.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(n&&(n=Ye.single(n.main.anchor-1,n.main.head-1)),t={from:i.from,to:i.to,insert:Wr.of([" "])}),t)return bN(r,t,n,a);if(n&&!n.main.eq(i)){let o=!1,s="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(o=!0),s=r.inputState.lastSelectionOrigin),r.dispatch({selection:n,scrollIntoView:o,userEvent:s}),!0}else return!1}function bN(r,e,t,n=-1){if(Tt.ios&&r.inputState.flushIOSKey(e))return!0;let i=r.state.selection.main;if(Tt.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&r.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&pp(r.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&pp(r.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&pp(r.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let o,s=()=>o||(o=m1e(r,e,t));return r.state.facet(nz).some(l=>l(r,e.from,e.to,a,s))||r.dispatch(s()),!0}function m1e(r,e,t){let n,i=r.state,a=i.selection.main;if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let s=a.from<e.from?i.sliceDoc(a.from,e.from):"",l=a.to>e.to?i.sliceDoc(e.to,a.to):"";n=i.replaceSelection(r.state.toText(s+e.insert.sliceString(0,void 0,r.state.lineBreak)+l))}else{let s=i.changes(e),l=t&&t.main.to<=s.newLength?t.main:void 0;if(i.selection.ranges.length>1&&r.inputState.composing>=0&&e.to<=a.to&&e.to>=a.to-10){let u=r.state.sliceDoc(e.from,e.to),c,h=t&&dz(r,t.main.head);if(h){let O=e.insert.length-(e.to-e.from);c={from:h.from,to:h.to-O}}else c=r.state.doc.lineAt(a.head);let p=a.to-e.to,g=a.to-a.from;n=i.changeByRange(O=>{if(O.from==a.from&&O.to==a.to)return{changes:s,range:l||O.map(s)};let T=O.to-p,M=T-u.length;if(O.to-O.from!=g||r.state.sliceDoc(M,T)!=u||O.to>=c.from&&O.from<=c.to)return{range:O};let R=i.changes({from:M,to:T,insert:e.insert}),z=O.to-a.to;return{changes:R,range:l?Ye.range(Math.max(0,l.anchor+z),Math.max(0,l.head+z)):O.map(R)}})}else n={changes:s,selection:l&&i.selection.replaceRange(l)}}let o="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,o+=".compose",r.inputState.compositionFirstChange&&(o+=".start",r.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:o,scrollIntoView:!0})}function v1e(r,e,t,n){let i=Math.min(r.length,e.length),a=0;for(;a<i&&r.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==i&&r.length==e.length)return null;let o=r.length,s=e.length;for(;o>0&&s>0&&r.charCodeAt(o-1)==e.charCodeAt(s-1);)o--,s--;if(n=="end"){let l=Math.max(0,a-Math.min(o,s));t-=o+l-a}if(o<a&&r.length<e.length){let l=t<=a&&t>=o?a-t:0;a-=l,s=a+(s-o),o=a}else if(s<a){let l=t<=a&&t>=s?a-t:0;a-=l,o=a+(o-s),s=a}return{from:a,toA:o,toB:s}}function g1e(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:a}=r.observer.selectionRange;return t&&(e.push(new mI(t,n)),(i!=t||a!=n)&&e.push(new mI(i,a))),e}function O1e(r,e){if(r.length==0)return null;let t=r[0].pos,n=r.length==2?r[1].pos:t;return t>-1&&n>-1?Ye.single(t+e,n+e):null}let y1e=class{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Tt.safari&&e.contentDOM.addEventListener("input",()=>null),Tt.gecko&&L1e(e.contentDOM.ownerDocument)}handleEvent(e){!E1e(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let i of n.observers)i(this.view,t);for(let i of n.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=b1e(e),n=this.handlers,i=this.view.contentDOM;for(let a in t)if(a!="scroll"){let o=!t[a].handlers.length,s=n[a];s&&o!=!s.handlers.length&&(i.removeEventListener(a,this.handleEvent),s=null),s||i.addEventListener(a,this.handleEvent,{passive:o})}for(let a in n)a!="scroll"&&!t[a]&&i.removeEventListener(a,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&gz.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Tt.android&&Tt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Tt.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=vz.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||w1e.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,pp(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Tt.safari&&!Tt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function vI(r,e){return(t,n)=>{try{return e.call(r,n,t)}catch(i){ho(t.state,i)}}}function b1e(r){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of r){let i=n.spec;if(i&&i.domEventHandlers)for(let a in i.domEventHandlers){let o=i.domEventHandlers[a];o&&t(a).handlers.push(vI(n.value,o))}if(i&&i.domEventObservers)for(let a in i.domEventObservers){let o=i.domEventObservers[a];o&&t(a).observers.push(vI(n.value,o))}}for(let n in hl)t(n).handlers.push(hl[n]);for(let n in As)t(n).observers.push(As[n]);return e}const vz=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],w1e="dthko",gz=[16,17,18,20,91,92,224,225],Db=6;function Pb(r){return Math.max(0,r)*.7+8}function k1e(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class S1e{constructor(e,t,n,i){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Rwe(e.contentDOM),this.atoms=e.state.facet(ON).map(o=>o(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Kn.allowMultipleSelections)&&x1e(e,t),this.dragging=T1e(e,t)&&bz(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&k1e(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,i=0,a=0,o=this.view.win.innerWidth,s=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:s}=this.scrollParents.y.getBoundingClientRect());let l=yN(this.view);e.clientX-l.left<=i+Db?t=-Pb(i-e.clientX):e.clientX+l.right>=o-Db&&(t=Pb(e.clientX-o)),e.clientY-l.top<=a+Db?n=-Pb(a-e.clientY):e.clientY+l.bottom>=s-Db&&(n=Pb(e.clientY-s)),this.setScrollSpeed(t,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],a=null;if(i.empty){let o=k0(this.atoms,i.from,0);o!=i.from&&(a=Ye.cursor(o,-1))}else{let o=k0(this.atoms,i.from,-1),s=k0(this.atoms,i.to,1);(o!=i.from||s!=i.to)&&(a=Ye.range(i.from==i.anchor?o:s,i.from==i.head?o:s))}a&&(t||(t=e.ranges.slice()),t[n]=a)}return t?Ye.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function x1e(r,e){let t=r.state.facet(JZ);return t.length?t[0](e):Tt.mac?e.metaKey:e.ctrlKey}function C1e(r,e){let t=r.state.facet(ez);return t.length?t[0](e):Tt.mac?!e.altKey:!e.ctrlKey}function T1e(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let n=Ag(r.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let a=0;a<i.length;a++){let o=i[a];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function E1e(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=hn.get(t))&&n.ignoreEvent(e))return!1;return!0}const hl=Object.create(null),As=Object.create(null),Oz=Tt.ie&&Tt.ie_version<15||Tt.ios&&Tt.webkit_version<604;function M1e(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),yz(r,t.value)},50)}function $1(r,e,t){for(let n of r.facet(e))t=n(t,r);return t}function yz(r,e){e=$1(r.state,mN,e);let{state:t}=r,n,i=1,a=t.toText(e),o=a.lines==t.selection.ranges.length;if(kP!=null&&t.selection.ranges.every(l=>l.empty)&&kP==a.toString()){let l=-1;n=t.changeByRange(u=>{let c=t.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let h=t.toText((o?a.line(i++).text:e)+t.lineBreak);return{changes:{from:c.from,insert:h},range:Ye.cursor(u.from+h.length)}})}else o?n=t.changeByRange(l=>{let u=a.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Ye.cursor(l.from+u.length)}}):n=t.replaceSelection(a);r.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}As.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};hl.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);As.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};As.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};hl.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of r.state.facet(tz))if(t=n(r,e),t)break;if(!t&&e.button==0&&(t=P1e(r,e)),t){let n=!r.hasFocus;r.inputState.startMouseSelection(new S1e(r,e,t,n)),n&&r.observer.ignore(()=>{$Z(r.contentDOM);let a=r.root.activeElement;a&&!a.contains(r.contentDOM)&&a.blur()});let i=r.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function gI(r,e,t,n){if(n==1)return Ye.cursor(e,t);if(n==2)return i1e(r.state,e,t);{let i=si.find(r.docView,e),a=r.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:a.from,s=i?i.posAtEnd:a.to;return s<r.state.doc.length&&s==a.to&&s++,Ye.range(o,s)}}let OI=(r,e,t)=>e>=t.top&&e<=t.bottom&&r>=t.left&&r<=t.right;function A1e(r,e,t,n){let i=si.find(r.docView,e);if(!i)return 1;let a=e-i.posAtStart;if(a==0)return 1;if(a==i.length)return-1;let o=i.coordsAt(a,-1);if(o&&OI(t,n,o))return-1;let s=i.coordsAt(a,1);return s&&OI(t,n,s)?1:o&&o.bottom>=n?-1:1}function yI(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:A1e(r,t,e.clientX,e.clientY)}}const D1e=Tt.ie&&Tt.ie_version<=11;let bI=null,wI=0,kI=0;function bz(r){if(!D1e)return r.detail;let e=bI,t=kI;return bI=r,kI=Date.now(),wI=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(wI+1)%3:1}function P1e(r,e){let t=yI(r,e),n=bz(e),i=r.state.selection;return{update(a){a.docChanged&&(t.pos=a.changes.mapPos(t.pos),i=i.map(a.changes))},get(a,o,s){let l=yI(r,a),u,c=gI(r,l.pos,l.bias,n);if(t.pos!=l.pos&&!o){let h=gI(r,t.pos,t.bias,n),p=Math.min(h.from,c.from),g=Math.max(h.to,c.to);c=p<c.from?Ye.range(p,g):Ye.range(g,p)}return o?i.replaceRange(i.main.extend(c.from,c.to)):s&&n==1&&i.ranges.length>1&&(u=R1e(i,l.pos))?u:s?i.addRange(c):Ye.create([c])}}}function R1e(r,e){for(let t=0;t<r.ranges.length;t++){let{from:n,to:i}=r.ranges[t];if(n<=e&&i>=e)return Ye.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}hl.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let i=r.docView.nearest(e.target);if(i&&i.isWidget){let a=i.posAtStart,o=a+i.length;(a>=t.to||o<=t.from)&&(t=Ye.range(a,o))}}let{inputState:n}=r;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",$1(r.state,vN,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};hl.dragend=r=>(r.inputState.draggedContent=null,!1);function SI(r,e,t,n){if(t=$1(r.state,mN,t),!t)return;let i=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=r.inputState,o=n&&a&&C1e(r,e)?{from:a.from,to:a.to}:null,s={from:i,insert:t},l=r.state.changes(o?[o,s]:s);r.focus(),r.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),r.inputState.draggedContent=null}hl.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),i=0,a=()=>{++i==t.length&&SI(r,e,n.filter(o=>o!=null).join(r.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let s=new FileReader;s.onerror=a,s.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(s.result)||(n[o]=s.result),a()},s.readAsText(t[o])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return SI(r,e,n,!0),!0}return!1};hl.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=Oz?null:e.clipboardData;return t?(yz(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(M1e(r),!1)};function N1e(r,e){let t=r.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),r.focus()},50)}function $1e(r){let e=[],t=[],n=!1;for(let i of r.selection.ranges)i.empty||(e.push(r.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:a}of r.selection.ranges){let o=r.doc.lineAt(a);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(r.doc.length,o.to+1)})),i=o.number}n=!0}return{text:$1(r,vN,e.join(r.lineBreak)),ranges:t,linewise:n}}let kP=null;hl.copy=hl.cut=(r,e)=>{let{text:t,ranges:n,linewise:i}=$1e(r.state);if(!t&&!i)return!1;kP=i?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let a=Oz?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",t),!0):(N1e(r,t),!1)};const wz=lc.define();function kz(r,e){let t=[];for(let n of r.facet(iz)){let i=n(r,e);i&&t.push(i)}return t?r.update({effects:t,annotations:wz.of(!0)}):null}function Sz(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=kz(r.state,e);t?r.dispatch(t):r.update([])}},10)}As.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),Sz(r)};As.blur=r=>{r.observer.clearSelectionRange(),Sz(r)};As.compositionstart=As.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};As.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,Tt.chrome&&Tt.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};As.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};hl.beforeinput=(r,e)=>{var t,n;if(e.inputType=="insertReplacementText"&&r.observer.editContext){let a=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(a&&o.length){let s=o[0],l=r.posAtDOM(s.startContainer,s.startOffset),u=r.posAtDOM(s.endContainer,s.endOffset);return bN(r,{from:l,to:u,insert:r.state.toText(a)},null),!0}}let i;if(Tt.chrome&&Tt.android&&(i=vz.find(a=>a.inputType==e.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let a=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>a+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return Tt.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),Tt.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>As.compositionend(r,e),20),!1};const xI=new Set;function L1e(r){xI.has(r)||(xI.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const CI=["pre-wrap","normal","pre-line","break-spaces"];let Dp=!1;function TI(){Dp=!1}class _1e{constructor(e){this.lineWrapping=e,this.doc=Wr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return CI.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,n,i,a,o){let s=CI.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=t,this.charWidth=n,this.textHeight=i,this.lineLength=a,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class I1e{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Wl{constructor(e,t,n,i,a){this.from=e,this.length=t,this.top=n,this.height=i,this._content=a}get type(){return typeof this._content=="number"?_a.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof vf?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Wl(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var kn=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(kn||(kn={}));const S0=.001;class Ia{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>S0&&(Dp=!0),this.height=e)}replace(e,t,n){return Ia.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,i){let a=this,o=n.doc;for(let s=i.length-1;s>=0;s--){let{fromA:l,toA:u,fromB:c,toB:h}=i[s],p=a.lineAt(l,kn.ByPosNoHeight,n.setDoc(t),0,0),g=p.to>=u?p:a.lineAt(u,kn.ByPosNoHeight,n,0,0);for(h+=g.to-u,u=g.to;s>0&&p.from<=i[s-1].toA;)l=i[s-1].fromA,c=i[s-1].fromB,s--,l<p.from&&(p=a.lineAt(l,kn.ByPosNoHeight,n,0,0));c+=p.from-l,l=p.from;let O=wN.build(n.setDoc(o),e,c,h);a=hw(a,a.replace(l,u,O))}return a.updateHeight(n,0)}static empty(){return new zo(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,i=0,a=0;for(;;)if(t==n)if(i>a*2){let s=e[t-1];s.break?e.splice(--t,1,s.left,null,s.right):e.splice(--t,1,s.left,s.right),n+=1+s.break,i-=s.size}else if(a>i*2){let s=e[n];s.break?e.splice(n,1,s.left,null,s.right):e.splice(n,1,s.left,s.right),n+=2+s.break,a-=s.size}else break;else if(i<a){let s=e[t++];s&&(i+=s.size)}else{let s=e[--n];s&&(a+=s.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,n++),new Q1e(Ia.of(e.slice(0,t)),o,Ia.of(e.slice(n)))}}function hw(r,e){return r==e?r:(r.constructor!=e.constructor&&(Dp=!0),e)}Ia.prototype.size=1;class xz extends Ia{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,i){return new Wl(i,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,i,a){return this.blockAt(0,n,i,a)}forEachLine(e,t,n,i,a,o){e<=a+this.length&&t>=a&&o(this.blockAt(0,n,i,a))}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class zo extends xz{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,i){return new Wl(i,this.length,n,this.height,this.breaks)}replace(e,t,n){let i=n[0];return n.length==1&&(i instanceof zo||i instanceof Hi&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Hi?i=new zo(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ia.of(n)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Hi extends Ia{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,a=i-n+1,o,s=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*a);o=l/a,this.length>a+1&&(s=(this.height-l)/(this.length-a-1))}else o=this.height/a;return{firstLine:n,lastLine:i,perLine:o,perChar:s}}blockAt(e,t,n,i){let{firstLine:a,lastLine:o,perLine:s,perChar:l}=this.heightMetrics(t,i);if(t.lineWrapping){let u=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),c=t.doc.lineAt(u),h=s+c.length*l,p=Math.max(n,e-h/2);return new Wl(c.from,c.length,p,h,0)}else{let u=Math.max(0,Math.min(o-a,Math.floor((e-n)/s))),{from:c,length:h}=t.doc.line(a+u);return new Wl(c,h,n+s*u,s,0)}}lineAt(e,t,n,i,a){if(t==kn.ByHeight)return this.blockAt(e,n,i,a);if(t==kn.ByPosNoHeight){let{from:g,to:O}=n.doc.lineAt(e);return new Wl(g,O-g,0,0,0)}let{firstLine:o,perLine:s,perChar:l}=this.heightMetrics(n,a),u=n.doc.lineAt(e),c=s+u.length*l,h=u.number-o,p=i+s*h+l*(u.from-a-h);return new Wl(u.from,u.length,Math.max(i,Math.min(p,i+this.height-c)),c,0)}forEachLine(e,t,n,i,a,o){e=Math.max(e,a),t=Math.min(t,a+this.length);let{firstLine:s,perLine:l,perChar:u}=this.heightMetrics(n,a);for(let c=e,h=i;c<=t;){let p=n.doc.lineAt(c);if(c==e){let O=p.number-s;h+=l*O+u*(e-a-O)}let g=l+u*p.length;o(new Wl(p.from,p.length,h,g,0)),h+=g,c=p.to+1}}replace(e,t,n){let i=this.length-t;if(i>0){let a=n[n.length-1];a instanceof Hi?n[n.length-1]=new Hi(a.length+i):n.push(null,new Hi(i-1))}if(e>0){let a=n[0];a instanceof Hi?n[0]=new Hi(e+a.length):n.unshift(new Hi(e-1),null)}return Ia.of(n)}decomposeLeft(e,t){t.push(new Hi(e-1),null)}decomposeRight(e,t){t.push(null,new Hi(this.length-e-1))}updateHeight(e,t=0,n=!1,i){let a=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],s=Math.max(t,i.from),l=-1;for(i.from>t&&o.push(new Hi(i.from-t-1).updateHeight(e,t));s<=a&&i.more;){let c=e.doc.lineAt(s).length;o.length&&o.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=S0&&(l=-2);let p=new zo(c,h);p.outdated=!1,o.push(p),s+=c+1}s<=a&&o.push(null,new Hi(a-s).updateHeight(e,s));let u=Ia.of(o);return(l<0||Math.abs(u.height-this.height)>=S0||Math.abs(l-this.heightMetrics(e,t).perLine)>=S0)&&(Dp=!0),hw(this,u)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Q1e extends Ia{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,i){let a=n+this.left.height;return e<a?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,a,i+this.left.length+this.break)}lineAt(e,t,n,i,a){let o=i+this.left.height,s=a+this.left.length+this.break,l=t==kn.ByHeight?e<o:e<s,u=l?this.left.lineAt(e,t,n,i,a):this.right.lineAt(e,t,n,o,s);if(this.break||(l?u.to<s:u.from>s))return u;let c=t==kn.ByPosNoHeight?kn.ByPosNoHeight:kn.ByPos;return l?u.join(this.right.lineAt(s,c,n,o,s)):this.left.lineAt(s,c,n,i,a).join(u)}forEachLine(e,t,n,i,a,o){let s=i+this.left.height,l=a+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,n,i,a,o),t>=l&&this.right.forEachLine(e,t,n,s,l,o);else{let u=this.lineAt(l,kn.ByPos,n,i,a);e<u.from&&this.left.forEachLine(e,u.from-1,n,i,a,o),u.to>=e&&u.from<=t&&o(u),t>u.to&&this.right.forEachLine(u.to+1,t,n,s,l,o)}}replace(e,t,n){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));let a=[];e>0&&this.decomposeLeft(e,a);let o=a.length;for(let s of n)a.push(s);if(e>0&&EI(a,o-1),t<this.length){let s=a.length;this.decomposeRight(t,a),EI(a,s)}return Ia.of(a)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Ia.of(this.break?[e,null,t]:[e,t]):(this.left=hw(this.left,e),this.right=hw(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,i){let{left:a,right:o}=this,s=t+a.length+this.break,l=null;return i&&i.from<=t+a.length&&i.more?l=a=a.updateHeight(e,t,n,i):a.updateHeight(e,t,n),i&&i.from<=s+o.length&&i.more?l=o=o.updateHeight(e,s,n,i):o.updateHeight(e,s,n),l?this.balanced(a,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function EI(r,e){let t,n;r[e]==null&&(t=r[e-1])instanceof Hi&&(n=r[e+1])instanceof Hi&&r.splice(e-1,3,new Hi(t.length+1+n.length))}const B1e=5;class wN{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof zo?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new zo(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,a=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;n.block?this.addBlock(new xz(o,i,n)):(o||a||i>=B1e)&&this.addLineDeco(i,a,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new zo(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Hi(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof zo)return e;let t=new zo(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof zo)&&!this.isCovered?this.nodes.push(new zo(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof zo&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,t,n,i){let a=new wN(n,e);return qr.spans(t,n,i,a,0),a.finish(n)}}function q1e(r,e,t){let n=new F1e;return qr.compare(r,e,t,n,0),n.changes}class F1e{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&w0(e,t,this.changes,5)}}function V1e(r,e){let t=r.getBoundingClientRect(),n=r.ownerDocument,i=n.defaultView||window,a=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),s=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom);for(let u=r.parentNode;u&&u!=n.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let p=c.getBoundingClientRect();a=Math.max(a,p.left),o=Math.min(o,p.right),s=Math.max(s,p.top),l=Math.min(u==r.parentNode?i.innerHeight:l,p.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:a-t.left,right:Math.max(a,o)-t.left,top:s-(t.top+e),bottom:Math.max(s,l)-(t.top+e)}}function Z1e(r){let e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function z1e(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class tA{constructor(e,t,n,i){this.from=e,this.to=t,this.size=n,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],a=t[n];if(i.from!=a.from||i.to!=a.to||i.size!=a.size)return!1}return!0}draw(e,t){return jt.replace({widget:new H1e(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class H1e extends uc{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class MI{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=AI,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Sn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(gN).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new _1e(t),this.stateDeco=e.facet(Pg).filter(n=>typeof n!="function"),this.heightMap=Ia.empty().applyChanges(this.stateDeco,Wr.empty,this.heightOracle.setDoc(e.doc),[new xs(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=jt.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let i=n?t.head:t.anchor;if(!e.some(({from:a,to:o})=>i>=a&&i<=o)){let{from:a,to:o}=this.lineBlockAt(i);e.push(new Rb(a,o))}}return this.viewports=e.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?AI:new kN(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Fv(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Pg).filter(c=>typeof c!="function");let i=e.changedRanges,a=xs.extendWithRanges(i,q1e(n,this.stateDeco,e?e.changes:bi.empty(this.state.doc.length))),o=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);TI(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=o||Dp)&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(oz)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,a=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?Sn.RTL:Sn.LTR;let o=this.heightOracle.mustRefreshForWrapping(a),s=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let u=0,c=0;if(s.width&&s.height){let{scaleX:G,scaleY:J}=NZ(t,s);(G>.005&&Math.abs(this.scaleX-G)>.005||J>.005&&Math.abs(this.scaleY-J)>.005)&&(this.scaleX=G,this.scaleY=J,u|=16,o=l=!0)}let h=(parseInt(n.paddingTop)||0)*this.scaleY,p=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=p)&&(this.paddingTop=h,this.paddingBottom=p,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let g=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=g&&(this.scrollAnchorHeight=-1,this.scrollTop=g),this.scrolledToBottom=_Z(e.scrollDOM);let O=(this.printing?z1e:V1e)(t,this.paddingTop),T=O.top-this.pixelViewport.top,M=O.bottom-this.pixelViewport.bottom;this.pixelViewport=O;let R=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(R!=this.inView&&(this.inView=R,R&&(l=!0)),!this.inView&&!this.scrollTarget&&!Z1e(e.dom))return 0;let z=s.width;if((this.contentDOMWidth!=z||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let G=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(G)&&(o=!0),o||i.lineWrapping&&Math.abs(z-this.contentDOMWidth)>i.charWidth){let{lineHeight:J,charWidth:ee,textHeight:le}=e.docView.measureTextSize();o=J>0&&i.refresh(a,J,ee,le,z/ee,G),o&&(e.docView.minWidth=0,u|=16)}T>0&&M>0?c=Math.max(T,M):T<0&&M<0&&(c=Math.min(T,M)),TI();for(let J of this.viewports){let ee=J.from==this.viewport.from?G:e.docView.measureVisibleLineHeights(J);this.heightMap=(o?Ia.empty().applyChanges(this.stateDeco,Wr.empty,this.heightOracle,[new xs(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new I1e(J.from,ee))}Dp&&(u|=2)}let U=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return U&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||U)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,a=this.heightOracle,{visibleTop:o,visibleBottom:s}=this,l=new Rb(i.lineAt(o-n*1e3,kn.ByHeight,a,0,0).from,i.lineAt(s+(1-n)*1e3,kn.ByHeight,a,0,0).to);if(t){let{head:u}=t.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(u,kn.ByPos,a,0,0),p;t.y=="center"?p=(h.top+h.bottom)/2-c/2:t.y=="start"||t.y=="nearest"&&u<l.from?p=h.top:p=h.bottom-c,l=new Rb(i.lineAt(p-1e3/2,kn.ByHeight,a,0,0).from,i.lineAt(p+c+1e3/2,kn.ByHeight,a,0,0).to)}}return l}mapViewport(e,t){let n=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Rb(this.heightMap.lineAt(n,kn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,kn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,kn.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(t,kn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:s}=this;return(e==0||i<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||a>=s+Math.max(10,Math.min(n,250)))&&i>o-2*1e3&&a<s+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let i of e)t.touchesRange(i.from,i.to)||n.push(new tA(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,a=i>>1,o=i<<1;if(this.defaultTextDirection!=Sn.LTR&&!n)return[];let s=[],l=(c,h,p,g)=>{if(h-c<a)return;let O=this.state.selection.main,T=[O.from];O.empty||T.push(O.to);for(let R of T)if(R>c&&R<h){l(c,R-10,p,g),l(R+10,h,p,g);return}let M=U1e(e,R=>R.from>=p.from&&R.to<=p.to&&Math.abs(R.from-c)<a&&Math.abs(R.to-h)<a&&!T.some(z=>R.from<z&&R.to>z));if(!M){if(h<p.to&&t&&n&&t.visibleRanges.some(U=>U.from<=h&&U.to>=h)){let U=t.moveToLineBoundary(Ye.cursor(h),!1,!0).head;U>c&&(h=U)}let R=this.gapSize(p,c,h,g),z=n||R<2e6?R:2e6;M=new tA(c,h,R,z)}s.push(M)},u=c=>{if(c.length<o||c.type!=_a.Text)return;let h=W1e(c.from,c.to,this.stateDeco);if(h.total<o)return;let p=this.scrollTarget?this.scrollTarget.range.head:null,g,O;if(n){let T=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,M,R;if(p!=null){let z=$b(h,p),U=((this.visibleBottom-this.visibleTop)/2+T)/c.height;M=z-U,R=z+U}else M=(this.visibleTop-c.top-T)/c.height,R=(this.visibleBottom-c.top+T)/c.height;g=Nb(h,M),O=Nb(h,R)}else{let T=h.total*this.heightOracle.charWidth,M=i*this.heightOracle.charWidth,R=0;if(T>2e6)for(let ee of e)ee.from>=c.from&&ee.from<c.to&&ee.size!=ee.displaySize&&ee.from*this.heightOracle.charWidth+R<this.pixelViewport.left&&(R=ee.size-ee.displaySize);let z=this.pixelViewport.left+R,U=this.pixelViewport.right+R,G,J;if(p!=null){let ee=$b(h,p),le=((U-z)/2+M)/T;G=ee-le,J=ee+le}else G=(z-M)/T,J=(U+M)/T;g=Nb(h,G),O=Nb(h,J)}g>c.from&&l(c.from,g,c,h),O<c.to&&l(O,c.to,c,h)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return s}gapSize(e,t,n,i){let a=$b(i,n)-$b(i,t);return this.heightOracle.lineWrapping?e.height*a:i.total*this.heightOracle.charWidth*a}updateLineGaps(e){tA.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=jt.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];qr.spans(t,this.viewport.from,this.viewport.to,{span(a,o){n.push({from:a,to:o})},point(){}},20);let i=0;if(n.length!=this.visibleRanges.length)i=12;else for(let a=0;a<n.length&&!(i&8);a++){let o=this.visibleRanges[a],s=n[a];(o.from!=s.from||o.to!=s.to)&&(i|=4,e&&e.mapPos(o.from,-1)==s.from&&e.mapPos(o.to,1)==s.to||(i|=8))}return this.visibleRanges=n,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Fv(this.heightMap.lineAt(e,kn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Fv(this.heightMap.lineAt(this.scaler.fromDOM(e),kn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Fv(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Rb{constructor(e,t){this.from=e,this.to=t}}function W1e(r,e,t){let n=[],i=r,a=0;return qr.spans(t,r,e,{span(){},point(o,s){o>i&&(n.push({from:i,to:o}),a+=o-i),i=s}},20),i<e&&(n.push({from:i,to:e}),a+=e-i),{total:a,ranges:n}}function Nb({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(r*t);for(let i=0;;i++){let{from:a,to:o}=e[i],s=o-a;if(n<=s)return a+n;n-=s}}function $b(r,e){let t=0;for(let{from:n,to:i}of r.ranges){if(e<=i){t+=e-n;break}t+=i-n}return t/r.total}function U1e(r,e){for(let t of r)if(e(t))return t}const AI={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class kN{constructor(e,t,n){let i=0,a=0,o=0;this.viewports=n.map(({from:s,to:l})=>{let u=t.lineAt(s,kn.ByPos,e,0,0).top,c=t.lineAt(l,kn.ByPos,e,0,0).bottom;return i+=c-u,{from:s,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let s of this.viewports)s.domTop=o+(s.top-a)*this.scale,o=s.domBottom=s.domTop+(s.bottom-s.top),a=s.bottom}toDOM(e){for(let t=0,n=0,i=0;;t++){let a=t<this.viewports.length?this.viewports[t]:null;if(!a||e<a.top)return i+(e-n)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);n=a.bottom,i=a.domBottom}}fromDOM(e){for(let t=0,n=0,i=0;;t++){let a=t<this.viewports.length?this.viewports[t]:null;if(!a||e<a.domTop)return n+(e-i)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);n=a.bottom,i=a.domBottom}}eq(e){return e instanceof kN?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to):!1}}function Fv(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),n=e.toDOM(r.bottom);return new Wl(r.from,r.length,t,n-t,Array.isArray(r._content)?r._content.map(i=>Fv(i,e)):r._content)}const Lb=Mt.define({combine:r=>r.join(" ")}),SP=Mt.define({combine:r=>r.indexOf(!0)>-1}),xP=mf.newName(),Cz=mf.newName(),Tz=mf.newName(),Ez={"&light":"."+Cz,"&dark":"."+Tz};function CP(r,e,t){return new mf(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return r;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):r+" "+n}})}const X1e=CP("."+xP,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Ez),j1e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},rA=Tt.ie&&Tt.ie_version<=11;let Y1e=class{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Nwe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(Tt.ie&&Tt.ie_version<=11||Tt.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Tt.chrome&&Tt.chrome_version<126)&&(this.editContext=new K1e(e),e.state.facet(Fu)&&(e.contentDOM.editContext=this.editContext.editContext)),rA&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(Fu)?n.root.activeElement!=this.dom:!b0(this.dom,i))return;let a=i.anchorNode&&n.docView.nearest(i.anchorNode);if(a&&a.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Tt.ie&&Tt.ie_version<=11||Tt.android&&Tt.chrome)&&!n.state.selection.main.empty&&i.focusNode&&ag(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ag(e.root);if(!t)return!1;let n=Tt.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&G1e(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let i=b0(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Lwe(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,j1e),rA&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),rA&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let i=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&pp(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,i=!1;for(let a of e){let o=this.readMutation(a);o&&(o.typeOver&&(i=!0),t==-1?{from:t,to:n}=o:(t=Math.min(o.from,t),n=Math.max(o.to,n)))}return{from:t,to:n,typeOver:i}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),i=this.selectionChanged&&b0(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new p1e(this.view,e,t,n);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,i=mz(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let n=DI(t,e.previousSibling||e.target.previousSibling,-1),i=DI(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Fu)!=e.state.facet(Fu)&&(e.view.contentDOM.editContext=e.state.facet(Fu)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function DI(r,e,t){for(;e;){let n=hn.get(e);if(n&&n.parent==r)return n;let i=e.parentNode;e=i!=r.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function PI(r,e){let t=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,o=r.docView.domAtPos(r.state.selection.main.anchor);return ag(o.node,o.offset,i,a)&&([t,n,i,a]=[i,a,t,n]),{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:a}}function G1e(r,e){if(e.getComposedRanges){let i=e.getComposedRanges(r.root)[0];if(i)return PI(r,i)}let t=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",n,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",n,!0),t?PI(r,t):null}class K1e{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let i=e.state.selection.main,{anchor:a,head:o}=i,s=this.toEditorPos(n.updateRangeStart),l=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:s,drifted:!1});let u={from:s,to:l,insert:Wr.of(n.text.split(`
`))};if(u.from==this.from&&a<this.from?u.from=a:u.to==this.to&&a>this.to&&(u.to=a),u.from==u.to&&!u.insert.length){let c=Ye.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));c.main.eq(i)||e.dispatch({selection:c,userEvent:"select"});return}if((Tt.mac||Tt.android)&&u.from==o-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(u={from:s,to:l,insert:Wr.of([n.text.replace("."," ")])}),this.pendingContextChange=u,!e.state.readOnly){let c=this.to-this.from+(u.to-u.from+u.insert.length);bN(e,u,Ye.single(this.toEditorPos(n.selectionStart,c),this.toEditorPos(n.selectionEnd,c)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=n=>{let i=[],a=null;for(let o=this.toEditorPos(n.rangeStart),s=this.toEditorPos(n.rangeEnd);o<s;o++){let l=e.coordsForChar(o);a=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||a||new DOMRect,i.push(a)}t.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let a of n.getTextFormats()){let o=a.underlineStyle,s=a.underlineThickness;if(o!="None"&&s!="None"){let l=this.toEditorPos(a.rangeStart),u=this.toEditorPos(a.rangeEnd);if(l<u){let c=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${s=="Thin"?1:2}px`;i.push(jt.mark({attributes:{style:c}}).range(l,u))}}}e.dispatch({effects:lz.of(jt.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=Ag(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,i=this.pendingContextChange;return e.changes.iterChanges((a,o,s,l,u)=>{if(n)return;let c=u.length-(o-a);if(i&&o>=i.to)if(i.from==a&&i.to==o&&i.insert.eq(u)){i=this.pendingContextChange=null,t+=c,this.to+=c;return}else i=null,this.revertPending(e.state);if(a+=t,o+=t,o<=this.from)this.from+=c,this.to+=c;else if(a<this.to){if(a<this.from||o>this.to||this.to-this.from+u.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(o),u.toString()),this.to+=c}t+=c}),i&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}let At=class TP{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(a=>n(a,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||$we(e.parent)||document,this.viewState=new MI(e.state||Kn.create(e)),e.scrollTo&&e.scrollTo.is(Ab)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Qv).map(i=>new KM(i));for(let i of this.plugins)i.update(this);this.observer=new Y1e(this),this.inputState=new y1e(this),this.inputState.ensureHandlers(this.plugins),this.docView=new uI(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof La?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,i,a=this.state;for(let p of e){if(p.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=p.state}if(this.destroyed){this.viewState.state=a;return}let o=this.hasFocus,s=0,l=null;e.some(p=>p.annotation(wz))?(this.inputState.notifiedFocused=o,s=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=kz(a,o),l||(s=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(c=null)):this.observer.clear(),a.facet(Kn.phrases)!=this.state.facet(Kn.phrases))return this.setState(a);i=fw.create(this,a,e),i.flags|=s;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let p of e){if(h&&(h=h.map(p.changes)),p.scrollIntoView){let{main:g}=p.state.selection;h=new mp(g.empty?g:Ye.cursor(g.head,g.head>g.anchor?-1:1))}for(let g of p.effects)g.is(Ab)&&(h=g.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=dw.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(Bv)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(p=>p.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Lb)!=i.state.facet(Lb)&&(this.viewState.mustMeasureContent=!0),(t||n||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let p of this.state.facet(yP))try{p(i)}catch(g){ho(this.state,g,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!mz(this,c)&&u.force&&pp(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new MI(e),this.plugins=e.facet(Qv).map(n=>new KM(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new uI(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Qv),n=e.state.facet(Qv);if(t!=n){let i=[];for(let a of n){let o=t.indexOf(a);if(o<0)i.push(new KM(a));else{let s=this.plugins[o];s.mustUpdate=e,i.push(s)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(n){ho(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let s=0;;s++){if(o<0)if(_Z(n))a=-1,o=this.viewState.heightMap.height;else{let g=this.viewState.scrollAnchorAt(i);a=g.from,o=g.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(s>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(g=>{try{return g.read(this)}catch(O){return ho(this.state,O),RI}}),h=fw.create(this,this.state,[]),p=!1;h.flags|=l,t?t.flags|=l:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),p=this.docView.update(h),p&&this.docViewUpdate());for(let g=0;g<u.length;g++)if(c[g]!=RI)try{let O=u[g];O.write&&O.write(c[g],this)}catch(O){ho(this.state,O)}if(p&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let O=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-o;if(O>1||O<-1){i=i+O,n.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let s of this.state.facet(yP))s(t)}get themeClasses(){return xP+" "+(this.state.facet(SP)?Tz:Cz)+" "+this.state.facet(Lb)}updateAttrs(){let e=NI(this,uz,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Fu)?"true":"false",class:"cm-content",style:`${Tt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),NI(this,gN,t);let n=this.observer.ignore(()=>{let i=pP(this.contentDOM,this.contentAttrs,t),a=pP(this.dom,this.editorAttrs,e);return i||a});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let i of n.effects)if(i.is(TP.announce)){t&&(this.announceDOM.textContent=""),t=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Bv);let e=this.state.facet(TP.cspNonce);mf.mount(this.root,this.styleModules.concat(X1e).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return eA(this,e,pI(this,e,t,n))}moveByGroup(e,t){return eA(this,e,pI(this,e,t,n=>c1e(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),a=n[t?n.length-1:0];return Ye.cursor(a.side(t,i)+e.from,a.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,n=!0){return u1e(this,e,t,n)}moveVertically(e,t,n){return eA(this,e,f1e(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),pz(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),a=this.bidiSpans(i),o=a[Gc.find(a,e-i.from,-1,t)];return R1(n,o.dir==Sn.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(az)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>J1e)return GZ(e.length);let t=this.textDirectionAt(e.from),n;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==t&&(a.fresh||YZ(a.isolates,n=lI(this,e))))return a.order;n||(n=lI(this,e));let i=Uwe(e.text,t,n);return this.bidiCache.push(new dw(e.from,e.to,t,n,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Tt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{$Z(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Ab.of(new mp(typeof e=="number"?Ye.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return Ab.of(new mp(Ye.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ci.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ci.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=mf.newName(),i=[Lb.of(n),Bv.of(CP(`.${n}`,e))];return t&&t.dark&&i.push(SP.of(!0)),i}static baseTheme(e){return wf.lowest(Bv.of(CP("."+xP,e,Ez)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),i=n&&hn.get(n)||hn.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}};At.styleModule=Bv;At.inputHandler=nz;At.clipboardInputFilter=mN;At.clipboardOutputFilter=vN;At.scrollHandler=sz;At.focusChangeEffect=iz;At.perLineTextDirection=az;At.exceptionSink=rz;At.updateListener=yP;At.editable=Fu;At.mouseSelectionStyle=tz;At.dragMovesSelection=ez;At.clickAddsSelectionRange=JZ;At.decorations=Pg;At.outerDecorations=cz;At.atomicRanges=ON;At.bidiIsolatedRanges=fz;At.scrollMargins=hz;At.darkTheme=SP;At.cspNonce=Mt.define({combine:r=>r.length?r[0]:""});At.contentAttributes=gN;At.editorAttributes=uz;At.lineWrapping=At.contentAttributes.of({class:"cm-lineWrapping"});At.announce=fr.define();const J1e=4096,RI={};class dw{constructor(e,t,n,i,a,o){this.from=e,this.to=t,this.dir=n,this.isolates=i,this.fresh=a,this.order=o}static update(e,t){if(t.empty&&!e.some(a=>a.fresh))return e;let n=[],i=e.length?e[e.length-1].dir:Sn.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let o=e[a];o.dir==i&&!t.touchesRange(o.from,o.to)&&n.push(new dw(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function NI(r,e,t){for(let n=r.state.facet(e),i=n.length-1;i>=0;i--){let a=n[i],o=typeof a=="function"?a(r):a;o&&dP(o,t)}return t}const eke=Tt.mac?"mac":Tt.windows?"win":Tt.linux?"linux":"key";function tke(r,e){const t=r.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let i,a,o,s;for(let l=0;l<t.length-1;++l){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))a=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?s=!0:a=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(n="Alt-"+n),a&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function _b(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const rke=wf.default(At.domEventHandlers({keydown(r,e){return Az(Mz(e.state),r,e,"editor")}})),uO=Mt.define({enables:rke}),$I=new WeakMap;function Mz(r){let e=r.facet(uO),t=$I.get(e);return t||$I.set(e,t=ake(e.reduce((n,i)=>n.concat(i),[]))),t}function nke(r,e,t){return Az(Mz(r.state),e,r,t)}let zc=null;const ike=4e3;function ake(r,e=eke){let t=Object.create(null),n=Object.create(null),i=(o,s)=>{let l=n[o];if(l==null)n[o]=s;else if(l!=s)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},a=(o,s,l,u,c)=>{var h,p;let g=t[o]||(t[o]=Object.create(null)),O=s.split(/ (?!$)/).map(R=>tke(R,e));for(let R=1;R<O.length;R++){let z=O.slice(0,R).join(" ");i(z,!0),g[z]||(g[z]={preventDefault:!0,stopPropagation:!1,run:[U=>{let G=zc={view:U,prefix:z,scope:o};return setTimeout(()=>{zc==G&&(zc=null)},ike),!0}]})}let T=O.join(" ");i(T,!1);let M=g[T]||(g[T]={preventDefault:!1,stopPropagation:!1,run:((p=(h=g._any)===null||h===void 0?void 0:h.run)===null||p===void 0?void 0:p.slice())||[]});l&&M.run.push(l),u&&(M.preventDefault=!0),c&&(M.stopPropagation=!0)};for(let o of r){let s=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of s){let c=t[u]||(t[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let p in c)c[p].run.push(g=>h(g,EP))}let l=o[e]||o.key;if(l)for(let u of s)a(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&a(u,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}let EP=null;function Az(r,e,t,n){EP=e;let i=RZ(e),a=so(i,0),o=Hl(a)==i.length&&i!=" ",s="",l=!1,u=!1,c=!1;zc&&zc.view==t&&zc.scope==n&&(s=zc.prefix+" ",gz.indexOf(e.keyCode)<0&&(u=!0,zc=null));let h=new Set,p=M=>{if(M){for(let R of M.run)if(!h.has(R)&&(h.add(R),R(t)))return M.stopPropagation&&(c=!0),!0;M.preventDefault&&(M.stopPropagation&&(c=!0),u=!0)}return!1},g=r[n],O,T;return g&&(p(g[s+_b(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Tt.windows&&e.ctrlKey&&e.altKey)&&(O=ec[e.keyCode])&&O!=i?(p(g[s+_b(O,e,!0)])||e.shiftKey&&(T=Mg[e.keyCode])!=i&&T!=O&&p(g[s+_b(T,e,!1)]))&&(l=!0):o&&e.shiftKey&&p(g[s+_b(i,e,!0)])&&(l=!0),!l&&p(g._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),EP=null,l}class cO{constructor(e,t,n,i,a){this.className=e,this.left=t,this.top=n,this.width=i,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let a=Dz(e);return[new cO(t,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}else return oke(e,t,n)}}function Dz(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==Sn.LTR?e.left:e.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:e.top-r.scrollDOM.scrollTop*r.scaleY}}function LI(r,e,t,n){let i=r.coordsAtPos(e,t*2);if(!i)return n;let a=r.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,s=r.posAtCoords({x:a.left+1,y:o}),l=r.posAtCoords({x:a.right-1,y:o});return s==null||l==null?n:{from:Math.max(n.from,Math.min(s,l)),to:Math.min(n.to,Math.max(s,l))}}function oke(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let n=Math.max(t.from,r.viewport.from),i=Math.min(t.to,r.viewport.to),a=r.textDirection==Sn.LTR,o=r.contentDOM,s=o.getBoundingClientRect(),l=Dz(r),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=s.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),p=s.right-(c?parseInt(c.paddingRight):0),g=wP(r,n),O=wP(r,i),T=g.type==_a.Text?g:null,M=O.type==_a.Text?O:null;if(T&&(r.lineWrapping||g.widgetLineBreaks)&&(T=LI(r,n,1,T)),M&&(r.lineWrapping||O.widgetLineBreaks)&&(M=LI(r,i,-1,M)),T&&M&&T.from==M.from&&T.to==M.to)return z(U(t.from,t.to,T));{let J=T?U(t.from,null,T):G(g,!1),ee=M?U(null,t.to,M):G(O,!0),le=[];return(T||g).to<(M||O).from-(T&&M?1:0)||g.widgetLineBreaks>1&&J.bottom+r.defaultLineHeight/2<ee.top?le.push(R(h,J.bottom,p,ee.top)):J.bottom<ee.top&&r.elementAtHeight((J.bottom+ee.top)/2).type==_a.Text&&(J.bottom=ee.top=(J.bottom+ee.top)/2),z(J).concat(le).concat(z(ee))}function R(J,ee,le,pe){return new cO(e,J-l.left,ee-l.top,le-J,pe-ee)}function z({top:J,bottom:ee,horizontal:le}){let pe=[];for(let be=0;be<le.length;be+=2)pe.push(R(le[be],J,le[be+1],ee));return pe}function U(J,ee,le){let pe=1e9,be=-1e9,Fe=[];function Ge(at,dt,Ot,Qt,Vt){let ar=r.coordsAtPos(at,at==le.to?-2:2),bt=r.coordsAtPos(Ot,Ot==le.from?2:-2);!ar||!bt||(pe=Math.min(ar.top,bt.top,pe),be=Math.max(ar.bottom,bt.bottom,be),Vt==Sn.LTR?Fe.push(a&&dt?h:ar.left,a&&Qt?p:bt.right):Fe.push(!a&&Qt?h:bt.left,!a&&dt?p:ar.right))}let _e=J??le.from,ot=ee??le.to;for(let at of r.visibleRanges)if(at.to>_e&&at.from<ot)for(let dt=Math.max(at.from,_e),Ot=Math.min(at.to,ot);;){let Qt=r.state.doc.lineAt(dt);for(let Vt of r.bidiSpans(Qt)){let ar=Vt.from+Qt.from,bt=Vt.to+Qt.from;if(ar>=Ot)break;bt>dt&&Ge(Math.max(ar,dt),J==null&&ar<=_e,Math.min(bt,Ot),ee==null&&bt>=ot,Vt.dir)}if(dt=Qt.to+1,dt>=Ot)break}return Fe.length==0&&Ge(_e,J==null,ot,ee==null,r.textDirection),{top:pe,bottom:be,horizontal:Fe}}function G(J,ee){let le=s.top+(ee?J.top:J.bottom);return{top:le,bottom:le,horizontal:[]}}}function ske(r,e){return r.constructor==e.constructor&&r.eq(e)}class lke{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(x0)!=e.state.facet(x0)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(x0);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!ske(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[n].constructor&&i.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const x0=Mt.define();function Pz(r){return[ci.define(e=>new lke(e,r)),x0.of(r)]}const Rz=!(Tt.ios&&Tt.webkit&&Tt.webkit_version<534),Rg=Mt.define({combine(r){return su(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Nz(r={}){return[Rg.of(r),uke,cke,fke,oz.of(!0)]}function $z(r){return r.startState.facet(Rg)!=r.state.facet(Rg)}const uke=Pz({above:!0,markers(r){let{state:e}=r,t=e.facet(Rg),n=[];for(let i of e.selection.ranges){let a=i==e.selection.main;if(i.empty?!a||Rz:t.drawRangeCursor){let o=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",s=i.empty?i:Ye.cursor(i.head,i.head>i.anchor?-1:1);for(let l of cO.forRange(r,o,s))n.push(l)}}return n},update(r,e){r.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=$z(r);return t&&_I(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){_I(e.state,r)},class:"cm-cursorLayer"});function _I(r,e){e.style.animationDuration=r.facet(Rg).cursorBlinkRate+"ms"}const cke=Pz({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:cO.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||$z(r)},class:"cm-selectionLayer"}),MP={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};Rz&&(MP[".cm-line"].caretColor=MP[".cm-content"].caretColor="transparent !important");const fke=wf.highest(At.theme(MP)),Lz=fr.define({map(r,e){return r==null?null:e.mapPos(r)}}),Vv=Ri.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((t,n)=>n.is(Lz)?n.value:t,r)}}),hke=ci.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let t=r.state.field(Vv);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(Vv)!=t||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,e=r.state.field(Vv),t=e!=null&&r.coordsAtPos(e);if(!t)return null;let n=r.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+r.scrollDOM.scrollLeft*r.scaleX,top:t.top-n.top+r.scrollDOM.scrollTop*r.scaleY,height:t.bottom-t.top}}drawCursor(r){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;r?(this.cursor.style.left=r.left/e+"px",this.cursor.style.top=r.top/t+"px",this.cursor.style.height=r.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(Vv)!=r&&this.view.dispatch({effects:Lz.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dke(){return[Vv,hke]}function II(r,e,t,n,i){e.lastIndex=0;for(let a=r.iterRange(t,n),o=t,s;!a.next().done;o+=a.value.length)if(!a.lineBreak)for(;s=e.exec(a.value);)i(o+s.index,s)}function pke(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let n=[];for(let{from:i,to:a}of t)i=Math.max(r.state.doc.lineAt(i).from,i-e),a=Math.min(r.state.doc.lineAt(a).to,a+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=a:n.push({from:i,to:a});return n}class mke{constructor(e){const{regexp:t,decoration:n,decorate:i,boundary:a,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(s,l,u,c)=>i(c,u,u+s[0].length,s,l);else if(typeof n=="function")this.addMatch=(s,l,u,c)=>{let h=n(s,l,u);h&&c(u,u+s[0].length,h)};else if(n)this.addMatch=(s,l,u,c)=>c(u,u+s[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=o}createDeco(e){let t=new Ju,n=t.add.bind(t);for(let{from:i,to:a}of pke(e,this.maxLength))II(e.state.doc,this.regexp,i,a,(o,s)=>this.addMatch(s,e,o,n));return t.finish()}updateDeco(e,t){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((a,o,s,l)=>{l>=e.view.viewport.from&&s<=e.view.viewport.to&&(n=Math.min(s,n),i=Math.max(l,i))}),e.viewportMoved||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),n,i):t}updateRange(e,t,n,i){for(let a of e.visibleRanges){let o=Math.max(a.from,n),s=Math.min(a.to,i);if(s>o){let l=e.state.doc.lineAt(o),u=l.to<s?e.state.doc.lineAt(s):l,c=Math.max(a.from,l.from),h=Math.min(a.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;s<u.to;s++)if(this.boundary.test(u.text[s-u.from])){h=s;break}}let p=[],g,O=(T,M,R)=>p.push(R.range(T,M));if(l==u)for(this.regexp.lastIndex=c-l.from;(g=this.regexp.exec(l.text))&&g.index<h-l.from;)this.addMatch(g,e,g.index+l.from,O);else II(e.state.doc,this.regexp,c,h,(T,M)=>this.addMatch(M,e,T,O));t=t.update({filterFrom:c,filterTo:h,filter:(T,M)=>T<c||M>h,add:p})}}return t}}const AP=/x/.unicode!=null?"gu":"g",vke=new RegExp(`[\0-\b
--ÂÂ­Øâââ\u2028\u2029â­â®â¦â§â©\uFEFFï¿¹-ï¿¼]`,AP),gke={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let nA=null;function Oke(){var r;if(nA==null&&typeof document<"u"&&document.body){let e=document.body.style;nA=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return nA||!1}const C0=Mt.define({combine(r){let e=su(r,{render:null,specialChars:vke,addSpecialChars:null});return(e.replaceTabs=!Oke())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,AP)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,AP)),e}});function _z(r={}){return[C0.of(r),yke()]}let QI=null;function yke(){return QI||(QI=ci.fromClass(class{constructor(r){this.view=r,this.decorations=jt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(C0)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new mke({regexp:r.specialChars,decoration:(e,t,n)=>{let{doc:i}=t.state,a=so(e[0],0);if(a==9){let o=i.lineAt(n),s=t.state.tabSize,l=im(o.text,s,n-o.from);return jt.replace({widget:new Ske((s-l%s)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=jt.replace({widget:new kke(r,a)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(C0);r.startState.facet(C0)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const bke="â¢";function wke(r){return r>=32?bke:r==10?"â¤":String.fromCharCode(9216+r)}class kke extends uc{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=wke(this.code),n=e.state.phrase("Control character")+" "+(gke[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,t);if(i)return i;let a=document.createElement("span");return a.textContent=t,a.title=n,a.setAttribute("aria-label",n),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class Ske extends uc{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function xke(){return Tke}const Cke=jt.line({class:"cm-activeLine"}),Tke=ci.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let n of r.state.selection.ranges){let i=r.lineBlockAt(n.head);i.from>e&&(t.push(Cke.range(i.from)),e=i.from)}return jt.set(t)}},{decorations:r=>r.decorations}),DP=2e3;function Eke(r,e,t){let n=Math.min(e.line,t.line),i=Math.max(e.line,t.line),a=[];if(e.off>DP||t.off>DP||e.col<0||t.col<0){let o=Math.min(e.off,t.off),s=Math.max(e.off,t.off);for(let l=n;l<=i;l++){let u=r.doc.line(l);u.length<=s&&a.push(Ye.range(u.from+o,u.to+s))}}else{let o=Math.min(e.col,t.col),s=Math.max(e.col,t.col);for(let l=n;l<=i;l++){let u=r.doc.line(l),c=oP(u.text,o,r.tabSize,!0);if(c<0)a.push(Ye.cursor(u.to));else{let h=oP(u.text,s,r.tabSize);a.push(Ye.range(u.from+c,u.from+h))}}}return a}function Mke(r,e){let t=r.coordsAtPos(r.viewport.from);return t?Math.round(Math.abs((t.left-e)/r.defaultCharacterWidth)):-1}function BI(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1),n=r.state.doc.lineAt(t),i=t-n.from,a=i>DP?-1:i==n.length?Mke(r,e.clientX):im(n.text,r.state.tabSize,t-n.from);return{line:n.number,col:a,off:i}}function Ake(r,e){let t=BI(r,e),n=r.state.selection;return t?{update(i){if(i.docChanged){let a=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(a);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},n=n.map(i.changes)}},get(i,a,o){let s=BI(r,i);if(!s)return n;let l=Eke(r.state,t,s);return l.length?o?Ye.create(l.concat(n.ranges)):Ye.create(l):n}}:null}function Dke(r){let e=t=>t.altKey&&t.button==0;return At.mouseSelectionStyle.of((t,n)=>e(n)?Ake(t,n):null)}const Pke={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},Rke={style:"cursor: crosshair"};function Nke(r={}){let[e,t]=Pke[r.key||"Alt"],n=ci.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[n,At.contentAttributes.of(i=>{var a;return!((a=i.plugin(n))===null||a===void 0)&&a.isDown?Rke:null})]}const wv="-10000px";class Iz{constructor(e,t,n,i){this.facet=t,this.createTooltipView=n,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let a=null;this.tooltipViews=this.tooltips.map(o=>a=n(o,a))}update(e,t){var n;let i=e.state.facet(this.facet),a=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],s=t?[]:null;for(let l=0;l<a.length;l++){let u=a[l],c=-1;if(u){for(let h=0;h<this.tooltips.length;h++){let p=this.tooltips[h];p&&p.create==u.create&&(c=h)}if(c<0)o[l]=this.createTooltipView(u,l?o[l-1]:null),s&&(s[l]=!!u.above);else{let h=o[l]=this.tooltipViews[c];s&&(s[l]=t[c]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(n=l.destroy)===null||n===void 0||n.call(l));return t&&(s.forEach((l,u)=>t[u]=l),t.length=s.length),this.input=i,this.tooltips=a,this.tooltipViews=o,!0}}function $ke(r){let e=r.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const iA=Mt.define({combine:r=>{var e,t,n;return{position:Tt.ios?"absolute":((e=r.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=r.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||$ke}}}),qI=new WeakMap,SN=ci.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(iA);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Iz(r,xN,(t,n)=>this.createTooltip(t,n),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,n=r.state.facet(iA);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),n=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=wv,t.dom.style.left="0px",this.container.insertBefore(t.dom,n),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(r=n.destroy)===null||r===void 0||r.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(Tt.gecko)t=a.offsetParent!=this.container.ownerDocument.body;else if(a.style.top==wv&&a.style.left=="0px"){let o=a.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(r=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),i=yN(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(iA).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:t}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let s of this.manager.tooltipViews)s.dom.style.position="absolute"}let{visible:t,space:n,scaleX:i,scaleY:a}=r,o=[];for(let s=0;s<this.manager.tooltips.length;s++){let l=this.manager.tooltips[s],u=this.manager.tooltipViews[s],{dom:c}=u,h=r.pos[s],p=r.size[s];if(!h||l.clip!==!1&&(h.bottom<=Math.max(t.top,n.top)||h.top>=Math.min(t.bottom,n.bottom)||h.right<Math.max(t.left,n.left)-.1||h.left>Math.min(t.right,n.right)+.1)){c.style.top=wv;continue}let g=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,O=g?7:0,T=p.right-p.left,M=(e=qI.get(u))!==null&&e!==void 0?e:p.bottom-p.top,R=u.offset||_ke,z=this.view.textDirection==Sn.LTR,U=p.width>n.right-n.left?z?n.left:n.right-p.width:z?Math.max(n.left,Math.min(h.left-(g?14:0)+R.x,n.right-T)):Math.min(Math.max(n.left,h.left-T+(g?14:0)-R.x),n.right-T),G=this.above[s];!l.strictSide&&(G?h.top-M-O-R.y<n.top:h.bottom+M+O+R.y>n.bottom)&&G==n.bottom-h.bottom>h.top-n.top&&(G=this.above[s]=!G);let J=(G?h.top-n.top:n.bottom-h.bottom)-O;if(J<M&&u.resize!==!1){if(J<this.view.defaultLineHeight){c.style.top=wv;continue}qI.set(u,M),c.style.height=(M=J)/a+"px"}else c.style.height&&(c.style.height="");let ee=G?h.top-M-O-R.y:h.bottom+O+R.y,le=U+T;if(u.overlap!==!0)for(let pe of o)pe.left<le&&pe.right>U&&pe.top<ee+M&&pe.bottom>ee&&(ee=G?pe.top-M-2-O:pe.bottom+O+2);if(this.position=="absolute"?(c.style.top=(ee-r.parent.top)/a+"px",FI(c,(U-r.parent.left)/i)):(c.style.top=ee/a+"px",FI(c,U/i)),g){let pe=h.left+(z?R.x:-R.x)-(U+14-7);g.style.left=pe/i+"px"}u.overlap!==!0&&o.push({left:U,top:ee,right:le,bottom:ee+M}),c.classList.toggle("cm-tooltip-above",G),c.classList.toggle("cm-tooltip-below",!G),u.positioned&&u.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=wv}},{eventObservers:{scroll(){this.maybeMeasure()}}});function FI(r,e){let t=parseInt(r.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(r.style.left=e+"px")}const Lke=At.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),_ke={x:0,y:0},xN=Mt.define({enables:[SN,Lke]}),pw=Mt.define({combine:r=>r.reduce((e,t)=>e.concat(t),[])});class L1{static create(e){return new L1(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Iz(e,pw,(t,n)=>this.createHostedView(t,n),t=>t.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let i=n[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Ike=xN.compute([pw],r=>{let e=r.facet(pw);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var n;return(n=t.end)!==null&&n!==void 0?n:t.pos})),create:L1.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Qke{constructor(e,t,n,i,a){this.view=e,this.source=t,this.field=n,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let i,a=1;if(n instanceof Yc)i=n.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let s=e.coordsAtPos(i);if(!s||t.y<s.top||t.y>s.bottom||t.x<s.left-e.defaultCharacterWidth||t.x>s.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(c=>c.from<=i&&c.to>=i),u=l&&l.dir==Sn.RTL?-1:1;a=t.x<s.left?-u:u}let o=this.source(e,i,a);if(o!=null&&o.then){let s=this.pending={pos:i};o.then(l=>{this.pending==s&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>ho(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(SN),t=e?e.manager.tooltips.findIndex(n=>n.create==L1.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:a}=this;if(i.length&&a&&!Bke(a.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,s=(n=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&n!==void 0?n:o;(o==s?this.view.posAtCoords(this.lastMove)!=o:!qke(this.view,o,s,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ib=4;function Bke(r,e){let{left:t,right:n,top:i,bottom:a}=r.getBoundingClientRect(),o;if(o=r.querySelector(".cm-tooltip-arrow")){let s=o.getBoundingClientRect();i=Math.min(s.top,i),a=Math.max(s.bottom,a)}return e.clientX>=t-Ib&&e.clientX<=n+Ib&&e.clientY>=i-Ib&&e.clientY<=a+Ib}function qke(r,e,t,n,i,a){let o=r.scrollDOM.getBoundingClientRect(),s=r.documentTop+r.documentPadding.top+r.contentHeight;if(o.left>n||o.right<n||o.top>i||Math.min(o.bottom,s)<i)return!1;let l=r.posAtCoords({x:n,y:i},!1);return l>=e&&l<=t}function Fke(r,e={}){let t=fr.define(),n=Ri.define({create(){return[]},update(i,a){if(i.length&&(e.hideOnChange&&(a.docChanged||a.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(a,o))),a.docChanged)){let o=[];for(let s of i){let l=a.changes.mapPos(s.pos,-1,Yi.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),s);u.pos=l,u.end!=null&&(u.end=a.changes.mapPos(u.end)),o.push(u)}}i=o}for(let o of a.effects)o.is(t)&&(i=o.value),o.is(Vke)&&(i=[]);return i},provide:i=>pw.from(i)});return{active:n,extension:[n,ci.define(i=>new Qke(i,r,n,t,e.hoverTime||300)),Ike]}}function Qz(r,e){let t=r.plugin(SN);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const Vke=fr.define(),VI=Mt.define({combine(r){let e,t;for(let n of r)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Ng(r,e){let t=r.plugin(Bz),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const Bz=ci.fromClass(class{constructor(r){this.input=r.state.facet($g),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(VI);this.top=new Qb(r,!0,e.topContainer),this.bottom=new Qb(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(VI);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Qb(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Qb(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet($g);if(t!=this.input){let n=t.filter(l=>l),i=[],a=[],o=[],s=[];for(let l of n){let u=this.specs.indexOf(l),c;u<0?(c=l(r.view),s.push(c)):(c=this.panels[u],c.update&&c.update(r)),i.push(c),(c.top?a:o).push(c)}this.specs=n,this.panels=i,this.top.sync(a),this.bottom.sync(o);for(let l of s)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let n of this.panels)n.update&&n.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>At.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Qb{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=ZI(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=ZI(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function ZI(r){let e=r.nextSibling;return r.remove(),e}const $g=Mt.define({enables:Bz});class rc extends Eh{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}rc.prototype.elementClass="";rc.prototype.toDOM=void 0;rc.prototype.mapMode=Yi.TrackBefore;rc.prototype.startSide=rc.prototype.endSide=-1;rc.prototype.point=!0;const T0=Mt.define(),Zke=Mt.define(),zke={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>qr.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},sg=Mt.define();function Hke(r){return[qz(),sg.of(Object.assign(Object.assign({},zke),r))]}const zI=Mt.define({combine:r=>r.some(e=>e)});function qz(r){return[Wke]}const Wke=ci.fromClass(class{constructor(r){this.view=r,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(sg).map(e=>new WI(r,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!r.state.facet(zI),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}r.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(zI)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&this.dom.remove();let t=qr.iter(this.view.state.facet(T0),this.view.viewport.from),n=[],i=this.gutters.map(a=>new Uke(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(a.type)){let o=!0;for(let s of a.type)if(s.type==_a.Text&&o){PP(t,n,s.from);for(let l of i)l.line(this.view,s,n);o=!1}else if(s.widget)for(let l of i)l.widget(this.view,s)}else if(a.type==_a.Text){PP(t,n,a.from);for(let o of i)o.line(this.view,a,n)}else if(a.widget)for(let o of i)o.widget(this.view,a);for(let a of i)a.finish();r&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(r){let e=r.startState.facet(sg),t=r.state.facet(sg),n=r.docChanged||r.heightChanged||r.viewportChanged||!qr.eq(r.startState.facet(T0),r.state.facet(T0),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(r)&&(n=!0);else{n=!0;let i=[];for(let a of t){let o=e.indexOf(a);o<0?i.push(new WI(this.view,a)):(this.gutters[o].update(r),i.push(this.gutters[o]))}for(let a of this.gutters)a.dom.remove(),i.indexOf(a)<0&&a.destroy();for(let a of i)this.dom.appendChild(a.dom);this.gutters=i}return n}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove()}},{provide:r=>At.scrollMargins.of(e=>{let t=e.plugin(r);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==Sn.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function HI(r){return Array.isArray(r)?r:[r]}function PP(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class Uke{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=qr.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:i}=this,a=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==i.elements.length){let s=new Fz(e,o,a,n);i.elements.push(s),i.dom.appendChild(s.dom)}else i.elements[this.i].update(e,o,a,n);this.height=t.bottom,this.i++}line(e,t,n){let i=[];PP(this.cursor,i,t.from),n.length&&(i=i.concat(n));let a=this.gutter.config.lineMarker(e,t,i);a&&i.unshift(a);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),i=n?[n]:null;for(let a of e.state.facet(Zke)){let o=a(e,t.widget,t);o&&(i||(i=[])).push(o)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class WI{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,i=>{let a=i.target,o;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let l=a.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let s=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,s,i)&&i.preventDefault()});this.markers=HI(t.markers(e)),t.initialSpacer&&(this.spacer=new Fz(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=HI(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!qr.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Fz{constructor(e,t,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,i)}update(e,t,n,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),Xke(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let n="cm-gutterElement",i=this.dom.firstChild;for(let a=0,o=0;;){let s=o,l=a<t.length?t[a++]:null,u=!1;if(l){let c=l.elementClass;c&&(n+=" "+c);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){s=h,u=!0;break}}else s=this.markers.length;for(;o<s;){let c=this.markers[o++];if(c.toDOM){c.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function Xke(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const jke=Mt.define(),Yke=Mt.define(),op=Mt.define({combine(r){return su(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let i in t){let a=n[i],o=t[i];n[i]=a?(s,l,u)=>a(s,l,u)||o(s,l,u):o}return n}})}});class aA extends rc{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function oA(r,e){return r.state.facet(op).formatNumber(e,r.state)}const Gke=sg.compute([op],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(jke)},lineMarker(e,t,n){return n.some(i=>i.toDOM)?null:new aA(oA(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,n)=>{for(let i of e.state.facet(Yke)){let a=i(e,t,n);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(op)!=e.state.facet(op),initialSpacer(e){return new aA(oA(e,UI(e.state.doc.lines)))},updateSpacer(e,t){let n=oA(t.view,UI(t.view.state.doc.lines));return n==e.number?e:new aA(n)},domEventHandlers:r.facet(op).domEventHandlers}));function Kke(r={}){return[op.of(r),qz(),Gke]}function UI(r){let e=9;for(;e<r;)e=e*10+9;return e}const Jke=new class extends rc{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},eSe=T0.compute(["selection"],r=>{let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.head).from;i>t&&(t=i,e.push(Jke.range(i)))}return qr.of(e)});function tSe(){return eSe}const Vz=1024;let rSe=0;class bs{constructor(e,t){this.from=e,this.to=t}}class kr{constructor(e={}){this.id=rSe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Go.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}kr.closedBy=new kr({deserialize:r=>r.split(" ")});kr.openedBy=new kr({deserialize:r=>r.split(" ")});kr.group=new kr({deserialize:r=>r.split(" ")});kr.isolate=new kr({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});kr.contextHash=new kr({perNode:!0});kr.lookAhead=new kr({perNode:!0});kr.mounted=new kr({perNode:!0});class Lg{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[kr.mounted.id]}}const nSe=Object.create(null);let Go=class Zz{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):nSe,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Zz(e.name||"",t,e.id,n);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[a[0].id]=a[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(kr.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return n=>{for(let i=n.prop(kr.group),a=-1;a<(i?i.length:0);a++){let o=t[a<0?n.name:i[a]];if(o)return o}}}};Go.none=new Go("",Object.create(null),0,8);class CN{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let i=null;for(let a of e){let o=a(n);o&&(i||(i=Object.assign({},n.props)),i[o[0].id]=o[1])}t.push(i?new Go(n.name,i,n.id,n.flags):n)}return new CN(t)}}const Bb=new WeakMap,XI=new WeakMap;var gn;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(gn||(gn={}));class Qn{constructor(e,t,n,i,a){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[o,s]of a)this.props[typeof o=="number"?o:o.id]=s}}toString(){let e=Lg.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let i=n.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new mw(this.topNode,e)}cursorAt(e,t=0,n=0){let i=Bb.get(this)||this.topNode,a=new mw(i);return a.moveTo(e,t),Bb.set(this,a._tree),a}get topNode(){return new ya(this,0,0,null)}resolve(e,t=0){let n=_g(Bb.get(this)||this.topNode,e,t,!1);return Bb.set(this,n),n}resolveInner(e,t=0){let n=_g(XI.get(this)||this.topNode,e,t,!0);return XI.set(this,n),n}resolveStack(e,t=0){return oSe(this,e,t)}iterate(e){let{enter:t,leave:n,from:i=0,to:a=this.length}=e,o=e.mode||0,s=(o&gn.IncludeAnonymous)>0;for(let l=this.cursor(o|gn.IncludeAnonymous);;){let u=!1;if(l.from<=a&&l.to>=i&&(!s&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&n&&(s||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:MN(Go.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,i)=>new Qn(this.type,t,n,i,this.propValues),e.makeTree||((t,n,i)=>new Qn(Go.none,t,n,i)))}static build(e){return sSe(e)}}Qn.empty=new Qn(Go.none,[],[],0);class TN{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new TN(this.buffer,this.index)}}class gf{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Go.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),e+=4,n==e)return a;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return a+"("+o.join(",")+")"}findChild(e,t,n,i,a){let{buffer:o}=this,s=-1;for(let l=e;l!=t&&!(zz(a,i,o[l+1],o[l+2])&&(s=l,n>0));l=o[l+3]);return s}slice(e,t,n){let i=this.buffer,a=new Uint16Array(t-e),o=0;for(let s=e,l=0;s<t;){a[l++]=i[s++],a[l++]=i[s++]-n;let u=a[l++]=i[s++]-n;a[l++]=i[s++]-e,o=Math.max(o,u)}return new gf(a,o,this.set)}}function zz(r,e,t,n){switch(r){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function _g(r,e,t,n){for(var i;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!n&&r instanceof ya&&r.index<0?null:r.parent;if(!o)return r;r=o}let a=n?0:gn.IgnoreOverlays;if(n)for(let o=r,s=o.parent;s;o=s,s=o.parent)o instanceof ya&&o.index<0&&((i=s.enter(e,t,a))===null||i===void 0?void 0:i.from)!=o.from&&(r=s);for(;;){let o=r.enter(e,t,a);if(!o)return r;r=o}}class Hz{cursor(e=0){return new mw(this,e)}getChild(e,t=null,n=null){let i=jI(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return jI(this,e,t,n)}resolve(e,t=0){return _g(this,e,t,!1)}resolveInner(e,t=0){return _g(this,e,t,!0)}matchContext(e){return RP(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}get node(){return this}get next(){return this.parent}}class ya extends Hz{constructor(e,t,n,i){super(),this._tree=e,this.from=t,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,i,a=0){for(let o=this;;){for(let{children:s,positions:l}=o._tree,u=t>0?s.length:-1;e!=u;e+=t){let c=s[e],h=l[e]+o.from;if(zz(i,n,h,h+c.length)){if(c instanceof gf){if(a&gn.ExcludeBuffers)continue;let p=c.findChild(0,c.buffer.length,t,n-h,i);if(p>-1)return new Ul(new iSe(o,c,e,h),null,p)}else if(a&gn.IncludeAnonymous||!c.type.isAnonymous||EN(c)){let p;if(!(a&gn.IgnoreMounts)&&(p=Lg.get(c))&&!p.overlay)return new ya(p.tree,h,e,o);let g=new ya(c,h,e,o);return a&gn.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(t<0?c.children.length-1:0,t,n,i)}}}if(a&gn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let i;if(!(n&gn.IgnoreOverlays)&&(i=Lg.get(this._tree))&&i.overlay){let a=e-this.from;for(let{from:o,to:s}of i.overlay)if((t>0?o<=a:o<a)&&(t<0?s>=a:s>a))return new ya(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function jI(r,e,t,n){let i=r.cursor(),a=[];if(!i.firstChild())return a;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return a}for(;;){if(n!=null&&i.type.is(n))return a;if(i.type.is(e)&&a.push(i.node),!i.nextSibling())return n==null?a:[]}}function RP(r,e,t=e.length-1){for(let n=r;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class iSe{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class Ul extends Hz{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return a<0?null:new Ul(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&gn.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return a<0?null:new Ul(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ul(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Ul(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,a=n.buffer[this.index+3];if(a>i){let o=n.buffer[this.index+1];e.push(n.slice(i,a,o)),t.push(0)}return new Qn(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Wz(r){if(!r.length)return null;let e=0,t=r[0];for(let a=1;a<r.length;a++){let o=r[a];(o.from>t.from||o.to<t.to)&&(t=o,e=a)}let n=t instanceof ya&&t.index<0?null:t.parent,i=r.slice();return n?i[e]=n:i.splice(e,1),new aSe(i,t)}class aSe{constructor(e,t){this.heads=e,this.node=t}get next(){return Wz(this.heads)}}function oSe(r,e,t){let n=r.resolveInner(e,t),i=null;for(let a=n instanceof ya?n:n.context.parent;a;a=a.parent)if(a.index<0){let o=a.parent;(i||(i=[n])).push(o.resolve(e,t)),a=o}else{let o=Lg.get(a.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new ya(o.tree,o.overlay[0].from+a.from,-1,a);(i||(i=[n])).push(_g(s,e,t,!1))}}return i?Wz(i):n}class mw{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ya)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof ya?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&gn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&gn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&gn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let a=t+e,o=e<0?-1:n._tree.children.length;a!=o;a+=e){let s=n._tree.children[a];if(this.mode&gn.IncludeAnonymous||s instanceof gf||!s.type.isAnonymous||EN(s))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,a=this.stack.length;a>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,n=a+1;break e}i=this.stack[--a]}for(let i=n;i<this.stack.length;i++)t=new Ul(this.buffer,t,this.stack[i]);return this.bufferNode=new Ul(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return RP(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let i=e.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return RP(this._tree,e,i);let o=n[t.buffer[this.stack[a]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function EN(r){return r.children.some(e=>e instanceof gf||!e.type.isAnonymous||EN(e))}function sSe(r){var e;let{buffer:t,nodeSet:n,maxBufferLength:i=Vz,reused:a=[],minRepeatType:o=n.types.length}=r,s=Array.isArray(t)?new TN(t,t.length):t,l=n.types,u=0,c=0;function h(J,ee,le,pe,be,Fe){let{id:Ge,start:_e,end:ot,size:at}=s,dt=c,Ot=u;for(;at<0;)if(s.next(),at==-1){let Rt=a[Ge];le.push(Rt),pe.push(_e-J);return}else if(at==-3){u=Ge;return}else if(at==-4){c=Ge;return}else throw new RangeError(`Unrecognized record size: ${at}`);let Qt=l[Ge],Vt,ar,bt=_e-J;if(ot-_e<=i&&(ar=M(s.pos-ee,be))){let Rt=new Uint16Array(ar.size-ar.skip),Pt=s.pos-ar.size,tr=Rt.length;for(;s.pos>Pt;)tr=R(ar.start,Rt,tr);Vt=new gf(Rt,ot-ar.start,n),bt=ar.start-J}else{let Rt=s.pos-at;s.next();let Pt=[],tr=[],or=Ge>=o?Ge:-1,Sr=0,Le=ot;for(;s.pos>Rt;)or>=0&&s.id==or&&s.size>=0?(s.end<=Le-i&&(O(Pt,tr,_e,Sr,s.end,Le,or,dt,Ot),Sr=Pt.length,Le=s.end),s.next()):Fe>2500?p(_e,Rt,Pt,tr):h(_e,Rt,Pt,tr,or,Fe+1);if(or>=0&&Sr>0&&Sr<Pt.length&&O(Pt,tr,_e,Sr,_e,Le,or,dt,Ot),Pt.reverse(),tr.reverse(),or>-1&&Sr>0){let Pe=g(Qt,Ot);Vt=MN(Qt,Pt,tr,0,Pt.length,0,ot-_e,Pe,Pe)}else Vt=T(Qt,Pt,tr,ot-_e,dt-ot,Ot)}le.push(Vt),pe.push(bt)}function p(J,ee,le,pe){let be=[],Fe=0,Ge=-1;for(;s.pos>ee;){let{id:_e,start:ot,end:at,size:dt}=s;if(dt>4)s.next();else{if(Ge>-1&&ot<Ge)break;Ge<0&&(Ge=at-i),be.push(_e,ot,at),Fe++,s.next()}}if(Fe){let _e=new Uint16Array(Fe*4),ot=be[be.length-2];for(let at=be.length-3,dt=0;at>=0;at-=3)_e[dt++]=be[at],_e[dt++]=be[at+1]-ot,_e[dt++]=be[at+2]-ot,_e[dt++]=dt;le.push(new gf(_e,be[2]-ot,n)),pe.push(ot-J)}}function g(J,ee){return(le,pe,be)=>{let Fe=0,Ge=le.length-1,_e,ot;if(Ge>=0&&(_e=le[Ge])instanceof Qn){if(!Ge&&_e.type==J&&_e.length==be)return _e;(ot=_e.prop(kr.lookAhead))&&(Fe=pe[Ge]+_e.length+ot)}return T(J,le,pe,be,Fe,ee)}}function O(J,ee,le,pe,be,Fe,Ge,_e,ot){let at=[],dt=[];for(;J.length>pe;)at.push(J.pop()),dt.push(ee.pop()+le-be);J.push(T(n.types[Ge],at,dt,Fe-be,_e-Fe,ot)),ee.push(be-le)}function T(J,ee,le,pe,be,Fe,Ge){if(Fe){let _e=[kr.contextHash,Fe];Ge=Ge?[_e].concat(Ge):[_e]}if(be>25){let _e=[kr.lookAhead,be];Ge=Ge?[_e].concat(Ge):[_e]}return new Qn(J,ee,le,pe,Ge)}function M(J,ee){let le=s.fork(),pe=0,be=0,Fe=0,Ge=le.end-i,_e={size:0,start:0,skip:0};e:for(let ot=le.pos-J;le.pos>ot;){let at=le.size;if(le.id==ee&&at>=0){_e.size=pe,_e.start=be,_e.skip=Fe,Fe+=4,pe+=4,le.next();continue}let dt=le.pos-at;if(at<0||dt<ot||le.start<Ge)break;let Ot=le.id>=o?4:0,Qt=le.start;for(le.next();le.pos>dt;){if(le.size<0)if(le.size==-3)Ot+=4;else break e;else le.id>=o&&(Ot+=4);le.next()}be=Qt,pe+=at,Fe+=Ot}return(ee<0||pe==J)&&(_e.size=pe,_e.start=be,_e.skip=Fe),_e.size>4?_e:void 0}function R(J,ee,le){let{id:pe,start:be,end:Fe,size:Ge}=s;if(s.next(),Ge>=0&&pe<o){let _e=le;if(Ge>4){let ot=s.pos-(Ge-4);for(;s.pos>ot;)le=R(J,ee,le)}ee[--le]=_e,ee[--le]=Fe-J,ee[--le]=be-J,ee[--le]=pe}else Ge==-3?u=pe:Ge==-4&&(c=pe);return le}let z=[],U=[];for(;s.pos>0;)h(r.start||0,r.bufferStart||0,z,U,-1,0);let G=(e=r.length)!==null&&e!==void 0?e:z.length?U[0]+z[0].length:0;return new Qn(l[r.topID],z.reverse(),U.reverse(),G)}const YI=new WeakMap;function E0(r,e){if(!r.isAnonymous||e instanceof gf||e.type!=r)return 1;let t=YI.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=r||!(n instanceof Qn)){t=1;break}t+=E0(r,n)}YI.set(e,t)}return t}function MN(r,e,t,n,i,a,o,s,l){let u=0;for(let O=n;O<i;O++)u+=E0(r,e[O]);let c=Math.ceil(u*1.5/8),h=[],p=[];function g(O,T,M,R,z){for(let U=M;U<R;){let G=U,J=T[U],ee=E0(r,O[U]);for(U++;U<R;U++){let le=E0(r,O[U]);if(ee+le>=c)break;ee+=le}if(U==G+1){if(ee>c){let le=O[G];g(le.children,le.positions,0,le.children.length,T[G]+z);continue}h.push(O[G])}else{let le=T[U-1]+O[U-1].length-J;h.push(MN(r,O,T,G,U,J,le,null,l))}p.push(J+z-a)}}return g(e,t,n,i,0),(s||l)(h,p,o)}class Uz{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof Ul?this.setBuffer(e.context.buffer,e.index,t):e instanceof ya&&this.map.set(e.tree,t)}get(e){return e instanceof Ul?this.getBuffer(e.context.buffer,e.index):e instanceof ya?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Uu{constructor(e,t,n,i,a=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=(a?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let i=[new Uu(0,e.length,e,0,!1,n)];for(let a of t)a.to>e.length&&i.push(a);return i}static applyChanges(e,t,n=128){if(!t.length)return e;let i=[],a=1,o=e.length?e[0]:null;for(let s=0,l=0,u=0;;s++){let c=s<t.length?t[s]:null,h=c?c.fromA:1e9;if(h-l>=n)for(;o&&o.from<h;){let p=o;if(l>=p.from||h<=p.to||u){let g=Math.max(p.from,l)-u,O=Math.min(p.to,h)-u;p=g>=O?null:new Uu(g,O,p.tree,p.offset+u,s>0,!!c)}if(p&&i.push(p),o.to>h)break;o=a<e.length?e[a++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}let Xz=class{startParse(e,t,n){return typeof e=="string"&&(e=new lSe(e)),n=n?n.length?n.map(i=>new bs(i.from,i.to)):[new bs(0,0)]:[new bs(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let a=i.advance();if(a)return a}}};class lSe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function uSe(r){return(e,t,n,i)=>new fSe(e,r,t,n,i)}class GI{constructor(e,t,n,i,a){this.parser=e,this.parse=t,this.overlay=n,this.target=i,this.from=a}}function KI(r){if(!r.length||r.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(r))}class cSe{constructor(e,t,n,i,a,o,s){this.parser=e,this.predicate=t,this.mounts=n,this.index=i,this.start=a,this.target=o,this.prev=s,this.depth=0,this.ranges=[]}}const NP=new kr({perNode:!0});class fSe{constructor(e,t,n,i,a){this.nest=t,this.input=n,this.fragments=i,this.ranges=a,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let n=this.baseParse.advance();if(!n)return null;if(this.baseParse=null,this.baseTree=n,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let n=this.baseTree;return this.stoppedAt!=null&&(n=new Qn(n.type,n.children,n.positions,n.length,n.propValues.concat([[NP,this.stoppedAt]]))),n}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let n=Object.assign(Object.create(null),e.target.props);n[kr.mounted.id]=new Lg(t,e.overlay,e.parser),e.target.props=n}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new pSe(this.fragments),t=null,n=null,i=new mw(new ya(this.baseTree,this.ranges[0].from,0,null),gn.IncludeAnonymous|gn.IgnoreMounts);e:for(let a,o;;){let s=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)s=!1;else if(e.hasNode(i)){if(t){let u=t.mounts.find(c=>c.frag.from<=i.from&&c.frag.to>=i.to&&c.mount.overlay);if(u)for(let c of u.mount.overlay){let h=c.from+u.pos,p=c.to+u.pos;h>=i.from&&p<=i.to&&!t.ranges.some(g=>g.from<p&&g.to>h)&&t.ranges.push({from:h,to:p})}}s=!1}else if(n&&(o=hSe(n.ranges,i.from,i.to)))s=o!=2;else if(!i.type.isAnonymous&&(a=this.nest(i,this.input))&&(i.from<i.to||!a.overlay)){i.tree||dSe(i);let u=e.findMounts(i.from,a.parser);if(typeof a.overlay=="function")t=new cSe(a.parser,a.overlay,u,this.inner.length,i.from,i.tree,t);else{let c=tQ(this.ranges,a.overlay||(i.from<i.to?[new bs(i.from,i.to)]:[]));c.length&&KI(c),(c.length||!a.overlay)&&this.inner.push(new GI(a.parser,c.length?a.parser.startParse(this.input,rQ(u,c),c):a.parser.startParse(""),a.overlay?a.overlay.map(h=>new bs(h.from-i.from,h.to-i.from)):null,i.tree,c.length?c[0].from:i.from)),a.overlay?c.length&&(n={ranges:c,depth:0,prev:n}):s=!1}}else if(t&&(l=t.predicate(i))&&(l===!0&&(l=new bs(i.from,i.to)),l.from<l.to)){let u=t.ranges.length-1;u>=0&&t.ranges[u].to==l.from?t.ranges[u]={from:t.ranges[u].from,to:l.to}:t.ranges.push(l)}if(s&&i.firstChild())t&&t.depth++,n&&n.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let u=tQ(this.ranges,t.ranges);u.length&&(KI(u),this.inner.splice(t.index,0,new GI(t.parser,t.parser.startParse(this.input,rQ(t.mounts,u),u),t.ranges.map(c=>new bs(c.from-t.start,c.to-t.start)),t.target,u[0].from))),t=t.prev}n&&!--n.depth&&(n=n.prev)}}}}function hSe(r,e,t){for(let n of r){if(n.from>=t)break;if(n.to>e)return n.from<=e&&n.to>=t?2:1}return 0}function JI(r,e,t,n,i,a){if(e<t){let o=r.buffer[e+1];n.push(r.slice(e,t,o)),i.push(o-a)}}function dSe(r){let{node:e}=r,t=[],n=e.context.buffer;do t.push(r.index),r.parent();while(!r.tree);let i=r.tree,a=i.children.indexOf(n),o=i.children[a],s=o.buffer,l=[a];function u(c,h,p,g,O,T){let M=t[T],R=[],z=[];JI(o,c,M,R,z,g);let U=s[M+1],G=s[M+2];l.push(R.length);let J=T?u(M+4,s[M+3],o.set.types[s[M]],U,G-U,T-1):e.toTree();return R.push(J),z.push(U-g),JI(o,s[M+3],h,R,z,g),new Qn(p,R,z,O)}i.children[a]=u(0,s.length,Go.none,0,o.length,t.length-1);for(let c of l){let h=r.tree.children[c],p=r.tree.positions[c];r.yield(new ya(h,p+r.from,c,r._tree))}}class eQ{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(gn.IncludeAnonymous|gn.IgnoreMounts)}moveTo(e){let{cursor:t}=this,n=e-this.offset;for(;!this.done&&t.from<n;)t.to>=e&&t.enter(n,1,gn.IgnoreOverlays|gn.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof Qn)t=t.children[0];else break}return!1}}let pSe=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let n=this.curFrag=e[0];this.curTo=(t=n.tree.prop(NP))!==null&&t!==void 0?t:n.to,this.inner=new eQ(n.tree,-n.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(NP))!==null&&e!==void 0?e:t.to,this.inner=new eQ(t.tree,-t.offset)}}findMounts(e,t){var n;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let a=this.inner.cursor.node;a;a=a.parent){let o=(n=a.tree)===null||n===void 0?void 0:n.prop(kr.mounted);if(o&&o.parser==t)for(let s=this.fragI;s<this.fragments.length;s++){let l=this.fragments[s];if(l.from>=a.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:a.from-l.offset,mount:o})}}}return i}};function tQ(r,e){let t=null,n=e;for(let i=1,a=0;i<r.length;i++){let o=r[i-1].to,s=r[i].from;for(;a<n.length;a++){let l=n[a];if(l.from>=s)break;l.to<=o||(t||(n=t=e.slice()),l.from<o?(t[a]=new bs(l.from,o),l.to>s&&t.splice(a+1,0,new bs(s,l.to))):l.to>s?t[a--]=new bs(s,l.to):t.splice(a--,1))}}return n}function mSe(r,e,t,n){let i=0,a=0,o=!1,s=!1,l=-1e9,u=[];for(;;){let c=i==r.length?1e9:o?r[i].to:r[i].from,h=a==e.length?1e9:s?e[a].to:e[a].from;if(o!=s){let p=Math.max(l,t),g=Math.min(c,h,n);p<g&&u.push(new bs(p,g))}if(l=Math.min(c,h),l==1e9)break;c==l&&(o?(o=!1,i++):o=!0),h==l&&(s?(s=!1,a++):s=!0)}return u}function rQ(r,e){let t=[];for(let{pos:n,mount:i,frag:a}of r){let o=n+(i.overlay?i.overlay[0].from:0),s=o+i.tree.length,l=Math.max(a.from,o),u=Math.min(a.to,s);if(i.overlay){let c=i.overlay.map(p=>new bs(p.from+n,p.to+n)),h=mSe(e,c,l,u);for(let p=0,g=l;;p++){let O=p==h.length,T=O?u:h[p].from;if(T>g&&t.push(new Uu(g,T,i.tree,-o,a.from>=g||a.openStart,a.to<=T||a.openEnd)),O)break;g=h[p].to}}else t.push(new Uu(l,u,i.tree,-o,a.from>=o||a.openStart,a.to<=s||a.openEnd))}return t}let vSe=0;class gs{constructor(e,t,n,i){this.name=e,this.set=t,this.base=n,this.modified=i,this.id=vSe++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n=typeof e=="string"?e:"?";if(e instanceof gs&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let i=new gs(n,[],null,[]);if(i.set.push(i),t)for(let a of t.set)i.set.push(a);return i}static defineModifier(e){let t=new vw(e);return n=>n.modified.indexOf(t)>-1?n:vw.get(n.base||n,n.modified.concat(t).sort((i,a)=>i.id-a.id))}}let gSe=0;class vw{constructor(e){this.name=e,this.instances=[],this.id=gSe++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(s=>s.base==e&&OSe(t,s.modified));if(n)return n;let i=[],a=new gs(e.name,i,e,t);for(let s of t)s.instances.push(a);let o=ySe(t);for(let s of e.set)if(!s.modified.length)for(let l of o)i.push(vw.get(s,l));return a}}function OSe(r,e){return r.length==e.length&&r.every((t,n)=>t==e[n])}function ySe(r){let e=[[]];for(let t=0;t<r.length;t++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(r[t]));return e.sort((t,n)=>n.length-t.length)}function _1(r){let e=Object.create(null);for(let t in r){let n=r[t];Array.isArray(n)||(n=[n]);for(let i of t.split(" "))if(i){let a=[],o=2,s=i;for(let h=0;;){if(s=="..."&&h>0&&h+3==i.length){o=1;break}let p=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!p)throw new RangeError("Invalid path: "+i);if(a.push(p[0]=="*"?"":p[0][0]=='"'?JSON.parse(p[0]):p[0]),h+=p[0].length,h==i.length)break;let g=i[h++];if(h==i.length&&g=="!"){o=0;break}if(g!="/")throw new RangeError("Invalid path: "+i);s=i.slice(h)}let l=a.length-1,u=a[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new gw(n,o,l>0?a.slice(0,l):null);e[u]=c.sort(e[u])}}return jz.add(e)}const jz=new kr;class gw{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}gw.empty=new gw([],2,null);function Yz(r,e){let t=Object.create(null);for(let a of r)if(!Array.isArray(a.tag))t[a.tag.id]=a.class;else for(let o of a.tag)t[o.id]=a.class;let{scope:n,all:i=null}=e||{};return{style:a=>{let o=i;for(let s of a)for(let l of s.set){let u=t[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:n}}function bSe(r,e){let t=null;for(let n of r){let i=n.style(e);i&&(t=t?t+" "+i:i)}return t}function wSe(r,e,t,n=0,i=r.length){let a=new kSe(n,Array.isArray(e)?e:[e],t);a.highlightRange(r.cursor(),n,i,"",a.highlighters),a.flush(i)}class kSe{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,a){let{type:o,from:s,to:l}=e;if(s>=n||l<=t)return;o.isTop&&(a=this.highlighters.filter(g=>!g.scope||g.scope(o)));let u=i,c=SSe(e)||gw.empty,h=bSe(a,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(t,s),u),c.opaque)return;let p=e.tree&&e.tree.prop(kr.mounted);if(p&&p.overlay){let g=e.node.enter(p.overlay[0].from+s,1),O=this.highlighters.filter(M=>!M.scope||M.scope(p.tree.type)),T=e.firstChild();for(let M=0,R=s;;M++){let z=M<p.overlay.length?p.overlay[M]:null,U=z?z.from+s:l,G=Math.max(t,R),J=Math.min(n,U);if(G<J&&T)for(;e.from<J&&(this.highlightRange(e,G,J,i,a),this.startSpan(Math.min(J,e.to),u),!(e.to>=U||!e.nextSibling())););if(!z||U>n)break;R=z.to+s,R>t&&(this.highlightRange(g.cursor(),Math.max(t,z.from+s),Math.min(n,R),"",O),this.startSpan(Math.min(n,R),u))}T&&e.parent()}else if(e.firstChild()){p&&(i="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,a),this.startSpan(Math.min(n,e.to),u)}while(e.nextSibling());e.parent()}}}function SSe(r){let e=r.type.prop(jz);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const yt=gs.define,qb=yt(),Qc=yt(),nQ=yt(Qc),iQ=yt(Qc),Bc=yt(),Fb=yt(Bc),sA=yt(Bc),Fl=yt(),Kf=yt(Fl),Il=yt(),Ql=yt(),$P=yt(),kv=yt($P),Vb=yt(),he={comment:qb,lineComment:yt(qb),blockComment:yt(qb),docComment:yt(qb),name:Qc,variableName:yt(Qc),typeName:nQ,tagName:yt(nQ),propertyName:iQ,attributeName:yt(iQ),className:yt(Qc),labelName:yt(Qc),namespace:yt(Qc),macroName:yt(Qc),literal:Bc,string:Fb,docString:yt(Fb),character:yt(Fb),attributeValue:yt(Fb),number:sA,integer:yt(sA),float:yt(sA),bool:yt(Bc),regexp:yt(Bc),escape:yt(Bc),color:yt(Bc),url:yt(Bc),keyword:Il,self:yt(Il),null:yt(Il),atom:yt(Il),unit:yt(Il),modifier:yt(Il),operatorKeyword:yt(Il),controlKeyword:yt(Il),definitionKeyword:yt(Il),moduleKeyword:yt(Il),operator:Ql,derefOperator:yt(Ql),arithmeticOperator:yt(Ql),logicOperator:yt(Ql),bitwiseOperator:yt(Ql),compareOperator:yt(Ql),updateOperator:yt(Ql),definitionOperator:yt(Ql),typeOperator:yt(Ql),controlOperator:yt(Ql),punctuation:$P,separator:yt($P),bracket:kv,angleBracket:yt(kv),squareBracket:yt(kv),paren:yt(kv),brace:yt(kv),content:Fl,heading:Kf,heading1:yt(Kf),heading2:yt(Kf),heading3:yt(Kf),heading4:yt(Kf),heading5:yt(Kf),heading6:yt(Kf),contentSeparator:yt(Fl),list:yt(Fl),quote:yt(Fl),emphasis:yt(Fl),strong:yt(Fl),link:yt(Fl),monospace:yt(Fl),strikethrough:yt(Fl),inserted:yt(),deleted:yt(),changed:yt(),invalid:yt(),meta:Vb,documentMeta:yt(Vb),annotation:yt(Vb),processingInstruction:yt(Vb),definition:gs.defineModifier("definition"),constant:gs.defineModifier("constant"),function:gs.defineModifier("function"),standard:gs.defineModifier("standard"),local:gs.defineModifier("local"),special:gs.defineModifier("special")};for(let r in he){let e=he[r];e instanceof gs&&(e.name=r)}Yz([{tag:he.link,class:"tok-link"},{tag:he.heading,class:"tok-heading"},{tag:he.emphasis,class:"tok-emphasis"},{tag:he.strong,class:"tok-strong"},{tag:he.keyword,class:"tok-keyword"},{tag:he.atom,class:"tok-atom"},{tag:he.bool,class:"tok-bool"},{tag:he.url,class:"tok-url"},{tag:he.labelName,class:"tok-labelName"},{tag:he.inserted,class:"tok-inserted"},{tag:he.deleted,class:"tok-deleted"},{tag:he.literal,class:"tok-literal"},{tag:he.string,class:"tok-string"},{tag:he.number,class:"tok-number"},{tag:[he.regexp,he.escape,he.special(he.string)],class:"tok-string2"},{tag:he.variableName,class:"tok-variableName"},{tag:he.local(he.variableName),class:"tok-variableName tok-local"},{tag:he.definition(he.variableName),class:"tok-variableName tok-definition"},{tag:he.special(he.variableName),class:"tok-variableName2"},{tag:he.definition(he.propertyName),class:"tok-propertyName tok-definition"},{tag:he.typeName,class:"tok-typeName"},{tag:he.namespace,class:"tok-namespace"},{tag:he.className,class:"tok-className"},{tag:he.macroName,class:"tok-macroName"},{tag:he.propertyName,class:"tok-propertyName"},{tag:he.operator,class:"tok-operator"},{tag:he.comment,class:"tok-comment"},{tag:he.meta,class:"tok-meta"},{tag:he.invalid,class:"tok-invalid"},{tag:he.punctuation,class:"tok-punctuation"}]);var lA;const sp=new kr;function Gz(r){return Mt.define({combine:r?e=>e.concat(r):void 0})}const AN=new kr;class sl{constructor(e,t,n=[],i=""){this.data=e,this.name=i,Kn.prototype.hasOwnProperty("tree")||Object.defineProperty(Kn.prototype,"tree",{get(){return Vn(this)}}),this.parser=t,this.extension=[Of.of(this),Kn.languageData.of((a,o,s)=>{let l=aQ(a,o,s),u=l.type.prop(sp);if(!u)return[];let c=a.facet(u),h=l.type.prop(AN);if(h){let p=l.resolve(o-l.from,s);for(let g of h)if(g.test(p,a)){let O=a.facet(g.facet);return g.type=="replace"?O:O.concat(c)}}return c})].concat(n)}isActiveAt(e,t,n=-1){return aQ(e,t,n).type.prop(sp)==this.data}findRegions(e){let t=e.facet(Of);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],i=(a,o)=>{if(a.prop(sp)==this.data){n.push({from:o,to:o+a.length});return}let s=a.prop(kr.mounted);if(s){if(s.tree.prop(sp)==this.data){if(s.overlay)for(let l of s.overlay)n.push({from:l.from+o,to:l.to+o});else n.push({from:o,to:o+a.length});return}else if(s.overlay){let l=n.length;if(i(s.tree,s.overlay[0].from+o),n.length>l)return}}for(let l=0;l<a.children.length;l++){let u=a.children[l];u instanceof Qn&&i(u,a.positions[l]+o)}};return i(Vn(e),0),n}get allowsNesting(){return!0}}sl.setState=fr.define();function aQ(r,e,t){let n=r.facet(Of),i=Vn(r).topNode;if(!n||n.allowsNesting)for(let a=i;a;a=a.enter(e,t,gn.ExcludeBuffers))a.type.isTop&&(i=a);return i}class Pp extends sl{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=Gz(e.languageData);return new Pp(t,e.parser.configure({props:[sp.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new Pp(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Vn(r){let e=r.field(sl.state,!1);return e?e.tree:Qn.empty}class xSe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Sv=null,CSe=class LP{constructor(e,t,n=[],i,a,o,s,l){this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.treeLen=a,this.viewport=o,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new LP(e,t,[],Qn.empty,0,n,[],null)}startParse(){return this.parser.startParse(new xSe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Qn.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Uu.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Uu.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Sv;Sv=this;try{return e()}finally{Sv=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=oQ(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,treeLen:a,viewport:o,skipped:s}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,h,p)=>l.push({fromA:u,toA:c,fromB:h,toB:p})),n=Uu.applyChanges(n,l),i=Qn.empty,a=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){s=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&s.push({from:c,to:h})}}}return new LP(this.parser,t,n,i,a,o,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:a}=this.skipped[n];i<e.to&&a>e.from&&(this.fragments=oQ(this.fragments,i,a),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Xz{createParse(t,n,i){let a=i[0].from,o=i[i.length-1].to;return{parsedPos:a,advance(){let l=Sv;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Qn(Go.none,[],[],o-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Sv}};function oQ(r,e,t){return Uu.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class Rp{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Rp(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=CSe.create(e.facet(Of).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Rp(n)}}sl.state=Ri.define({create:Rp.init,update(r,e){for(let t of e.effects)if(t.is(sl.setState))return t.value;return e.startState.facet(Of)!=e.state.facet(Of)?Rp.init(e.state):r.apply(e)}});let Kz=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Kz=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const uA=typeof navigator<"u"&&(!((lA=navigator.scheduling)===null||lA===void 0)&&lA.isInputPending)?()=>navigator.scheduling.isInputPending():null,TSe=ci.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(sl.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(sl.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Kz(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,a=n.field(sl.state);if(a.tree==a.context.tree&&a.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!uA?Math.max(25,e.timeRemaining()-5):1e9),s=a.context.treeLen<i&&n.doc.length>i+1e3,l=a.context.work(()=>uA&&uA()||Date.now()>o,i+(s?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:sl.setState.of(new Rp(a.context))})),this.chunkBudget>0&&!(l&&!s)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>ho(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Of=Mt.define({combine(r){return r.length?r[0]:null},enables:r=>[sl.state,TSe,At.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class DN{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const ESe=Mt.define(),I1=Mt.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function Ow(r){let e=r.facet(I1);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function Ig(r,e){let t="",n=r.tabSize,i=r.facet(I1)[0];if(i=="	"){for(;e>=n;)t+="	",e-=n;i=" "}for(let a=0;a<e;a++)t+=i;return t}function PN(r,e){r instanceof Kn&&(r=new Q1(r));for(let n of r.state.facet(ESe)){let i=n(r,e);if(i!==void 0)return i}let t=Vn(r.state);return t.length>=e?MSe(r,t,e):null}class Q1{constructor(e,t={}){this.state=e,this.options=t,this.unit=Ow(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:a}=this.options;return i!=null&&i>=n.from&&i<=n.to?a&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,t);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,t=1){let{text:n,from:i}=this.lineAt(e,t),a=this.countColumn(n,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(a+=o-this.countColumn(n,n.search(/\S|$/))),a}countColumn(e,t=e.length){return im(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:i}=this.lineAt(e,t),a=this.options.overrideIndentation;if(a){let o=a(i);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const B1=new kr;function MSe(r,e,t){let n=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=n.node){let a=[];for(let o=i;o&&!(o.from==n.node.from&&o.type==n.node.type);o=o.parent)a.push(o);for(let o=a.length-1;o>=0;o--)n={node:a[o],next:n}}return Jz(n,r,t)}function Jz(r,e,t){for(let n=r;n;n=n.next){let i=DSe(n.node);if(i)return i(RN.create(e,t,n))}return 0}function ASe(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function DSe(r){let e=r.type.prop(B1);if(e)return e;let t=r.firstChild,n;if(t&&(n=t.type.prop(kr.closedBy))){let i=r.lastChild,a=i&&n.indexOf(i.name)>-1;return o=>eH(o,!0,1,void 0,a&&!ASe(o)?i.from:void 0)}return r.parent==null?PSe:null}function PSe(){return 0}class RN extends Q1{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new RN(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(RSe(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return Jz(this.context.next,this.base,this.pos)}}function RSe(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function NSe(r){let e=r.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let i=r.options.simulateBreak,a=r.state.doc.lineAt(t.from),o=i==null||i<=a.from?a.to:Math.min(a.to,i);for(let s=t.to;;){let l=e.childAfter(s);if(!l||l==n)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let u=/^ */.exec(a.text.slice(t.to-a.from))[0].length;return{from:t.from,to:t.to+u}}s=l.to}}function $Se({closing:r,align:e=!0,units:t=1}){return n=>eH(n,e,t,r)}function eH(r,e,t,n,i){let a=r.textAfter,o=a.match(/^\s*/)[0].length,s=n&&a.slice(o,o+n.length)==n||i==r.pos+o,l=e?NSe(r):null;return l?s?r.column(l.from):r.column(l.to):r.baseIndent+(s?0:r.unit*t)}const LSe=r=>r.baseIndent;function M0({except:r,units:e=1}={}){return t=>{let n=r&&r.test(t.textAfter);return t.baseIndent+(n?0:e*t.unit)}}const _Se=200;function ISe(){return Kn.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let t=r.newDoc,{head:n}=r.newSelection.main,i=t.lineAt(n);if(n>i.from+_Se)return r;let a=t.sliceString(i.from,n);if(!e.some(u=>u.test(a)))return r;let{state:o}=r,s=-1,l=[];for(let{head:u}of o.selection.ranges){let c=o.doc.lineAt(u);if(c.from==s)continue;s=c.from;let h=PN(o,c.from);if(h==null)continue;let p=/^\s*/.exec(c.text)[0],g=Ig(o,h);p!=g&&l.push({from:c.from,to:c.from+p.length,insert:g})}return l.length?[r,{changes:l,sequential:!0}]:r})}const QSe=Mt.define(),q1=new kr;function tH(r){let e=r.firstChild,t=r.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?r.to:t.from}:null}function BSe(r,e,t){let n=Vn(r);if(n.length<t)return null;let i=n.resolveStack(t,1),a=null;for(let o=i;o;o=o.next){let s=o.node;if(s.to<=t||s.from>t)continue;if(a&&s.from<e)break;let l=s.type.prop(q1);if(l&&(s.to<n.length-50||n.length==r.doc.length||!qSe(s))){let u=l(s,r);u&&u.from<=t&&u.from>=e&&u.to>t&&(a=u)}}return a}function qSe(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function yw(r,e,t){for(let n of r.facet(QSe)){let i=n(r,e,t);if(i)return i}return BSe(r,e,t)}function rH(r,e){let t=e.mapPos(r.from,1),n=e.mapPos(r.to,-1);return t>=n?void 0:{from:t,to:n}}const F1=fr.define({map:rH}),fO=fr.define({map:rH});function nH(r){let e=[];for(let{head:t}of r.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(r.lineBlockAt(t));return e}const Ph=Ri.define({create(){return jt.none},update(r,e){r=r.map(e.changes);for(let t of e.effects)if(t.is(F1)&&!FSe(r,t.value.from,t.value.to)){let{preparePlaceholder:n}=e.state.facet(oH),i=n?jt.replace({widget:new XSe(n(e.state,t.value))}):sQ;r=r.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(fO)&&(r=r.update({filter:(n,i)=>t.value.from!=n||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:n}=e.selection.main;r.between(n,n,(i,a)=>{i<n&&a>n&&(t=!0)}),t&&(r=r.update({filterFrom:n,filterTo:n,filter:(i,a)=>a<=n||i>=n}))}return r},provide:r=>At.decorations.from(r),toJSON(r,e){let t=[];return r.between(0,e.doc.length,(n,i)=>{t.push(n,i)}),t},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<r.length;){let n=r[t++],i=r[t++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(sQ.range(n,i))}return jt.set(e,!0)}});function bw(r,e,t){var n;let i=null;return(n=r.field(Ph,!1))===null||n===void 0||n.between(e,t,(a,o)=>{(!i||i.from>a)&&(i={from:a,to:o})}),i}function FSe(r,e,t){let n=!1;return r.between(e,e,(i,a)=>{i==e&&a==t&&(n=!0)}),n}function iH(r,e){return r.field(Ph,!1)?e:e.concat(fr.appendConfig.of(sH()))}const VSe=r=>{for(let e of nH(r)){let t=yw(r.state,e.from,e.to);if(t)return r.dispatch({effects:iH(r.state,[F1.of(t),aH(r,t)])}),!0}return!1},ZSe=r=>{if(!r.state.field(Ph,!1))return!1;let e=[];for(let t of nH(r)){let n=bw(r.state,t.from,t.to);n&&e.push(fO.of(n),aH(r,n,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function aH(r,e,t=!0){let n=r.state.doc.lineAt(e.from).number,i=r.state.doc.lineAt(e.to).number;return At.announce.of(`${r.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${r.state.phrase("to")} ${i}.`)}const zSe=r=>{let{state:e}=r,t=[];for(let n=0;n<e.doc.length;){let i=r.lineBlockAt(n),a=yw(e,i.from,i.to);a&&t.push(F1.of(a)),n=(a?r.lineBlockAt(a.to):i).to+1}return t.length&&r.dispatch({effects:iH(r.state,t)}),!!t.length},HSe=r=>{let e=r.state.field(Ph,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,r.state.doc.length,(n,i)=>{t.push(fO.of({from:n,to:i}))}),r.dispatch({effects:t}),!0},WSe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:VSe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:ZSe},{key:"Ctrl-Alt-[",run:zSe},{key:"Ctrl-Alt-]",run:HSe}],USe={placeholderDOM:null,preparePlaceholder:null,placeholderText:"â¦"},oH=Mt.define({combine(r){return su(r,USe)}});function sH(r){return[Ph,GSe]}function lH(r,e){let{state:t}=r,n=t.facet(oH),i=o=>{let s=r.lineBlockAt(r.posAtDOM(o.target)),l=bw(r.state,s.from,s.to);l&&r.dispatch({effects:fO.of(l)}),o.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(r,i,e);let a=document.createElement("span");return a.textContent=n.placeholderText,a.setAttribute("aria-label",t.phrase("folded code")),a.title=t.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=i,a}const sQ=jt.replace({widget:new class extends uc{toDOM(r){return lH(r,null)}}});class XSe extends uc{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return lH(e,this.value)}}const jSe={openText:"â",closedText:"âº",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class cA extends rc{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function YSe(r={}){let e=Object.assign(Object.assign({},jSe),r),t=new cA(e,!0),n=new cA(e,!1),i=ci.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Of)!=o.state.facet(Of)||o.startState.field(Ph,!1)!=o.state.field(Ph,!1)||Vn(o.startState)!=Vn(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let s=new Ju;for(let l of o.viewportLineBlocks){let u=bw(o.state,l.from,l.to)?n:yw(o.state,l.from,l.to)?t:null;u&&s.add(l.from,l.from,u)}return s.finish()}}),{domEventHandlers:a}=e;return[i,Hke({class:"cm-foldGutter",markers(o){var s;return((s=o.plugin(i))===null||s===void 0?void 0:s.markers)||qr.empty},initialSpacer(){return new cA(e,!1)},domEventHandlers:Object.assign(Object.assign({},a),{click:(o,s,l)=>{if(a.click&&a.click(o,s,l))return!0;let u=bw(o.state,s.from,s.to);if(u)return o.dispatch({effects:fO.of(u)}),!0;let c=yw(o.state,s.from,s.to);return c?(o.dispatch({effects:F1.of(c)}),!0):!1}})}),sH()]}const GSe=At.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class hO{constructor(e,t){this.specs=e;let n;function i(s){let l=mf.newName();return(n||(n=Object.create(null)))["."+l]=s,l}const a=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof sl?s=>s.prop(sp)==o.data:o?s=>s==o:void 0,this.style=Yz(e.map(s=>({tag:s.tag,class:s.class||i(Object.assign({},s,{tag:null}))})),{all:a}).style,this.module=n?new mf(n):null,this.themeType=t.themeType}static define(e,t){return new hO(e,t||{})}}const _P=Mt.define(),uH=Mt.define({combine(r){return r.length?[r[0]]:null}});function fA(r){let e=r.facet(_P);return e.length?e:r.facet(uH)}function NN(r,e){let t=[JSe],n;return r instanceof hO&&(r.module&&t.push(At.styleModule.of(r.module)),n=r.themeType),e!=null&&e.fallback?t.push(uH.of(r)):n?t.push(_P.computeN([At.darkTheme],i=>i.facet(At.darkTheme)==(n=="dark")?[r]:[])):t.push(_P.of(r)),t}class KSe{constructor(e){this.markCache=Object.create(null),this.tree=Vn(e.state),this.decorations=this.buildDeco(e,fA(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Vn(e.state),n=fA(e.state),i=n!=fA(e.startState),{viewport:a}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<a.to&&!i&&t.type==this.tree.type&&o>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=a.to)}buildDeco(e,t){if(!t||!this.tree.length)return jt.none;let n=new Ju;for(let{from:i,to:a}of e.visibleRanges)wSe(this.tree,t,(o,s,l)=>{n.add(o,s,this.markCache[l]||(this.markCache[l]=jt.mark({class:l})))},i,a);return n.finish()}}const JSe=wf.high(ci.fromClass(KSe,{decorations:r=>r.decorations})),cH=hO.define([{tag:he.meta,color:"#404740"},{tag:he.link,textDecoration:"underline"},{tag:he.heading,textDecoration:"underline",fontWeight:"bold"},{tag:he.emphasis,fontStyle:"italic"},{tag:he.strong,fontWeight:"bold"},{tag:he.strikethrough,textDecoration:"line-through"},{tag:he.keyword,color:"#708"},{tag:[he.atom,he.bool,he.url,he.contentSeparator,he.labelName],color:"#219"},{tag:[he.literal,he.inserted],color:"#164"},{tag:[he.string,he.deleted],color:"#a11"},{tag:[he.regexp,he.escape,he.special(he.string)],color:"#e40"},{tag:he.definition(he.variableName),color:"#00f"},{tag:he.local(he.variableName),color:"#30a"},{tag:[he.typeName,he.namespace],color:"#085"},{tag:he.className,color:"#167"},{tag:[he.special(he.variableName),he.macroName],color:"#256"},{tag:he.definition(he.propertyName),color:"#00c"},{tag:he.comment,color:"#940"},{tag:he.invalid,color:"#f00"}]),exe=At.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),fH=1e4,hH="()[]{}",dH=Mt.define({combine(r){return su(r,{afterCursor:!0,brackets:hH,maxScanDistance:fH,renderMatch:nxe})}}),txe=jt.mark({class:"cm-matchingBracket"}),rxe=jt.mark({class:"cm-nonmatchingBracket"});function nxe(r){let e=[],t=r.matched?txe:rxe;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const ixe=Ri.define({create(){return jt.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],n=e.state.facet(dH);for(let i of e.state.selection.ranges){if(!i.empty)continue;let a=Xl(e.state,i.head,-1,n)||i.head>0&&Xl(e.state,i.head-1,1,n)||n.afterCursor&&(Xl(e.state,i.head,1,n)||i.head<e.state.doc.length&&Xl(e.state,i.head+1,-1,n));a&&(t=t.concat(n.renderMatch(a,e.state)))}return jt.set(t,!0)},provide:r=>At.decorations.from(r)}),axe=[ixe,exe];function oxe(r={}){return[dH.of(r),axe]}const pH=new kr;function IP(r,e,t){let n=r.prop(e<0?kr.openedBy:kr.closedBy);if(n)return n;if(r.name.length==1){let i=t.indexOf(r.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function QP(r){let e=r.type.prop(pH);return e?e(r.node):r}function Xl(r,e,t,n={}){let i=n.maxScanDistance||fH,a=n.brackets||hH,o=Vn(r),s=o.resolveInner(e,t);for(let l=s;l;l=l.parent){let u=IP(l.type,t,a);if(u&&l.from<l.to){let c=QP(l);if(c&&(t>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return sxe(r,e,t,l,c,u,a)}}return lxe(r,e,t,o,s.type,i,a)}function sxe(r,e,t,n,i,a,o){let s=n.parent,l={from:i.from,to:i.to},u=0,c=s==null?void 0:s.cursor();if(c&&(t<0?c.childBefore(n.from):c.childAfter(n.to)))do if(t<0?c.to<=n.from:c.from>=n.to){if(u==0&&a.indexOf(c.type.name)>-1&&c.from<c.to){let h=QP(c);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(IP(c.type,t,o))u++;else if(IP(c.type,-t,o)){if(u==0){let h=QP(c);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(t<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function lxe(r,e,t,n,i,a,o){let s=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),l=o.indexOf(s);if(l<0||l%2==0!=t>0)return null;let u={from:t<0?e-1:e,to:t>0?e+1:e},c=r.doc.iterRange(e,t>0?r.doc.length:0),h=0;for(let p=0;!c.next().done&&p<=a;){let g=c.value;t<0&&(p+=g.length);let O=e+p*t;for(let T=t>0?0:g.length-1,M=t>0?g.length:-1;T!=M;T+=t){let R=o.indexOf(g[T]);if(!(R<0||n.resolveInner(O+T,1).type!=i))if(R%2==0==t>0)h++;else{if(h==1)return{start:u,end:{from:O+T,to:O+T+1},matched:R>>1==l>>1};h--}}t>0&&(p+=g.length)}return c.done?{start:u,matched:!1}:null}const uxe=Object.create(null),lQ=[Go.none],uQ=[],cQ=Object.create(null),cxe=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])cxe[r]=fxe(uxe,e);function hA(r,e){uQ.indexOf(r)>-1||(uQ.push(r),console.warn(e))}function fxe(r,e){let t=[];for(let s of e.split(" ")){let l=[];for(let u of s.split(".")){let c=r[u]||he[u];c?typeof c=="function"?l.length?l=l.map(c):hA(u,`Modifier ${u} used at start of tag`):l.length?hA(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:hA(u,`Unknown highlighting tag ${u}`)}for(let u of l)t.push(u)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+t.map(s=>s.id),a=cQ[i];if(a)return a.id;let o=cQ[i]=Go.define({id:lQ.length,name:n,props:[_1({[n]:t})]});return lQ.push(o),o.id}Sn.RTL,Sn.LTR;const hxe=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),n=LN(r.state,t.from);return n.line?dxe(r):n.block?mxe(r):!1};function $N(r,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=r(e,t);return i?(n(t.update(i)),!0):!1}}const dxe=$N(Oxe,0),pxe=$N(mH,0),mxe=$N((r,e)=>mH(r,e,gxe(e)),0);function LN(r,e){let t=r.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const xv=50;function vxe(r,{open:e,close:t},n,i){let a=r.sliceDoc(n-xv,n),o=r.sliceDoc(i,i+xv),s=/\s*$/.exec(a)[0].length,l=/^\s*/.exec(o)[0].length,u=a.length-s;if(a.slice(u-e.length,u)==e&&o.slice(l,l+t.length)==t)return{open:{pos:n-s,margin:s&&1},close:{pos:i+l,margin:l&&1}};let c,h;i-n<=2*xv?c=h=r.sliceDoc(n,i):(c=r.sliceDoc(n,n+xv),h=r.sliceDoc(i-xv,i));let p=/^\s*/.exec(c)[0].length,g=/\s*$/.exec(h)[0].length,O=h.length-g-t.length;return c.slice(p,p+e.length)==e&&h.slice(O,O+t.length)==t?{open:{pos:n+p+e.length,margin:/\s/.test(c.charAt(p+e.length))?1:0},close:{pos:i-g-t.length,margin:/\s/.test(h.charAt(O-1))?1:0}}:null}function gxe(r){let e=[];for(let t of r.selection.ranges){let n=r.doc.lineAt(t.from),i=t.to<=n.to?n:r.doc.lineAt(t.to);i.from>n.from&&i.from==t.to&&(i=t.to==n.to+1?n:r.doc.lineAt(t.to-1));let a=e.length-1;a>=0&&e[a].to>n.from?e[a].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function mH(r,e,t=e.selection.ranges){let n=t.map(a=>LN(e,a.from).block);if(!n.every(a=>a))return null;let i=t.map((a,o)=>vxe(e,n[o],a.from,a.to));if(r!=2&&!i.every(a=>a))return{changes:e.changes(t.map((a,o)=>i[o]?[]:[{from:a.from,insert:n[o].open+" "},{from:a.to,insert:" "+n[o].close}]))};if(r!=1&&i.some(a=>a)){let a=[];for(let o=0,s;o<i.length;o++)if(s=i[o]){let l=n[o],{open:u,close:c}=s;a.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:a}}return null}function Oxe(r,e,t=e.selection.ranges){let n=[],i=-1;for(let{from:a,to:o}of t){let s=n.length,l=1e9,u=LN(e,a).line;if(u){for(let c=a;c<=o;){let h=e.doc.lineAt(c);if(h.from>i&&(a==o||o>h.from)){i=h.from;let p=/^\s*/.exec(h.text)[0].length,g=p==h.length,O=h.text.slice(p,p+u.length)==u?p:-1;p<h.text.length&&p<l&&(l=p),n.push({line:h,comment:O,token:u,indent:p,empty:g,single:!1})}c=h.to+1}if(l<1e9)for(let c=s;c<n.length;c++)n[c].indent<n[c].line.text.length&&(n[c].indent=l);n.length==s+1&&(n[s].single=!0)}}if(r!=2&&n.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:s,token:l,indent:u,empty:c,single:h}of n)(h||!c)&&a.push({from:s.from+u,insert:l+" "});let o=e.changes(a);return{changes:o,selection:e.selection.map(o,1)}}else if(r!=1&&n.some(a=>a.comment>=0)){let a=[];for(let{line:o,comment:s,token:l}of n)if(s>=0){let u=o.from+s,c=u+l.length;o.text[c-o.from]==" "&&c++,a.push({from:u,to:c})}return{changes:a}}return null}const BP=lc.define(),yxe=lc.define(),bxe=Mt.define(),vH=Mt.define({combine(r){return su(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,i)=>e(n,i)||t(n,i)})}}),gH=Ri.define({create(){return lg.empty},update(r,e){let t=e.state.facet(vH),n=e.annotation(BP);if(n){let l=po.fromTransaction(e,n.selection),u=n.side,c=u==0?r.undone:r.done;return l?c=ww(c,c.length,t.minDepth,l):c=wH(c,e.startState.selection),new lg(u==0?n.rest:c,u==0?c:n.rest)}let i=e.annotation(yxe);if((i=="full"||i=="before")&&(r=r.isolate()),e.annotation(La.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let a=po.fromTransaction(e),o=e.annotation(La.time),s=e.annotation(La.userEvent);return a?r=r.addChanges(a,o,s,t,e):e.selection&&(r=r.addSelection(e.startState.selection,o,s,t.newGroupDelay)),(i=="full"||i=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new lg(r.done.map(po.fromJSON),r.undone.map(po.fromJSON))}});function OH(r={}){return[gH,vH.of(r),At.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?yH:e.inputType=="historyRedo"?qP:null;return n?(e.preventDefault(),n(t)):!1}})]}function V1(r,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let i=t.field(gH,!1);if(!i)return!1;let a=i.pop(r,t,e);return a?(n(a),!0):!1}}const yH=V1(0,!1),qP=V1(1,!1),wxe=V1(0,!0),kxe=V1(1,!0);class po{constructor(e,t,n,i,a){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=a}setSelAfter(e){return new po(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new po(e.changes&&bi.fromJSON(e.changes),[],e.mapped&&Yl.fromJSON(e.mapped),e.startSelection&&Ye.fromJSON(e.startSelection),e.selectionsAfter.map(Ye.fromJSON))}static fromTransaction(e,t){let n=ws;for(let i of e.startState.facet(bxe)){let a=i(e);a.length&&(n=n.concat(a))}return!n.length&&e.changes.empty?null:new po(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,ws)}static selection(e){return new po(void 0,ws,void 0,void 0,e)}}function ww(r,e,t,n){let i=e+1>t+20?e-t-1:0,a=r.slice(i,e);return a.push(n),a}function Sxe(r,e){let t=[],n=!1;return r.iterChangedRanges((i,a)=>t.push(i,a)),e.iterChangedRanges((i,a,o,s)=>{for(let l=0;l<t.length;){let u=t[l++],c=t[l++];s>=u&&o<=c&&(n=!0)}}),n}function xxe(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function bH(r,e){return r.length?e.length?r.concat(e):r:e}const ws=[],Cxe=200;function wH(r,e){if(r.length){let t=r[r.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-Cxe));return n.length&&n[n.length-1].eq(e)?r:(n.push(e),ww(r,r.length-1,1e9,t.setSelAfter(n)))}else return[po.selection([e])]}function Txe(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function dA(r,e){if(!r.length)return r;let t=r.length,n=ws;for(;t;){let i=Exe(r[t-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let a=r.slice(0,t);return a[t-1]=i,a}else e=i.mapped,t--,n=i.selectionsAfter}return n.length?[po.selection(n)]:ws}function Exe(r,e,t){let n=bH(r.selectionsAfter.length?r.selectionsAfter.map(s=>s.map(e)):ws,t);if(!r.changes)return po.selection(n);let i=r.changes.map(e),a=e.mapDesc(r.changes,!0),o=r.mapped?r.mapped.composeDesc(a):a;return new po(i,fr.mapEffects(r.effects,e),o,r.startSelection.map(a),n)}const Mxe=/^(input\.type|delete)($|\.)/;let lg=class Zv{constructor(e,t,n=0,i=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new Zv(this.done,this.undone):this}addChanges(e,t,n,i,a){let o=this.done,s=o[o.length-1];return s&&s.changes&&!s.changes.empty&&e.changes&&(!n||Mxe.test(n))&&(!s.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,Sxe(s.changes,e.changes))||n=="input.type.compose")?o=ww(o,o.length-1,i.minDepth,new po(e.changes.compose(s.changes),bH(fr.mapEffects(e.effects,s.changes),s.effects),s.mapped,s.startSelection,ws)):o=ww(o,o.length,i.minDepth,e),new Zv(o,ws,t,n)}addSelection(e,t,n,i){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:ws;return a.length>0&&t-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&xxe(a[a.length-1],e)?this:new Zv(wH(this.done,e),this.undone,t,n)}addMapping(e){return new Zv(dA(this.done,e),dA(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let a=i[i.length-1],o=a.selectionsAfter[0]||t.selection;if(n&&a.selectionsAfter.length)return t.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:BP.of({side:e,rest:Txe(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let s=i.length==1?ws:i.slice(0,i.length-1);return a.mapped&&(s=dA(s,a.mapped)),t.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:BP.of({side:e,rest:s,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}};lg.empty=new lg(ws,ws);const kH=[{key:"Mod-z",run:yH,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:qP,preventDefault:!0},{linux:"Ctrl-Shift-z",run:qP,preventDefault:!0},{key:"Mod-u",run:wxe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:kxe,preventDefault:!0}];function am(r,e){return Ye.create(r.ranges.map(e),r.mainIndex)}function lu(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function vl({state:r,dispatch:e},t){let n=am(r.selection,t);return n.eq(r.selection,!0)?!1:(e(lu(r,n)),!0)}function Z1(r,e){return Ye.cursor(e?r.to:r.from)}function SH(r,e){return vl(r,t=>t.empty?r.moveByChar(t,e):Z1(t,e))}function wa(r){return r.textDirectionAt(r.state.selection.main.head)==Sn.LTR}const xH=r=>SH(r,!wa(r)),CH=r=>SH(r,wa(r));function TH(r,e){return vl(r,t=>t.empty?r.moveByGroup(t,e):Z1(t,e))}const Axe=r=>TH(r,!wa(r)),Dxe=r=>TH(r,wa(r));function Pxe(r,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function z1(r,e,t){let n=Vn(r).resolveInner(e.head),i=t?kr.closedBy:kr.openedBy;for(let l=e.head;;){let u=t?n.childAfter(l):n.childBefore(l);if(!u)break;Pxe(r,u,i)?n=u:l=t?u.to:u.from}let a=n.type.prop(i),o,s;return a&&(o=t?Xl(r,n.from,1):Xl(r,n.to,-1))&&o.matched?s=t?o.end.to:o.end.from:s=t?n.to:n.from,Ye.cursor(s,t?-1:1)}const Rxe=r=>vl(r,e=>z1(r.state,e,!wa(r))),Nxe=r=>vl(r,e=>z1(r.state,e,wa(r)));function EH(r,e){return vl(r,t=>{if(!t.empty)return Z1(t,e);let n=r.moveVertically(t,e);return n.head!=t.head?n:r.moveToLineBoundary(t,e)})}const MH=r=>EH(r,!1),AH=r=>EH(r,!0);function DH(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,n=0,i;if(e){for(let a of r.state.facet(At.scrollMargins)){let o=a(r);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(n=Math.max(o==null?void 0:o.bottom,n))}i=r.scrollDOM.clientHeight-t-n}else i=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(r.defaultLineHeight,i-5)}}function PH(r,e){let t=DH(r),{state:n}=r,i=am(n.selection,o=>o.empty?r.moveVertically(o,e,t.height):Z1(o,e));if(i.eq(n.selection))return!1;let a;if(t.selfScroll){let o=r.coordsAtPos(n.selection.main.head),s=r.scrollDOM.getBoundingClientRect(),l=s.top+t.marginTop,u=s.bottom-t.marginBottom;o&&o.top>l&&o.bottom<u&&(a=At.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return r.dispatch(lu(n,i),{effects:a}),!0}const fQ=r=>PH(r,!1),FP=r=>PH(r,!0);function kf(r,e,t){let n=r.lineBlockAt(e.head),i=r.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?n.to:n.from)&&(i=r.moveToLineBoundary(e,t,!1)),!t&&i.head==n.from&&n.length){let a=/^\s*/.exec(r.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;a&&e.head!=n.from+a&&(i=Ye.cursor(n.from+a))}return i}const $xe=r=>vl(r,e=>kf(r,e,!0)),Lxe=r=>vl(r,e=>kf(r,e,!1)),_xe=r=>vl(r,e=>kf(r,e,!wa(r))),Ixe=r=>vl(r,e=>kf(r,e,wa(r))),Qxe=r=>vl(r,e=>Ye.cursor(r.lineBlockAt(e.head).from,1)),Bxe=r=>vl(r,e=>Ye.cursor(r.lineBlockAt(e.head).to,-1));function qxe(r,e,t){let n=!1,i=am(r.selection,a=>{let o=Xl(r,a.head,-1)||Xl(r,a.head,1)||a.head>0&&Xl(r,a.head-1,1)||a.head<r.doc.length&&Xl(r,a.head+1,-1);if(!o||!o.end)return a;n=!0;let s=o.start.from==a.head?o.end.to:o.end.from;return Ye.cursor(s)});return n?(e(lu(r,i)),!0):!1}const Fxe=({state:r,dispatch:e})=>qxe(r,e);function Ps(r,e){let t=am(r.state.selection,n=>{let i=e(n);return Ye.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(lu(r.state,t)),!0)}function RH(r,e){return Ps(r,t=>r.moveByChar(t,e))}const NH=r=>RH(r,!wa(r)),$H=r=>RH(r,wa(r));function LH(r,e){return Ps(r,t=>r.moveByGroup(t,e))}const Vxe=r=>LH(r,!wa(r)),Zxe=r=>LH(r,wa(r)),zxe=r=>Ps(r,e=>z1(r.state,e,!wa(r))),Hxe=r=>Ps(r,e=>z1(r.state,e,wa(r)));function _H(r,e){return Ps(r,t=>r.moveVertically(t,e))}const IH=r=>_H(r,!1),QH=r=>_H(r,!0);function BH(r,e){return Ps(r,t=>r.moveVertically(t,e,DH(r).height))}const hQ=r=>BH(r,!1),dQ=r=>BH(r,!0),Wxe=r=>Ps(r,e=>kf(r,e,!0)),Uxe=r=>Ps(r,e=>kf(r,e,!1)),Xxe=r=>Ps(r,e=>kf(r,e,!wa(r))),jxe=r=>Ps(r,e=>kf(r,e,wa(r))),Yxe=r=>Ps(r,e=>Ye.cursor(r.lineBlockAt(e.head).from)),Gxe=r=>Ps(r,e=>Ye.cursor(r.lineBlockAt(e.head).to)),pQ=({state:r,dispatch:e})=>(e(lu(r,{anchor:0})),!0),mQ=({state:r,dispatch:e})=>(e(lu(r,{anchor:r.doc.length})),!0),vQ=({state:r,dispatch:e})=>(e(lu(r,{anchor:r.selection.main.anchor,head:0})),!0),gQ=({state:r,dispatch:e})=>(e(lu(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),Kxe=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),Jxe=({state:r,dispatch:e})=>{let t=H1(r).map(({from:n,to:i})=>Ye.range(n,Math.min(i+1,r.doc.length)));return e(r.update({selection:Ye.create(t),userEvent:"select"})),!0},eCe=({state:r,dispatch:e})=>{let t=am(r.selection,n=>{let i=Vn(r),a=i.resolveStack(n.from,1);if(n.empty){let o=i.resolveStack(n.from,-1);o.node.from>=a.node.from&&o.node.to<=a.node.to&&(a=o)}for(let o=a;o;o=o.next){let{node:s}=o;if((s.from<n.from&&s.to>=n.to||s.to>n.to&&s.from<=n.from)&&o.next)return Ye.range(s.to,s.from)}return n});return t.eq(r.selection)?!1:(e(lu(r,t)),!0)},tCe=({state:r,dispatch:e})=>{let t=r.selection,n=null;return t.ranges.length>1?n=Ye.create([t.main]):t.main.empty||(n=Ye.create([Ye.cursor(t.main.head)])),n?(e(lu(r,n)),!0):!1};function dO(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:n}=r,i=n.changeByRange(a=>{let{from:o,to:s}=a;if(o==s){let l=e(a);l<o?(t="delete.backward",l=Zb(r,l,!1)):l>o&&(t="delete.forward",l=Zb(r,l,!0)),o=Math.min(o,l),s=Math.max(s,l)}else o=Zb(r,o,!1),s=Zb(r,s,!0);return o==s?{range:a}:{changes:{from:o,to:s},range:Ye.cursor(o,o<a.head?-1:1)}});return i.changes.empty?!1:(r.dispatch(n.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?At.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function Zb(r,e,t){if(r instanceof At)for(let n of r.state.facet(At.atomicRanges).map(i=>i(r)))n.between(e,e,(i,a)=>{i<e&&a>e&&(e=t?a:i)});return e}const qH=(r,e,t)=>dO(r,n=>{let i=n.from,{state:a}=r,o=a.doc.lineAt(i),s,l;if(t&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(s=o.text.slice(0,i-o.from))){if(s[s.length-1]=="	")return i-1;let u=im(s,a.tabSize),c=u%Ow(a)||Ow(a);for(let h=0;h<c&&s[s.length-1-h]==" ";h++)i--;l=i}else l=Gi(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?a.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=Gi(o.text,l-o.from,!1,!1)+o.from);return l}),VP=r=>qH(r,!1,!0),FH=r=>qH(r,!0,!1),VH=(r,e)=>dO(r,t=>{let n=t.head,{state:i}=r,a=i.doc.lineAt(n),o=i.charCategorizer(n);for(let s=null;;){if(n==(e?a.to:a.from)){n==t.head&&a.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let l=Gi(a.text,n-a.from,e)+a.from,u=a.text.slice(Math.min(n,l)-a.from,Math.max(n,l)-a.from),c=o(u);if(s!=null&&c!=s)break;(u!=" "||n!=t.head)&&(s=c),n=l}return n}),ZH=r=>VH(r,!1),rCe=r=>VH(r,!0),nCe=r=>dO(r,e=>{let t=r.lineBlockAt(e.head).to;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),iCe=r=>dO(r,e=>{let t=r.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),aCe=r=>dO(r,e=>{let t=r.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),oCe=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Wr.of(["",""])},range:Ye.cursor(n.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},sCe=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>{if(!n.empty||n.from==0||n.from==r.doc.length)return{range:n};let i=n.from,a=r.doc.lineAt(i),o=i==a.from?i-1:Gi(a.text,i-a.from,!1)+a.from,s=i==a.to?i+1:Gi(a.text,i-a.from,!0)+a.from;return{changes:{from:o,to:s,insert:r.doc.slice(i,s).append(r.doc.slice(o,i))},range:Ye.cursor(s)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function H1(r){let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.from),a=r.doc.lineAt(n.to);if(!n.empty&&n.to==a.from&&(a=r.doc.lineAt(n.to-1)),t>=i.number){let o=e[e.length-1];o.to=a.to,o.ranges.push(n)}else e.push({from:i.from,to:a.to,ranges:[n]});t=a.number+1}return e}function zH(r,e,t){if(r.readOnly)return!1;let n=[],i=[];for(let a of H1(r)){if(t?a.to==r.doc.length:a.from==0)continue;let o=r.doc.lineAt(t?a.to+1:a.from-1),s=o.length+1;if(t){n.push({from:a.to,to:o.to},{from:a.from,insert:o.text+r.lineBreak});for(let l of a.ranges)i.push(Ye.range(Math.min(r.doc.length,l.anchor+s),Math.min(r.doc.length,l.head+s)))}else{n.push({from:o.from,to:a.from},{from:a.to,insert:r.lineBreak+o.text});for(let l of a.ranges)i.push(Ye.range(l.anchor-s,l.head-s))}}return n.length?(e(r.update({changes:n,scrollIntoView:!0,selection:Ye.create(i,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const lCe=({state:r,dispatch:e})=>zH(r,e,!1),uCe=({state:r,dispatch:e})=>zH(r,e,!0);function HH(r,e,t){if(r.readOnly)return!1;let n=[];for(let i of H1(r))t?n.push({from:i.from,insert:r.doc.slice(i.from,i.to)+r.lineBreak}):n.push({from:i.to,insert:r.lineBreak+r.doc.slice(i.from,i.to)});return e(r.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const cCe=({state:r,dispatch:e})=>HH(r,e,!1),fCe=({state:r,dispatch:e})=>HH(r,e,!0),hCe=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(H1(e).map(({from:i,to:a})=>(i>0?i--:a<e.doc.length&&a++,{from:i,to:a}))),n=am(e.selection,i=>{let a;if(r.lineWrapping){let o=r.lineBlockAt(i.head),s=r.coordsAtPos(i.head,i.assoc||1);s&&(a=o.bottom+r.documentTop-s.bottom+r.defaultLineHeight/2)}return r.moveVertically(i,!0,a)}).map(t);return r.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function dCe(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Vn(r).resolveInner(e),n=t.childBefore(e),i=t.childAfter(e),a;return n&&i&&n.to<=e&&i.from>=e&&(a=n.type.prop(kr.closedBy))&&a.indexOf(i.name)>-1&&r.doc.lineAt(n.to).from==r.doc.lineAt(i.from).from&&!/\S/.test(r.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}const OQ=WH(!1),pCe=WH(!0);function WH(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:a,to:o}=i,s=e.doc.lineAt(a),l=!r&&a==o&&dCe(e,a);r&&(a=o=(o<=s.to?s:e.doc.lineAt(o)).to);let u=new Q1(e,{simulateBreak:a,simulateDoubleBreak:!!l}),c=PN(u,a);for(c==null&&(c=im(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));o<s.to&&/\s/.test(s.text[o-s.from]);)o++;l?{from:a,to:o}=l:a>s.from&&a<s.from+100&&!/\S/.test(s.text.slice(0,a))&&(a=s.from);let h=["",Ig(e,c)];return l&&h.push(Ig(e,u.lineIndent(s.from,-1))),{changes:{from:a,to:o,insert:Wr.of(h)},range:Ye.cursor(a+1+h[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function _N(r,e){let t=-1;return r.changeByRange(n=>{let i=[];for(let o=n.from;o<=n.to;){let s=r.doc.lineAt(o);s.number>t&&(n.empty||n.to>s.from)&&(e(s,i,n),t=s.number),o=s.to+1}let a=r.changes(i);return{changes:i,range:Ye.range(a.mapPos(n.anchor,1),a.mapPos(n.head,1))}})}const mCe=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),n=new Q1(r,{overrideIndentation:a=>{let o=t[a];return o??-1}}),i=_N(r,(a,o,s)=>{let l=PN(n,a.from);if(l==null)return;/\S/.test(a.text)||(l=0);let u=/^\s*/.exec(a.text)[0],c=Ig(r,l);(u!=c||s.from<a.from+u.length)&&(t[a.from]=l,o.push({from:a.from,to:a.from+u.length,insert:c}))});return i.changes.empty||e(r.update(i,{userEvent:"indent"})),!0},UH=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(_N(r,(t,n)=>{n.push({from:t.from,insert:r.facet(I1)})}),{userEvent:"input.indent"})),!0),XH=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(_N(r,(t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let a=im(i,r.tabSize),o=0,s=Ig(r,Math.max(0,a-Ow(r)));for(;o<i.length&&o<s.length&&i.charCodeAt(o)==s.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+i.length,insert:s.slice(o)})}),{userEvent:"delete.dedent"})),!0),vCe=r=>(r.setTabFocusMode(),!0),gCe=[{key:"Ctrl-b",run:xH,shift:NH,preventDefault:!0},{key:"Ctrl-f",run:CH,shift:$H},{key:"Ctrl-p",run:MH,shift:IH},{key:"Ctrl-n",run:AH,shift:QH},{key:"Ctrl-a",run:Qxe,shift:Yxe},{key:"Ctrl-e",run:Bxe,shift:Gxe},{key:"Ctrl-d",run:FH},{key:"Ctrl-h",run:VP},{key:"Ctrl-k",run:nCe},{key:"Ctrl-Alt-h",run:ZH},{key:"Ctrl-o",run:oCe},{key:"Ctrl-t",run:sCe},{key:"Ctrl-v",run:FP}],OCe=[{key:"ArrowLeft",run:xH,shift:NH,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Axe,shift:Vxe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:_xe,shift:Xxe,preventDefault:!0},{key:"ArrowRight",run:CH,shift:$H,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Dxe,shift:Zxe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Ixe,shift:jxe,preventDefault:!0},{key:"ArrowUp",run:MH,shift:IH,preventDefault:!0},{mac:"Cmd-ArrowUp",run:pQ,shift:vQ},{mac:"Ctrl-ArrowUp",run:fQ,shift:hQ},{key:"ArrowDown",run:AH,shift:QH,preventDefault:!0},{mac:"Cmd-ArrowDown",run:mQ,shift:gQ},{mac:"Ctrl-ArrowDown",run:FP,shift:dQ},{key:"PageUp",run:fQ,shift:hQ},{key:"PageDown",run:FP,shift:dQ},{key:"Home",run:Lxe,shift:Uxe,preventDefault:!0},{key:"Mod-Home",run:pQ,shift:vQ},{key:"End",run:$xe,shift:Wxe,preventDefault:!0},{key:"Mod-End",run:mQ,shift:gQ},{key:"Enter",run:OQ,shift:OQ},{key:"Mod-a",run:Kxe},{key:"Backspace",run:VP,shift:VP},{key:"Delete",run:FH},{key:"Mod-Backspace",mac:"Alt-Backspace",run:ZH},{key:"Mod-Delete",mac:"Alt-Delete",run:rCe},{mac:"Mod-Backspace",run:iCe},{mac:"Mod-Delete",run:aCe}].concat(gCe.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),jH=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Rxe,shift:zxe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Nxe,shift:Hxe},{key:"Alt-ArrowUp",run:lCe},{key:"Shift-Alt-ArrowUp",run:cCe},{key:"Alt-ArrowDown",run:uCe},{key:"Shift-Alt-ArrowDown",run:fCe},{key:"Escape",run:tCe},{key:"Mod-Enter",run:pCe},{key:"Alt-l",mac:"Ctrl-l",run:Jxe},{key:"Mod-i",run:eCe,preventDefault:!0},{key:"Mod-[",run:XH},{key:"Mod-]",run:UH},{key:"Mod-Alt-\\",run:mCe},{key:"Shift-Mod-k",run:hCe},{key:"Shift-Mod-\\",run:Fxe},{key:"Mod-/",run:hxe},{key:"Alt-A",run:pxe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:vCe}].concat(OCe),zCt={key:"Tab",run:UH,shift:XH};function vn(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];typeof i=="string"?r.setAttribute(n,i):i!=null&&(r[n]=i)}e++}for(;e<arguments.length;e++)YH(r,arguments[e]);return r}function YH(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)YH(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}const yQ=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class Np{constructor(e,t,n=0,i=e.length,a,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=a?s=>a(yQ(s)):yQ,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return so(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=uN(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Hl(e);let i=this.normalize(t);if(i.length)for(let a=0,o=n;;a++){let s=i.charCodeAt(a),l=this.match(s,o,this.bufferPos+this.bufferStart);if(a==i.length-1){if(l)return this.value=l,this;break}o==n&&a<t.length&&t.charCodeAt(a)==s&&o++}}}match(e,t,n){let i=null;for(let a=0;a<this.matches.length;a+=2){let o=this.matches[a],s=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[a+1],to:n}:(this.matches[a]++,s=!0)),s||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:n}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Np.prototype[Symbol.iterator]=function(){return this});const GH={from:-1,to:-1,match:/.*/.exec("")},IN="gm"+(/x/.unicode==null?"":"u");class KH{constructor(e,t,n,i=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=GH,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new JH(e,t,n,i,a);this.re=new RegExp(t,IN+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=kw(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,i=n+t[0].length;if(this.matchPos=kw(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const pA=new WeakMap;class vp{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let i=pA.get(e);if(!i||i.from>=n||i.to<=t){let s=new vp(t,e.sliceString(t,n));return pA.set(e,s),s}if(i.from==t&&i.to==n)return i;let{text:a,from:o}=i;return o>t&&(a=e.sliceString(t,o)+a,o=t),i.to<n&&(a+=e.sliceString(i.to,n)),pA.set(e,new vp(o,a)),new vp(t,a.slice(t-o,n-o))}}class JH{constructor(e,t,n,i,a){this.text=e,this.to=a,this.done=!1,this.value=GH,this.matchPos=kw(e,i),this.re=new RegExp(t,IN+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.flat=vp.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,i=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this.matchPos=kw(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=vp.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(KH.prototype[Symbol.iterator]=JH.prototype[Symbol.iterator]=function(){return this});function yCe(r){try{return new RegExp(r,IN),!0}catch{return!1}}function kw(r,e){if(e>=r.length)return e;let t=r.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function ZP(r){let e=String(r.state.doc.lineAt(r.state.selection.main.head).number),t=vn("input",{class:"cm-textfield",name:"line",value:e}),n=vn("form",{class:"cm-gotoLine",onkeydown:a=>{a.keyCode==27?(a.preventDefault(),r.dispatch({effects:Sw.of(!1)}),r.focus()):a.keyCode==13&&(a.preventDefault(),i())},onsubmit:a=>{a.preventDefault(),i()}},vn("label",r.state.phrase("Go to line"),": ",t)," ",vn("button",{class:"cm-button",type:"submit"},r.state.phrase("go")));function i(){let a=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!a)return;let{state:o}=r,s=o.doc.lineAt(o.selection.main.head),[,l,u,c,h]=a,p=c?+c.slice(1):0,g=u?+u:s.number;if(u&&h){let M=g/100;l&&(M=M*(l=="-"?-1:1)+s.number/o.doc.lines),g=Math.round(o.doc.lines*M)}else u&&l&&(g=g*(l=="-"?-1:1)+s.number);let O=o.doc.line(Math.max(1,Math.min(o.doc.lines,g))),T=Ye.cursor(O.from+Math.max(0,Math.min(p,O.length)));r.dispatch({effects:[Sw.of(!1),At.scrollIntoView(T.from,{y:"center"})],selection:T}),r.focus()}return{dom:n}}const Sw=fr.define(),bQ=Ri.define({create(){return!0},update(r,e){for(let t of e.effects)t.is(Sw)&&(r=t.value);return r},provide:r=>$g.from(r,e=>e?ZP:null)}),bCe=r=>{let e=Ng(r,ZP);if(!e){let t=[Sw.of(!0)];r.state.field(bQ,!1)==null&&t.push(fr.appendConfig.of([bQ,wCe])),r.dispatch({effects:t}),e=Ng(r,ZP)}return e&&e.dom.querySelector("input").select(),!0},wCe=At.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),kCe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},SCe=Mt.define({combine(r){return su(r,kCe,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function xCe(r){return[ACe,MCe]}const CCe=jt.mark({class:"cm-selectionMatch"}),TCe=jt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function wQ(r,e,t,n){return(t==0||r(e.sliceDoc(t-1,t))!=An.Word)&&(n==e.doc.length||r(e.sliceDoc(n,n+1))!=An.Word)}function ECe(r,e,t,n){return r(e.sliceDoc(t,t+1))==An.Word&&r(e.sliceDoc(n-1,n))==An.Word}const MCe=ci.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(SCe),{state:t}=r,n=t.selection;if(n.ranges.length>1)return jt.none;let i=n.main,a,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return jt.none;let l=t.wordAt(i.head);if(!l)return jt.none;o=t.charCategorizer(i.head),a=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return jt.none;if(e.wholeWords){if(a=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(wQ(o,t,i.from,i.to)&&ECe(o,t,i.from,i.to)))return jt.none}else if(a=t.sliceDoc(i.from,i.to),!a)return jt.none}let s=[];for(let l of r.visibleRanges){let u=new Np(t.doc,a,l.from,l.to);for(;!u.next().done;){let{from:c,to:h}=u.value;if((!o||wQ(o,t,c,h))&&(i.empty&&c<=i.from&&h>=i.to?s.push(TCe.range(c,h)):(c>=i.to||h<=i.from)&&s.push(CCe.range(c,h)),s.length>e.maxMatches))return jt.none}}return jt.set(s)}},{decorations:r=>r.decorations}),ACe=At.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),DCe=({state:r,dispatch:e})=>{let{selection:t}=r,n=Ye.create(t.ranges.map(i=>r.wordAt(i.head)||Ye.cursor(i.head)),t.mainIndex);return n.eq(t)?!1:(e(r.update({selection:n})),!0)};function PCe(r,e){let{main:t,ranges:n}=r.selection,i=r.wordAt(t.head),a=i&&i.from==t.from&&i.to==t.to;for(let o=!1,s=new Np(r.doc,e,n[n.length-1].to);;)if(s.next(),s.done){if(o)return null;s=new Np(r.doc,e,0,Math.max(0,n[n.length-1].from-1)),o=!0}else{if(o&&n.some(l=>l.from==s.value.from))continue;if(a){let l=r.wordAt(s.value.from);if(!l||l.from!=s.value.from||l.to!=s.value.to)continue}return s.value}}const RCe=({state:r,dispatch:e})=>{let{ranges:t}=r.selection;if(t.some(a=>a.from===a.to))return DCe({state:r,dispatch:e});let n=r.sliceDoc(t[0].from,t[0].to);if(r.selection.ranges.some(a=>r.sliceDoc(a.from,a.to)!=n))return!1;let i=PCe(r,n);return i?(e(r.update({selection:r.selection.addRange(Ye.range(i.from,i.to),!1),effects:At.scrollIntoView(i.to)})),!0):!1},om=Mt.define({combine(r){return su(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new zCe(e),scrollToMatch:e=>At.scrollIntoView(e)})}});class eW{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||yCe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new _Ce(this):new $Ce(this)}getCursor(e,t=0,n){let i=e.doc?e:Kn.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?tp(this,i,t,n):ep(this,i,t,n)}}class tW{constructor(e){this.spec=e}}function ep(r,e,t,n){return new Np(e.doc,r.unquoted,t,n,r.caseSensitive?void 0:i=>i.toLowerCase(),r.wholeWord?NCe(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function NCe(r,e){return(t,n,i,a)=>((a>t||a+i.length<n)&&(a=Math.max(0,t-2),i=r.sliceString(a,Math.min(r.length,n+2))),(e(xw(i,t-a))!=An.Word||e(Cw(i,t-a))!=An.Word)&&(e(Cw(i,n-a))!=An.Word||e(xw(i,n-a))!=An.Word))}class $Ce extends tW{constructor(e){super(e)}nextMatch(e,t,n){let i=ep(this.spec,e,n,e.doc.length).nextOverlapping();if(i.done){let a=Math.min(e.doc.length,t+this.spec.unquoted.length);i=ep(this.spec,e,0,a).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==n?null:i.value}prevMatchInRange(e,t,n){for(let i=n;;){let a=Math.max(t,i-1e4-this.spec.unquoted.length),o=ep(this.spec,e,a,i),s=null;for(;!o.nextOverlapping().done;)s=o.value;if(s)return s;if(a==t)return null;i-=1e4}}prevMatch(e,t,n){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=n)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=ep(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let a=ep(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}function tp(r,e,t,n){return new KH(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?LCe(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function xw(r,e){return r.slice(Gi(r,e,!1),e)}function Cw(r,e){return r.slice(e,Gi(r,e))}function LCe(r){return(e,t,n)=>!n[0].length||(r(xw(n.input,n.index))!=An.Word||r(Cw(n.input,n.index))!=An.Word)&&(r(Cw(n.input,n.index+n[0].length))!=An.Word||r(xw(n.input,n.index+n[0].length))!=An.Word)}class _Ce extends tW{nextMatch(e,t,n){let i=tp(this.spec,e,n,e.doc.length).next();return i.done&&(i=tp(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,n){for(let i=1;;i++){let a=Math.max(t,n-i*1e4),o=tp(this.spec,e,a,n),s=null;for(;!o.next().done;)s=o.value;if(s&&(a==t||s.from>a+10))return s;if(a==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let i=n.length;i>0;i--){let a=+n.slice(0,i);if(a>0&&a<e.match.length)return e.match[a]+n.slice(i)}return t})}matchAll(e,t){let n=tp(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let a=tp(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}const Qg=fr.define(),QN=fr.define(),af=Ri.define({create(r){return new mA(zP(r).create(),null)},update(r,e){for(let t of e.effects)t.is(Qg)?r=new mA(t.value.create(),r.panel):t.is(QN)&&(r=new mA(r.query,t.value?BN:null));return r},provide:r=>$g.from(r,e=>e.panel)});class mA{constructor(e,t){this.query=e,this.panel=t}}const ICe=jt.mark({class:"cm-searchMatch"}),QCe=jt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),BCe=ci.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(af))}update(r){let e=r.state.field(af);(e!=r.startState.field(af)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return jt.none;let{view:t}=this,n=new Ju;for(let i=0,a=t.visibleRanges,o=a.length;i<o;i++){let{from:s,to:l}=a[i];for(;i<o-1&&l>a[i+1].from-2*250;)l=a[++i].to;r.highlight(t.state,s,l,(u,c)=>{let h=t.state.selection.ranges.some(p=>p.from==u&&p.to==c);n.add(u,c,h?QCe:ICe)})}return n.finish()}},{decorations:r=>r.decorations});function pO(r){return e=>{let t=e.state.field(af,!1);return t&&t.query.spec.valid?r(e,t):iW(e)}}const Tw=pO((r,{query:e})=>{let{to:t}=r.state.selection.main,n=e.nextMatch(r.state,t,t);if(!n)return!1;let i=Ye.single(n.from,n.to),a=r.state.facet(om);return r.dispatch({selection:i,effects:[qN(r,n),a.scrollToMatch(i.main,r)],userEvent:"select.search"}),nW(r),!0}),Ew=pO((r,{query:e})=>{let{state:t}=r,{from:n}=t.selection.main,i=e.prevMatch(t,n,n);if(!i)return!1;let a=Ye.single(i.from,i.to),o=r.state.facet(om);return r.dispatch({selection:a,effects:[qN(r,i),o.scrollToMatch(a.main,r)],userEvent:"select.search"}),nW(r),!0}),qCe=pO((r,{query:e})=>{let t=e.matchAll(r.state,1e3);return!t||!t.length?!1:(r.dispatch({selection:Ye.create(t.map(n=>Ye.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),FCe=({state:r,dispatch:e})=>{let t=r.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:i}=t.main,a=[],o=0;for(let s=new Np(r.doc,r.sliceDoc(n,i));!s.next().done;){if(a.length>1e3)return!1;s.value.from==n&&(o=a.length),a.push(Ye.range(s.value.from,s.value.to))}return e(r.update({selection:Ye.create(a,o),userEvent:"select.search.matches"})),!0},kQ=pO((r,{query:e})=>{let{state:t}=r,{from:n,to:i}=t.selection.main;if(t.readOnly)return!1;let a=e.nextMatch(t,n,n);if(!a)return!1;let o=a,s=[],l,u,c=[];if(o.from==n&&o.to==i&&(u=t.toText(e.getReplacement(o)),s.push({from:o.from,to:o.to,insert:u}),o=e.nextMatch(t,o.from,o.to),c.push(At.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+"."))),o){let h=s.length==0||s[0].from>=a.to?0:a.to-a.from-u.length;l=Ye.single(o.from-h,o.to-h),c.push(qN(r,o)),c.push(t.facet(om).scrollToMatch(l.main,r))}return r.dispatch({changes:s,selection:l,effects:c,userEvent:"input.replace"}),!0}),VCe=pO((r,{query:e})=>{if(r.state.readOnly)return!1;let t=e.matchAll(r.state,1e9).map(i=>{let{from:a,to:o}=i;return{from:a,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let n=r.state.phrase("replaced $ matches",t.length)+".";return r.dispatch({changes:t,effects:At.announce.of(n),userEvent:"input.replace.all"}),!0});function BN(r){return r.state.facet(om).createPanel(r)}function zP(r,e){var t,n,i,a,o;let s=r.selection.main,l=s.empty||s.to>s.from+100?"":r.sliceDoc(s.from,s.to);if(e&&!l)return e;let u=r.facet(om);return new eW({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(n=e==null?void 0:e.caseSensitive)!==null&&n!==void 0?n:u.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal,regexp:(a=e==null?void 0:e.regexp)!==null&&a!==void 0?a:u.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function rW(r){let e=Ng(r,BN);return e&&e.dom.querySelector("[main-field]")}function nW(r){let e=rW(r);e&&e==r.root.activeElement&&e.select()}const iW=r=>{let e=r.state.field(af,!1);if(e&&e.panel){let t=rW(r);if(t&&t!=r.root.activeElement){let n=zP(r.state,e.query.spec);n.valid&&r.dispatch({effects:Qg.of(n)}),t.focus(),t.select()}}else r.dispatch({effects:[QN.of(!0),e?Qg.of(zP(r.state,e.query.spec)):fr.appendConfig.of(WCe)]});return!0},aW=r=>{let e=r.state.field(af,!1);if(!e||!e.panel)return!1;let t=Ng(r,BN);return t&&t.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:QN.of(!1)}),!0},ZCe=[{key:"Mod-f",run:iW,scope:"editor search-panel"},{key:"F3",run:Tw,shift:Ew,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Tw,shift:Ew,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:aW,scope:"editor search-panel"},{key:"Mod-Shift-l",run:FCe},{key:"Mod-Alt-g",run:bCe},{key:"Mod-d",run:RCe,preventDefault:!0}];class zCe{constructor(e){this.view=e;let t=this.query=e.state.field(af).query.spec;this.commit=this.commit.bind(this),this.searchField=vn("input",{value:t.search,placeholder:_o(e,"Find"),"aria-label":_o(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=vn("input",{value:t.replace,placeholder:_o(e,"Replace"),"aria-label":_o(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=vn("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=vn("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=vn("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(i,a,o){return vn("button",{class:"cm-button",name:i,onclick:a,type:"button"},o)}this.dom=vn("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>Tw(e),[_o(e,"next")]),n("prev",()=>Ew(e),[_o(e,"previous")]),n("select",()=>qCe(e),[_o(e,"all")]),vn("label",null,[this.caseField,_o(e,"match case")]),vn("label",null,[this.reField,_o(e,"regexp")]),vn("label",null,[this.wordField,_o(e,"by word")]),...e.state.readOnly?[]:[vn("br"),this.replaceField,n("replace",()=>kQ(e),[_o(e,"replace")]),n("replaceAll",()=>VCe(e),[_o(e,"replace all")])],vn("button",{name:"close",onclick:()=>aW(e),"aria-label":_o(e,"close"),type:"button"},["Ã"])])}commit(){let e=new eW({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Qg.of(e)}))}keydown(e){nke(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Ew:Tw)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),kQ(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(Qg)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(om).top}}function _o(r,e){return r.state.phrase(e)}const zb=30,Hb=/[\s\.,:;?!]/;function qN(r,{from:e,to:t}){let n=r.state.doc.lineAt(e),i=r.state.doc.lineAt(t).to,a=Math.max(n.from,e-zb),o=Math.min(i,t+zb),s=r.state.sliceDoc(a,o);if(a!=n.from){for(let l=0;l<zb;l++)if(!Hb.test(s[l+1])&&Hb.test(s[l])){s=s.slice(l);break}}if(o!=i){for(let l=s.length-1;l>s.length-zb;l--)if(!Hb.test(s[l-1])&&Hb.test(s[l])){s=s.slice(0,l);break}}return At.announce.of(`${r.state.phrase("current match")}. ${s} ${r.state.phrase("on line")} ${n.number}.`)}const HCe=At.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),WCe=[af,wf.low(BCe),HCe];class oW{constructor(e,t,n,i){this.state=e,this.pos=t,this.explicit=n,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Vn(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),i=t.text.slice(n-t.from,this.pos-t.from),a=i.search(lW(e,!1));return a<0?null:{from:n+a,to:this.pos,text:i.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function SQ(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function UCe(r){let e=Object.create(null),t=Object.create(null);for(let{label:i}of r){e[i[0]]=!0;for(let a=1;a<i.length;a++)t[i[a]]=!0}let n=SQ(e)+SQ(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function sW(r){let e=r.map(i=>typeof i=="string"?{label:i}:i),[t,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:UCe(e);return i=>{let a=i.matchBefore(n);return a||i.explicit?{from:a?a.from:i.pos,options:e,validFor:t}:null}}function XCe(r,e){return t=>{for(let n=Vn(t.state).resolveInner(t.pos,-1);n;n=n.parent){if(r.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(t)}}class xQ{constructor(e,t,n,i){this.completion=e,this.source=t,this.match=n,this.score=i}}function bh(r){return r.selection.main.from}function lW(r,e){var t;let{source:n}=r,i=e&&n[0]!="^",a=n[n.length-1]!="$";return!i&&!a?r:new RegExp(`${i?"^":""}(?:${n})${a?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const FN=lc.define();function jCe(r,e,t,n){let{main:i}=r.selection,a=t-i.from,o=n-i.from;return Object.assign(Object.assign({},r.changeByRange(s=>{if(s!=i&&t!=n&&r.sliceDoc(s.from+a,s.from+o)!=r.sliceDoc(t,n))return{range:s};let l=r.toText(e);return{changes:{from:s.from+a,to:n==i.from?s.to:s.from+o,insert:l},range:Ye.cursor(s.from+a+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const CQ=new WeakMap;function YCe(r){if(!Array.isArray(r))return r;let e=CQ.get(r);return e||CQ.set(r,e=sW(r)),e}const Mw=fr.define(),Bg=fr.define();class GCe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=so(e,t),i=Hl(n);this.chars.push(n);let a=e.slice(t,t+i),o=a.toUpperCase();this.folded.push(so(o==a?a.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:i,precise:a,byWord:o}=this;if(t.length==1){let z=so(e,0),U=Hl(z),G=U==e.length?0:-100;if(z!=t[0])if(z==n[0])G+=-200;else return null;return this.ret(G,[0,U])}let s=e.indexOf(this.pattern);if(s==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,u=0;if(s<0){for(let z=0,U=Math.min(e.length,200);z<U&&u<l;){let G=so(e,z);(G==t[u]||G==n[u])&&(i[u++]=z),z+=Hl(G)}if(u<l)return null}let c=0,h=0,p=!1,g=0,O=-1,T=-1,M=/[a-z]/.test(e),R=!0;for(let z=0,U=Math.min(e.length,200),G=0;z<U&&h<l;){let J=so(e,z);s<0&&(c<l&&J==t[c]&&(a[c++]=z),g<l&&(J==t[g]||J==n[g]?(g==0&&(O=z),T=z+1,g++):g=0));let ee,le=J<255?J>=48&&J<=57||J>=97&&J<=122?2:J>=65&&J<=90?1:0:(ee=uN(J))!=ee.toLowerCase()?1:ee!=ee.toUpperCase()?2:0;(!z||le==1&&M||G==0&&le!=0)&&(t[h]==J||n[h]==J&&(p=!0)?o[h++]=z:o.length&&(R=!1)),G=le,z+=Hl(J)}return h==l&&o[0]==0&&R?this.result(-100+(p?-200:0),o,e):g==l&&O==0?this.ret(-200-e.length+(T==e.length?0:-100),[0,T]):s>-1?this.ret(-700-e.length,[s,s+this.pattern.length]):g==l?this.ret(-900-e.length,[O,T]):h==l?this.result(-100+(p?-200:0)+-700+(R?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,n){let i=[],a=0;for(let o of t){let s=o+(this.astral?Hl(so(n,o)):1);a&&i[a-1]==o?i[a-1]=s:(i[a++]=o,i[a++]=s)}return this.ret(e-n.length,i)}}class KCe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const Mi=Mt.define({combine(r){return su(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:JCe,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>TQ(e(n),t(n)),optionClass:(e,t)=>n=>TQ(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function TQ(r,e){return r?e?r+" "+e:r:e}function JCe(r,e,t,n,i,a){let o=r.textDirection==Sn.RTL,s=o,l=!1,u="top",c,h,p=e.left-i.left,g=i.right-e.right,O=n.right-n.left,T=n.bottom-n.top;if(s&&p<Math.min(O,g)?s=!1:!s&&g<Math.min(O,p)&&(s=!0),O<=(s?p:g))c=Math.max(i.top,Math.min(t.top,i.bottom-T))-e.top,h=Math.min(400,s?p:g);else{l=!0,h=Math.min(400,(o?e.right:i.right-e.left)-30);let z=i.bottom-e.bottom;z>=T||z>e.top?c=t.bottom-e.top:(u="bottom",c=e.bottom-t.top)}let M=(e.bottom-e.top)/a.offsetHeight,R=(e.right-e.left)/a.offsetWidth;return{style:`${u}: ${c/M}px; max-width: ${h/R}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":s?"left":"right")}}function eTe(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,i,a){let o=document.createElement("span");o.className="cm-completionLabel";let s=t.displayLabel||t.label,l=0;for(let u=0;u<a.length;){let c=a[u++],h=a[u++];c>l&&o.appendChild(document.createTextNode(s.slice(l,c)));let p=o.appendChild(document.createElement("span"));p.appendChild(document.createTextNode(s.slice(c,h))),p.className="cm-completionMatchedText",l=h}return l<s.length&&o.appendChild(document.createTextNode(s.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function vA(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let n=Math.floor((r-e)/t);return{from:r-(n+1)*t,to:r-n*t}}class tTe{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:a,selected:o}=i.open,s=e.state.facet(Mi);this.optionContent=eTe(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=vA(a.length,o,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(t).open;for(let c=l.target,h;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(h=/-(\d+)$/.exec(c.id))&&+h[1]<u.length){this.applyCompletion(e,u[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(Mi).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Bg.of(null)})}),this.showOptions(a,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){let{options:a,selected:o,disabled:s}=n.open;(!i.open||i.open.options!=a)&&(this.range=vA(a.length,o,e.state.facet(Mi).maxRenderedOptions),this.showOptions(a,n.id)),this.updateSel(),s!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=vA(t.options.length,t.selected,this.view.state.facet(Mi).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:i}=n;if(!i)return;let a=typeof i=="string"?document.createTextNode(i):i(n);if(!a)return;"then"in a?a.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,n)}).catch(o=>ho(this.view.state,o,"completion info")):this.addInfoPane(a,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:a}=e;n.appendChild(i),this.infoDestroy=a||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&nTe(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),a=this.space;if(!a){let o=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(a.bottom,t.bottom)-10||i.bottom<Math.max(a.top,t.top)+10?null:this.view.state.facet(Mi).positionInfo(this.view,t,i,n,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let a=null;for(let o=n.from;o<n.to;o++){let{completion:s,match:l}=e[o],{section:u}=s;if(u){let p=typeof u=="string"?u:u.name;if(p!=a&&(o>n.from||n.from==0))if(a=p,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let g=i.appendChild(document.createElement("completion-section"));g.textContent=p}}const c=i.appendChild(document.createElement("li"));c.id=t+"-"+o,c.setAttribute("role","option");let h=this.optionClass(s);h&&(c.className=h);for(let p of this.optionContent){let g=p(s,this.view.state,this.view,l);g&&c.appendChild(g)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function rTe(r,e){return t=>new tTe(t,r,e)}function nTe(r,e){let t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.height/r.offsetHeight;n.top<t.top?r.scrollTop-=(t.top-n.top)/i:n.bottom>t.bottom&&(r.scrollTop+=(n.bottom-t.bottom)/i)}function EQ(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function iTe(r,e){let t=[],n=null,i=u=>{t.push(u);let{section:c}=u.completion;if(c){n||(n=[]);let h=typeof c=="string"?c:c.name;n.some(p=>p.name==h)||n.push(typeof c=="string"?{name:h}:c)}},a=e.facet(Mi);for(let u of r)if(u.hasResult()){let c=u.result.getMatch;if(u.result.filter===!1)for(let h of u.result.options)i(new xQ(h,u.source,c?c(h):[],1e9-t.length));else{let h=e.sliceDoc(u.from,u.to),p,g=a.filterStrict?new KCe(h):new GCe(h);for(let O of u.result.options)if(p=g.match(O.label)){let T=O.displayLabel?c?c(O,p.matched):[]:p.matched;i(new xQ(O,u.source,T,p.score+(O.boost||0)))}}}if(n){let u=Object.create(null),c=0,h=(p,g)=>{var O,T;return((O=p.rank)!==null&&O!==void 0?O:1e9)-((T=g.rank)!==null&&T!==void 0?T:1e9)||(p.name<g.name?-1:1)};for(let p of n.sort(h))c-=1e5,u[p.name]=c;for(let p of t){let{section:g}=p.completion;g&&(p.score+=u[typeof g=="string"?g:g.name])}}let o=[],s=null,l=a.compareCompletions;for(let u of t.sort((c,h)=>h.score-c.score||l(c.completion,h.completion))){let c=u.completion;!s||s.label!=c.label||s.detail!=c.detail||s.type!=null&&c.type!=null&&s.type!=c.type||s.apply!=c.apply||s.boost!=c.boost?o.push(u):EQ(u.completion)>EQ(s)&&(o[o.length-1]=u),s=u.completion}return o}class lp{constructor(e,t,n,i,a,o){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=i,this.selected=a,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new lp(this.options,MQ(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,i,a,o){if(i&&!o&&e.some(u=>u.isPending))return i.setDisabled();let s=iTe(e,t);if(!s.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let l=t.facet(Mi).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let u=i.options[i.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==u){l=c;break}}return new lp(s,MQ(n,l),{pos:e.reduce((u,c)=>c.hasResult()?Math.min(u,c.from):u,1e8),create:cTe,above:a.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new lp(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new lp(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Aw{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new Aw(lTe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(Mi),a=(n.override||t.languageDataAt("autocomplete",bh(t)).map(YCe)).map(l=>(this.active.find(c=>c.source==l)||new ks(l,this.active.some(c=>c.state!=0)?1:0)).update(e,n));a.length==this.active.length&&a.every((l,u)=>l==this.active[u])&&(a=this.active);let o=this.open,s=e.effects.some(l=>l.is(VN));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||a.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!aTe(a,this.active)||s?o=lp.build(a,t,this.id,o,n,s):o&&o.disabled&&!a.some(l=>l.isPending)&&(o=null),!o&&a.every(l=>!l.isPending)&&a.some(l=>l.hasResult())&&(a=a.map(l=>l.hasResult()?new ks(l.source,0):l));for(let l of e.effects)l.is(cW)&&(o=o&&o.setSelected(l.value,this.id));return a==this.active&&o==this.open?this:new Aw(a,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?oTe:sTe}}function aTe(r,e){if(r==e)return!0;for(let t=0,n=0;;){for(;t<r.length&&!r[t].hasResult();)t++;for(;n<e.length&&!e[n].hasResult();)n++;let i=t==r.length,a=n==e.length;if(i||a)return i==a;if(r[t++].result!=e[n++].result)return!1}}const oTe={"aria-autocomplete":"list"},sTe={};function MQ(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const lTe=[];function uW(r,e){if(r.isUserEvent("input.complete")){let n=r.annotation(FN);if(n&&e.activateOnCompletion(n))return 12}let t=r.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class ks{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let n=uW(e,t),i=this;(n&8||n&16&&this.touches(e))&&(i=new ks(i.source,0)),n&4&&i.state==0&&(i=new ks(this.source,1)),i=i.updateFor(e,n);for(let a of e.effects)if(a.is(Mw))i=new ks(i.source,1,a.value);else if(a.is(Bg))i=new ks(i.source,0);else if(a.is(VN))for(let o of a.value)o.source==i.source&&(i=o);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(bh(e.state))}}class gp extends ks{constructor(e,t,n,i,a,o){super(e,3,t),this.limit=n,this.result=i,this.from=a,this.to=o}hasResult(){return!0}updateFor(e,t){var n;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let a=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),s=bh(e.state);if(s>o||!i||t&2&&(bh(e.startState)==this.from||s<this.limit))return new ks(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return uTe(i.validFor,e.state,a,o)?new gp(this.source,this.explicit,l,i,a,o):i.update&&(i=i.update(i,a,o,new oW(e.state,s,!1)))?new gp(this.source,this.explicit,l,i,i.from,(n=i.to)!==null&&n!==void 0?n:bh(e.state)):new ks(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new gp(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ks(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function uTe(r,e,t,n){if(!r)return!1;let i=e.sliceDoc(t,n);return typeof r=="function"?r(i,t,n,e):lW(r,!0).test(i)}const VN=fr.define({map(r,e){return r.map(t=>t.map(e))}}),cW=fr.define(),uo=Ri.define({create(){return Aw.start()},update(r,e){return r.update(e)},provide:r=>[xN.from(r,e=>e.tooltip),At.contentAttributes.from(r,e=>e.attrs)]});function ZN(r,e){const t=e.completion.apply||e.completion.label;let n=r.state.field(uo).active.find(i=>i.source==e.source);return n instanceof gp?(typeof t=="string"?r.dispatch(Object.assign(Object.assign({},jCe(r.state,t,n.from,n.to)),{annotations:FN.of(e.completion)})):t(r,e.completion,n.from,n.to),!0):!1}const cTe=rTe(uo,ZN);function Wb(r,e="option"){return t=>{let n=t.state.field(uo,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(Mi).interactionDelay)return!1;let i=1,a;e=="page"&&(a=Qz(t,n.open.tooltip))&&(i=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:o}=n.open.options,s=n.open.selected>-1?n.open.selected+i*(r?1:-1):r?0:o-1;return s<0?s=e=="page"?0:o-1:s>=o&&(s=e=="page"?o-1:0),t.dispatch({effects:cW.of(s)}),!0}}const fTe=r=>{let e=r.state.field(uo,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(Mi).interactionDelay?!1:ZN(r,e.open.options[e.open.selected])},AQ=r=>r.state.field(uo,!1)?(r.dispatch({effects:Mw.of(!0)}),!0):!1,hTe=r=>{let e=r.state.field(uo,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:Bg.of(null)}),!0)};class dTe{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const pTe=50,mTe=1e3,vTe=ci.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(uo).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(uo),t=r.state.facet(Mi);if(!r.selectionSet&&!r.docChanged&&r.startState.field(uo)==e)return;let n=r.transactions.some(a=>{let o=uW(a,t);return o&8||(a.selection||a.docChanged)&&!(o&3)});for(let a=0;a<this.running.length;a++){let o=this.running[a];if(n||o.context.abortOnDocChange&&r.docChanged||o.updates.length+r.transactions.length>pTe&&Date.now()-o.time>mTe){for(let s of o.context.abortListeners)try{s()}catch(l){ho(this.view.state,l)}o.context.abortListeners=null,this.running.splice(a--,1)}else o.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(a=>a.effects.some(o=>o.is(Mw)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(o=>o.active.source==a.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let a of r.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(uo);for(let t of e.active)t.isPending&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Mi).updateSyncTime))}startQuery(r){let{state:e}=this.view,t=bh(e),n=new oW(e,t,r.explicit,this.view),i=new dTe(r,n);this.running.push(i),Promise.resolve(r.source(n)).then(a=>{i.context.aborted||(i.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:Bg.of(null)}),ho(this.view.state,a)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Mi).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Mi),n=this.view.state.field(uo);for(let i=0;i<this.running.length;i++){let a=this.running[i];if(a.done===void 0)continue;if(this.running.splice(i--,1),a.done){let s=bh(a.updates.length?a.updates[0].startState:this.view.state),l=Math.min(s,a.done.from+(a.active.explicit?0:1)),u=new gp(a.active.source,a.active.explicit,l,a.done,a.done.from,(r=a.done.to)!==null&&r!==void 0?r:s);for(let c of a.updates)u=u.update(c,t);if(u.hasResult()){e.push(u);continue}}let o=n.active.find(s=>s.source==a.active.source);if(o&&o.isPending)if(a.done==null){let s=new ks(a.active.source,0);for(let l of a.updates)s=s.update(l,t);s.isPending||e.push(s)}else this.startQuery(o)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:VN.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(uo,!1);if(e&&e.tooltip&&this.view.state.facet(Mi).closeOnBlur){let t=e.open&&Qz(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Bg.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Mw.of(!1)}),20),this.composing=0}}}),gTe=typeof navigator=="object"&&/Win/.test(navigator.platform),OTe=wf.highest(At.domEventHandlers({keydown(r,e){let t=e.state.field(uo,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(gTe&&r.altKey)||r.metaKey)return!1;let n=t.open.options[t.open.selected],i=t.active.find(o=>o.source==n.source),a=n.completion.commitCharacters||i.result.commitCharacters;return a&&a.indexOf(r.key)>-1&&ZN(e,n),!1}})),fW=At.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"Â·Â·Â·"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'Æ'"}},".cm-completionIcon-class":{"&:after":{content:"'â'"}},".cm-completionIcon-interface":{"&:after":{content:"'â'"}},".cm-completionIcon-variable":{"&:after":{content:"'ð¥'"}},".cm-completionIcon-constant":{"&:after":{content:"'ð¶'"}},".cm-completionIcon-type":{"&:after":{content:"'ð¡'"}},".cm-completionIcon-enum":{"&:after":{content:"'âª'"}},".cm-completionIcon-property":{"&:after":{content:"'â¡'"}},".cm-completionIcon-keyword":{"&:after":{content:"'ðï¸'"}},".cm-completionIcon-namespace":{"&:after":{content:"'â¢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class yTe{constructor(e,t,n,i){this.field=e,this.line=t,this.from=n,this.to=i}}class zN{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,Yi.TrackDel),n=e.mapPos(this.to,1,Yi.TrackDel);return t==null||n==null?null:new zN(this.field,t,n)}}class HN{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],i=[t],a=e.doc.lineAt(t),o=/^\s*/.exec(a.text)[0];for(let l of this.lines){if(n.length){let u=o,c=/^\t*/.exec(l)[0].length;for(let h=0;h<c;h++)u+=e.facet(I1);i.push(t+u.length-c),l=u+l.slice(c)}n.push(l),t+=l.length+1}let s=this.fieldPositions.map(l=>new zN(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:n,ranges:s}}static parse(e){let t=[],n=[],i=[],a;for(let o of e.split(/\r\n?|\n/)){for(;a=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let s=a[1]?+a[1]:null,l=a[2]||a[3]||"",u=-1,c=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<t.length;h++)(s!=null?t[h].seq==s:c&&t[h].name==c)&&(u=h);if(u<0){let h=0;for(;h<t.length&&(s==null||t[h].seq!=null&&t[h].seq<s);)h++;t.splice(h,0,{seq:s,name:c}),u=h;for(let p of i)p.field>=u&&p.field++}i.push(new yTe(u,n.length,a.index,a.index+c.length)),o=o.slice(0,a.index)+l+o.slice(a.index+a[0].length)}o=o.replace(/\\([{}])/g,(s,l,u)=>{for(let c of i)c.line==n.length&&c.from>u&&(c.from--,c.to--);return l}),n.push(o)}return new HN(n,i)}}let bTe=jt.widget({widget:new class extends uc{toDOM(){let r=document.createElement("span");return r.className="cm-snippetFieldPosition",r}ignoreEvent(){return!1}}}),wTe=jt.mark({class:"cm-snippetField"});class sm{constructor(e,t){this.ranges=e,this.active=t,this.deco=jt.set(e.map(n=>(n.from==n.to?bTe:wTe).range(n.from,n.to)))}map(e){let t=[];for(let n of this.ranges){let i=n.map(e);if(!i)return null;t.push(i)}return new sm(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(n=>n.field==this.active&&n.from<=t.from&&n.to>=t.to))}}const mO=fr.define({map(r,e){return r&&r.map(e)}}),kTe=fr.define(),qg=Ri.define({create(){return null},update(r,e){for(let t of e.effects){if(t.is(mO))return t.value;if(t.is(kTe)&&r)return new sm(r.ranges,t.value)}return r&&e.docChanged&&(r=r.map(e.changes)),r&&e.selection&&!r.selectionInsideField(e.selection)&&(r=null),r},provide:r=>At.decorations.from(r,e=>e?e.deco:jt.none)});function WN(r,e){return Ye.create(r.filter(t=>t.field==e).map(t=>Ye.range(t.from,t.to)))}function STe(r){let e=HN.parse(r);return(t,n,i,a)=>{let{text:o,ranges:s}=e.instantiate(t.state,i),{main:l}=t.state.selection,u={changes:{from:i,to:a==l.from?l.to:a,insert:Wr.of(o)},scrollIntoView:!0,annotations:n?[FN.of(n),La.userEvent.of("input.complete")]:void 0};if(s.length&&(u.selection=WN(s,0)),s.some(c=>c.field>0)){let c=new sm(s,0),h=u.effects=[mO.of(c)];t.state.field(qg,!1)===void 0&&h.push(fr.appendConfig.of([qg,MTe,ATe,fW]))}t.dispatch(t.state.update(u))}}function hW(r){return({state:e,dispatch:t})=>{let n=e.field(qg,!1);if(!n||r<0&&n.active==0)return!1;let i=n.active+r,a=r>0&&!n.ranges.some(o=>o.field==i+r);return t(e.update({selection:WN(n.ranges,i),effects:mO.of(a?null:new sm(n.ranges,i)),scrollIntoView:!0})),!0}}const xTe=({state:r,dispatch:e})=>r.field(qg,!1)?(e(r.update({effects:mO.of(null)})),!0):!1,CTe=hW(1),TTe=hW(-1),ETe=[{key:"Tab",run:CTe,shift:TTe},{key:"Escape",run:xTe}],DQ=Mt.define({combine(r){return r.length?r[0]:ETe}}),MTe=wf.highest(uO.compute([DQ],r=>r.facet(DQ)));function io(r,e){return Object.assign(Object.assign({},e),{apply:STe(r)})}const ATe=At.domEventHandlers({mousedown(r,e){let t=e.state.field(qg,!1),n;if(!t||(n=e.posAtCoords({x:r.clientX,y:r.clientY}))==null)return!1;let i=t.ranges.find(a=>a.from<=n&&a.to>=n);return!i||i.field==t.active?!1:(e.dispatch({selection:WN(t.ranges,i.field),effects:mO.of(t.ranges.some(a=>a.field>i.field)?new sm(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Fg={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ph=fr.define({map(r,e){let t=e.mapPos(r,-1,Yi.TrackAfter);return t??void 0}}),UN=new class extends Eh{};UN.startSide=1;UN.endSide=-1;const dW=Ri.define({create(){return qr.empty},update(r,e){if(r=r.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);r=r.update({filter:n=>n>=t.from&&n<=t.to})}for(let t of e.effects)t.is(ph)&&(r=r.update({add:[UN.range(t.value,t.value+1)]}));return r}});function DTe(){return[RTe,dW]}const gA="()[]{}<>Â«Â»Â»Â«ï¼»ï¼½ï½ï½";function pW(r){for(let e=0;e<gA.length;e+=2)if(gA.charCodeAt(e)==r)return gA.charAt(e+1);return uN(r<128?r:r+1)}function mW(r,e){return r.languageDataAt("closeBrackets",e)[0]||Fg}const PTe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),RTe=At.inputHandler.of((r,e,t,n)=>{if((PTe?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let i=r.state.selection.main;if(n.length>2||n.length==2&&Hl(so(n,0))==1||e!=i.from||t!=i.to)return!1;let a=LTe(r.state,n);return a?(r.dispatch(a),!0):!1}),NTe=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=mW(r,r.selection.main.head).brackets||Fg.brackets,i=null,a=r.changeByRange(o=>{if(o.empty){let s=_Te(r.doc,o.head);for(let l of n)if(l==s&&W1(r.doc,o.head)==pW(so(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Ye.cursor(o.head-l.length)}}return{range:i=o}});return i||e(r.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},$Te=[{key:"Backspace",run:NTe}];function LTe(r,e){let t=mW(r,r.selection.main.head),n=t.brackets||Fg.brackets;for(let i of n){let a=pW(so(i,0));if(e==i)return a==i?BTe(r,i,n.indexOf(i+i+i)>-1,t):ITe(r,i,a,t.before||Fg.before);if(e==a&&vW(r,r.selection.main.from))return QTe(r,i,a)}return null}function vW(r,e){let t=!1;return r.field(dW).between(0,r.doc.length,n=>{n==e&&(t=!0)}),t}function W1(r,e){let t=r.sliceString(e,e+2);return t.slice(0,Hl(so(t,0)))}function _Te(r,e){let t=r.sliceString(e-2,e);return Hl(so(t,0))==t.length?t:t.slice(1)}function ITe(r,e,t,n){let i=null,a=r.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:ph.of(o.to+e.length),range:Ye.range(o.anchor+e.length,o.head+e.length)};let s=W1(r.doc,o.head);return!s||/\s/.test(s)||n.indexOf(s)>-1?{changes:{insert:e+t,from:o.head},effects:ph.of(o.head+e.length),range:Ye.cursor(o.head+e.length)}:{range:i=o}});return i?null:r.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function QTe(r,e,t){let n=null,i=r.changeByRange(a=>a.empty&&W1(r.doc,a.head)==t?{changes:{from:a.head,to:a.head+t.length,insert:t},range:Ye.cursor(a.head+t.length)}:n={range:a});return n?null:r.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function BTe(r,e,t,n){let i=n.stringPrefixes||Fg.stringPrefixes,a=null,o=r.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:ph.of(s.to+e.length),range:Ye.range(s.anchor+e.length,s.head+e.length)};let l=s.head,u=W1(r.doc,l),c;if(u==e){if(PQ(r,l))return{changes:{insert:e+e,from:l},effects:ph.of(l+e.length),range:Ye.cursor(l+e.length)};if(vW(r,l)){let p=t&&r.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+p.length,insert:p},range:Ye.cursor(l+p.length)}}}else{if(t&&r.sliceDoc(l-2*e.length,l)==e+e&&(c=RQ(r,l-2*e.length,i))>-1&&PQ(r,c))return{changes:{insert:e+e+e+e,from:l},effects:ph.of(l+e.length),range:Ye.cursor(l+e.length)};if(r.charCategorizer(l)(u)!=An.Word&&RQ(r,l,i)>-1&&!qTe(r,l,e,i))return{changes:{insert:e+e,from:l},effects:ph.of(l+e.length),range:Ye.cursor(l+e.length)}}return{range:a=s}});return a?null:r.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function PQ(r,e){let t=Vn(r).resolveInner(e+1);return t.parent&&t.from==e}function qTe(r,e,t,n){let i=Vn(r).resolveInner(e,-1),a=n.reduce((o,s)=>Math.max(o,s.length),0);for(let o=0;o<5;o++){let s=r.sliceDoc(i.from,Math.min(i.to,i.from+t.length+a)),l=s.indexOf(t);if(!l||l>-1&&n.indexOf(s.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>t.length+l;){if(r.sliceDoc(c.to-t.length,c.to)==t)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function RQ(r,e,t){let n=r.charCategorizer(e);if(n(r.sliceDoc(e-1,e))!=An.Word)return e;for(let i of t){let a=e-i.length;if(r.sliceDoc(a,e)==i&&n(r.sliceDoc(a-1,a))!=An.Word)return a}return-1}function FTe(r={}){return[OTe,uo,Mi.of(r),vTe,VTe,fW]}const gW=[{key:"Ctrl-Space",run:AQ},{mac:"Alt-`",run:AQ},{key:"Escape",run:hTe},{key:"ArrowDown",run:Wb(!0)},{key:"ArrowUp",run:Wb(!1)},{key:"PageDown",run:Wb(!0,"page")},{key:"PageUp",run:Wb(!1,"page")},{key:"Enter",run:fTe}],VTe=wf.highest(uO.computeN([Mi],r=>r.facet(Mi).defaultKeymap?[gW]:[]));class NQ{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class fh{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let i=e,a=n.facet(Vg).markerFilter;a&&(i=a(i,n));let o=e.slice().sort((h,p)=>h.from-p.from||h.to-p.to),s=new Ju,l=[],u=0;for(let h=0;;){let p=h==o.length?null:o[h];if(!p&&!l.length)break;let g,O;for(l.length?(g=u,O=l.reduce((M,R)=>Math.min(M,R.to),p&&p.from>g?p.from:1e8)):(g=p.from,O=p.to,l.push(p),h++);h<o.length;){let M=o[h];if(M.from==g&&(M.to>M.from||M.to==g))l.push(M),h++,O=Math.min(M.to,O);else{O=Math.min(M.from,O);break}}let T=tEe(l);if(l.some(M=>M.from==M.to||M.from==M.to-1&&n.doc.lineAt(M.from).to==M.from))s.add(g,g,jt.widget({widget:new GTe(T),diagnostics:l.slice()}));else{let M=l.reduce((R,z)=>z.markClass?R+" "+z.markClass:R,"");s.add(g,O,jt.mark({class:"cm-lintRange cm-lintRange-"+T+M,diagnostics:l.slice(),inclusiveEnd:l.some(R=>R.to>O)}))}u=O;for(let M=0;M<l.length;M++)l[M].to<=u&&l.splice(M--,1)}let c=s.finish();return new fh(c,t,$p(c))}}function $p(r,e=null,t=0){let n=null;return r.between(t,1e9,(i,a,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!n)n=new NQ(i,a,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new NQ(n.from,a,n.diagnostic)}}),n}function ZTe(r,e){let t=e.pos,n=e.end||t,i=r.state.facet(Vg).hideOn(r,t,n);if(i!=null)return i;let a=r.startState.doc.lineAt(e.pos);return!!(r.effects.some(o=>o.is(OW))||r.changes.touchesRange(a.from,Math.max(a.to,n)))}function zTe(r,e){return r.field(Uo,!1)?e:e.concat(fr.appendConfig.of(rEe))}const OW=fr.define(),XN=fr.define(),yW=fr.define(),Uo=Ri.define({create(){return new fh(jt.none,null,null)},update(r,e){if(e.docChanged&&r.diagnostics.size){let t=r.diagnostics.map(e.changes),n=null,i=r.panel;if(r.selected){let a=e.changes.mapPos(r.selected.from,1);n=$p(t,r.selected.diagnostic,a)||$p(t,null,a)}!t.size&&i&&e.state.facet(Vg).autoPanel&&(i=null),r=new fh(t,i,n)}for(let t of e.effects)if(t.is(OW)){let n=e.state.facet(Vg).autoPanel?t.value.length?Zg.open:null:r.panel;r=fh.init(t.value,n,e.state)}else t.is(XN)?r=new fh(r.diagnostics,t.value?Zg.open:null,r.selected):t.is(yW)&&(r=new fh(r.diagnostics,r.panel,t.value));return r},provide:r=>[$g.from(r,e=>e.panel),At.decorations.from(r,e=>e.diagnostics)]}),HTe=jt.mark({class:"cm-lintRange cm-lintRange-active"});function WTe(r,e,t){let{diagnostics:n}=r.state.field(Uo),i,a=-1,o=-1;n.between(e-(t<0?1:0),e+(t>0?1:0),(l,u,{spec:c})=>{if(e>=l&&e<=u&&(l==u||(e>l||t>0)&&(e<u||t<0)))return i=c.diagnostics,a=l,o=u,!1});let s=r.state.facet(Vg).tooltipFilter;return i&&s&&(i=s(i,r.state)),i?{pos:a,end:o,above:r.state.doc.lineAt(a).to<o,create(){return{dom:UTe(r,i)}}}:null}function UTe(r,e){return vn("ul",{class:"cm-tooltip-lint"},e.map(t=>wW(r,t,!1)))}const XTe=r=>{let e=r.state.field(Uo,!1);(!e||!e.panel)&&r.dispatch({effects:zTe(r.state,[XN.of(!0)])});let t=Ng(r,Zg.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},$Q=r=>{let e=r.state.field(Uo,!1);return!e||!e.panel?!1:(r.dispatch({effects:XN.of(!1)}),!0)},jTe=r=>{let e=r.state.field(Uo,!1);if(!e)return!1;let t=r.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(r.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},YTe=[{key:"Mod-Shift-m",run:XTe,preventDefault:!0},{key:"F8",run:jTe}],Vg=Mt.define({combine(r){return Object.assign({sources:r.map(e=>e.source).filter(e=>e!=null)},su(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))}});function bW(r){let e=[];if(r)e:for(let{name:t}of r){for(let n=0;n<t.length;n++){let i=t[n];if(/[a-zA-Z]/.test(i)&&!e.some(a=>a.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function wW(r,e,t){var n;let i=t?bW(e.actions):[];return vn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},vn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(r):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((a,o)=>{let s=!1,l=p=>{if(p.preventDefault(),s)return;s=!0;let g=$p(r.state.field(Uo).diagnostics,e);g&&a.apply(r,g.from,g.to)},{name:u}=a,c=i[o]?u.indexOf(i[o]):-1,h=c<0?u:[u.slice(0,c),vn("u",u.slice(c,c+1)),u.slice(c+1)];return vn("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[o]})"`}.`},h)}),e.source&&vn("div",{class:"cm-diagnosticSource"},e.source))}class GTe extends uc{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return vn("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class LQ{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=wW(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Zg{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)$Q(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],o=bW(a.actions);for(let s=0;s<o.length;s++)if(o[s].toUpperCase().charCodeAt(0)==i.keyCode){let l=$p(this.view.state.field(Uo).diagnostics,a);l&&a.actions[s].apply(e,l.from,l.to)}}else return;i.preventDefault()},n=i=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(i.target)&&this.moveSelection(a)};this.list=vn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=vn("div",{class:"cm-panel-lint"},this.list,vn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>$Q(this.view)},"Ã")),this.update()}get selectedIndex(){let e=this.view.state.field(Uo).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Uo),n=0,i=!1,a=null,o=new Set;for(e.between(0,this.view.state.doc.length,(s,l,{spec:u})=>{for(let c of u.diagnostics){if(o.has(c))continue;o.add(c);let h=-1,p;for(let g=n;g<this.items.length;g++)if(this.items[g].diagnostic==c){h=g;break}h<0?(p=new LQ(this.view,c),this.items.splice(n,0,p),i=!0):(p=this.items[h],h>n&&(this.items.splice(n,h-n),i=!0)),t&&p.diagnostic==t.diagnostic?p.dom.hasAttribute("aria-selected")||(p.dom.setAttribute("aria-selected","true"),a=p):p.dom.hasAttribute("aria-selected")&&p.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new LQ(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:l})=>{let u=l.height/this.list.offsetHeight;s.top<l.top?this.list.scrollTop-=(l.top-s.top)/u:s.bottom>l.bottom&&(this.list.scrollTop+=(s.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Uo),n=$p(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:yW.of(n)})}static open(e){return new Zg(e)}}function KTe(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function Ub(r){return KTe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const JTe=At.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ub("#d11")},".cm-lintRange-warning":{backgroundImage:Ub("orange")},".cm-lintRange-info":{backgroundImage:Ub("#999")},".cm-lintRange-hint":{backgroundImage:Ub("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function eEe(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function tEe(r){let e="hint",t=1;for(let n of r){let i=eEe(n.severity);i>t&&(t=i,e=n.severity)}return e}const rEe=[Uo,At.decorations.compute([Uo],r=>{let{selected:e,panel:t}=r.field(Uo);return!e||!t||e.from==e.to?jt.none:jt.set([HTe.range(e.from,e.to)])}),Fke(WTe,{hideOn:ZTe}),JTe],HCt=[Kke(),tSe(),_z(),OH(),YSe(),Nz(),dke(),Kn.allowMultipleSelections.of(!0),ISe(),NN(cH,{fallback:!0}),oxe(),DTe(),FTe(),Dke(),Nke(),xke(),xCe(),uO.of([...$Te,...jH,...ZCe,...kH,...WSe,...gW,...YTe])],WCt=[_z(),OH(),Nz(),NN(cH,{fallback:!0}),uO.of([...jH,...kH])];var _Q={};class Dw{constructor(e,t,n,i,a,o,s,l,u,c=0,h){this.p=e,this.stack=t,this.state=n,this.reducePos=i,this.pos=a,this.score=o,this.buffer=s,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let i=e.parser.context;return new Dw(e,[],t,n,n,0,[],0,i?new IQ(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,i=e&65535,{parser:a}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let s=a.dynamicPrecedence(i);if(s&&(this.score+=s),n==0){this.pushState(a.getGoto(this.state,i,!0),this.reducePos),i<a.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(n-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,c=this.reducePos-u;c>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=c));let h=l?this.stack[l-1]:0,p=this.bufferBase+this.buffer.length-h;if(i<a.minRepeatTerm||e&131072){let g=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,g,p+4,!0)}if(e&262144)this.state=this.stack[l];else{let g=this.stack[l-3];this.state=a.getGoto(g,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,u)}storeNode(e,t,n,i=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,s=this.buffer.length;if(s==0&&o.parent&&(s=o.bufferBase-o.parent.bufferBase,o=o.parent),s>0&&o.buffer[s-4]==0&&o.buffer[s-1]>-1){if(t==n)return;if(o.buffer[s-2]>=t){o.buffer[s-2]=n;return}}}if(!a||this.pos==n)this.buffer.push(e,t,n,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let s=!1;for(let l=o;l>0&&this.buffer[l-2]>n;l-=4)if(this.buffer[l-1]>=0){s=!0;break}if(s)for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=n,this.buffer[o+3]=i}}shift(e,t,n,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,i,4);else{let a=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(a,1)||(this.reducePos=i)),this.pushState(a,n),this.shiftContext(t,n),t<=o.maxNode&&this.buffer.push(t,n,i,4)}}apply(e,t,n,i){e&65536?this.reduce(e):this.shift(e,t,n,i)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new Dw(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new nEe(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if(!(n&65536))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let a=0,o;a<t.length;a+=2)(o=t[a+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(t[a],o);if(this.stack.length<120)for(let a=0;i.length<8&&a<t.length;a+=2){let o=t[a+1];i.some((s,l)=>l&1&&s==o)||i.push(t[a],o)}t=i}let n=[];for(let i=0;i<t.length&&n.length<4;i+=2){let a=t[i+1];if(a==this.state)continue;let o=this.split();o.pushState(a,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[i],this.pos),o.reducePos=this.pos,o.score-=200,n.push(o)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let n=t>>19,i=t&65535,a=this.stack.length-n*3;if(a<0||e.getGoto(this.stack[a],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(i,a)=>{if(!t.includes(i))return t.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let s=(o>>19)-a;if(s>1){let l=o&65535,u=this.stack.length-s*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return s<<19|65536|l}}else{let s=n(o,a+1);if(s!=null)return s}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new IQ(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class IQ{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class nEe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class Pw{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Pw(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Pw(this.stack,this.pos,this.index)}}function zv(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let n=0,i=0;n<r.length;){let a=0;for(;;){let o=r.charCodeAt(n++),s=!1;if(o==126){a=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,s=!0),a+=l,s)break;a*=46}t?t[i++]=a:t=new e(a)}return t}class A0{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const QQ=new A0;class iEe{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=QQ,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,i=this.rangeIndex,a=this.pos+e;for(;a<n.from;){if(!i)return null;let o=this.ranges[--i];a-=n.from-o.to,n=o}for(;t<0?a>n.to:a>=n.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];a+=o.from-n.to,n=o}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,i;if(t>=0&&t<this.chunk.length)n=this.pos+e,i=this.chunk.charCodeAt(t);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(n=a,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let o=this.rangeIndex,s=this.range;for(;s.to<=n;)s=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>s.to&&(this.chunk2=this.chunk2.slice(0,s.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=QQ,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return n}}class Op{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;kW(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}Op.prototype.contextual=Op.prototype.fallback=Op.prototype.extend=!1;class Rw{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data=typeof e=="string"?zv(e):e}token(e,t){let n=e.pos,i=0;for(;;){let a=e.next<0,o=e.resolveOffset(1,1);if(kW(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(a||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(n,e.token),e.acceptToken(this.elseToken,i))}}Rw.prototype.contextual=Op.prototype.fallback=Op.prototype.extend=!1;class Rs{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function kW(r,e,t,n,i,a){let o=0,s=1<<n,{dialect:l}=t.p.parser;e:for(;s&r[o];){let u=r[o+1];for(let g=o+3;g<u;g+=2)if((r[g+1]&s)>0){let O=r[g];if(l.allows(O)&&(e.token.value==-1||e.token.value==O||aEe(O,e.token.value,i,a))){e.acceptToken(O);break}}let c=e.next,h=0,p=r[o+2];if(e.next<0&&p>h&&r[u+p*3-3]==65535){o=r[u+p*3-1];continue e}for(;h<p;){let g=h+p>>1,O=u+g+(g<<1),T=r[O],M=r[O+1]||65536;if(c<T)p=g;else if(c>=M)h=g+1;else{o=r[O+2],e.advance();continue e}}break}}function BQ(r,e,t){for(let n=e,i;(i=r[n])!=65535;n++)if(i==t)return n-e;return-1}function aEe(r,e,t,n){let i=BQ(t,n,e);return i<0||BQ(t,n,r)<i}const Io=typeof process<"u"&&_Q&&/\bparse\b/.test(_Q.LOG);let OA=null;function qQ(r,e,t){let n=r.cursor(gn.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(r.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:r.length}}class oEe{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?qQ(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?qQ(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=n.children[i],o=this.start[t]+n.positions[i];if(o>e)return this.nextStart=o,null;if(a instanceof Qn){if(o==e){if(o<this.safeFrom)return null;let s=o+a.length;if(s<=this.safeTo){let l=a.prop(kr.lookAhead);if(!l||s+l<this.fragment.to)return a}}this.index[t]++,o+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+a.length}}}class sEe{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new A0)}getActions(e){let t=0,n=null,{parser:i}=e.p,{tokenizers:a}=i,o=i.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<a.length;u++){if(!(1<<u&o))continue;let c=a[u],h=this.tokens[u];if(!(n&&!c.fallback)&&((c.contextual||h.start!=e.pos||h.mask!=o||h.context!=s)&&(this.updateCachedToken(h,c,e),h.mask=o,h.context=s),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let p=t;if(h.extended>-1&&(t=this.addActions(e,h.extended,h.end,t)),t=this.addActions(e,h.value,h.end,t),!c.extend&&(n=h,t>p))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!n&&e.pos==this.stream.end&&(n=new A0,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new A0,{pos:n,p:i}=e;return t.start=n,t.end=Math.min(n+1,i.stream.end),t.value=n==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,n){let i=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(i,e),n),e.value>-1){let{parser:a}=n.p;for(let o=0;o<a.specialized.length;o++)if(a.specialized[o]==e.value){let s=a.specializers[o](this.stream.read(e.start,e.end),n);if(s>=0&&n.p.parser.dialect.allows(s>>1)){s&1?e.extended=s>>1:e.value=s>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,n,i){for(let a=0;a<i;a+=3)if(this.actions[a]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=n,i}addActions(e,t,n,i){let{state:a}=e,{parser:o}=e.p,{data:s}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(a,l?2:1);;u+=3){if(s[u]==65535)if(s[u+1]==1)u=_u(s,u+2);else{i==0&&s[u+1]==2&&(i=this.putAction(_u(s,u+2),t,n,i));break}s[u]==t&&(i=this.putAction(_u(s,u+1),t,n,i))}return i}}class lEe{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new iEe(t,i),this.tokens=new sEe(e,this.stream),this.topTerm=e.top[1];let{from:a}=i[0];this.stacks=[Dw.start(this,e.top[0],a)],this.fragments=n.length&&this.stream.end-a>e.bufferLength*4?new oEe(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],i,a;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let s=e[o];for(;;){if(this.tokens.mainToken=null,s.pos>t)n.push(s);else{if(this.advanceStack(s,n,e))continue;{i||(i=[],a=[]),i.push(s);let l=this.tokens.getMainToken(s);a.push(l.value,l.end)}}break}}if(!n.length){let o=i&&cEe(i);if(o)return Io&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Io&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,a,n);if(o)return Io&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(n.length>o)for(n.sort((s,l)=>l.score-s.score);n.length>o;)n.pop();n.some(s=>s.reducePos>t)&&this.recovering--}else if(n.length>1){e:for(let o=0;o<n.length-1;o++){let s=n[o];for(let l=o+1;l<n.length;l++){let u=n[l];if(s.sameState(u)||s.buffer.length>500&&u.buffer.length>500)if((s.score-u.score||s.buffer.length-u.buffer.length)>0)n.splice(l--,1);else{n.splice(o--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let o=1;o<n.length;o++)n[o].pos<this.minStackPos&&(this.minStackPos=n[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:a}=this,o=Io?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let h=this.fragments.nodeAt(i);h;){let p=this.parser.nodeSet.types[h.type.id]==h.type?a.getGoto(e.state,h.type.id):-1;if(p>-1&&h.length&&(!u||(h.prop(kr.contextHash)||0)==c))return e.useNode(h,p),Io&&console.log(o+this.stackID(e)+` (via reuse of ${a.getName(h.type.id)})`),!0;if(!(h instanceof Qn)||h.children.length==0||h.positions[0]>0)break;let g=h.children[0];if(g instanceof Qn&&h.positions[0]==0)h=g;else break}}let s=a.stateSlot(e.state,4);if(s>0)return e.reduce(s),Io&&console.log(o+this.stackID(e)+` (via always-reduce ${a.getName(s&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],h=l[u++],p=l[u++],g=u==l.length||!n,O=g?e:e.split(),T=this.tokens.mainToken;if(O.apply(c,h,T?T.start:O.pos,p),Io&&console.log(o+this.stackID(O)+` (via ${c&65536?`reduce of ${a.getName(c&65535)}`:"shift"} for ${a.getName(h)} @ ${i}${O==e?"":", split"})`),g)return!0;O.pos>i?t.push(O):n.push(O)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return FQ(e,t),!0}}runRecovery(e,t,n){let i=null,a=!1;for(let o=0;o<e.length;o++){let s=e[o],l=t[o<<1],u=t[(o<<1)+1],c=Io?this.stackID(s)+" -> ":"";if(s.deadEnd&&(a||(a=!0,s.restart(),Io&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,n))))continue;let h=s.split(),p=c;for(let g=0;h.forceReduce()&&g<10&&(Io&&console.log(p+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,n));g++)Io&&(p=this.stackID(h)+" -> ");for(let g of s.recoverByInsert(l))Io&&console.log(c+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,n);this.stream.end>s.pos?(u==s.pos&&(u++,l=0),s.recoverByDelete(l,u),Io&&console.log(c+this.stackID(s)+` (via recover-delete ${this.parser.getName(l)})`),FQ(s,n)):(!i||i.score<s.score)&&(i=s)}return i}stackToTree(e){return e.close(),Qn.build({buffer:Pw.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(OA||(OA=new WeakMap)).get(e);return t||OA.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function FQ(r,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==r.pos&&n.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class uEe{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const yA=r=>r;class SW{constructor(e){this.start=e.start,this.shift=e.shift||yA,this.reduce=e.reduce||yA,this.reuse=e.reuse||yA,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Lp extends Xz{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let s=0;s<e.repeatNodeCount;s++)t.push("");let n=Object.keys(e.topRules).map(s=>e.topRules[s][1]),i=[];for(let s=0;s<t.length;s++)i.push([]);function a(s,l,u){i[s].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let s of e.nodeProps){let l=s[0];typeof l=="string"&&(l=kr[l]);for(let u=1;u<s.length;){let c=s[u++];if(c>=0)a(c,l,s[u++]);else{let h=s[u+-c];for(let p=-c;p>0;p--)a(s[u++],l,h);u++}}}this.nodeSet=new CN(t.map((s,l)=>Go.define({name:l>=this.minRepeatTerm?void 0:s,id:l,props:i[l],top:n.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Vz;let o=zv(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let s=0;s<this.specializerSpecs.length;s++)this.specialized[s]=this.specializerSpecs[s].term;this.specializers=this.specializerSpecs.map(VQ),this.states=zv(e.states,Uint32Array),this.data=zv(e.stateData),this.goto=zv(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(s=>typeof s=="number"?new Op(o,s):s),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let i=new lEe(this,e,t,n);for(let a of this.wrappers)i=a(i,e,t,n);return i}getGoto(e,t,n=!1){let i=this.goto;if(t>=i[0])return-1;for(let a=i[t+1];;){let o=i[a++],s=o&1,l=i[a++];if(s&&n)return l;for(let u=a+(o>>1);a<u;a++)if(i[a]==e)return l;if(s)return-1}}hasAction(e,t){let n=this.data;for(let i=0;i<2;i++)for(let a=this.stateSlot(e,i?2:1),o;;a+=3){if((o=n[a])==65535)if(n[a+1]==1)o=n[a=_u(n,a+2)];else{if(n[a+1]==2)return _u(n,a+2);break}if(o==t||o==0)return _u(n,a+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,n=>n==t?!0:null)}allActions(e,t){let n=this.stateSlot(e,4),i=n?t(n):void 0;for(let a=this.stateSlot(e,1);i==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=_u(this.data,a+2);else break;i=t(_u(this.data,a+1))}return i}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=_u(this.data,n+2);else break;if(!(this.data[n+2]&1)){let i=this.data[n+1];t.some((a,o)=>o&1&&a==i)||t.push(this.data[n],i)}}return t}configure(e){let t=Object.assign(Object.create(Lp.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let i=e.tokenizers.find(a=>a.from==n);return i?i.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,i)=>{let a=e.specializers.find(s=>s.from==n.external);if(!a)return n;let o=Object.assign(Object.assign({},n),{external:a.to});return t.specializers[i]=VQ(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let a of e.split(" ")){let o=t.indexOf(a);o>=0&&(n[o]=!0)}let i=null;for(let a=0;a<t.length;a++)if(!n[a])for(let o=this.dialects[t[a]],s;(s=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[s]=1;return new uEe(e,n,i)}static deserialize(e){return new Lp(e)}}function _u(r,e){return r[e]|r[e+1]<<16}function cEe(r){let e=null;for(let t of r){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function VQ(r){if(r.external){let e=r.extend?1:0;return(t,n)=>r.external(t,n)<<1|e}return r.get}const fEe=54,hEe=1,dEe=55,pEe=2,mEe=56,vEe=3,ZQ=4,gEe=5,Nw=6,xW=7,CW=8,TW=9,EW=10,OEe=11,yEe=12,bEe=13,bA=57,wEe=14,zQ=58,MW=20,kEe=22,AW=23,SEe=24,HP=26,DW=27,xEe=28,CEe=31,TEe=34,EEe=36,MEe=37,AEe=0,DEe=1,PEe={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},REe={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},HQ={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function NEe(r){return r==45||r==46||r==58||r>=65&&r<=90||r==95||r>=97&&r<=122||r>=161}function PW(r){return r==9||r==10||r==13||r==32}let WQ=null,UQ=null,XQ=0;function WP(r,e){let t=r.pos+e;if(XQ==t&&UQ==r)return WQ;let n=r.peek(e);for(;PW(n);)n=r.peek(++e);let i="";for(;NEe(n);)i+=String.fromCharCode(n),n=r.peek(++e);return UQ=r,XQ=t,WQ=i?i.toLowerCase():n==$Ee||n==LEe?void 0:null}const RW=60,$w=62,jN=47,$Ee=63,LEe=33,_Ee=45;function jQ(r,e){this.name=r,this.parent=e}const IEe=[Nw,EW,xW,CW,TW],QEe=new SW({start:null,shift(r,e,t,n){return IEe.indexOf(e)>-1?new jQ(WP(n,1)||"",r):r},reduce(r,e){return e==MW&&r?r.parent:r},reuse(r,e,t,n){let i=e.type.id;return i==Nw||i==EEe?new jQ(WP(n,1)||"",r):r},strict:!1}),BEe=new Rs((r,e)=>{if(r.next!=RW){r.next<0&&e.context&&r.acceptToken(bA);return}r.advance();let t=r.next==jN;t&&r.advance();let n=WP(r,0);if(n===void 0)return;if(!n)return r.acceptToken(t?wEe:Nw);let i=e.context?e.context.name:null;if(t){if(n==i)return r.acceptToken(OEe);if(i&&REe[i])return r.acceptToken(bA,-2);if(e.dialectEnabled(AEe))return r.acceptToken(yEe);for(let a=e.context;a;a=a.parent)if(a.name==n)return;r.acceptToken(bEe)}else{if(n=="script")return r.acceptToken(xW);if(n=="style")return r.acceptToken(CW);if(n=="textarea")return r.acceptToken(TW);if(PEe.hasOwnProperty(n))return r.acceptToken(EW);i&&HQ[i]&&HQ[i][n]?r.acceptToken(bA,-1):r.acceptToken(Nw)}},{contextual:!0}),qEe=new Rs(r=>{for(let e=0,t=0;;t++){if(r.next<0){t&&r.acceptToken(zQ);break}if(r.next==_Ee)e++;else if(r.next==$w&&e>=2){t>=3&&r.acceptToken(zQ,-2);break}else e=0;r.advance()}});function FEe(r){for(;r;r=r.parent)if(r.name=="svg"||r.name=="math")return!0;return!1}const VEe=new Rs((r,e)=>{if(r.next==jN&&r.peek(1)==$w){let t=e.dialectEnabled(DEe)||FEe(e.context);r.acceptToken(t?gEe:ZQ,2)}else r.next==$w&&r.acceptToken(ZQ,1)});function YN(r,e,t){let n=2+r.length;return new Rs(i=>{for(let a=0,o=0,s=0;;s++){if(i.next<0){s&&i.acceptToken(e);break}if(a==0&&i.next==RW||a==1&&i.next==jN||a>=2&&a<n&&i.next==r.charCodeAt(a-2))a++,o++;else if((a==2||a==n)&&PW(i.next))o++;else if(a==n&&i.next==$w){s>o?i.acceptToken(e,-o):i.acceptToken(t,-(o-2));break}else if((i.next==10||i.next==13)&&s){i.acceptToken(e,1);break}else a=o=0;i.advance()}})}const ZEe=YN("script",fEe,hEe),zEe=YN("style",dEe,pEe),HEe=YN("textarea",mEe,vEe),WEe=_1({"Text RawText":he.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":he.angleBracket,TagName:he.tagName,"MismatchedCloseTag/TagName":[he.tagName,he.invalid],AttributeName:he.attributeName,"AttributeValue UnquotedAttributeValue":he.attributeValue,Is:he.definitionOperator,"EntityReference CharacterReference":he.character,Comment:he.blockComment,ProcessingInst:he.processingInstruction,DoctypeDecl:he.documentMeta}),UEe=Lp.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"â  StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:QEe,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[WEe],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[ZEe,zEe,HEe,VEe,BEe,qEe,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function NW(r,e){let t=Object.create(null);for(let n of r.getChildren(AW)){let i=n.getChild(SEe),a=n.getChild(HP)||n.getChild(DW);i&&(t[e.read(i.from,i.to)]=a?a.type.id==HP?e.read(a.from+1,a.to-1):e.read(a.from,a.to):"")}return t}function YQ(r,e){let t=r.getChild(kEe);return t?e.read(t.from,t.to):" "}function wA(r,e,t){let n;for(let i of t)if(!i.attrs||i.attrs(n||(n=NW(r.node.parent.firstChild,e))))return{parser:i.parser};return null}function $W(r=[],e=[]){let t=[],n=[],i=[],a=[];for(let s of r)(s.tag=="script"?t:s.tag=="style"?n:s.tag=="textarea"?i:a).push(s);let o=e.length?Object.create(null):null;for(let s of e)(o[s.name]||(o[s.name]=[])).push(s);return uSe((s,l)=>{let u=s.type.id;if(u==xEe)return wA(s,l,t);if(u==CEe)return wA(s,l,n);if(u==TEe)return wA(s,l,i);if(u==MW&&a.length){let c=s.node,h=c.firstChild,p=h&&YQ(h,l),g;if(p){for(let O of a)if(O.tag==p&&(!O.attrs||O.attrs(g||(g=NW(h,l))))){let T=c.lastChild,M=T.type.id==MEe?T.from:c.to;if(M>h.to)return{parser:O.parser,overlay:[{from:h.to,to:M}]}}}}if(o&&u==AW){let c=s.node,h;if(h=c.firstChild){let p=o[l.read(h.from,h.to)];if(p)for(let g of p){if(g.tagName&&g.tagName!=YQ(c.parent,l))continue;let O=c.lastChild;if(O.type.id==HP){let T=O.from+1,M=O.lastChild,R=O.to-(M&&M.isError?0:1);if(R>T)return{parser:g.parser,overlay:[{from:T,to:R}]}}else if(O.type.id==DW)return{parser:g.parser,overlay:[{from:O.from,to:O.to}]}}}}return null})}const XEe=100,GQ=1,jEe=101,YEe=102,KQ=2,LW=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],GEe=58,KEe=40,_W=95,JEe=91,D0=45,eMe=46,tMe=35,rMe=37,nMe=38,iMe=92,aMe=10;function zg(r){return r>=65&&r<=90||r>=97&&r<=122||r>=161}function IW(r){return r>=48&&r<=57}const oMe=new Rs((r,e)=>{for(let t=!1,n=0,i=0;;i++){let{next:a}=r;if(zg(a)||a==D0||a==_W||t&&IW(a))!t&&(a!=D0||i>0)&&(t=!0),n===i&&a==D0&&n++,r.advance();else if(a==iMe&&r.peek(1)!=aMe)r.advance(),r.next>-1&&r.advance(),t=!0;else{t&&r.acceptToken(a==KEe?jEe:n==2&&e.canShift(KQ)?KQ:YEe);break}}}),sMe=new Rs(r=>{if(LW.includes(r.peek(-1))){let{next:e}=r;(zg(e)||e==_W||e==tMe||e==eMe||e==JEe||e==GEe&&zg(r.peek(1))||e==D0||e==nMe)&&r.acceptToken(XEe)}}),lMe=new Rs(r=>{if(!LW.includes(r.peek(-1))){let{next:e}=r;if(e==rMe&&(r.advance(),r.acceptToken(GQ)),zg(e)){do r.advance();while(zg(r.next)||IW(r.next));r.acceptToken(GQ)}}}),uMe=_1({"AtKeyword import charset namespace keyframes media supports":he.definitionKeyword,"from to selector":he.keyword,NamespaceName:he.namespace,KeyframeName:he.labelName,KeyframeRangeName:he.operatorKeyword,TagName:he.tagName,ClassName:he.className,PseudoClassName:he.constant(he.className),IdName:he.labelName,"FeatureName PropertyName":he.propertyName,AttributeName:he.attributeName,NumberLiteral:he.number,KeywordQuery:he.keyword,UnaryQueryOp:he.operatorKeyword,"CallTag ValueName":he.atom,VariableName:he.variableName,Callee:he.operatorKeyword,Unit:he.unit,"UniversalSelector NestingSelector":he.definitionOperator,MatchOp:he.compareOperator,"ChildOp SiblingOp, LogicOp":he.logicOperator,BinOp:he.arithmeticOperator,Important:he.modifier,Comment:he.blockComment,ColorLiteral:he.color,"ParenthesizedContent StringLiteral":he.string,":":he.punctuation,"PseudoOp #":he.derefOperator,"; ,":he.separator,"( )":he.paren,"[ ]":he.squareBracket,"{ }":he.brace}),cMe={__proto__:null,lang:34,"nth-child":34,"nth-last-child":34,"nth-of-type":34,"nth-last-of-type":34,dir:34,"host-context":34,url:62,"url-prefix":62,domain:62,regexp:62,selector:140},fMe={__proto__:null,"@import":120,"@media":144,"@charset":148,"@namespace":152,"@keyframes":158,"@supports":170},hMe={__proto__:null,not:134,only:134},dMe=Lp.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#CiO$qQ[O'#DUO$vQ[O'#DXOOQP'#En'#EnO${QdO'#DhO%jQ[O'#DuO${QdO'#DwO%{Q[O'#DyO&WQ[O'#D|O&`Q[O'#ESO&nQ[O'#EUOOQS'#Em'#EmOOQS'#EX'#EXQYQ[OOO&uQXO'#CdO'jQWO'#DdO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@])C@]OOQP'#Ch'#ChOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E]O({QWO,58{O)TQ[O,59TO$qQ[O,59pO$vQ[O,59sO(aQ[O,59vO(aQ[O,59xO(aQ[O,59yO)`Q[O'#DcOOQS,58{,58{OOQP'#Cl'#ClOOQO'#DS'#DSOOQP,59T,59TO)gQWO,59TO)lQWO,59TOOQP'#DW'#DWOOQP,59p,59pOOQO'#DY'#DYO)qQ`O,59sOOQS'#Cq'#CqO${QdO'#CrO)yQvO'#CtO+ZQtO,5:SOOQO'#Cy'#CyO)lQWO'#CxO+oQWO'#CzO+tQ[O'#DPOOQS'#Ep'#EpOOQO'#Dk'#DkO+|Q[O'#DrO,[QWO'#EtO&`Q[O'#DpO,jQWO'#DsOOQO'#Eu'#EuO)OQWO,5:aO,oQpO,5:cOOQS'#D{'#D{O,wQWO,5:eO,|Q[O,5:eOOQO'#EO'#EOO-UQWO,5:hO-ZQWO,5:nO-cQWO,5:pOOQS-E8V-E8VO-kQdO,5:OO-{Q[O'#E_O.YQWO,5;_O.YQWO,5;_POOO'#EW'#EWP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:wOOQO-E8Z-E8ZOOQS1G.g1G.gOOQP1G.o1G.oO)gQWO1G.oO)lQWO1G.oOOQP1G/[1G/[O/iQ`O1G/_O0SQXO1G/bO0jQXO1G/dO1QQXO1G/eO1hQWO,59}O1mQ[O'#DTO1tQdO'#CpOOQP1G/_1G/_O${QdO1G/_O1{QpO,59^OOQS,59`,59`O${QdO,59bO2TQWO1G/nOOQS,59d,59dO2YQ!bO,59fOOQS'#DQ'#DQOOQS'#EZ'#EZO2eQ[O,59kOOQS,59k,59kO2mQWO'#DkO2xQWO,5:WO2}QWO,5:^O&`Q[O,5:YO&`Q[O'#E`O3VQWO,5;`O3bQWO,5:[O(aQ[O,5:_OOQS1G/{1G/{OOQS1G/}1G/}OOQS1G0P1G0PO3sQWO1G0PO3xQdO'#EPOOQS1G0S1G0SOOQS1G0Y1G0YOOQS1G0[1G0[O4TQtO1G/jOOQO1G/j1G/jOOQO,5:y,5:yO4kQ[O,5:yOOQO-E8]-E8]O4xQWO1G0yPOOO-E8U-E8UPOOO1G.e1G.eOOQP7+$Z7+$ZOOQP7+$y7+$yO${QdO7+$yOOQS1G/i1G/iO5TQXO'#ErO5[QWO,59oO5aQtO'#EYO6XQdO'#EoO6cQWO,59[O6hQpO7+$yOOQS1G.x1G.xOOQS1G.|1G.|OOQS7+%Y7+%YOOQS1G/Q1G/QO6pQWO1G/QOOQS-E8X-E8XOOQS1G/V1G/VO${QdO1G/rOOQO1G/x1G/xOOQO1G/t1G/tO6uQWO,5:zOOQO-E8^-E8^O7TQXO1G/yOOQS7+%k7+%kO7[QYO'#CtOOQO'#ER'#ERO7gQ`O'#EQOOQO'#EQ'#EQO7rQWO'#EaO7zQdO,5:kOOQS,5:k,5:kO8VQtO'#E^O${QdO'#E^O9WQdO7+%UOOQO7+%U7+%UOOQO1G0e1G0eO9kQpO<<HeO9sQWO,5;^OOQP1G/Z1G/ZOOQS-E8W-E8WO${QdO'#E[O9{QWO,5;ZOOQT1G.v1G.vOOQP<<He<<HeOOQS7+$l7+$lO:TQdO7+%^OOQO7+%e7+%eOOQO,5:l,5:lO3{QdO'#EbO7rQWO,5:{OOQS,5:{,5:{OOQS-E8_-E8_OOQS1G0V1G0VO:[QtO,5:xOOQS-E8[-E8[OOQO<<Hp<<HpOOQPAN>PAN>PO;]QdO,5:vOOQO-E8Y-E8YOOQO<<Hx<<HxOOQO,5:|,5:|OOQO-E8`-E8`OOQS1G0g1G0g",stateData:";o~O#[OS#]QQ~OUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YRO~OQfOUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YeO~O#V#gP~P!ZO#]jO~O#YlO~OZnO^qO_qOrsOuoOyrO!PtO!SvO#WuO~O!UwO~P#pOa}O#XzO#YyO~O#Y!OO~O#Y!QO~OQ![Oc!TOg![Oi![Oo!YOr!ZO#X!WO#Y!SO#e!UO~Oc!^O!e!`O!h!aO#Y!]O!U#hP~Oi!fOo!YO#Y!eO~Oi!hO#Y!hO~Oc!^O!e!`O!h!aO#Y!]O~O!Z#hP~P%jOZWX^WX^!XX_WXrWXuWXyWX!PWX!SWX!UWX#WWX~O^!mO~O!Z!nO#V#gX!T#gX~O#V#gX!T#gX~P!ZO#^!qO#_!qO#`!sO~OUYOXYOZTO^VO_VOrXOyWO#YRO~OuoO!UwO~Oa!zO#XzO#YyO~O!T#gP~P!ZOc#RO~Oc#SO~Oq#TO}#UO~OP#WOchXkhX!ZhX!ehX!hhX#YhXbhXQhXghXihXohXrhXuhX!YhX#VhX#XhX#ehXqhX!ThX~Oc!^Ok#XO!e!`O!h!aO#Y!]O!Z#hP~Oc#[O~Oq#`O#Y#]O~Oc!^O!e!`O!h!aO#Y#aO~Ou#eO!c#dO!U#hX!Z#hX~Oc#hO~Ok#XO!Z#jO~O!Z#kO~Oi#lOo!YO~O!U#mO~O!UwO!c#dO~O!UwO!Z#pO~O!Y#rO!Z!Wa#V!Wa!T!Wa~P${O!Z#RX#V#RX!T#RX~P!ZO!Z!nO#V#ga!T#ga~O#^!qO#_!qO#`#xO~OZnO^qO_qOrsOyrO!PtO!SvO#WuO~Ou#Pa!U#Pab#Pa~P.pOq#zO}#{O~OZnO^qO_qOrsOyrO~Ou!Oi!P!Oi!S!Oi!U!Oi#W!Oib!Oi~P/qOu!Qi!P!Qi!S!Qi!U!Qi#W!Qib!Qi~P/qOu!Ri!P!Ri!S!Ri!U!Ri#W!Rib!Ri~P/qO!T#|O~Ob#fP~P(aOb#cP~P${Ob$TOk#XO~O!Z$VO~Ob$WOi$XOp$XO~Oq$ZO#Y#]O~O^!aXb!_X!c!_X~O^$[O~Ob$]O!c#dO~Ou#eO!U#ha!Z#ha~O!c#dOu!da!U!da!Z!dab!da~O!Z$bO~O!T$iO#Y$dO#e$cO~Ok#XOu$kO!Y$mO!Z!Wi#V!Wi!T!Wi~P${O!Z#Ra#V#Ra!T#Ra~P!ZO!Z!nO#V#gi!T#gi~Ob#fX~P#pOb$qO~Ok#XOQ!|Xb!|Xc!|Xg!|Xi!|Xo!|Xr!|Xu!|X#X!|X#Y!|X#e!|X~Ou$sOb#cX~P${Ob$uO~Ok#XOq$vO~Ob$wO~O!c#dOu#Sa!U#Sa!Z#Sa~Ob$yO~P.pOP#WOuhX!UhX~O#e$cOu!tX!U!tX~Ou${O!UwO~O!T%PO#Y$dO#e$cO~Ok#XOQ#QXc#QXg#QXi#QXo#QXr#QXu#QX!Y#QX!Z#QX#V#QX#X#QX#Y#QX#e#QX!T#QX~Ou$kO!Y%SO!Z!Wq#V!Wq!T!Wq~P${Ok#XOq%TO~OuoOb#fa~Ou$sOb#ca~Ob%WO~P${Ok#XOQ#Qac#Qag#Qai#Qao#Qar#Qau#Qa!Y#Qa!Z#Qa#V#Qa#X#Qa#Y#Qa#e#Qa!T#Qa~Ob#Oau#Oa~P${O#[p#]#ek!S#e~",goto:"-g#jPPP#kP#nP#w$WP#wP$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+Z+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:"â  Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,25,""],["openedBy",18,"(",33,"[",51,"{"],["closedBy",19,")",34,"]",52,"}"]],propSources:[uMe],skippedNodes:[0,3,88],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSp`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#[~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#[~p`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUp`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Up`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUp`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Up`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUp`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Up`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUp`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Up`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!Y[p`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOi~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYyQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYp`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYp`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYg[p`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYg[p`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYp`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYg[p`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYp`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSg[p`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS}Sp`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSc^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOb~n9{UUQkWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWkW!SQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUp`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYp`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYp`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUp`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUp`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[p`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSu^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWkWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VUZQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTkWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSp`#]~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU^QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S_Qp`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Z^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS}SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!PQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!PQp`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!]Qp`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSr^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSq^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUp`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!cQp`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!UUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!T^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!SQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[sMe,lMe,oMe,1,2,3,4,new Rw("m~RRYZ[z{a~~g~aO#_~~dP!P!Qg~lO#`~~",28,106)],topRules:{StyleSheet:[0,4],Styles:[1,87]},specialized:[{term:101,get:r=>cMe[r]||-1},{term:59,get:r=>fMe[r]||-1},{term:102,get:r=>hMe[r]||-1}],tokenPrec:1219});let kA=null;function SA(){if(!kA&&typeof document=="object"&&document.body){let{style:r}=document.body,e=[],t=new Set;for(let n in r)n!="cssText"&&n!="cssFloat"&&typeof r[n]=="string"&&(/[A-Z]/.test(n)&&(n=n.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),t.has(n)||(e.push(n),t.add(n)));kA=e.sort().map(n=>({type:"property",label:n,apply:n+": "}))}return kA||[]}const JQ=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(r=>({type:"class",label:r})),e2=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(r=>({type:"keyword",label:r})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(r=>({type:"constant",label:r}))),pMe=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(r=>({type:"type",label:r})),mMe=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(r=>({type:"keyword",label:r})),Ru=/^(\w[\w-]*|-\w[\w-]*|)$/,vMe=/^-(-[\w-]*)?$/;function gMe(r,e){var t;if((r.name=="("||r.type.isError)&&(r=r.parent||r),r.name!="ArgList")return!1;let n=(t=r.parent)===null||t===void 0?void 0:t.firstChild;return(n==null?void 0:n.name)!="Callee"?!1:e.sliceString(n.from,n.to)=="var"}const t2=new Uz,OMe=["Declaration"];function yMe(r){for(let e=r;;){if(e.type.isTop)return e;if(!(e=e.parent))return r}}function QW(r,e,t){if(e.to-e.from>4096){let n=t2.get(e);if(n)return n;let i=[],a=new Set,o=e.cursor(gn.IncludeAnonymous);if(o.firstChild())do for(let s of QW(r,o.node,t))a.has(s.label)||(a.add(s.label),i.push(s));while(o.nextSibling());return t2.set(e,i),i}else{let n=[],i=new Set;return e.cursor().iterate(a=>{var o;if(t(a)&&a.matchContext(OMe)&&((o=a.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let s=r.sliceString(a.from,a.to);i.has(s)||(i.add(s),n.push({label:s,type:"variable"}))}}),n}}const bMe=r=>e=>{let{state:t,pos:n}=e,i=Vn(t).resolveInner(n,-1),a=i.type.isError&&i.from==i.to-1&&t.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(a||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:SA(),validFor:Ru};if(i.name=="ValueName")return{from:i.from,options:e2,validFor:Ru};if(i.name=="PseudoClassName")return{from:i.from,options:JQ,validFor:Ru};if(r(i)||(e.explicit||a)&&gMe(i,t.doc))return{from:r(i)||a?i.from:n,options:QW(t.doc,yMe(i),r),validFor:vMe};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:SA(),validFor:Ru};return{from:i.from,options:pMe,validFor:Ru}}if(i.name=="AtKeyword")return{from:i.from,options:mMe,validFor:Ru};if(!e.explicit)return null;let o=i.resolve(n),s=o.childBefore(n);return s&&s.name==":"&&o.name=="PseudoClassSelector"?{from:n,options:JQ,validFor:Ru}:s&&s.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:n,options:e2,validFor:Ru}:o.name=="Block"||o.name=="Styles"?{from:n,options:SA(),validFor:Ru}:null},wMe=bMe(r=>r.name=="VariableName"),Lw=Pp.define({name:"css",parser:dMe.configure({props:[B1.add({Declaration:M0()}),q1.add({"Block KeyframeList":tH})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function kMe(){return new DN(Lw,Lw.data.of({autocomplete:wMe}))}const SMe=314,xMe=315,r2=1,CMe=2,TMe=3,EMe=4,MMe=316,AMe=318,DMe=319,PMe=5,RMe=6,NMe=0,UP=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],BW=125,$Me=59,XP=47,LMe=42,_Me=43,IMe=45,QMe=60,BMe=44,qMe=63,FMe=46,VMe=91,ZMe=new SW({start:!1,shift(r,e){return e==PMe||e==RMe||e==AMe?r:e==DMe},strict:!1}),zMe=new Rs((r,e)=>{let{next:t}=r;(t==BW||t==-1||e.context)&&r.acceptToken(MMe)},{contextual:!0,fallback:!0}),HMe=new Rs((r,e)=>{let{next:t}=r,n;UP.indexOf(t)>-1||t==XP&&((n=r.peek(1))==XP||n==LMe)||t!=BW&&t!=$Me&&t!=-1&&!e.context&&r.acceptToken(SMe)},{contextual:!0}),WMe=new Rs((r,e)=>{r.next==VMe&&!e.context&&r.acceptToken(xMe)},{contextual:!0}),UMe=new Rs((r,e)=>{let{next:t}=r;if(t==_Me||t==IMe){if(r.advance(),t==r.next){r.advance();let n=!e.context&&e.canShift(r2);r.acceptToken(n?r2:CMe)}}else t==qMe&&r.peek(1)==FMe&&(r.advance(),r.advance(),(r.next<48||r.next>57)&&r.acceptToken(TMe))},{contextual:!0});function xA(r,e){return r>=65&&r<=90||r>=97&&r<=122||r==95||r>=192||!e&&r>=48&&r<=57}const XMe=new Rs((r,e)=>{if(r.next!=QMe||!e.dialectEnabled(NMe)||(r.advance(),r.next==XP))return;let t=0;for(;UP.indexOf(r.next)>-1;)r.advance(),t++;if(xA(r.next,!0)){for(r.advance(),t++;xA(r.next,!1);)r.advance(),t++;for(;UP.indexOf(r.next)>-1;)r.advance(),t++;if(r.next==BMe)return;for(let n=0;;n++){if(n==7){if(!xA(r.next,!0))return;break}if(r.next!="extends".charCodeAt(n))break;r.advance(),t++}}r.acceptToken(EMe,-t)}),jMe=_1({"get set async static":he.modifier,"for while do if else switch try catch finally return throw break continue default case":he.controlKeyword,"in of await yield void typeof delete instanceof":he.operatorKeyword,"let var const using function class extends":he.definitionKeyword,"import export from":he.moduleKeyword,"with debugger as new":he.keyword,TemplateString:he.special(he.string),super:he.atom,BooleanLiteral:he.bool,this:he.self,null:he.null,Star:he.modifier,VariableName:he.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":he.function(he.variableName),VariableDefinition:he.definition(he.variableName),Label:he.labelName,PropertyName:he.propertyName,PrivatePropertyName:he.special(he.propertyName),"CallExpression/MemberExpression/PropertyName":he.function(he.propertyName),"FunctionDeclaration/VariableDefinition":he.function(he.definition(he.variableName)),"ClassDeclaration/VariableDefinition":he.definition(he.className),"NewExpression/VariableName":he.className,PropertyDefinition:he.definition(he.propertyName),PrivatePropertyDefinition:he.definition(he.special(he.propertyName)),UpdateOp:he.updateOperator,"LineComment Hashbang":he.lineComment,BlockComment:he.blockComment,Number:he.number,String:he.string,Escape:he.escape,ArithOp:he.arithmeticOperator,LogicOp:he.logicOperator,BitOp:he.bitwiseOperator,CompareOp:he.compareOperator,RegExp:he.regexp,Equals:he.definitionOperator,Arrow:he.function(he.punctuation),": Spread":he.punctuation,"( )":he.paren,"[ ]":he.squareBracket,"{ }":he.brace,"InterpolationStart InterpolationEnd":he.special(he.brace),".":he.derefOperator,", ;":he.separator,"@":he.meta,TypeName:he.typeName,TypeDefinition:he.definition(he.typeName),"type enum interface implements namespace module declare":he.definitionKeyword,"abstract global Privacy readonly override":he.modifier,"is keyof unique infer asserts":he.operatorKeyword,JSXAttributeValue:he.attributeValue,JSXText:he.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":he.angleBracket,"JSXIdentifier JSXNameSpacedName":he.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":he.attributeName,"JSXBuiltin/JSXIdentifier":he.standard(he.tagName)}),YMe={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},GMe={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},KMe={__proto__:null,"<":189},JMe=Lp.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"â  ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:ZMe,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[jMe],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[HMe,WMe,UMe,XMe,2,3,4,5,6,7,8,9,10,11,12,13,14,zMe,new Rw("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new Rw("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:r=>YMe[r]||-1},{term:341,get:r=>GMe[r]||-1},{term:93,get:r=>KMe[r]||-1}],tokenPrec:15116}),qW=[io("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),io("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),io("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),io("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),io("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),io(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),io("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),io(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),io(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),io('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),io('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],eAe=qW.concat([io("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),io("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),io("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),n2=new Uz,FW=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Cv(r){return(e,t)=>{let n=e.node.getChild("VariableDefinition");return n&&t(n,r),!0}}const tAe=["FunctionDeclaration"],rAe={FunctionDeclaration:Cv("function"),ClassDeclaration:Cv("class"),ClassExpression:()=>!0,EnumDeclaration:Cv("constant"),TypeAliasDeclaration:Cv("type"),NamespaceDeclaration:Cv("namespace"),VariableDefinition(r,e){r.matchContext(tAe)||e(r,"variable")},TypeDefinition(r,e){e(r,"type")},__proto__:null};function VW(r,e){let t=n2.get(e);if(t)return t;let n=[],i=!0;function a(o,s){let l=r.sliceString(o.from,o.to);n.push({label:l,type:s})}return e.cursor(gn.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let s=rAe[o.name];if(s&&s(o,a)||FW.has(o.name))return!1}else if(o.to-o.from>8192){for(let s of VW(r,o.node))n.push(s);return!1}}),n2.set(e,n),n}const i2=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,ZW=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function nAe(r){let e=Vn(r.state).resolveInner(r.pos,-1);if(ZW.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&i2.test(r.state.sliceDoc(e.from,e.to));if(!t&&!r.explicit)return null;let n=[];for(let i=e;i;i=i.parent)FW.has(i.name)&&(n=n.concat(VW(r.state.doc,i)));return{options:n,from:t?e.from:r.pos,validFor:i2}}const Gl=Pp.define({name:"javascript",parser:JMe.configure({props:[B1.add({IfStatement:M0({except:/^\s*({|else\b)/}),TryStatement:M0({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:LSe,SwitchBody:r=>{let e=r.textAfter,t=/^\s*\}/.test(e),n=/^\s*(case|default)\b/.test(e);return r.baseIndent+(t?0:n?1:2)*r.unit},Block:$Se({closing:"}"}),ArrowFunction:r=>r.baseIndent+r.unit,"TemplateString BlockComment":()=>null,"Statement Property":M0({except:/^{/}),JSXElement(r){let e=/^\s*<\//.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},JSXEscape(r){let e=/\s*\}/.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},"JSXOpenTag JSXSelfClosingTag"(r){return r.column(r.node.from)+r.unit}}),q1.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":tH,BlockComment(r){return{from:r.from+2,to:r.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),zW={test:r=>/^JSX/.test(r.name),facet:Gz({commentTokens:{block:{open:"{/*",close:"*/}"}}})},HW=Gl.configure({dialect:"ts"},"typescript"),WW=Gl.configure({dialect:"jsx",props:[AN.add(r=>r.isTop?[zW]:void 0)]}),UW=Gl.configure({dialect:"jsx ts",props:[AN.add(r=>r.isTop?[zW]:void 0)]},"typescript");let XW=r=>({label:r,type:"keyword"});const jW="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(XW),iAe=jW.concat(["declare","implements","private","protected","public"].map(XW));function aAe(r={}){let e=r.jsx?r.typescript?UW:WW:r.typescript?HW:Gl,t=r.typescript?eAe.concat(iAe):qW.concat(jW);return new DN(e,[Gl.data.of({autocomplete:XCe(ZW,sW(t))}),Gl.data.of({autocomplete:nAe}),r.jsx?lAe:[]])}function oAe(r){for(;;){if(r.name=="JSXOpenTag"||r.name=="JSXSelfClosingTag"||r.name=="JSXFragmentTag")return r;if(r.name=="JSXEscape"||!r.parent)return null;r=r.parent}}function a2(r,e,t=r.length){for(let n=e==null?void 0:e.firstChild;n;n=n.nextSibling)if(n.name=="JSXIdentifier"||n.name=="JSXBuiltin"||n.name=="JSXNamespacedName"||n.name=="JSXMemberExpression")return r.sliceString(n.from,Math.min(n.to,t));return""}const sAe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),lAe=At.inputHandler.of((r,e,t,n,i)=>{if((sAe?r.composing:r.compositionStarted)||r.state.readOnly||e!=t||n!=">"&&n!="/"||!Gl.isActiveAt(r.state,e,-1))return!1;let a=i(),{state:o}=a,s=o.changeByRange(l=>{var u;let{head:c}=l,h=Vn(o).resolveInner(c-1,-1),p;if(h.name=="JSXStartTag"&&(h=h.parent),!(o.doc.sliceString(c-1,c)!=n||h.name=="JSXAttributeValue"&&h.to>c)){if(n==">"&&h.name=="JSXFragmentTag")return{range:l,changes:{from:c,insert:"</>"}};if(n=="/"&&h.name=="JSXStartCloseTag"){let g=h.parent,O=g.parent;if(O&&g.from==c-2&&((p=a2(o.doc,O.firstChild,c))||((u=O.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let T=`${p}>`;return{range:Ye.cursor(c+T.length,-1),changes:{from:c,insert:T}}}}else if(n==">"){let g=oAe(h);if(g&&g.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(c,c+2))&&(p=a2(o.doc,g,c)))return{range:l,changes:{from:c,insert:`</${p}>`}}}}return{range:l}});return s.changes.empty?!1:(r.dispatch([a,o.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Tv=["_blank","_self","_top","_parent"],CA=["ascii","utf-8","utf-16","latin1","latin1"],TA=["get","post","put","delete"],EA=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Qo=["true","false"],qt={},uAe={a:{attrs:{href:null,ping:null,type:null,media:null,target:Tv,hreflang:null}},abbr:qt,address:qt,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:qt,aside:qt,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:qt,base:{attrs:{href:null,target:Tv}},bdi:qt,bdo:qt,blockquote:{attrs:{cite:null}},body:qt,br:qt,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:EA,formmethod:TA,formnovalidate:["novalidate"],formtarget:Tv,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:qt,center:qt,cite:qt,code:qt,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:qt,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:qt,div:qt,dl:qt,dt:qt,em:qt,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:qt,figure:qt,footer:qt,form:{attrs:{action:null,name:null,"accept-charset":CA,autocomplete:["on","off"],enctype:EA,method:TA,novalidate:["novalidate"],target:Tv}},h1:qt,h2:qt,h3:qt,h4:qt,h5:qt,h6:qt,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:qt,hgroup:qt,hr:qt,html:{attrs:{manifest:null}},i:qt,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:EA,formmethod:TA,formnovalidate:["novalidate"],formtarget:Tv,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:qt,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:qt,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:qt,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:CA,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:qt,noscript:qt,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:qt,param:{attrs:{name:null,value:null}},pre:qt,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:qt,rt:qt,ruby:qt,samp:qt,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:CA}},section:qt,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:qt,source:{attrs:{src:null,type:null,media:null}},span:qt,strong:qt,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:qt,summary:qt,sup:qt,table:qt,tbody:qt,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:qt,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:qt,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:qt,time:{attrs:{datetime:null}},title:qt,tr:qt,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:qt,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:qt},YW={accesskey:null,class:null,contenteditable:Qo,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Qo,autocorrect:Qo,autocapitalize:Qo,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Qo,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Qo,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Qo,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Qo,"aria-hidden":Qo,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Qo,"aria-multiselectable":Qo,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Qo,"aria-relevant":null,"aria-required":Qo,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},GW="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(r=>"on"+r);for(let r of GW)YW[r]=null;let _w=class{constructor(e,t){this.tags=Object.assign(Object.assign({},uAe),e),this.globalAttrs=Object.assign(Object.assign({},YW),t),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}};_w.default=new _w;function _p(r,e,t=r.length){if(!e)return"";let n=e.firstChild,i=n&&n.getChild("TagName");return i?r.sliceString(i.from,Math.min(i.to,t)):""}function Ip(r,e=!1){for(;r;r=r.parent)if(r.name=="Element")if(e)e=!1;else return r;return null}function KW(r,e,t){let n=t.tags[_p(r,Ip(e))];return(n==null?void 0:n.children)||t.allTags}function GN(r,e){let t=[];for(let n=Ip(e);n&&!n.type.isTop;n=Ip(n.parent)){let i=_p(r,n);if(i&&n.lastChild.name=="CloseTag")break;i&&t.indexOf(i)<0&&(e.name=="EndTag"||e.from>=n.firstChild.to)&&t.push(i)}return t}const JW=/^[:\-\.\w\u00b7-\uffff]*$/;function o2(r,e,t,n,i){let a=/\s*>/.test(r.sliceDoc(i,i+5))?"":">",o=Ip(t,!0);return{from:n,to:i,options:KW(r.doc,o,e).map(s=>({label:s,type:"type"})).concat(GN(r.doc,t).map((s,l)=>({label:"/"+s,apply:"/"+s+a,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function s2(r,e,t,n){let i=/\s*>/.test(r.sliceDoc(n,n+5))?"":">";return{from:t,to:n,options:GN(r.doc,e).map((a,o)=>({label:a,apply:a+i,type:"type",boost:99-o})),validFor:JW}}function cAe(r,e,t,n){let i=[],a=0;for(let o of KW(r.doc,t,e))i.push({label:"<"+o,type:"type"});for(let o of GN(r.doc,t))i.push({label:"</"+o+">",type:"type",boost:99-a++});return{from:n,to:n,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function fAe(r,e,t,n,i){let a=Ip(t),o=a?e.tags[_p(r.doc,a)]:null,s=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?s:s.length?s.concat(e.globalAttrNames):e.globalAttrNames;return{from:n,to:i,options:l.map(u=>({label:u,type:"property"})),validFor:JW}}function hAe(r,e,t,n,i){var a;let o=(a=t.parent)===null||a===void 0?void 0:a.getChild("AttributeName"),s=[],l;if(o){let u=r.sliceDoc(o.from,o.to),c=e.globalAttrs[u];if(!c){let h=Ip(t),p=h?e.tags[_p(r.doc,h)]:null;c=(p==null?void 0:p.attrs)&&p.attrs[u]}if(c){let h=r.sliceDoc(n,i).toLowerCase(),p='"',g='"';/^['"]/.test(h)?(l=h[0]=='"'?/^[^"]*$/:/^[^']*$/,p="",g=r.sliceDoc(i,i+1)==h[0]?"":h[0],h=h.slice(1),n++):l=/^[^\s<>='"]*$/;for(let O of c)s.push({label:O,apply:p+O+g,type:"constant"})}}return{from:n,to:i,options:s,validFor:l}}function dAe(r,e){let{state:t,pos:n}=e,i=Vn(t).resolveInner(n,-1),a=i.resolve(n);for(let o=n,s;a==i&&(s=i.childBefore(o));){let l=s.lastChild;if(!l||!l.type.isError||l.from<l.to)break;a=i=s,o=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?s2(t,i,i.from,n):o2(t,r,i,i.from,n):i.name=="StartTag"?o2(t,r,i,n,n):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?s2(t,i,n,n):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?fAe(t,r,i,i.name=="AttributeName"?i.from:n,n):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?hAe(t,r,i,i.name=="Is"?n:i.from,n):e.explicit&&(a.name=="Element"||a.name=="Text"||a.name=="Document")?cAe(t,r,i,n):null}function pAe(r){let{extraTags:e,extraGlobalAttributes:t}=r,n=t||e?new _w(e,t):_w.default;return i=>dAe(n,i)}const mAe=Gl.parser.configure({top:"SingleExpression"}),e3=[{tag:"script",attrs:r=>r.type=="text/typescript"||r.lang=="ts",parser:HW.parser},{tag:"script",attrs:r=>r.type=="text/babel"||r.type=="text/jsx",parser:WW.parser},{tag:"script",attrs:r=>r.type=="text/typescript-jsx",parser:UW.parser},{tag:"script",attrs(r){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(r.type)},parser:mAe},{tag:"script",attrs(r){return!r.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(r.type)},parser:Gl.parser},{tag:"style",attrs(r){return(!r.lang||r.lang=="css")&&(!r.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(r.type))},parser:Lw.parser}],t3=[{name:"style",parser:Lw.parser.configure({top:"Styles"})}].concat(GW.map(r=>({name:r,parser:Gl.parser}))),r3=Pp.define({name:"html",parser:UEe.configure({props:[B1.add({Element(r){let e=/^(\s*)(<\/)?/.exec(r.textAfter);return r.node.to<=r.pos+e[0].length?r.continue():r.lineIndent(r.node.from)+(e[2]?0:r.unit)},"OpenTag CloseTag SelfClosingTag"(r){return r.column(r.node.from)+r.unit},Document(r){if(r.pos+/\s*/.exec(r.textAfter)[0].length<r.node.to)return r.continue();let e=null,t;for(let n=r.node;;){let i=n.lastChild;if(!i||i.name!="Element"||i.to!=n.to)break;e=n=i}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?r.lineIndent(e.from)+r.unit:null}}),q1.add({Element(r){let e=r.firstChild,t=r.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:r.to}}}),pH.add({"OpenTag CloseTag":r=>r.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),P0=r3.configure({wrap:$W(e3,t3)});function XCt(r={}){let e="",t;r.matchClosingTags===!1&&(e="noMatch"),r.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(r.nestedLanguages&&r.nestedLanguages.length||r.nestedAttributes&&r.nestedAttributes.length)&&(t=$W((r.nestedLanguages||[]).concat(e3),(r.nestedAttributes||[]).concat(t3)));let n=t?r3.configure({wrap:t,dialect:e}):e?P0.configure({dialect:e}):P0;return new DN(n,[P0.data.of({autocomplete:pAe(r)}),r.autoCloseTags!==!1?vAe:[],aAe().support,kMe().support])}const l2=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),vAe=At.inputHandler.of((r,e,t,n,i)=>{if(r.composing||r.state.readOnly||e!=t||n!=">"&&n!="/"||!P0.isActiveAt(r.state,e,-1))return!1;let a=i(),{state:o}=a,s=o.changeByRange(l=>{var u,c,h;let p=o.doc.sliceString(l.from-1,l.to)==n,{head:g}=l,O=Vn(o).resolveInner(g,-1),T;if(p&&n==">"&&O.name=="EndTag"){let M=O.parent;if(((c=(u=M.parent)===null||u===void 0?void 0:u.lastChild)===null||c===void 0?void 0:c.name)!="CloseTag"&&(T=_p(o.doc,M.parent,g))&&!l2.has(T)){let R=g+(o.doc.sliceString(g,g+1)===">"?1:0),z=`</${T}>`;return{range:l,changes:{from:g,to:R,insert:z}}}}else if(p&&n=="/"&&O.name=="IncompleteCloseTag"){let M=O.parent;if(O.from==g-2&&((h=M.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(T=_p(o.doc,M,g))&&!l2.has(T)){let R=g+(o.doc.sliceString(g,g+1)===">"?1:0),z=`${T}>`;return{range:Ye.cursor(g+z.length,-1),changes:{from:g,to:R,insert:z}}}}return{range:l}});return s.changes.empty?!1:(r.dispatch([a,o.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),gAe="#e5c07b",u2="#e06c75",OAe="#56b6c2",yAe="#ffffff",R0="#abb2bf",jP="#7d8799",bAe="#61afef",wAe="#98c379",c2="#d19a66",kAe="#c678dd",SAe="#21252b",f2="#2c313a",h2="#282c34",MA="#353a42",xAe="#3E4451",d2="#528bff",CAe=At.theme({"&":{color:R0,backgroundColor:h2},".cm-content":{caretColor:d2},".cm-cursor, .cm-dropCursor":{borderLeftColor:d2},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:xAe},".cm-panels":{backgroundColor:SAe,color:R0},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:h2,color:jP,border:"none"},".cm-activeLineGutter":{backgroundColor:f2},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:MA},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:MA,borderBottomColor:MA},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:f2,color:R0}}},{dark:!0}),TAe=hO.define([{tag:he.keyword,color:kAe},{tag:[he.name,he.deleted,he.character,he.propertyName,he.macroName],color:u2},{tag:[he.function(he.variableName),he.labelName],color:bAe},{tag:[he.color,he.constant(he.name),he.standard(he.name)],color:c2},{tag:[he.definition(he.name),he.separator],color:R0},{tag:[he.typeName,he.className,he.number,he.changed,he.annotation,he.modifier,he.self,he.namespace],color:gAe},{tag:[he.operator,he.operatorKeyword,he.url,he.escape,he.regexp,he.link,he.special(he.string)],color:OAe},{tag:[he.meta,he.comment],color:jP},{tag:he.strong,fontWeight:"bold"},{tag:he.emphasis,fontStyle:"italic"},{tag:he.strikethrough,textDecoration:"line-through"},{tag:he.link,color:jP,textDecoration:"underline"},{tag:he.heading,fontWeight:"bold",color:u2},{tag:[he.atom,he.bool,he.special(he.variableName)],color:c2},{tag:[he.processingInstruction,he.string,he.inserted],color:wAe},{tag:he.invalid,color:yAe}]),jCt=[CAe,NN(TAe)],EAe=r=>r;function n3(r){const e=r-1;return e*e*e+1}function p2(r){const e=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[r,"px"]}function YCt(r,{delay:e=0,duration:t=400,easing:n=EAe}={}){const i=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:a=>`opacity: ${a*i}`}}function GCt(r,{delay:e=0,duration:t=400,easing:n=n3,x:i=0,y:a=0,opacity:o=0}={}){const s=getComputedStyle(r),l=+s.opacity,u=s.transform==="none"?"":s.transform,c=l*(1-o),[h,p]=p2(i),[g,O]=p2(a);return{delay:e,duration:t,easing:n,css:(T,M)=>`
			transform: ${u} translate(${(1-T)*h}${p}, ${(1-T)*g}${O});
			opacity: ${l-c*M}`}}function KCt(r,{delay:e=0,duration:t=400,easing:n=n3,axis:i="y"}={}){const a=getComputedStyle(r),o=+a.opacity,s=i==="y"?"height":"width",l=parseFloat(a[s]),u=i==="y"?["top","bottom"]:["left","right"],c=u.map(R=>`${R[0].toUpperCase()}${R.slice(1)}`),h=parseFloat(a[`padding${c[0]}`]),p=parseFloat(a[`padding${c[1]}`]),g=parseFloat(a[`margin${c[0]}`]),O=parseFloat(a[`margin${c[1]}`]),T=parseFloat(a[`border${c[0]}Width`]),M=parseFloat(a[`border${c[1]}Width`]);return{delay:e,duration:t,easing:n,css:R=>`overflow: hidden;opacity: ${Math.min(R*20,1)*o};${s}: ${R*l}px;padding-${u[0]}: ${R*h}px;padding-${u[1]}: ${R*p}px;margin-${u[0]}: ${R*g}px;margin-${u[1]}: ${R*O}px;border-${u[0]}-width: ${R*T}px;border-${u[1]}-width: ${R*M}px;min-${s}: 0`}}function JCt(r){return--r*r*r*r*r+1}function i3(r,e){return function(){return r.apply(e,arguments)}}const{toString:MAe}=Object.prototype,{getPrototypeOf:KN}=Object,U1=(r=>e=>{const t=MAe.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),gl=r=>(r=r.toLowerCase(),e=>U1(e)===r),X1=r=>e=>typeof e===r,{isArray:lm}=Array,Hg=X1("undefined");function AAe(r){return r!==null&&!Hg(r)&&r.constructor!==null&&!Hg(r.constructor)&&Yo(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const a3=gl("ArrayBuffer");function DAe(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&a3(r.buffer),e}const PAe=X1("string"),Yo=X1("function"),o3=X1("number"),j1=r=>r!==null&&typeof r=="object",RAe=r=>r===!0||r===!1,N0=r=>{if(U1(r)!=="object")return!1;const e=KN(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},NAe=gl("Date"),$Ae=gl("File"),LAe=gl("Blob"),_Ae=gl("FileList"),IAe=r=>j1(r)&&Yo(r.pipe),QAe=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Yo(r.append)&&((e=U1(r))==="formdata"||e==="object"&&Yo(r.toString)&&r.toString()==="[object FormData]"))},BAe=gl("URLSearchParams"),[qAe,FAe,VAe,ZAe]=["ReadableStream","Request","Response","Headers"].map(gl),zAe=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vO(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),lm(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const a=t?Object.getOwnPropertyNames(r):Object.keys(r),o=a.length;let s;for(n=0;n<o;n++)s=a[n],e.call(null,r[s],s,r)}}function s3(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const mh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,l3=r=>!Hg(r)&&r!==mh;function YP(){const{caseless:r}=l3(this)&&this||{},e={},t=(n,i)=>{const a=r&&s3(e,i)||i;N0(e[a])&&N0(n)?e[a]=YP(e[a],n):N0(n)?e[a]=YP({},n):lm(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&vO(arguments[n],t);return e}const HAe=(r,e,t,{allOwnKeys:n}={})=>(vO(e,(i,a)=>{t&&Yo(i)?r[a]=i3(i,t):r[a]=i},{allOwnKeys:n}),r),WAe=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),UAe=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},XAe=(r,e,t,n)=>{let i,a,o;const s={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),a=i.length;a-- >0;)o=i[a],(!n||n(o,r,e))&&!s[o]&&(e[o]=r[o],s[o]=!0);r=t!==!1&&KN(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},jAe=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},YAe=r=>{if(!r)return null;if(lm(r))return r;let e=r.length;if(!o3(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},GAe=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&KN(Uint8Array)),KAe=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(r,a[0],a[1])}},JAe=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},eDe=gl("HTMLFormElement"),tDe=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),m2=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),rDe=gl("RegExp"),u3=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};vO(t,(i,a)=>{let o;(o=e(i,a,r))!==!1&&(n[a]=o||i)}),Object.defineProperties(r,n)},nDe=r=>{u3(r,(e,t)=>{if(Yo(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Yo(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},iDe=(r,e)=>{const t={},n=i=>{i.forEach(a=>{t[a]=!0})};return lm(r)?n(r):n(String(r).split(e)),t},aDe=()=>{},oDe=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,AA="abcdefghijklmnopqrstuvwxyz",v2="0123456789",c3={DIGIT:v2,ALPHA:AA,ALPHA_DIGIT:AA+AA.toUpperCase()+v2},sDe=(r=16,e=c3.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function lDe(r){return!!(r&&Yo(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const uDe=r=>{const e=new Array(10),t=(n,i)=>{if(j1(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=lm(n)?[]:{};return vO(n,(o,s)=>{const l=t(o,i+1);!Hg(l)&&(a[s]=l)}),e[i]=void 0,a}}return n};return t(r,0)},cDe=gl("AsyncFunction"),fDe=r=>r&&(j1(r)||Yo(r))&&Yo(r.then)&&Yo(r.catch),f3=((r,e)=>r?setImmediate:e?((t,n)=>(mh.addEventListener("message",({source:i,data:a})=>{i===mh&&a===t&&n.length&&n.shift()()},!1),i=>{n.push(i),mh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Yo(mh.postMessage)),hDe=typeof queueMicrotask<"u"?queueMicrotask.bind(mh):typeof process<"u"&&process.nextTick||f3,He={isArray:lm,isArrayBuffer:a3,isBuffer:AAe,isFormData:QAe,isArrayBufferView:DAe,isString:PAe,isNumber:o3,isBoolean:RAe,isObject:j1,isPlainObject:N0,isReadableStream:qAe,isRequest:FAe,isResponse:VAe,isHeaders:ZAe,isUndefined:Hg,isDate:NAe,isFile:$Ae,isBlob:LAe,isRegExp:rDe,isFunction:Yo,isStream:IAe,isURLSearchParams:BAe,isTypedArray:GAe,isFileList:_Ae,forEach:vO,merge:YP,extend:HAe,trim:zAe,stripBOM:WAe,inherits:UAe,toFlatObject:XAe,kindOf:U1,kindOfTest:gl,endsWith:jAe,toArray:YAe,forEachEntry:KAe,matchAll:JAe,isHTMLForm:eDe,hasOwnProperty:m2,hasOwnProp:m2,reduceDescriptors:u3,freezeMethods:nDe,toObjectSet:iDe,toCamelCase:tDe,noop:aDe,toFiniteNumber:oDe,findKey:s3,global:mh,isContextDefined:l3,ALPHABET:c3,generateString:sDe,isSpecCompliantForm:lDe,toJSONObject:uDe,isAsyncFn:cDe,isThenable:fDe,setImmediate:f3,asap:hDe};function gr(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}He.inherits(gr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:He.toJSONObject(this.config),code:this.code,status:this.status}}});const h3=gr.prototype,d3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{d3[r]={value:r}});Object.defineProperties(gr,d3);Object.defineProperty(h3,"isAxiosError",{value:!0});gr.from=(r,e,t,n,i,a)=>{const o=Object.create(h3);return He.toFlatObject(r,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),gr.call(o,r.message,e,t,n,i),o.cause=r,o.name=r.name,a&&Object.assign(o,a),o};const dDe=null;function GP(r){return He.isPlainObject(r)||He.isArray(r)}function p3(r){return He.endsWith(r,"[]")?r.slice(0,-2):r}function g2(r,e,t){return r?r.concat(e).map(function(i,a){return i=p3(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function pDe(r){return He.isArray(r)&&!r.some(GP)}const mDe=He.toFlatObject(He,{},null,function(e){return/^is[A-Z]/.test(e)});function Y1(r,e,t){if(!He.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=He.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,M){return!He.isUndefined(M[T])});const n=t.metaTokens,i=t.visitor||c,a=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&He.isSpecCompliantForm(e);if(!He.isFunction(i))throw new TypeError("visitor must be a function");function u(O){if(O===null)return"";if(He.isDate(O))return O.toISOString();if(!l&&He.isBlob(O))throw new gr("Blob is not supported. Use a Buffer instead.");return He.isArrayBuffer(O)||He.isTypedArray(O)?l&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function c(O,T,M){let R=O;if(O&&!M&&typeof O=="object"){if(He.endsWith(T,"{}"))T=n?T:T.slice(0,-2),O=JSON.stringify(O);else if(He.isArray(O)&&pDe(O)||(He.isFileList(O)||He.endsWith(T,"[]"))&&(R=He.toArray(O)))return T=p3(T),R.forEach(function(U,G){!(He.isUndefined(U)||U===null)&&e.append(o===!0?g2([T],G,a):o===null?T:T+"[]",u(U))}),!1}return GP(O)?!0:(e.append(g2(M,T,a),u(O)),!1)}const h=[],p=Object.assign(mDe,{defaultVisitor:c,convertValue:u,isVisitable:GP});function g(O,T){if(!He.isUndefined(O)){if(h.indexOf(O)!==-1)throw Error("Circular reference detected in "+T.join("."));h.push(O),He.forEach(O,function(R,z){(!(He.isUndefined(R)||R===null)&&i.call(e,R,He.isString(z)?z.trim():z,T,p))===!0&&g(R,T?T.concat(z):[z])}),h.pop()}}if(!He.isObject(r))throw new TypeError("data must be an object");return g(r),e}function O2(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function JN(r,e){this._pairs=[],r&&Y1(r,this,e)}const m3=JN.prototype;m3.append=function(e,t){this._pairs.push([e,t])};m3.toString=function(e){const t=e?function(n){return e.call(this,n,O2)}:O2;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function vDe(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function v3(r,e,t){if(!e)return r;const n=t&&t.encode||vDe;He.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=He.isURLSearchParams(e)?e.toString():new JN(e,t).toString(n),a){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+a}return r}class y2{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){He.forEach(this.handlers,function(n){n!==null&&e(n)})}}const g3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gDe=typeof URLSearchParams<"u"?URLSearchParams:JN,ODe=typeof FormData<"u"?FormData:null,yDe=typeof Blob<"u"?Blob:null,bDe={isBrowser:!0,classes:{URLSearchParams:gDe,FormData:ODe,Blob:yDe},protocols:["http","https","file","blob","url","data"]},e$=typeof window<"u"&&typeof document<"u",KP=typeof navigator=="object"&&navigator||void 0,wDe=e$&&(!KP||["ReactNative","NativeScript","NS"].indexOf(KP.product)<0),kDe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",SDe=e$&&window.location.href||"http://localhost",xDe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:e$,hasStandardBrowserEnv:wDe,hasStandardBrowserWebWorkerEnv:kDe,navigator:KP,origin:SDe},Symbol.toStringTag,{value:"Module"})),ga={...xDe,...bDe};function CDe(r,e){return Y1(r,new ga.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,a){return ga.isNode&&He.isBuffer(t)?(this.append(n,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function TDe(r){return He.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function EDe(r){const e={},t=Object.keys(r);let n;const i=t.length;let a;for(n=0;n<i;n++)a=t[n],e[a]=r[a];return e}function O3(r){function e(t,n,i,a){let o=t[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=t.length;return o=!o&&He.isArray(i)?i.length:o,l?(He.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!He.isObject(i[o]))&&(i[o]=[]),e(t,n,i[o],a)&&He.isArray(i[o])&&(i[o]=EDe(i[o])),!s)}if(He.isFormData(r)&&He.isFunction(r.entries)){const t={};return He.forEachEntry(r,(n,i)=>{e(TDe(n),i,t,0)}),t}return null}function MDe(r,e,t){if(He.isString(r))try{return(e||JSON.parse)(r),He.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const gO={transitional:g3,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,a=He.isObject(e);if(a&&He.isHTMLForm(e)&&(e=new FormData(e)),He.isFormData(e))return i?JSON.stringify(O3(e)):e;if(He.isArrayBuffer(e)||He.isBuffer(e)||He.isStream(e)||He.isFile(e)||He.isBlob(e)||He.isReadableStream(e))return e;if(He.isArrayBufferView(e))return e.buffer;if(He.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return CDe(e,this.formSerializer).toString();if((s=He.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Y1(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),MDe(e)):e}],transformResponse:[function(e){const t=this.transitional||gO.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(He.isResponse(e)||He.isReadableStream(e))return e;if(e&&He.isString(e)&&(n&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?gr.from(s,gr.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ga.classes.FormData,Blob:ga.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};He.forEach(["delete","get","head","post","put","patch"],r=>{gO.headers[r]={}});const ADe=He.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DDe=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!t||e[t]&&ADe[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},b2=Symbol("internals");function Ev(r){return r&&String(r).trim().toLowerCase()}function $0(r){return r===!1||r==null?r:He.isArray(r)?r.map($0):String(r)}function PDe(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const RDe=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function DA(r,e,t,n,i){if(He.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!He.isString(e)){if(He.isString(n))return e.indexOf(n)!==-1;if(He.isRegExp(n))return n.test(e)}}function NDe(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function $De(r,e){const t=He.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}let vo=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function a(s,l,u){const c=Ev(l);if(!c)throw new Error("header name must be a non-empty string");const h=He.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=$0(s))}const o=(s,l)=>He.forEach(s,(u,c)=>a(u,c,l));if(He.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(He.isString(e)&&(e=e.trim())&&!RDe(e))o(DDe(e),t);else if(He.isHeaders(e))for(const[s,l]of e.entries())a(l,s,n);else e!=null&&a(t,e,n);return this}get(e,t){if(e=Ev(e),e){const n=He.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return PDe(i);if(He.isFunction(t))return t.call(this,i,n);if(He.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ev(e),e){const n=He.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||DA(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function a(o){if(o=Ev(o),o){const s=He.findKey(n,o);s&&(!t||DA(n,n[s],s,t))&&(delete n[s],i=!0)}}return He.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const a=t[n];(!e||DA(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,n={};return He.forEach(this,(i,a)=>{const o=He.findKey(n,a);if(o){t[o]=$0(i),delete t[a];return}const s=e?NDe(a):String(a).trim();s!==a&&delete t[a],t[s]=$0(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return He.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&He.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[b2]=this[b2]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=Ev(o);n[s]||($De(i,o),n[s]=!0)}return He.isArray(e)?e.forEach(a):a(e),this}};vo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);He.reduceDescriptors(vo.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});He.freezeMethods(vo);function PA(r,e){const t=this||gO,n=e||t,i=vo.from(n.headers);let a=n.data;return He.forEach(r,function(s){a=s.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function y3(r){return!!(r&&r.__CANCEL__)}function um(r,e,t){gr.call(this,r??"canceled",gr.ERR_CANCELED,e,t),this.name="CanceledError"}He.inherits(um,gr,{__CANCEL__:!0});function b3(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new gr("Request failed with status code "+t.status,[gr.ERR_BAD_REQUEST,gr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function LDe(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function _De(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[a];o||(o=u),t[i]=l,n[i]=u;let h=a,p=0;for(;h!==i;)p+=t[h++],h=h%r;if(i=(i+1)%r,i===a&&(a=(a+1)%r),u-o<e)return;const g=c&&u-c;return g?Math.round(p*1e3/g):void 0}}function IDe(r,e){let t=0,n=1e3/e,i,a;const o=(u,c=Date.now())=>{t=c,i=null,a&&(clearTimeout(a),a=null),r.apply(null,u)};return[(...u)=>{const c=Date.now(),h=c-t;h>=n?o(u,c):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-h)))},()=>i&&o(i)]}const Iw=(r,e,t=3)=>{let n=0;const i=_De(50,250);return IDe(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-n,u=i(l),c=o<=s;n=o;const h={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:u||void 0,estimated:u&&s&&c?(s-o)/u:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};r(h)},t)},w2=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},k2=r=>(...e)=>He.asap(()=>r(...e)),QDe=ga.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,ga.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(ga.origin),ga.navigator&&/(msie|trident)/i.test(ga.navigator.userAgent)):()=>!0,BDe=ga.hasStandardBrowserEnv?{write(r,e,t,n,i,a){const o=[r+"="+encodeURIComponent(e)];He.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),He.isString(n)&&o.push("path="+n),He.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qDe(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function FDe(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function w3(r,e){return r&&!qDe(e)?FDe(r,e):e}const S2=r=>r instanceof vo?{...r}:r;function Rh(r,e){e=e||{};const t={};function n(u,c,h,p){return He.isPlainObject(u)&&He.isPlainObject(c)?He.merge.call({caseless:p},u,c):He.isPlainObject(c)?He.merge({},c):He.isArray(c)?c.slice():c}function i(u,c,h,p){if(He.isUndefined(c)){if(!He.isUndefined(u))return n(void 0,u,h,p)}else return n(u,c,h,p)}function a(u,c){if(!He.isUndefined(c))return n(void 0,c)}function o(u,c){if(He.isUndefined(c)){if(!He.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function s(u,c,h){if(h in e)return n(u,c);if(h in r)return n(void 0,u)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,c,h)=>i(S2(u),S2(c),h,!0)};return He.forEach(Object.keys(Object.assign({},r,e)),function(c){const h=l[c]||i,p=h(r[c],e[c],c);He.isUndefined(p)&&h!==s||(t[c]=p)}),t}const k3=r=>{const e=Rh({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;e.headers=o=vo.from(o),e.url=v3(w3(e.baseURL,e.url),r.params,r.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let l;if(He.isFormData(t)){if(ga.hasStandardBrowserEnv||ga.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(ga.hasStandardBrowserEnv&&(n&&He.isFunction(n)&&(n=n(e)),n||n!==!1&&QDe(e.url))){const u=i&&a&&BDe.read(a);u&&o.set(i,u)}return e},VDe=typeof XMLHttpRequest<"u",ZDe=VDe&&function(r){return new Promise(function(t,n){const i=k3(r);let a=i.data;const o=vo.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=i,c,h,p,g,O;function T(){g&&g(),O&&O(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let M=new XMLHttpRequest;M.open(i.method.toUpperCase(),i.url,!0),M.timeout=i.timeout;function R(){if(!M)return;const U=vo.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),J={data:!s||s==="text"||s==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:U,config:r,request:M};b3(function(le){t(le),T()},function(le){n(le),T()},J),M=null}"onloadend"in M?M.onloadend=R:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(R)},M.onabort=function(){M&&(n(new gr("Request aborted",gr.ECONNABORTED,r,M)),M=null)},M.onerror=function(){n(new gr("Network Error",gr.ERR_NETWORK,r,M)),M=null},M.ontimeout=function(){let G=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const J=i.transitional||g3;i.timeoutErrorMessage&&(G=i.timeoutErrorMessage),n(new gr(G,J.clarifyTimeoutError?gr.ETIMEDOUT:gr.ECONNABORTED,r,M)),M=null},a===void 0&&o.setContentType(null),"setRequestHeader"in M&&He.forEach(o.toJSON(),function(G,J){M.setRequestHeader(J,G)}),He.isUndefined(i.withCredentials)||(M.withCredentials=!!i.withCredentials),s&&s!=="json"&&(M.responseType=i.responseType),u&&([p,O]=Iw(u,!0),M.addEventListener("progress",p)),l&&M.upload&&([h,g]=Iw(l),M.upload.addEventListener("progress",h),M.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(c=U=>{M&&(n(!U||U.type?new um(null,r,M):U),M.abort(),M=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const z=LDe(i.url);if(z&&ga.protocols.indexOf(z)===-1){n(new gr("Unsupported protocol "+z+":",gr.ERR_BAD_REQUEST,r));return}M.send(a||null)})},zDe=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const a=function(u){if(!i){i=!0,s();const c=u instanceof Error?u:this.reason;n.abort(c instanceof gr?c:new um(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,a(new gr(`timeout ${e} of ms exceeded`,gr.ETIMEDOUT))},e);const s=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),r=null)};r.forEach(u=>u.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>He.asap(s),l}},HDe=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},WDe=async function*(r,e){for await(const t of UDe(r))yield*HDe(t,e)},UDe=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},x2=(r,e,t,n)=>{const i=WDe(r,e);let a=0,o,s=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){s(),l.close();return}let h=c.byteLength;if(t){let p=a+=h;t(p)}l.enqueue(new Uint8Array(c))}catch(u){throw s(u),u}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},G1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",S3=G1&&typeof ReadableStream=="function",XDe=G1&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),x3=(r,...e)=>{try{return!!r(...e)}catch{return!1}},jDe=S3&&x3(()=>{let r=!1;const e=new Request(ga.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),C2=64*1024,JP=S3&&x3(()=>He.isReadableStream(new Response("").body)),Qw={stream:JP&&(r=>r.body)};G1&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qw[e]&&(Qw[e]=He.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new gr(`Response type '${e}' is not supported`,gr.ERR_NOT_SUPPORT,n)})})})(new Response);const YDe=async r=>{if(r==null)return 0;if(He.isBlob(r))return r.size;if(He.isSpecCompliantForm(r))return(await new Request(ga.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(He.isArrayBufferView(r)||He.isArrayBuffer(r))return r.byteLength;if(He.isURLSearchParams(r)&&(r=r+""),He.isString(r))return(await XDe(r)).byteLength},GDe=async(r,e)=>{const t=He.toFiniteNumber(r.getContentLength());return t??YDe(e)},KDe=G1&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:s,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:p}=k3(r);u=u?(u+"").toLowerCase():"text";let g=zDe([i,a&&a.toAbortSignal()],o),O;const T=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let M;try{if(l&&jDe&&t!=="get"&&t!=="head"&&(M=await GDe(c,n))!==0){let J=new Request(e,{method:"POST",body:n,duplex:"half"}),ee;if(He.isFormData(n)&&(ee=J.headers.get("content-type"))&&c.setContentType(ee),J.body){const[le,pe]=w2(M,Iw(k2(l)));n=x2(J.body,C2,le,pe)}}He.isString(h)||(h=h?"include":"omit");const R="credentials"in Request.prototype;O=new Request(e,{...p,signal:g,method:t.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:R?h:void 0});let z=await fetch(O);const U=JP&&(u==="stream"||u==="response");if(JP&&(s||U&&T)){const J={};["status","statusText","headers"].forEach(be=>{J[be]=z[be]});const ee=He.toFiniteNumber(z.headers.get("content-length")),[le,pe]=s&&w2(ee,Iw(k2(s),!0))||[];z=new Response(x2(z.body,C2,le,()=>{pe&&pe(),T&&T()}),J)}u=u||"text";let G=await Qw[He.findKey(Qw,u)||"text"](z,r);return!U&&T&&T(),await new Promise((J,ee)=>{b3(J,ee,{data:G,headers:vo.from(z.headers),status:z.status,statusText:z.statusText,config:r,request:O})})}catch(R){throw T&&T(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new gr("Network Error",gr.ERR_NETWORK,r,O),{cause:R.cause||R}):gr.from(R,R&&R.code,r,O)}}),eR={http:dDe,xhr:ZDe,fetch:KDe};He.forEach(eR,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const T2=r=>`- ${r}`,JDe=r=>He.isFunction(r)||r===null||r===!1,C3={getAdapter:r=>{r=He.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let a=0;a<e;a++){t=r[a];let o;if(n=t,!JDe(t)&&(n=eR[(o=String(t)).toLowerCase()],n===void 0))throw new gr(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(T2).join(`
`):" "+T2(a[0]):"as no adapter specified";throw new gr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:eR};function RA(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new um(null,r)}function E2(r){return RA(r),r.headers=vo.from(r.headers),r.data=PA.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),C3.getAdapter(r.adapter||gO.adapter)(r).then(function(n){return RA(r),n.data=PA.call(r,r.transformResponse,n),n.headers=vo.from(n.headers),n},function(n){return y3(n)||(RA(r),n&&n.response&&(n.response.data=PA.call(r,r.transformResponse,n.response),n.response.headers=vo.from(n.response.headers))),Promise.reject(n)})}const T3="1.7.9",K1={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{K1[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const M2={};K1.transitional=function(e,t,n){function i(a,o){return"[Axios v"+T3+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(e===!1)throw new gr(i(o," has been removed"+(t?" in "+t:"")),gr.ERR_DEPRECATED);return t&&!M2[o]&&(M2[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,o,s):!0}};K1.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function ePe(r,e,t){if(typeof r!="object")throw new gr("options must be an object",gr.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const s=r[a],l=s===void 0||o(s,a,r);if(l!==!0)throw new gr("option "+a+" must be "+l,gr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new gr("Unknown option "+a,gr.ERR_BAD_OPTION)}}const L0={assertOptions:ePe,validators:K1},Bl=L0.validators;let wh=class{constructor(e){this.defaults=e,this.interceptors={request:new y2,response:new y2}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Rh(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:a}=t;n!==void 0&&L0.assertOptions(n,{silentJSONParsing:Bl.transitional(Bl.boolean),forcedJSONParsing:Bl.transitional(Bl.boolean),clarifyTimeoutError:Bl.transitional(Bl.boolean)},!1),i!=null&&(He.isFunction(i)?t.paramsSerializer={serialize:i}:L0.assertOptions(i,{encode:Bl.function,serialize:Bl.function},!0)),L0.assertOptions(t,{baseUrl:Bl.spelling("baseURL"),withXsrfToken:Bl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&He.merge(a.common,a[t.method]);a&&He.forEach(["delete","get","head","post","put","patch","common"],O=>{delete a[O]}),t.headers=vo.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(l=l&&T.synchronous,s.unshift(T.fulfilled,T.rejected))});const u=[];this.interceptors.response.forEach(function(T){u.push(T.fulfilled,T.rejected)});let c,h=0,p;if(!l){const O=[E2.bind(this),void 0];for(O.unshift.apply(O,s),O.push.apply(O,u),p=O.length,c=Promise.resolve(t);h<p;)c=c.then(O[h++],O[h++]);return c}p=s.length;let g=t;for(h=0;h<p;){const O=s[h++],T=s[h++];try{g=O(g)}catch(M){T.call(this,M);break}}try{c=E2.call(this,g)}catch(O){return Promise.reject(O)}for(h=0,p=u.length;h<p;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=Rh(this.defaults,e);const t=w3(e.baseURL,e.url);return v3(t,e.params,e.paramsSerializer)}};He.forEach(["delete","get","head","options"],function(e){wh.prototype[e]=function(t,n){return this.request(Rh(n||{},{method:e,url:t,data:(n||{}).data}))}});He.forEach(["post","put","patch"],function(e){function t(n){return function(a,o,s){return this.request(Rh(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}wh.prototype[e]=t(),wh.prototype[e+"Form"]=t(!0)});let tPe=class E3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,s){n.reason||(n.reason=new um(a,o,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new E3(function(i){e=i}),cancel:e}}};function rPe(r){return function(t){return r.apply(null,t)}}function nPe(r){return He.isObject(r)&&r.isAxiosError===!0}const tR={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tR).forEach(([r,e])=>{tR[e]=r});function M3(r){const e=new wh(r),t=i3(wh.prototype.request,e);return He.extend(t,wh.prototype,e,{allOwnKeys:!0}),He.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return M3(Rh(r,i))},t}const fi=M3(gO);fi.Axios=wh;fi.CanceledError=um;fi.CancelToken=tPe;fi.isCancel=y3;fi.VERSION=T3;fi.toFormData=Y1;fi.AxiosError=gr;fi.Cancel=fi.CanceledError;fi.all=function(e){return Promise.all(e)};fi.spread=rPe;fi.isAxiosError=nPe;fi.mergeConfig=Rh;fi.AxiosHeaders=vo;fi.formToJSON=r=>O3(He.isHTMLForm(r)?new FormData(r):r);fi.getAdapter=C3.getAdapter;fi.HttpStatusCode=tR;fi.default=fi;const{Axios:rTt,AxiosError:nTt,CanceledError:iTt,isCancel:aTt,CancelToken:oTt,VERSION:sTt,all:lTt,Cancel:uTt,isAxiosError:cTt,spread:fTt,toFormData:hTt,AxiosHeaders:dTt,HttpStatusCode:pTt,formToJSON:mTt,getAdapter:vTt,mergeConfig:gTt}=fi;/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function A2(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function nu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(t),!0).forEach(function(n){iPe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):A2(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _0(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_0=function(e){return typeof e}:_0=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(r)}function iPe(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function nc(){return nc=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},nc.apply(this,arguments)}function aPe(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function oPe(r,e){if(r==null)return{};var t=aPe(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var sPe="1.15.6";function Xu(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var cc=Xu(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),OO=Xu(/Edge/i),D2=Xu(/firefox/i),ug=Xu(/safari/i)&&!Xu(/chrome/i)&&!Xu(/android/i),t$=Xu(/iP(ad|od|hone)/i),A3=Xu(/chrome/i)&&Xu(/android/i),D3={capture:!1,passive:!1};function $r(r,e,t){r.addEventListener(e,t,!cc&&D3)}function Ar(r,e,t){r.removeEventListener(e,t,!cc&&D3)}function Bw(r,e){if(e){if(e[0]===">"&&(e=e.substring(1)),r)try{if(r.matches)return r.matches(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e)}catch{return!1}return!1}}function P3(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function il(r,e,t,n){if(r){t=t||document;do{if(e!=null&&(e[0]===">"?r.parentNode===t&&Bw(r,e):Bw(r,e))||n&&r===t)return r;if(r===t)break}while(r=P3(r))}return null}var P2=/\s+/g;function qo(r,e,t){if(r&&e)if(r.classList)r.classList[t?"add":"remove"](e);else{var n=(" "+r.className+" ").replace(P2," ").replace(" "+e+" "," ");r.className=(n+(t?" "+e:"")).replace(P2," ")}}function nr(r,e,t){var n=r&&r.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(t=r.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function yp(r,e){var t="";if(typeof r=="string")t=r;else do{var n=nr(r,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(r=r.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function R3(r,e,t){if(r){var n=r.getElementsByTagName(e),i=0,a=n.length;if(t)for(;i<a;i++)t(n[i],i);return n}return[]}function Kl(){var r=document.scrollingElement;return r||document.documentElement}function li(r,e,t,n,i){if(!(!r.getBoundingClientRect&&r!==window)){var a,o,s,l,u,c,h;if(r!==window&&r.parentNode&&r!==Kl()?(a=r.getBoundingClientRect(),o=a.top,s=a.left,l=a.bottom,u=a.right,c=a.height,h=a.width):(o=0,s=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(e||t)&&r!==window&&(i=i||r.parentNode,!cc))do if(i&&i.getBoundingClientRect&&(nr(i,"transform")!=="none"||t&&nr(i,"position")!=="static")){var p=i.getBoundingClientRect();o-=p.top+parseInt(nr(i,"border-top-width")),s-=p.left+parseInt(nr(i,"border-left-width")),l=o+a.height,u=s+a.width;break}while(i=i.parentNode);if(n&&r!==window){var g=yp(i||r),O=g&&g.a,T=g&&g.d;g&&(o/=T,s/=O,h/=O,c/=T,l=o+c,u=s+h)}return{top:o,left:s,bottom:l,right:u,width:h,height:c}}}function R2(r,e,t){for(var n=Kc(r,!0),i=li(r)[e];n;){var a=li(n)[t],o=void 0;if(o=i>=a,!o)return n;if(n===Kl())break;n=Kc(n,!1)}return!1}function Qp(r,e,t,n){for(var i=0,a=0,o=r.children;a<o.length;){if(o[a].style.display!=="none"&&o[a]!==ir.ghost&&(n||o[a]!==ir.dragged)&&il(o[a],t.draggable,r,!1)){if(i===e)return o[a];i++}a++}return null}function r$(r,e){for(var t=r.lastElementChild;t&&(t===ir.ghost||nr(t,"display")==="none"||e&&!Bw(t,e));)t=t.previousElementSibling;return t||null}function ps(r,e){var t=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==ir.clone&&(!e||Bw(r,e))&&t++;return t}function N2(r){var e=0,t=0,n=Kl();if(r)do{var i=yp(r),a=i.a,o=i.d;e+=r.scrollLeft*a,t+=r.scrollTop*o}while(r!==n&&(r=r.parentNode));return[e,t]}function lPe(r,e){for(var t in r)if(r.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===r[t][n])return Number(t)}return-1}function Kc(r,e){if(!r||!r.getBoundingClientRect)return Kl();var t=r,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=nr(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Kl();if(n||e)return t;n=!0}}while(t=t.parentNode);return Kl()}function uPe(r,e){if(r&&e)for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function NA(r,e){return Math.round(r.top)===Math.round(e.top)&&Math.round(r.left)===Math.round(e.left)&&Math.round(r.height)===Math.round(e.height)&&Math.round(r.width)===Math.round(e.width)}var cg;function N3(r,e){return function(){if(!cg){var t=arguments,n=this;t.length===1?r.call(n,t[0]):r.apply(n,t),cg=setTimeout(function(){cg=void 0},e)}}}function cPe(){clearTimeout(cg),cg=void 0}function $3(r,e,t){r.scrollLeft+=e,r.scrollTop+=t}function L3(r){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(r).cloneNode(!0):t?t(r).clone(!0)[0]:r.cloneNode(!0)}function _3(r,e,t){var n={};return Array.from(r.children).forEach(function(i){var a,o,s,l;if(!(!il(i,e.draggable,r,!1)||i.animated||i===t)){var u=li(i);n.left=Math.min((a=n.left)!==null&&a!==void 0?a:1/0,u.left),n.top=Math.min((o=n.top)!==null&&o!==void 0?o:1/0,u.top),n.right=Math.max((s=n.right)!==null&&s!==void 0?s:-1/0,u.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var co="Sortable"+new Date().getTime();function fPe(){var r=[],e;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(nr(i,"display")==="none"||i===ir.ghost)){r.push({target:i,rect:li(i)});var a=nu({},r[r.length-1].rect);if(i.thisAnimationDuration){var o=yp(i,!0);o&&(a.top-=o.f,a.left-=o.e)}i.fromRect=a}})}},addAnimationState:function(n){r.push(n)},removeAnimationState:function(n){r.splice(lPe(r,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var a=!1,o=0;r.forEach(function(s){var l=0,u=s.target,c=u.fromRect,h=li(u),p=u.prevFromRect,g=u.prevToRect,O=s.rect,T=yp(u,!0);T&&(h.top-=T.f,h.left-=T.e),u.toRect=h,u.thisAnimationDuration&&NA(p,h)&&!NA(c,h)&&(O.top-h.top)/(O.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(l=dPe(O,p,g,i.options)),NA(h,c)||(u.prevFromRect=c,u.prevToRect=h,l||(l=i.options.animation),i.animate(u,O,h,l)),l&&(a=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),a?e=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),r=[]},animate:function(n,i,a,o){if(o){nr(n,"transition",""),nr(n,"transform","");var s=yp(this.el),l=s&&s.a,u=s&&s.d,c=(i.left-a.left)/(l||1),h=(i.top-a.top)/(u||1);n.animatingX=!!c,n.animatingY=!!h,nr(n,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=hPe(n),nr(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),nr(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){nr(n,"transition",""),nr(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function hPe(r){return r.offsetWidth}function dPe(r,e,t,n){return Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var zd=[],$A={initializeByDefault:!0},yO={mount:function(e){for(var t in $A)$A.hasOwnProperty(t)&&!(t in e)&&(e[t]=$A[t]);zd.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),zd.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var a=e+"Global";zd.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][a]&&t[o.pluginName][a](nu({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](nu({sortable:t},n)))})},initializePlugins:function(e,t,n,i){zd.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var u=new s(e,t,e.options);u.sortable=e,u.options=e.options,e[l]=u,nc(n,u.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var o=this.modifyOption(e,a,e.options[a]);typeof o<"u"&&(e.options[a]=o)}},getEventProperties:function(e,t){var n={};return zd.forEach(function(i){typeof i.eventProperties=="function"&&nc(n,i.eventProperties.call(t[i.pluginName],e))}),n},modifyOption:function(e,t,n){var i;return zd.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[t]=="function"&&(i=a.optionListeners[t].call(e[a.pluginName],n))}),i}};function pPe(r){var e=r.sortable,t=r.rootEl,n=r.name,i=r.targetEl,a=r.cloneEl,o=r.toEl,s=r.fromEl,l=r.oldIndex,u=r.newIndex,c=r.oldDraggableIndex,h=r.newDraggableIndex,p=r.originalEvent,g=r.putSortable,O=r.extraEventProperties;if(e=e||t&&t[co],!!e){var T,M=e.options,R="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!cc&&!OO?T=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(n,!0,!0)),T.to=o||t,T.from=s||t,T.item=i||t,T.clone=a,T.oldIndex=l,T.newIndex=u,T.oldDraggableIndex=c,T.newDraggableIndex=h,T.originalEvent=p,T.pullMode=g?g.lastPutMode:void 0;var z=nu(nu({},O),yO.getEventProperties(n,e));for(var U in z)T[U]=z[U];t&&t.dispatchEvent(T),M[R]&&M[R].call(e,T)}}var mPe=["evt"],to=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,a=oPe(n,mPe);yO.pluginEvent.bind(ir)(e,t,nu({dragEl:vt,parentEl:Fn,ghostEl:cr,rootEl:Mn,nextEl:oh,lastDownEl:I0,cloneEl:_n,cloneHidden:Hc,dragStarted:Hv,putSortable:Zi,activeSortable:ir.active,originalEvent:i,oldIndex:up,oldDraggableIndex:fg,newIndex:Zo,newDraggableIndex:qc,hideGhostForTarget:q3,unhideGhostForTarget:F3,cloneNowHidden:function(){Hc=!0},cloneNowShown:function(){Hc=!1},dispatchSortableEvent:function(s){Ra({sortable:t,name:s,originalEvent:i})}},a))};function Ra(r){pPe(nu({putSortable:Zi,cloneEl:_n,targetEl:vt,rootEl:Mn,oldIndex:up,oldDraggableIndex:fg,newIndex:Zo,newDraggableIndex:qc},r))}var vt,Fn,cr,Mn,oh,I0,_n,Hc,up,Zo,fg,qc,Xb,Zi,rp=!1,qw=!1,Fw=[],Jf,tl,LA,_A,$2,L2,Hv,Hd,hg,dg=!1,jb=!1,Q0,fa,IA=[],rR=!1,Vw=[],J1=typeof document<"u",Yb=t$,_2=OO||cc?"cssFloat":"float",vPe=J1&&!A3&&!t$&&"draggable"in document.createElement("div"),I3=function(){if(J1){if(cc)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}}(),Q3=function(e,t){var n=nr(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=Qp(e,0,t),o=Qp(e,1,t),s=a&&nr(a),l=o&&nr(o),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+li(a).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+li(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&s.float&&s.float!=="none"){var h=s.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return a&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=i&&n[_2]==="none"||o&&n[_2]==="none"&&u+c>i)?"vertical":"horizontal"},gPe=function(e,t,n){var i=n?e.left:e.top,a=n?e.right:e.bottom,o=n?e.width:e.height,s=n?t.left:t.top,l=n?t.right:t.bottom,u=n?t.width:t.height;return i===s||a===l||i+o/2===s+u/2},OPe=function(e,t){var n;return Fw.some(function(i){var a=i[co].options.emptyInsertThreshold;if(!(!a||r$(i))){var o=li(i),s=e>=o.left-a&&e<=o.right+a,l=t>=o.top-a&&t<=o.bottom+a;if(s&&l)return n=i}}),n},B3=function(e){function t(a,o){return function(s,l,u,c){var h=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(a==null&&(o||h))return!0;if(a==null||a===!1)return!1;if(o&&a==="clone")return a;if(typeof a=="function")return t(a(s,l,u,c),o)(s,l,u,c);var p=(o?s:l).options.group.name;return a===!0||typeof a=="string"&&a===p||a.join&&a.indexOf(p)>-1}}var n={},i=e.group;(!i||_0(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},q3=function(){!I3&&cr&&nr(cr,"display","none")},F3=function(){!I3&&cr&&nr(cr,"display","")};J1&&!A3&&document.addEventListener("click",function(r){if(qw)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),qw=!1,!1},!0);var eh=function(e){if(vt){e=e.touches?e.touches[0]:e;var t=OPe(e.clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[co]._onDragOver(n)}}},yPe=function(e){vt&&vt.parentNode[co]._isOutsideThisEl(e.target)};function ir(r,e){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=e=nc({},e),r[co]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Q3(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,s){o.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ir.supportPointer!==!1&&"PointerEvent"in window&&(!ug||t$),emptyInsertThreshold:5};yO.initializePlugins(this,r,t);for(var n in t)!(n in e)&&(e[n]=t[n]);B3(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:vPe,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?$r(r,"pointerdown",this._onTapStart):($r(r,"mousedown",this._onTapStart),$r(r,"touchstart",this._onTapStart)),this.nativeDraggable&&($r(r,"dragover",this),$r(r,"dragenter",this)),Fw.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),nc(this,fPe())}ir.prototype={constructor:ir,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Hd=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,vt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,a=i.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(EPe(n),!vt&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&ug&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=il(l,i.draggable,n,!1),!(l&&l.animated)&&I0!==l)){if(up=ps(l),fg=ps(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){Ra({sortable:t,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),to("filter",t,{evt:e}),a&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=il(u,h.trim(),n,!1),h)return Ra({sortable:t,rootEl:h,name:"filter",targetEl:l,fromEl:n,toEl:n}),to("filter",t,{evt:e}),!0}),c)){a&&e.preventDefault();return}i.handle&&!il(u,i.handle,n,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,t,n){var i=this,a=i.el,o=i.options,s=a.ownerDocument,l;if(n&&!vt&&n.parentNode===a){var u=li(n);if(Mn=a,vt=n,Fn=vt.parentNode,oh=vt.nextSibling,I0=n,Xb=o.group,ir.dragged=vt,Jf={target:vt,clientX:(t||e).clientX,clientY:(t||e).clientY},$2=Jf.clientX-u.left,L2=Jf.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,vt.style["will-change"]="all",l=function(){if(to("delayEnded",i,{evt:e}),ir.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!D2&&i.nativeDraggable&&(vt.draggable=!0),i._triggerDragStart(e,t),Ra({sortable:i,name:"choose",originalEvent:e}),qo(vt,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){R3(vt,c.trim(),QA)}),$r(s,"dragover",eh),$r(s,"mousemove",eh),$r(s,"touchmove",eh),o.supportPointer?($r(s,"pointerup",i._onDrop),!this.nativeDraggable&&$r(s,"pointercancel",i._onDrop)):($r(s,"mouseup",i._onDrop),$r(s,"touchend",i._onDrop),$r(s,"touchcancel",i._onDrop)),D2&&this.nativeDraggable&&(this.options.touchStartThreshold=4,vt.draggable=!0),to("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(OO||cc))){if(ir.eventCanceled){this._onDrop();return}o.supportPointer?($r(s,"pointerup",i._disableDelayedDrag),$r(s,"pointercancel",i._disableDelayedDrag)):($r(s,"mouseup",i._disableDelayedDrag),$r(s,"touchend",i._disableDelayedDrag),$r(s,"touchcancel",i._disableDelayedDrag)),$r(s,"mousemove",i._delayedDragTouchMoveHandler),$r(s,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&$r(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){vt&&QA(vt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ar(e,"mouseup",this._disableDelayedDrag),Ar(e,"touchend",this._disableDelayedDrag),Ar(e,"touchcancel",this._disableDelayedDrag),Ar(e,"pointerup",this._disableDelayedDrag),Ar(e,"pointercancel",this._disableDelayedDrag),Ar(e,"mousemove",this._delayedDragTouchMoveHandler),Ar(e,"touchmove",this._delayedDragTouchMoveHandler),Ar(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?$r(document,"pointermove",this._onTouchMove):t?$r(document,"touchmove",this._onTouchMove):$r(document,"mousemove",this._onTouchMove):($r(vt,"dragend",this),$r(Mn,"dragstart",this._onDragStart));try{document.selection?B0(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(rp=!1,Mn&&vt){to("dragStarted",this,{evt:t}),this.nativeDraggable&&$r(document,"dragover",yPe);var n=this.options;!e&&qo(vt,n.dragClass,!1),qo(vt,n.ghostClass,!0),ir.active=this,e&&this._appendGhost(),Ra({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(tl){this._lastX=tl.clientX,this._lastY=tl.clientY,q3();for(var e=document.elementFromPoint(tl.clientX,tl.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(tl.clientX,tl.clientY),e!==t);)t=e;if(vt.parentNode[co]._isOutsideThisEl(e),t)do{if(t[co]){var n=void 0;if(n=t[co]._onDragOver({clientX:tl.clientX,clientY:tl.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=P3(t));F3()}},_onTouchMove:function(e){if(Jf){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,a=e.touches?e.touches[0]:e,o=cr&&yp(cr,!0),s=cr&&o&&o.a,l=cr&&o&&o.d,u=Yb&&fa&&N2(fa),c=(a.clientX-Jf.clientX+i.x)/(s||1)+(u?u[0]-IA[0]:0)/(s||1),h=(a.clientY-Jf.clientY+i.y)/(l||1)+(u?u[1]-IA[1]:0)/(l||1);if(!ir.active&&!rp){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(cr){o?(o.e+=c-(LA||0),o.f+=h-(_A||0)):o={a:1,b:0,c:0,d:1,e:c,f:h};var p="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");nr(cr,"webkitTransform",p),nr(cr,"mozTransform",p),nr(cr,"msTransform",p),nr(cr,"transform",p),LA=c,_A=h,tl=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!cr){var e=this.options.fallbackOnBody?document.body:Mn,t=li(vt,!0,Yb,!0,e),n=this.options;if(Yb){for(fa=e;nr(fa,"position")==="static"&&nr(fa,"transform")==="none"&&fa!==document;)fa=fa.parentNode;fa!==document.body&&fa!==document.documentElement?(fa===document&&(fa=Kl()),t.top+=fa.scrollTop,t.left+=fa.scrollLeft):fa=Kl(),IA=N2(fa)}cr=vt.cloneNode(!0),qo(cr,n.ghostClass,!1),qo(cr,n.fallbackClass,!0),qo(cr,n.dragClass,!0),nr(cr,"transition",""),nr(cr,"transform",""),nr(cr,"box-sizing","border-box"),nr(cr,"margin",0),nr(cr,"top",t.top),nr(cr,"left",t.left),nr(cr,"width",t.width),nr(cr,"height",t.height),nr(cr,"opacity","0.8"),nr(cr,"position",Yb?"absolute":"fixed"),nr(cr,"zIndex","100000"),nr(cr,"pointerEvents","none"),ir.ghost=cr,e.appendChild(cr),nr(cr,"transform-origin",$2/parseInt(cr.style.width)*100+"% "+L2/parseInt(cr.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,a=n.options;if(to("dragStart",this,{evt:e}),ir.eventCanceled){this._onDrop();return}to("setupClone",this),ir.eventCanceled||(_n=L3(vt),_n.removeAttribute("id"),_n.draggable=!1,_n.style["will-change"]="",this._hideClone(),qo(_n,this.options.chosenClass,!1),ir.clone=_n),n.cloneId=B0(function(){to("clone",n),!ir.eventCanceled&&(n.options.removeCloneOnHide||Mn.insertBefore(_n,vt),n._hideClone(),Ra({sortable:n,name:"clone"}))}),!t&&qo(vt,a.dragClass,!0),t?(qw=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Ar(document,"mouseup",n._onDrop),Ar(document,"touchend",n._onDrop),Ar(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(n,i,vt)),$r(document,"drop",n),nr(vt,"transform","translateZ(0)")),rp=!0,n._dragStartId=B0(n._dragStarted.bind(n,t,e)),$r(document,"selectstart",n),Hv=!0,window.getSelection().removeAllRanges(),ug&&nr(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,i,a,o,s=this.options,l=s.group,u=ir.active,c=Xb===l,h=s.sort,p=Zi||u,g,O=this,T=!1;if(rR)return;function M(Vt,ar){to(Vt,O,nu({evt:e,isOwner:c,axis:g?"vertical":"horizontal",revert:o,dragRect:i,targetRect:a,canSort:h,fromSortable:p,target:n,completed:z,onMove:function(Rt,Pt){return Gb(Mn,t,vt,i,Rt,li(Rt),e,Pt)},changed:U},ar))}function R(){M("dragOverAnimationCapture"),O.captureAnimationState(),O!==p&&p.captureAnimationState()}function z(Vt){return M("dragOverCompleted",{insertion:Vt}),Vt&&(c?u._hideClone():u._showClone(O),O!==p&&(qo(vt,Zi?Zi.options.ghostClass:u.options.ghostClass,!1),qo(vt,s.ghostClass,!0)),Zi!==O&&O!==ir.active?Zi=O:O===ir.active&&Zi&&(Zi=null),p===O&&(O._ignoreWhileAnimating=n),O.animateAll(function(){M("dragOverAnimationComplete"),O._ignoreWhileAnimating=null}),O!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===vt&&!vt.animated||n===t&&!n.animated)&&(Hd=null),!s.dragoverBubble&&!e.rootEl&&n!==document&&(vt.parentNode[co]._isOutsideThisEl(e.target),!Vt&&eh(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),T=!0}function U(){Zo=ps(vt),qc=ps(vt,s.draggable),Ra({sortable:O,name:"change",toEl:t,newIndex:Zo,newDraggableIndex:qc,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=il(n,s.draggable,t,!0),M("dragOver"),ir.eventCanceled)return T;if(vt.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||O._ignoreWhileAnimating===n)return z(!1);if(qw=!1,u&&!s.disabled&&(c?h||(o=Fn!==Mn):Zi===this||(this.lastPutMode=Xb.checkPull(this,u,vt,e))&&l.checkPut(this,u,vt,e))){if(g=this._getDirection(e,n)==="vertical",i=li(vt),M("dragOverValid"),ir.eventCanceled)return T;if(o)return Fn=Mn,R(),this._hideClone(),M("revert"),ir.eventCanceled||(oh?Mn.insertBefore(vt,oh):Mn.appendChild(vt)),z(!0);var G=r$(t,s.draggable);if(!G||SPe(e,g,this)&&!G.animated){if(G===vt)return z(!1);if(G&&t===e.target&&(n=G),n&&(a=li(n)),Gb(Mn,t,vt,i,n,a,e,!!n)!==!1)return R(),G&&G.nextSibling?t.insertBefore(vt,G.nextSibling):t.appendChild(vt),Fn=t,U(),z(!0)}else if(G&&kPe(e,g,this)){var J=Qp(t,0,s,!0);if(J===vt)return z(!1);if(n=J,a=li(n),Gb(Mn,t,vt,i,n,a,e,!1)!==!1)return R(),t.insertBefore(vt,J),Fn=t,U(),z(!0)}else if(n.parentNode===t){a=li(n);var ee=0,le,pe=vt.parentNode!==t,be=!gPe(vt.animated&&vt.toRect||i,n.animated&&n.toRect||a,g),Fe=g?"top":"left",Ge=R2(n,"top","top")||R2(vt,"top","top"),_e=Ge?Ge.scrollTop:void 0;Hd!==n&&(le=a[Fe],dg=!1,jb=!be&&s.invertSwap||pe),ee=xPe(e,n,a,g,be?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,jb,Hd===n);var ot;if(ee!==0){var at=ps(vt);do at-=ee,ot=Fn.children[at];while(ot&&(nr(ot,"display")==="none"||ot===cr))}if(ee===0||ot===n)return z(!1);Hd=n,hg=ee;var dt=n.nextElementSibling,Ot=!1;Ot=ee===1;var Qt=Gb(Mn,t,vt,i,n,a,e,Ot);if(Qt!==!1)return(Qt===1||Qt===-1)&&(Ot=Qt===1),rR=!0,setTimeout(wPe,30),R(),Ot&&!dt?t.appendChild(vt):n.parentNode.insertBefore(vt,Ot?dt:n),Ge&&$3(Ge,0,_e-Ge.scrollTop),Fn=vt.parentNode,le!==void 0&&!jb&&(Q0=Math.abs(le-li(n)[Fe])),U(),z(!0)}if(t.contains(vt))return z(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ar(document,"mousemove",this._onTouchMove),Ar(document,"touchmove",this._onTouchMove),Ar(document,"pointermove",this._onTouchMove),Ar(document,"dragover",eh),Ar(document,"mousemove",eh),Ar(document,"touchmove",eh)},_offUpEvents:function(){var e=this.el.ownerDocument;Ar(e,"mouseup",this._onDrop),Ar(e,"touchend",this._onDrop),Ar(e,"pointerup",this._onDrop),Ar(e,"pointercancel",this._onDrop),Ar(e,"touchcancel",this._onDrop),Ar(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(Zo=ps(vt),qc=ps(vt,n.draggable),to("drop",this,{evt:e}),Fn=vt&&vt.parentNode,Zo=ps(vt),qc=ps(vt,n.draggable),ir.eventCanceled){this._nulling();return}rp=!1,jb=!1,dg=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),nR(this.cloneId),nR(this._dragStartId),this.nativeDraggable&&(Ar(document,"drop",this),Ar(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ug&&nr(document.body,"user-select",""),nr(vt,"transform",""),e&&(Hv&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),cr&&cr.parentNode&&cr.parentNode.removeChild(cr),(Mn===Fn||Zi&&Zi.lastPutMode!=="clone")&&_n&&_n.parentNode&&_n.parentNode.removeChild(_n),vt&&(this.nativeDraggable&&Ar(vt,"dragend",this),QA(vt),vt.style["will-change"]="",Hv&&!rp&&qo(vt,Zi?Zi.options.ghostClass:this.options.ghostClass,!1),qo(vt,this.options.chosenClass,!1),Ra({sortable:this,name:"unchoose",toEl:Fn,newIndex:null,newDraggableIndex:null,originalEvent:e}),Mn!==Fn?(Zo>=0&&(Ra({rootEl:Fn,name:"add",toEl:Fn,fromEl:Mn,originalEvent:e}),Ra({sortable:this,name:"remove",toEl:Fn,originalEvent:e}),Ra({rootEl:Fn,name:"sort",toEl:Fn,fromEl:Mn,originalEvent:e}),Ra({sortable:this,name:"sort",toEl:Fn,originalEvent:e})),Zi&&Zi.save()):Zo!==up&&Zo>=0&&(Ra({sortable:this,name:"update",toEl:Fn,originalEvent:e}),Ra({sortable:this,name:"sort",toEl:Fn,originalEvent:e})),ir.active&&((Zo==null||Zo===-1)&&(Zo=up,qc=fg),Ra({sortable:this,name:"end",toEl:Fn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){to("nulling",this),Mn=vt=Fn=cr=oh=_n=I0=Hc=Jf=tl=Hv=Zo=qc=up=fg=Hd=hg=Zi=Xb=ir.dragged=ir.ghost=ir.clone=ir.active=null,Vw.forEach(function(e){e.checked=!0}),Vw.length=LA=_A=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":vt&&(this._onDragOver(e),bPe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,i=0,a=n.length,o=this.options;i<a;i++)t=n[i],il(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||TPe(t));return e},sort:function(e,t){var n={},i=this.el;this.toArray().forEach(function(a,o){var s=i.children[o];il(s,this.options.draggable,i,!1)&&(n[a]=s)},this),t&&this.captureAnimationState(),e.forEach(function(a){n[a]&&(i.removeChild(n[a]),i.appendChild(n[a]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return il(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var i=yO.modifyOption(this,e,t);typeof i<"u"?n[e]=i:n[e]=t,e==="group"&&B3(n)},destroy:function(){to("destroy",this);var e=this.el;e[co]=null,Ar(e,"mousedown",this._onTapStart),Ar(e,"touchstart",this._onTapStart),Ar(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ar(e,"dragover",this),Ar(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Fw.splice(Fw.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Hc){if(to("hideClone",this),ir.eventCanceled)return;nr(_n,"display","none"),this.options.removeCloneOnHide&&_n.parentNode&&_n.parentNode.removeChild(_n),Hc=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Hc){if(to("showClone",this),ir.eventCanceled)return;vt.parentNode==Mn&&!this.options.group.revertClone?Mn.insertBefore(_n,vt):oh?Mn.insertBefore(_n,oh):Mn.appendChild(_n),this.options.group.revertClone&&this.animate(vt,_n),nr(_n,"display",""),Hc=!1}}};function bPe(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function Gb(r,e,t,n,i,a,o,s){var l,u=r[co],c=u.options.onMove,h;return window.CustomEvent&&!cc&&!OO?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=r,l.dragged=t,l.draggedRect=n,l.related=i||e,l.relatedRect=a||li(e),l.willInsertAfter=s,l.originalEvent=o,r.dispatchEvent(l),c&&(h=c.call(u,l,o)),h}function QA(r){r.draggable=!1}function wPe(){rR=!1}function kPe(r,e,t){var n=li(Qp(t.el,0,t.options,!0)),i=_3(t.el,t.options,cr),a=10;return e?r.clientX<i.left-a||r.clientY<n.top&&r.clientX<n.right:r.clientY<i.top-a||r.clientY<n.bottom&&r.clientX<n.left}function SPe(r,e,t){var n=li(r$(t.el,t.options.draggable)),i=_3(t.el,t.options,cr),a=10;return e?r.clientX>i.right+a||r.clientY>n.bottom&&r.clientX>n.left:r.clientY>i.bottom+a||r.clientX>n.right&&r.clientY>n.top}function xPe(r,e,t,n,i,a,o,s){var l=n?r.clientY:r.clientX,u=n?t.height:t.width,c=n?t.top:t.left,h=n?t.bottom:t.right,p=!1;if(!o){if(s&&Q0<u*i){if(!dg&&(hg===1?l>c+u*a/2:l<h-u*a/2)&&(dg=!0),dg)p=!0;else if(hg===1?l<c+Q0:l>h-Q0)return-hg}else if(l>c+u*(1-i)/2&&l<h-u*(1-i)/2)return CPe(e)}return p=p||o,p&&(l<c+u*a/2||l>h-u*a/2)?l>c+u/2?1:-1:0}function CPe(r){return ps(vt)<ps(r)?1:-1}function TPe(r){for(var e=r.tagName+r.className+r.src+r.href+r.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function EPe(r){Vw.length=0;for(var e=r.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&Vw.push(n)}}function B0(r){return setTimeout(r,0)}function nR(r){return clearTimeout(r)}J1&&$r(document,"touchmove",function(r){(ir.active||rp)&&r.cancelable&&r.preventDefault()});ir.utils={on:$r,off:Ar,css:nr,find:R3,is:function(e,t){return!!il(e,t,e,!1)},extend:uPe,throttle:N3,closest:il,toggleClass:qo,clone:L3,index:ps,nextTick:B0,cancelNextTick:nR,detectDirection:Q3,getChild:Qp,expando:co};ir.get=function(r){return r[co]};ir.mount=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(ir.utils=nu(nu({},ir.utils),n.utils)),yO.mount(n)})};ir.create=function(r,e){return new ir(r,e)};ir.version=sPe;var oi=[],Wv,iR,aR=!1,BA,qA,Zw,Uv;function MPe(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return r.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?$r(document,"dragover",this._handleAutoScroll):this.options.supportPointer?$r(document,"pointermove",this._handleFallbackAutoScroll):n.touches?$r(document,"touchmove",this._handleFallbackAutoScroll):$r(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?Ar(document,"dragover",this._handleAutoScroll):(Ar(document,"pointermove",this._handleFallbackAutoScroll),Ar(document,"touchmove",this._handleFallbackAutoScroll),Ar(document,"mousemove",this._handleFallbackAutoScroll)),I2(),q0(),cPe()},nulling:function(){Zw=iR=Wv=aR=Uv=BA=qA=null,oi.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var i=this,a=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(a,o);if(Zw=t,n||this.options.forceAutoScrollFallback||OO||cc||ug){FA(t,this.options,s,n);var l=Kc(s,!0);aR&&(!Uv||a!==BA||o!==qA)&&(Uv&&I2(),Uv=setInterval(function(){var u=Kc(document.elementFromPoint(a,o),!0);u!==l&&(l=u,q0()),FA(t,i.options,u,n)},10),BA=a,qA=o)}else{if(!this.options.bubbleScroll||Kc(s,!0)===Kl()){q0();return}FA(t,this.options,Kc(s,!1),!1)}}},nc(r,{pluginName:"scroll",initializeByDefault:!0})}function q0(){oi.forEach(function(r){clearInterval(r.pid)}),oi=[]}function I2(){clearInterval(Uv)}var FA=N3(function(r,e,t,n){if(e.scroll){var i=(r.touches?r.touches[0]:r).clientX,a=(r.touches?r.touches[0]:r).clientY,o=e.scrollSensitivity,s=e.scrollSpeed,l=Kl(),u=!1,c;iR!==t&&(iR=t,q0(),Wv=e.scroll,c=e.scrollFn,Wv===!0&&(Wv=Kc(t,!0)));var h=0,p=Wv;do{var g=p,O=li(g),T=O.top,M=O.bottom,R=O.left,z=O.right,U=O.width,G=O.height,J=void 0,ee=void 0,le=g.scrollWidth,pe=g.scrollHeight,be=nr(g),Fe=g.scrollLeft,Ge=g.scrollTop;g===l?(J=U<le&&(be.overflowX==="auto"||be.overflowX==="scroll"||be.overflowX==="visible"),ee=G<pe&&(be.overflowY==="auto"||be.overflowY==="scroll"||be.overflowY==="visible")):(J=U<le&&(be.overflowX==="auto"||be.overflowX==="scroll"),ee=G<pe&&(be.overflowY==="auto"||be.overflowY==="scroll"));var _e=J&&(Math.abs(z-i)<=o&&Fe+U<le)-(Math.abs(R-i)<=o&&!!Fe),ot=ee&&(Math.abs(M-a)<=o&&Ge+G<pe)-(Math.abs(T-a)<=o&&!!Ge);if(!oi[h])for(var at=0;at<=h;at++)oi[at]||(oi[at]={});(oi[h].vx!=_e||oi[h].vy!=ot||oi[h].el!==g)&&(oi[h].el=g,oi[h].vx=_e,oi[h].vy=ot,clearInterval(oi[h].pid),(_e!=0||ot!=0)&&(u=!0,oi[h].pid=setInterval((function(){n&&this.layer===0&&ir.active._onTouchMove(Zw);var dt=oi[this.layer].vy?oi[this.layer].vy*s:0,Ot=oi[this.layer].vx?oi[this.layer].vx*s:0;typeof c=="function"&&c.call(ir.dragged.parentNode[co],Ot,dt,r,Zw,oi[this.layer].el)!=="continue"||$3(oi[this.layer].el,Ot,dt)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&p!==l&&(p=Kc(p,!1)));aR=u}},30),V3=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,a=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var u=n||a;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,h=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function n$(){}n$.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Qp(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:V3};nc(n$,{pluginName:"revertOnSpill"});function i$(){}i$.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:V3};nc(i$,{pluginName:"removeOnSpill"});ir.mount(new MPe);ir.mount(i$,n$);var Kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function APe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xv={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var DPe=Xv.exports,Q2;function PPe(){return Q2||(Q2=1,function(r,e){(function(){var t,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",h=1,p=2,g=4,O=1,T=2,M=1,R=2,z=4,U=8,G=16,J=32,ee=64,le=128,pe=256,be=512,Fe=30,Ge="...",_e=800,ot=16,at=1,dt=2,Ot=3,Qt=1/0,Vt=9007199254740991,ar=17976931348623157e292,bt=NaN,Rt=4294967295,Pt=Rt-1,tr=Rt>>>1,or=[["ary",le],["bind",M],["bindKey",R],["curry",U],["curryRight",G],["flip",be],["partial",J],["partialRight",ee],["rearg",pe]],Sr="[object Arguments]",Le="[object Array]",Pe="[object AsyncFunction]",ve="[object Boolean]",xe="[object Date]",Oe="[object DOMException]",Be="[object Error]",Ze="[object Function]",st="[object GeneratorFunction]",$t="[object Map]",Jt="[object Number]",Yt="[object Null]",Cr="[object Object]",sr="[object Promise]",un="[object Proxy]",Zr="[object RegExp]",Lr="[object Set]",pr="[object String]",tn="[object Symbol]",$i="[object Undefined]",On="[object WeakMap]",yn="[object WeakSet]",ct="[object ArrayBuffer]",pt="[object DataView]",Ft="[object Float32Array]",er="[object Float64Array]",Or="[object Int8Array]",pn="[object Int16Array]",_r="[object Int32Array]",Xr="[object Uint8Array]",ur="[object Uint8ClampedArray]",Zn="[object Uint16Array]",rn="[object Uint32Array]",Jn=/\b__p \+= '';/g,di=/\b(__p \+=) '' \+/g,pi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cn=/&(?:amp|lt|gt|quot|#39);/g,ei=/[&<>"']/g,ti=RegExp(cn.source),te=RegExp(ei.source),se=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,$e=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,L=/[\\^$.*+?()[\]{}|]/g,q=RegExp(L.source),Z=/^\s+/,oe=/\s/,Te=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qe=/\{\n\/\* \[wrapped with (.+)\] \*/,me=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Re=/[()=,{}\[\]\/\s]/,Ve=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lt=/\w*$/,V=/^[-+]0x[0-9a-f]+$/i,$=/^0b[01]+$/i,x=/^\[object .+?Constructor\]$/,A=/^0o[0-7]+$/i,I=/^(?:0|[1-9]\d*)$/,Y=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ae=/($^)/,de=/['\n\r\u2028\u2029\\]/g,Ae="\\ud800-\\udfff",Ne="\\u0300-\\u036f",tt="\\ufe20-\\ufe2f",rt="\\u20d0-\\u20ff",mt=Ne+tt+rt,zt="\\u2700-\\u27bf",wr="a-z\\xdf-\\xf6\\xf8-\\xff",Gr="\\xac\\xb1\\xd7\\xf7",ea="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ko="\\u2000-\\u206f",Ko=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cu="A-Z\\xc0-\\xd6\\xd8-\\xde",Ol="\\ufe0e\\ufe0f",Jo=Gr+ea+ko+Ko,ta="['â]",za="["+Ae+"]",yl="["+Jo+"]",mi="["+mt+"]",bl="\\d+",wl="["+zt+"]",Ls="["+wr+"]",_s="[^"+Ae+Jo+bl+zt+wr+cu+"]",Is="\\ud83c[\\udffb-\\udfff]",Ha="(?:"+mi+"|"+Is+")",es="[^"+Ae+"]",ts="(?:\\ud83c[\\udde6-\\uddff]){2}",ra="[\\ud800-\\udbff][\\udc00-\\udfff]",So="["+cu+"]",fu="\\u200d",xo="(?:"+Ls+"|"+_s+")",Wa="(?:"+So+"|"+_s+")",xa="(?:"+ta+"(?:d|ll|m|re|s|t|ve))?",Qs="(?:"+ta+"(?:D|LL|M|RE|S|T|VE))?",rs=Ha+"?",Co="["+Ol+"]?",Ca="(?:"+fu+"(?:"+[es,ts,ra].join("|")+")"+Co+rs+")*",hu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Li=Co+rs+Ca,dc="(?:"+[wl,ts,ra].join("|")+")"+Li,pc="(?:"+[es+mi+"?",mi,ts,ra,za].join("|")+")",kl=RegExp(ta,"g"),mc=RegExp(mi,"g"),Ua=RegExp(Is+"(?="+Is+")|"+pc+Li,"g"),na=RegExp([So+"?"+Ls+"+"+xa+"(?="+[yl,So,"$"].join("|")+")",Wa+"+"+Qs+"(?="+[yl,So+xo,"$"].join("|")+")",So+"?"+xo+"+"+xa,So+"+"+Qs,Cf,hu,bl,dc].join("|"),"g"),du=RegExp("["+fu+Ae+mt+Ol+"]"),vc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tf=-1,ft={};ft[Ft]=ft[er]=ft[Or]=ft[pn]=ft[_r]=ft[Xr]=ft[ur]=ft[Zn]=ft[rn]=!0,ft[Sr]=ft[Le]=ft[ct]=ft[ve]=ft[pt]=ft[xe]=ft[Be]=ft[Ze]=ft[$t]=ft[Jt]=ft[Cr]=ft[Zr]=ft[Lr]=ft[pr]=ft[On]=!1;var Ce={};Ce[Sr]=Ce[Le]=Ce[ct]=Ce[pt]=Ce[ve]=Ce[xe]=Ce[Ft]=Ce[er]=Ce[Or]=Ce[pn]=Ce[_r]=Ce[$t]=Ce[Jt]=Ce[Cr]=Ce[Zr]=Ce[Lr]=Ce[pr]=Ce[tn]=Ce[Xr]=Ce[ur]=Ce[Zn]=Ce[rn]=!0,Ce[Be]=Ce[Ze]=Ce[On]=!1;var lt={Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"},Nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Rr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Pn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Rn=parseFloat,xn=parseInt,_i=typeof Kb=="object"&&Kb&&Kb.Object===Object&&Kb,ns=typeof self=="object"&&self&&self.Object===Object&&self,bn=_i||ns||Function("return this")(),Sl=e&&!e.nodeType&&e,Xa=Sl&&!0&&r&&!r.nodeType&&r,Uh=Xa&&Xa.exports===Sl,Ef=Uh&&_i.process,ia=function(){try{var Ee=Xa&&Xa.require&&Xa.require("util").types;return Ee||Ef&&Ef.binding&&Ef.binding("util")}catch{}}(),Xh=ia&&ia.isArrayBuffer,ri=ia&&ia.isDate,ni=ia&&ia.isMap,jh=ia&&ia.isRegExp,Yh=ia&&ia.isSet,Gh=ia&&ia.isTypedArray;function Cn(Ee,Ue,Ie){switch(Ie.length){case 0:return Ee.call(Ue);case 1:return Ee.call(Ue,Ie[0]);case 2:return Ee.call(Ue,Ie[0],Ie[1]);case 3:return Ee.call(Ue,Ie[0],Ie[1],Ie[2])}return Ee.apply(Ue,Ie)}function hm(Ee,Ue,Ie,Ct){for(var rr=-1,Nr=Ee==null?0:Ee.length;++rr<Nr;){var Nn=Ee[rr];Ue(Ct,Nn,Ie(Nn),Ee)}return Ct}function xi(Ee,Ue){for(var Ie=-1,Ct=Ee==null?0:Ee.length;++Ie<Ct&&Ue(Ee[Ie],Ie,Ee)!==!1;);return Ee}function Mf(Ee,Ue){for(var Ie=Ee==null?0:Ee.length;Ie--&&Ue(Ee[Ie],Ie,Ee)!==!1;);return Ee}function Kh(Ee,Ue){for(var Ie=-1,Ct=Ee==null?0:Ee.length;++Ie<Ct;)if(!Ue(Ee[Ie],Ie,Ee))return!1;return!0}function is(Ee,Ue){for(var Ie=-1,Ct=Ee==null?0:Ee.length,rr=0,Nr=[];++Ie<Ct;){var Nn=Ee[Ie];Ue(Nn,Ie,Ee)&&(Nr[rr++]=Nn)}return Nr}function Bs(Ee,Ue){var Ie=Ee==null?0:Ee.length;return!!Ie&&xl(Ee,Ue,0)>-1}function Af(Ee,Ue,Ie){for(var Ct=-1,rr=Ee==null?0:Ee.length;++Ct<rr;)if(Ie(Ue,Ee[Ct]))return!0;return!1}function Kr(Ee,Ue){for(var Ie=-1,Ct=Ee==null?0:Ee.length,rr=Array(Ct);++Ie<Ct;)rr[Ie]=Ue(Ee[Ie],Ie,Ee);return rr}function Ii(Ee,Ue){for(var Ie=-1,Ct=Ue.length,rr=Ee.length;++Ie<Ct;)Ee[rr+Ie]=Ue[Ie];return Ee}function Df(Ee,Ue,Ie,Ct){var rr=-1,Nr=Ee==null?0:Ee.length;for(Ct&&Nr&&(Ie=Ee[++rr]);++rr<Nr;)Ie=Ue(Ie,Ee[rr],rr,Ee);return Ie}function dm(Ee,Ue,Ie,Ct){var rr=Ee==null?0:Ee.length;for(Ct&&rr&&(Ie=Ee[--rr]);rr--;)Ie=Ue(Ie,Ee[rr],rr,Ee);return Ie}function Pf(Ee,Ue){for(var Ie=-1,Ct=Ee==null?0:Ee.length;++Ie<Ct;)if(Ue(Ee[Ie],Ie,Ee))return!0;return!1}var pm=yc("length");function mm(Ee){return Ee.split("")}function vm(Ee){return Ee.match(ce)||[]}function Oc(Ee,Ue,Ie){var Ct;return Ie(Ee,function(rr,Nr,Nn){if(Ue(rr,Nr,Nn))return Ct=Nr,!1}),Ct}function pu(Ee,Ue,Ie,Ct){for(var rr=Ee.length,Nr=Ie+(Ct?1:-1);Ct?Nr--:++Nr<rr;)if(Ue(Ee[Nr],Nr,Ee))return Nr;return-1}function xl(Ee,Ue,Ie){return Ue===Ue?ym(Ee,Ue,Ie):pu(Ee,ed,Ie)}function Jh(Ee,Ue,Ie,Ct){for(var rr=Ie-1,Nr=Ee.length;++rr<Nr;)if(Ct(Ee[rr],Ue))return rr;return-1}function ed(Ee){return Ee!==Ee}function Rf(Ee,Ue){var Ie=Ee==null?0:Ee.length;return Ie?$f(Ee,Ue)/Ie:bt}function yc(Ee){return function(Ue){return Ue==null?t:Ue[Ee]}}function Nf(Ee){return function(Ue){return Ee==null?t:Ee[Ue]}}function td(Ee,Ue,Ie,Ct,rr){return rr(Ee,function(Nr,Nn,jr){Ie=Ct?(Ct=!1,Nr):Ue(Ie,Nr,Nn,jr)}),Ie}function mu(Ee,Ue){var Ie=Ee.length;for(Ee.sort(Ue);Ie--;)Ee[Ie]=Ee[Ie].value;return Ee}function $f(Ee,Ue){for(var Ie,Ct=-1,rr=Ee.length;++Ct<rr;){var Nr=Ue(Ee[Ct]);Nr!==t&&(Ie=Ie===t?Nr:Ie+Nr)}return Ie}function qs(Ee,Ue){for(var Ie=-1,Ct=Array(Ee);++Ie<Ee;)Ct[Ie]=Ue(Ie);return Ct}function gm(Ee,Ue){return Kr(Ue,function(Ie){return[Ie,Ee[Ie]]})}function rd(Ee){return Ee&&Ee.slice(0,as(Ee)+1).replace(Z,"")}function zn(Ee){return function(Ue){return Ee(Ue)}}function bc(Ee,Ue){return Kr(Ue,function(Ie){return Ee[Ie]})}function Cl(Ee,Ue){return Ee.has(Ue)}function nd(Ee,Ue){for(var Ie=-1,Ct=Ee.length;++Ie<Ct&&xl(Ue,Ee[Ie],0)>-1;);return Ie}function Lf(Ee,Ue){for(var Ie=Ee.length;Ie--&&xl(Ue,Ee[Ie],0)>-1;);return Ie}function id(Ee,Ue){for(var Ie=Ee.length,Ct=0;Ie--;)Ee[Ie]===Ue&&++Ct;return Ct}var vu=Nf(lt),ad=Nf(Nt);function gu(Ee){return"\\"+Pn[Ee]}function Om(Ee,Ue){return Ee==null?t:Ee[Ue]}function aa(Ee){return du.test(Ee)}function Tl(Ee){return vc.test(Ee)}function Fs(Ee){for(var Ue,Ie=[];!(Ue=Ee.next()).done;)Ie.push(Ue.value);return Ie}function Qi(Ee){var Ue=-1,Ie=Array(Ee.size);return Ee.forEach(function(Ct,rr){Ie[++Ue]=[rr,Ct]}),Ie}function Hn(Ee,Ue){return function(Ie){return Ee(Ue(Ie))}}function To(Ee,Ue){for(var Ie=-1,Ct=Ee.length,rr=0,Nr=[];++Ie<Ct;){var Nn=Ee[Ie];(Nn===Ue||Nn===c)&&(Ee[Ie]=c,Nr[rr++]=Ie)}return Nr}function wc(Ee){var Ue=-1,Ie=Array(Ee.size);return Ee.forEach(function(Ct){Ie[++Ue]=Ct}),Ie}function od(Ee){var Ue=-1,Ie=Array(Ee.size);return Ee.forEach(function(Ct){Ie[++Ue]=[Ct,Ct]}),Ie}function ym(Ee,Ue,Ie){for(var Ct=Ie-1,rr=Ee.length;++Ct<rr;)if(Ee[Ct]===Ue)return Ct;return-1}function sd(Ee,Ue,Ie){for(var Ct=Ie+1;Ct--;)if(Ee[Ct]===Ue)return Ct;return Ct}function Vs(Ee){return aa(Ee)?ld(Ee):pm(Ee)}function Ci(Ee){return aa(Ee)?If(Ee):mm(Ee)}function as(Ee){for(var Ue=Ee.length;Ue--&&oe.test(Ee.charAt(Ue)););return Ue}var _f=Nf(Rr);function ld(Ee){for(var Ue=Ua.lastIndex=0;Ua.test(Ee);)++Ue;return Ue}function If(Ee){return Ee.match(Ua)||[]}function bm(Ee){return Ee.match(na)||[]}var wm=function Ee(Ue){Ue=Ue==null?bn:El.defaults(bn.Object(),Ue,El.pick(bn,gc));var Ie=Ue.Array,Ct=Ue.Date,rr=Ue.Error,Nr=Ue.Function,Nn=Ue.Math,jr=Ue.Object,Qf=Ue.RegExp,km=Ue.String,oa=Ue.TypeError,Ou=Ie.prototype,Sm=Nr.prototype,Ml=jr.prototype,Al=Ue["__core-js_shared__"],kc=Sm.toString,Ir=Ml.hasOwnProperty,xm=0,ud=function(){var f=/[^.]+$/.exec(Al&&Al.keys&&Al.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Sc=Ml.toString,cd=kc.call(jr),fd=bn._,hd=Qf("^"+kc.call(Ir).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xc=Uh?Ue.Buffer:t,Eo=Ue.Symbol,Cc=Ue.Uint8Array,Bf=xc?xc.allocUnsafe:t,m=Hn(jr.getPrototypeOf,jr),S=jr.create,v=Ml.propertyIsEnumerable,k=Ou.splice,E=Eo?Eo.isConcatSpreadable:t,D=Eo?Eo.iterator:t,_=Eo?Eo.toStringTag:t,Q=function(){try{var f=xu(jr,"defineProperty");return f({},"",{}),f}catch{}}(),j=Ue.clearTimeout!==bn.clearTimeout&&Ue.clearTimeout,re=Ct&&Ct.now!==bn.Date.now&&Ct.now,ge=Ue.setTimeout!==bn.setTimeout&&Ue.setTimeout,De=Nn.ceil,Se=Nn.floor,Qe=jr.getOwnPropertySymbols,Ke=xc?xc.isBuffer:t,ht=Ue.isFinite,xt=Ou.join,it=Hn(jr.keys,jr),Ht=Nn.max,Bt=Nn.min,Zt=Ct.now,yr=Ue.parseInt,Br=Nn.random,on=Ou.reverse,Bi=xu(Ue,"DataView"),mn=xu(Ue,"Map"),ii=xu(Ue,"Promise"),sn=xu(Ue,"Set"),Mo=xu(Ue,"WeakMap"),vi=xu(jr,"create"),Ao=Mo&&new Mo,Wn={},Tn=Cu(Bi),Cm=Cu(mn),Tm=Cu(ii),Tc=Cu(sn),Zs=Cu(Mo),yu=Eo?Eo.prototype:t,Dl=yu?yu.valueOf:t,EO=yu?yu.toString:t;function K(f){if(En(f)&&!lr(f)&&!(f instanceof Tr)){if(f instanceof ja)return f;if(Ir.call(f,"__wrapped__"))return My(f)}return new ja(f)}var Ec=function(){function f(){}return function(d){if(!wn(d))return{};if(S)return S(d);f.prototype=d;var w=new f;return f.prototype=t,w}}();function dd(){}function ja(f,d){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}K.templateSettings={escape:se,evaluate:ke,interpolate:$e,variable:"",imports:{_:K}},K.prototype=dd.prototype,K.prototype.constructor=K,ja.prototype=Ec(dd.prototype),ja.prototype.constructor=ja;function Tr(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Rt,this.__views__=[]}function Sk(){var f=new Tr(this.__wrapped__);return f.__actions__=sa(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=sa(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=sa(this.__views__),f}function xk(){if(this.__filtered__){var f=new Tr(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function Ck(){var f=this.__wrapped__.value(),d=this.__dir__,w=lr(f),N=d<0,H=w?f.length:0,ie=IS(0,H,this.__views__),fe=ie.start,we=ie.end,Me=we-fe,Xe=N?we:fe-1,je=this.__iteratees__,et=je.length,wt=0,_t=Bt(Me,this.__takeCount__);if(!w||!N&&H==Me&&_t==Me)return GO(f,this.__actions__);var Gt=[];e:for(;Me--&&wt<_t;){Xe+=d;for(var mr=-1,Kt=f[Xe];++mr<et;){var xr=je[mr],Mr=xr.iteratee,Ma=xr.type,Vi=Mr(Kt);if(Ma==dt)Kt=Vi;else if(!Vi){if(Ma==at)continue e;break e}}Gt[wt++]=Kt}return Gt}Tr.prototype=Ec(dd.prototype),Tr.prototype.constructor=Tr;function bu(f){var d=-1,w=f==null?0:f.length;for(this.clear();++d<w;){var N=f[d];this.set(N[0],N[1])}}function Tk(){this.__data__=vi?vi(null):{},this.size=0}function Ek(f){var d=this.has(f)&&delete this.__data__[f];return this.size-=d?1:0,d}function Mk(f){var d=this.__data__;if(vi){var w=d[f];return w===l?t:w}return Ir.call(d,f)?d[f]:t}function Ak(f){var d=this.__data__;return vi?d[f]!==t:Ir.call(d,f)}function Dk(f,d){var w=this.__data__;return this.size+=this.has(f)?0:1,w[f]=vi&&d===t?l:d,this}bu.prototype.clear=Tk,bu.prototype.delete=Ek,bu.prototype.get=Mk,bu.prototype.has=Ak,bu.prototype.set=Dk;function zs(f){var d=-1,w=f==null?0:f.length;for(this.clear();++d<w;){var N=f[d];this.set(N[0],N[1])}}function Pk(){this.__data__=[],this.size=0}function Rk(f){var d=this.__data__,w=pd(d,f);if(w<0)return!1;var N=d.length-1;return w==N?d.pop():k.call(d,w,1),--this.size,!0}function Nk(f){var d=this.__data__,w=pd(d,f);return w<0?t:d[w][1]}function $k(f){return pd(this.__data__,f)>-1}function Lk(f,d){var w=this.__data__,N=pd(w,f);return N<0?(++this.size,w.push([f,d])):w[N][1]=d,this}zs.prototype.clear=Pk,zs.prototype.delete=Rk,zs.prototype.get=Nk,zs.prototype.has=$k,zs.prototype.set=Lk;function Hs(f){var d=-1,w=f==null?0:f.length;for(this.clear();++d<w;){var N=f[d];this.set(N[0],N[1])}}function _k(){this.size=0,this.__data__={hash:new bu,map:new(mn||zs),string:new bu}}function Ik(f){var d=Td(this,f).delete(f);return this.size-=d?1:0,d}function Qk(f){return Td(this,f).get(f)}function Bk(f){return Td(this,f).has(f)}function qk(f,d){var w=Td(this,f),N=w.size;return w.set(f,d),this.size+=w.size==N?0:1,this}Hs.prototype.clear=_k,Hs.prototype.delete=Ik,Hs.prototype.get=Qk,Hs.prototype.has=Bk,Hs.prototype.set=qk;function wu(f){var d=-1,w=f==null?0:f.length;for(this.__data__=new Hs;++d<w;)this.add(f[d])}function Fk(f){return this.__data__.set(f,l),this}function Vk(f){return this.__data__.has(f)}wu.prototype.add=wu.prototype.push=Fk,wu.prototype.has=Vk;function Do(f){var d=this.__data__=new zs(f);this.size=d.size}function Zk(){this.__data__=new zs,this.size=0}function zk(f){var d=this.__data__,w=d.delete(f);return this.size=d.size,w}function Hk(f){return this.__data__.get(f)}function Wk(f){return this.__data__.has(f)}function Uk(f,d){var w=this.__data__;if(w instanceof zs){var N=w.__data__;if(!mn||N.length<i-1)return N.push([f,d]),this.size=++w.size,this;w=this.__data__=new Hs(N)}return w.set(f,d),this.size=w.size,this}Do.prototype.clear=Zk,Do.prototype.delete=zk,Do.prototype.get=Hk,Do.prototype.has=Wk,Do.prototype.set=Uk;function MO(f,d){var w=lr(f),N=!w&&Tu(f),H=!w&&!N&&Ll(f),ie=!w&&!N&&!H&&Pc(f),fe=w||N||H||ie,we=fe?qs(f.length,km):[],Me=we.length;for(var Xe in f)(d||Ir.call(f,Xe))&&!(fe&&(Xe=="length"||H&&(Xe=="offset"||Xe=="parent")||ie&&(Xe=="buffer"||Xe=="byteLength"||Xe=="byteOffset")||js(Xe,Me)))&&we.push(Xe);return we}function AO(f){var d=f.length;return d?f[Im(0,d-1)]:t}function Xk(f,d){return Ed(sa(f),ku(d,0,f.length))}function jk(f){return Ed(sa(f))}function Em(f,d,w){(w!==t&&!Po(f[d],w)||w===t&&!(d in f))&&Ws(f,d,w)}function qf(f,d,w){var N=f[d];(!(Ir.call(f,d)&&Po(N,w))||w===t&&!(d in f))&&Ws(f,d,w)}function pd(f,d){for(var w=f.length;w--;)if(Po(f[w][0],d))return w;return-1}function Yk(f,d,w,N){return Pl(f,function(H,ie,fe){d(N,H,w(H),fe)}),N}function DO(f,d){return f&&ls(d,ai(d),f)}function Gk(f,d){return f&&ls(d,ua(d),f)}function Ws(f,d,w){d=="__proto__"&&Q?Q(f,d,{configurable:!0,enumerable:!0,value:w,writable:!0}):f[d]=w}function Mm(f,d){for(var w=-1,N=d.length,H=Ie(N),ie=f==null;++w<N;)H[w]=ie?t:lv(f,d[w]);return H}function ku(f,d,w){return f===f&&(w!==t&&(f=f<=w?f:w),d!==t&&(f=f>=d?f:d)),f}function Ya(f,d,w,N,H,ie){var fe,we=d&h,Me=d&p,Xe=d&g;if(w&&(fe=H?w(f,N,H,ie):w(f)),fe!==t)return fe;if(!wn(f))return f;var je=lr(f);if(je){if(fe=BS(f),!we)return sa(f,fe)}else{var et=Ti(f),wt=et==Ze||et==st;if(Ll(f))return ey(f,we);if(et==Cr||et==Sr||wt&&!H){if(fe=Me||wt?{}:yy(f),!we)return Me?MS(f,Gk(fe,f)):ES(f,DO(fe,f))}else{if(!Ce[et])return H?f:{};fe=qS(f,et,we)}}ie||(ie=new Do);var _t=ie.get(f);if(_t)return _t;ie.set(f,fe),Xy(f)?f.forEach(function(Kt){fe.add(Ya(Kt,d,w,Kt,f,ie))}):Wy(f)&&f.forEach(function(Kt,xr){fe.set(xr,Ya(Kt,d,w,xr,f,ie))});var Gt=Xe?Me?Xm:Um:Me?ua:ai,mr=je?t:Gt(f);return xi(mr||f,function(Kt,xr){mr&&(xr=Kt,Kt=f[xr]),qf(fe,xr,Ya(Kt,d,w,xr,f,ie))}),fe}function Kk(f){var d=ai(f);return function(w){return PO(w,f,d)}}function PO(f,d,w){var N=w.length;if(f==null)return!N;for(f=jr(f);N--;){var H=w[N],ie=d[H],fe=f[H];if(fe===t&&!(H in f)||!ie(fe))return!1}return!0}function RO(f,d,w){if(typeof f!="function")throw new oa(o);return Uf(function(){f.apply(t,w)},d)}function Ff(f,d,w,N){var H=-1,ie=Bs,fe=!0,we=f.length,Me=[],Xe=d.length;if(!we)return Me;w&&(d=Kr(d,zn(w))),N?(ie=Af,fe=!1):d.length>=i&&(ie=Cl,fe=!1,d=new wu(d));e:for(;++H<we;){var je=f[H],et=w==null?je:w(je);if(je=N||je!==0?je:0,fe&&et===et){for(var wt=Xe;wt--;)if(d[wt]===et)continue e;Me.push(je)}else ie(d,et,N)||Me.push(je)}return Me}var Pl=ay(ss),NO=ay(Dm,!0);function Jk(f,d){var w=!0;return Pl(f,function(N,H,ie){return w=!!d(N,H,ie),w}),w}function md(f,d,w){for(var N=-1,H=f.length;++N<H;){var ie=f[N],fe=d(ie);if(fe!=null&&(we===t?fe===fe&&!Ea(fe):w(fe,we)))var we=fe,Me=ie}return Me}function eS(f,d,w,N){var H=f.length;for(w=dr(w),w<0&&(w=-w>H?0:H+w),N=N===t||N>H?H:dr(N),N<0&&(N+=H),N=w>N?0:Yy(N);w<N;)f[w++]=d;return f}function $O(f,d){var w=[];return Pl(f,function(N,H,ie){d(N,H,ie)&&w.push(N)}),w}function gi(f,d,w,N,H){var ie=-1,fe=f.length;for(w||(w=VS),H||(H=[]);++ie<fe;){var we=f[ie];d>0&&w(we)?d>1?gi(we,d-1,w,N,H):Ii(H,we):N||(H[H.length]=we)}return H}var Am=oy(),LO=oy(!0);function ss(f,d){return f&&Am(f,d,ai)}function Dm(f,d){return f&&LO(f,d,ai)}function vd(f,d){return is(d,function(w){return Ys(f[w])})}function Su(f,d){d=Nl(d,f);for(var w=0,N=d.length;f!=null&&w<N;)f=f[us(d[w++])];return w&&w==N?f:t}function _O(f,d,w){var N=d(f);return lr(f)?N:Ii(N,w(f))}function qi(f){return f==null?f===t?$i:Yt:_&&_ in jr(f)?_S(f):jS(f)}function Pm(f,d){return f>d}function tS(f,d){return f!=null&&Ir.call(f,d)}function rS(f,d){return f!=null&&d in jr(f)}function nS(f,d,w){return f>=Bt(d,w)&&f<Ht(d,w)}function Rm(f,d,w){for(var N=w?Af:Bs,H=f[0].length,ie=f.length,fe=ie,we=Ie(ie),Me=1/0,Xe=[];fe--;){var je=f[fe];fe&&d&&(je=Kr(je,zn(d))),Me=Bt(je.length,Me),we[fe]=!w&&(d||H>=120&&je.length>=120)?new wu(fe&&je):t}je=f[0];var et=-1,wt=we[0];e:for(;++et<H&&Xe.length<Me;){var _t=je[et],Gt=d?d(_t):_t;if(_t=w||_t!==0?_t:0,!(wt?Cl(wt,Gt):N(Xe,Gt,w))){for(fe=ie;--fe;){var mr=we[fe];if(!(mr?Cl(mr,Gt):N(f[fe],Gt,w)))continue e}wt&&wt.push(Gt),Xe.push(_t)}}return Xe}function iS(f,d,w,N){return ss(f,function(H,ie,fe){d(N,w(H),ie,fe)}),N}function Vf(f,d,w){d=Nl(d,f),f=Sy(f,d);var N=f==null?f:f[us(Ka(d))];return N==null?t:Cn(N,f,w)}function IO(f){return En(f)&&qi(f)==Sr}function aS(f){return En(f)&&qi(f)==ct}function oS(f){return En(f)&&qi(f)==xe}function Zf(f,d,w,N,H){return f===d?!0:f==null||d==null||!En(f)&&!En(d)?f!==f&&d!==d:sS(f,d,w,N,Zf,H)}function sS(f,d,w,N,H,ie){var fe=lr(f),we=lr(d),Me=fe?Le:Ti(f),Xe=we?Le:Ti(d);Me=Me==Sr?Cr:Me,Xe=Xe==Sr?Cr:Xe;var je=Me==Cr,et=Xe==Cr,wt=Me==Xe;if(wt&&Ll(f)){if(!Ll(d))return!1;fe=!0,je=!1}if(wt&&!je)return ie||(ie=new Do),fe||Pc(f)?vy(f,d,w,N,H,ie):$S(f,d,Me,w,N,H,ie);if(!(w&O)){var _t=je&&Ir.call(f,"__wrapped__"),Gt=et&&Ir.call(d,"__wrapped__");if(_t||Gt){var mr=_t?f.value():f,Kt=Gt?d.value():d;return ie||(ie=new Do),H(mr,Kt,w,N,ie)}}return wt?(ie||(ie=new Do),LS(f,d,w,N,H,ie)):!1}function lS(f){return En(f)&&Ti(f)==$t}function Nm(f,d,w,N){var H=w.length,ie=H,fe=!N;if(f==null)return!ie;for(f=jr(f);H--;){var we=w[H];if(fe&&we[2]?we[1]!==f[we[0]]:!(we[0]in f))return!1}for(;++H<ie;){we=w[H];var Me=we[0],Xe=f[Me],je=we[1];if(fe&&we[2]){if(Xe===t&&!(Me in f))return!1}else{var et=new Do;if(N)var wt=N(Xe,je,Me,f,d,et);if(!(wt===t?Zf(je,Xe,O|T,N,et):wt))return!1}}return!0}function QO(f){if(!wn(f)||zS(f))return!1;var d=Ys(f)?hd:x;return d.test(Cu(f))}function uS(f){return En(f)&&qi(f)==Zr}function cS(f){return En(f)&&Ti(f)==Lr}function fS(f){return En(f)&&Nd(f.length)&&!!ft[qi(f)]}function BO(f){return typeof f=="function"?f:f==null?ca:typeof f=="object"?lr(f)?VO(f[0],f[1]):FO(f):sb(f)}function $m(f){if(!Wf(f))return it(f);var d=[];for(var w in jr(f))Ir.call(f,w)&&w!="constructor"&&d.push(w);return d}function hS(f){if(!wn(f))return XS(f);var d=Wf(f),w=[];for(var N in f)N=="constructor"&&(d||!Ir.call(f,N))||w.push(N);return w}function Lm(f,d){return f<d}function qO(f,d){var w=-1,N=la(f)?Ie(f.length):[];return Pl(f,function(H,ie,fe){N[++w]=d(H,ie,fe)}),N}function FO(f){var d=Ym(f);return d.length==1&&d[0][2]?wy(d[0][0],d[0][1]):function(w){return w===f||Nm(w,f,d)}}function VO(f,d){return Km(f)&&by(d)?wy(us(f),d):function(w){var N=lv(w,f);return N===t&&N===d?uv(w,f):Zf(d,N,O|T)}}function gd(f,d,w,N,H){f!==d&&Am(d,function(ie,fe){if(H||(H=new Do),wn(ie))dS(f,d,fe,w,gd,N,H);else{var we=N?N(ev(f,fe),ie,fe+"",f,d,H):t;we===t&&(we=ie),Em(f,fe,we)}},ua)}function dS(f,d,w,N,H,ie,fe){var we=ev(f,w),Me=ev(d,w),Xe=fe.get(Me);if(Xe){Em(f,w,Xe);return}var je=ie?ie(we,Me,w+"",f,d,fe):t,et=je===t;if(et){var wt=lr(Me),_t=!wt&&Ll(Me),Gt=!wt&&!_t&&Pc(Me);je=Me,wt||_t||Gt?lr(we)?je=we:$n(we)?je=sa(we):_t?(et=!1,je=ey(Me,!0)):Gt?(et=!1,je=ty(Me,!0)):je=[]:Xf(Me)||Tu(Me)?(je=we,Tu(we)?je=Gy(we):(!wn(we)||Ys(we))&&(je=yy(Me))):et=!1}et&&(fe.set(Me,je),H(je,Me,N,ie,fe),fe.delete(Me)),Em(f,w,je)}function ZO(f,d){var w=f.length;if(w)return d+=d<0?w:0,js(d,w)?f[d]:t}function zO(f,d,w){d.length?d=Kr(d,function(ie){return lr(ie)?function(fe){return Su(fe,ie.length===1?ie[0]:ie)}:ie}):d=[ca];var N=-1;d=Kr(d,zn(Xt()));var H=qO(f,function(ie,fe,we){var Me=Kr(d,function(Xe){return Xe(ie)});return{criteria:Me,index:++N,value:ie}});return mu(H,function(ie,fe){return TS(ie,fe,w)})}function pS(f,d){return HO(f,d,function(w,N){return uv(f,N)})}function HO(f,d,w){for(var N=-1,H=d.length,ie={};++N<H;){var fe=d[N],we=Su(f,fe);w(we,fe)&&zf(ie,Nl(fe,f),we)}return ie}function mS(f){return function(d){return Su(d,f)}}function _m(f,d,w,N){var H=N?Jh:xl,ie=-1,fe=d.length,we=f;for(f===d&&(d=sa(d)),w&&(we=Kr(f,zn(w)));++ie<fe;)for(var Me=0,Xe=d[ie],je=w?w(Xe):Xe;(Me=H(we,je,Me,N))>-1;)we!==f&&k.call(we,Me,1),k.call(f,Me,1);return f}function WO(f,d){for(var w=f?d.length:0,N=w-1;w--;){var H=d[w];if(w==N||H!==ie){var ie=H;js(H)?k.call(f,H,1):qm(f,H)}}return f}function Im(f,d){return f+Se(Br()*(d-f+1))}function vS(f,d,w,N){for(var H=-1,ie=Ht(De((d-f)/(w||1)),0),fe=Ie(ie);ie--;)fe[N?ie:++H]=f,f+=w;return fe}function Qm(f,d){var w="";if(!f||d<1||d>Vt)return w;do d%2&&(w+=f),d=Se(d/2),d&&(f+=f);while(d);return w}function br(f,d){return tv(ky(f,d,ca),f+"")}function gS(f){return AO(Rc(f))}function OS(f,d){var w=Rc(f);return Ed(w,ku(d,0,w.length))}function zf(f,d,w,N){if(!wn(f))return f;d=Nl(d,f);for(var H=-1,ie=d.length,fe=ie-1,we=f;we!=null&&++H<ie;){var Me=us(d[H]),Xe=w;if(Me==="__proto__"||Me==="constructor"||Me==="prototype")return f;if(H!=fe){var je=we[Me];Xe=N?N(je,Me,we):t,Xe===t&&(Xe=wn(je)?je:js(d[H+1])?[]:{})}qf(we,Me,Xe),we=we[Me]}return f}var UO=Ao?function(f,d){return Ao.set(f,d),f}:ca,yS=Q?function(f,d){return Q(f,"toString",{configurable:!0,enumerable:!1,value:fv(d),writable:!0})}:ca;function bS(f){return Ed(Rc(f))}function Ga(f,d,w){var N=-1,H=f.length;d<0&&(d=-d>H?0:H+d),w=w>H?H:w,w<0&&(w+=H),H=d>w?0:w-d>>>0,d>>>=0;for(var ie=Ie(H);++N<H;)ie[N]=f[N+d];return ie}function wS(f,d){var w;return Pl(f,function(N,H,ie){return w=d(N,H,ie),!w}),!!w}function Od(f,d,w){var N=0,H=f==null?N:f.length;if(typeof d=="number"&&d===d&&H<=tr){for(;N<H;){var ie=N+H>>>1,fe=f[ie];fe!==null&&!Ea(fe)&&(w?fe<=d:fe<d)?N=ie+1:H=ie}return H}return Bm(f,d,ca,w)}function Bm(f,d,w,N){var H=0,ie=f==null?0:f.length;if(ie===0)return 0;d=w(d);for(var fe=d!==d,we=d===null,Me=Ea(d),Xe=d===t;H<ie;){var je=Se((H+ie)/2),et=w(f[je]),wt=et!==t,_t=et===null,Gt=et===et,mr=Ea(et);if(fe)var Kt=N||Gt;else Xe?Kt=Gt&&(N||wt):we?Kt=Gt&&wt&&(N||!_t):Me?Kt=Gt&&wt&&!_t&&(N||!mr):_t||mr?Kt=!1:Kt=N?et<=d:et<d;Kt?H=je+1:ie=je}return Bt(ie,Pt)}function XO(f,d){for(var w=-1,N=f.length,H=0,ie=[];++w<N;){var fe=f[w],we=d?d(fe):fe;if(!w||!Po(we,Me)){var Me=we;ie[H++]=fe===0?0:fe}}return ie}function jO(f){return typeof f=="number"?f:Ea(f)?bt:+f}function Ta(f){if(typeof f=="string")return f;if(lr(f))return Kr(f,Ta)+"";if(Ea(f))return EO?EO.call(f):"";var d=f+"";return d=="0"&&1/f==-1/0?"-0":d}function Rl(f,d,w){var N=-1,H=Bs,ie=f.length,fe=!0,we=[],Me=we;if(w)fe=!1,H=Af;else if(ie>=i){var Xe=d?null:RS(f);if(Xe)return wc(Xe);fe=!1,H=Cl,Me=new wu}else Me=d?[]:we;e:for(;++N<ie;){var je=f[N],et=d?d(je):je;if(je=w||je!==0?je:0,fe&&et===et){for(var wt=Me.length;wt--;)if(Me[wt]===et)continue e;d&&Me.push(et),we.push(je)}else H(Me,et,w)||(Me!==we&&Me.push(et),we.push(je))}return we}function qm(f,d){return d=Nl(d,f),f=Sy(f,d),f==null||delete f[us(Ka(d))]}function YO(f,d,w,N){return zf(f,d,w(Su(f,d)),N)}function yd(f,d,w,N){for(var H=f.length,ie=N?H:-1;(N?ie--:++ie<H)&&d(f[ie],ie,f););return w?Ga(f,N?0:ie,N?ie+1:H):Ga(f,N?ie+1:0,N?H:ie)}function GO(f,d){var w=f;return w instanceof Tr&&(w=w.value()),Df(d,function(N,H){return H.func.apply(H.thisArg,Ii([N],H.args))},w)}function Fm(f,d,w){var N=f.length;if(N<2)return N?Rl(f[0]):[];for(var H=-1,ie=Ie(N);++H<N;)for(var fe=f[H],we=-1;++we<N;)we!=H&&(ie[H]=Ff(ie[H]||fe,f[we],d,w));return Rl(gi(ie,1),d,w)}function KO(f,d,w){for(var N=-1,H=f.length,ie=d.length,fe={};++N<H;){var we=N<ie?d[N]:t;w(fe,f[N],we)}return fe}function Vm(f){return $n(f)?f:[]}function Zm(f){return typeof f=="function"?f:ca}function Nl(f,d){return lr(f)?f:Km(f,d)?[f]:Ey(zr(f))}var kS=br;function $l(f,d,w){var N=f.length;return w=w===t?N:w,!d&&w>=N?f:Ga(f,d,w)}var JO=j||function(f){return bn.clearTimeout(f)};function ey(f,d){if(d)return f.slice();var w=f.length,N=Bf?Bf(w):new f.constructor(w);return f.copy(N),N}function zm(f){var d=new f.constructor(f.byteLength);return new Cc(d).set(new Cc(f)),d}function SS(f,d){var w=d?zm(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.byteLength)}function xS(f){var d=new f.constructor(f.source,Lt.exec(f));return d.lastIndex=f.lastIndex,d}function CS(f){return Dl?jr(Dl.call(f)):{}}function ty(f,d){var w=d?zm(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.length)}function ry(f,d){if(f!==d){var w=f!==t,N=f===null,H=f===f,ie=Ea(f),fe=d!==t,we=d===null,Me=d===d,Xe=Ea(d);if(!we&&!Xe&&!ie&&f>d||ie&&fe&&Me&&!we&&!Xe||N&&fe&&Me||!w&&Me||!H)return 1;if(!N&&!ie&&!Xe&&f<d||Xe&&w&&H&&!N&&!ie||we&&w&&H||!fe&&H||!Me)return-1}return 0}function TS(f,d,w){for(var N=-1,H=f.criteria,ie=d.criteria,fe=H.length,we=w.length;++N<fe;){var Me=ry(H[N],ie[N]);if(Me){if(N>=we)return Me;var Xe=w[N];return Me*(Xe=="desc"?-1:1)}}return f.index-d.index}function ny(f,d,w,N){for(var H=-1,ie=f.length,fe=w.length,we=-1,Me=d.length,Xe=Ht(ie-fe,0),je=Ie(Me+Xe),et=!N;++we<Me;)je[we]=d[we];for(;++H<fe;)(et||H<ie)&&(je[w[H]]=f[H]);for(;Xe--;)je[we++]=f[H++];return je}function iy(f,d,w,N){for(var H=-1,ie=f.length,fe=-1,we=w.length,Me=-1,Xe=d.length,je=Ht(ie-we,0),et=Ie(je+Xe),wt=!N;++H<je;)et[H]=f[H];for(var _t=H;++Me<Xe;)et[_t+Me]=d[Me];for(;++fe<we;)(wt||H<ie)&&(et[_t+w[fe]]=f[H++]);return et}function sa(f,d){var w=-1,N=f.length;for(d||(d=Ie(N));++w<N;)d[w]=f[w];return d}function ls(f,d,w,N){var H=!w;w||(w={});for(var ie=-1,fe=d.length;++ie<fe;){var we=d[ie],Me=N?N(w[we],f[we],we,w,f):t;Me===t&&(Me=f[we]),H?Ws(w,we,Me):qf(w,we,Me)}return w}function ES(f,d){return ls(f,Gm(f),d)}function MS(f,d){return ls(f,gy(f),d)}function bd(f,d){return function(w,N){var H=lr(w)?hm:Yk,ie=d?d():{};return H(w,f,Xt(N,2),ie)}}function Mc(f){return br(function(d,w){var N=-1,H=w.length,ie=H>1?w[H-1]:t,fe=H>2?w[2]:t;for(ie=f.length>3&&typeof ie=="function"?(H--,ie):t,fe&&Fi(w[0],w[1],fe)&&(ie=H<3?t:ie,H=1),d=jr(d);++N<H;){var we=w[N];we&&f(d,we,N,ie)}return d})}function ay(f,d){return function(w,N){if(w==null)return w;if(!la(w))return f(w,N);for(var H=w.length,ie=d?H:-1,fe=jr(w);(d?ie--:++ie<H)&&N(fe[ie],ie,fe)!==!1;);return w}}function oy(f){return function(d,w,N){for(var H=-1,ie=jr(d),fe=N(d),we=fe.length;we--;){var Me=fe[f?we:++H];if(w(ie[Me],Me,ie)===!1)break}return d}}function AS(f,d,w){var N=d&M,H=Hf(f);function ie(){var fe=this&&this!==bn&&this instanceof ie?H:f;return fe.apply(N?w:this,arguments)}return ie}function sy(f){return function(d){d=zr(d);var w=aa(d)?Ci(d):t,N=w?w[0]:d.charAt(0),H=w?$l(w,1).join(""):d.slice(1);return N[f]()+H}}function Ac(f){return function(d){return Df(ab(ib(d).replace(kl,"")),f,"")}}function Hf(f){return function(){var d=arguments;switch(d.length){case 0:return new f;case 1:return new f(d[0]);case 2:return new f(d[0],d[1]);case 3:return new f(d[0],d[1],d[2]);case 4:return new f(d[0],d[1],d[2],d[3]);case 5:return new f(d[0],d[1],d[2],d[3],d[4]);case 6:return new f(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new f(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var w=Ec(f.prototype),N=f.apply(w,d);return wn(N)?N:w}}function DS(f,d,w){var N=Hf(f);function H(){for(var ie=arguments.length,fe=Ie(ie),we=ie,Me=Dc(H);we--;)fe[we]=arguments[we];var Xe=ie<3&&fe[0]!==Me&&fe[ie-1]!==Me?[]:To(fe,Me);if(ie-=Xe.length,ie<w)return hy(f,d,wd,H.placeholder,t,fe,Xe,t,t,w-ie);var je=this&&this!==bn&&this instanceof H?N:f;return Cn(je,this,fe)}return H}function ly(f){return function(d,w,N){var H=jr(d);if(!la(d)){var ie=Xt(w,3);d=ai(d),w=function(we){return ie(H[we],we,H)}}var fe=f(d,w,N);return fe>-1?H[ie?d[fe]:fe]:t}}function uy(f){return Xs(function(d){var w=d.length,N=w,H=ja.prototype.thru;for(f&&d.reverse();N--;){var ie=d[N];if(typeof ie!="function")throw new oa(o);if(H&&!fe&&Cd(ie)=="wrapper")var fe=new ja([],!0)}for(N=fe?N:w;++N<w;){ie=d[N];var we=Cd(ie),Me=we=="wrapper"?jm(ie):t;Me&&Jm(Me[0])&&Me[1]==(le|U|J|pe)&&!Me[4].length&&Me[9]==1?fe=fe[Cd(Me[0])].apply(fe,Me[3]):fe=ie.length==1&&Jm(ie)?fe[we]():fe.thru(ie)}return function(){var Xe=arguments,je=Xe[0];if(fe&&Xe.length==1&&lr(je))return fe.plant(je).value();for(var et=0,wt=w?d[et].apply(this,Xe):je;++et<w;)wt=d[et].call(this,wt);return wt}})}function wd(f,d,w,N,H,ie,fe,we,Me,Xe){var je=d&le,et=d&M,wt=d&R,_t=d&(U|G),Gt=d&be,mr=wt?t:Hf(f);function Kt(){for(var xr=arguments.length,Mr=Ie(xr),Ma=xr;Ma--;)Mr[Ma]=arguments[Ma];if(_t)var Vi=Dc(Kt),Aa=id(Mr,Vi);if(N&&(Mr=ny(Mr,N,H,_t)),ie&&(Mr=iy(Mr,ie,fe,_t)),xr-=Aa,_t&&xr<Xe){var Ln=To(Mr,Vi);return hy(f,d,wd,Kt.placeholder,w,Mr,Ln,we,Me,Xe-xr)}var Ro=et?w:this,Ks=wt?Ro[f]:f;return xr=Mr.length,we?Mr=YS(Mr,we):Gt&&xr>1&&Mr.reverse(),je&&Me<xr&&(Mr.length=Me),this&&this!==bn&&this instanceof Kt&&(Ks=mr||Hf(Ks)),Ks.apply(Ro,Mr)}return Kt}function cy(f,d){return function(w,N){return iS(w,f,d(N),{})}}function kd(f,d){return function(w,N){var H;if(w===t&&N===t)return d;if(w!==t&&(H=w),N!==t){if(H===t)return N;typeof w=="string"||typeof N=="string"?(w=Ta(w),N=Ta(N)):(w=jO(w),N=jO(N)),H=f(w,N)}return H}}function Hm(f){return Xs(function(d){return d=Kr(d,zn(Xt())),br(function(w){var N=this;return f(d,function(H){return Cn(H,N,w)})})})}function Sd(f,d){d=d===t?" ":Ta(d);var w=d.length;if(w<2)return w?Qm(d,f):d;var N=Qm(d,De(f/Vs(d)));return aa(d)?$l(Ci(N),0,f).join(""):N.slice(0,f)}function PS(f,d,w,N){var H=d&M,ie=Hf(f);function fe(){for(var we=-1,Me=arguments.length,Xe=-1,je=N.length,et=Ie(je+Me),wt=this&&this!==bn&&this instanceof fe?ie:f;++Xe<je;)et[Xe]=N[Xe];for(;Me--;)et[Xe++]=arguments[++we];return Cn(wt,H?w:this,et)}return fe}function fy(f){return function(d,w,N){return N&&typeof N!="number"&&Fi(d,w,N)&&(w=N=t),d=Gs(d),w===t?(w=d,d=0):w=Gs(w),N=N===t?d<w?1:-1:Gs(N),vS(d,w,N,f)}}function xd(f){return function(d,w){return typeof d=="string"&&typeof w=="string"||(d=Ja(d),w=Ja(w)),f(d,w)}}function hy(f,d,w,N,H,ie,fe,we,Me,Xe){var je=d&U,et=je?fe:t,wt=je?t:fe,_t=je?ie:t,Gt=je?t:ie;d|=je?J:ee,d&=~(je?ee:J),d&z||(d&=-4);var mr=[f,d,H,_t,et,Gt,wt,we,Me,Xe],Kt=w.apply(t,mr);return Jm(f)&&xy(Kt,mr),Kt.placeholder=N,Cy(Kt,f,d)}function Wm(f){var d=Nn[f];return function(w,N){if(w=Ja(w),N=N==null?0:Bt(dr(N),292),N&&ht(w)){var H=(zr(w)+"e").split("e"),ie=d(H[0]+"e"+(+H[1]+N));return H=(zr(ie)+"e").split("e"),+(H[0]+"e"+(+H[1]-N))}return d(w)}}var RS=sn&&1/wc(new sn([,-0]))[1]==Qt?function(f){return new sn(f)}:pv;function dy(f){return function(d){var w=Ti(d);return w==$t?Qi(d):w==Lr?od(d):gm(d,f(d))}}function Us(f,d,w,N,H,ie,fe,we){var Me=d&R;if(!Me&&typeof f!="function")throw new oa(o);var Xe=N?N.length:0;if(Xe||(d&=-97,N=H=t),fe=fe===t?fe:Ht(dr(fe),0),we=we===t?we:dr(we),Xe-=H?H.length:0,d&ee){var je=N,et=H;N=H=t}var wt=Me?t:jm(f),_t=[f,d,w,N,H,je,et,ie,fe,we];if(wt&&US(_t,wt),f=_t[0],d=_t[1],w=_t[2],N=_t[3],H=_t[4],we=_t[9]=_t[9]===t?Me?0:f.length:Ht(_t[9]-Xe,0),!we&&d&(U|G)&&(d&=-25),!d||d==M)var Gt=AS(f,d,w);else d==U||d==G?Gt=DS(f,d,we):(d==J||d==(M|J))&&!H.length?Gt=PS(f,d,w,N):Gt=wd.apply(t,_t);var mr=wt?UO:xy;return Cy(mr(Gt,_t),f,d)}function py(f,d,w,N){return f===t||Po(f,Ml[w])&&!Ir.call(N,w)?d:f}function my(f,d,w,N,H,ie){return wn(f)&&wn(d)&&(ie.set(d,f),gd(f,d,t,my,ie),ie.delete(d)),f}function NS(f){return Xf(f)?t:f}function vy(f,d,w,N,H,ie){var fe=w&O,we=f.length,Me=d.length;if(we!=Me&&!(fe&&Me>we))return!1;var Xe=ie.get(f),je=ie.get(d);if(Xe&&je)return Xe==d&&je==f;var et=-1,wt=!0,_t=w&T?new wu:t;for(ie.set(f,d),ie.set(d,f);++et<we;){var Gt=f[et],mr=d[et];if(N)var Kt=fe?N(mr,Gt,et,d,f,ie):N(Gt,mr,et,f,d,ie);if(Kt!==t){if(Kt)continue;wt=!1;break}if(_t){if(!Pf(d,function(xr,Mr){if(!Cl(_t,Mr)&&(Gt===xr||H(Gt,xr,w,N,ie)))return _t.push(Mr)})){wt=!1;break}}else if(!(Gt===mr||H(Gt,mr,w,N,ie))){wt=!1;break}}return ie.delete(f),ie.delete(d),wt}function $S(f,d,w,N,H,ie,fe){switch(w){case pt:if(f.byteLength!=d.byteLength||f.byteOffset!=d.byteOffset)return!1;f=f.buffer,d=d.buffer;case ct:return!(f.byteLength!=d.byteLength||!ie(new Cc(f),new Cc(d)));case ve:case xe:case Jt:return Po(+f,+d);case Be:return f.name==d.name&&f.message==d.message;case Zr:case pr:return f==d+"";case $t:var we=Qi;case Lr:var Me=N&O;if(we||(we=wc),f.size!=d.size&&!Me)return!1;var Xe=fe.get(f);if(Xe)return Xe==d;N|=T,fe.set(f,d);var je=vy(we(f),we(d),N,H,ie,fe);return fe.delete(f),je;case tn:if(Dl)return Dl.call(f)==Dl.call(d)}return!1}function LS(f,d,w,N,H,ie){var fe=w&O,we=Um(f),Me=we.length,Xe=Um(d),je=Xe.length;if(Me!=je&&!fe)return!1;for(var et=Me;et--;){var wt=we[et];if(!(fe?wt in d:Ir.call(d,wt)))return!1}var _t=ie.get(f),Gt=ie.get(d);if(_t&&Gt)return _t==d&&Gt==f;var mr=!0;ie.set(f,d),ie.set(d,f);for(var Kt=fe;++et<Me;){wt=we[et];var xr=f[wt],Mr=d[wt];if(N)var Ma=fe?N(Mr,xr,wt,d,f,ie):N(xr,Mr,wt,f,d,ie);if(!(Ma===t?xr===Mr||H(xr,Mr,w,N,ie):Ma)){mr=!1;break}Kt||(Kt=wt=="constructor")}if(mr&&!Kt){var Vi=f.constructor,Aa=d.constructor;Vi!=Aa&&"constructor"in f&&"constructor"in d&&!(typeof Vi=="function"&&Vi instanceof Vi&&typeof Aa=="function"&&Aa instanceof Aa)&&(mr=!1)}return ie.delete(f),ie.delete(d),mr}function Xs(f){return tv(ky(f,t,Py),f+"")}function Um(f){return _O(f,ai,Gm)}function Xm(f){return _O(f,ua,gy)}var jm=Ao?function(f){return Ao.get(f)}:pv;function Cd(f){for(var d=f.name+"",w=Wn[d],N=Ir.call(Wn,d)?w.length:0;N--;){var H=w[N],ie=H.func;if(ie==null||ie==f)return H.name}return d}function Dc(f){var d=Ir.call(K,"placeholder")?K:f;return d.placeholder}function Xt(){var f=K.iteratee||hv;return f=f===hv?BO:f,arguments.length?f(arguments[0],arguments[1]):f}function Td(f,d){var w=f.__data__;return ZS(d)?w[typeof d=="string"?"string":"hash"]:w.map}function Ym(f){for(var d=ai(f),w=d.length;w--;){var N=d[w],H=f[N];d[w]=[N,H,by(H)]}return d}function xu(f,d){var w=Om(f,d);return QO(w)?w:t}function _S(f){var d=Ir.call(f,_),w=f[_];try{f[_]=t;var N=!0}catch{}var H=Sc.call(f);return N&&(d?f[_]=w:delete f[_]),H}var Gm=Qe?function(f){return f==null?[]:(f=jr(f),is(Qe(f),function(d){return v.call(f,d)}))}:mv,gy=Qe?function(f){for(var d=[];f;)Ii(d,Gm(f)),f=m(f);return d}:mv,Ti=qi;(Bi&&Ti(new Bi(new ArrayBuffer(1)))!=pt||mn&&Ti(new mn)!=$t||ii&&Ti(ii.resolve())!=sr||sn&&Ti(new sn)!=Lr||Mo&&Ti(new Mo)!=On)&&(Ti=function(f){var d=qi(f),w=d==Cr?f.constructor:t,N=w?Cu(w):"";if(N)switch(N){case Tn:return pt;case Cm:return $t;case Tm:return sr;case Tc:return Lr;case Zs:return On}return d});function IS(f,d,w){for(var N=-1,H=w.length;++N<H;){var ie=w[N],fe=ie.size;switch(ie.type){case"drop":f+=fe;break;case"dropRight":d-=fe;break;case"take":d=Bt(d,f+fe);break;case"takeRight":f=Ht(f,d-fe);break}}return{start:f,end:d}}function QS(f){var d=f.match(qe);return d?d[1].split(me):[]}function Oy(f,d,w){d=Nl(d,f);for(var N=-1,H=d.length,ie=!1;++N<H;){var fe=us(d[N]);if(!(ie=f!=null&&w(f,fe)))break;f=f[fe]}return ie||++N!=H?ie:(H=f==null?0:f.length,!!H&&Nd(H)&&js(fe,H)&&(lr(f)||Tu(f)))}function BS(f){var d=f.length,w=new f.constructor(d);return d&&typeof f[0]=="string"&&Ir.call(f,"index")&&(w.index=f.index,w.input=f.input),w}function yy(f){return typeof f.constructor=="function"&&!Wf(f)?Ec(m(f)):{}}function qS(f,d,w){var N=f.constructor;switch(d){case ct:return zm(f);case ve:case xe:return new N(+f);case pt:return SS(f,w);case Ft:case er:case Or:case pn:case _r:case Xr:case ur:case Zn:case rn:return ty(f,w);case $t:return new N;case Jt:case pr:return new N(f);case Zr:return xS(f);case Lr:return new N;case tn:return CS(f)}}function FS(f,d){var w=d.length;if(!w)return f;var N=w-1;return d[N]=(w>1?"& ":"")+d[N],d=d.join(w>2?", ":" "),f.replace(Te,`{
/* [wrapped with `+d+`] */
`)}function VS(f){return lr(f)||Tu(f)||!!(E&&f&&f[E])}function js(f,d){var w=typeof f;return d=d??Vt,!!d&&(w=="number"||w!="symbol"&&I.test(f))&&f>-1&&f%1==0&&f<d}function Fi(f,d,w){if(!wn(w))return!1;var N=typeof d;return(N=="number"?la(w)&&js(d,w.length):N=="string"&&d in w)?Po(w[d],f):!1}function Km(f,d){if(lr(f))return!1;var w=typeof f;return w=="number"||w=="symbol"||w=="boolean"||f==null||Ea(f)?!0:X.test(f)||!W.test(f)||d!=null&&f in jr(d)}function ZS(f){var d=typeof f;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?f!=="__proto__":f===null}function Jm(f){var d=Cd(f),w=K[d];if(typeof w!="function"||!(d in Tr.prototype))return!1;if(f===w)return!0;var N=jm(w);return!!N&&f===N[0]}function zS(f){return!!ud&&ud in f}var HS=Al?Ys:vv;function Wf(f){var d=f&&f.constructor,w=typeof d=="function"&&d.prototype||Ml;return f===w}function by(f){return f===f&&!wn(f)}function wy(f,d){return function(w){return w==null?!1:w[f]===d&&(d!==t||f in jr(w))}}function WS(f){var d=Pd(f,function(N){return w.size===u&&w.clear(),N}),w=d.cache;return d}function US(f,d){var w=f[1],N=d[1],H=w|N,ie=H<(M|R|le),fe=N==le&&w==U||N==le&&w==pe&&f[7].length<=d[8]||N==(le|pe)&&d[7].length<=d[8]&&w==U;if(!(ie||fe))return f;N&M&&(f[2]=d[2],H|=w&M?0:z);var we=d[3];if(we){var Me=f[3];f[3]=Me?ny(Me,we,d[4]):we,f[4]=Me?To(f[3],c):d[4]}return we=d[5],we&&(Me=f[5],f[5]=Me?iy(Me,we,d[6]):we,f[6]=Me?To(f[5],c):d[6]),we=d[7],we&&(f[7]=we),N&le&&(f[8]=f[8]==null?d[8]:Bt(f[8],d[8])),f[9]==null&&(f[9]=d[9]),f[0]=d[0],f[1]=H,f}function XS(f){var d=[];if(f!=null)for(var w in jr(f))d.push(w);return d}function jS(f){return Sc.call(f)}function ky(f,d,w){return d=Ht(d===t?f.length-1:d,0),function(){for(var N=arguments,H=-1,ie=Ht(N.length-d,0),fe=Ie(ie);++H<ie;)fe[H]=N[d+H];H=-1;for(var we=Ie(d+1);++H<d;)we[H]=N[H];return we[d]=w(fe),Cn(f,this,we)}}function Sy(f,d){return d.length<2?f:Su(f,Ga(d,0,-1))}function YS(f,d){for(var w=f.length,N=Bt(d.length,w),H=sa(f);N--;){var ie=d[N];f[N]=js(ie,w)?H[ie]:t}return f}function ev(f,d){if(!(d==="constructor"&&typeof f[d]=="function")&&d!="__proto__")return f[d]}var xy=Ty(UO),Uf=ge||function(f,d){return bn.setTimeout(f,d)},tv=Ty(yS);function Cy(f,d,w){var N=d+"";return tv(f,FS(N,GS(QS(N),w)))}function Ty(f){var d=0,w=0;return function(){var N=Zt(),H=ot-(N-w);if(w=N,H>0){if(++d>=_e)return arguments[0]}else d=0;return f.apply(t,arguments)}}function Ed(f,d){var w=-1,N=f.length,H=N-1;for(d=d===t?N:d;++w<d;){var ie=Im(w,H),fe=f[ie];f[ie]=f[w],f[w]=fe}return f.length=d,f}var Ey=WS(function(f){var d=[];return f.charCodeAt(0)===46&&d.push(""),f.replace(B,function(w,N,H,ie){d.push(H?ie.replace(Ve,"$1"):N||w)}),d});function us(f){if(typeof f=="string"||Ea(f))return f;var d=f+"";return d=="0"&&1/f==-1/0?"-0":d}function Cu(f){if(f!=null){try{return kc.call(f)}catch{}try{return f+""}catch{}}return""}function GS(f,d){return xi(or,function(w){var N="_."+w[0];d&w[1]&&!Bs(f,N)&&f.push(N)}),f.sort()}function My(f){if(f instanceof Tr)return f.clone();var d=new ja(f.__wrapped__,f.__chain__);return d.__actions__=sa(f.__actions__),d.__index__=f.__index__,d.__values__=f.__values__,d}function KS(f,d,w){(w?Fi(f,d,w):d===t)?d=1:d=Ht(dr(d),0);var N=f==null?0:f.length;if(!N||d<1)return[];for(var H=0,ie=0,fe=Ie(De(N/d));H<N;)fe[ie++]=Ga(f,H,H+=d);return fe}function JS(f){for(var d=-1,w=f==null?0:f.length,N=0,H=[];++d<w;){var ie=f[d];ie&&(H[N++]=ie)}return H}function ex(){var f=arguments.length;if(!f)return[];for(var d=Ie(f-1),w=arguments[0],N=f;N--;)d[N-1]=arguments[N];return Ii(lr(w)?sa(w):[w],gi(d,1))}var tx=br(function(f,d){return $n(f)?Ff(f,gi(d,1,$n,!0)):[]}),rx=br(function(f,d){var w=Ka(d);return $n(w)&&(w=t),$n(f)?Ff(f,gi(d,1,$n,!0),Xt(w,2)):[]}),nx=br(function(f,d){var w=Ka(d);return $n(w)&&(w=t),$n(f)?Ff(f,gi(d,1,$n,!0),t,w):[]});function ix(f,d,w){var N=f==null?0:f.length;return N?(d=w||d===t?1:dr(d),Ga(f,d<0?0:d,N)):[]}function ax(f,d,w){var N=f==null?0:f.length;return N?(d=w||d===t?1:dr(d),d=N-d,Ga(f,0,d<0?0:d)):[]}function ox(f,d){return f&&f.length?yd(f,Xt(d,3),!0,!0):[]}function sx(f,d){return f&&f.length?yd(f,Xt(d,3),!0):[]}function lx(f,d,w,N){var H=f==null?0:f.length;return H?(w&&typeof w!="number"&&Fi(f,d,w)&&(w=0,N=H),eS(f,d,w,N)):[]}function Ay(f,d,w){var N=f==null?0:f.length;if(!N)return-1;var H=w==null?0:dr(w);return H<0&&(H=Ht(N+H,0)),pu(f,Xt(d,3),H)}function Dy(f,d,w){var N=f==null?0:f.length;if(!N)return-1;var H=N-1;return w!==t&&(H=dr(w),H=w<0?Ht(N+H,0):Bt(H,N-1)),pu(f,Xt(d,3),H,!0)}function Py(f){var d=f==null?0:f.length;return d?gi(f,1):[]}function ux(f){var d=f==null?0:f.length;return d?gi(f,Qt):[]}function cx(f,d){var w=f==null?0:f.length;return w?(d=d===t?1:dr(d),gi(f,d)):[]}function fx(f){for(var d=-1,w=f==null?0:f.length,N={};++d<w;){var H=f[d];N[H[0]]=H[1]}return N}function Ry(f){return f&&f.length?f[0]:t}function hx(f,d,w){var N=f==null?0:f.length;if(!N)return-1;var H=w==null?0:dr(w);return H<0&&(H=Ht(N+H,0)),xl(f,d,H)}function dx(f){var d=f==null?0:f.length;return d?Ga(f,0,-1):[]}var px=br(function(f){var d=Kr(f,Vm);return d.length&&d[0]===f[0]?Rm(d):[]}),mx=br(function(f){var d=Ka(f),w=Kr(f,Vm);return d===Ka(w)?d=t:w.pop(),w.length&&w[0]===f[0]?Rm(w,Xt(d,2)):[]}),vx=br(function(f){var d=Ka(f),w=Kr(f,Vm);return d=typeof d=="function"?d:t,d&&w.pop(),w.length&&w[0]===f[0]?Rm(w,t,d):[]});function gx(f,d){return f==null?"":xt.call(f,d)}function Ka(f){var d=f==null?0:f.length;return d?f[d-1]:t}function Ox(f,d,w){var N=f==null?0:f.length;if(!N)return-1;var H=N;return w!==t&&(H=dr(w),H=H<0?Ht(N+H,0):Bt(H,N-1)),d===d?sd(f,d,H):pu(f,ed,H,!0)}function yx(f,d){return f&&f.length?ZO(f,dr(d)):t}var bx=br(Ny);function Ny(f,d){return f&&f.length&&d&&d.length?_m(f,d):f}function wx(f,d,w){return f&&f.length&&d&&d.length?_m(f,d,Xt(w,2)):f}function kx(f,d,w){return f&&f.length&&d&&d.length?_m(f,d,t,w):f}var Sx=Xs(function(f,d){var w=f==null?0:f.length,N=Mm(f,d);return WO(f,Kr(d,function(H){return js(H,w)?+H:H}).sort(ry)),N});function xx(f,d){var w=[];if(!(f&&f.length))return w;var N=-1,H=[],ie=f.length;for(d=Xt(d,3);++N<ie;){var fe=f[N];d(fe,N,f)&&(w.push(fe),H.push(N))}return WO(f,H),w}function rv(f){return f==null?f:on.call(f)}function Cx(f,d,w){var N=f==null?0:f.length;return N?(w&&typeof w!="number"&&Fi(f,d,w)?(d=0,w=N):(d=d==null?0:dr(d),w=w===t?N:dr(w)),Ga(f,d,w)):[]}function Tx(f,d){return Od(f,d)}function Ex(f,d,w){return Bm(f,d,Xt(w,2))}function Mx(f,d){var w=f==null?0:f.length;if(w){var N=Od(f,d);if(N<w&&Po(f[N],d))return N}return-1}function Ax(f,d){return Od(f,d,!0)}function Dx(f,d,w){return Bm(f,d,Xt(w,2),!0)}function Px(f,d){var w=f==null?0:f.length;if(w){var N=Od(f,d,!0)-1;if(Po(f[N],d))return N}return-1}function Rx(f){return f&&f.length?XO(f):[]}function Nx(f,d){return f&&f.length?XO(f,Xt(d,2)):[]}function $x(f){var d=f==null?0:f.length;return d?Ga(f,1,d):[]}function Lx(f,d,w){return f&&f.length?(d=w||d===t?1:dr(d),Ga(f,0,d<0?0:d)):[]}function _x(f,d,w){var N=f==null?0:f.length;return N?(d=w||d===t?1:dr(d),d=N-d,Ga(f,d<0?0:d,N)):[]}function Ix(f,d){return f&&f.length?yd(f,Xt(d,3),!1,!0):[]}function Qx(f,d){return f&&f.length?yd(f,Xt(d,3)):[]}var Bx=br(function(f){return Rl(gi(f,1,$n,!0))}),qx=br(function(f){var d=Ka(f);return $n(d)&&(d=t),Rl(gi(f,1,$n,!0),Xt(d,2))}),Fx=br(function(f){var d=Ka(f);return d=typeof d=="function"?d:t,Rl(gi(f,1,$n,!0),t,d)});function Vx(f){return f&&f.length?Rl(f):[]}function Zx(f,d){return f&&f.length?Rl(f,Xt(d,2)):[]}function zx(f,d){return d=typeof d=="function"?d:t,f&&f.length?Rl(f,t,d):[]}function nv(f){if(!(f&&f.length))return[];var d=0;return f=is(f,function(w){if($n(w))return d=Ht(w.length,d),!0}),qs(d,function(w){return Kr(f,yc(w))})}function $y(f,d){if(!(f&&f.length))return[];var w=nv(f);return d==null?w:Kr(w,function(N){return Cn(d,t,N)})}var Hx=br(function(f,d){return $n(f)?Ff(f,d):[]}),Wx=br(function(f){return Fm(is(f,$n))}),Ux=br(function(f){var d=Ka(f);return $n(d)&&(d=t),Fm(is(f,$n),Xt(d,2))}),Xx=br(function(f){var d=Ka(f);return d=typeof d=="function"?d:t,Fm(is(f,$n),t,d)}),jx=br(nv);function Yx(f,d){return KO(f||[],d||[],qf)}function Gx(f,d){return KO(f||[],d||[],zf)}var Kx=br(function(f){var d=f.length,w=d>1?f[d-1]:t;return w=typeof w=="function"?(f.pop(),w):t,$y(f,w)});function Ly(f){var d=K(f);return d.__chain__=!0,d}function Jx(f,d){return d(f),f}function Md(f,d){return d(f)}var eC=Xs(function(f){var d=f.length,w=d?f[0]:0,N=this.__wrapped__,H=function(ie){return Mm(ie,f)};return d>1||this.__actions__.length||!(N instanceof Tr)||!js(w)?this.thru(H):(N=N.slice(w,+w+(d?1:0)),N.__actions__.push({func:Md,args:[H],thisArg:t}),new ja(N,this.__chain__).thru(function(ie){return d&&!ie.length&&ie.push(t),ie}))});function tC(){return Ly(this)}function rC(){return new ja(this.value(),this.__chain__)}function nC(){this.__values__===t&&(this.__values__=jy(this.value()));var f=this.__index__>=this.__values__.length,d=f?t:this.__values__[this.__index__++];return{done:f,value:d}}function iC(){return this}function aC(f){for(var d,w=this;w instanceof dd;){var N=My(w);N.__index__=0,N.__values__=t,d?H.__wrapped__=N:d=N;var H=N;w=w.__wrapped__}return H.__wrapped__=f,d}function oC(){var f=this.__wrapped__;if(f instanceof Tr){var d=f;return this.__actions__.length&&(d=new Tr(this)),d=d.reverse(),d.__actions__.push({func:Md,args:[rv],thisArg:t}),new ja(d,this.__chain__)}return this.thru(rv)}function sC(){return GO(this.__wrapped__,this.__actions__)}var lC=bd(function(f,d,w){Ir.call(f,w)?++f[w]:Ws(f,w,1)});function uC(f,d,w){var N=lr(f)?Kh:Jk;return w&&Fi(f,d,w)&&(d=t),N(f,Xt(d,3))}function cC(f,d){var w=lr(f)?is:$O;return w(f,Xt(d,3))}var fC=ly(Ay),hC=ly(Dy);function dC(f,d){return gi(Ad(f,d),1)}function pC(f,d){return gi(Ad(f,d),Qt)}function mC(f,d,w){return w=w===t?1:dr(w),gi(Ad(f,d),w)}function _y(f,d){var w=lr(f)?xi:Pl;return w(f,Xt(d,3))}function Iy(f,d){var w=lr(f)?Mf:NO;return w(f,Xt(d,3))}var vC=bd(function(f,d,w){Ir.call(f,w)?f[w].push(d):Ws(f,w,[d])});function gC(f,d,w,N){f=la(f)?f:Rc(f),w=w&&!N?dr(w):0;var H=f.length;return w<0&&(w=Ht(H+w,0)),$d(f)?w<=H&&f.indexOf(d,w)>-1:!!H&&xl(f,d,w)>-1}var OC=br(function(f,d,w){var N=-1,H=typeof d=="function",ie=la(f)?Ie(f.length):[];return Pl(f,function(fe){ie[++N]=H?Cn(d,fe,w):Vf(fe,d,w)}),ie}),yC=bd(function(f,d,w){Ws(f,w,d)});function Ad(f,d){var w=lr(f)?Kr:qO;return w(f,Xt(d,3))}function bC(f,d,w,N){return f==null?[]:(lr(d)||(d=d==null?[]:[d]),w=N?t:w,lr(w)||(w=w==null?[]:[w]),zO(f,d,w))}var wC=bd(function(f,d,w){f[w?0:1].push(d)},function(){return[[],[]]});function kC(f,d,w){var N=lr(f)?Df:td,H=arguments.length<3;return N(f,Xt(d,4),w,H,Pl)}function SC(f,d,w){var N=lr(f)?dm:td,H=arguments.length<3;return N(f,Xt(d,4),w,H,NO)}function xC(f,d){var w=lr(f)?is:$O;return w(f,Rd(Xt(d,3)))}function CC(f){var d=lr(f)?AO:gS;return d(f)}function TC(f,d,w){(w?Fi(f,d,w):d===t)?d=1:d=dr(d);var N=lr(f)?Xk:OS;return N(f,d)}function EC(f){var d=lr(f)?jk:bS;return d(f)}function MC(f){if(f==null)return 0;if(la(f))return $d(f)?Vs(f):f.length;var d=Ti(f);return d==$t||d==Lr?f.size:$m(f).length}function AC(f,d,w){var N=lr(f)?Pf:wS;return w&&Fi(f,d,w)&&(d=t),N(f,Xt(d,3))}var DC=br(function(f,d){if(f==null)return[];var w=d.length;return w>1&&Fi(f,d[0],d[1])?d=[]:w>2&&Fi(d[0],d[1],d[2])&&(d=[d[0]]),zO(f,gi(d,1),[])}),Dd=re||function(){return bn.Date.now()};function PC(f,d){if(typeof d!="function")throw new oa(o);return f=dr(f),function(){if(--f<1)return d.apply(this,arguments)}}function Qy(f,d,w){return d=w?t:d,d=f&&d==null?f.length:d,Us(f,le,t,t,t,t,d)}function By(f,d){var w;if(typeof d!="function")throw new oa(o);return f=dr(f),function(){return--f>0&&(w=d.apply(this,arguments)),f<=1&&(d=t),w}}var iv=br(function(f,d,w){var N=M;if(w.length){var H=To(w,Dc(iv));N|=J}return Us(f,N,d,w,H)}),qy=br(function(f,d,w){var N=M|R;if(w.length){var H=To(w,Dc(qy));N|=J}return Us(d,N,f,w,H)});function Fy(f,d,w){d=w?t:d;var N=Us(f,U,t,t,t,t,t,d);return N.placeholder=Fy.placeholder,N}function Vy(f,d,w){d=w?t:d;var N=Us(f,G,t,t,t,t,t,d);return N.placeholder=Vy.placeholder,N}function Zy(f,d,w){var N,H,ie,fe,we,Me,Xe=0,je=!1,et=!1,wt=!0;if(typeof f!="function")throw new oa(o);d=Ja(d)||0,wn(w)&&(je=!!w.leading,et="maxWait"in w,ie=et?Ht(Ja(w.maxWait)||0,d):ie,wt="trailing"in w?!!w.trailing:wt);function _t(Ln){var Ro=N,Ks=H;return N=H=t,Xe=Ln,fe=f.apply(Ks,Ro),fe}function Gt(Ln){return Xe=Ln,we=Uf(xr,d),je?_t(Ln):fe}function mr(Ln){var Ro=Ln-Me,Ks=Ln-Xe,lb=d-Ro;return et?Bt(lb,ie-Ks):lb}function Kt(Ln){var Ro=Ln-Me,Ks=Ln-Xe;return Me===t||Ro>=d||Ro<0||et&&Ks>=ie}function xr(){var Ln=Dd();if(Kt(Ln))return Mr(Ln);we=Uf(xr,mr(Ln))}function Mr(Ln){return we=t,wt&&N?_t(Ln):(N=H=t,fe)}function Ma(){we!==t&&JO(we),Xe=0,N=Me=H=we=t}function Vi(){return we===t?fe:Mr(Dd())}function Aa(){var Ln=Dd(),Ro=Kt(Ln);if(N=arguments,H=this,Me=Ln,Ro){if(we===t)return Gt(Me);if(et)return JO(we),we=Uf(xr,d),_t(Me)}return we===t&&(we=Uf(xr,d)),fe}return Aa.cancel=Ma,Aa.flush=Vi,Aa}var RC=br(function(f,d){return RO(f,1,d)}),NC=br(function(f,d,w){return RO(f,Ja(d)||0,w)});function $C(f){return Us(f,be)}function Pd(f,d){if(typeof f!="function"||d!=null&&typeof d!="function")throw new oa(o);var w=function(){var N=arguments,H=d?d.apply(this,N):N[0],ie=w.cache;if(ie.has(H))return ie.get(H);var fe=f.apply(this,N);return w.cache=ie.set(H,fe)||ie,fe};return w.cache=new(Pd.Cache||Hs),w}Pd.Cache=Hs;function Rd(f){if(typeof f!="function")throw new oa(o);return function(){var d=arguments;switch(d.length){case 0:return!f.call(this);case 1:return!f.call(this,d[0]);case 2:return!f.call(this,d[0],d[1]);case 3:return!f.call(this,d[0],d[1],d[2])}return!f.apply(this,d)}}function LC(f){return By(2,f)}var _C=kS(function(f,d){d=d.length==1&&lr(d[0])?Kr(d[0],zn(Xt())):Kr(gi(d,1),zn(Xt()));var w=d.length;return br(function(N){for(var H=-1,ie=Bt(N.length,w);++H<ie;)N[H]=d[H].call(this,N[H]);return Cn(f,this,N)})}),av=br(function(f,d){var w=To(d,Dc(av));return Us(f,J,t,d,w)}),zy=br(function(f,d){var w=To(d,Dc(zy));return Us(f,ee,t,d,w)}),IC=Xs(function(f,d){return Us(f,pe,t,t,t,d)});function QC(f,d){if(typeof f!="function")throw new oa(o);return d=d===t?d:dr(d),br(f,d)}function BC(f,d){if(typeof f!="function")throw new oa(o);return d=d==null?0:Ht(dr(d),0),br(function(w){var N=w[d],H=$l(w,0,d);return N&&Ii(H,N),Cn(f,this,H)})}function qC(f,d,w){var N=!0,H=!0;if(typeof f!="function")throw new oa(o);return wn(w)&&(N="leading"in w?!!w.leading:N,H="trailing"in w?!!w.trailing:H),Zy(f,d,{leading:N,maxWait:d,trailing:H})}function FC(f){return Qy(f,1)}function VC(f,d){return av(Zm(d),f)}function ZC(){if(!arguments.length)return[];var f=arguments[0];return lr(f)?f:[f]}function zC(f){return Ya(f,g)}function HC(f,d){return d=typeof d=="function"?d:t,Ya(f,g,d)}function WC(f){return Ya(f,h|g)}function UC(f,d){return d=typeof d=="function"?d:t,Ya(f,h|g,d)}function XC(f,d){return d==null||PO(f,d,ai(d))}function Po(f,d){return f===d||f!==f&&d!==d}var jC=xd(Pm),YC=xd(function(f,d){return f>=d}),Tu=IO(function(){return arguments}())?IO:function(f){return En(f)&&Ir.call(f,"callee")&&!v.call(f,"callee")},lr=Ie.isArray,GC=Xh?zn(Xh):aS;function la(f){return f!=null&&Nd(f.length)&&!Ys(f)}function $n(f){return En(f)&&la(f)}function KC(f){return f===!0||f===!1||En(f)&&qi(f)==ve}var Ll=Ke||vv,JC=ri?zn(ri):oS;function eT(f){return En(f)&&f.nodeType===1&&!Xf(f)}function tT(f){if(f==null)return!0;if(la(f)&&(lr(f)||typeof f=="string"||typeof f.splice=="function"||Ll(f)||Pc(f)||Tu(f)))return!f.length;var d=Ti(f);if(d==$t||d==Lr)return!f.size;if(Wf(f))return!$m(f).length;for(var w in f)if(Ir.call(f,w))return!1;return!0}function rT(f,d){return Zf(f,d)}function nT(f,d,w){w=typeof w=="function"?w:t;var N=w?w(f,d):t;return N===t?Zf(f,d,t,w):!!N}function ov(f){if(!En(f))return!1;var d=qi(f);return d==Be||d==Oe||typeof f.message=="string"&&typeof f.name=="string"&&!Xf(f)}function iT(f){return typeof f=="number"&&ht(f)}function Ys(f){if(!wn(f))return!1;var d=qi(f);return d==Ze||d==st||d==Pe||d==un}function Hy(f){return typeof f=="number"&&f==dr(f)}function Nd(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=Vt}function wn(f){var d=typeof f;return f!=null&&(d=="object"||d=="function")}function En(f){return f!=null&&typeof f=="object"}var Wy=ni?zn(ni):lS;function aT(f,d){return f===d||Nm(f,d,Ym(d))}function oT(f,d,w){return w=typeof w=="function"?w:t,Nm(f,d,Ym(d),w)}function sT(f){return Uy(f)&&f!=+f}function lT(f){if(HS(f))throw new rr(a);return QO(f)}function uT(f){return f===null}function cT(f){return f==null}function Uy(f){return typeof f=="number"||En(f)&&qi(f)==Jt}function Xf(f){if(!En(f)||qi(f)!=Cr)return!1;var d=m(f);if(d===null)return!0;var w=Ir.call(d,"constructor")&&d.constructor;return typeof w=="function"&&w instanceof w&&kc.call(w)==cd}var sv=jh?zn(jh):uS;function fT(f){return Hy(f)&&f>=-9007199254740991&&f<=Vt}var Xy=Yh?zn(Yh):cS;function $d(f){return typeof f=="string"||!lr(f)&&En(f)&&qi(f)==pr}function Ea(f){return typeof f=="symbol"||En(f)&&qi(f)==tn}var Pc=Gh?zn(Gh):fS;function hT(f){return f===t}function dT(f){return En(f)&&Ti(f)==On}function pT(f){return En(f)&&qi(f)==yn}var mT=xd(Lm),vT=xd(function(f,d){return f<=d});function jy(f){if(!f)return[];if(la(f))return $d(f)?Ci(f):sa(f);if(D&&f[D])return Fs(f[D]());var d=Ti(f),w=d==$t?Qi:d==Lr?wc:Rc;return w(f)}function Gs(f){if(!f)return f===0?f:0;if(f=Ja(f),f===Qt||f===-1/0){var d=f<0?-1:1;return d*ar}return f===f?f:0}function dr(f){var d=Gs(f),w=d%1;return d===d?w?d-w:d:0}function Yy(f){return f?ku(dr(f),0,Rt):0}function Ja(f){if(typeof f=="number")return f;if(Ea(f))return bt;if(wn(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=wn(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=rd(f);var w=$.test(f);return w||A.test(f)?xn(f.slice(2),w?2:8):V.test(f)?bt:+f}function Gy(f){return ls(f,ua(f))}function gT(f){return f?ku(dr(f),-9007199254740991,Vt):f===0?f:0}function zr(f){return f==null?"":Ta(f)}var OT=Mc(function(f,d){if(Wf(d)||la(d)){ls(d,ai(d),f);return}for(var w in d)Ir.call(d,w)&&qf(f,w,d[w])}),Ky=Mc(function(f,d){ls(d,ua(d),f)}),Ld=Mc(function(f,d,w,N){ls(d,ua(d),f,N)}),yT=Mc(function(f,d,w,N){ls(d,ai(d),f,N)}),bT=Xs(Mm);function wT(f,d){var w=Ec(f);return d==null?w:DO(w,d)}var kT=br(function(f,d){f=jr(f);var w=-1,N=d.length,H=N>2?d[2]:t;for(H&&Fi(d[0],d[1],H)&&(N=1);++w<N;)for(var ie=d[w],fe=ua(ie),we=-1,Me=fe.length;++we<Me;){var Xe=fe[we],je=f[Xe];(je===t||Po(je,Ml[Xe])&&!Ir.call(f,Xe))&&(f[Xe]=ie[Xe])}return f}),ST=br(function(f){return f.push(t,my),Cn(Jy,t,f)});function xT(f,d){return Oc(f,Xt(d,3),ss)}function CT(f,d){return Oc(f,Xt(d,3),Dm)}function TT(f,d){return f==null?f:Am(f,Xt(d,3),ua)}function ET(f,d){return f==null?f:LO(f,Xt(d,3),ua)}function MT(f,d){return f&&ss(f,Xt(d,3))}function AT(f,d){return f&&Dm(f,Xt(d,3))}function DT(f){return f==null?[]:vd(f,ai(f))}function PT(f){return f==null?[]:vd(f,ua(f))}function lv(f,d,w){var N=f==null?t:Su(f,d);return N===t?w:N}function RT(f,d){return f!=null&&Oy(f,d,tS)}function uv(f,d){return f!=null&&Oy(f,d,rS)}var NT=cy(function(f,d,w){d!=null&&typeof d.toString!="function"&&(d=Sc.call(d)),f[d]=w},fv(ca)),$T=cy(function(f,d,w){d!=null&&typeof d.toString!="function"&&(d=Sc.call(d)),Ir.call(f,d)?f[d].push(w):f[d]=[w]},Xt),LT=br(Vf);function ai(f){return la(f)?MO(f):$m(f)}function ua(f){return la(f)?MO(f,!0):hS(f)}function _T(f,d){var w={};return d=Xt(d,3),ss(f,function(N,H,ie){Ws(w,d(N,H,ie),N)}),w}function IT(f,d){var w={};return d=Xt(d,3),ss(f,function(N,H,ie){Ws(w,H,d(N,H,ie))}),w}var QT=Mc(function(f,d,w){gd(f,d,w)}),Jy=Mc(function(f,d,w,N){gd(f,d,w,N)}),BT=Xs(function(f,d){var w={};if(f==null)return w;var N=!1;d=Kr(d,function(ie){return ie=Nl(ie,f),N||(N=ie.length>1),ie}),ls(f,Xm(f),w),N&&(w=Ya(w,h|p|g,NS));for(var H=d.length;H--;)qm(w,d[H]);return w});function qT(f,d){return eb(f,Rd(Xt(d)))}var FT=Xs(function(f,d){return f==null?{}:pS(f,d)});function eb(f,d){if(f==null)return{};var w=Kr(Xm(f),function(N){return[N]});return d=Xt(d),HO(f,w,function(N,H){return d(N,H[0])})}function VT(f,d,w){d=Nl(d,f);var N=-1,H=d.length;for(H||(H=1,f=t);++N<H;){var ie=f==null?t:f[us(d[N])];ie===t&&(N=H,ie=w),f=Ys(ie)?ie.call(f):ie}return f}function ZT(f,d,w){return f==null?f:zf(f,d,w)}function zT(f,d,w,N){return N=typeof N=="function"?N:t,f==null?f:zf(f,d,w,N)}var tb=dy(ai),rb=dy(ua);function HT(f,d,w){var N=lr(f),H=N||Ll(f)||Pc(f);if(d=Xt(d,4),w==null){var ie=f&&f.constructor;H?w=N?new ie:[]:wn(f)?w=Ys(ie)?Ec(m(f)):{}:w={}}return(H?xi:ss)(f,function(fe,we,Me){return d(w,fe,we,Me)}),w}function WT(f,d){return f==null?!0:qm(f,d)}function UT(f,d,w){return f==null?f:YO(f,d,Zm(w))}function XT(f,d,w,N){return N=typeof N=="function"?N:t,f==null?f:YO(f,d,Zm(w),N)}function Rc(f){return f==null?[]:bc(f,ai(f))}function jT(f){return f==null?[]:bc(f,ua(f))}function YT(f,d,w){return w===t&&(w=d,d=t),w!==t&&(w=Ja(w),w=w===w?w:0),d!==t&&(d=Ja(d),d=d===d?d:0),ku(Ja(f),d,w)}function GT(f,d,w){return d=Gs(d),w===t?(w=d,d=0):w=Gs(w),f=Ja(f),nS(f,d,w)}function KT(f,d,w){if(w&&typeof w!="boolean"&&Fi(f,d,w)&&(d=w=t),w===t&&(typeof d=="boolean"?(w=d,d=t):typeof f=="boolean"&&(w=f,f=t)),f===t&&d===t?(f=0,d=1):(f=Gs(f),d===t?(d=f,f=0):d=Gs(d)),f>d){var N=f;f=d,d=N}if(w||f%1||d%1){var H=Br();return Bt(f+H*(d-f+Rn("1e-"+((H+"").length-1))),d)}return Im(f,d)}var JT=Ac(function(f,d,w){return d=d.toLowerCase(),f+(w?nb(d):d)});function nb(f){return cv(zr(f).toLowerCase())}function ib(f){return f=zr(f),f&&f.replace(Y,vu).replace(mc,"")}function eE(f,d,w){f=zr(f),d=Ta(d);var N=f.length;w=w===t?N:ku(dr(w),0,N);var H=w;return w-=d.length,w>=0&&f.slice(w,H)==d}function tE(f){return f=zr(f),f&&te.test(f)?f.replace(ei,ad):f}function rE(f){return f=zr(f),f&&q.test(f)?f.replace(L,"\\$&"):f}var nE=Ac(function(f,d,w){return f+(w?"-":"")+d.toLowerCase()}),iE=Ac(function(f,d,w){return f+(w?" ":"")+d.toLowerCase()}),aE=sy("toLowerCase");function oE(f,d,w){f=zr(f),d=dr(d);var N=d?Vs(f):0;if(!d||N>=d)return f;var H=(d-N)/2;return Sd(Se(H),w)+f+Sd(De(H),w)}function sE(f,d,w){f=zr(f),d=dr(d);var N=d?Vs(f):0;return d&&N<d?f+Sd(d-N,w):f}function lE(f,d,w){f=zr(f),d=dr(d);var N=d?Vs(f):0;return d&&N<d?Sd(d-N,w)+f:f}function uE(f,d,w){return w||d==null?d=0:d&&(d=+d),yr(zr(f).replace(Z,""),d||0)}function cE(f,d,w){return(w?Fi(f,d,w):d===t)?d=1:d=dr(d),Qm(zr(f),d)}function fE(){var f=arguments,d=zr(f[0]);return f.length<3?d:d.replace(f[1],f[2])}var hE=Ac(function(f,d,w){return f+(w?"_":"")+d.toLowerCase()});function dE(f,d,w){return w&&typeof w!="number"&&Fi(f,d,w)&&(d=w=t),w=w===t?Rt:w>>>0,w?(f=zr(f),f&&(typeof d=="string"||d!=null&&!sv(d))&&(d=Ta(d),!d&&aa(f))?$l(Ci(f),0,w):f.split(d,w)):[]}var pE=Ac(function(f,d,w){return f+(w?" ":"")+cv(d)});function mE(f,d,w){return f=zr(f),w=w==null?0:ku(dr(w),0,f.length),d=Ta(d),f.slice(w,w+d.length)==d}function vE(f,d,w){var N=K.templateSettings;w&&Fi(f,d,w)&&(d=t),f=zr(f),d=Ld({},d,N,py);var H=Ld({},d.imports,N.imports,py),ie=ai(H),fe=bc(H,ie),we,Me,Xe=0,je=d.interpolate||ae,et="__p += '",wt=Qf((d.escape||ae).source+"|"+je.source+"|"+(je===$e?ut:ae).source+"|"+(d.evaluate||ae).source+"|$","g"),_t="//# sourceURL="+(Ir.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tf+"]")+`
`;f.replace(wt,function(Kt,xr,Mr,Ma,Vi,Aa){return Mr||(Mr=Ma),et+=f.slice(Xe,Aa).replace(de,gu),xr&&(we=!0,et+=`' +
__e(`+xr+`) +
'`),Vi&&(Me=!0,et+=`';
`+Vi+`;
__p += '`),Mr&&(et+=`' +
((__t = (`+Mr+`)) == null ? '' : __t) +
'`),Xe=Aa+Kt.length,Kt}),et+=`';
`;var Gt=Ir.call(d,"variable")&&d.variable;if(!Gt)et=`with (obj) {
`+et+`
}
`;else if(Re.test(Gt))throw new rr(s);et=(Me?et.replace(Jn,""):et).replace(di,"$1").replace(pi,"$1;"),et="function("+(Gt||"obj")+`) {
`+(Gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(we?", __e = _.escape":"")+(Me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var mr=ob(function(){return Nr(ie,_t+"return "+et).apply(t,fe)});if(mr.source=et,ov(mr))throw mr;return mr}function gE(f){return zr(f).toLowerCase()}function OE(f){return zr(f).toUpperCase()}function yE(f,d,w){if(f=zr(f),f&&(w||d===t))return rd(f);if(!f||!(d=Ta(d)))return f;var N=Ci(f),H=Ci(d),ie=nd(N,H),fe=Lf(N,H)+1;return $l(N,ie,fe).join("")}function bE(f,d,w){if(f=zr(f),f&&(w||d===t))return f.slice(0,as(f)+1);if(!f||!(d=Ta(d)))return f;var N=Ci(f),H=Lf(N,Ci(d))+1;return $l(N,0,H).join("")}function wE(f,d,w){if(f=zr(f),f&&(w||d===t))return f.replace(Z,"");if(!f||!(d=Ta(d)))return f;var N=Ci(f),H=nd(N,Ci(d));return $l(N,H).join("")}function kE(f,d){var w=Fe,N=Ge;if(wn(d)){var H="separator"in d?d.separator:H;w="length"in d?dr(d.length):w,N="omission"in d?Ta(d.omission):N}f=zr(f);var ie=f.length;if(aa(f)){var fe=Ci(f);ie=fe.length}if(w>=ie)return f;var we=w-Vs(N);if(we<1)return N;var Me=fe?$l(fe,0,we).join(""):f.slice(0,we);if(H===t)return Me+N;if(fe&&(we+=Me.length-we),sv(H)){if(f.slice(we).search(H)){var Xe,je=Me;for(H.global||(H=Qf(H.source,zr(Lt.exec(H))+"g")),H.lastIndex=0;Xe=H.exec(je);)var et=Xe.index;Me=Me.slice(0,et===t?we:et)}}else if(f.indexOf(Ta(H),we)!=we){var wt=Me.lastIndexOf(H);wt>-1&&(Me=Me.slice(0,wt))}return Me+N}function SE(f){return f=zr(f),f&&ti.test(f)?f.replace(cn,_f):f}var xE=Ac(function(f,d,w){return f+(w?" ":"")+d.toUpperCase()}),cv=sy("toUpperCase");function ab(f,d,w){return f=zr(f),d=w?t:d,d===t?Tl(f)?bm(f):vm(f):f.match(d)||[]}var ob=br(function(f,d){try{return Cn(f,t,d)}catch(w){return ov(w)?w:new rr(w)}}),CE=Xs(function(f,d){return xi(d,function(w){w=us(w),Ws(f,w,iv(f[w],f))}),f});function TE(f){var d=f==null?0:f.length,w=Xt();return f=d?Kr(f,function(N){if(typeof N[1]!="function")throw new oa(o);return[w(N[0]),N[1]]}):[],br(function(N){for(var H=-1;++H<d;){var ie=f[H];if(Cn(ie[0],this,N))return Cn(ie[1],this,N)}})}function EE(f){return Kk(Ya(f,h))}function fv(f){return function(){return f}}function ME(f,d){return f==null||f!==f?d:f}var AE=uy(),DE=uy(!0);function ca(f){return f}function hv(f){return BO(typeof f=="function"?f:Ya(f,h))}function PE(f){return FO(Ya(f,h))}function RE(f,d){return VO(f,Ya(d,h))}var NE=br(function(f,d){return function(w){return Vf(w,f,d)}}),$E=br(function(f,d){return function(w){return Vf(f,w,d)}});function dv(f,d,w){var N=ai(d),H=vd(d,N);w==null&&!(wn(d)&&(H.length||!N.length))&&(w=d,d=f,f=this,H=vd(d,ai(d)));var ie=!(wn(w)&&"chain"in w)||!!w.chain,fe=Ys(f);return xi(H,function(we){var Me=d[we];f[we]=Me,fe&&(f.prototype[we]=function(){var Xe=this.__chain__;if(ie||Xe){var je=f(this.__wrapped__),et=je.__actions__=sa(this.__actions__);return et.push({func:Me,args:arguments,thisArg:f}),je.__chain__=Xe,je}return Me.apply(f,Ii([this.value()],arguments))})}),f}function LE(){return bn._===this&&(bn._=fd),this}function pv(){}function _E(f){return f=dr(f),br(function(d){return ZO(d,f)})}var IE=Hm(Kr),QE=Hm(Kh),BE=Hm(Pf);function sb(f){return Km(f)?yc(us(f)):mS(f)}function qE(f){return function(d){return f==null?t:Su(f,d)}}var FE=fy(),VE=fy(!0);function mv(){return[]}function vv(){return!1}function ZE(){return{}}function zE(){return""}function HE(){return!0}function WE(f,d){if(f=dr(f),f<1||f>Vt)return[];var w=Rt,N=Bt(f,Rt);d=Xt(d),f-=Rt;for(var H=qs(N,d);++w<f;)d(w);return H}function UE(f){return lr(f)?Kr(f,us):Ea(f)?[f]:sa(Ey(zr(f)))}function XE(f){var d=++xm;return zr(f)+d}var jE=kd(function(f,d){return f+d},0),YE=Wm("ceil"),GE=kd(function(f,d){return f/d},1),KE=Wm("floor");function JE(f){return f&&f.length?md(f,ca,Pm):t}function eM(f,d){return f&&f.length?md(f,Xt(d,2),Pm):t}function tM(f){return Rf(f,ca)}function rM(f,d){return Rf(f,Xt(d,2))}function nM(f){return f&&f.length?md(f,ca,Lm):t}function iM(f,d){return f&&f.length?md(f,Xt(d,2),Lm):t}var aM=kd(function(f,d){return f*d},1),oM=Wm("round"),sM=kd(function(f,d){return f-d},0);function lM(f){return f&&f.length?$f(f,ca):0}function uM(f,d){return f&&f.length?$f(f,Xt(d,2)):0}return K.after=PC,K.ary=Qy,K.assign=OT,K.assignIn=Ky,K.assignInWith=Ld,K.assignWith=yT,K.at=bT,K.before=By,K.bind=iv,K.bindAll=CE,K.bindKey=qy,K.castArray=ZC,K.chain=Ly,K.chunk=KS,K.compact=JS,K.concat=ex,K.cond=TE,K.conforms=EE,K.constant=fv,K.countBy=lC,K.create=wT,K.curry=Fy,K.curryRight=Vy,K.debounce=Zy,K.defaults=kT,K.defaultsDeep=ST,K.defer=RC,K.delay=NC,K.difference=tx,K.differenceBy=rx,K.differenceWith=nx,K.drop=ix,K.dropRight=ax,K.dropRightWhile=ox,K.dropWhile=sx,K.fill=lx,K.filter=cC,K.flatMap=dC,K.flatMapDeep=pC,K.flatMapDepth=mC,K.flatten=Py,K.flattenDeep=ux,K.flattenDepth=cx,K.flip=$C,K.flow=AE,K.flowRight=DE,K.fromPairs=fx,K.functions=DT,K.functionsIn=PT,K.groupBy=vC,K.initial=dx,K.intersection=px,K.intersectionBy=mx,K.intersectionWith=vx,K.invert=NT,K.invertBy=$T,K.invokeMap=OC,K.iteratee=hv,K.keyBy=yC,K.keys=ai,K.keysIn=ua,K.map=Ad,K.mapKeys=_T,K.mapValues=IT,K.matches=PE,K.matchesProperty=RE,K.memoize=Pd,K.merge=QT,K.mergeWith=Jy,K.method=NE,K.methodOf=$E,K.mixin=dv,K.negate=Rd,K.nthArg=_E,K.omit=BT,K.omitBy=qT,K.once=LC,K.orderBy=bC,K.over=IE,K.overArgs=_C,K.overEvery=QE,K.overSome=BE,K.partial=av,K.partialRight=zy,K.partition=wC,K.pick=FT,K.pickBy=eb,K.property=sb,K.propertyOf=qE,K.pull=bx,K.pullAll=Ny,K.pullAllBy=wx,K.pullAllWith=kx,K.pullAt=Sx,K.range=FE,K.rangeRight=VE,K.rearg=IC,K.reject=xC,K.remove=xx,K.rest=QC,K.reverse=rv,K.sampleSize=TC,K.set=ZT,K.setWith=zT,K.shuffle=EC,K.slice=Cx,K.sortBy=DC,K.sortedUniq=Rx,K.sortedUniqBy=Nx,K.split=dE,K.spread=BC,K.tail=$x,K.take=Lx,K.takeRight=_x,K.takeRightWhile=Ix,K.takeWhile=Qx,K.tap=Jx,K.throttle=qC,K.thru=Md,K.toArray=jy,K.toPairs=tb,K.toPairsIn=rb,K.toPath=UE,K.toPlainObject=Gy,K.transform=HT,K.unary=FC,K.union=Bx,K.unionBy=qx,K.unionWith=Fx,K.uniq=Vx,K.uniqBy=Zx,K.uniqWith=zx,K.unset=WT,K.unzip=nv,K.unzipWith=$y,K.update=UT,K.updateWith=XT,K.values=Rc,K.valuesIn=jT,K.without=Hx,K.words=ab,K.wrap=VC,K.xor=Wx,K.xorBy=Ux,K.xorWith=Xx,K.zip=jx,K.zipObject=Yx,K.zipObjectDeep=Gx,K.zipWith=Kx,K.entries=tb,K.entriesIn=rb,K.extend=Ky,K.extendWith=Ld,dv(K,K),K.add=jE,K.attempt=ob,K.camelCase=JT,K.capitalize=nb,K.ceil=YE,K.clamp=YT,K.clone=zC,K.cloneDeep=WC,K.cloneDeepWith=UC,K.cloneWith=HC,K.conformsTo=XC,K.deburr=ib,K.defaultTo=ME,K.divide=GE,K.endsWith=eE,K.eq=Po,K.escape=tE,K.escapeRegExp=rE,K.every=uC,K.find=fC,K.findIndex=Ay,K.findKey=xT,K.findLast=hC,K.findLastIndex=Dy,K.findLastKey=CT,K.floor=KE,K.forEach=_y,K.forEachRight=Iy,K.forIn=TT,K.forInRight=ET,K.forOwn=MT,K.forOwnRight=AT,K.get=lv,K.gt=jC,K.gte=YC,K.has=RT,K.hasIn=uv,K.head=Ry,K.identity=ca,K.includes=gC,K.indexOf=hx,K.inRange=GT,K.invoke=LT,K.isArguments=Tu,K.isArray=lr,K.isArrayBuffer=GC,K.isArrayLike=la,K.isArrayLikeObject=$n,K.isBoolean=KC,K.isBuffer=Ll,K.isDate=JC,K.isElement=eT,K.isEmpty=tT,K.isEqual=rT,K.isEqualWith=nT,K.isError=ov,K.isFinite=iT,K.isFunction=Ys,K.isInteger=Hy,K.isLength=Nd,K.isMap=Wy,K.isMatch=aT,K.isMatchWith=oT,K.isNaN=sT,K.isNative=lT,K.isNil=cT,K.isNull=uT,K.isNumber=Uy,K.isObject=wn,K.isObjectLike=En,K.isPlainObject=Xf,K.isRegExp=sv,K.isSafeInteger=fT,K.isSet=Xy,K.isString=$d,K.isSymbol=Ea,K.isTypedArray=Pc,K.isUndefined=hT,K.isWeakMap=dT,K.isWeakSet=pT,K.join=gx,K.kebabCase=nE,K.last=Ka,K.lastIndexOf=Ox,K.lowerCase=iE,K.lowerFirst=aE,K.lt=mT,K.lte=vT,K.max=JE,K.maxBy=eM,K.mean=tM,K.meanBy=rM,K.min=nM,K.minBy=iM,K.stubArray=mv,K.stubFalse=vv,K.stubObject=ZE,K.stubString=zE,K.stubTrue=HE,K.multiply=aM,K.nth=yx,K.noConflict=LE,K.noop=pv,K.now=Dd,K.pad=oE,K.padEnd=sE,K.padStart=lE,K.parseInt=uE,K.random=KT,K.reduce=kC,K.reduceRight=SC,K.repeat=cE,K.replace=fE,K.result=VT,K.round=oM,K.runInContext=Ee,K.sample=CC,K.size=MC,K.snakeCase=hE,K.some=AC,K.sortedIndex=Tx,K.sortedIndexBy=Ex,K.sortedIndexOf=Mx,K.sortedLastIndex=Ax,K.sortedLastIndexBy=Dx,K.sortedLastIndexOf=Px,K.startCase=pE,K.startsWith=mE,K.subtract=sM,K.sum=lM,K.sumBy=uM,K.template=vE,K.times=WE,K.toFinite=Gs,K.toInteger=dr,K.toLength=Yy,K.toLower=gE,K.toNumber=Ja,K.toSafeInteger=gT,K.toString=zr,K.toUpper=OE,K.trim=yE,K.trimEnd=bE,K.trimStart=wE,K.truncate=kE,K.unescape=SE,K.uniqueId=XE,K.upperCase=xE,K.upperFirst=cv,K.each=_y,K.eachRight=Iy,K.first=Ry,dv(K,function(){var f={};return ss(K,function(d,w){Ir.call(K.prototype,w)||(f[w]=d)}),f}(),{chain:!1}),K.VERSION=n,xi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){K[f].placeholder=K}),xi(["drop","take"],function(f,d){Tr.prototype[f]=function(w){w=w===t?1:Ht(dr(w),0);var N=this.__filtered__&&!d?new Tr(this):this.clone();return N.__filtered__?N.__takeCount__=Bt(w,N.__takeCount__):N.__views__.push({size:Bt(w,Rt),type:f+(N.__dir__<0?"Right":"")}),N},Tr.prototype[f+"Right"]=function(w){return this.reverse()[f](w).reverse()}}),xi(["filter","map","takeWhile"],function(f,d){var w=d+1,N=w==at||w==Ot;Tr.prototype[f]=function(H){var ie=this.clone();return ie.__iteratees__.push({iteratee:Xt(H,3),type:w}),ie.__filtered__=ie.__filtered__||N,ie}}),xi(["head","last"],function(f,d){var w="take"+(d?"Right":"");Tr.prototype[f]=function(){return this[w](1).value()[0]}}),xi(["initial","tail"],function(f,d){var w="drop"+(d?"":"Right");Tr.prototype[f]=function(){return this.__filtered__?new Tr(this):this[w](1)}}),Tr.prototype.compact=function(){return this.filter(ca)},Tr.prototype.find=function(f){return this.filter(f).head()},Tr.prototype.findLast=function(f){return this.reverse().find(f)},Tr.prototype.invokeMap=br(function(f,d){return typeof f=="function"?new Tr(this):this.map(function(w){return Vf(w,f,d)})}),Tr.prototype.reject=function(f){return this.filter(Rd(Xt(f)))},Tr.prototype.slice=function(f,d){f=dr(f);var w=this;return w.__filtered__&&(f>0||d<0)?new Tr(w):(f<0?w=w.takeRight(-f):f&&(w=w.drop(f)),d!==t&&(d=dr(d),w=d<0?w.dropRight(-d):w.take(d-f)),w)},Tr.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Tr.prototype.toArray=function(){return this.take(Rt)},ss(Tr.prototype,function(f,d){var w=/^(?:filter|find|map|reject)|While$/.test(d),N=/^(?:head|last)$/.test(d),H=K[N?"take"+(d=="last"?"Right":""):d],ie=N||/^find/.test(d);H&&(K.prototype[d]=function(){var fe=this.__wrapped__,we=N?[1]:arguments,Me=fe instanceof Tr,Xe=we[0],je=Me||lr(fe),et=function(xr){var Mr=H.apply(K,Ii([xr],we));return N&&wt?Mr[0]:Mr};je&&w&&typeof Xe=="function"&&Xe.length!=1&&(Me=je=!1);var wt=this.__chain__,_t=!!this.__actions__.length,Gt=ie&&!wt,mr=Me&&!_t;if(!ie&&je){fe=mr?fe:new Tr(this);var Kt=f.apply(fe,we);return Kt.__actions__.push({func:Md,args:[et],thisArg:t}),new ja(Kt,wt)}return Gt&&mr?f.apply(this,we):(Kt=this.thru(et),Gt?N?Kt.value()[0]:Kt.value():Kt)})}),xi(["pop","push","shift","sort","splice","unshift"],function(f){var d=Ou[f],w=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",N=/^(?:pop|shift)$/.test(f);K.prototype[f]=function(){var H=arguments;if(N&&!this.__chain__){var ie=this.value();return d.apply(lr(ie)?ie:[],H)}return this[w](function(fe){return d.apply(lr(fe)?fe:[],H)})}}),ss(Tr.prototype,function(f,d){var w=K[d];if(w){var N=w.name+"";Ir.call(Wn,N)||(Wn[N]=[]),Wn[N].push({name:d,func:w})}}),Wn[wd(t,R).name]=[{name:"wrapper",func:t}],Tr.prototype.clone=Sk,Tr.prototype.reverse=xk,Tr.prototype.value=Ck,K.prototype.at=eC,K.prototype.chain=tC,K.prototype.commit=rC,K.prototype.next=nC,K.prototype.plant=aC,K.prototype.reverse=oC,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=sC,K.prototype.first=K.prototype.head,D&&(K.prototype[D]=iC),K},El=wm();Xa?((Xa.exports=El)._=El,Sl._=El):bn._=El}).call(DPe)}(Xv,Xv.exports)),Xv.exports}var OTt=PPe(),VA=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],bp={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(r){return typeof console<"u"&&console.warn(r)},getWeek:function(r){var e=new Date(r.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Wg={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(r){var e=r%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},oo=function(r,e){return e===void 0&&(e=2),("000"+r).slice(e*-1)},hs=function(r){return r===!0?1:0};function B2(r,e){var t;return function(){var n=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return r.apply(n,i)},e)}}var ZA=function(r){return r instanceof Array?r:[r]};function Da(r,e,t){if(t===!0)return r.classList.add(e);r.classList.remove(e)}function Yr(r,e,t){var n=window.document.createElement(r);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function Jb(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Z3(r,e){if(e(r))return r;if(r.parentNode)return Z3(r.parentNode,e)}function e0(r,e){var t=Yr("div","numInputWrapper"),n=Yr("input","numInput "+r),i=Yr("span","arrowUp"),a=Yr("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var o in e)n.setAttribute(o,e[o]);return t.appendChild(n),t.appendChild(i),t.appendChild(a),t}function Bo(r){try{if(typeof r.composedPath=="function"){var e=r.composedPath();return e[0]}return r.target}catch{return r.target}}var zA=function(){},zw=function(r,e,t){return t.months[e?"shorthand":"longhand"][r]},RPe={D:zA,F:function(r,e,t){r.setMonth(t.months.longhand.indexOf(e))},G:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},H:function(r,e){r.setHours(parseFloat(e))},J:function(r,e){r.setDate(parseFloat(e))},K:function(r,e,t){r.setHours(r.getHours()%12+12*hs(new RegExp(t.amPM[1],"i").test(e)))},M:function(r,e,t){r.setMonth(t.months.shorthand.indexOf(e))},S:function(r,e){r.setSeconds(parseFloat(e))},U:function(r,e){return new Date(parseFloat(e)*1e3)},W:function(r,e,t){var n=parseInt(e),i=new Date(r.getFullYear(),0,2+(n-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(r,e){r.setFullYear(parseFloat(e))},Z:function(r,e){return new Date(e)},d:function(r,e){r.setDate(parseFloat(e))},h:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},i:function(r,e){r.setMinutes(parseFloat(e))},j:function(r,e){r.setDate(parseFloat(e))},l:zA,m:function(r,e){r.setMonth(parseFloat(e)-1)},n:function(r,e){r.setMonth(parseFloat(e)-1)},s:function(r,e){r.setSeconds(parseFloat(e))},u:function(r,e){return new Date(parseFloat(e))},w:zA,y:function(r,e){r.setFullYear(2e3+parseFloat(e))}},hh={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},pg={Z:function(r){return r.toISOString()},D:function(r,e,t){return e.weekdays.shorthand[pg.w(r,e,t)]},F:function(r,e,t){return zw(pg.n(r,e,t)-1,!1,e)},G:function(r,e,t){return oo(pg.h(r,e,t))},H:function(r){return oo(r.getHours())},J:function(r,e){return e.ordinal!==void 0?r.getDate()+e.ordinal(r.getDate()):r.getDate()},K:function(r,e){return e.amPM[hs(r.getHours()>11)]},M:function(r,e){return zw(r.getMonth(),!0,e)},S:function(r){return oo(r.getSeconds())},U:function(r){return r.getTime()/1e3},W:function(r,e,t){return t.getWeek(r)},Y:function(r){return oo(r.getFullYear(),4)},d:function(r){return oo(r.getDate())},h:function(r){return r.getHours()%12?r.getHours()%12:12},i:function(r){return oo(r.getMinutes())},j:function(r){return r.getDate()},l:function(r,e){return e.weekdays.longhand[r.getDay()]},m:function(r){return oo(r.getMonth()+1)},n:function(r){return r.getMonth()+1},s:function(r){return r.getSeconds()},u:function(r){return r.getTime()},w:function(r){return r.getDay()},y:function(r){return String(r.getFullYear()).substring(2)}},z3=function(r){var e=r.config,t=e===void 0?bp:e,n=r.l10n,i=n===void 0?Wg:n,a=r.isMobile,o=a===void 0?!1:a;return function(s,l,u){var c=u||i;return t.formatDate!==void 0&&!o?t.formatDate(s,l,c):l.split("").map(function(h,p,g){return pg[h]&&g[p-1]!=="\\"?pg[h](s,c,t):h!=="\\"?h:""}).join("")}},oR=function(r){var e=r.config,t=e===void 0?bp:e,n=r.l10n,i=n===void 0?Wg:n;return function(a,o,s,l){if(!(a!==0&&!a)){var u=l||i,c,h=a;if(a instanceof Date)c=new Date(a.getTime());else if(typeof a!="string"&&a.toFixed!==void 0)c=new Date(a);else if(typeof a=="string"){var p=o||(t||bp).dateFormat,g=String(a).trim();if(g==="today")c=new Date,s=!0;else if(t&&t.parseDate)c=t.parseDate(a,p);else if(/Z$/.test(g)||/GMT$/.test(g))c=new Date(a);else{for(var O=void 0,T=[],M=0,R=0,z="";M<p.length;M++){var U=p[M],G=U==="\\",J=p[M-1]==="\\"||G;if(hh[U]&&!J){z+=hh[U];var ee=new RegExp(z).exec(a);ee&&(O=!0)&&T[U!=="Y"?"push":"unshift"]({fn:RPe[U],val:ee[++R]})}else G||(z+=".")}c=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),T.forEach(function(le){var pe=le.fn,be=le.val;return c=pe(c,be,u)||c}),c=O?c:void 0}}if(!(c instanceof Date&&!isNaN(c.getTime()))){t.errorHandler(new Error("Invalid date provided: "+h));return}return s===!0&&c.setHours(0,0,0,0),c}}};function Fo(r,e,t){return t===void 0&&(t=!0),t!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):r.getTime()-e.getTime()}var NPe=function(r,e,t){return r>Math.min(e,t)&&r<Math.max(e,t)},HA=function(r,e,t){return r*3600+e*60+t},$Pe=function(r){var e=Math.floor(r/3600),t=(r-e*3600)/60;return[e,t,r-e*3600-t*60]},LPe={DAY:864e5};function WA(r){var e=r.defaultHour,t=r.defaultMinute,n=r.defaultSeconds;if(r.minDate!==void 0){var i=r.minDate.getHours(),a=r.minDate.getMinutes(),o=r.minDate.getSeconds();e<i&&(e=i),e===i&&t<a&&(t=a),e===i&&t===a&&n<o&&(n=r.minDate.getSeconds())}if(r.maxDate!==void 0){var s=r.maxDate.getHours(),l=r.maxDate.getMinutes();e=Math.min(e,s),e===s&&(t=Math.min(l,t)),e===s&&t===l&&(n=r.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!r)throw TypeError("Cannot convert undefined or null to object");for(var n=function(s){s&&Object.keys(s).forEach(function(l){return r[l]=s[l]})},i=0,a=e;i<a.length;i++){var o=a[i];n(o)}return r});var da=function(){return da=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},da.apply(this,arguments)},q2=function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},_Pe=300;function IPe(r,e){var t={config:da(da({},bp),wi.defaultConfig),l10n:Wg};t.parseDate=oR({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=T,t._setHoursFromDate=p,t._positionCalendar=un,t.changeMonth=Rt,t.changeYear=Pe,t.clear=Pt,t.close=tr,t.onMouseOver=Ze,t._createElement=Yr,t.createDay=ee,t.destroy=or,t.isEnabled=ve,t.jumpToDate=z,t.updateValue=cn,t.open=$t,t.redraw=pr,t.set=yn,t.setDate=pt,t.toggle=Xr;function n(){t.utils={getDaysInMonth:function(te,se){return te===void 0&&(te=t.currentMonth),se===void 0&&(se=t.currentYear),te===1&&(se%4===0&&se%100!==0||se%400===0)?29:t.l10n.daysInMonth[te]}}}function i(){t.element=t.input=r,t.isOpen=!1,Yt(),sr(),Or(),er(),n(),t.isMobile||J(),R(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&p(t.config.noCalendar?t.latestSelectedDateObj:void 0),cn(!1)),s();var te=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&te&&un(),ur("onReady")}function a(){var te;return((te=t.calendarContainer)===null||te===void 0?void 0:te.getRootNode()).activeElement||document.activeElement}function o(te){return te.bind(t)}function s(){var te=t.config;te.weekNumbers===!1&&te.showMonths===1||te.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var se=(t.days.offsetWidth+1)*te.showMonths;t.daysContainer.style.width=se+"px",t.calendarContainer.style.width=se+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function l(te){if(t.selectedDates.length===0){var se=t.config.minDate===void 0||Fo(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),ke=WA(t.config);se.setHours(ke.hours,ke.minutes,ke.seconds,se.getMilliseconds()),t.selectedDates=[se],t.latestSelectedDateObj=se}te!==void 0&&te.type!=="blur"&&ti(te);var $e=t._input.value;h(),cn(),t._input.value!==$e&&t._debouncedChange()}function u(te,se){return te%12+12*hs(se===t.l10n.amPM[1])}function c(te){switch(te%24){case 0:case 12:return 12;default:return te%12}}function h(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var te=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,se=(parseInt(t.minuteElement.value,10)||0)%60,ke=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(te=u(te,t.amPM.textContent));var $e=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&Fo(t.latestSelectedDateObj,t.config.minDate,!0)===0,W=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&Fo(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var X=HA(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),B=HA(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),L=HA(te,se,ke);if(L>B&&L<X){var q=$Pe(X);te=q[0],se=q[1],ke=q[2]}}else{if(W){var Z=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;te=Math.min(te,Z.getHours()),te===Z.getHours()&&(se=Math.min(se,Z.getMinutes())),se===Z.getMinutes()&&(ke=Math.min(ke,Z.getSeconds()))}if($e){var oe=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;te=Math.max(te,oe.getHours()),te===oe.getHours()&&se<oe.getMinutes()&&(se=oe.getMinutes()),se===oe.getMinutes()&&(ke=Math.max(ke,oe.getSeconds()))}}g(te,se,ke)}}function p(te){var se=te||t.latestSelectedDateObj;se&&se instanceof Date&&g(se.getHours(),se.getMinutes(),se.getSeconds())}function g(te,se,ke){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(te%24,se,ke||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=oo(t.config.time_24hr?te:(12+te)%12+12*hs(te%12===0)),t.minuteElement.value=oo(se),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[hs(te>=12)]),t.secondElement!==void 0&&(t.secondElement.value=oo(ke)))}function O(te){var se=Bo(te),ke=parseInt(se.value)+(te.delta||0);(ke/1e3>1||te.key==="Enter"&&!/[^\d]/.test(ke.toString()))&&Pe(ke)}function T(te,se,ke,$e){if(se instanceof Array)return se.forEach(function(W){return T(te,W,ke,$e)});if(te instanceof Array)return te.forEach(function(W){return T(W,se,ke,$e)});te.addEventListener(se,ke,$e),t._handlers.push({remove:function(){return te.removeEventListener(se,ke,$e)}})}function M(){ur("onChange")}function R(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(ke){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+ke+"]"),function($e){return T($e,"click",t[ke])})}),t.isMobile){_r();return}var te=B2(st,50);if(t._debouncedChange=B2(M,_Pe),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&T(t.daysContainer,"mouseover",function(ke){t.config.mode==="range"&&Ze(Bo(ke))}),T(t._input,"keydown",Be),t.calendarContainer!==void 0&&T(t.calendarContainer,"keydown",Be),!t.config.inline&&!t.config.static&&T(window,"resize",te),window.ontouchstart!==void 0?T(window.document,"touchstart",Le):T(window.document,"mousedown",Le),T(window.document,"focus",Le,{capture:!0}),t.config.clickOpens===!0&&(T(t._input,"focus",t.open),T(t._input,"click",t.open)),t.daysContainer!==void 0&&(T(t.monthNav,"click",ei),T(t.monthNav,["keyup","increment"],O),T(t.daysContainer,"click",$i)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var se=function(ke){return Bo(ke).select()};T(t.timeContainer,["increment"],l),T(t.timeContainer,"blur",l,{capture:!0}),T(t.timeContainer,"click",U),T([t.hourElement,t.minuteElement],["focus","click"],se),t.secondElement!==void 0&&T(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&T(t.amPM,"click",function(ke){l(ke)})}t.config.allowInput&&T(t._input,"blur",Oe)}function z(te,se){var ke=te!==void 0?t.parseDate(te):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),$e=t.currentYear,W=t.currentMonth;try{ke!==void 0&&(t.currentYear=ke.getFullYear(),t.currentMonth=ke.getMonth())}catch(X){X.message="Invalid date supplied: "+ke,t.config.errorHandler(X)}se&&t.currentYear!==$e&&(ur("onYearChange"),ot()),se&&(t.currentYear!==$e||t.currentMonth!==W)&&ur("onMonthChange"),t.redraw()}function U(te){var se=Bo(te);~se.className.indexOf("arrow")&&G(te,se.classList.contains("arrowUp")?1:-1)}function G(te,se,ke){var $e=te&&Bo(te),W=ke||$e&&$e.parentNode&&$e.parentNode.firstChild,X=Zn("increment");X.delta=se,W&&W.dispatchEvent(X)}function J(){var te=window.document.createDocumentFragment();if(t.calendarContainer=Yr("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(te.appendChild(Ot()),t.innerContainer=Yr("div","flatpickr-innerContainer"),t.config.weekNumbers){var se=bt(),ke=se.weekWrapper,$e=se.weekNumbers;t.innerContainer.appendChild(ke),t.weekNumbers=$e,t.weekWrapper=ke}t.rContainer=Yr("div","flatpickr-rContainer"),t.rContainer.appendChild(Vt()),t.daysContainer||(t.daysContainer=Yr("div","flatpickr-days"),t.daysContainer.tabIndex=-1),_e(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),te.appendChild(t.innerContainer)}t.config.enableTime&&te.appendChild(Qt()),Da(t.calendarContainer,"rangeMode",t.config.mode==="range"),Da(t.calendarContainer,"animate",t.config.animate===!0),Da(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(te);var W=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!W&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var X=Yr("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(X,t.element),X.appendChild(t.element),t.altInput&&X.appendChild(t.altInput),X.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function ee(te,se,ke,$e){var W=ve(se,!0),X=Yr("span",te,se.getDate().toString());return X.dateObj=se,X.$i=$e,X.setAttribute("aria-label",t.formatDate(se,t.config.ariaDateFormat)),te.indexOf("hidden")===-1&&Fo(se,t.now)===0&&(t.todayDateElem=X,X.classList.add("today"),X.setAttribute("aria-current","date")),W?(X.tabIndex=-1,rn(se)&&(X.classList.add("selected"),t.selectedDateElem=X,t.config.mode==="range"&&(Da(X,"startRange",t.selectedDates[0]&&Fo(se,t.selectedDates[0],!0)===0),Da(X,"endRange",t.selectedDates[1]&&Fo(se,t.selectedDates[1],!0)===0),te==="nextMonthDay"&&X.classList.add("inRange")))):X.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Jn(se)&&!rn(se)&&X.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&te!=="prevMonthDay"&&$e%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(se)+"</span>"),ur("onDayCreate",X),X}function le(te){te.focus(),t.config.mode==="range"&&Ze(te)}function pe(te){for(var se=te>0?0:t.config.showMonths-1,ke=te>0?t.config.showMonths:-1,$e=se;$e!=ke;$e+=te)for(var W=t.daysContainer.children[$e],X=te>0?0:W.children.length-1,B=te>0?W.children.length:-1,L=X;L!=B;L+=te){var q=W.children[L];if(q.className.indexOf("hidden")===-1&&ve(q.dateObj))return q}}function be(te,se){for(var ke=te.className.indexOf("Month")===-1?te.dateObj.getMonth():t.currentMonth,$e=se>0?t.config.showMonths:-1,W=se>0?1:-1,X=ke-t.currentMonth;X!=$e;X+=W)for(var B=t.daysContainer.children[X],L=ke-t.currentMonth===X?te.$i+se:se<0?B.children.length-1:0,q=B.children.length,Z=L;Z>=0&&Z<q&&Z!=(se>0?q:-1);Z+=W){var oe=B.children[Z];if(oe.className.indexOf("hidden")===-1&&ve(oe.dateObj)&&Math.abs(te.$i-Z)>=Math.abs(se))return le(oe)}t.changeMonth(W),Fe(pe(W),0)}function Fe(te,se){var ke=a(),$e=xe(ke||document.body),W=te!==void 0?te:$e?ke:t.selectedDateElem!==void 0&&xe(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&xe(t.todayDateElem)?t.todayDateElem:pe(se>0?1:-1);W===void 0?t._input.focus():$e?be(W,se):le(W)}function Ge(te,se){for(var ke=(new Date(te,se,1).getDay()-t.l10n.firstDayOfWeek+7)%7,$e=t.utils.getDaysInMonth((se-1+12)%12,te),W=t.utils.getDaysInMonth(se,te),X=window.document.createDocumentFragment(),B=t.config.showMonths>1,L=B?"prevMonthDay hidden":"prevMonthDay",q=B?"nextMonthDay hidden":"nextMonthDay",Z=$e+1-ke,oe=0;Z<=$e;Z++,oe++)X.appendChild(ee("flatpickr-day "+L,new Date(te,se-1,Z),Z,oe));for(Z=1;Z<=W;Z++,oe++)X.appendChild(ee("flatpickr-day",new Date(te,se,Z),Z,oe));for(var Te=W+1;Te<=42-ke&&(t.config.showMonths===1||oe%7!==0);Te++,oe++)X.appendChild(ee("flatpickr-day "+q,new Date(te,se+1,Te%W),Te,oe));var qe=Yr("div","dayContainer");return qe.appendChild(X),qe}function _e(){if(t.daysContainer!==void 0){Jb(t.daysContainer),t.weekNumbers&&Jb(t.weekNumbers);for(var te=document.createDocumentFragment(),se=0;se<t.config.showMonths;se++){var ke=new Date(t.currentYear,t.currentMonth,1);ke.setMonth(t.currentMonth+se),te.appendChild(Ge(ke.getFullYear(),ke.getMonth()))}t.daysContainer.appendChild(te),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&Ze()}}function ot(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var te=function($e){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&$e<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&$e>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var se=0;se<12;se++)if(te(se)){var ke=Yr("option","flatpickr-monthDropdown-month");ke.value=new Date(t.currentYear,se).getMonth().toString(),ke.textContent=zw(se,t.config.shorthandCurrentMonth,t.l10n),ke.tabIndex=-1,t.currentMonth===se&&(ke.selected=!0),t.monthsDropdownContainer.appendChild(ke)}}}function at(){var te=Yr("div","flatpickr-month"),se=window.document.createDocumentFragment(),ke;t.config.showMonths>1||t.config.monthSelectorType==="static"?ke=Yr("span","cur-month"):(t.monthsDropdownContainer=Yr("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),T(t.monthsDropdownContainer,"change",function(B){var L=Bo(B),q=parseInt(L.value,10);t.changeMonth(q-t.currentMonth),ur("onMonthChange")}),ot(),ke=t.monthsDropdownContainer);var $e=e0("cur-year",{tabindex:"-1"}),W=$e.getElementsByTagName("input")[0];W.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&W.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(W.setAttribute("max",t.config.maxDate.getFullYear().toString()),W.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var X=Yr("div","flatpickr-current-month");return X.appendChild(ke),X.appendChild($e),se.appendChild(X),te.appendChild(se),{container:te,yearElement:W,monthElement:ke}}function dt(){Jb(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var te=t.config.showMonths;te--;){var se=at();t.yearElements.push(se.yearElement),t.monthElements.push(se.monthElement),t.monthNav.appendChild(se.container)}t.monthNav.appendChild(t.nextMonthNav)}function Ot(){return t.monthNav=Yr("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Yr("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Yr("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,dt(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(te){t.__hidePrevMonthArrow!==te&&(Da(t.prevMonthNav,"flatpickr-disabled",te),t.__hidePrevMonthArrow=te)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(te){t.__hideNextMonthArrow!==te&&(Da(t.nextMonthNav,"flatpickr-disabled",te),t.__hideNextMonthArrow=te)}}),t.currentYearElement=t.yearElements[0],di(),t.monthNav}function Qt(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var te=WA(t.config);t.timeContainer=Yr("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var se=Yr("span","flatpickr-time-separator",":"),ke=e0("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=ke.getElementsByTagName("input")[0];var $e=e0("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=$e.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=oo(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?te.hours:c(te.hours)),t.minuteElement.value=oo(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():te.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(ke),t.timeContainer.appendChild(se),t.timeContainer.appendChild($e),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var W=e0("flatpickr-second");t.secondElement=W.getElementsByTagName("input")[0],t.secondElement.value=oo(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():te.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Yr("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(W)}return t.config.time_24hr||(t.amPM=Yr("span","flatpickr-am-pm",t.l10n.amPM[hs((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function Vt(){t.weekdayContainer?Jb(t.weekdayContainer):t.weekdayContainer=Yr("div","flatpickr-weekdays");for(var te=t.config.showMonths;te--;){var se=Yr("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(se)}return ar(),t.weekdayContainer}function ar(){if(t.weekdayContainer){var te=t.l10n.firstDayOfWeek,se=q2(t.l10n.weekdays.shorthand);te>0&&te<se.length&&(se=q2(se.splice(te,se.length),se.splice(0,te)));for(var ke=t.config.showMonths;ke--;)t.weekdayContainer.children[ke].innerHTML=`
      <span class='flatpickr-weekday'>
        `+se.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function bt(){t.calendarContainer.classList.add("hasWeeks");var te=Yr("div","flatpickr-weekwrapper");te.appendChild(Yr("span","flatpickr-weekday",t.l10n.weekAbbreviation));var se=Yr("div","flatpickr-weeks");return te.appendChild(se),{weekWrapper:te,weekNumbers:se}}function Rt(te,se){se===void 0&&(se=!0);var ke=se?te:te-t.currentMonth;ke<0&&t._hidePrevMonthArrow===!0||ke>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=ke,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,ur("onYearChange"),ot()),_e(),ur("onMonthChange"),di())}function Pt(te,se){if(te===void 0&&(te=!0),se===void 0&&(se=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,se===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var ke=WA(t.config),$e=ke.hours,W=ke.minutes,X=ke.seconds;g($e,W,X)}t.redraw(),te&&ur("onChange")}function tr(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),ur("onClose")}function or(){t.config!==void 0&&ur("onDestroy");for(var te=t._handlers.length;te--;)t._handlers[te].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var se=t.calendarContainer.parentNode;if(se.lastChild&&se.removeChild(se.lastChild),se.parentNode){for(;se.firstChild;)se.parentNode.insertBefore(se.firstChild,se);se.parentNode.removeChild(se)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(ke){try{delete t[ke]}catch{}})}function Sr(te){return t.calendarContainer.contains(te)}function Le(te){if(t.isOpen&&!t.config.inline){var se=Bo(te),ke=Sr(se),$e=se===t.input||se===t.altInput||t.element.contains(se)||te.path&&te.path.indexOf&&(~te.path.indexOf(t.input)||~te.path.indexOf(t.altInput)),W=!$e&&!ke&&!Sr(te.relatedTarget),X=!t.config.ignoredFocusElements.some(function(B){return B.contains(se)});W&&X&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&l(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Pe(te){if(!(!te||t.config.minDate&&te<t.config.minDate.getFullYear()||t.config.maxDate&&te>t.config.maxDate.getFullYear())){var se=te,ke=t.currentYear!==se;t.currentYear=se||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),ke&&(t.redraw(),ur("onYearChange"),ot())}}function ve(te,se){var ke;se===void 0&&(se=!0);var $e=t.parseDate(te,void 0,se);if(t.config.minDate&&$e&&Fo($e,t.config.minDate,se!==void 0?se:!t.minDateHasTime)<0||t.config.maxDate&&$e&&Fo($e,t.config.maxDate,se!==void 0?se:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if($e===void 0)return!1;for(var W=!!t.config.enable,X=(ke=t.config.enable)!==null&&ke!==void 0?ke:t.config.disable,B=0,L=void 0;B<X.length;B++){if(L=X[B],typeof L=="function"&&L($e))return W;if(L instanceof Date&&$e!==void 0&&L.getTime()===$e.getTime())return W;if(typeof L=="string"){var q=t.parseDate(L,void 0,!0);return q&&q.getTime()===$e.getTime()?W:!W}else if(typeof L=="object"&&$e!==void 0&&L.from&&L.to&&$e.getTime()>=L.from.getTime()&&$e.getTime()<=L.to.getTime())return W}return!W}function xe(te){return t.daysContainer!==void 0?te.className.indexOf("hidden")===-1&&te.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(te):!1}function Oe(te){var se=te.target===t._input,ke=t._input.value.trimEnd()!==pi();se&&ke&&!(te.relatedTarget&&Sr(te.relatedTarget))&&t.setDate(t._input.value,!0,te.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Be(te){var se=Bo(te),ke=t.config.wrap?r.contains(se):se===t._input,$e=t.config.allowInput,W=t.isOpen&&(!$e||!ke),X=t.config.inline&&ke&&!$e;if(te.keyCode===13&&ke){if($e)return t.setDate(t._input.value,!0,se===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),se.blur();t.open()}else if(Sr(se)||W||X){var B=!!t.timeContainer&&t.timeContainer.contains(se);switch(te.keyCode){case 13:B?(te.preventDefault(),l(),tn()):$i(te);break;case 27:te.preventDefault(),tn();break;case 8:case 46:ke&&!t.config.allowInput&&(te.preventDefault(),t.clear());break;case 37:case 39:if(!B&&!ke){te.preventDefault();var L=a();if(t.daysContainer!==void 0&&($e===!1||L&&xe(L))){var q=te.keyCode===39?1:-1;te.ctrlKey?(te.stopPropagation(),Rt(q),Fe(pe(1),0)):Fe(void 0,q)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:te.preventDefault();var Z=te.keyCode===40?1:-1;t.daysContainer&&se.$i!==void 0||se===t.input||se===t.altInput?te.ctrlKey?(te.stopPropagation(),Pe(t.currentYear-Z),Fe(pe(1),0)):B||Fe(void 0,Z*7):se===t.currentYearElement?Pe(t.currentYear-Z):t.config.enableTime&&(!B&&t.hourElement&&t.hourElement.focus(),l(te),t._debouncedChange());break;case 9:if(B){var oe=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(me){return me}),Te=oe.indexOf(se);if(Te!==-1){var qe=oe[Te+(te.shiftKey?-1:1)];te.preventDefault(),(qe||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(se)&&te.shiftKey&&(te.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&se===t.amPM)switch(te.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],h(),cn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],h(),cn();break}(ke||Sr(se))&&ur("onKeyDown",te)}function Ze(te,se){if(se===void 0&&(se="flatpickr-day"),!(t.selectedDates.length!==1||te&&(!te.classList.contains(se)||te.classList.contains("flatpickr-disabled")))){for(var ke=te?te.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),$e=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),W=Math.min(ke,t.selectedDates[0].getTime()),X=Math.max(ke,t.selectedDates[0].getTime()),B=!1,L=0,q=0,Z=W;Z<X;Z+=LPe.DAY)ve(new Date(Z),!0)||(B=B||Z>W&&Z<X,Z<$e&&(!L||Z>L)?L=Z:Z>$e&&(!q||Z<q)&&(q=Z));var oe=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+se));oe.forEach(function(Te){var qe=Te.dateObj,me=qe.getTime(),ce=L>0&&me<L||q>0&&me>q;if(ce){Te.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Re){Te.classList.remove(Re)});return}else if(B&&!ce)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Re){Te.classList.remove(Re)}),te!==void 0&&(te.classList.add(ke<=t.selectedDates[0].getTime()?"startRange":"endRange"),$e<ke&&me===$e?Te.classList.add("startRange"):$e>ke&&me===$e&&Te.classList.add("endRange"),me>=L&&(q===0||me<=q)&&NPe(me,$e,ke)&&Te.classList.add("inRange"))})}}function st(){t.isOpen&&!t.config.static&&!t.config.inline&&un()}function $t(te,se){if(se===void 0&&(se=t._positionElement),t.isMobile===!0){if(te){te.preventDefault();var ke=Bo(te);ke&&ke.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),ur("onOpen");return}else if(t._input.disabled||t.config.inline)return;var $e=t.isOpen;t.isOpen=!0,$e||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),ur("onOpen"),un(se)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(te===void 0||!t.timeContainer.contains(te.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function Jt(te){return function(se){var ke=t.config["_"+te+"Date"]=t.parseDate(se,t.config.dateFormat),$e=t.config["_"+(te==="min"?"max":"min")+"Date"];ke!==void 0&&(t[te==="min"?"minDateHasTime":"maxDateHasTime"]=ke.getHours()>0||ke.getMinutes()>0||ke.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(W){return ve(W)}),!t.selectedDates.length&&te==="min"&&p(ke),cn()),t.daysContainer&&(pr(),ke!==void 0?t.currentYearElement[te]=ke.getFullYear().toString():t.currentYearElement.removeAttribute(te),t.currentYearElement.disabled=!!$e&&ke!==void 0&&$e.getFullYear()===ke.getFullYear())}}function Yt(){var te=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],se=da(da({},JSON.parse(JSON.stringify(r.dataset||{}))),e),ke={};t.config.parseDate=se.parseDate,t.config.formatDate=se.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(oe){t.config._enable=Ft(oe)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(oe){t.config._disable=Ft(oe)}});var $e=se.mode==="time";if(!se.dateFormat&&(se.enableTime||$e)){var W=wi.defaultConfig.dateFormat||bp.dateFormat;ke.dateFormat=se.noCalendar||$e?"H:i"+(se.enableSeconds?":S":""):W+" H:i"+(se.enableSeconds?":S":"")}if(se.altInput&&(se.enableTime||$e)&&!se.altFormat){var X=wi.defaultConfig.altFormat||bp.altFormat;ke.altFormat=se.noCalendar||$e?"h:i"+(se.enableSeconds?":S K":" K"):X+(" h:i"+(se.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:Jt("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:Jt("max")});var B=function(oe){return function(Te){t.config[oe==="min"?"_minTime":"_maxTime"]=t.parseDate(Te,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:B("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:B("max")}),se.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,ke,se);for(var L=0;L<te.length;L++)t.config[te[L]]=t.config[te[L]]===!0||t.config[te[L]]==="true";VA.filter(function(oe){return t.config[oe]!==void 0}).forEach(function(oe){t.config[oe]=ZA(t.config[oe]||[]).map(o)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var L=0;L<t.config.plugins.length;L++){var q=t.config.plugins[L](t)||{};for(var Z in q)VA.indexOf(Z)>-1?t.config[Z]=ZA(q[Z]).map(o).concat(t.config[Z]):typeof se[Z]>"u"&&(t.config[Z]=q[Z])}se.altInputClass||(t.config.altInputClass=Cr().className+" "+t.config.altInputClass),ur("onParseConfig")}function Cr(){return t.config.wrap?r.querySelector("[data-input]"):r}function sr(){typeof t.config.locale!="object"&&typeof wi.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=da(da({},wi.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?wi.l10ns[t.config.locale]:void 0),hh.D="("+t.l10n.weekdays.shorthand.join("|")+")",hh.l="("+t.l10n.weekdays.longhand.join("|")+")",hh.M="("+t.l10n.months.shorthand.join("|")+")",hh.F="("+t.l10n.months.longhand.join("|")+")",hh.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var te=da(da({},e),JSON.parse(JSON.stringify(r.dataset||{})));te.time_24hr===void 0&&wi.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=z3(t),t.parseDate=oR({config:t.config,l10n:t.l10n})}function un(te){if(typeof t.config.position=="function")return void t.config.position(t,te);if(t.calendarContainer!==void 0){ur("onPreCalendarPosition");var se=te||t._positionElement,ke=Array.prototype.reduce.call(t.calendarContainer.children,function(Y,ae){return Y+ae.offsetHeight},0),$e=t.calendarContainer.offsetWidth,W=t.config.position.split(" "),X=W[0],B=W.length>1?W[1]:null,L=se.getBoundingClientRect(),q=window.innerHeight-L.bottom,Z=X==="above"||X!=="below"&&q<ke&&L.top>ke,oe=window.pageYOffset+L.top+(Z?-ke-2:se.offsetHeight+2);if(Da(t.calendarContainer,"arrowTop",!Z),Da(t.calendarContainer,"arrowBottom",Z),!t.config.inline){var Te=window.pageXOffset+L.left,qe=!1,me=!1;B==="center"?(Te-=($e-L.width)/2,qe=!0):B==="right"&&(Te-=$e-L.width,me=!0),Da(t.calendarContainer,"arrowLeft",!qe&&!me),Da(t.calendarContainer,"arrowCenter",qe),Da(t.calendarContainer,"arrowRight",me);var ce=window.document.body.offsetWidth-(window.pageXOffset+L.right),Re=Te+$e>window.document.body.offsetWidth,Ve=ce+$e>window.document.body.offsetWidth;if(Da(t.calendarContainer,"rightMost",Re),!t.config.static)if(t.calendarContainer.style.top=oe+"px",!Re)t.calendarContainer.style.left=Te+"px",t.calendarContainer.style.right="auto";else if(!Ve)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=ce+"px";else{var ut=Zr();if(ut===void 0)return;var Lt=window.document.body.offsetWidth,V=Math.max(0,Lt/2-$e/2),$=".flatpickr-calendar.centerMost:before",x=".flatpickr-calendar.centerMost:after",A=ut.cssRules.length,I="{left:"+L.left+"px;right:auto;}";Da(t.calendarContainer,"rightMost",!1),Da(t.calendarContainer,"centerMost",!0),ut.insertRule($+","+x+I,A),t.calendarContainer.style.left=V+"px",t.calendarContainer.style.right="auto"}}}}function Zr(){for(var te=null,se=0;se<document.styleSheets.length;se++){var ke=document.styleSheets[se];if(ke.cssRules){try{ke.cssRules}catch{continue}te=ke;break}}return te??Lr()}function Lr(){var te=document.createElement("style");return document.head.appendChild(te),te.sheet}function pr(){t.config.noCalendar||t.isMobile||(ot(),di(),_e())}function tn(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function $i(te){te.preventDefault(),te.stopPropagation();var se=function(oe){return oe.classList&&oe.classList.contains("flatpickr-day")&&!oe.classList.contains("flatpickr-disabled")&&!oe.classList.contains("notAllowed")},ke=Z3(Bo(te),se);if(ke!==void 0){var $e=ke,W=t.latestSelectedDateObj=new Date($e.dateObj.getTime()),X=(W.getMonth()<t.currentMonth||W.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=$e,t.config.mode==="single")t.selectedDates=[W];else if(t.config.mode==="multiple"){var B=rn(W);B?t.selectedDates.splice(parseInt(B),1):t.selectedDates.push(W)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=W,t.selectedDates.push(W),Fo(W,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(oe,Te){return oe.getTime()-Te.getTime()}));if(h(),X){var L=t.currentYear!==W.getFullYear();t.currentYear=W.getFullYear(),t.currentMonth=W.getMonth(),L&&(ur("onYearChange"),ot()),ur("onMonthChange")}if(di(),_e(),cn(),!X&&t.config.mode!=="range"&&t.config.showMonths===1?le($e):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var q=t.config.mode==="single"&&!t.config.enableTime,Z=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(q||Z)&&tn()}M()}}var On={locale:[sr,ar],showMonths:[dt,s,Vt],minDate:[z],maxDate:[z],positionElement:[pn],clickOpens:[function(){t.config.clickOpens===!0?(T(t._input,"focus",t.open),T(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function yn(te,se){if(te!==null&&typeof te=="object"){Object.assign(t.config,te);for(var ke in te)On[ke]!==void 0&&On[ke].forEach(function($e){return $e()})}else t.config[te]=se,On[te]!==void 0?On[te].forEach(function($e){return $e()}):VA.indexOf(te)>-1&&(t.config[te]=ZA(se));t.redraw(),cn(!0)}function ct(te,se){var ke=[];if(te instanceof Array)ke=te.map(function($e){return t.parseDate($e,se)});else if(te instanceof Date||typeof te=="number")ke=[t.parseDate(te,se)];else if(typeof te=="string")switch(t.config.mode){case"single":case"time":ke=[t.parseDate(te,se)];break;case"multiple":ke=te.split(t.config.conjunction).map(function($e){return t.parseDate($e,se)});break;case"range":ke=te.split(t.l10n.rangeSeparator).map(function($e){return t.parseDate($e,se)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(te)));t.selectedDates=t.config.allowInvalidPreload?ke:ke.filter(function($e){return $e instanceof Date&&ve($e,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function($e,W){return $e.getTime()-W.getTime()})}function pt(te,se,ke){if(se===void 0&&(se=!1),ke===void 0&&(ke=t.config.dateFormat),te!==0&&!te||te instanceof Array&&te.length===0)return t.clear(se);ct(te,ke),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),z(void 0,se),p(),t.selectedDates.length===0&&t.clear(!1),cn(se),se&&ur("onChange")}function Ft(te){return te.slice().map(function(se){return typeof se=="string"||typeof se=="number"||se instanceof Date?t.parseDate(se,void 0,!0):se&&typeof se=="object"&&se.from&&se.to?{from:t.parseDate(se.from,void 0),to:t.parseDate(se.to,void 0)}:se}).filter(function(se){return se})}function er(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var te=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);te&&ct(te,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Or(){if(t.input=Cr(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Yr(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),pn()}function pn(){t._positionElement=t.config.positionElement||t._input}function _r(){var te=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Yr("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=te,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=te==="datetime-local"?"Y-m-d\\TH:i:S":te==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}T(t.mobileInput,"change",function(se){t.setDate(Bo(se).value,!1,t.mobileFormatStr),ur("onChange"),ur("onClose")})}function Xr(te){if(t.isOpen===!0)return t.close();t.open(te)}function ur(te,se){if(t.config!==void 0){var ke=t.config[te];if(ke!==void 0&&ke.length>0)for(var $e=0;ke[$e]&&$e<ke.length;$e++)ke[$e](t.selectedDates,t.input.value,t,se);te==="onChange"&&(t.input.dispatchEvent(Zn("change")),t.input.dispatchEvent(Zn("input")))}}function Zn(te){var se=document.createEvent("Event");return se.initEvent(te,!0,!0),se}function rn(te){for(var se=0;se<t.selectedDates.length;se++){var ke=t.selectedDates[se];if(ke instanceof Date&&Fo(ke,te)===0)return""+se}return!1}function Jn(te){return t.config.mode!=="range"||t.selectedDates.length<2?!1:Fo(te,t.selectedDates[0])>=0&&Fo(te,t.selectedDates[1])<=0}function di(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(te,se){var ke=new Date(t.currentYear,t.currentMonth,1);ke.setMonth(t.currentMonth+se),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[se].textContent=zw(ke.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=ke.getMonth().toString(),te.value=ke.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function pi(te){var se=te||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(ke){return t.formatDate(ke,se)}).filter(function(ke,$e,W){return t.config.mode!=="range"||t.config.enableTime||W.indexOf(ke)===$e}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function cn(te){te===void 0&&(te=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=pi(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=pi(t.config.altFormat)),te!==!1&&ur("onValueUpdate")}function ei(te){var se=Bo(te),ke=t.prevMonthNav.contains(se),$e=t.nextMonthNav.contains(se);ke||$e?Rt(ke?-1:1):t.yearElements.indexOf(se)>=0?se.select():se.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):se.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function ti(te){te.preventDefault();var se=te.type==="keydown",ke=Bo(te),$e=ke;t.amPM!==void 0&&ke===t.amPM&&(t.amPM.textContent=t.l10n.amPM[hs(t.amPM.textContent===t.l10n.amPM[0])]);var W=parseFloat($e.getAttribute("min")),X=parseFloat($e.getAttribute("max")),B=parseFloat($e.getAttribute("step")),L=parseInt($e.value,10),q=te.delta||(se?te.which===38?1:-1:0),Z=L+B*q;if(typeof $e.value<"u"&&$e.value.length===2){var oe=$e===t.hourElement,Te=$e===t.minuteElement;Z<W?(Z=X+Z+hs(!oe)+(hs(oe)&&hs(!t.amPM)),Te&&G(void 0,-1,t.hourElement)):Z>X&&(Z=$e===t.hourElement?Z-X-hs(!t.amPM):W,Te&&G(void 0,1,t.hourElement)),t.amPM&&oe&&(B===1?Z+L===23:Math.abs(Z-L)>B)&&(t.amPM.textContent=t.l10n.amPM[hs(t.amPM.textContent===t.l10n.amPM[0])]),$e.value=oo(Z)}}return i(),t}function wp(r,e){for(var t=Array.prototype.slice.call(r).filter(function(o){return o instanceof HTMLElement}),n=[],i=0;i<t.length;i++){var a=t[i];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=IPe(a,e||{}),n.push(a._flatpickr)}catch(o){console.error(o)}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return wp(this,r)},HTMLElement.prototype.flatpickr=function(r){return wp([this],r)});var wi=function(r,e){return typeof r=="string"?wp(window.document.querySelectorAll(r),e):r instanceof Node?wp([r],e):wp(r,e)};wi.defaultConfig={};wi.l10ns={en:da({},Wg),default:da({},Wg)};wi.localize=function(r){wi.l10ns.default=da(da({},wi.l10ns.default),r)};wi.setDefaults=function(r){wi.defaultConfig=da(da({},wi.defaultConfig),r)};wi.parseDate=oR({});wi.formatDate=z3({});wi.compareDates=Fo;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(r){return wp(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window<"u"&&(window.flatpickr=wi);const H3=6048e5,QPe=864e5,F2=Symbol.for("constructDateFrom");function ic(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&F2 in r?r[F2](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ns(r,e){return ic(e||r,r)}function yTt(r,e,t){const n=Ns(r,t==null?void 0:t.in);return isNaN(e)?ic(r,NaN):(e&&n.setDate(n.getDate()+e),n)}let BPe={};function ek(){return BPe}function Ug(r,e){var s,l,u,c;const t=ek(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((c=(u=t.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Ns(r,e==null?void 0:e.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Hw(r,e){return Ug(r,{...e,weekStartsOn:1})}function W3(r,e){const t=Ns(r,e==null?void 0:e.in),n=t.getFullYear(),i=ic(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Hw(i),o=ic(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Hw(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function V2(r){const e=Ns(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function qPe(r,...e){const t=ic.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Z2(r,e){const t=Ns(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function FPe(r,e,t){const[n,i]=qPe(t==null?void 0:t.in,r,e),a=Z2(n),o=Z2(i),s=+a-V2(a),l=+o-V2(o);return Math.round((s-l)/QPe)}function VPe(r,e){const t=W3(r,e),n=ic(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Hw(n)}function ZPe(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function zPe(r){return!(!ZPe(r)&&typeof r!="number"||isNaN(+Ns(r)))}function HPe(r,e){const t=Ns(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const WPe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UPe=(r,e,t)=>{let n;const i=WPe[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function UA(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const XPe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jPe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YPe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GPe={date:UA({formats:XPe,defaultWidth:"full"}),time:UA({formats:jPe,defaultWidth:"full"}),dateTime:UA({formats:YPe,defaultWidth:"full"})},KPe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JPe=(r,e,t,n)=>KPe[r];function Mv(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const o=r.defaultFormattingWidth||r.defaultWidth,s=t!=null&&t.width?String(t.width):o;i=r.formattingValues[s]||r.formattingValues[o]}else{const o=r.defaultWidth,s=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[s]||r.values[o]}const a=r.argumentCallback?r.argumentCallback(e):e;return i[a]}}const eRe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tRe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rRe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nRe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iRe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aRe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oRe=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},sRe={ordinalNumber:oRe,era:Mv({values:eRe,defaultWidth:"wide"}),quarter:Mv({values:tRe,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Mv({values:rRe,defaultWidth:"wide"}),day:Mv({values:nRe,defaultWidth:"wide"}),dayPeriod:Mv({values:iRe,defaultWidth:"wide",formattingValues:aRe,defaultFormattingWidth:"wide"})};function Av(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(s)?uRe(s,h=>h.test(o)):lRe(s,h=>h.test(o));let u;u=r.valueCallback?r.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function lRe(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function uRe(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function cRe(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],a=e.match(r.parsePattern);if(!a)return null;let o=r.valueCallback?r.valueCallback(a[0]):a[0];o=t.valueCallback?t.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const fRe=/^(\d+)(th|st|nd|rd)?/i,hRe=/\d+/i,dRe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pRe={any:[/^b/i,/^(a|c)/i]},mRe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vRe={any:[/1/i,/2/i,/3/i,/4/i]},gRe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ORe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yRe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bRe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wRe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kRe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SRe={ordinalNumber:cRe({matchPattern:fRe,parsePattern:hRe,valueCallback:r=>parseInt(r,10)}),era:Av({matchPatterns:dRe,defaultMatchWidth:"wide",parsePatterns:pRe,defaultParseWidth:"any"}),quarter:Av({matchPatterns:mRe,defaultMatchWidth:"wide",parsePatterns:vRe,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Av({matchPatterns:gRe,defaultMatchWidth:"wide",parsePatterns:ORe,defaultParseWidth:"any"}),day:Av({matchPatterns:yRe,defaultMatchWidth:"wide",parsePatterns:bRe,defaultParseWidth:"any"}),dayPeriod:Av({matchPatterns:wRe,defaultMatchWidth:"any",parsePatterns:kRe,defaultParseWidth:"any"})},xRe={code:"en-US",formatDistance:UPe,formatLong:GPe,formatRelative:JPe,localize:sRe,match:SRe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CRe(r,e){const t=Ns(r,e==null?void 0:e.in);return FPe(t,HPe(t))+1}function TRe(r,e){const t=Ns(r,e==null?void 0:e.in),n=+Hw(t)-+VPe(t);return Math.round(n/H3)+1}function U3(r,e){var c,h,p,g;const t=Ns(r,e==null?void 0:e.in),n=t.getFullYear(),i=ek(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(p=i.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=ic((e==null?void 0:e.in)||r,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=Ug(o,e),l=ic((e==null?void 0:e.in)||r,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const u=Ug(l,e);return+t>=+s?n+1:+t>=+u?n:n-1}function ERe(r,e){var s,l,u,c;const t=ek(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((c=(u=t.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=U3(r,e),a=ic((e==null?void 0:e.in)||r,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Ug(a,e)}function MRe(r,e){const t=Ns(r,e==null?void 0:e.in),n=+Ug(t,e)-+ERe(t,e);return Math.round(n/H3)+1}function nn(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const $c={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return nn(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):nn(t+1,2)},d(r,e){return nn(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return nn(r.getHours()%12||12,e.length)},H(r,e){return nn(r.getHours(),e.length)},m(r,e){return nn(r.getMinutes(),e.length)},s(r,e){return nn(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return nn(i,e.length)}},Wd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},z2={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return $c.y(r,e)},Y:function(r,e,t,n){const i=U3(r,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return nn(o,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):nn(a,e.length)},R:function(r,e){const t=W3(r);return nn(t,e.length)},u:function(r,e){const t=r.getFullYear();return nn(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return nn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return nn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return $c.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return nn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=MRe(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):nn(i,e.length)},I:function(r,e,t){const n=TRe(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):nn(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):$c.d(r,e)},D:function(r,e,t){const n=CRe(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):nn(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return nn(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return nn(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return nn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Wd.noon:n===0?i=Wd.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Wd.evening:n>=12?i=Wd.afternoon:n>=4?i=Wd.morning:i=Wd.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return $c.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):$c.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):nn(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):nn(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):$c.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):$c.s(r,e)},S:function(r,e){return $c.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return W2(n);case"XXXX":case"XX":return sh(n);case"XXXXX":case"XXX":default:return sh(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return W2(n);case"xxxx":case"xx":return sh(n);case"xxxxx":case"xxx":default:return sh(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+H2(n,":");case"OOOO":default:return"GMT"+sh(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+H2(n,":");case"zzzz":default:return"GMT"+sh(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return nn(n,e.length)},T:function(r,e,t){return nn(+r,e.length)}};function H2(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),a=n%60;return a===0?t+String(i):t+String(i)+e+nn(a,2)}function W2(r,e){return r%60===0?(r>0?"-":"+")+nn(Math.abs(r)/60,2):sh(r,e)}function sh(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=nn(Math.trunc(n/60),2),a=nn(n%60,2);return t+i+e+a}const U2=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},X3=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ARe=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return U2(r,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",U2(n,e)).replace("{{time}}",X3(i,e))},DRe={p:X3,P:ARe},PRe=/^D+$/,RRe=/^Y+$/,NRe=["D","DD","YY","YYYY"];function $Re(r){return PRe.test(r)}function LRe(r){return RRe.test(r)}function _Re(r,e,t){const n=IRe(r,e,t);if(console.warn(n),NRe.includes(r))throw new RangeError(n)}function IRe(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QRe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BRe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qRe=/^'([^]*?)'?$/,FRe=/''/g,VRe=/[a-zA-Z]/;function bTt(r,e,t){var c,h,p,g;const n=ek(),i=n.locale??xRe,a=n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=Ns(r,t==null?void 0:t.in);if(!zPe(s))throw new RangeError("Invalid time value");let l=e.match(BRe).map(O=>{const T=O[0];if(T==="p"||T==="P"){const M=DRe[T];return M(O,i.formatLong)}return O}).join("").match(QRe).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const T=O[0];if(T==="'")return{isToken:!1,value:ZRe(O)};if(z2[T])return{isToken:!0,value:O};if(T.match(VRe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:O}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(O=>{if(!O.isToken)return O.value;const T=O.value;(LRe(T)||$Re(T))&&_Re(T,e,String(r));const M=z2[T[0]];return M(s,T,i.localize,u)}).join("")}function ZRe(r){const e=r.match(qRe);return e?e[1].replace(FRe,"'"):r}var jv={exports:{}},zRe=jv.exports,X2;function HRe(){return X2||(X2=1,function(r,e){(function(t,n){n(e)})(zRe,function(t){var n=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},i={weekdays:{shorthand:["æ¥","æ","ç«","æ°´","æ¨","é","å"],longhand:["æ¥ææ¥","æææ¥","ç«ææ¥","æ°´ææ¥","æ¨ææ¥","éææ¥","åææ¥"]},months:{shorthand:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],longhand:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"]},time_24hr:!0,rangeSeparator:" ãã ",monthAriaLabel:"æ",amPM:["åå","åå¾"],yearAriaLabel:"å¹´",hourAriaLabel:"æé",minuteAriaLabel:"å"};n.l10ns.ja=i;var a=n.l10ns;t.Japanese=i,t.default=a,Object.defineProperty(t,"__esModule",{value:!0})})}(jv,jv.exports)),jv.exports}var wTt=HRe();function zi(r){this.content=r}zi.prototype={constructor:zi,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var n=t&&t!=r?this.remove(t):this,i=n.find(r),a=n.content.slice();return i==-1?a.push(t||r,e):(a[i+1]=e,t&&(a[i]=t)),new zi(a)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new zi(t)},addToStart:function(r,e){return new zi([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new zi(t)},addBefore:function(r,e,t){var n=this.remove(e),i=n.content.slice(),a=n.find(r);return i.splice(a==-1?i.length:a,0,e,t),new zi(i)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=zi.from(r),r.size?new zi(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=zi.from(r),r.size?new zi(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=zi.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};zi.from=function(r){if(r instanceof zi)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new zi(e)};function j3(r,e,t){for(let n=0;;n++){if(n==r.childCount||n==e.childCount)return r.childCount==e.childCount?null:t;let i=r.child(n),a=e.child(n);if(i==a){t+=i.nodeSize;continue}if(!i.sameMarkup(a))return t;if(i.isText&&i.text!=a.text){for(let o=0;i.text[o]==a.text[o];o++)t++;return t}if(i.content.size||a.content.size){let o=j3(i.content,a.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function Y3(r,e,t,n){for(let i=r.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:t,b:n};let o=r.child(--i),s=e.child(--a),l=o.nodeSize;if(o==s){t-=l,n-=l;continue}if(!o.sameMarkup(s))return{a:t,b:n};if(o.isText&&o.text!=s.text){let u=0,c=Math.min(o.text.length,s.text.length);for(;u<c&&o.text[o.text.length-u-1]==s.text[s.text.length-u-1];)u++,t--,n--;return{a:t,b:n}}if(o.content.size||s.content.size){let u=Y3(o.content,s.content,t-1,n-1);if(u)return u}t-=l,n-=l}}class nt{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,i=0,a){for(let o=0,s=0;s<t;o++){let l=this.content[o],u=s+l.nodeSize;if(u>e&&n(l,i+s,a||null,o)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,t-c),n,i+c)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,i){let a="",o=!0;return this.nodesBetween(e,t,(s,l)=>{let u=s.isText?s.text.slice(Math.max(e,l)-l,t-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&u||s.isTextblock)&&n&&(o?o=!1:a+=n),a+=u},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new nt(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],i=0;if(t>e)for(let a=0,o=0;o<t;a++){let s=this.content[a],l=o+s.nodeSize;l>e&&((o<e||l>t)&&(s.isText?s=s.cut(Math.max(0,e-o),Math.min(s.text.length,t-o)):s=s.cut(Math.max(0,e-o-1),Math.min(s.content.size,t-o-1))),n.push(s),i+=s.nodeSize),o=l}return new nt(n,i)}cutByIndex(e,t){return e==t?nt.empty:e==0&&t==this.content.length?this:new nt(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let i=this.content.slice(),a=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new nt(i,a)}addToStart(e){return new nt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new nt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let i=this.content[t];e(i,n,t),n+=i.nodeSize}}findDiffStart(e,t=0){return j3(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return Y3(this,e,t,n)}findIndex(e,t=-1){if(e==0)return t0(0,e);if(e==this.size)return t0(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let a=this.child(n),o=i+a.nodeSize;if(o>=e)return o==e||t>0?t0(n+1,o):t0(n,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return nt.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new nt(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return nt.empty;let t,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(t||(t=e.slice(0,i)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new nt(t||e,n)}static from(e){if(!e)return nt.empty;if(e instanceof nt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new nt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}nt.empty=new nt([],0);const XA={index:0,offset:0};function t0(r,e){return XA.index=r,XA.offset=e,XA}function Ww(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!Ww(r[n],e[n]))return!1}else{for(let n in r)if(!(n in e)||!Ww(r[n],e[n]))return!1;for(let n in e)if(!(n in r))return!1}return!0}let Jr=class sR{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(a)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Ww(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=n.create(t.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return sR.none;if(e instanceof sR)return[e];let t=e.slice();return t.sort((n,i)=>n.type.rank-i.type.rank),t}};Jr.none=[];class Uw extends Error{}class St{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=K3(this.content,e+this.openStart,t);return n&&new St(n,this.openStart,this.openEnd)}removeBetween(e,t){return new St(G3(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return St.empty;let n=t.openStart||0,i=t.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new St(nt.fromJSON(e,t.content),n,i)}static maxOpen(e,t=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)i++;return new St(e,n,i)}}St.empty=new St(nt.empty,0,0);function G3(r,e,t){let{index:n,offset:i}=r.findIndex(e),a=r.maybeChild(n),{index:o,offset:s}=r.findIndex(t);if(i==e||a.isText){if(s!=t&&!r.child(o).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(n!=o)throw new RangeError("Removing non-flat range");return r.replaceChild(n,a.copy(G3(a.content,e-i-1,t-i-1)))}function K3(r,e,t,n){let{index:i,offset:a}=r.findIndex(e),o=r.maybeChild(i);if(a==e||o.isText)return r.cut(0,e).append(t).append(r.cut(e));let s=K3(o.content,e-a-1,t);return s&&r.replaceChild(i,o.copy(s))}function WRe(r,e,t){if(t.openStart>r.depth)throw new Uw("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new Uw("Inconsistent open depths");return J3(r,e,t,0)}function J3(r,e,t,n){let i=r.index(n),a=r.node(n);if(i==e.index(n)&&n<r.depth-t.openStart){let o=J3(r,e,t,n+1);return a.copy(a.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==n&&e.depth==n){let o=r.parent,s=o.content;return Sh(o,s.cut(0,r.parentOffset).append(t.content).append(s.cut(e.parentOffset)))}else{let{start:o,end:s}=URe(t,r);return Sh(a,tU(r,o,s,e,n))}else return Sh(a,Xw(r,e,n))}function eU(r,e){if(!e.type.compatibleContent(r.type))throw new Uw("Cannot join "+e.type.name+" onto "+r.type.name)}function lR(r,e,t){let n=r.node(t);return eU(n,e.node(t)),n}function kh(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function mg(r,e,t,n){let i=(e||r).node(t),a=0,o=e?e.index(t):i.childCount;r&&(a=r.index(t),r.depth>t?a++:r.textOffset&&(kh(r.nodeAfter,n),a++));for(let s=a;s<o;s++)kh(i.child(s),n);e&&e.depth==t&&e.textOffset&&kh(e.nodeBefore,n)}function Sh(r,e){return r.type.checkContent(e),r.copy(e)}function tU(r,e,t,n,i){let a=r.depth>i&&lR(r,e,i+1),o=n.depth>i&&lR(t,n,i+1),s=[];return mg(null,r,i,s),a&&o&&e.index(i)==t.index(i)?(eU(a,o),kh(Sh(a,tU(r,e,t,n,i+1)),s)):(a&&kh(Sh(a,Xw(r,e,i+1)),s),mg(e,t,i,s),o&&kh(Sh(o,Xw(t,n,i+1)),s)),mg(n,null,i,s),new nt(s)}function Xw(r,e,t){let n=[];if(mg(null,r,t,n),r.depth>t){let i=lR(r,e,t+1);kh(Sh(i,Xw(r,e,t+1)),n)}return mg(e,null,t,n),new nt(n)}function URe(r,e){let t=e.depth-r.openStart,i=e.node(t).copy(r.content);for(let a=t-1;a>=0;a--)i=e.node(a).copy(nt.from(i));return{start:i.resolveNoCache(r.openStart+t),end:i.resolveNoCache(i.content.size-r.openEnd-t)}}class Xg{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Jr.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){let s=n;n=i,i=s}let a=n.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!i||!a[o].isInSet(i.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new jw(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],i=0,a=t;for(let o=e;;){let{index:s,offset:l}=o.content.findIndex(a),u=a-l;if(n.push(o,s,i+l),!u||(o=o.child(s),o.isText))break;a=u-1,i+=l+1}return new Xg(t,n,a)}static resolveCached(e,t){let n=j2.get(e);if(n)for(let a=0;a<n.elts.length;a++){let o=n.elts[a];if(o.pos==t)return o}else j2.set(e,n=new XRe);let i=n.elts[n.i]=Xg.resolve(e,t);return n.i=(n.i+1)%jRe,i}}class XRe{constructor(){this.elts=[],this.i=0}}const jRe=12,j2=new WeakMap;class jw{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const YRe=Object.create(null);let of=class uR{constructor(e,t,n,i=Jr.none){this.type=e,this.attrs=t,this.marks=i,this.content=n||nt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,i=0){this.content.nodesBetween(e,t,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,i){return this.content.textBetween(e,t,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&Ww(this.attrs,t||e.defaultAttrs||YRe)&&Jr.sameSet(this.marks,n||Jr.none)}copy(e=null){return e==this.content?this:new uR(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new uR(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return St.empty;let i=this.resolve(e),a=this.resolve(t),o=n?0:i.sharedDepth(t),s=i.start(o),u=i.node(o).content.cut(i.pos-s,a.pos-s);return new St(u,i.depth-o,a.depth-o)}replace(e,t,n){return WRe(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let i=this.content.child(t-1);return{node:i,index:t-1,offset:n-i.nodeSize}}resolve(e){return Xg.resolveCached(this,e)}resolveNoCache(e){return Xg.resolve(this,e)}rangeHasMark(e,t,n){let i=!1;return t>e&&this.nodesBetween(e,t,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),rU(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=nt.empty,i=0,a=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,i,a),s=o&&o.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let l=i;l<a;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),o=a&&a.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Jr.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Jr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let i=nt.fromJSON(e,t.content),a=e.nodeType(t.type).create(t.attrs,i,n);return a.type.checkAttrs(a.attrs),a}};of.prototype.text=void 0;class Yw extends of{constructor(e,t,n,i){if(super(e,t,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):rU(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Yw(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Yw(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function rU(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class Nh{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new GRe(e,t);if(n.next==null)return Nh.empty;let i=nU(n);n.next&&n.err("Unexpected trailing text");let a=iNe(nNe(i));return aNe(a,n),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let i=this;for(let a=t;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let i=[this];function a(o,s){let l=o.matchFragment(e,n);if(l&&(!t||l.validEnd))return nt.from(s.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:h}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let p=a(h,s.concat(c));if(p)return p}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let o=[];for(let s=i;s.type;s=s.via)o.push(s.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:s,next:l}=a.next[o];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in t)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),t[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&t(n.next[i].next)}return t(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)a+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return a}).join(`
`)}}Nh.empty=new Nh(!0);class GRe{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function nU(r){let e=[];do e.push(KRe(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function KRe(r){let e=[];do e.push(JRe(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function JRe(r){let e=rNe(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=eNe(r,e);else break;return e}function Y2(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function eNe(r,e){let t=Y2(r),n=t;return r.eat(",")&&(r.next!="}"?n=Y2(r):n=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function tNe(r,e){let t=r.nodeTypes,n=t[e];if(n)return[n];let i=[];for(let a in t){let o=t[a];o.isInGroup(e)&&i.push(o)}return i.length==0&&r.err("No node type or group '"+e+"' found"),i}function rNe(r){if(r.eat("(")){let e=nU(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=tNe(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function nNe(r){let e=[[]];return i(a(r,0),t()),e;function t(){return e.push([])-1}function n(o,s,l){let u={term:l,to:s};return e[o].push(u),u}function i(o,s){o.forEach(l=>l.to=s)}function a(o,s){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(a(u,s)),[]);if(o.type=="seq")for(let l=0;;l++){let u=a(o.exprs[l],s);if(l==o.exprs.length-1)return u;i(u,s=t())}else if(o.type=="star"){let l=t();return n(s,l),i(a(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=t();return i(a(o.expr,s),l),i(a(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(s)].concat(a(o.expr,s));if(o.type=="range"){let l=s;for(let u=0;u<o.min;u++){let c=t();i(a(o.expr,l),c),l=c}if(o.max==-1)i(a(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=t();n(l,c),i(a(o.expr,l),c),l=c}return[n(l)]}else{if(o.type=="name")return[n(s,void 0,o.value)];throw new Error("Unknown expr type")}}}}function iU(r,e){return e-r}function G2(r,e){let t=[];return n(e),t.sort(iU);function n(i){let a=r[i];if(a.length==1&&!a[0].term)return n(a[0].to);t.push(i);for(let o=0;o<a.length;o++){let{term:s,to:l}=a[o];!s&&t.indexOf(l)==-1&&n(l)}}}function iNe(r){let e=Object.create(null);return t(G2(r,0));function t(n){let i=[];n.forEach(o=>{r[o].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);G2(r,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let a=e[n.join(",")]=new Nh(n.indexOf(r.length-1)>-1);for(let o=0;o<i.length;o++){let s=i[o][1].sort(iU);a.next.push({type:i[o][0],next:e[s.join(",")]||t(s)})}return a}}function aNe(r,e){for(let t=0,n=[r];t<n.length;t++){let i=n[t],a=!i.validEnd,o=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];o.push(l.name),a&&!(l.isText||l.hasRequiredAttrs())&&(a=!1),n.indexOf(u)==-1&&n.push(u)}a&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function aU(r){let e=Object.create(null);for(let t in r){let n=r[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function oU(r,e){let t=Object.create(null);for(let n in r){let i=e&&e[n];if(i===void 0){let a=r[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=i}return t}function sU(r,e,t,n){for(let i in e)if(!(i in r))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in r){let a=r[i];a.validate&&a.validate(e[i])}}function lU(r,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new sNe(r,n,e[n]);return t}let K2=class uU{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=lU(e,n.attrs),this.defaultAttrs=aU(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Nh.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:oU(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new of(this,this.computeAttrs(e),nt.from(t),Jr.setFrom(n))}createChecked(e=null,t,n){return t=nt.from(t),this.checkContent(t),new of(this,this.computeAttrs(e),t,Jr.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=nt.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),a=i&&i.fillBefore(nt.empty,!0);return a?new of(this,e,t.append(a),Jr.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){sU(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Jr.none:e}static compile(e,t){let n=Object.create(null);e.forEach((a,o)=>n[a]=new uU(a,t,o));let i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function oNe(r,e,t){let n=t.split("|");return i=>{let a=i===null?"null":typeof i;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${r}, got ${a}`)}}class sNe{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?oNe(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class tk{constructor(e,t,n,i){this.name=e,this.rank=t,this.schema=n,this.spec=i,this.attrs=lU(e,i.attrs),this.excluded=null;let a=aU(this.attrs);this.instance=a?new Jr(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Jr(this,oU(this.attrs,e))}static compile(e,t){let n=Object.create(null),i=0;return e.forEach((a,o)=>n[a]=new tk(a,i++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){sU(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class cU{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=zi.from(e.nodes),t.marks=zi.from(e.marks||{}),this.nodes=K2.compile(this.spec.nodes,this),this.marks=tk.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],o=a.spec.content||"",s=a.spec.marks;if(a.contentMatch=n[o]||(n[o]=Nh.parse(o,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=s=="_"?null:s?J2(this,s.split(" ")):s==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],o=a.spec.excludes;a.excluded=o==null?[a]:o==""?[]:J2(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof K2){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,i)}text(e,t){let n=this.nodes.text;return new Yw(n,n.defaultAttrs,e,Jr.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return of.fromJSON(this,e)}markFromJSON(e){return Jr.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function J2(r,e){let t=[];for(let n=0;n<e.length;n++){let i=e[n],a=r.marks[i],o=a;if(a)t.push(a);else for(let s in r.marks){let l=r.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function lNe(r){return r.tag!=null}function uNe(r){return r.style!=null}class $h{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(i=>{if(lNe(i))this.tags.push(i);else if(uNe(i)){let a=/[^=]*/.exec(i.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,t={}){let n=new tB(this,t,!1);return n.addAll(e,Jr.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new tB(this,t,!0);return n.addAll(e,Jr.none,t.from,t.to),St.maxOpen(n.finish())}matchTag(e,t,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(hNe(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(e);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(e,t,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let o=this.styles[a],s=o.style;if(!(s.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function n(i){let a=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let s=t[o];if((s.priority==null?50:s.priority)<a)break}t.splice(o,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(o=>{n(o=rB(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(o=>{n(o=rB(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new $h(e,$h.schemaRules(e)))}}const fU={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},cNe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},hU={ol:!0,ul:!0},jg=1,cR=2,F0=4;function eB(r,e,t){return e!=null?(e?jg:0)|(e==="full"?cR:0):r&&r.whitespace=="pre"?jg|cR:t&-5}class r0{constructor(e,t,n,i,a,o){this.type=e,this.attrs=t,this.marks=n,this.solid=i,this.options=o,this.content=[],this.activeMarks=Jr.none,this.match=a||(o&F0?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(nt.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&jg)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let t=nt.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(nt.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!fU.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class tB{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=t.topNode,a,o=eB(null,t.preserveWhitespace,0)|(n?F0:0);i?a=new r0(i.type,i.attrs,Jr.none,!0,t.topMatch||i.type.contentMatch,o):n?a=new r0(null,null,Jr.none,!0,null,o):a=new r0(e.schema.topNodeType,null,Jr.none,!0,null,o),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,i=this.top,a=i.options&cR?"full":this.localPreserveWS||(i.options&jg)>0;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)a!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),s;hU.hasOwnProperty(o)&&this.parser.normalizeLists&&fNe(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));e:if(l?l.ignore:cNe.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,c=this.needsBlock;if(fU.hasOwnProperty(o))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),u=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let h=l&&l.skip?t:this.readStyles(e,t);h&&this.addAll(e,h),u&&this.sync(a),this.needsBlock=c}else{let u=this.readStyles(e,t);u&&this.addElementByRule(e,l,u,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],o=n.getPropertyValue(a);if(o)for(let s=void 0;;){let l=this.parser.matchStyle(a,o,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(u=>!l.clearMark(u)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return t}addElementByRule(e,t,n,i){let a,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(o,t.attrs||null,n,t.preserveWhitespace);l&&(a=!0,n=l)}else{let l=this.parser.schema.marks[t.mark];n=n.concat(l.create(t.attrs))}let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}a&&this.sync(s)&&this.open--}addAll(e,t,n,i){let a=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=i==null?null:e.childNodes[i];o!=s;o=o.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(o,t);this.findAtPoint(e,a)}findPlace(e,t,n){let i,a;for(let o=this.open,s=0;o>=0;o--){let l=this.nodes[o],u=l.findWrapping(e);if(u&&(!i||i.length>u.length+s)&&(i=u,a=l,!u.length))break;if(l.solid){if(n)break;s+=2}}if(!i)return null;this.sync(a);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(t=this.enterInner(a,null,t))}let i=this.findPlace(e,t,n);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let o=Jr.none;for(let s of i.concat(e.marks))(a.type?a.type.allowsMarkType(s.type):nB(s.type,e.type))&&(o=s.addToSet(o));return a.content.push(e.mark(o)),!0}return!1}enter(e,t,n,i){let a=this.findPlace(e.create(t),n,!1);return a&&(a=this.enterInner(e,t,n,!0,i)),a}enterInner(e,t,n,i=!1,a){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let s=eB(e,a,o.options);o.options&F0&&o.content.length==0&&(s|=F0);let l=Jr.none;return n=n.filter(u=>(o.type?o.type.allowsMarkType(u.type):nB(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new r0(e,t,l,i,null,s)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=jg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),o=(s,l)=>{for(;s>=0;s--){let u=t[s];if(u==""){if(s==t.length-1||s==0)continue;for(;l>=a;l--)if(o(s-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:n&&l>=a?n.node(l-a).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function fNe(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&hU.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function hNe(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function rB(r){let e={};for(let t in r)e[t]=r[t];return e}function nB(r,e){let t=e.schema.nodes;for(let n in t){let i=t[n];if(!i.allowsMarkType(r))continue;let a=[],o=s=>{a.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==e||a.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class cm{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=jA(t).createDocumentFragment());let i=n,a=[];return e.forEach(o=>{if(a.length||o.marks.length){let s=0,l=0;for(;s<a.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(a[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<a.length;)i=a.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,t);c&&(a.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:i}=V0(jA(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,t,n={}){let i=this.marks[e.type.name];return i&&V0(jA(n),i(e,t),null,e.attrs)}static renderSpec(e,t,n=null,i){return V0(e,t,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new cm(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=iB(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return iB(e.marks)}}function iB(r){let e={};for(let t in r){let n=r[t].spec.toDOM;n&&(e[t]=n)}return e}function jA(r){return r.document||window.document}const aB=new WeakMap;function dNe(r){let e=aB.get(r);return e===void 0&&aB.set(r,e=pNe(r)),e}function pNe(r){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)t(n[i]);else for(let i in n)t(n[i])}return t(r),e}function V0(r,e,t,n){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=dNe(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let s,l=t?r.createElementNS(t,i):r.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let h in u)if(u[h]!=null){let p=h.indexOf(" ");p>0?l.setAttributeNS(h.slice(0,p),h.slice(p+1),u[h]):l.setAttribute(h,u[h])}}for(let h=c;h<e.length;h++){let p=e[h];if(p===0){if(h<e.length-1||h>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:g,contentDOM:O}=V0(r,p,t,n);if(l.appendChild(g),O){if(s)throw new RangeError("Multiple content holes");s=O}}}return{dom:l,contentDOM:s}}const dU=65535,pU=Math.pow(2,16);function mNe(r,e){return r+e*pU}function oB(r){return r&dU}function vNe(r){return(r-(r&dU))/pU}const mU=1,vU=2,Z0=4,gU=8;class fR{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&gU)>0}get deletedBefore(){return(this.delInfo&(mU|Z0))>0}get deletedAfter(){return(this.delInfo&(vU|Z0))>0}get deletedAcross(){return(this.delInfo&Z0)>0}}class fo{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&fo.empty)return fo.empty}recover(e){let t=0,n=oB(e);if(!this.inverted)for(let i=0;i<n;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+t+vNe(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let i=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[s+a],c=this.ranges[s+o],h=l+u;if(e<=h){let p=u?e==l?-1:e==h?1:t:t,g=l+i+(p<0?0:c);if(n)return g;let O=e==(t<0?l:h)?null:mNe(s/3,e-l),T=e==l?vU:e==h?mU:Z0;return(t<0?e!=l:e!=h)&&(T|=gU),new fR(g,T,O)}i+=c-u}return n?e+i:new fR(e+i,0,null)}touches(e,t){let n=0,i=oB(t),a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[s+a],c=l+u;if(e<=c&&s==i*3)return!0;n+=this.ranges[s+o]-u}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let o=this.ranges[i],s=o-(this.inverted?a:0),l=o+(this.inverted?0:a),u=this.ranges[i+t],c=this.ranges[i+n];e(s,s+u,l,l+c),a+=c-u}}invert(){return new fo(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?fo.empty:new fo(e<0?[0,-e,0]:[0,0,e])}}fo.empty=new fo([]);class Yg{constructor(e,t,n=0,i=e?e.length:0){this.mirror=t,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Yg(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?n+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?n-i-1:void 0)}}invert(){let e=new Yg;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let i=0;for(let a=this.from;a<this.to;a++){let o=this._maps[a],s=o.mapResult(e,t);if(s.recover!=null){let l=this.getMirror(a);if(l!=null&&l>a&&l<this.to){a=l,e=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return n?e:new fR(e,i,null)}}const YA=Object.create(null);class ka{getMap(){return fo.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=YA[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in YA)throw new RangeError("Duplicate use of step JSON ID "+e);return YA[e]=t,t.prototype.jsonID=e,t}}class ui{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new ui(e,null)}static fail(e){return new ui(null,e)}static fromReplace(e,t,n,i){try{return ui.ok(e.replace(t,n,i))}catch(a){if(a instanceof Uw)return ui.fail(a.message);throw a}}}function a$(r,e,t){let n=[];for(let i=0;i<r.childCount;i++){let a=r.child(i);a.content.size&&(a=a.copy(a$(a.content,e,a))),a.isInline&&(a=e(a,t,i)),n.push(a)}return nt.fromArray(n)}class Jc extends ka{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new St(a$(t.content,(o,s)=>!o.isAtom||!s.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return ui.fromReplace(e,this.from,this.to,a)}invert(){return new jl(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Jc(t.pos,n.pos,this.mark)}merge(e){return e instanceof Jc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Jc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Jc(t.from,t.to,e.markFromJSON(t.mark))}}ka.jsonID("addMark",Jc);class jl extends ka{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new St(a$(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return ui.fromReplace(e,this.from,this.to,n)}invert(){return new Jc(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new jl(t.pos,n.pos,this.mark)}merge(e){return e instanceof jl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new jl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new jl(t.from,t.to,e.markFromJSON(t.mark))}}ka.jsonID("removeMark",jl);class ef extends ka{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ui.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return ui.fromReplace(e,this.pos,this.pos+1,new St(nt.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(n))return new ef(this.pos,t.marks[i]);return new ef(this.pos,this.mark)}}return new Lh(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ef(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ef(t.pos,e.markFromJSON(t.mark))}}ka.jsonID("addNodeMark",ef);class Lh extends ka{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ui.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return ui.fromReplace(e,this.pos,this.pos+1,new St(nt.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ef(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Lh(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Lh(t.pos,e.markFromJSON(t.mark))}}ka.jsonID("removeNodeMark",Lh);class ma extends ka{constructor(e,t,n,i=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=i}apply(e){return this.structure&&hR(e,this.from,this.to)?ui.fail("Structure replace would overwrite content"):ui.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new fo([this.from,this.to-this.from,this.slice.size])}invert(e){return new ma(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new ma(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ma)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?St.empty:new St(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ma(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?St.empty:new St(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ma(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ma(t.from,t.to,St.fromJSON(e,t.slice),!!t.structure)}}ka.jsonID("replace",ma);class Di extends ka{constructor(e,t,n,i,a,o,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=o,this.structure=s}apply(e){if(this.structure&&(hR(e,this.from,this.gapFrom)||hR(e,this.gapTo,this.to)))return ui.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return ui.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?ui.fromReplace(e,this.from,this.to,n):ui.fail("Content does not fit in gap")}getMap(){return new fo([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Di(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||i<t.pos||a>n.pos?null:new Di(t.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Di(t.from,t.to,t.gapFrom,t.gapTo,St.fromJSON(e,t.slice),t.insert,!!t.structure)}}ka.jsonID("replaceAround",Di);function hR(r,e,t){let n=r.resolve(e),i=t-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let o=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function gNe(r,e,t,n){let i=[],a=[],o,s;r.doc.nodesBetween(e,t,(l,u,c)=>{if(!l.isInline)return;let h=l.marks;if(!n.isInSet(h)&&c.type.allowsMarkType(n.type)){let p=Math.max(u,e),g=Math.min(u+l.nodeSize,t),O=n.addToSet(h);for(let T=0;T<h.length;T++)h[T].isInSet(O)||(o&&o.to==p&&o.mark.eq(h[T])?o.to=g:i.push(o=new jl(p,g,h[T])));s&&s.to==p?s.to=g:a.push(s=new Jc(p,g,n))}}),i.forEach(l=>r.step(l)),a.forEach(l=>r.step(l))}function ONe(r,e,t,n){let i=[],a=0;r.doc.nodesBetween(e,t,(o,s)=>{if(!o.isInline)return;a++;let l=null;if(n instanceof tk){let u=o.marks,c;for(;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let u=Math.min(s+o.nodeSize,t);for(let c=0;c<l.length;c++){let h=l[c],p;for(let g=0;g<i.length;g++){let O=i[g];O.step==a-1&&h.eq(i[g].style)&&(p=O)}p?(p.to=u,p.step=a):i.push({style:h,from:Math.max(s,e),to:u,step:a})}}}),i.forEach(o=>r.step(new jl(o.from,o.to,o.style)))}function o$(r,e,t,n=t.contentMatch,i=!0){let a=r.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<a.childCount;l++){let u=a.child(l),c=s+u.nodeSize,h=n.matchType(u.type);if(!h)o.push(new ma(s,c,St.empty));else{n=h;for(let p=0;p<u.marks.length;p++)t.allowsMarkType(u.marks[p].type)||r.step(new jl(s,c,u.marks[p]));if(i&&u.isText&&t.whitespace!="pre"){let p,g=/\r?\n|\r/g,O;for(;p=g.exec(u.text);)O||(O=new St(nt.from(t.schema.text(" ",t.allowedMarks(u.marks))),0,0)),o.push(new ma(s+p.index,s+p.index+p[0].length,O))}}s=c}if(!n.validEnd){let l=n.fillBefore(nt.empty,!0);r.replace(s,s,new St(l,0,0))}for(let l=o.length-1;l>=0;l--)r.step(o[l])}function yNe(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function rk(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let n=r.depth;;--n){let i=r.$from.node(n),a=r.$from.index(n),o=r.$to.indexAfter(n);if(n<r.depth&&i.canReplace(a,o,t))return n;if(n==0||i.type.spec.isolating||!yNe(i,a,o))break}return null}function bNe(r,e,t){let{$from:n,$to:i,depth:a}=e,o=n.before(a+1),s=i.after(a+1),l=o,u=s,c=nt.empty,h=0;for(let O=a,T=!1;O>t;O--)T||n.index(O)>0?(T=!0,c=nt.from(n.node(O).copy(c)),h++):l--;let p=nt.empty,g=0;for(let O=a,T=!1;O>t;O--)T||i.after(O+1)<i.end(O)?(T=!0,p=nt.from(i.node(O).copy(p)),g++):u++;r.step(new Di(l,u,o,s,new St(c.append(p),h,g),c.size-h,!0))}function wNe(r,e,t=null,n=r){let i=kNe(r,e),a=i&&SNe(n,e);return a?i.map(sB).concat({type:e,attrs:t}).concat(a.map(sB)):null}function sB(r){return{type:r,attrs:null}}function kNe(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.contentMatchAt(n).findWrapping(e);if(!a)return null;let o=a.length?a[0]:e;return t.canReplaceWith(n,i,o)?a:null}function SNe(r,e){let{parent:t,startIndex:n,endIndex:i}=r,a=t.child(n),o=e.contentMatch.findWrapping(a.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(t.child(u).type);return!l||!l.validEnd?null:o}function xNe(r,e,t){let n=nt.empty;for(let o=t.length-1;o>=0;o--){if(n.size){let s=t[o].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=nt.from(t[o].type.create(t[o].attrs,n))}let i=e.start,a=e.end;r.step(new Di(i,a,i,a,new St(n,0,0),t.length,!0))}function CNe(r,e,t,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=r.steps.length;r.doc.nodesBetween(e,t,(o,s)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(n,l)&&TNe(r.doc,r.mapping.slice(a).map(s),n)){let u=null;if(n.schema.linebreakReplacement){let g=n.whitespace=="pre",O=!!n.contentMatch.matchType(n.schema.linebreakReplacement);g&&!O?u=!1:!g&&O&&(u=!0)}u===!1&&yU(r,o,s,a),o$(r,r.mapping.slice(a).map(s,1),n,void 0,u===null);let c=r.mapping.slice(a),h=c.map(s,1),p=c.map(s+o.nodeSize,1);return r.step(new Di(h,p,h+1,p-1,new St(nt.from(n.create(l,null,o.marks)),0,0),1,!0)),u===!0&&OU(r,o,s,a),!1}})}function OU(r,e,t,n){e.forEach((i,a)=>{if(i.isText){let o,s=/\r?\n|\r/g;for(;o=s.exec(i.text);){let l=r.mapping.slice(n).map(t+1+a+o.index);r.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function yU(r,e,t,n){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let o=r.mapping.slice(n).map(t+1+a);r.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function TNe(r,e,t){let n=r.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,t)}function ENe(r,e,t,n,i){let a=r.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let o=t.create(n,null,i||a.marks);if(a.isLeaf)return r.replaceWith(e,e+a.nodeSize,o);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new Di(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new St(nt.from(o),0,0),1,!0))}function kp(r,e,t=1,n){let i=r.resolve(e),a=i.depth-t,o=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=t-2;u>a;u--,c--){let h=i.node(u),p=i.index(u);if(h.type.spec.isolating)return!1;let g=h.content.cutByIndex(p,h.childCount),O=n&&n[c+1];O&&(g=g.replaceChild(0,O.type.create(O.attrs)));let T=n&&n[c]||h;if(!h.canReplace(p+1,h.childCount)||!T.type.validContent(g))return!1}let s=i.indexAfter(a),l=n&&n[0];return i.node(a).canReplaceWith(s,s,l?l.type:i.node(a+1).type)}function MNe(r,e,t=1,n){let i=r.doc.resolve(e),a=nt.empty,o=nt.empty;for(let s=i.depth,l=i.depth-t,u=t-1;s>l;s--,u--){a=nt.from(i.node(s).copy(a));let c=n&&n[u];o=nt.from(c?c.type.create(c.attrs,o):i.node(s).copy(o))}r.step(new ma(e,e,new St(a.append(o),t,t),!0))}function bU(r,e){let t=r.resolve(e),n=t.index();return DNe(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function ANe(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:n}=r.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),o=a.type==n?r.type.schema.nodes.text:a.type;if(t=t.matchType(o),!t||!r.type.allowsMarks(a.marks))return!1}return t.validEnd}function DNe(r,e){return!!(r&&e&&!r.isLeaf&&ANe(r,e))}function PNe(r,e,t){let n=null,{linebreakReplacement:i}=r.doc.type.schema,a=r.doc.resolve(e-t),o=a.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",h=!!o.contentMatch.matchType(i);c&&!h?n=!1:!c&&h&&(n=!0)}let s=r.steps.length;if(n===!1){let c=r.doc.resolve(e+t);yU(r,c.node(),c.before(),s)}o.inlineContent&&o$(r,e+t-1,o,a.node().contentMatchAt(a.index()),n==null);let l=r.mapping.slice(s),u=l.map(e-t);if(r.step(new ma(u,l.map(e+t,-1),St.empty,!0)),n===!0){let c=r.doc.resolve(u);OU(r,c.node(),c.before(),r.steps.length)}return r}function RNe(r,e,t){let n=r.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,t))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,t))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}function NNe(r,e,t){let n=r.resolve(e);if(!t.content.size)return e;let i=t.content;for(let a=0;a<t.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let o=n.depth;o>=0;o--){let s=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(s>0?1:0),u=n.node(o),c=!1;if(a==1)c=u.canReplace(l,l,i);else{let h=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=h&&u.canReplaceWith(l,l,h[0])}if(c)return s==0?n.pos:s<0?n.before(o+1):n.after(o+1)}return null}function s$(r,e,t=e,n=St.empty){if(e==t&&!n.size)return null;let i=r.resolve(e),a=r.resolve(t);return wU(i,a,n)?new ma(e,t,n):new $Ne(i,a,n).fit()}function wU(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class $Ne{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=nt.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=nt.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,o=n.depth,s=i.depth;for(;o&&s&&a.childCount==1;)a=a.firstChild.content,o--,s--;let l=new St(a,o,s);return e>-1?new Di(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new ma(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=t.firstChild;if(t.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}t=a.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=GA(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let o=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:u}=this.frontier[s],c,h=null;if(t==1&&(o?u.matchType(o.type)||(h=u.fillBefore(nt.from(o),!1)):a&&l.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:s,parent:a,inject:h};if(t==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:a,wrap:c};if(a&&u.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=GA(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new St(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=GA(e,t);if(i.childCount<=1&&t>0){let a=e.size-t<=t+i.size;this.unplaced=new St(Yv(e,t-1,1),t-1,a?t-1:n)}else this.unplaced=new St(Yv(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:i,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let T=0;T<a.length;T++)this.openFrontierNode(a[T]);let o=this.unplaced,s=n?n.content:o.content,l=o.openStart-e,u=0,c=[],{match:h,type:p}=this.frontier[t];if(i){for(let T=0;T<i.childCount;T++)c.push(i.child(T));h=h.matchFragment(i)}let g=s.size+e-(o.content.size-o.openEnd);for(;u<s.childCount;){let T=s.child(u),M=h.matchType(T.type);if(!M)break;u++,(u>1||l==0||T.content.size)&&(h=M,c.push(kU(T.mark(p.allowedMarks(T.marks)),u==1?l:0,u==s.childCount?g:-1)))}let O=u==s.childCount;O||(g=-1),this.placed=Gv(this.placed,t,nt.from(c)),this.frontier[t].match=h,O&&g<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,M=s;T<g;T++){let R=M.lastChild;this.frontier.push({type:R.type,match:R.contentMatchAt(R.childCount)}),M=R.content}this.unplaced=O?e==0?St.empty:new St(Yv(o.content,e-1,1),e-1,g<0?o.openEnd:e-1):new St(Yv(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!KA(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:i}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=KA(e,t,i,n,a);if(o){for(let s=t-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],c=KA(e,s,u,l,!0);if(!c||c.childCount)continue e}return{depth:t,fit:o,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Gv(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,t=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Gv(this.placed,this.depth,nt.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(nt.empty,!0);t.childCount&&(this.placed=Gv(this.placed,this.frontier.length,t))}}function Yv(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(Yv(r.firstChild.content,e-1,t)))}function Gv(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(Gv(r.lastChild.content,e-1,t)))}function GA(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function kU(r,e,t){if(e<=0)return r;let n=r.content;return e>1&&(n=n.replaceChild(0,kU(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=r.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(r.type.contentMatch.matchFragment(n).fillBefore(nt.empty,!0)))),r.copy(n)}function KA(r,e,t,n,i){let a=r.node(e),o=i?r.indexAfter(e):r.index(e);if(o==a.childCount&&!t.compatibleContent(a.type))return null;let s=n.fillBefore(a.content,!0,o);return s&&!LNe(t,a.content,o)?s:null}function LNe(r,e,t){for(let n=t;n<e.childCount;n++)if(!r.allowsMarks(e.child(n).marks))return!0;return!1}function _Ne(r){return r.spec.defining||r.spec.definingForContent}function INe(r,e,t,n){if(!n.size)return r.deleteRange(e,t);let i=r.doc.resolve(e),a=r.doc.resolve(t);if(wU(i,a,n))return r.step(new ma(e,t,n));let o=xU(i,r.doc.resolve(t));o[o.length-1]==0&&o.pop();let s=-(i.depth+1);o.unshift(s);for(let p=i.depth,g=i.pos-1;p>0;p--,g--){let O=i.node(p).type.spec;if(O.defining||O.definingAsContext||O.isolating)break;o.indexOf(p)>-1?s=p:i.before(p)==g&&o.splice(1,0,-p)}let l=o.indexOf(s),u=[],c=n.openStart;for(let p=n.content,g=0;;g++){let O=p.firstChild;if(u.push(O),g==n.openStart)break;p=O.content}for(let p=c-1;p>=0;p--){let g=u[p],O=_Ne(g.type);if(O&&!g.sameMarkup(i.node(Math.abs(s)-1)))c=p;else if(O||!g.type.isTextblock)break}for(let p=n.openStart;p>=0;p--){let g=(p+c+1)%(n.openStart+1),O=u[g];if(O)for(let T=0;T<o.length;T++){let M=o[(T+l)%o.length],R=!0;M<0&&(R=!1,M=-M);let z=i.node(M-1),U=i.index(M-1);if(z.canReplaceWith(U,U,O.type,O.marks))return r.replace(i.before(M),R?a.after(M):t,new St(SU(n.content,0,n.openStart,g),g,n.openEnd))}}let h=r.steps.length;for(let p=o.length-1;p>=0&&(r.replace(e,t,n),!(r.steps.length>h));p--){let g=o[p];g<0||(e=i.before(g),t=a.after(g))}}function SU(r,e,t,n,i){if(e<t){let a=r.firstChild;r=r.replaceChild(0,a.copy(SU(a.content,e+1,t,n,a)))}if(e>n){let a=i.contentMatchAt(0),o=a.fillBefore(r).append(r);r=o.append(a.matchFragment(o).fillBefore(nt.empty,!0))}return r}function QNe(r,e,t,n){if(!n.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let i=RNe(r.doc,e,n.type);i!=null&&(e=t=i)}r.replaceRange(e,t,new St(nt.from(n),0,0))}function BNe(r,e,t){let n=r.doc.resolve(e),i=r.doc.resolve(t),a=xU(n,i);for(let o=0;o<a.length;o++){let s=a[o],l=o==a.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return r.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return r.delete(n.before(s),i.after(s))}for(let o=1;o<=n.depth&&o<=i.depth;o++)if(e-n.start(o)==n.depth-o&&t>n.end(o)&&i.end(o)-t!=i.depth-o&&n.start(o-1)==i.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),i.index(o-1)))return r.delete(n.before(o),t);r.delete(e,t)}function xU(r,e){let t=[],n=Math.min(r.depth,e.depth);for(let i=n;i>=0;i--){let a=r.start(i);if(a<r.pos-(r.depth-i)||e.end(i)>e.pos+(e.depth-i)||r.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==r.depth&&i==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&t.push(i)}return t}class Sp extends ka{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return ui.fail("No node at attribute step's position");let n=Object.create(null);for(let a in t.attrs)n[a]=t.attrs[a];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return ui.fromReplace(e,this.pos,this.pos+1,new St(nt.from(i),0,t.isLeaf?0:1))}getMap(){return fo.empty}invert(e){return new Sp(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Sp(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Sp(t.pos,t.attr,t.value)}}ka.jsonID("attr",Sp);class Gg extends ka{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return ui.ok(n)}getMap(){return fo.empty}invert(e){return new Gg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Gg(t.attr,t.value)}}ka.jsonID("docAttr",Gg);let Bp=class extends Error{};Bp=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};Bp.prototype=Object.create(Error.prototype);Bp.prototype.constructor=Bp;Bp.prototype.name="TransformError";class qNe{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Yg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Bp(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=St.empty){let i=s$(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new St(nt.from(n),0,0))}delete(e,t){return this.replace(e,t,St.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return INe(this,e,t,n),this}replaceRangeWith(e,t,n){return QNe(this,e,t,n),this}deleteRange(e,t){return BNe(this,e,t),this}lift(e,t){return bNe(this,e,t),this}join(e,t=1){return PNe(this,e,t),this}wrap(e,t){return xNe(this,e,t),this}setBlockType(e,t=e,n,i=null){return CNe(this,e,t,n,i),this}setNodeMarkup(e,t,n=null,i){return ENe(this,e,t,n,i),this}setNodeAttribute(e,t,n){return this.step(new Sp(e,t,n)),this}setDocAttribute(e,t){return this.step(new Gg(e,t)),this}addNodeMark(e,t){return this.step(new ef(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof Jr)t.isInSet(n.marks)&&this.step(new Lh(e,t));else{let i=n.marks,a,o=[];for(;a=t.isInSet(i);)o.push(new Lh(e,a)),i=a.removeFromSet(i);for(let s=o.length-1;s>=0;s--)this.step(o[s])}return this}split(e,t=1,n){return MNe(this,e,t,n),this}addMark(e,t,n){return gNe(this,e,t,n),this}removeMark(e,t,n){return ONe(this,e,t,n),this}clearIncompatible(e,t,n){return o$(this,e,t,n),this}}const JA=Object.create(null);class Dr{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new CU(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=St.empty){let n=t.content.lastChild,i=null;for(let s=0;s<t.openEnd;s++)i=n,n=n.lastChild;let a=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:l,$to:u}=o[s],c=e.mapping.slice(a);e.replaceRange(c.map(l.pos),c.map(u.pos),s?St.empty:t),s==0&&cB(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:o,$to:s}=i[a],l=e.mapping.slice(n),u=l.map(o.pos),c=l.map(s.pos);a?e.deleteRange(u,c):(e.replaceRangeWith(u,c,t),cB(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let i=e.parent.inlineContent?new Qr(e):np(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let o=t<0?np(e.node(0),e.node(a),e.before(a+1),e.index(a),t,n):np(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Qa(e.node(0))}static atStart(e){return np(e,e,0,0,1)||new Qa(e)}static atEnd(e){return np(e,e,e.content.size,e.childCount,-1)||new Qa(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=JA[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in JA)throw new RangeError("Duplicate use of selection JSON ID "+e);return JA[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Qr.between(this.$anchor,this.$head).getBookmark()}}Dr.prototype.visible=!0;class CU{constructor(e,t){this.$from=e,this.$to=t}}let lB=!1;function uB(r){!lB&&!r.parent.inlineContent&&(lB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class Qr extends Dr{constructor(e,t=e){uB(e),uB(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Dr.near(n);let i=e.resolve(t.map(this.anchor));return new Qr(i.parent.inlineContent?i:n,n)}replace(e,t=St.empty){if(super.replace(e,t),t==St.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Qr&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new nk(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Qr(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))}static between(e,t,n){let i=e.pos-t.pos;if((!n||i)&&(n=i>=0?1:-1),!t.parent.inlineContent){let a=Dr.findFrom(t,n,!0)||Dr.findFrom(t,-n,!0);if(a)t=a.$head;else return Dr.near(t,n)}return e.parent.inlineContent||(i==0?e=t:(e=(Dr.findFrom(e,-n,!0)||Dr.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Qr(e,t)}}Dr.jsonID("text",Qr);class nk{constructor(e,t){this.anchor=e,this.head=t}map(e){return new nk(e.map(this.anchor),e.map(this.head))}resolve(e){return Qr.between(e.resolve(this.anchor),e.resolve(this.head))}}class hr extends Dr{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),a=e.resolve(i);return n?Dr.near(a):new hr(a)}content(){return new St(nt.from(this.node),0,0)}eq(e){return e instanceof hr&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new l$(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new hr(e.resolve(t.anchor))}static create(e,t){return new hr(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}hr.prototype.visible=!1;Dr.jsonID("node",hr);class l${constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new nk(n,n):new l$(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&hr.isSelectable(n)?new hr(t):Dr.near(t)}}class Qa extends Dr{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=St.empty){if(t==St.empty){e.delete(0,e.doc.content.size);let n=Dr.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Qa(e)}map(e){return new Qa(e)}eq(e){return e instanceof Qa}getBookmark(){return FNe}}Dr.jsonID("all",Qa);const FNe={map(){return this},resolve(r){return new Qa(r)}};function np(r,e,t,n,i,a=!1){if(e.inlineContent)return Qr.create(r,t);for(let o=n-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let s=e.child(o);if(s.isAtom){if(!a&&hr.isSelectable(s))return hr.create(r,t-(i<0?s.nodeSize:0))}else{let l=np(r,s,t+i,i<0?s.childCount:0,i,a);if(l)return l}t+=s.nodeSize*i}return null}function cB(r,e,t){let n=r.steps.length-1;if(n<e)return;let i=r.steps[n];if(!(i instanceof ma||i instanceof Di))return;let a=r.mapping.maps[n],o;a.forEach((s,l,u,c)=>{o==null&&(o=c)}),r.setSelection(Dr.near(r.doc.resolve(o),t))}const fB=1,hB=2,dB=4;class VNe extends qNe{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|fB)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&fB)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=hB,this}ensureMarks(e){return Jr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&hB)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Jr.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n??t,!e)return this.deleteRange(t,n);let a=this.storedMarks;if(!a){let o=this.doc.resolve(t);a=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,a)),this.selection.empty||this.setSelection(Dr.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=dB,this}get scrolledIntoView(){return(this.updated&dB)>0}}function pB(r,e){return!e||!r?r:r.bind(e)}class Kv{constructor(e,t,n){this.name=e,this.init=pB(t.init,n),this.apply=pB(t.apply,n)}}const ZNe=[new Kv("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new Kv("selection",{init(r,e){return r.selection||Dr.atStart(e.doc)},apply(r){return r.selection}}),new Kv("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,n){return n.selection.$cursor?r.storedMarks:null}}),new Kv("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class eD{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ZNe.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Kv(n.key,n.spec.state,n))})}}class vh{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<t.length&&s.spec.appendTransaction.call(s,l?t.slice(l):t,u,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),a=!0}i&&(i[o]={state:n,n:t.length})}}if(!a)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new vh(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new VNe(this)}static create(e){let t=new eD(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new vh(t);for(let i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n}reconfigure(e){let t=new eD(this.schema,e.plugins),n=t.fields,i=new vh(t);for(let a=0;a<n.length;a++){let o=n[a].name;i[o]=this.hasOwnProperty(o)?this[o]:n[a].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(t[n]=a.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new eD(e.schema,e.plugins),a=new vh(i);return i.fields.forEach(o=>{if(o.name=="doc")a.doc=of.fromJSON(e.schema,t.doc);else if(o.name=="selection")a.selection=Dr.fromJSON(a.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,s)){a[o.name]=u.fromJSON.call(l,e,t[s],a);return}}a[o.name]=o.init(e,a)}}),a}}function TU(r,e,t){for(let n in r){let i=r[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=TU(i,e,{})),t[n]=i}return t}class wo{constructor(e){this.spec=e,this.props={},e.props&&TU(e.props,this,this.props),this.key=e.key?e.key.key:EU("plugin")}getState(e){return e[this.key]}}const tD=Object.create(null);function EU(r){return r in tD?r+"$"+ ++tD[r]:(tD[r]=0,r+"$")}class bO{constructor(e="key"){this.key=EU(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ji=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},qp=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let dR=null;const Lu=function(r,e,t){let n=dR||(dR=document.createRange());return n.setEnd(r,t??r.nodeValue.length),n.setStart(r,e||0),n},zNe=function(){dR=null},_h=function(r,e,t,n){return t&&(mB(r,e,t,n,-1)||mB(r,e,t,n,1))},HNe=/^(img|br|input|textarea|hr)$/i;function mB(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:ys(r))){let a=r.parentNode;if(!a||a.nodeType!=1||wO(r)||HNe.test(r.nodeName)||r.contentEditable=="false")return!1;e=ji(r)+(i<0?0:1),r=a}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.contentEditable=="false")return!1;e=i<0?ys(r):0}else return!1}}function ys(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function WNe(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=ys(r)}else if(r.parentNode&&!wO(r))e=ji(r),r=r.parentNode;else return null}}function UNe(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!wO(r))e=ji(r)+1,r=r.parentNode;else return null}}function XNe(r,e,t){for(let n=e==0,i=e==ys(r);n||i;){if(r==t)return!0;let a=ji(r);if(r=r.parentNode,!r)return!1;n=n&&a==0,i=i&&a==ys(r)}}function wO(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const ik=function(r){return r.focusNode&&_h(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function dh(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function jNe(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function YNe(r,e,t){if(r.caretPositionFromPoint)try{let n=r.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min(ys(n.offsetNode),n.offset)}}catch{}if(r.caretRangeFromPoint){let n=r.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min(ys(n.startContainer),n.startOffset)}}}const iu=typeof navigator<"u"?navigator:null,vB=typeof document<"u"?document:null,Sf=iu&&iu.userAgent||"",pR=/Edge\/(\d+)/.exec(Sf),MU=/MSIE \d/.exec(Sf),mR=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Sf),go=!!(MU||mR||pR),sf=MU?document.documentMode:mR?+mR[1]:pR?+pR[1]:0,dl=!go&&/gecko\/(\d+)/i.test(Sf);dl&&+(/Firefox\/(\d+)/.exec(Sf)||[0,0])[1];const vR=!go&&/Chrome\/(\d+)/.exec(Sf),Oa=!!vR,AU=vR?+vR[1]:0,qa=!go&&!!iu&&/Apple Computer/.test(iu.vendor),Fp=qa&&(/Mobile\/\w+/.test(Sf)||!!iu&&iu.maxTouchPoints>2),vs=Fp||(iu?/Mac/.test(iu.platform):!1),GNe=iu?/Win/.test(iu.platform):!1,Vu=/Android \d/.test(Sf),kO=!!vB&&"webkitFontSmoothing"in vB.documentElement.style,KNe=kO?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function JNe(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Nu(r,e){return typeof r=="number"?r:r[e]}function e$e(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,n=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*n}}function gB(r,e,t){let n=r.someProp("scrollThreshold")||0,i=r.someProp("scrollMargin")||5,a=r.dom.ownerDocument;for(let o=t||r.dom;o;){if(o.nodeType!=1){o=qp(o);continue}let s=o,l=s==a.body,u=l?JNe(a):e$e(s),c=0,h=0;if(e.top<u.top+Nu(n,"top")?h=-(u.top-e.top+Nu(i,"top")):e.bottom>u.bottom-Nu(n,"bottom")&&(h=e.bottom-e.top>u.bottom-u.top?e.top+Nu(i,"top")-u.top:e.bottom-u.bottom+Nu(i,"bottom")),e.left<u.left+Nu(n,"left")?c=-(u.left-e.left+Nu(i,"left")):e.right>u.right-Nu(n,"right")&&(c=e.right-u.right+Nu(i,"right")),c||h)if(l)a.defaultView.scrollBy(c,h);else{let g=s.scrollLeft,O=s.scrollTop;h&&(s.scrollTop+=h),c&&(s.scrollLeft+=c);let T=s.scrollLeft-g,M=s.scrollTop-O;e={left:e.left-T,top:e.top-M,right:e.right-T,bottom:e.bottom-M}}let p=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:qp(o)}}function t$e(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let s=r.root.elementFromPoint(a,o);if(!s||s==r.dom||!r.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=t-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:DU(r.dom)}}function DU(r){let e=[],t=r.ownerDocument;for(let n=r;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),r!=t);n=qp(n));return e}function r$e({refDOM:r,refTop:e,stack:t}){let n=r?r.getBoundingClientRect().top:0;PU(t,n==0?0:n-e)}function PU(r,e){for(let t=0;t<r.length;t++){let{dom:n,top:i,left:a}=r[t];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let Ud=null;function n$e(r){if(r.setActive)return r.setActive();if(Ud)return r.focus(Ud);let e=DU(r);r.focus(Ud==null?{get preventScroll(){return Ud={preventScroll:!0},!0}}:void 0),Ud||(Ud=!1,PU(e,0))}function RU(r,e){let t,n=2e8,i,a=0,o=e.top,s=e.top,l,u;for(let c=r.firstChild,h=0;c;c=c.nextSibling,h++){let p;if(c.nodeType==1)p=c.getClientRects();else if(c.nodeType==3)p=Lu(c).getClientRects();else continue;for(let g=0;g<p.length;g++){let O=p[g];if(O.top<=o&&O.bottom>=s){o=Math.max(O.bottom,o),s=Math.min(O.top,s);let T=O.left>e.left?O.left-e.left:O.right<e.left?e.left-O.right:0;if(T<n){t=c,n=T,i=T&&t.nodeType==3?{left:O.right<e.left?O.right:O.left,top:e.top}:e,c.nodeType==1&&T&&(a=h+(e.left>=(O.left+O.right)/2?1:0));continue}}else O.top>e.top&&!l&&O.left<=e.left&&O.right>=e.left&&(l=c,u={left:Math.max(O.left,Math.min(O.right,e.left)),top:O.top});!t&&(e.left>=O.right&&e.top>=O.top||e.left>=O.left&&e.top>=O.bottom)&&(a=h+1)}}return!t&&l&&(t=l,i=u,n=0),t&&t.nodeType==3?i$e(t,i):!t||n&&t.nodeType==1?{node:r,offset:a}:RU(t,i)}function i$e(r,e){let t=r.nodeValue.length,n=document.createRange();for(let i=0;i<t;i++){n.setEnd(r,i+1),n.setStart(r,i);let a=_c(n,1);if(a.top!=a.bottom&&u$(e,a))return{node:r,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:r,offset:0}}function u$(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function a$e(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function o$e(r,e,t){let{node:n,offset:i}=RU(e,t),a=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();a=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return r.docView.posFromDOM(n,i,a)}function s$e(r,e,t,n){let i=-1;for(let a=e,o=!1;a!=r.dom;){let s=r.docView.nearestDesc(a,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&(!o&&l.left>n.left||l.top>n.top?i=s.posBefore:(!o&&l.right<n.left||l.bottom<n.top)&&(i=s.posAfter),o=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;a=s.dom.parentNode}return i>-1?i:r.docView.posFromDOM(e,t,-1)}function NU(r,e,t){let n=r.childNodes.length;if(n&&t.top<t.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),a=i;;){let o=r.childNodes[a];if(o.nodeType==1){let s=o.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(u$(e,u))return NU(o,e,u)}}if((a=(a+1)%n)==i)break}return r}function l$e(r,e){let t=r.dom.ownerDocument,n,i=0,a=YNe(t,e.left,e.top);a&&({node:n,offset:i}=a);let o=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),s;if(!o||!r.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=r.dom.getBoundingClientRect();if(!u$(e,u)||(o=NU(r.dom,e,u),!o))return null}if(qa)for(let u=o;n&&u;u=qp(u))u.draggable&&(n=void 0);if(o=a$e(o,e),n){if(dl&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let c=n.childNodes[i],h;c.nodeName=="IMG"&&(h=c.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let u;kO&&i&&n.nodeType==1&&(u=n.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,n==r.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?s=r.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(s=s$e(r,n,i,e))}s==null&&(s=o$e(r,o,e));let l=r.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function OB(r){return r.top<r.bottom||r.left<r.right}function _c(r,e){let t=r.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(OB(n))return n}return Array.prototype.find.call(t,OB)||r.getBoundingClientRect()}const u$e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function $U(r,e,t){let{node:n,offset:i,atom:a}=r.docView.domFromPos(e,t<0?-1:1),o=kO||dl;if(n.nodeType==3)if(o&&(u$e.test(n.nodeValue)||(t<0?!i:i==n.nodeValue.length))){let l=_c(Lu(n,i,i),t);if(dl&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=_c(Lu(n,i-1,i-1),-1);if(u.top==l.top){let c=_c(Lu(n,i,i+1),-1);if(c.top!=l.top)return Dv(c,c.left<u.left)}}return l}else{let l=i,u=i,c=t<0?1:-1;return t<0&&!i?(u++,c=-1):t>=0&&i==n.nodeValue.length?(l--,c=1):t<0?l--:u++,Dv(_c(Lu(n,l,u),c),c<0)}if(!r.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(t<0||i==ys(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return rD(l.getBoundingClientRect(),!1)}if(a==null&&i<ys(n)){let l=n.childNodes[i];if(l.nodeType==1)return rD(l.getBoundingClientRect(),!0)}return rD(n.getBoundingClientRect(),t>=0)}if(a==null&&i&&(t<0||i==ys(n))){let l=n.childNodes[i-1],u=l.nodeType==3?Lu(l,ys(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Dv(_c(u,1),!1)}if(a==null&&i<ys(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Lu(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return Dv(_c(u,-1),!0)}return Dv(_c(n.nodeType==3?Lu(n):n,-t),t>=0)}function Dv(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function rD(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function LU(r,e,t){let n=r.state,i=r.root.activeElement;n!=e&&r.updateState(e),i!=r.dom&&r.focus();try{return t()}finally{n!=e&&r.updateState(n),i!=r.dom&&i&&i.focus()}}function c$e(r,e,t){let n=e.selection,i=t=="up"?n.$from:n.$to;return LU(r,e,()=>{let{node:a}=r.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let s=r.docView.nearestDesc(a,!0);if(!s)break;if(s.node.isBlock){a=s.contentDOM||s.dom;break}a=s.dom.parentNode}let o=$U(r,i.pos,1);for(let s=a.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Lu(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(t=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const f$e=/[\u0590-\u08ac]/;function h$e(r,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,o=i==n.parent.content.size,s=r.domSelection();return s?!f$e.test(n.parent.textContent)||!s.modify?t=="left"||t=="backward"?a:o:LU(r,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:h}=r.domSelectionRange(),p=s.caretBidiLevel;s.modify("move",t,"character");let g=n.depth?r.docView.domAfterPos(n.before()):r.dom,{focusNode:O,focusOffset:T}=r.domSelectionRange(),M=O&&!g.contains(O.nodeType==1?O:O.parentNode)||l==O&&u==T;try{s.collapse(c,h),l&&(l!=c||u!=h)&&s.extend&&s.extend(l,u)}catch{}return p!=null&&(s.caretBidiLevel=p),M}):n.pos==n.start()||n.pos==n.end()}let yB=null,bB=null,wB=!1;function d$e(r,e,t){return yB==e&&bB==t?wB:(yB=e,bB=t,wB=t=="up"||t=="down"?c$e(r,e,t):h$e(r,e,t))}const Cs=0,kB=1,gh=2,au=3;class SO{constructor(e,t,n,i){this.parent=e,this.children=t,this.dom=n,this.contentDOM=i,this.dirty=Cs,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let i=this.children[t];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,o;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>ji(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),o;if(a&&(!t||a.node))if(n&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let i=this.children[t],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let s=i.children[o];if(s.size){i=s;break}}return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let o=this.children[n],s=a+o.size;if(s>e||o instanceof IU){i=e-a;break}a=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof _U&&a.side>=0;n--);if(t<=0){let a,o=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,o=!1);return a&&t&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?ji(a.dom)+1:0}}else{let a,o=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?ji(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let o=n,s=0;;s++){let l=this.children[s],u=o+l.size;if(i==-1&&e<=u){let c=o+l.border;if(e>=c&&t<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,c);e=o;for(let h=s;h>0;h--){let p=this.children[h-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=ji(p.dom)+1;break}e-=p.size}i==-1&&(i=0)}if(i>-1&&(u>t||s==this.children.length-1)){t=u;for(let c=s+1;c<this.children.length;c++){let h=this.children[c];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){a=ji(h.dom);break}t+=h.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,i=!1){let a=Math.min(e,t),o=Math.max(e,t);for(let g=0,O=0;g<this.children.length;g++){let T=this.children[g],M=O+T.size;if(a>O&&o<M)return T.setSelection(e-O-T.border,t-O-T.border,n,i);O=M}let s=this.domFromPos(e,e?-1:1),l=t==e?s:this.domFromPos(t,t?-1:1),u=n.root.getSelection(),c=n.domSelectionRange(),h=!1;if((dl||qa)&&e==t){let{node:g,offset:O}=s;if(g.nodeType==3){if(h=!!(O&&g.nodeValue[O-1]==`
`),h&&O==g.nodeValue.length)for(let T=g,M;T;T=T.parentNode){if(M=T.nextSibling){M.nodeName=="BR"&&(s=l={node:M.parentNode,offset:ji(M)+1});break}let R=T.pmViewDesc;if(R&&R.node&&R.node.isBlock)break}}else{let T=g.childNodes[O-1];h=T&&(T.nodeName=="BR"||T.contentEditable=="false")}}if(dl&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let g=c.focusNode.childNodes[c.focusOffset];g&&g.contentEditable=="false"&&(i=!0)}if(!(i||h&&qa)&&_h(s.node,s.offset,c.anchorNode,c.anchorOffset)&&_h(l.node,l.offset,c.focusNode,c.focusOffset))return;let p=!1;if((u.extend||e==t)&&!h){u.collapse(s.node,s.offset);try{e!=t&&u.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(e>t){let O=s;s=l,l=O}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],o=n+a.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let s=n+a.border,l=o-a.border;if(e>=s&&t<=l){this.dirty=e==n||t==o?gh:kB,e==s&&t==l&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=au:a.markDirty(e-s,t-s);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?gh:au}n=o}this.dirty=gh}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?gh:kB;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class _U extends SO{constructor(e,t,n,i){let a,o=t.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(o.nodeType!=1){let s=document.createElement("span");s.appendChild(o),o=s}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==Cs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class p$e extends SO{constructor(e,t,n,i){super(e,[],t,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ih extends SO{constructor(e,t,n,i,a){super(e,[],n,i),this.mark=t,this.spec=a}static create(e,t,n,i){let a=i.nodeViews[t.type.name],o=a&&a(t,i,n);return(!o||!o.dom)&&(o=cm.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new Ih(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&au||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=au&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Cs){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Cs}}slice(e,t,n){let i=Ih.create(this.parent,this.mark,!0,n),a=this.children,o=this.size;t<o&&(a=OR(a,t,o,n)),e>0&&(a=OR(a,0,e,n));for(let s=0;s<a.length;s++)a[s].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class lf extends SO{constructor(e,t,n,i,a,o,s,l,u){super(e,[],a,o),this.node=t,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s}static create(e,t,n,i,a,o){let s=a.nodeViews[t.type.name],l,u=s&&s(t,a,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,i),c=u&&u.dom,h=u&&u.contentDOM;if(t.isText){if(!c)c=document.createTextNode(t.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:h}=cm.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!h&&!t.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let p=c;return c=qU(c,n,t),u?l=new m$e(e,t,n,i,c,h||null,p,u,a,o+1):t.isText?new ak(e,t,n,i,c,p,a):new lf(e,t,n,i,c,h||null,p,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>nt.empty)}return e}matchesNode(e,t,n){return this.dirty==Cs&&e.eq(this.node)&&Gw(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,i=t,a=e.composing?this.localCompositionInfo(e,t):null,o=a&&a.pos>-1?a:null,s=a&&a.pos<0,l=new g$e(this,o&&o.node,e);b$e(this.node,this.innerDeco,(u,c,h)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!h&&l.syncToMarks(c==this.node.childCount?Jr.none:this.node.child(c).marks,n,e),l.placeWidget(u,e,i)},(u,c,h,p)=>{l.syncToMarks(u.marks,n,e);let g;l.findNodeMatch(u,c,h,p)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(g=l.findIndexWithChild(a.node))>-1&&l.updateNodeAt(u,c,h,g,e)||l.updateNextNode(u,c,h,e,p,i)||l.addNode(u,c,h,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==gh)&&(o&&this.protectLocalComposition(e,o),QU(this.contentDOM,this.children,e),Fp&&w$e(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof Qr)||n<t||i>t+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let o=a.nodeValue,s=k$e(this.node.content,o,n-t,i-t);return s<0?null:{node:a,pos:s,text:o}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:i}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new p$e(this,a,t,i);e.input.compositionNodes.push(o),this.children=OR(this.children,n,n+i.length,e,o)}update(e,t,n,i){return this.dirty==au||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,i),!0)}updateInner(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Cs}updateOuterDeco(e){if(Gw(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=BU(this.dom,this.nodeDOM,gR(this.outerDeco,this.node,t),gR(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function SB(r,e,t,n,i){qU(n,e,r);let a=new lf(void 0,r,e,t,n,n,n,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class ak extends lf{constructor(e,t,n,i,a,o,s){super(e,t,n,i,a,null,o,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,i){return this.dirty==au||this.dirty!=Cs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Cs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Cs,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let i=this.node.cut(e,t),a=document.createTextNode(i.text);return new ak(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=au)}get domAtom(){return!1}isText(e){return this.node.text==e}}class IU extends SO{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Cs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class m$e extends lf{constructor(e,t,n,i,a,o,s,l,u,c){super(e,t,n,i,a,o,s,u,c),this.spec=l}update(e,t,n,i){if(this.dirty==au)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,n);return a&&this.updateInner(e,t,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,i){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function QU(r,e,t){let n=r.firstChild,i=!1;for(let a=0;a<e.length;a++){let o=e[a],s=o.dom;if(s.parentNode==r){for(;s!=n;)n=xB(n),i=!0;n=n.nextSibling}else i=!0,r.insertBefore(s,n);if(o instanceof Ih){let l=n?n.previousSibling:r.lastChild;QU(o.contentDOM,o.children,t),n=l?l.nextSibling:r.firstChild}}for(;n;)n=xB(n),i=!0;i&&t.trackWrites==r&&(t.trackWrites=null)}const vg=function(r){r&&(this.nodeName=r)};vg.prototype=Object.create(null);const Oh=[new vg];function gR(r,e,t){if(r.length==0)return Oh;let n=t?Oh[0]:new vg,i=[n];for(let a=0;a<r.length;a++){let o=r[a].type.attrs;if(o){o.nodeName&&i.push(n=new vg(o.nodeName));for(let s in o){let l=o[s];l!=null&&(t&&i.length==1&&i.push(n=new vg(e.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function BU(r,e,t,n){if(t==Oh&&n==Oh)return e;let i=e;for(let a=0;a<n.length;a++){let o=n[a],s=t[a];if(a){let l;s&&s.nodeName==o.nodeName&&i!=r&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=Oh[0]),i=l}v$e(i,s||Oh[0],o)}return i}function v$e(r,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&r.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&r.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&r.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&r.classList.add(i[a]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)r.style.removeProperty(i[1])}t.style&&(r.style.cssText+=t.style)}}function qU(r,e,t){return BU(r,r,Oh,gR(e,t,r.nodeType!=1))}function Gw(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function xB(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class g$e{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=O$e(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let i=0,a=this.stack.length>>1,o=Math.min(a,e.length);for(;i<o&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=Cs,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[a])&&!this.isLocked(u.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=Ih.create(this.top,e[a],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,n,i){let a=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))a=this.top.children.indexOf(o,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(e,t,n)&&!this.preMatch.matched.has(u)){a=s;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,n,i,a){let o=this.top.children[i];return o.dirty==au&&o.dom==o.contentDOM&&(o.dirty=gh),o.update(e,t,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=t}}updateNextNode(e,t,n,i,a,o){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof lf){let u=this.preMatch.matched.get(l);if(u!=null&&u!=a)return!1;let c=l.dom,h,p=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=au&&Gw(t,l.outerDeco));if(!p&&l.update(e,t,n,i))return this.destroyBetween(this.index,s),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!p&&(h=this.recreateWrapper(l,e,t,n,i,o)))return this.destroyBetween(this.index,s),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=gh,h.updateChildren(i,o+1),h.dirty=Cs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,i,a,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Gw(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let s=lf.create(this.top,t,n,i,a,o);if(s.contentDOM){s.children=e.children,e.children=[];for(let l of s.children)l.parent=s}return e.destroy(),s}addNode(e,t,n,i,a){let o=lf.create(this.top,e,t,n,i,a);o.contentDOM&&o.updateChildren(i,a+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new _U(this.top,e,t,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Ih;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof ak)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((qa||Oa)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new IU(this.top,[],n,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function O$e(r,e){let t=e,n=t.children.length,i=r.childCount,a=new Map,o=[];e:for(;i>0;){let s;for(;;)if(n){let u=t.children[n-1];if(u instanceof Ih)t=u,n=u.children.length;else{s=u,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let l=s.node;if(l){if(l!=r.child(i-1))break;--i,a.set(s,i),o.push(s)}}return{index:i,matched:a,matches:o.reverse()}}function y$e(r,e){return r.type.side-e.type.side}function b$e(r,e,t,n){let i=e.locals(r),a=0;if(i.length==0){for(let u=0;u<r.childCount;u++){let c=r.child(u);n(c,i,e.forChild(a,c),u),a+=c.nodeSize}return}let o=0,s=[],l=null;for(let u=0;;){let c,h;for(;o<i.length&&i[o].to==a;){let M=i[o++];M.widget&&(c?(h||(h=[c])).push(M):c=M)}if(c)if(h){h.sort(y$e);for(let M=0;M<h.length;M++)t(h[M],u,!!l)}else t(c,u,!!l);let p,g;if(l)g=-1,p=l,l=null;else if(u<r.childCount)g=u,p=r.child(u++);else break;for(let M=0;M<s.length;M++)s[M].to<=a&&s.splice(M--,1);for(;o<i.length&&i[o].from<=a&&i[o].to>a;)s.push(i[o++]);let O=a+p.nodeSize;if(p.isText){let M=O;o<i.length&&i[o].from<M&&(M=i[o].from);for(let R=0;R<s.length;R++)s[R].to<M&&(M=s[R].to);M<O&&(l=p.cut(M-a),p=p.cut(0,M-a),O=M,g=-1)}else for(;o<i.length&&i[o].to<O;)o++;let T=p.isInline&&!p.isLeaf?s.filter(M=>!M.inline):s.slice();n(p,T,e.forChild(a,p),g),a=O}}function w$e(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function k$e(r,e,t,n){for(let i=0,a=0;i<r.childCount&&a<=n;){let o=r.child(i++),s=a;if(a+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<r.childCount;){let u=r.child(i++);if(a+=u.nodeSize,!u.isText)break;l+=u.text}if(a>=t){if(a>=n&&l.slice(n-e.length-s,n-s)==e)return n-e.length;let u=s<n?l.lastIndexOf(e,n-s-1):-1;if(u>=0&&u+e.length+s>=t)return s+u;if(t==n&&l.length>=n+e.length-s&&l.slice(n-s,n-s+e.length)==e)return n}}return-1}function OR(r,e,t,n,i){let a=[];for(let o=0,s=0;o<r.length;o++){let l=r[o],u=s,c=s+=l.size;u>=t||c<=e?a.push(l):(u<e&&a.push(l.slice(0,e-u,n)),i&&(a.push(i),i=void 0),c>t&&a.push(l.slice(t-u,l.size,n)))}return a}function c$(r,e=null){let t=r.domSelectionRange(),n=r.state.doc;if(!t.focusNode)return null;let i=r.docView.nearestDesc(t.focusNode),a=i&&i.size==0,o=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let s=n.resolve(o),l,u;if(ik(t)){for(l=o;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&hr.isSelectable(h)&&i.parent&&!(h.isInline&&XNe(t.focusNode,t.focusOffset,i.dom))){let p=i.posBefore;u=new hr(o==p?s:n.resolve(p))}}else{if(t instanceof r.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let h=o,p=o;for(let g=0;g<t.rangeCount;g++){let O=t.getRangeAt(g);h=Math.min(h,r.docView.posFromDOM(O.startContainer,O.startOffset,1)),p=Math.max(p,r.docView.posFromDOM(O.endContainer,O.endOffset,-1))}if(h<0)return null;[l,o]=p==r.state.selection.anchor?[p,h]:[h,p],s=n.resolve(o)}else l=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let c=n.resolve(l);if(!u){let h=e=="pointer"||r.state.selection.head<s.pos&&!a?1:-1;u=f$(r,c,s,h)}return u}function FU(r){return r.editable?r.hasFocus():ZU(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function ju(r,e=!1){let t=r.state.selection;if(VU(r,t),!!FU(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&Oa){let n=r.domSelectionRange(),i=r.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&_h(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)x$e(r);else{let{anchor:n,head:i}=t,a,o;CB&&!(t instanceof Qr)&&(t.$from.parent.inlineContent||(a=TB(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=TB(r,t.to))),r.docView.setSelection(n,i,r,e),CB&&(a&&EB(a),o&&EB(o)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&S$e(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const CB=qa||Oa&&AU<63;function TB(r,e){let{node:t,offset:n}=r.docView.domFromPos(e,0),i=n<t.childNodes.length?t.childNodes[n]:null,a=n?t.childNodes[n-1]:null;if(qa&&i&&i.contentEditable=="false")return nD(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return nD(i);if(a)return nD(a)}}function nD(r){return r.contentEditable="true",qa&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function EB(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function S$e(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),n=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!FU(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function x$e(r){let e=r.domSelection(),t=document.createRange();if(!e)return;let n=r.cursorWrapper.dom,i=n.nodeName=="IMG";i?t.setStart(n.parentNode,ji(n)+1):t.setStart(n,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!r.state.selection.visible&&go&&sf<=11&&(n.disabled=!0,n.disabled=!1)}function VU(r,e){if(e instanceof hr){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(MB(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else MB(r)}function MB(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function f$(r,e,t,n){return r.someProp("createSelectionBetween",i=>i(r,e,t))||Qr.between(e,t,n)}function AB(r){return r.editable&&!r.hasFocus()?!1:ZU(r)}function ZU(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function C$e(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return _h(e.node,e.offset,t.anchorNode,t.anchorOffset)}function yR(r,e){let{$anchor:t,$head:n}=r.selection,i=e>0?t.max(n):t.min(n),a=i.parent.inlineContent?i.depth?r.doc.resolve(e>0?i.after():i.before()):null:i;return a&&Dr.findFrom(a,e)}function Fc(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function DB(r,e,t){let n=r.state.selection;if(n instanceof Qr)if(t.indexOf("s")>-1){let{$head:i}=n,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let o=r.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return Fc(r,new Qr(n.$anchor,o))}else if(n.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let i=yR(r.state,e);return i&&i instanceof hr?Fc(r,i):!1}else if(!(vs&&t.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!a||a.isText)return!1;let s=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(o=r.docView.descAt(s))&&!o.contentDOM?hr.isSelectable(a)?Fc(r,new hr(e<0?r.state.doc.resolve(i.pos-a.nodeSize):i)):kO?Fc(r,new Qr(r.state.doc.resolve(e<0?s:s+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof hr&&n.node.isInline)return Fc(r,new Qr(e>0?n.$to:n.$from));{let i=yR(r.state,e);return i?Fc(r,i):!1}}}function Kw(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function gg(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function Xd(r,e){return e<0?T$e(r):E$e(r)}function T$e(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i,a,o=!1;for(dl&&t.nodeType==1&&n<Kw(t)&&gg(t.childNodes[n],-1)&&(o=!0);;)if(n>0){if(t.nodeType!=1)break;{let s=t.childNodes[n-1];if(gg(s,-1))i=t,a=--n;else if(s.nodeType==3)t=s,n=t.nodeValue.length;else break}}else{if(zU(t))break;{let s=t.previousSibling;for(;s&&gg(s,-1);)i=t.parentNode,a=ji(s),s=s.previousSibling;if(s)t=s,n=Kw(t);else{if(t=t.parentNode,t==r.dom)break;n=0}}}o?bR(r,t,n):i&&bR(r,i,a)}function E$e(r){let e=r.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let i=Kw(t),a,o;for(;;)if(n<i){if(t.nodeType!=1)break;let s=t.childNodes[n];if(gg(s,1))a=t,o=++n;else break}else{if(zU(t))break;{let s=t.nextSibling;for(;s&&gg(s,1);)a=s.parentNode,o=ji(s)+1,s=s.nextSibling;if(s)t=s,n=0,i=Kw(t);else{if(t=t.parentNode,t==r.dom)break;n=i=0}}}a&&bR(r,a,o)}function zU(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function M$e(r,e){for(;r&&e==r.childNodes.length&&!wO(r);)e=ji(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function A$e(r,e){for(;r&&!e&&!wO(r);)e=ji(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function bR(r,e,t){if(e.nodeType!=3){let a,o;(o=M$e(e,t))?(e=o,t=0):(a=A$e(e,t))&&(e=a,t=a.nodeValue.length)}let n=r.domSelection();if(!n)return;if(ik(n)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,t);r.domObserver.setCurSelection();let{state:i}=r;setTimeout(()=>{r.state==i&&ju(r)},50)}function PB(r,e){let t=r.state.doc.resolve(e);if(!(Oa||GNe)&&t.parent.inlineContent){let i=r.coordsAtPos(e);if(e>t.start()){let a=r.coordsAtPos(e-1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<t.end()){let a=r.coordsAtPos(e+1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function RB(r,e,t){let n=r.state.selection;if(n instanceof Qr&&!n.empty||t.indexOf("s")>-1||vs&&t.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let o=yR(r.state,e);if(o&&o instanceof hr)return Fc(r,o)}if(!i.parent.inlineContent){let o=e<0?i:a,s=n instanceof Qa?Dr.near(o,e):Dr.findFrom(o,e);return s?Fc(r,s):!1}return!1}function NB(r,e){if(!(r.state.selection instanceof Qr))return!0;let{$head:t,$anchor:n,empty:i}=r.state.selection;if(!t.sameParent(n))return!0;if(!i)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let o=r.state.tr;return e<0?o.delete(t.pos-a.nodeSize,t.pos):o.delete(t.pos,t.pos+a.nodeSize),r.dispatch(o),!0}return!1}function $B(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function D$e(r){if(!qa||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;$B(r,n,"true"),setTimeout(()=>$B(r,n,"false"),20)}return!1}function P$e(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function R$e(r,e){let t=e.keyCode,n=P$e(e);if(t==8||vs&&t==72&&n=="c")return NB(r,-1)||Xd(r,-1);if(t==46&&!e.shiftKey||vs&&t==68&&n=="c")return NB(r,1)||Xd(r,1);if(t==13||t==27)return!0;if(t==37||vs&&t==66&&n=="c"){let i=t==37?PB(r,r.state.selection.from)=="ltr"?-1:1:-1;return DB(r,i,n)||Xd(r,i)}else if(t==39||vs&&t==70&&n=="c"){let i=t==39?PB(r,r.state.selection.from)=="ltr"?1:-1:1;return DB(r,i,n)||Xd(r,i)}else{if(t==38||vs&&t==80&&n=="c")return RB(r,-1,n)||Xd(r,-1);if(t==40||vs&&t==78&&n=="c")return D$e(r)||RB(r,1,n)||Xd(r,1);if(n==(vs?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function h$(r,e){r.someProp("transformCopied",g=>{e=g(e,r)});let t=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let g=n.firstChild;t.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),n=g.content}let o=r.someProp("clipboardSerializer")||cm.fromSchema(r.state.schema),s=YU(),l=s.createElement("div");l.appendChild(o.serializeFragment(n,{document:s}));let u=l.firstChild,c,h=0;for(;u&&u.nodeType==1&&(c=jU[u.nodeName.toLowerCase()]);){for(let g=c.length-1;g>=0;g--){let O=s.createElement(c[g]);for(;l.firstChild;)O.appendChild(l.firstChild);l.appendChild(O),h++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${a}${h?` -${h}`:""} ${JSON.stringify(t)}`);let p=r.someProp("clipboardTextSerializer",g=>g(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function HU(r,e,t,n,i){let a=i.parent.type.spec.code,o,s;if(!t&&!e)return null;let l=e&&(n||a||!t);if(l){if(r.someProp("transformPastedText",p=>{e=p(e,a||n,r)}),a)return e?new St(nt.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):St.empty;let h=r.someProp("clipboardTextParser",p=>p(e,i,n,r));if(h)s=h;else{let p=i.marks(),{schema:g}=r.state,O=cm.fromSchema(g);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(T=>{let M=o.appendChild(document.createElement("p"));T&&M.appendChild(O.serializeNode(g.text(T,p)))})}}else r.someProp("transformPastedHTML",h=>{t=h(t,r)}),o=_$e(t),kO&&I$e(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let h=+c[3];h>0;h--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(s||(s=(r.someProp("clipboardParser")||r.someProp("domParser")||$h.fromSchema(r.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!N$e.test(p.parentNode.nodeName)?{ignore:!0}:null}})),c)s=Q$e(LB(s,+c[1],+c[2]),c[4]);else if(s=St.maxOpen($$e(s.content,i),!0),s.openStart||s.openEnd){let h=0,p=0;for(let g=s.content.firstChild;h<s.openStart&&!g.type.spec.isolating;h++,g=g.firstChild);for(let g=s.content.lastChild;p<s.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);s=LB(s,h,p)}return r.someProp("transformPasted",h=>{s=h(s,r)}),s}const N$e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function $$e(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),a,o=[];if(r.forEach(s=>{if(!o)return;let l=i.findWrapping(s.type),u;if(!l)return o=null;if(u=o.length&&a.length&&UU(l,a,s,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=XU(o[o.length-1],a.length));let c=WU(s,l);o.push(c),i=i.matchType(c.type),a=l}}),o)return nt.from(o)}return r}function WU(r,e,t=0){for(let n=e.length-1;n>=t;n--)r=e[n].create(null,nt.from(r));return r}function UU(r,e,t,n,i){if(i<r.length&&i<e.length&&r[i]==e[i]){let a=UU(r,e,t,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==r.length-1?t.type:r[i+1]))return n.copy(n.content.append(nt.from(WU(t,r,i+1))))}}function XU(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,XU(r.lastChild,e-1)),n=r.contentMatchAt(r.childCount).fillBefore(nt.empty,!0);return r.copy(t.append(n))}function wR(r,e,t,n,i,a){let o=e<0?r.firstChild:r.lastChild,s=o.content;return r.childCount>1&&(a=0),i<n-1&&(s=wR(s,e,t,n,i+1,a)),i>=t&&(s=e<0?o.contentMatchAt(0).fillBefore(s,a<=i).append(s):s.append(o.contentMatchAt(o.childCount).fillBefore(nt.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,o.copy(s))}function LB(r,e,t){return e<r.openStart&&(r=new St(wR(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new St(wR(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const jU={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _B=null;function YU(){return _B||(_B=document.implementation.createHTMLDocument("title"))}let iD=null;function L$e(r){let e=window.trustedTypes;return e?(iD||(iD=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),iD.createHTML(r)):r}function _$e(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=YU().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(r),i;if((i=n&&jU[n[1].toLowerCase()])&&(r=i.map(a=>"<"+a+">").join("")+r+i.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=L$e(r),i)for(let a=0;a<i.length;a++)t=t.querySelector(i[a])||t;return t}function I$e(r){let e=r.querySelectorAll(Oa?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent=="Â "&&n.parentNode&&n.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),n)}}function Q$e(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return r}let{content:i,openStart:a,openEnd:o}=r;for(let s=n.length-2;s>=0;s-=2){let l=t.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=nt.from(l.create(n[s+1],i)),a++,o++}return new St(i,a,o)}const Fa={},Va={},B$e={touchstart:!0,touchmove:!0};class q$e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function F$e(r){for(let e in Fa){let t=Fa[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=n=>{Z$e(r,n)&&!d$(r,n)&&(r.editable||!(n.type in Va))&&t(r,n)},B$e[e]?{passive:!0}:void 0)}qa&&r.dom.addEventListener("input",()=>null),kR(r)}function tf(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function V$e(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function kR(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=n=>d$(r,n))})}function d$(r,e){return r.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(r,e)||e.defaultPrevented:!1})}function Z$e(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function z$e(r,e){!d$(r,e)&&Fa[e.type]&&(r.editable||!(e.type in Va))&&Fa[e.type](r,e)}Va.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!KU(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(Vu&&Oa&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),Fp&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();r.input.lastIOSEnter=n,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==n&&(r.someProp("handleKeyDown",i=>i(r,dh(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",n=>n(r,t))||R$e(r,t)?t.preventDefault():tf(r,"key")};Va.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};Va.keypress=(r,e)=>{let t=e;if(KU(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||vs&&t.metaKey)return;if(r.someProp("handleKeyPress",i=>i(r,t))){t.preventDefault();return}let n=r.state.selection;if(!(n instanceof Qr)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!r.someProp("handleTextInput",a=>a(r,n.$from.pos,n.$to.pos,i))&&r.dispatch(r.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function ok(r){return{left:r.clientX,top:r.clientY}}function H$e(r,e){let t=e.x-r.clientX,n=e.y-r.clientY;return t*t+n*n<100}function p$(r,e,t,n,i){if(n==-1)return!1;let a=r.state.doc.resolve(n);for(let o=a.depth+1;o>0;o--)if(r.someProp(e,s=>o>a.depth?s(r,t,a.nodeAfter,a.before(o),i,!0):s(r,t,a.node(o),a.before(o),i,!1)))return!0;return!1}function xp(r,e,t){if(r.focused||r.focus(),r.state.selection.eq(e))return;let n=r.state.tr.setSelection(e);n.setMeta("pointer",!0),r.dispatch(n)}function W$e(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&hr.isSelectable(n)?(xp(r,new hr(t)),!0):!1}function U$e(r,e){if(e==-1)return!1;let t=r.state.selection,n,i;t instanceof hr&&(n=t.node);let a=r.state.doc.resolve(e);for(let o=a.depth+1;o>0;o--){let s=o>a.depth?a.nodeAfter:a.node(o);if(hr.isSelectable(s)){n&&t.$from.depth>0&&o>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?i=a.before(t.$from.depth):i=a.before(o);break}}return i!=null?(xp(r,hr.create(r.state.doc,i)),!0):!1}function X$e(r,e,t,n,i){return p$(r,"handleClickOn",e,t,n)||r.someProp("handleClick",a=>a(r,e,n))||(i?U$e(r,t):W$e(r,t))}function j$e(r,e,t,n){return p$(r,"handleDoubleClickOn",e,t,n)||r.someProp("handleDoubleClick",i=>i(r,e,n))}function Y$e(r,e,t,n){return p$(r,"handleTripleClickOn",e,t,n)||r.someProp("handleTripleClick",i=>i(r,e,n))||G$e(r,t,n)}function G$e(r,e,t){if(t.button!=0)return!1;let n=r.state.doc;if(e==-1)return n.inlineContent?(xp(r,Qr.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let o=a>i.depth?i.nodeAfter:i.node(a),s=i.before(a);if(o.inlineContent)xp(r,Qr.create(n,s+1,s+1+o.content.size));else if(hr.isSelectable(o))xp(r,hr.create(n,s));else continue;return!0}}function m$(r){return Jw(r)}const GU=vs?"metaKey":"ctrlKey";Fa.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let n=m$(r),i=Date.now(),a="singleClick";i-r.input.lastClick.time<500&&H$e(t,r.input.lastClick)&&!t[GU]&&r.input.lastClick.button==t.button&&(r.input.lastClick.type=="singleClick"?a="doubleClick":r.input.lastClick.type=="doubleClick"&&(a="tripleClick")),r.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:a,button:t.button};let o=r.posAtCoords(ok(t));o&&(a=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new K$e(r,o,t,!!n)):(a=="doubleClick"?j$e:Y$e)(r,o.pos,o.inside,t)?t.preventDefault():tf(r,"pointer"))};class K$e{constructor(e,t,n,i){this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[GU],this.allowDefault=n.shiftKey;let a,o;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),o=t.inside;else{let c=e.state.doc.resolve(t.pos);a=c.parent,o=c.depth?c.before():0}const s=i?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||u instanceof hr&&u.from<=o&&u.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&dl&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),tf(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ju(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(ok(e))),this.updateAllowDefault(e),this.allowDefault||!t?tf(this.view,"pointer"):X$e(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||qa&&this.mightDrag&&!this.mightDrag.node.isAtom||Oa&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(xp(this.view,Dr.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):tf(this.view,"pointer")}move(e){this.updateAllowDefault(e),tf(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Fa.touchstart=r=>{r.input.lastTouch=Date.now(),m$(r),tf(r,"pointer")};Fa.touchmove=r=>{r.input.lastTouch=Date.now(),tf(r,"pointer")};Fa.contextmenu=r=>m$(r);function KU(r,e){return r.composing?!0:qa&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const J$e=Vu?5e3:-1;Va.compositionstart=Va.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$to;if(e.selection instanceof Qr&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),Jw(r,!0),r.markCursor=null;else if(Jw(r,!e.selection.empty),dl&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=r.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let o=a<0?i.lastChild:i.childNodes[a-1];if(!o)break;if(o.nodeType==3){let s=r.domSelection();s&&s.collapse(o,o.nodeValue.length);break}else i=o,a=-1}}r.input.composing=!0}JU(r,J$e)};Va.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,JU(r,20))};function JU(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>Jw(r),e))}function e5(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=tLe());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function eLe(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let t=WNe(e.focusNode,e.focusOffset),n=UNe(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let i=n.pmViewDesc,a=r.domObserver.lastChangedTextNode;if(t==a||n==a)return a;if(!i||!i.isText(n.nodeValue))return n;if(r.input.compositionNode==n){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return n}}return t||n}function tLe(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function Jw(r,e=!1){if(!(Vu&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),e5(r),e||r.docView&&r.docView.dirty){let t=c$(r),n=r.state.selection;return t&&!t.eq(n)?r.dispatch(r.state.tr.setSelection(t)):(r.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function rLe(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),r.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const Kg=go&&sf<15||Fp&&KNe<604;Fa.copy=Va.cut=(r,e)=>{let t=e,n=r.state.selection,i=t.type=="cut";if(n.empty)return;let a=Kg?null:t.clipboardData,o=n.content(),{dom:s,text:l}=h$(r,o);a?(t.preventDefault(),a.clearData(),a.setData("text/html",s.innerHTML),a.setData("text/plain",l)):rLe(r,s),i&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function nLe(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function iLe(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,n=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),n.parentNode&&n.parentNode.removeChild(n),t?Jg(r,n.value,null,i,e):Jg(r,n.textContent,n.innerHTML,i,e)},50)}function Jg(r,e,t,n,i){let a=HU(r,e,t,n,r.state.selection.$from);if(r.someProp("handlePaste",l=>l(r,i,a||St.empty)))return!0;if(!a)return!1;let o=nLe(a),s=o?r.state.tr.replaceSelectionWith(o,n):r.state.tr.replaceSelection(a);return r.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function t5(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let t=r.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Va.paste=(r,e)=>{let t=e;if(r.composing&&!Vu)return;let n=Kg?null:t.clipboardData,i=r.input.shiftKey&&r.input.lastKeyCode!=45;n&&Jg(r,t5(n),n.getData("text/html"),i,t)?t.preventDefault():iLe(r,t)};class r5{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const aLe=vs?"altKey":"ctrlKey";function n5(r,e){let t=r.someProp("dragCopies",n=>!n(e));return t??!e[aLe]}Fa.dragstart=(r,e)=>{let t=e,n=r.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let i=r.state.selection,a=i.empty?null:r.posAtCoords(ok(t)),o;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof hr?i.to-1:i.to))){if(n&&n.mightDrag)o=hr.create(r.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let h=r.docView.nearestDesc(t.target,!0);h&&h.node.type.spec.draggable&&h!=r.docView&&(o=hr.create(r.state.doc,h.posBefore))}}let s=(o||r.state.selection).content(),{dom:l,text:u,slice:c}=h$(r,s);(!t.dataTransfer.files.length||!Oa||AU>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Kg?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Kg||t.dataTransfer.setData("text/plain",u),r.dragging=new r5(c,n5(r,t),o)};Fa.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};Va.dragover=Va.dragenter=(r,e)=>e.preventDefault();Va.drop=(r,e)=>{let t=e,n=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let i=r.posAtCoords(ok(t));if(!i)return;let a=r.state.doc.resolve(i.pos),o=n&&n.slice;o?r.someProp("transformPasted",O=>{o=O(o,r)}):o=HU(r,t5(t.dataTransfer),Kg?null:t.dataTransfer.getData("text/html"),!1,a);let s=!!(n&&n5(r,t));if(r.someProp("handleDrop",O=>O(r,t,o||St.empty,s))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?NNe(r.state.doc,a.pos,o):a.pos;l==null&&(l=a.pos);let u=r.state.tr;if(s){let{node:O}=n;O?O.replace(u):u.deleteSelection()}let c=u.mapping.map(l),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=u.doc;if(h?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(p))return;let g=u.doc.resolve(c);if(h&&hr.isSelectable(o.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new hr(g));else{let O=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((T,M,R,z)=>O=z),u.setSelection(f$(r,g,u.doc.resolve(O)))}r.focus(),r.dispatch(u.setMeta("uiEvent","drop"))};Fa.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&ju(r)},20))};Fa.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};Fa.beforeinput=(r,e)=>{if(Oa&&Vu&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:n}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=n||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",a=>a(r,dh(8,"Backspace")))))return;let{$cursor:i}=r.state.selection;i&&i.pos>0&&r.dispatch(r.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let r in Va)Fa[r]=Va[r];function eO(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class e1{constructor(e,t){this.toDOM=e,this.spec=t||xh,this.side=this.spec.side||0}map(e,t,n,i){let{pos:a,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new mo(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof e1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&eO(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class uf{constructor(e,t){this.attrs=e,this.spec=t||xh}map(e,t,n,i){let a=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=o?null:new mo(a,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof uf&&eO(this.attrs,e.attrs)&&eO(this.spec,e.spec)}static is(e){return e.type instanceof uf}destroy(){}}class v${constructor(e,t){this.attrs=e,this.spec=t||xh}map(e,t,n,i){let a=e.mapResult(t.from+i,1);if(a.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=a.pos?null:new mo(a.pos-n,o.pos-n,this)}valid(e,t){let{index:n,offset:i}=e.content.findIndex(t.from),a;return i==t.from&&!(a=e.child(n)).isText&&i+a.nodeSize==t.to}eq(e){return this==e||e instanceof v$&&eO(this.attrs,e.attrs)&&eO(this.spec,e.spec)}destroy(){}}class mo{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new mo(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new mo(e,e,new e1(t,n))}static inline(e,t,n,i){return new mo(e,t,new uf(n,i))}static node(e,t,n,i){return new mo(e,t,new v$(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof uf}get widget(){return this.type instanceof e1}}const ip=[],xh={};class Gn{constructor(e,t){this.local=e.length?e:ip,this.children=t.length?t:ip}static create(e,t){return t.length?t1(t,e,0,xh):ha}find(e,t,n){let i=[];return this.findInner(e??0,t??1e9,i,0,n),i}findInner(e,t,n,i,a){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=t&&s.to>=e&&(!a||a(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let s=this.children[o]+1;this.children[o+2].findInner(e-s,t-s,n,i+s,a)}}map(e,t,n){return this==ha||e.maps.length==0?this:this.mapInner(e,t,0,0,n||xh)}mapInner(e,t,n,i,a){let o;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,i);l&&l.type.valid(t,l)?(o||(o=[])).push(l):a.onRemove&&a.onRemove(this.local[s].spec)}return this.children.length?oLe(this.children,o||[],e,t,n,i,a):o?new Gn(o.sort(Ch),ip):ha}add(e,t){return t.length?this==ha?Gn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let i,a=0;e.forEach((s,l)=>{let u=l+n,c;if(c=a5(t,s,u)){for(i||(i=this.children.slice());a<i.length&&i[a]<l;)a+=3;i[a]==l?i[a+2]=i[a+2].addInner(s,c,u+1):i.splice(a,0,l,l+s.nodeSize,t1(c,s,u+1,xh)),a+=3}});let o=i5(a?o5(t):t,-n);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||o.splice(s--,1);return new Gn(o.length?this.local.concat(o).sort(Ch):this.local,i||this.children)}remove(e){return e.length==0||this==ha?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let o,s=n[a]+t,l=n[a+1]+t;for(let c=0,h;c<e.length;c++)(h=e[c])&&h.from>s&&h.to<l&&(e[c]=null,(o||(o=[])).push(h));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[a+2].removeInner(o,s+1);u!=ha?n[a+2]=u:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,o;a<e.length;a++)if(o=e[a])for(let s=0;s<i.length;s++)i[s].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new Gn(i,n):ha}forChild(e,t){if(this==ha)return this;if(t.isLeaf)return Gn.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let a=e+1,o=a+t.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<o&&l.to>a&&l.type instanceof uf){let u=Math.max(a,l.from)-a,c=Math.min(o,l.to)-a;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new Gn(i.sort(Ch),ip);return n?new Wc([s,n]):s}return n||ha}eq(e){if(this==e)return!0;if(!(e instanceof Gn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return g$(this.localsInner(e))}localsInner(e){if(this==ha)return ip;if(e.inlineContent||!this.local.some(uf.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof uf||t.push(this.local[n]);return t}forEachSet(e){e(this)}}Gn.empty=new Gn([],[]);Gn.removeOverlap=g$;const ha=Gn.empty;class Wc{constructor(e){this.members=e}map(e,t){const n=this.members.map(i=>i.map(e,t,xh));return Wc.from(n)}forChild(e,t){if(t.isLeaf)return Gn.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,t);a!=ha&&(a instanceof Wc?n=n.concat(a.members):n.push(a))}return Wc.from(n)}eq(e){if(!(e instanceof Wc)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!t)t=a;else{n&&(t=t.slice(),n=!1);for(let o=0;o<a.length;o++)t.push(a[o])}}return t?g$(n?t:t.sort(Ch)):ip}static from(e){switch(e.length){case 0:return ha;case 1:return e[0];default:return new Wc(e.every(t=>t instanceof Gn)?e:e.reduce((t,n)=>t.concat(n instanceof Gn?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function oLe(r,e,t,n,i,a,o){let s=r.slice();for(let u=0,c=a;u<t.maps.length;u++){let h=0;t.maps[u].forEach((p,g,O,T)=>{let M=T-O-(g-p);for(let R=0;R<s.length;R+=3){let z=s[R+1];if(z<0||p>z+c-h)continue;let U=s[R]+c-h;g>=U?s[R+1]=p<=U?-2:-1:p>=c&&M&&(s[R]+=M,s[R+1]+=M)}h+=M}),c=t.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=t.map(r[u]+a),h=c-i;if(h<0||h>=n.content.size){l=!0;continue}let p=t.map(r[u+1]+a,-1),g=p-i,{index:O,offset:T}=n.content.findIndex(h),M=n.maybeChild(O);if(M&&T==h&&T+M.nodeSize==g){let R=s[u+2].mapInner(t,M,c+1,r[u]+a+1,o);R!=ha?(s[u]=h,s[u+1]=g,s[u+2]=R):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=sLe(s,r,e,t,i,a,o),c=t1(u,n,0,o);e=c.local;for(let h=0;h<s.length;h+=3)s[h+1]<0&&(s.splice(h,3),h-=3);for(let h=0,p=0;h<c.children.length;h+=3){let g=c.children[h];for(;p<s.length&&s[p]<g;)p+=3;s.splice(p,0,c.children[h],c.children[h+1],c.children[h+2])}}return new Gn(e.sort(Ch),s)}function i5(r,e){if(!e||!r.length)return r;let t=[];for(let n=0;n<r.length;n++){let i=r[n];t.push(new mo(i.from+e,i.to+e,i.type))}return t}function sLe(r,e,t,n,i,a,o){function s(l,u){for(let c=0;c<l.local.length;c++){let h=l.local[c].map(n,i,u);h?t.push(h):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<r.length;l+=3)r[l+1]==-1&&s(r[l+2],e[l]+a+1);return t}function a5(r,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,i=null;for(let a=0,o;a<r.length;a++)(o=r[a])&&o.from>t&&o.to<n&&((i||(i=[])).push(o),r[a]=null);return i}function o5(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function t1(r,e,t,n){let i=[],a=!1;e.forEach((s,l)=>{let u=a5(r,s,l+t);if(u){a=!0;let c=t1(u,s,t+l+1,n);c!=ha&&i.push(l,l+s.nodeSize,c)}});let o=i5(a?o5(r):r,-t).sort(Ch);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||(n.onRemove&&n.onRemove(o[s].spec),o.splice(s--,1));return o.length||i.length?new Gn(o,i):ha}function Ch(r,e){return r.from-e.from||r.to-e.to}function g$(r){let e=r;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let i=t+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==r&&(e=r.slice()),e[i]=a.copy(a.from,n.to),IB(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==r&&(e=r.slice()),e[t]=n.copy(n.from,a.from),IB(e,i,n.copy(a.from,n.to)));break}}}return e}function IB(r,e,t){for(;e<r.length&&Ch(t,r[e])>0;)e++;r.splice(e,0,t)}function aD(r){let e=[];return r.someProp("decorations",t=>{let n=t(r.state);n&&n!=ha&&e.push(n)}),r.cursorWrapper&&e.push(Gn.create(r.state.doc,[r.cursorWrapper.deco])),Wc.from(e)}const lLe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},uLe=go&&sf<=11;class cLe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class fLe{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new cLe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);go&&sf<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),uLe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,lLe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(AB(this.view)){if(this.suppressingSelectionUpdates)return ju(this.view);if(go&&sf<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&_h(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let a=e.focusNode;a;a=qp(a))t.add(a);for(let a=e.anchorNode;a;a=qp(a))if(t.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&AB(e)&&!this.ignoreSelectionChange(n),a=-1,o=-1,s=!1,l=[];if(e.editable)for(let c=0;c<t.length;c++){let h=this.registerMutation(t[c],l);h&&(a=a<0?h.from:Math.min(h.from,a),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(s=!0))}if(dl&&l.length){let c=l.filter(h=>h.nodeName=="BR");if(c.length==2){let[h,p]=c;h.parentNode&&h.parentNode.parentNode==p.parentNode?p.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let p of c){let g=p.parentNode;g&&g.nodeName=="LI"&&(!h||pLe(e,h)!=g)&&p.remove()}}}let u=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ik(n)&&(u=c$(e))&&u.eq(Dr.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ju(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,o),hLe(e)),this.handleDOMChange(a,o,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||ju(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let h=e.addedNodes[c];t.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(go&&sf<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:h,nextSibling:p}=e.addedNodes[c];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(a=p)}let o=i&&i.parentNode==e.target?ji(i)+1:0,s=n.localPosFromDOM(e.target,o,-1),l=a&&a.parentNode==e.target?ji(a):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:s,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let QB=new WeakMap,BB=!1;function hLe(r){if(!QB.has(r)&&(QB.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=dl,BB)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),BB=!0}}function qB(r,e){let t=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,o=r.domAtPos(r.state.selection.anchor);return _h(o.node,o.offset,i,a)&&([t,n,i,a]=[i,a,t,n]),{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:a}}function dLe(r,e){if(e.getComposedRanges){let i=e.getComposedRanges(r.root)[0];if(i)return qB(r,i)}let t;function n(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",n,!0),t?qB(r,t):null}function pLe(r,e){for(let t=e.parentNode;t&&t!=r.dom;t=t.parentNode){let n=r.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function mLe(r,e,t){let{node:n,fromOffset:i,toOffset:a,from:o,to:s}=r.docView.parseRange(e,t),l=r.domSelectionRange(),u,c=l.anchorNode;if(c&&r.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],ik(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Oa&&r.input.lastKeyCode===8)for(let M=a;M>i;M--){let R=n.childNodes[M-1],z=R.pmViewDesc;if(R.nodeName=="BR"&&!z){a=M;break}if(!z||z.size)break}let h=r.state.doc,p=r.someProp("domParser")||$h.fromSchema(r.state.schema),g=h.resolve(o),O=null,T=p.parse(n,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:a,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:vLe,context:g});if(u&&u[0].pos!=null){let M=u[0].pos,R=u[1]&&u[1].pos;R==null&&(R=M),O={anchor:M+o,head:R+o}}return{doc:T,sel:O,from:o,to:s}}function vLe(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(qa&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||qa&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const gLe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function OLe(r,e,t,n,i){let a=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let be=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,Fe=c$(r,be);if(Fe&&!r.state.selection.eq(Fe)){if(Oa&&Vu&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",_e=>_e(r,dh(13,"Enter"))))return;let Ge=r.state.tr.setSelection(Fe);be=="pointer"?Ge.setMeta("pointer",!0):be=="key"&&Ge.scrollIntoView(),a&&Ge.setMeta("composition",a),r.dispatch(Ge)}return}let o=r.state.doc.resolve(e),s=o.sharedDepth(t);e=o.before(s+1),t=r.state.doc.resolve(t).after(s+1);let l=r.state.selection,u=mLe(r,e,t),c=r.state.doc,h=c.slice(u.from,u.to),p,g;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(p=r.state.selection.to,g="end"):(p=r.state.selection.from,g="start"),r.input.lastKeyCode=null;let O=wLe(h.content,u.doc.content,u.from,p,g);if(O&&r.input.domChangeCount++,(Fp&&r.input.lastIOSEnter>Date.now()-225||Vu)&&i.some(be=>be.nodeType==1&&!gLe.test(be.nodeName))&&(!O||O.endA>=O.endB)&&r.someProp("handleKeyDown",be=>be(r,dh(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!O)if(n&&l instanceof Qr&&!l.empty&&l.$head.sameParent(l.$anchor)&&!r.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))O={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let be=FB(r,r.state.doc,u.sel);if(be&&!be.eq(r.state.selection)){let Fe=r.state.tr.setSelection(be);a&&Fe.setMeta("composition",a),r.dispatch(Fe)}}return}r.state.selection.from<r.state.selection.to&&O.start==O.endB&&r.state.selection instanceof Qr&&(O.start>r.state.selection.from&&O.start<=r.state.selection.from+2&&r.state.selection.from>=u.from?O.start=r.state.selection.from:O.endA<r.state.selection.to&&O.endA>=r.state.selection.to-2&&r.state.selection.to<=u.to&&(O.endB+=r.state.selection.to-O.endA,O.endA=r.state.selection.to)),go&&sf<=11&&O.endB==O.start+1&&O.endA==O.start&&O.start>u.from&&u.doc.textBetween(O.start-u.from-1,O.start-u.from+1)==" Â "&&(O.start--,O.endA--,O.endB--);let T=u.doc.resolveNoCache(O.start-u.from),M=u.doc.resolveNoCache(O.endB-u.from),R=c.resolve(O.start),z=T.sameParent(M)&&T.parent.inlineContent&&R.end()>=O.endA,U;if((Fp&&r.input.lastIOSEnter>Date.now()-225&&(!z||i.some(be=>be.nodeName=="DIV"||be.nodeName=="P"))||!z&&T.pos<u.doc.content.size&&(!T.sameParent(M)||!T.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(T.pos,M.pos,"",""))&&(U=Dr.findFrom(u.doc.resolve(T.pos+1),1,!0))&&U.head>T.pos)&&r.someProp("handleKeyDown",be=>be(r,dh(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>O.start&&bLe(c,O.start,O.endA,T,M)&&r.someProp("handleKeyDown",be=>be(r,dh(8,"Backspace")))){Vu&&Oa&&r.domObserver.suppressSelectionUpdates();return}Oa&&O.endB==O.start&&(r.input.lastChromeDelete=Date.now()),Vu&&!z&&T.start()!=M.start()&&M.parentOffset==0&&T.depth==M.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==O.endA&&(O.endB-=2,M=u.doc.resolveNoCache(O.endB-u.from),setTimeout(()=>{r.someProp("handleKeyDown",function(be){return be(r,dh(13,"Enter"))})},20));let G=O.start,J=O.endA,ee,le,pe;if(z){if(T.pos==M.pos)go&&sf<=11&&T.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>ju(r),20)),ee=r.state.tr.delete(G,J),le=c.resolve(O.start).marksAcross(c.resolve(O.endA));else if(O.endA==O.endB&&(pe=yLe(T.parent.content.cut(T.parentOffset,M.parentOffset),R.parent.content.cut(R.parentOffset,O.endA-R.start()))))ee=r.state.tr,pe.type=="add"?ee.addMark(G,J,pe.mark):ee.removeMark(G,J,pe.mark);else if(T.parent.child(T.index()).isText&&T.index()==M.index()-(M.textOffset?0:1)){let be=T.parent.textBetween(T.parentOffset,M.parentOffset);if(r.someProp("handleTextInput",Fe=>Fe(r,G,J,be)))return;ee=r.state.tr.insertText(be,G,J)}}if(ee||(ee=r.state.tr.replace(G,J,u.doc.slice(O.start-u.from,O.endB-u.from))),u.sel){let be=FB(r,ee.doc,u.sel);be&&!(Oa&&r.composing&&be.empty&&(O.start!=O.endB||r.input.lastChromeDelete<Date.now()-100)&&(be.head==G||be.head==ee.mapping.map(J)-1)||go&&be.empty&&be.head==G)&&ee.setSelection(be)}le&&ee.ensureMarks(le),a&&ee.setMeta("composition",a),r.dispatch(ee.scrollIntoView())}function FB(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:f$(r,e.resolve(t.anchor),e.resolve(t.head))}function yLe(r,e){let t=r.firstChild.marks,n=e.firstChild.marks,i=t,a=n,o,s,l;for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(let c=0;c<t.length;c++)a=t[c].removeFromSet(a);if(i.length==1&&a.length==0)s=i[0],o="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&a.length==1)s=a[0],o="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(nt.from(u).eq(r))return{mark:s,type:o}}function bLe(r,e,t,n,i){if(t-e<=i.pos-n.pos||oD(n,!0,!1)<i.pos)return!1;let a=r.resolve(e);if(!n.parent.isTextblock){let s=a.nodeAfter;return s!=null&&t==e+s.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=r.resolve(oD(a,!0,!0));return!o.parent.isTextblock||o.pos>t||oD(o,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function oD(r,e,t){let n=r.depth,i=e?r.end():r.pos;for(;n>0&&(e||r.indexAfter(n)==r.node(n).childCount);)n--,i++,e=!1;if(t){let a=r.node(n).maybeChild(r.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function wLe(r,e,t,n,i){let a=r.findDiffStart(e,t);if(a==null)return null;let{a:o,b:s}=r.findDiffEnd(e,t+r.size,t+e.size);if(i=="end"){let l=Math.max(0,a-Math.min(o,s));n-=o+l-a}if(o<a&&r.size<e.size){let l=n<=a&&n>=o?a-n:0;a-=l,a&&a<e.size&&VB(e.textBetween(a-1,a+1))&&(a+=l?1:-1),s=a+(s-o),o=a}else if(s<a){let l=n<=a&&n>=s?a-n:0;a-=l,a&&a<r.size&&VB(r.textBetween(a-1,a+1))&&(a+=l?1:-1),o=a+(o-s),s=a}return{start:a,endA:o,endB:s}}function VB(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),t=r.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class O${constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new q$e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(UB),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=HB(this),zB(this),this.nodeViews=WB(this),this.docView=SB(this.state.doc,ZB(this),aD(this),this.dom,this),this.domObserver=new fLe(this,(n,i,a,o)=>OLe(this,n,i,a,o)),this.domObserver.start(),F$e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&kR(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(UB),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let i=this.state,a=!1,o=!1;e.storedMarks&&this.composing&&(e5(this),o=!0),this.state=e;let s=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let g=WB(this);SLe(g,this.nodeViews)&&(this.nodeViews=g,a=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&kR(this),this.editable=HB(this),zB(this);let l=aD(this),u=ZB(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=a||!this.docView.matchesNode(e.doc,u,l);(h||!e.selection.eq(i.selection))&&(o=!0);let p=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&t$e(this);if(o){this.domObserver.stop();let g=h&&(go||Oa)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&kLe(i.selection,e.selection);if(h){let O=Oa?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=eLe(this)),(a||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=SB(e.doc,u,l,this.dom,this)),O&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&C$e(this))?ju(this,g):(VU(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():p&&r$e(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof hr){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&gB(this,t.getBoundingClientRect(),e)}else gB(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let a=n.from+(this.state.doc.content.size-t.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(i=a)}this.dragging=new r5(e.slice,e.move,i<0?void 0:hr.create(this.state.doc,i))}someProp(e,t){let n=this._props&&this._props[e],i;if(n!=null&&(i=t?t(n):n))return i;for(let o=0;o<this.directPlugins.length;o++){let s=this.directPlugins[o].props[e];if(s!=null&&(i=t?t(s):s))return i}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let s=a[o].props[e];if(s!=null&&(i=t?t(s):s))return i}}hasFocus(){if(go){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&n$e(this.dom),ju(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return l$e(this,e)}coordsAtPos(e,t=1){return $U(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let i=this.docView.posFromDOM(e,t,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return d$e(this,t||this.state,e)}pasteHTML(e,t){return Jg(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Jg(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return h$(this,e)}destroy(){this.docView&&(V$e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],aD(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,zNe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return z$e(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?qa&&this.root.nodeType===11&&jNe(this.dom.ownerDocument)==this.dom&&dLe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function ZB(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[mo.node(0,r.state.doc.content.size,e)]}function zB(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:mo.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function HB(r){return!r.someProp("editable",e=>e(r.state)===!1)}function kLe(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function WB(r){let e=Object.create(null);function t(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function SLe(r,e){let t=0,n=0;for(let i in r){if(r[i]!=e[i])return!0;t++}for(let i in e)n++;return t!=n}function UB(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const xLe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),CLe=typeof navigator<"u"&&/Win/.test(navigator.platform);function TLe(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,i,a,o;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))xLe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function ELe(r){let e=Object.create(null);for(let t in r)e[TLe(t)]=r[t];return e}function sD(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function tO(r){return new wo({props:{handleKeyDown:MLe(r)}})}function MLe(r){let e=ELe(r);return function(t,n){let i=RZ(n),a,o=e[sD(i,n)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let s=e[sD(i,n,!1)];if(s&&s(t.state,t.dispatch,t))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(CLe&&n.ctrlKey&&n.altKey)&&(a=ec[n.keyCode])&&a!=i){let s=e[sD(a,n)];if(s&&s(t.state,t.dispatch,t))return!0}}return!1}}const y$=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function ALe(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const DLe=(r,e,t)=>{let n=ALe(r,t);if(!n)return!1;let i=s5(n);if(!i){let o=n.blockRange(),s=o&&rk(o);return s==null?!1:(e&&e(r.tr.lift(o,s).scrollIntoView()),!0)}let a=i.nodeBefore;if(h5(r,i,e,-1))return!0;if(n.parent.content.size==0&&(Vp(a,"end")||hr.isSelectable(a)))for(let o=n.depth;;o--){let s=s$(r.doc,n.before(o),n.after(o),St.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=r.tr.step(s);l.setSelection(Vp(a,"end")?Dr.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):hr.create(l.doc,i.pos-a.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function Vp(r,e,t=!1){for(let n=r;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const PLe=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):n.parentOffset>0)return!1;a=s5(n)}let o=a&&a.nodeBefore;return!o||!hr.isSelectable(o)?!1:(e&&e(r.tr.setSelection(hr.create(r.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function s5(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function RLe(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const l5=(r,e,t)=>{let n=RLe(r,t);if(!n)return!1;let i=u5(n);if(!i)return!1;let a=i.nodeAfter;if(h5(r,i,e,1))return!0;if(n.parent.content.size==0&&(Vp(a,"start")||hr.isSelectable(a))){let o=s$(r.doc,n.before(),n.after(),St.empty);if(o&&o.slice.size<o.to-o.from){if(e){let s=r.tr.step(o);s.setSelection(Vp(a,"start")?Dr.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):hr.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(r.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},NLe=(r,e,t)=>{let{$head:n,empty:i}=r.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)return!1;a=u5(n)}let o=a&&a.nodeAfter;return!o||!hr.isSelectable(o)?!1:(e&&e(r.tr.setSelection(hr.create(r.doc,a.pos)).scrollIntoView()),!0)};function u5(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const c5=(r,e)=>{let{$head:t,$anchor:n}=r.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function b$(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const w$=(r,e)=>{let{$head:t,$anchor:n}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let i=t.node(-1),a=t.indexAfter(-1),o=b$(i.contentMatchAt(a));if(!o||!i.canReplaceWith(a,a,o))return!1;if(e){let s=t.after(),l=r.tr.replaceWith(s,s,o.createAndFill());l.setSelection(Dr.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},$Le=(r,e)=>{let t=r.selection,{$from:n,$to:i}=t;if(t instanceof Qa||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=b$(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let o=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=r.tr.insert(o,a.createAndFill());s.setSelection(Qr.create(s.doc,o+1)),e(s.scrollIntoView())}return!0},LLe=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(kp(r.doc,a))return e&&e(r.tr.split(a).scrollIntoView()),!0}let n=t.blockRange(),i=n&&rk(n);return i==null?!1:(e&&e(r.tr.lift(n,i).scrollIntoView()),!0)};function _Le(r){return(e,t)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof hr&&e.selection.node.isBlock)return!n.parentOffset||!kp(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],o,s,l=!1,u=!1;for(let g=n.depth;;g--)if(n.node(g).isBlock){l=n.end(g)==n.pos+(n.depth-g),u=n.start(g)==n.pos-(n.depth-g),s=b$(n.node(g-1).contentMatchAt(n.indexAfter(g-1))),a.unshift(l&&s?{type:s}:null),o=g;break}else{if(g==1)return!1;a.unshift(null)}let c=e.tr;(e.selection instanceof Qr||e.selection instanceof Qa)&&c.deleteSelection();let h=c.mapping.map(n.pos),p=kp(c.doc,h,a.length,a);if(p||(a[0]=s?{type:s}:null,p=kp(c.doc,h,a.length,a)),!p)return!1;if(c.split(h,a.length,a),!l&&u&&n.node(o).type!=s){let g=c.mapping.map(n.before(o)),O=c.doc.resolve(g);s&&n.node(o-1).canReplaceWith(O.index(),O.index()+1,s)&&c.setNodeMarkup(c.mapping.map(n.before(o)),s)}return t&&t(c.scrollIntoView()),!0}}const ILe=_Le(),f5=(r,e)=>(e&&e(r.tr.setSelection(new Qa(r.doc))),!0);function QLe(r,e,t){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(t&&t(r.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||bU(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function h5(r,e,t,n){let i=e.nodeBefore,a=e.nodeAfter,o,s,l=i.type.spec.isolating||a.type.spec.isolating;if(!l&&QLe(r,e,t))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(s=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&s.matchType(o[0]||a.type).validEnd){if(t){let g=e.pos+a.nodeSize,O=nt.empty;for(let R=o.length-1;R>=0;R--)O=nt.from(o[R].create(null,O));O=nt.from(i.copy(O));let T=r.tr.step(new Di(e.pos-1,g,e.pos,g,new St(O,1,0),o.length,!0)),M=T.doc.resolve(g+2*o.length);M.nodeAfter&&M.nodeAfter.type==i.type&&bU(T.doc,M.pos)&&T.join(M.pos),t(T.scrollIntoView())}return!0}let c=a.type.spec.isolating||n>0&&l?null:Dr.findFrom(e,1),h=c&&c.$from.blockRange(c.$to),p=h&&rk(h);if(p!=null&&p>=e.depth)return t&&t(r.tr.lift(h,p).scrollIntoView()),!0;if(u&&Vp(a,"start",!0)&&Vp(i,"end")){let g=i,O=[];for(;O.push(g),!g.isTextblock;)g=g.lastChild;let T=a,M=1;for(;!T.isTextblock;T=T.firstChild)M++;if(g.canReplace(g.childCount,g.childCount,T.content)){if(t){let R=nt.empty;for(let U=O.length-1;U>=0;U--)R=nt.from(O[U].copy(R));let z=r.tr.step(new Di(e.pos-O.length,e.pos+a.nodeSize,e.pos+M,e.pos+a.nodeSize-M,new St(R,O.length,0),0,!0));t(z.scrollIntoView())}return!0}}return!1}function d5(r){return function(e,t){let n=e.selection,i=r<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(t&&t(e.tr.setSelection(Qr.create(e.doc,r<0?i.start(a):i.end(a)))),!0):!1}}const BLe=d5(-1),qLe=d5(1);function FLe(r,e=null){return function(t,n){let{$from:i,$to:a}=t.selection,o=i.blockRange(a),s=o&&wNe(o,r,e);return s?(n&&n(t.tr.wrap(o,s).scrollIntoView()),!0):!1}}function k$(r,e=null){return function(t,n){let i=!1;for(let a=0;a<t.selection.ranges.length&&!i;a++){let{$from:{pos:o},$to:{pos:s}}=t.selection.ranges[a];t.doc.nodesBetween(o,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(r,e)))if(l.type==r)i=!0;else{let c=t.doc.resolve(u),h=c.index();i=c.parent.canReplaceWith(h,h+1,r)}})}if(!i)return!1;if(n){let a=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:s},$to:{pos:l}}=t.selection.ranges[o];a.setBlockType(s,l,r,e)}n(a.scrollIntoView())}return!0}}function VLe(r,e,t,n){for(let i=0;i<e.length;i++){let{$from:a,$to:o}=e[i],s=a.depth==0?r.inlineContent&&r.type.allowsMarkType(t):!1;if(r.nodesBetween(a.pos,o.pos,(l,u)=>{if(s)return!1;s=l.inlineContent&&l.type.allowsMarkType(t)}),s)return!0}return!1}function xO(r,e=null,t){return function(n,i){let{empty:a,$cursor:o,ranges:s}=n.selection;if(a&&!o||!VLe(n.doc,s,r))return!1;if(i)if(o)r.isInSet(n.storedMarks||o.marks())?i(n.tr.removeStoredMark(r)):i(n.tr.addStoredMark(r.create(e)));else{let l,u=n.tr;l=!s.some(c=>n.doc.rangeHasMark(c.$from.pos,c.$to.pos,r));for(let c=0;c<s.length;c++){let{$from:h,$to:p}=s[c];if(!l)u.removeMark(h.pos,p.pos,r);else{let g=h.pos,O=p.pos,T=h.nodeAfter,M=p.nodeBefore,R=T&&T.isText?/^\s*/.exec(T.text)[0].length:0,z=M&&M.isText?/\s*$/.exec(M.text)[0].length:0;g+R<O&&(g+=R,O-=z),u.addMark(g,O,r.create(e))}}i(u.scrollIntoView())}return!0}}function sk(...r){return function(e,t,n){for(let i=0;i<r.length;i++)if(r[i](e,t,n))return!0;return!1}}let lD=sk(y$,DLe,PLe),XB=sk(y$,l5,NLe);const Iu={Enter:sk(c5,$Le,LLe,ILe),"Mod-Enter":w$,Backspace:lD,"Mod-Backspace":lD,"Shift-Backspace":lD,Delete:XB,"Mod-Delete":XB,"Mod-a":f5},p5={"Ctrl-h":Iu.Backspace,"Alt-Backspace":Iu["Mod-Backspace"],"Ctrl-d":Iu.Delete,"Ctrl-Alt-Backspace":Iu["Mod-Delete"],"Alt-Delete":Iu["Mod-Delete"],"Alt-d":Iu["Mod-Delete"],"Ctrl-a":BLe,"Ctrl-e":qLe};for(let r in Iu)p5[r]=Iu[r];const ZLe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,jB=ZLe?p5:Iu;class xf{constructor(e,t,n={}){this.match=e,this.match=e,this.handler=typeof t=="string"?zLe(t):t,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1,this.inCodeMark=n.inCodeMark!==!1}}function zLe(r){return function(e,t,n,i){let a=r;if(t[1]){let o=t[0].lastIndexOf(t[1]);a+=t[0].slice(o+t[1].length),n+=o;let s=n-i;s>0&&(a=t[0].slice(o-s,o)+a,n=i)}return e.tr.insertText(a,n,i)}}const HLe=500;function m5({rules:r}){let e=new wo({state:{init(){return null},apply(t,n){let i=t.getMeta(this);return i||(t.selectionSet||t.docChanged?null:n)}},props:{handleTextInput(t,n,i,a){return YB(t,n,i,a,r,e)},handleDOMEvents:{compositionend:t=>{setTimeout(()=>{let{$cursor:n}=t.state.selection;n&&YB(t,n.pos,n.pos,"",r,e)})}}},isInputRules:!0});return e}function YB(r,e,t,n,i,a){if(r.composing)return!1;let o=r.state,s=o.doc.resolve(e),l=s.parent.textBetween(Math.max(0,s.parentOffset-HLe),s.parentOffset,null,"ï¿¼")+n;for(let u=0;u<i.length;u++){let c=i[u];if(!c.inCodeMark&&s.marks().some(g=>g.type.spec.code))continue;if(s.parent.type.spec.code){if(!c.inCode)continue}else if(c.inCode==="only")continue;let h=c.match.exec(l),p=h&&h[0].length>=n.length&&c.handler(o,h,e-(h[0].length-n.length),t);if(p)return c.undoable&&p.setMeta(a,{transform:p,from:e,to:t,text:n}),r.dispatch(p),!0}return!1}const WLe=(r,e)=>{let t=r.plugins;for(let n=0;n<t.length;n++){let i=t[n],a;if(i.spec.isInputRules&&(a=i.getState(r))){if(e){let o=r.tr,s=a.transform;for(let l=s.steps.length-1;l>=0;l--)o.step(s.steps[l].invert(s.docs[l]));if(a.text){let l=o.doc.resolve(a.from).marks();o.replaceWith(a.from,a.to,r.schema.text(a.text,l))}else o.delete(a.from,a.to);e(o)}return!0}}return!1};new xf(/--$/,"â",{inCodeMark:!1});new xf(/\.\.\.$/,"â¦",{inCodeMark:!1});new xf(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"â",{inCodeMark:!1});new xf(/"$/,"â",{inCodeMark:!1});new xf(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"â",{inCodeMark:!1});new xf(/'$/,"â",{inCodeMark:!1});var r1=200,Pi=function(){};Pi.prototype.append=function(e){return e.length?(e=Pi.from(e),!this.length&&e||e.length<r1&&this.leafAppend(e)||this.length<r1&&e.leafPrepend(this)||this.appendInner(e)):this};Pi.prototype.prepend=function(e){return e.length?Pi.from(e).append(this):this};Pi.prototype.appendInner=function(e){return new ULe(this,e)};Pi.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Pi.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Pi.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Pi.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};Pi.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,o){return i.push(e(a,o))},t,n),i};Pi.from=function(e){return e instanceof Pi?e:e&&e.length?new v5(e):Pi.empty};var v5=function(r){function e(n){r.call(this),this.values=n}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,o,s){for(var l=a;l<o;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,o,s){for(var l=a-1;l>=o;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=r1)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=r1)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Pi);Pi.empty=new v5([]);var ULe=function(r){function e(t,n){r.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,a,o){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(a,s),o)===!1||a>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,a)-s,o+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,a,o){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(a,s)-s,o+s)===!1||a<s&&this.left.forEachInvertedInner(n,Math.min(i,s),a,o)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Pi);const XLe=500;class al{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;t&&(i=this.remapping(n,this.items.length),a=i.maps.length);let o=e.tr,s,l,u=[],c=[];return this.items.forEach((h,p)=>{if(!h.step){i||(i=this.remapping(n,p+1),a=i.maps.length),a--,c.push(h);return}if(i){c.push(new Zl(h.map));let g=h.step.map(i.slice(a)),O;g&&o.maybeStep(g).doc&&(O=o.mapping.maps[o.mapping.maps.length-1],u.push(new Zl(O,void 0,void 0,u.length+c.length))),a--,O&&i.appendMap(O,a)}else o.maybeStep(h.step);if(h.selection)return s=i?h.selection.map(i.slice(a)):h.selection,l=new al(this.items.slice(0,n).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:s}}addTransform(e,t,n,i){let a=[],o=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let h=e.steps[c].invert(e.docs[c]),p=new Zl(e.mapping.maps[c],h,t),g;(g=l&&l.merge(p))&&(p=g,c?a.pop():s=s.slice(0,s.length-1)),a.push(p),t&&(o++,t=void 0),i||(l=p)}let u=o-n.depth;return u>YLe&&(s=jLe(s,u),o-=u),new al(s.append(a),o)}remapping(e,t){let n=new Yg;return this.items.forEach((i,a)=>{let o=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,o)},e,t),n}addMaps(e){return this.eventCount==0?this:new al(this.items.append(e.map(t=>new Zl(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),a=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach(p=>{p.selection&&s--},i);let l=t;this.items.forEach(p=>{let g=a.getMirror(--l);if(g==null)return;o=Math.min(o,g);let O=a.maps[g];if(p.step){let T=e.steps[g].invert(e.docs[g]),M=p.selection&&p.selection.map(a.slice(l+1,g));M&&s++,n.push(new Zl(O,T,M))}else n.push(new Zl(O))},i);let u=[];for(let p=t;p<o;p++)u.push(new Zl(a.maps[p]));let c=this.items.slice(0,i).append(u).append(n),h=new al(c,s);return h.emptyItemCount()>XLe&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,i=[],a=0;return this.items.forEach((o,s)=>{if(s>=e)i.push(o),o.selection&&a++;else if(o.step){let l=o.step.map(t.slice(n)),u=l&&l.getMap();if(n--,u&&t.appendMap(u,n),l){let c=o.selection&&o.selection.map(t.slice(n));c&&a++;let h=new Zl(u.invert(),l,c),p,g=i.length-1;(p=i.length&&i[g].merge(h))?i[g]=p:i.push(h)}}else o.map&&n--},this.items.length,0),new al(Pi.from(i.reverse()),a)}}al.empty=new al(Pi.empty,0);function jLe(r,e){let t;return r.forEach((n,i)=>{if(n.selection&&e--==0)return t=i,!1}),r.slice(t)}class Zl{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Zl(t.getMap().invert(),t,this.selection)}}}class Vc{constructor(e,t,n,i,a){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i,this.prevComposition=a}}const YLe=20;function GLe(r,e,t,n){let i=t.getMeta(cf),a;if(i)return i.historyState;t.getMeta(e_e)&&(r=new Vc(r.done,r.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(o&&o.getMeta(cf))return o.getMeta(cf).redo?new Vc(r.done.addTransform(t,void 0,n,z0(e)),r.undone,GB(t.mapping.maps),r.prevTime,r.prevComposition):new Vc(r.done,r.undone.addTransform(t,void 0,n,z0(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let s=t.getMeta("composition"),l=r.prevTime==0||!o&&r.prevComposition!=s&&(r.prevTime<(t.time||0)-n.newGroupDelay||!KLe(t,r.prevRanges)),u=o?uD(r.prevRanges,t.mapping):GB(t.mapping.maps);return new Vc(r.done.addTransform(t,l?e.selection.getBookmark():void 0,n,z0(e)),al.empty,u,t.time,s??r.prevComposition)}else return(a=t.getMeta("rebased"))?new Vc(r.done.rebased(t,a),r.undone.rebased(t,a),uD(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new Vc(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),uD(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function KLe(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(t=!0)}),t}function GB(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((n,i,a,o)=>e.push(a,o));return e}function uD(r,e){if(!r)return null;let t=[];for(let n=0;n<r.length;n+=2){let i=e.map(r[n],1),a=e.map(r[n+1],-1);i<=a&&t.push(i,a)}return t}function JLe(r,e,t){let n=z0(e),i=cf.get(e).spec.config,a=(t?r.undone:r.done).popEvent(e,n);if(!a)return null;let o=a.selection.resolve(a.transform.doc),s=(t?r.done:r.undone).addTransform(a.transform,e.selection.getBookmark(),i,n),l=new Vc(t?s:a.remaining,t?a.remaining:s,null,0,-1);return a.transform.setSelection(o).setMeta(cf,{redo:t,historyState:l})}let cD=!1,KB=null;function z0(r){let e=r.plugins;if(KB!=e){cD=!1,KB=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){cD=!0;break}}return cD}const cf=new bO("history"),e_e=new bO("closeHistory");function g5(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new wo({key:cf,state:{init(){return new Vc(al.empty,al.empty,null,0,-1)},apply(e,t,n){return GLe(t,n,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i=n=="historyUndo"?Og:n=="historyRedo"?S$:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function O5(r,e){return(t,n)=>{let i=cf.getState(t);if(!i||(r?i.undone:i.done).eventCount==0)return!1;if(n){let a=JLe(i,t,r);a&&n(e?a.scrollIntoView():a)}return!0}}const Og=O5(!1,!0),S$=O5(!0,!0);function t_e(r){let e=cf.getState(r);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var SR=function(r,e){return SR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},SR(r,e)};function Dt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");SR(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ze=function(){return ze=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ze.apply(this,arguments)};function bo(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}function Fr(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function r_e(r,e,t){var n;t=t||null;for(n in r)if(r.hasOwnProperty(n)&&e.call(t,r[n],n,r)===!1)break}var Zp=r_e;function n_e(r,e){var t=Object.prototype.hasOwnProperty,n,i,a,o;for(a=1,o=arguments.length;a<o;a+=1){n=arguments[a];for(i in n)t.call(n,i)&&(r[i]=n[i])}return r}var x$=n_e;function i_e(r){return typeof r=="string"||r instanceof String}var fc=i_e;function a_e(r){return r instanceof Array}var fm=a_e;function o_e(r,e,t){var n=0,i=r.length;for(t=t||null;n<i&&e.call(t,r[n],n,r)!==!1;n+=1);}var zp=o_e,s_e=fm,l_e=zp,u_e=Zp;function c_e(r,e,t){s_e(r)?l_e(r,e,t):u_e(r,e,t)}var lk=c_e,f_e=fc,h_e=lk;function d_e(r,e,t){var n=r.style;if(f_e(e)){n[e]=t;return}h_e(e,function(i,a){n[a]=i})}var ou=d_e,p_e=fm;function m_e(r,e,t){var n,i;if(t=t||0,!p_e(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,r,t);for(i=e.length,n=t;t>=0&&n<i;n+=1)if(e[n]===r)return n;return-1}var Qh=m_e;function v_e(r){return r===void 0}var pl=v_e,g_e=pl;function O_e(r){return!r||!r.className?"":g_e(r.className.baseVal)?r.className:r.className.baseVal}var C$=O_e,y_e=fm,b_e=pl;function w_e(r,e){if(e=y_e(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),b_e(r.className.baseVal)){r.className=e;return}r.className.baseVal=e}var y5=w_e,JB=lk,k_e=Qh,S_e=C$,x_e=y5;function C_e(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n=[],i;if(t){JB(e,function(a){r.classList.add(a)});return}i=S_e(r),i&&(e=[].concat(i.split(/\s+/),e)),JB(e,function(a){k_e(a,n)<0&&n.push(a)}),x_e(r,n)}var Jl=C_e,eq=zp,T_e=Qh,E_e=C$,M_e=y5;function A_e(r){var e=Array.prototype.slice.call(arguments,1),t=r.classList,n,i;if(t){eq(e,function(a){t.remove(a)});return}n=E_e(r).split(/\s+/),i=[],eq(n,function(a){T_e(a,e)<0&&i.push(a)}),M_e(r,i)}var ll=A_e;function D_e(r){return typeof r=="number"||r instanceof Number}var Qu=D_e;function P_e(r){return r===null}var n1=P_e,R_e=Zp;function N_e(r,e){var t=document.createElement("img"),n="";return R_e(e,function(i,a){n+="&"+a+"="+i}),n=n.substring(1),t.src=r+"?"+n,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t),t}var $_e=N_e,L_e=pl,__e=$_e,I_e=7*24*60*60*1e3;function Q_e(r){var e=new Date().getTime();return e-r>I_e}function B_e(r,e){var t="https://www.google-analytics.com/collect",n=location.hostname,i="event",a="use",o="TOAST UI "+r+" for "+n+": Statistics",s=window.localStorage.getItem(o);!L_e(window.tui)&&window.tui.usageStatistics===!1||s&&!Q_e(s)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&__e(t,{v:1,t:i,tid:e,cid:n,dp:n,dh:r,el:r,ec:a})},1e3))}var q_e=B_e,F_e=/[\u0020]+/g,V_e=/[>(){}[\]+-.!#|]/g,tq=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,rq=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,Z_e=/[*_~`]/g,nq=/!\[.*\]\(.*\)/g,z_e=/[[\]]/g,iq=/(?:^|[^\\])\\(?!\\)/g,H_e='[&<>"]',aq=new RegExp(H_e,"g");function W_e(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function cp(r){return aq.test(r)?r.replace(aq,W_e):r}function U_e(){q_e("editor","UA-129966929-1")}function Ji(r,e){return r.indexOf(e)!==-1}var X_e=["rel","target","hreflang","type"],j_e={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function b5(r){if(!r)return null;var e={};return X_e.forEach(function(t){pl(r[t])||(e[t]=r[t])}),e}function i1(r,e){for(var t="",n=0;n<e;n+=1)t+=r;return t}function Y_e(r){var e=!1;return Zp(j_e,function(t){return t.test(r)&&(e=!0),!e}),e}function a1(r){for(var e=[],t=nq.exec(r);t;)e.push([t.index,t.index+t[0].length]),t=nq.exec(r);return r.replace(z_e,function(n,i){var a=e.some(function(o){return i>o[0]&&i<o[1]});return a?n:"\\"+n})}function G_e(r){var e=function(i){return"\\"+i},t=function(i){return i+"\\"},n=r.replace(F_e," ");return rq.test(n)&&(n=n.replace(rq,e)),iq.test(n)&&(n=n.replace(iq,t)),n=n.replace(Z_e,e),tq.test(n)&&(n=n.replace(tq,e)),Y_e(n)&&(n=n.replace(V_e,e)),n}function K_e(r){var e;return r.indexOf('"')===-1?e='""':e=r.indexOf("'")===-1?"''":"()",e[0]+r+e[1]}function xR(r){return n1(r)||pl(r)}function T$(r,e){if(r===null&&r===e)return!0;if(typeof r!="object"||typeof e!="object"||xR(r)||xR(e))return r===e;for(var t in r)if(r[t]!==e[t])return!1;for(var t in e)if(!(t in r))return!1;return!0}function ba(r){return r[r.length-1]}function J_e(r,e,t){return r>=e&&r<=t}function E$(r){return typeof r=="object"&&r!==null}function o1(r,e){var t=ze({},r);return r&&e&&Object.keys(e).forEach(function(n){E$(t[n])?Array.isArray(e[n])?t[n]=M$(e[n]):t.hasOwnProperty(n)?t[n]=o1(t[n],e[n]):t[n]=A$(e[n]):t[n]=e[n]}),t}function M$(r){return r.map(function(e){return E$(e)?Array.isArray(e)?M$(e):A$(e):e})}function A$(r){var e=Object.keys(r);return e.length?e.reduce(function(t,n){return E$(r[n])?t[n]=Array.isArray(r[n])?M$(r[n]):A$(r[n]):t[n]=r[n],t},{}):r}function D$(r,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(t){r.hasOwnProperty(t)&&typeof r[t]=="object"?Array.isArray(e[t])?r[t]=e[t]:D$(r[t],e[t]):r[t]=e[t]}),r}function oq(r,e){return r>e?[e,r]:[r,e]}var eIe=zp;function tIe(r){var e;try{e=Array.prototype.slice.call(r)}catch{e=[],eIe(r,function(n){e.push(n)})}return e}var uu=tIe;function s1(r,e){var t=r.nodes.paragraph;return e?t.create(null,fc(e)?r.text(e):e):t.createAndFill()}function Ki(r,e,t){return r.text(e,t)}function Bn(r,e,t){t===void 0&&(t=e);var n=r.doc.content.size,i=n>0?n-1:1;return Qr.create(r.doc,Math.min(e,i),Math.min(t,i))}function P$(r,e,t){var n=e.pos;return r.replaceWith(n,n,s1(t)),r.setSelection(Bn(r,n+1))}function l1(r){for(var e=r.state,t=r.from,n=r.startIndex,i=r.endIndex,a=r.createText,o=e.tr,s=e.doc,l=e.schema,u=n;u<=i;u+=1){var c=s.child(u),h=c.nodeSize,p=c.textContent,g=c.content,O=a(p),T=O?Ki(l,O):nt.empty,M=o.mapping.map(t),R=M+g.size;o.replaceWith(M,R,T),t+=h}return o}function R$(r,e,t,n){var i=t.length;r.split(e).delete(e-i,e).insert(r.mapping.map(e),n).setSelection(Bn(r,r.mapping.map(e)-i))}function CO(r){return r.sourcepos[0][0]}function uk(r){return r.sourcepos[1][0]}function ck(r){return r.sourcepos[0][1]}function ff(r){return r.sourcepos[1][1]}function rIe(r){var e=r.type;return e==="htmlBlock"||e==="htmlInline"}function nIe(r){var e=r.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function iIe(r){return r&&r.type==="codeBlock"}function Bh(r){return r&&(r.type==="item"||r.type==="list")}function w5(r){return Bh(r)&&r.listData.type==="ordered"}function aIe(r){return Bh(r)&&r.listData.type!=="ordered"}function sq(r){return r&&(r.type==="tableCell"||r.type==="tableDelimCell")}function oIe(r){switch(r.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Hp(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";){if(e(r))return r;r=r.parent}return null}function sIe(r,e,t){for(t===void 0&&(t=!0),r=t?r:r.parent;r&&r.type!=="document";)e(r),r=r.parent}function Ai(r,e){return[r[0],r[1]+e]}function hf(r,e){return[r[0],e]}function lIe(r){var e=r.firstChild.literal;switch(r.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var t=r,n=t.destination,i=t.title,a=r.type==="link"?"":"!";return a+"["+e+"]("+n+(i?' "'+i+'"':"")+")";default:return null}}function uIe(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function cIe(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var rO=[],k5={},lq=/\$\$widget\d+\s/;function fk(r){var e=r.search(lq);if(e!==-1){var t=r.substring(e),n=t.replace(lq,"").replace("$$","");r=r.substring(0,e),r+=fk(n)}return r}function S5(r,e){return"$$"+r+" "+e+"$$"}function x5(r,e){var t=k5[r],n=t.rule,i=t.toDOM,a=fk(e).match(n);return a&&(e=a[0]),i(e)}function fIe(){return rO}function hIe(r){rO=r,rO.forEach(function(e,t){k5["widget"+t]=e})}function fD(r,e,t,n){return r.concat(Th(e,t,n))}function Th(r,e,t){t===void 0&&(t=0);var n=[],i=(rO[t]||{}).rule,a=t+1;if(r=fk(r),i&&i.test(r)){for(var o=void 0;(o=r.search(i))!==-1;){var s=r.substring(0,o);s&&(n=fD(n,s,e,a)),r=r.substring(o);var l=r.match(i)[0],u="widget"+t;n.push(e.nodes.widget.create({info:u},e.text(S5(u,l)))),r=r.substring(l.length)}r&&(n=fD(n,r,e,a))}else r&&(n=t<rO.length-1?fD(n,r,e,a):[e.text(r)]);return n}function C5(r){for(var e,t="",n=r.walker();e=n.next();){var i=e.node,a=e.entering;a&&(i!==r&&i.type!=="text"?(t+=lIe(i),n.resumeAt(r,!1),n.next()):i.type==="text"&&(t+=i.literal))}return t}function T5(){return{deleteSelection:function(){return y$},selectAll:function(){return f5},undo:function(){return Og},redo:function(){return S$}}}function dIe(r){return new wo({props:{decorations:function(e){var t=e.doc;if(r.text&&t.childCount===1&&t.firstChild.isTextblock&&t.firstChild.content.size===0){var n=document.createElement("span");return Jl(n,"placeholder"),r.className&&Jl(n,r.className),n.textContent=r.text,Gn.create(t,[mo.widget(1,n)])}return null}}})}var pIe=Qh,mIe=C$;function vIe(r,e){var t;return r.classList?r.classList.contains(e):(t=mIe(r).split(/\s+/),pIe(e,t)>-1)}var E5=vIe,gIe=Qh,OIe=uu,n0=Element.prototype,yIe=n0.matches||n0.webkitMatchesSelector||n0.mozMatchesSelector||n0.msMatchesSelector||function(r){var e=this.document||this.ownerDocument;return gIe(this,OIe(e.querySelectorAll(r)))>-1};function bIe(r,e){return yIe.call(r,e)}var wIe=bIe,M5="[A-Za-z][A-Za-z0-9-]*",kIe="[a-zA-Z_:][a-zA-Z0-9:._-]*",SIe="[^\"'=<>`\\x00-\\x20]+",xIe="'[^']*'",CIe='"[^"]*"',TIe="(?:"+SIe+"|"+xIe+"|"+CIe+")",EIe="(?:\\s*=\\s*"+TIe+")",A5="(?:\\s+"+kIe+EIe+"?)",D5="<("+M5+")("+A5+")*\\s*/?>",MIe="</("+M5+")\\s*[>]",P5="(?:"+D5+"|"+MIe+")",Wp=new RegExp("^"+P5,"i"),CR=/<br\s*\/*>/i,AIe=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,R5="</p><p>";function N$(r,e,t){var n=parseInt(r.left,10),i=parseInt(r.top,10),a=parseInt(r.width,10)+parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10),o=parseInt(r.height,10)+parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10);return e>=n&&e<=n+a&&t>=i&&t<=i+o}var N5="toastui-editor-";function It(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=[],n=0,i=r;n<i.length;n++){var a=i[n],o=void 0;Array.isArray(a)?o=a[0]?a[1]:null:o=a,o&&t.push(""+N5+o)}return t.join(" ")}function Si(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.map(function(t){return N5+"md-"+t}).join(" ")}function DIe(r){return(r==null?void 0:r.nodeType)===Node.TEXT_NODE}function hk(r){return r&&r.nodeType===Node.ELEMENT_NODE}function PIe(r,e){var t=uu(r.querySelectorAll(e));return t.length?t:[]}function RIe(r,e){e=fm(e)?uu(e):[e],e.forEach(function(t){r.appendChild(t)})}function NIe(r,e){e.parentNode&&e.parentNode.insertBefore(r,e)}function qh(r){r.parentNode&&r.parentNode.removeChild(r)}function $Ie(r){for(var e=[];r.firstChild;)e.push(r.firstChild),r.parentNode&&r.parentNode.insertBefore(r.firstChild,r);return qh(r),e}function $$(r,e,t){pl(t)&&(t=!E5(r,e));var n=t?Jl:ll;n(r,e)}function $5(r,e){var t=document.createElement("div");fc(r)?t.innerHTML=r:t.appendChild(r);var n=t.firstChild;return e&&e.appendChild(n),n}function L$(r){var e=window.getComputedStyle(r);return["margin-left","margin-right"].reduce(function(t,n){return t+parseInt(e.getPropertyValue(n),10)},0)+r.offsetWidth}function eu(r,e){var t;for(fc(e)?t=function(n){return wIe(n,e)}:t=function(n){return n===e};r&&r!==document;){if(hk(r)&&t(r))return r;r=r.parentNode}return null}function L5(r,e){for(var t=0,n=0;r&&r!==e;){var i=r.offsetTop,a=r.offsetLeft,o=r.offsetParent;if(t+=i,n+=a,o===e.offsetParent)break;r=r.offsetParent}return{offsetTop:t,offsetLeft:n}}function _$(r,e){Object.keys(r).forEach(function(t){xR(r[t])?e.removeAttribute(t):e.setAttribute(t,r[t])})}function LIe(r){var e=r.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),t=new RegExp(P5,"ig"),n=e.match(t);return n==null||n.forEach(function(i,a){if(CR.test(i)){var o=R5;if(a){var s=n[a-1],l=s.match(D5);if(l&&!/br/i.test(l[1])){var u=l[1];o="</"+u+"><"+u+">"}}e=e.replace(CR,o)}}),e}function I$(r){var e=/<img class="ProseMirror-separator" alt="">/g,t=/ class="ProseMirror-trailingBreak"/g,n=r;return n=n.replace(e,""),n=n.replace(t,""),n}var _5=new bO("widget"),uq=5,_Ie=function(){function r(e,t){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=eu(e.dom.parentElement,"."+It("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return r.prototype.update=function(e){var t=_5.getState(e.state);if(this.removeWidget(),t){var n=t.node,i=t.style,a=e.coordsAtPos(t.pos),o=a.top,s=a.left,l=a.bottom,u=l-o,c=this.rootEl.getBoundingClientRect(),h=o-c.top;ou(n,{opacity:"0"}),this.rootEl.appendChild(n),ou(n,{position:"absolute",left:s-c.left+uq+"px",top:(i==="bottom"?h+u-uq:h-u)+"px",opacity:"1"}),this.popup=n,e.focus()}},r.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},r}();function IIe(r){return new wo({key:_5,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new _Ie(e,r)}})}function QIe(r){r.listen("addImageBlobHook",function(e,t){var n=new FileReader;n.onload=function(i){var a=i.target;return t(a.result)},n.readAsDataURL(e)})}function Q$(r,e,t){var n=function(i,a){r.emit("command","addImage",{imageUrl:i,altText:a||e.name||"image"})};r.emit("addImageBlobHook",e,n,t)}function I5(r){var e=uu(r).filter(function(n){var i=n.type;return i.indexOf("image")!==-1});if(e.length===1){var t=e[0];if(t)return t.getAsFile()}return null}function BIe(r){var e=r.eventEmitter;return new wo({props:{handleDOMEvents:{drop:function(t,n){var i,a=(i=n.dataTransfer)===null||i===void 0?void 0:i.files;return a&&zp(a,function(o){return o.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),Q$(e,o,n.type),!1):!0}),!0}}}})}var Dn=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function Q5(r){var e=document.createElement("span"),t=x5(r.attrs.info,r.textContent);return e.className="tui-widget",e.appendChild(t),{dom:e}}function TR(r){return r.type.name==="widget"}var B5=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var n=t.textContent,i=n.match(/\$\$(widget\d+)/),a=i[1];return{info:a}}}]}},enumerable:!1,configurable:!0}),e}(Dn),q5=function(){function r(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return r.prototype.createState=function(){return vh.create({schema:this.schema,plugins:this.createPlugins()})},r.prototype.initEvent=function(){var e=this,t=e.eventEmitter,n=e.view,i=e.editorType;n.dom.addEventListener("focus",function(){return t.emit("focus",i)}),n.dom.addEventListener("blur",function(){return t.emit("blur",i)})},r.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(r.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),t=bo(bo([],this.keymaps),[tO(ze({"Shift-Enter":jB.Enter},jB)),g5(),dIe(this.placeholder),IIe(this.eventEmitter),BIe(this.context)]);return e?t.concat(e):t},enumerable:!1,configurable:!0}),r.prototype.createInputRules=function(){var e=fIe(),t=e.map(function(n){var i=n.rule;return new xf(i,function(a,o,s,l){var u=a.schema,c=a.tr,h=a.doc,p=o.input.match(new RegExp(i,"g")),g=h.resolve(s),O=g.parent,T=0;if(TR(O)&&(O=g.node(g.depth-1)),O.forEach(function(z){return TR(z)&&(T+=1)}),p.length>T){var M=ba(p),R=Th(M,u);return c.replaceWith(l-M.length+1,l,R)}return null})});return t.length?m5({rules:t}):null},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.createSchema=function(){return new cU({nodes:this.specs.nodes,marks:this.specs.marks})},r.prototype.createKeymaps=function(e){var t=T5(),n=t.undo,i=t.redo,a=this.specs.keymaps(e),o={"Mod-z":n(),"Shift-Mod-z":i()};return e?a.concat(tO(o)):a},r.prototype.createCommands=function(){return this.specs.commands(this.view)},r.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(t){return t(e.eventEmitter)})},r.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},r.prototype.blur=function(){this.view.dom.blur()},r.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(t){delete e[t]})},r.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Bn(t,1)).scrollIntoView()),e&&this.focus()},r.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(Bn(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},r.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},r.prototype.getScrollTop=function(){return this.view.dom.scrollTop},r.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},r.prototype.setHeight=function(e){ou(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){ou(this.el,{minHeight:e+"px"})},r.prototype.getElement=function(){return this.el},r}();function qIe(r){return r instanceof Function}var Ds=qIe,FIe=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function i0(r,e,t){return r.focus(),e(t)(r.state,r.dispatch,r)}var F5=function(){function r(e){this.specs=e}return Object.defineProperty(r.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return ze(ze({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,t){var n,i=t.name,a=t.schema;return ze(ze({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),r.prototype.commands=function(e,t){var n=this.specs.filter(function(a){var o=a.commands;return o}).reduce(function(a,o){var s={},l=o.commands();return Ds(l)?s[o.name]=function(u){return i0(e,l,u)}:Object.keys(l).forEach(function(u){s[u]=function(c){return i0(e,l[u],c)}}),ze(ze({},a),s)},{}),i=T5();return Object.keys(i).forEach(function(a){n[a]=function(o){return i0(e,i[a],o)}}),t&&Object.keys(t).forEach(function(a){n[a]=function(o){return i0(e,t[a],o)}}),n},r.prototype.keymaps=function(e){var t=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return t.map(function(n){return e||Object.keys(n).forEach(function(i){Ji(FIe,i)||delete n[i]}),tO(n)})},r.prototype.setContext=function(e){this.specs.forEach(function(t){t.setContext(e)})},r}();function V5(r){var e=r.from,t=r.to;return r instanceof Qa?[e+1,t-1]:[e,t]}function cq(r){return r.index(0)+1}function Up(r,e,t){t===void 0&&(t=1);var n=0;return r.forEach(function(i,a){TR(i)&&a+2<e&&(n+=2*t)}),n}function H0(r,e,t){t===void 0&&(t=e);var n=e===t,i=r.resolve(e),a=cq(i),o=a,s=i.start(1),l=s;if(!n){var u=r.resolve(t===r.content.size?t-1:t);l=u.start(1),o=cq(u),u.pos===r.content.size&&(t=r.content.size-2)}var c=Math.max(e-s+1,1),h=Math.max(t-l+1,1);return[[a,c+Up(r.child(a-1),c,-1)],[o,h+Up(r.child(o-1),h,-1)]]}function Z5(r,e){for(var t=[],n=0,i=0;n<e;n+=1){var a=r.child(n);t[n]=i,i+=a.nodeSize}return t}function lh(r,e,t){var n=Z5(r,t[0]),i=e[0]-1,a=t[0]-1,o=r.child(i),s=r.child(a),l=n[i],u=n[a];return l+=e[1]+Up(o,e[1]-1),u+=t[1]+Up(s,t[1]-1),[l,Math.min(u,r.content.size)]}function ki(r){var e=r.$from,t=r.$to,n=r.from,i=r.to,a=e.doc;return r instanceof Qa&&(e=a.resolve(n+1),t=a.resolve(i-1)),e.depth===0&&(e=a.resolve(n-1),t=e),{startFromOffset:e.start(1),endFromOffset:t.start(1),startToOffset:e.end(1),endToOffset:t.end(1),startIndex:e.index(0),endIndex:t.index(0),from:e.pos,to:t.pos}}function u1(r,e){for(var t=1,n=1,i=0,a=0;i<r.childCount;i+=1){var o=r.child(i).nodeSize;if(t=a+1,n=a+o-1,i===e)break;a+=o}return{startOffset:t,endOffset:n}}var fq="heading",VIe="blockQuote",ZIe="listItem",zIe="table",HIe="tableCell",WIe="codeBlock",UIe="thematicBreak",W0="link",a0="code",dk="meta",Fh="delimiter",XIe="taskDelimiter",B$="markedText",jIe="html",YIe="customBlock",hq={strong:2,emph:1,strike:2};function en(r,e,t,n){return{start:r,end:e,spec:{type:t,attrs:n}}}function GIe(r,e,t){var n=r.level,i=r.headingType,a=[en(e,t,fq,{level:n})];return i==="atx"?a.push(en(e,Ai(e,n),Fh)):a.push(en(hf(t,0),t,fq,{seText:!0})),a}function hD(r,e,t){var n=r.type,i=Ai(e,hq[n]),a=Ai(t,-hq[n]);return[en(i,a,n),en(e,i,Fh),en(a,t,Fh)]}function z5(r,e,t,n){return[en(r,e,W0),en(hf(r,t[1]+1),hf(e,n),W0,{desc:!0}),en(hf(e,n+2),Ai(e,-1),W0,{url:!0})]}function KIe(r,e,t){var n=r.lastChild,i=n?ff(n)+1:3,a=Ai(e,1);return bo([en(e,a,dk)],z5(e,t,a,i))}function JIe(r,e,t){var n=r.lastChild,i=r.extendedAutolink,a=n?ff(n)+1:2;return i?[en(e,t,W0,{desc:!0})]:z5(e,t,e,a)}function eQe(r,e,t){var n=r.tickCount,i=Ai(e,n),a=Ai(t,-n);return[en(e,t,a0),en(e,i,a0,{start:!0}),en(i,a,a0,{marked:!0}),en(a,t,a0,{end:!0})]}function H5(r,e,t,n){var i={start:e,end:t,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:t[0]}},lineBackground:!0};return r.type!=="item"&&r.type!=="blockQuote"?[ze(ze({},i),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),ze(ze({},i),{start:[Math.min(e[0]+1,t[0]),e[1]]})]:null}function tQe(r,e,t,n){var i=r.fenceOffset,a=r.fenceLength,o=r.fenceChar,s=r.info,l=r.infoPadding,u=r.parent,c=i+a,h=[en(hf(e,1),t,WIe)];o&&h.push(en(e,Ai(e,c),Fh)),s&&h.push(en(Ai(e,a),Ai(e,a+l+s.length),dk));var p="^(\\s{0,4})("+o+"{"+a+",})",g=new RegExp(p);g.test(n)&&h.push(en(hf(t,1),t,Fh));var O=H5(u,e,t,"code-block");return O?h.concat(O):h}function rQe(r,e,t){var n=r,i=n.offset,a=n.syntaxLength,o=n.info,s=n.parent,l=i+a,u=[en(hf(e,1),t,YIe)];u.push(en(e,Ai(e,l),Fh)),o&&u.push(en(Ai(e,l),Ai(e,a+o.length),dk)),u.push(en(hf(t,1),t,Fh));var c=H5(s,e,t,"custom-block");return c?u.concat(c):u}function W5(r,e){for(var t=[];r;){var n=r.type;(n==="paragraph"||n==="codeBlock")&&t.push(en([CO(r),ck(r)-1],[uk(r),ff(r)+1],e)),r=r.next}return t}function nQe(r){for(var e=[];r;)e.push(en([CO(r),ck(r)],[uk(r),ff(r)+1],B$)),r=r.next;return e}function iQe(r,e,t){var n=r.parent&&r.parent.type!=="blockQuote"?[en(e,t,VIe)]:[];if(r.firstChild){var i=[];r.firstChild.type==="paragraph"?i=nQe(r.firstChild.firstChild):r.firstChild.type==="list"&&(i=W5(r.firstChild,B$)),n=bo(bo([],n),i)}return n}function aQe(r){for(var e=0;r.parent.parent&&r.parent.parent.type==="item";)r=r.parent.parent,e+=1;var t=[{odd:!0},{even:!0}][e%2];return[ZIe,ze(ze({},t),{listStyle:!0})]}function oQe(r,e){var t=r.listData,n=t.padding,i=t.task,a=aQe(r),o=[en.apply(void 0,bo([e,Ai(e,n)],a))];return i&&(o.push(en(Ai(e,n),Ai(e,n+3),XIe)),o.push(en(Ai(e,n+1),Ai(e,n+2),dk))),o.concat(W5(r.firstChild,B$))}var dq={heading:GIe,strong:hD,emph:hD,strike:hD,link:JIe,image:KIe,code:eQe,codeBlock:tQe,blockQuote:iQe,item:oQe,customBlock:rQe},pq={thematicBreak:UIe,table:zIe,tableCell:HIe,htmlInline:jIe};function sQe(r,e,t,n){var i=r.type;return Ds(dq[i])?dq[i](r,e,t,n):pq[i]?[en(e,t,pq[i])]:null}var nO={};function lQe(r){var e=r.schema,t=r.toastMark;return new wo({appendTransaction:function(n,i,a){var o=n[0],s=a.tr;if(o.docChanged){var l=[],u=o.getMeta("editResult");u.forEach(function(c){var h=c.nodes,p=c.removedNodeRange;if(h.length){l=l.concat(pQe(s,h));for(var g=0,O=h;g<O.length;g++)for(var T=O[g],M=T.walker(),R=M.next();R;){var z=R.node,U=R.entering;U&&(l=l.concat(mQe(z,t))),R=M.next()}}else if(p)for(var G=s.doc.childCount-1,J=p.line,ee=J[0],le=J[1],pe=Math.min(ee,G),be=Math.min(le,G),Fe=pe;Fe<=be;Fe+=1)nO[Fe]=!0}),fQe(s,e,l)}return s.setMeta("widget",o.getMeta("widget"))}})}function uQe(r,e,t){return Object.keys(t).some(function(n){return t[n]!==r.child(e).attrs[n]})}function cQe(r,e,t,n,i){i===void 0&&(i={});for(var a=n.startIndex,o=n.endIndex,s=n.from,l=n.to,u=!1,c=a;c<=o;c+=1)delete nO[c],u=uQe(e,c,i);u&&r.setBlockType(s,l,t,i)}function fQe(r,e,t){var n=r.doc,i=e.nodes.paragraph,a=Z5(n,n.childCount);t.forEach(function(o){var s=o.start,l=o.end,u=o.spec,c=o.lineBackground,h=Math.min(s[0],n.childCount)-1,p=Math.min(l[0],n.childCount)-1,g=n.child(h),O=n.child(p),T=a[h],M=a[p];if(T+=s[1]+Up(g,s[1]-1),M+=l[1]+Up(O,l[1]-1),u)if(c){var R={from:T,to:M,startIndex:h,endIndex:p};cQe(r,n,i,R,u.attrs)}else r.addMark(T,M,e.mark(u.type,u.attrs));else r.removeMark(T,M)}),hQe(r,a,i)}function hQe(r,e,t){Object.keys(nO).forEach(function(n){var i=Number(n),a=Math.min(Number(n)+1,r.doc.childCount-1),o=e[i],s=e[a]-1;i===a&&(s+=2),r.setBlockType(o,s,t)})}function dQe(r,e,t){var n=[];nO={};for(var i=e[0]-1;i<t[0];i+=1){var a=r.child(i),o=a.attrs.codeEnd,s=a.attrs.codeStart;if(s&&o&&!Ji(n,s)){n.push(s),o=Math.min(o,r.childCount);for(var l=s-1,u=t[0],c=l;c<u;c+=1)nO[c]=!0}}}function pQe(r,e){var t=r.doc,n=e[0].sourcepos[0],i=ba(e).sourcepos,a=i[1],o=[n[0],n[1]],s=[a[0],a[1]+1],l=[];return dQe(t,n,a),l.push({start:o,end:s}),l}function mQe(r,e){var t=e.getLineTexts(),n=[CO(r),ck(r)],i=[uk(r),ff(r)+1],a=sQe(r,n,i,t[i[0]-1]);return a??[]}var vQe=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function gQe(r){var e=r.type;return Bh(r)?r.listData.task?"taskList":r.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":Ji(vQe,e)?e:null}function OQe(r){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},t=!0;return sIe(r,function(n){var i=gQe(n);i&&(i==="bulletList"||i==="orderedList"?t&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,t=!1):e[i]={active:!0})}),e}function yQe(r){var e=r.toastMark,t=r.eventEmitter;return new wo({view:function(){return{update:function(n,i){var a=n.state,o=a.doc,s=a.selection;if(!(i&&i.doc.eq(o)&&i.selection.eq(s))){var l=s.from,u=a.doc.resolve(l).start(),c=a.doc.content.findIndex(l).index+1,h=l-u;l===u&&(h+=1);var p=[c,h],g=e.findNodeAtPosition(p),O=OQe(g);t.emit("changeToolbarState",{cursorPos:p,mdNode:g,toolbarState:O}),t.emit("setFocusedNode",g)}}}}})}var bQe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Dn),qn=function(){function r(){}return Object.defineProperty(r.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),r.prototype.setContext=function(e){this.context=e},r}();function Ho(r,e){return yf(r,e-1)}function yf(r,e){return r.child(e).textContent}var Jv=/^\s*> ?/,wQe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,n){return n?t.replace(Jv,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,s=n.tr,l=n.schema,u=ki(a),c=u.endFromOffset,h=u.endToOffset,p=u.endIndex,g=u.to,O=yf(o,p),T=Jv.test(O);if(T&&g>c&&a.empty){var M=!O.replace(Jv,"").trim();if(M)s.deleteRange(c,h).split(s.mapping.map(h));else{var R=O.slice(g-c).trim(),z=Ki(l,t.createBlockQuoteText(R));R$(s,h,R,z)}return i(s),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(n,i){var a=n.selection,o=n.doc,s=ki(a),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,h=s.endIndex,p=Jv.test(yf(o,c)),g=l1({state:n,startIndex:c,endIndex:h,from:l,createText:function(O){return t.createBlockQuoteText(O,p)}});return i(g.setSelection(Bn(g,g.mapping.map(u)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(qn),Vh=/(^\s*)([-*+] |[\d]+\. )/,q$=/(^\s*)([\d])+\.( \[[ xX]])? /,Yu=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,c1=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,kQe=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,SQe=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,xQe=/(^\s*)([-*+])( \[[ xX]]) /;function F$(r){return q$.test(r)?"ordered":"bullet"}function V$(r){for(var e=0;r&&r.type!=="document";)r.type==="list"&&(e+=1),r=r.parent;return e}function ER(r,e,t,n){for(var i=r.getLineTexts(),a=i.length,o=[],s=e;n?s<a:s>1;){s=n?s+1:s-1;var l=r.findFirstNodeAtLine(s),u=V$(l);if(u===t)o.push({line:s,depth:t,mdNode:l});else if(u<t)break}return o}function CQe(r){var e=r.toastMark,t=r.mdNode,n=r.line,i=V$(t),a=ER(e,n,i,!1).reverse(),o=ER(e,n,i,!0);return a.concat([{line:n,depth:i,mdNode:t}]).concat(o)}function TQe(r){if(!Vh.test(r))return"* "+r;var e=F$(r);return e==="bullet"&&c1.test(r)?r=r.replace(xQe,"$1$2 "):e==="ordered"&&(r=r.replace(q$,"$1* ")),r}function EQe(r,e){if(!Vh.test(r))return e+". "+r;var t=F$(r);if(t==="bullet"||t==="ordered"&&c1.test(r))r=r.replace(c1,"$1"+e+". ");else if(t==="ordered"){var n=Yu.exec(r)[3];Number(n)!==e&&(r=r.replace(q$,"$1"+e+". "))}return r}function U5(r,e,t,n){n===void 0&&(n=0);var i=Number.MAX_VALUE,a=0,o=e.map(function(s,l){var u=s.line;i=Math.min(u-1,i),a=Math.max(u-1,a);var c=Ho(r,u);return c=t==="bullet"?TQe(c):EQe(c,l+1+n),{text:c,line:u}});return{changedResults:o,firstIndex:i,lastIndex:a}}function mq(r,e){var t=CQe(e);return U5(e.doc,t,r)}var MQe={bullet:function(r){return mq("bullet",r)},ordered:function(r){return mq("ordered",r)},task:function(r){var e=r.mdNode,t=r.doc,n=r.line,i=Ho(t,n);return e.listData.task?i=i.replace(SQe,"$1$2"):Bh(e)&&(i=i.replace(Vh,"$1$2[ ] ")),{changedResults:[{text:i,line:n}]}}},AQe={bullet:function(r){var e=r.doc,t=r.line,n=Ho(e,t),i=[{text:"* "+n,line:t}];return{changedResults:i}},ordered:function(r){for(var e=r.toastMark,t=r.doc,n=r.line,i=r.startLine,a=Ho(t,n),o=1,s=i,l=0,u=i-1;u>0;u-=1){var c=e.findFirstNodeAtLine(u),h=Ho(t,u),p=h&&!!Hp(c,function(U){return Bh(U)}),g=Yu.exec(Ho(t,u));if(!g&&!p)break;if(!g&&p){l+=1;continue}var O=g,T=O[1],M=O[3];if(!T){o=Number(M),s=u;break}}var R=o+n-s-l,z=[{text:R+". "+a,line:n}];return{changedResults:z}},task:function(r){var e=r.doc,t=r.line,n=Ho(e,t),i=[{text:"* [ ] "+n,line:t}];return{changedResults:i}}},DQe={bullet:function(r){var e=r.line,t=r.doc,n=Ho(t,e),i=kQe.exec(n),a=i[1],o=i[2];return{listSyntax:""+a+o}},ordered:function(r){var e=r.toastMark,t=r.line,n=r.mdNode,i=r.doc,a=V$(n),o=Ho(i,t),s=Yu.exec(o),l=s[1],u=s[3],c=s[4],h=Number(u)+1,p=""+l+h+c,g=ER(e,t,a,!0),O=g.filter(function(T){var M=Yu.exec(Ho(i,T.line));return M&&M[1].length===l.length&&!!Hp(T.mdNode,function(R){return w5(R)})});return ze({listSyntax:p},U5(i,O,"ordered",h))}};function X5(r,e,t,n,i){for(var a=[],o=Ho(r,t),s=Yu.exec(o);s;){var l=s[1],u=s[4],c=s[5],h=l.length;if(h===i)a.push(Ki(e,""+l+n+u+c)),n+=1,t+=1;else if(h>i){var p=X5(r,e,t,1,h);t=p.line,a=a.concat(p.nodes)}if(h<i||t>r.childCount)break;o=Ho(r,t),s=Yu.exec(o)}return{nodes:a,line:t}}var vq=/(^\s{1,4})(.*)/;function gq(r,e,t){return r<e||Vh.test(t)||Jv.test(t)}function Oq(r,e,t){var n=t.$from;n.depth===0&&(n=r.resolve(n.pos-1));var i=n.node(1),a=n.start(1),o=i.content.size;return i.rangeHasMark(0,o,e.marks.table)&&n.pos-a!==o&&n.pos!==a}function yq(r,e){var t=e.from,n=e.to;if(e.type==="indent"){var i=4;t+=i,n+=(e.lineLen+1)*i}else{var a=e.spaceLenList;t-=a[0];for(var o=0;o<a.length;o+=1)n-=a[o]}return Bn(r,t,n)}var PQe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var n=t.attrs;return n.className?["div",{class:Si(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,n){for(var i=this.context,a=i.view,o=i.toastMark,s=i.schema,l=a.state,u=l.tr,c=l.selection,h=l.doc,p=o.findFirstNodeAtLine(t),g=p;p&&!aIe(p)&&p.parent.type!=="document";)if(p=p.parent,w5(p)){g=p;break}g&&(t=g.sourcepos[0][0]);var O=Yu.exec(Ho(h,t)),T=O[1],M=O[3],R=T.length,z=X5(h,s,t,Number(M),R),U=z.line,G=z.nodes;n=Math.max(n,U-1);for(var J=u1(h,t-1).startOffset,ee=t-1;ee<=n-1;ee+=1){var le=h.child(ee),pe=le.nodeSize,be=le.content,Fe=u.mapping.map(J),Ge=Fe+be.size;u.replaceWith(Fe,Ge,G[ee-t+1]),J+=pe}var _e=Bn(u,c.from,c.to);a.dispatch(u.setSelection(_e))},e.prototype.indent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.schema,s=i.selection,l=i.doc,u=ki(s),c=u.from,h=u.to,p=u.startFromOffset,g=u.startIndex,O=u.endIndex;if(t&&Oq(l,o,s))return!1;var T=yf(l,g);if(t&&gq(c,h,T)||!t&&Vh.test(T)){var M=l1({state:i,from:p,startIndex:g,endIndex:O,createText:function(z){return"    "+z}}),R={type:"indent",from:c,to:h,lineLen:O-g};a(M.setSelection(yq(M,R))),Yu.test(T)&&n.reorderList(g+1,O+1)}else t&&a(i.tr.insert(h,Ki(o,"    ")));return!0}}},e.prototype.outdent=function(t){var n=this;return t===void 0&&(t=!1),function(){return function(i,a){var o=i.selection,s=i.doc,l=i.schema,u=ki(o),c=u.from,h=u.to,p=u.startFromOffset,g=u.startIndex,O=u.endIndex;if(t&&Oq(s,l,o))return!1;var T=yf(s,g);if(t&&gq(c,h,T)||!t&&Vh.test(T)){var M=[],R=l1({state:i,from:p,startIndex:g,endIndex:O,createText:function(ee){var le=vq.exec(ee);return M.push(le?le[1].length:0),ee.replace(vq,"$2")}}),z={type:"outdent",from:c,to:h,spaceLenList:M};a(R.setSelection(yq(R,z))),Yu.test(T)&&n.reorderList(g+1,O+1)}else if(t){var U=T.slice(0,h-p),G=U.replace(/\s{1,4}$/,""),J=h-(U.length-G.length);a(i.tr.delete(J,h))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(n,i){var a=t.context.view,o=ki(n.selection),s=o.startFromOffset,l=o.endToOffset,u=function(){return i(n.tr.deleteRange(s,l)),!0};return sk(u,l5)(n,i,a)}},e.prototype.moveDown=function(){return function(t,n){var i=t.doc,a=t.tr,o=t.selection,s=t.schema,l=ki(o),u=l.startFromOffset,c=l.endToOffset,h=l.endIndex;if(h<i.content.childCount-1){var p=i.child(h+1),g=p.nodeSize,O=p.textContent;return a.delete(c,c+g).split(u).insert(a.mapping.map(u)-2,Ki(s,O)),n(a),!0}return!1}},e.prototype.moveUp=function(){return function(t,n){var i=t.tr,a=t.doc,o=t.selection,s=t.schema,l=ki(o),u=l.startFromOffset,c=l.endToOffset,h=l.startIndex;if(h>0){var p=a.child(h-1),g=p.nodeSize,O=p.textContent;return i.delete(u-g,u).split(i.mapping.map(c)).insert(i.mapping.map(c),Ki(s,O)),n(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(Dn),RQe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(Dn),NQe=/^#{1,6}\s/,$Qe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.level,a=n.seText,o="heading|heading"+i;return a&&(o+="|delimiter|setext"),["span",{class:Si.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,n,i){for(var a=n.replace(i,"").trim(),o="";t>0;)o+="#",t-=1;return o+" "+a},e.prototype.commands=function(){var t=this;return function(n){return function(i,a){var o=n.level,s=ki(i.selection),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,h=s.endIndex,p=l1({state:i,from:l,startIndex:c,endIndex:h,createText:function(g){var O=g.match(NQe),T=O?O[0]:"";return t.createHeadingText(o,g,T)}});return a(p.setSelection(Bn(p,p.mapping.map(u)))),!0}}},e}(qn),dD="```",LQe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,o=t.tr,s=ki(i),l=s.startFromOffset,u=s.endToOffset,c=Ki(a,dD);return o.insert(l,c).split(l+dD.length),o.split(o.mapping.map(u)).insert(o.mapping.map(u),c),n(o.setSelection(Bn(o,o.mapping.map(u)-(dD.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(n,i){var a=n.selection,o=n.tr,s=n.doc,l=n.schema,u=t.context.toastMark,c=ki(a),h=c.startFromOffset,p=c.endToOffset,g=c.endIndex,O=c.from,T=c.to,M=yf(s,g);if(O===T&&M.trim()){var R=M.match(/^\s+/),z=u.findFirstNodeAtLine(g+1);if(iIe(z)&&R){var U=R[0],G=M.slice(T-h),J=Ki(l,U+G);return R$(o,p,G,J),i(o),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(qn),_Qe=/\||\s/g;function IQe(r){return[f1(r),f1(r,!0)]}function QQe(r,e){for(var t=[],n=0;n<e;n+=1)t.push(f1(r));return t}function f1(r,e){for(var t="|",n=0;n<r;n+=1)t+=e?" --- |":"  |";return t}function BQe(r){return r?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var qQe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,s=n.tr,l=n.schema;if(!a.empty)return!1;var u=ki(a),c=u.endFromOffset,h=u.endToOffset,p=u.endIndex,g=u.to,O=yf(o,p),T=[p+1,g-c+1],M=t.context.toastMark.findNodeAtPosition(T),R=Hp(M,function(ee){return sq(ee)&&(ee.parent.type==="tableDelimRow"||ee.parent.parent.type==="tableBody")});if(R){var z=!O.replace(_Qe,"").trim(),U=R.parent,G=U.parent.parent.columns.length,J=f1(G);return z?s.deleteRange(c,h).split(s.mapping.map(h)):s.split(h).insert(s.mapping.map(h),Ki(l,J)).setSelection(Bn(s,s.mapping.map(h)-2)),i(s),!0}return!1}},e.prototype.moveTableCell=function(t){var n=this;return function(i,a){var o=i.selection,s=i.tr,l=ki(o),u=l.endFromOffset,c=l.endIndex,h=l.to,p=[c+1,h-u],g=n.context.toastMark.findNodeAtPosition(p),O=Hp(g,function(le){return sq(le)});if(O){var T=O.parent,M=BQe(t),R=M.type,z=M.parentType,U=M.childType,G=ff(O);if(O[R])G=ff(O[R])-1;else{var J=!T[R]&&T.parent.type===z?T.parent[R][U]:T[R];if(R==="next"){var ee=J?ff(J[U]):0;G+=ee+2}else R==="prev"&&(G=J?-4:0)}return a(s.setSelection(Bn(s,u+G))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=t,u=l.columnCount,c=l.rowCount,h=ki(a).endToOffset,p=IQe(u),g=QQe(u,c-1),O=bo(bo([],p),g);return O.forEach(function(T){o.split(o.mapping.map(h)).insert(o.mapping.map(h),Ki(s,T))}),i(o.setSelection(Bn(o,h+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(qn),FQe="***",VQe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,n){var i=t.selection,a=t.schema,o=t.tr,s=ki(i),l=s.from,u=s.to,c=s.endToOffset,h=Ki(a,FQe);return o.split(l).replaceWith(o.mapping.map(l),o.mapping.map(u),h).split(o.mapping.map(u)).setSelection(Bn(o,o.mapping.map(c))),n(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(qn);function ZQe(r,e){var t=r.type,n=r.sourcepos,i=n[0][0];return e<=i&&(t==="codeBlock"||t==="heading"||t.match("table"))}var zQe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.odd,a=n.even,o=n.listStyle,s="list-item";return o&&(s+="|list-item-style"),i&&(s+="|list-item-odd"),a&&(s+="|list-item-even"),["span",{class:Si.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(n,i){var a=n.selection,o=n.doc,s=n.schema,l=n.tr,u=t.context.toastMark,c=ki(a),h=c.to,p=c.startFromOffset,g=c.endFromOffset,O=c.endIndex,T=c.endToOffset,M=yf(o,O),R=Vh.test(M);if(!R||a.from===p||!a.empty)return!1;var z=!M.replace(c1,"").trim();if(z)l.deleteRange(g,T).split(l.mapping.map(T));else{var U=F$(M),G=u.findFirstNodeAtLine(O+1),J=M.slice(h-g),ee={toastMark:u,mdNode:G,doc:o,line:O+1},le=DQe[U](ee),pe=le.listSyntax,be=le.changedResults;if(be!=null&&be.length){l.split(h),be.unshift({text:pe+J,line:O+1}),t.changeToListPerLine(l,be,{from:h,startLine:be[0].line,endLine:ba(be).line});var Fe=l.mapping.map(T)-J.length;l.setSelection(Bn(l,Fe))}else{var Ge=Ki(s,pe+J);R$(l,T,J,Ge)}}return i(l),!0}},e.prototype.toList=function(t){var n=this;return function(){return function(i,a){for(var o=i.doc,s=i.tr,l=i.selection,u=n.context.toastMark,c=ki(l),h=c.startIndex+1,p=c.endIndex+1,g=c.endToOffset,O=[],T=h;T<=p;T+=1){var M=u.findFirstNodeAtLine(T);if(M&&ZQe(M,T))break;if(O.indexOf(T)===-1){var R={toastMark:u,mdNode:M,doc:o,line:T,startLine:h},z=(Bh(M)?MQe[t](R):AQe[t](R)).changedResults,U=n.changeToListPerLine(s,z,{from:u1(o,z[0].line-1).startOffset,startLine:z[0].line,endLine:ba(z).line,indexDiff:1});g=Math.max(U,g),z&&(O=O.concat(z.map(function(G){return G.line})))}}return a(s.setSelection(Bn(s,s.mapping.map(g)))),!0}}},e.prototype.changeToListPerLine=function(t,n,i){for(var a=i.from,o=i.startLine,s=i.endLine,l=i.indexDiff,u=l===void 0?0:l,c=0,h=function(O){var T=t.doc.child(O),M=T.nodeSize,R=T.content,z=t.mapping.map(a),U=z+R.size,G=n.filter(function(J){return J.line-u===O})[0];G&&(t.replaceWith(z,U,Ki(p.context.schema,G.text)),c=Math.max(c,a+R.size)),a+=M},p=this,g=o-u;g<=s-u;g+=1)h(g);return c},e.prototype.toggleTask=function(){var t=this;return function(n,i){for(var a=n.selection,o=n.tr,s=n.doc,l=n.schema,u=t.context.toastMark,c=ki(a),h=c.startIndex,p=c.endIndex,g=null,O=h;O<=p;O+=1){var T=u.findFirstNodeAtLine(O+1);if(Bh(T)&&T.listData.task){var M=T.listData,R=M.checked,z=M.padding,U=R?" ":"x",G=T.sourcepos[0],J=u1(s,G[0]-1).startOffset;J+=G[1]+z,g=o.replaceWith(J,J+1,l.text(U))}}return g?(i(g),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),n=this.toList("ordered")(),i=this.toList("task")(),a=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":n,"Mod-O":n,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":a,"Shift-Ctrl-X":a,Enter:this.extendList()}},e}(qn);function pk(r,e){return function(){return function(t,n){var i=t.tr,a=t.selection,o=Ds(r)?r:function(U){return r.test(U)},s=e.length,l=i.doc,u=V5(a),c=u[0],h=u[1],p=Math.max(c-s,1),g=Math.min(h+s,l.content.size-1),O=a.content(),T=O.content.textBetween(0,O.content.size,`
`),M=l.textBetween(p,c,`
`),R=l.textBetween(h,g,`
`);if(T=""+M+T+R,M&&R&&o(T))i.delete(g-s,g).delete(p,p+s);else{i.insertText(e,h).insertText(e,c);var z=a.empty?Bn(i,c+s):Bn(i,c+s,h+s);i.setSelection(z)}return n(i),!0}}}var HQe=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,WQe="**",UQe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return pk(HQe,WQe)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(qn),XQe=/^(~{2}).*([\s\S]*)\1$/m,jQe="~~",YQe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return pk(XQe,jQe)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(qn),GQe=/^(\*|_).*([\s\S]*)\1$/m,KQe="*",JQe=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return pk(GQe,KQe)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(qn),e2e=/^(`).*([\s\S]*)\1$/m,t2e="`",r2e=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.start,a=n.end,o=n.marked,s="code";return i&&(s+="|delimiter|start"),a&&(s+="|delimiter|end"),o&&(s+="|marked-text"),["span",{class:Si.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return pk(e2e,t2e)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(qn),n2e=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var n=t.attrs,i=n.url,a=n.desc,o="link";return i&&(o+="|link-url|marked-text"),a&&(o+="|link-desc|marked-text"),["span",{class:Si.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(n){return function(i,a){var o=i.selection,s=i.tr,l=i.schema,u=V5(o),c=u[0],h=u[1],p=n,g=p.linkText,O=p.altText,T=p.linkUrl,M=p.imageUrl,R=g,z=T,U="";return t==="image"&&(R=O,z=M,U="!"),R=a1(R),U+="["+R+"]("+z+")",a(s.replaceWith(c,h,Ki(l,U))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(qn),i2e=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(qn),a2e=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(qn),o2e=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("meta")},0]}}},enumerable:!1,configurable:!0}),e}(qn),s2e=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(qn),l2e=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(qn),u2e=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("html")},0]}}},enumerable:!1,configurable:!0}),e}(qn),pD="$$",c2e=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Si("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.selection,o=n.schema,s=n.tr,l=ki(a),u=l.startFromOffset,c=l.endToOffset;if(!(t!=null&&t.info))return!1;var h=""+pD+t.info,p=Ki(o,h),g=Ki(o,pD);return s.insert(u,p).split(u+h.length),s.split(s.mapping.map(c)).insert(s.mapping.map(c),g),i(s.setSelection(Bn(s,s.mapping.map(c)-(pD.length+2)))),!0}}},e}(qn),f2e=/x|backspace/i,h2e=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function d2e(r){var e=r.schema,t=r.toastMark;return new wo({props:{handleDOMEvents:{keyup:function(n,i){var a,o=n.state,s=o.doc,l=o.tr,u=o.selection;if(u.empty&&f2e.test(i.key)){var c=ki(u),h=c.startIndex,p=c.startFromOffset,g=c.from,O=[h+1,g-p+1],T=t.findNodeAtPosition(O),M=Hp(T,function(Ge){var _e;return Ge.type==="paragraph"&&((_e=Ge.parent)===null||_e===void 0?void 0:_e.type)==="item"});if(!((a=M==null?void 0:M.firstChild)===null||a===void 0)&&a.literal){var R=M.firstChild,z=R.literal.match(h2e);if(z){var U=R.sourcepos[0],G=z[1],J=z[2],ee=z[3],le=G.length+ee.length,pe=u1(s,U[0]-1).startOffset,be=U[1]+pe;if(J){var Fe=le?le+1:0;l.replaceWith(be,Fe+be,e.text(J)),n.dispatch(l)}else le||(l.insertText(" ",be),n.dispatch(l))}}}return!1}}}})}var mD="cut",bq=/\r\n|\n|\r/,p2e=function(r){Dt(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toastMark,o=n.useCommandShortcut,s=o===void 0?!0:o,l=n.mdPlugins,u=l===void 0?[]:l;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=a,i.extraPlugins=u,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(s),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(ze(ze({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(c){return i.toggleActive(!0,c)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(t,n){$$(this.el,"active",t),t?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=It("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var i=n.clipboardData||window.clipboardData,a=i&&i.items;if(a){var o=uu(a).some(function(l){return l.kind==="string"&&l.type==="text/rtf"});if(!o){var s=I5(a);s&&(n.preventDefault(),Q$(t.eventEmitter,s,n.type))}}}),this.clipboard.addEventListener("input",function(n){var i=n.target.value;t.replaceSelection(i),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new F5([new bQe,new PQe,new B5,new RQe,new $Qe,new wQe,new LQe,new c2e,new qQe,new l2e,new VQe,new zQe,new UQe,new YQe,new JQe,new r2e,new n2e,new a2e,new i2e,new s2e,new o2e,new u2e])},e.prototype.createPlugins=function(){return bo([lQe(this.context),yQe(this.context),d2e(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new O$(this.el,{state:this.createState(),dispatchTransaction:function(n){t.updateMarkdown(n);var i=t.view.state.applyTransaction(n).state;t.view.updateState(i),t.emitChangeEvent(n)},handleKeyDown:function(n,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,i),!1},handleDOMEvents:{copy:function(n,i){return t.captureCopy(i)},cut:function(n,i){return t.captureCopy(i,mD)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,i){return t.eventEmitter.emit("keyup",t.editorType,i),!1}},nodeViews:{widget:Q5}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,n){t.preventDefault();var i=this.view.state,a=i.selection,o=i.tr;if(a.empty)return!0;var s=this.getChanged(a.content());return t.clipboardData?t.clipboardData.setData("text/plain",s):window.clipboardData.setData("Text",s),n===mD&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",mD)),!0},e.prototype.updateMarkdown=function(t){var n=this;t.docChanged&&t.steps.forEach(function(i,a){if(i.slice&&!(i instanceof Di)){var o=t.docs[a],s=[i.from,i.to],l=s[0],u=s[1],c=H0(o,l,u),h=c[0],p=c[1],g=n.getChanged(i.slice);h[0]===p[0]&&h[1]===p[1]&&g===""&&(g=`
`);var O=n.toastMark.editMarkdown(h,p,g);n.eventEmitter.emit("updatePreview",O),t.setMeta("editResult",O).scrollIntoView()}})},e.prototype.getChanged=function(t){var n="",i=0,a=t.content.size;return t.content.nodesBetween(i,a,function(o,s){o.isText?n+=o.text.slice(Math.max(i,s)-s,a-s):o.isBlock&&s>0&&(n+=`
`)}),n},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=lh(i.doc,t,n),o=a[0],s=a[1];this.view.dispatch(i.setSelection(Bn(i,o,s)).scrollIntoView())},e.prototype.replaceSelection=function(t,n,i){var a,o=this.view.state,s=o.tr,l=o.schema,u=o.doc,c=t.split(bq),h=c.map(function(M){return s1(l,Th(M,l))}),p=new St(nt.from(h),1,1);if(this.focus(),n&&i){var g=lh(u,n,i),O=g[0],T=g[1];a=s.replaceRange(O,T,p)}else a=s.replaceSelection(p);this.view.dispatch(a.scrollIntoView())},e.prototype.deleteSelection=function(t,n){var i,a=this.view.state,o=a.tr,s=a.doc;if(t&&n){var l=lh(s,t,n),u=l[0],c=l[1];i=o.deleteRange(u,c)}else i=o.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,o=i.selection,s=o.from,l=o.to;if(t&&n){var u=lh(a,t,n);s=u[0],l=u[1]}return a.textBetween(s,l,`
`)},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return H0(this.view.state.tr.doc,n,i)},e.prototype.setMarkdown=function(t,n){n===void 0&&(n=!0);var i=t.split(bq),a=this.view.state,o=a.tr,s=a.doc,l=a.schema,u=i.map(function(c){return s1(l,Th(c,l))});this.view.dispatch(o.replaceWith(0,s.content.size,u)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,n,i){var a=this.view.state,o=a.tr,s=a.doc,l=a.selection,u=i?lh(s,i,i)[0]:l.to;this.view.dispatch(o.setMeta("widget",{pos:u,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,o=a.tr,s=a.schema,l=a.doc,u=lh(l,t,n),c=Th(i,s);this.view.dispatch(o.replaceWith(u[0],u[1],c))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,o=t||H0(i,a.from)[0],s=this.toastMark.findNodeAtPosition(o);return s.type==="text"&&s.parent.type!=="paragraph"&&(s=s.parent),s.sourcepos[1][1]+=1,{range:s.sourcepos,type:s.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(t){return fk(t)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(q5),wq="_feEventKey";function m2e(r,e){var t=r[wq],n;return t||(t=r[wq]={}),n=t[e],n||(n=t[e]=[]),n}var j5=m2e,v2e=fc,h1=lk,g2e=j5;function O2e(r,e,t){if(v2e(e)){h1(e.split(/\s+/g),function(n){kq(r,n,t)});return}h1(e,function(n,i){kq(r,i,n)})}function kq(r,e,t){var n=g2e(r,e),i;t?(h1(n,function(a,o){return t===a.handler?(Sq(r,e,a.wrappedHandler),i=o,!1):!0}),n.splice(i,1)):(h1(n,function(a){Sq(r,e,a.wrappedHandler)}),n.splice(0,n.length))}function Sq(r,e,t){"removeEventListener"in r?r.removeEventListener(e,t):"detachEvent"in r&&r.detachEvent("on"+e,t)}var Y5=O2e,y2e=fc,MR=lk,b2e=j5;function w2e(r,e,t,n){if(y2e(e)){MR(e.split(/\s+/g),function(i){xq(r,i,t,n)});return}MR(e,function(i,a){xq(r,a,i,t)})}function xq(r,e,t,n){function i(a){t.call(n||r,a||window.event)}"addEventListener"in r?r.addEventListener(e,i):"attachEvent"in r&&r.attachEvent("on"+e,i),k2e(r,e,t,i)}function k2e(r,e,t,n){var i=b2e(r,e),a=!1;MR(i,function(o){return o.handler===t?(a=!0,!1):!0}),a||i.push({handler:t,wrappedHandler:n})}var G5=w2e;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AR=function(r,e){return AR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},AR(r,e)};function $s(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");AR(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ui=function(){return Ui=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ui.apply(this,arguments)};function DR(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cq={};function S2e(r){var e,t,n=Cq[r];if(n)return n;for(n=Cq[r]=[],e=0;e<128;e++)t=String.fromCharCode(e),/^[0-9a-z]$/i.test(t)?n.push(t):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<r.length;e++)n[r.charCodeAt(e)]=r[e];return n}function mk(r,e,t){var n,i,a,o,s,l="";for(typeof e!="string"&&(t=e,e=mk.defaultChars),typeof t>"u"&&(t=!0),s=S2e(e),n=0,i=r.length;n<i;n++){if(a=r.charCodeAt(n),t&&a===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(r.slice(n+1,n+3))){l+=r.slice(n,n+3),n+=2;continue}if(a<128){l+=s[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(o=r.charCodeAt(n+1),o>=56320&&o<=57343)){l+=encodeURIComponent(r[n]+r[n+1]),n++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(r[n])}return l}mk.defaultChars=";/?:@&=+$,-_.!~*'()#";mk.componentChars="-_.!~*'()";var x2e=mk,Z$={},Gu={},C2e="Ã",T2e="Ã¡",E2e="Ä",M2e="Ä",A2e="â¾",D2e="â¿",P2e="â¾Ì³",R2e="Ã",N2e="Ã¢",$2e="Â´",L2e="Ð",_2e="Ð°",I2e="Ã",Q2e="Ã¦",B2e="â¡",q2e="ð",F2e="ð",V2e="Ã",Z2e="Ã ",z2e="âµ",H2e="âµ",W2e="Î",U2e="Î±",X2e="Ä",j2e="Ä",Y2e="â¨¿",G2e="&",K2e="&",J2e="â©",eBe="â©",tBe="â§",rBe="â©",nBe="â©",iBe="â©",aBe="â ",oBe="â¦¤",sBe="â ",lBe="â¦¨",uBe="â¦©",cBe="â¦ª",fBe="â¦«",hBe="â¦¬",dBe="â¦­",pBe="â¦®",mBe="â¦¯",vBe="â¡",gBe="â",OBe="â¾",yBe="â¦",bBe="â¢",wBe="Ã",kBe="â¼",SBe="Ä",xBe="Ä",CBe="ð¸",TBe="ð",EBe="â©¯",MBe="â",ABe="â©°",DBe="â",PBe="â",RBe="'",NBe="â¡",$Be="â",LBe="â",_Be="Ã",IBe="Ã¥",QBe="ð",BBe="ð¶",qBe="â",FBe="*",VBe="â",ZBe="â",zBe="Ã",HBe="Ã£",WBe="Ã",UBe="Ã¤",XBe="â³",jBe="â¨",YBe="â",GBe="Ï¶",KBe="âµ",JBe="â½",eqe="â",tqe="â",rqe="â«§",nqe="â½",iqe="â",aqe="â",oqe="â",sqe="âµ",lqe="â¶",uqe="â",cqe="Ð",fqe="Ð±",hqe="â",dqe="âµ",pqe="âµ",mqe="âµ",vqe="â¦°",gqe="Ï¶",Oqe="â¬",yqe="â¬",bqe="Î",wqe="Î²",kqe="â¶",Sqe="â¬",xqe="ð",Cqe="ð",Tqe="â",Eqe="â¯",Mqe="â",Aqe="â¨",Dqe="â¨",Pqe="â¨",Rqe="â¨",Nqe="â",$qe="â½",Lqe="â³",_qe="â¨",Iqe="â",Qqe="â",Bqe="â¤",qqe="â§«",Fqe="âª",Vqe="â´",Zqe="â¾",zqe="â",Hqe="â¸",Wqe="â£",Uqe="â",Xqe="â",jqe="â",Yqe="â",Gqe="=â¥",Kqe="â¡â¥",Jqe="â«­",eFe="â",tFe="ð¹",rFe="ð",nFe="â¥",iFe="â¥",aFe="â",oFe="â§",sFe="â",lFe="â",uFe="â",cFe="â",fFe="â",hFe="â",dFe="â",pFe="â",mFe="â",vFe="â",gFe="â¬",OFe="â¤",yFe="â¥",bFe="â¦",wFe="â´",kFe="â§",SFe="â¨",xFe="â©",CFe="â",TFe="â",EFe="â ",MFe="â",AFe="â",DFe="â",PFe="â",RFe="â",NFe="â",$Fe="â",LFe="â",_Fe="â",IFe="â",QFe="â¼",BFe="âª",qFe="â«",FFe="â¬",VFe="â¤",ZFe="â¡",zFe="â¢",HFe="â£",WFe="â",UFe="â",XFe="â",jFe="â ",YFe="âµ",GFe="Ë",KFe="Ë",JFe="Â¦",eVe="ð·",tVe="â¬",rVe="â",nVe="â½",iVe="â",aVe="â§",oVe="\\",sVe="â",lVe="â¢",uVe="â¢",cVe="â",fVe="âª®",hVe="â",dVe="â",pVe="â",mVe="Ä",vVe="Ä",gVe="â©",OVe="â©",yVe="â©",bVe="â©",wVe="â",kVe="â©",SVe="â©",xVe="â",CVe="â©ï¸",TVe="â",EVe="Ë",MVe="â­",AVe="â©",DVe="Ä",PVe="Ä",RVe="Ã",NVe="Ã§",$Ve="Ä",LVe="Ä",_Ve="â°",IVe="â©",QVe="â©",BVe="Ä",qVe="Ä",FVe="Â¸",VVe="Â¸",ZVe="â¦²",zVe="Â¢",HVe="Â·",WVe="Â·",UVe="ð ",XVe="â­",jVe="Ð§",YVe="Ñ",GVe="â",KVe="â",JVe="Î§",eZe="Ï",tZe="Ë",rZe="â",nZe="âº",iZe="â»",aZe="â",oZe="â",sZe="â",lZe="â",uZe="Â®",cZe="â",fZe="â",hZe="â",dZe="â",pZe="â",mZe="â§",vZe="â",gZe="â¨",OZe="â«¯",yZe="â§",bZe="â²",wZe="â",kZe="â",SZe="â£",xZe="â£",CZe=":",TZe="â·",EZe="â©´",MZe="â",AZe="â",DZe=",",PZe="@",RZe="â",NZe="â",$Ze="â",LZe="â",_Ze="â",IZe="â©­",QZe="â¡",BZe="â®",qZe="â¯",FZe="â®",VZe="ð",ZZe="â",zZe="â",HZe="â",WZe="Â©",UZe="Â©",XZe="â",jZe="â³",YZe="âµ",GZe="â",KZe="â¨¯",JZe="ð",eze="ð¸",tze="â«",rze="â«",nze="â«",ize="â«",aze="â¯",oze="â¤¸",sze="â¤µ",lze="â",uze="â",cze="â¶",fze="â¤½",hze="â©",dze="â©",pze="â",mze="âª",vze="â",gze="â©",Oze="â",yze="â©",bze="âªï¸",wze="â·",kze="â¤¼",Sze="â",xze="â",Cze="â",Tze="â",Eze="Â¤",Mze="â¶",Aze="â·",Dze="â",Pze="â",Rze="â²",Nze="â±",$ze="â­",Lze="â ",_ze="â¡",Ize="â¸",Qze="â",Bze="â¡",qze="â",Fze="â",Vze="â«¤",Zze="â£",zze="â¤",Hze="Ë",Wze="Ä",Uze="Ä",Xze="Ð",jze="Ð´",Yze="â¡",Gze="â",Kze="â",Jze="â",eHe="â¤",tHe="â©·",rHe="Â°",nHe="â",iHe="Î",aHe="Î´",oHe="â¦±",sHe="â¥¿",lHe="ð",uHe="ð¡",cHe="â¥¥",fHe="â",hHe="â",dHe="Â´",pHe="Ë",mHe="Ë",vHe="`",gHe="Ë",OHe="â",yHe="â",bHe="â",wHe="â¦",kHe="â¦",SHe="Â¨",xHe="â",CHe="Ï",THe="â²",EHe="Ã·",MHe="Ã·",AHe="â",DHe="â",PHe="Ð",RHe="Ñ",NHe="â",$He="â",LHe="$",_He="ð»",IHe="ð",QHe="Â¨",BHe="Ë",qHe="â",FHe="â",VHe="â",ZHe="â",zHe="â¸",HHe="â",WHe="â¡",UHe="â",XHe="â¯",jHe="Â¨",YHe="â",GHe="â",KHe="â",JHe="â«¤",eWe="â¸",tWe="âº",rWe="â¹",nWe="â",iWe="â¨",aWe="â",oWe="â",sWe="â¥",lWe="â¤",uWe="â",cWe="â",fWe="â",hWe="âµ",dWe="Ì",pWe="â",mWe="â",vWe="â",gWe="â¥",OWe="â¥",yWe="â¥",bWe="â½",wWe="â¥",kWe="â¥",SWe="â",xWe="â§",CWe="â¤",TWe="â¤",EWe="â",MWe="â",AWe="ð",DWe="ð¹",PWe="Ð",RWe="Ñ",NWe="â§¶",$We="Ä",LWe="Ä",_We="â±",IWe="â¿",QWe="â¾",BWe="âµ",qWe="â¥¯",FWe="â¦¦",VWe="Ð",ZWe="Ñ",zWe="â¿",HWe="Ã",WWe="Ã©",UWe="â©®",XWe="Ä",jWe="Ä",YWe="Ã",GWe="Ãª",KWe="â",JWe="â",e3e="Ð­",t3e="Ñ",r3e="â©·",n3e="Ä",i3e="Ä",a3e="â",o3e="â",s3e="â",l3e="ð",u3e="ð¢",c3e="âª",f3e="Ã",h3e="Ã¨",d3e="âª",p3e="âª",m3e="âª",v3e="â",g3e="â§",O3e="â",y3e="âª",b3e="âª",w3e="Ä",k3e="Ä",S3e="â",x3e="â",C3e="â»",T3e="â",E3e="â«",M3e="â",A3e="â",D3e="â",P3e="Å",R3e="Å",N3e="â",$3e="Ä",L3e="Ä",_3e="ð¼",I3e="ð",Q3e="â",B3e="â§£",q3e="â©±",F3e="Îµ",V3e="Î",Z3e="Îµ",z3e="Ïµ",H3e="â",W3e="â",U3e="â",X3e="âª",j3e="âª",Y3e="â©µ",G3e="=",K3e="â",J3e="â",eUe="â",tUe="â¡",rUe="â©¸",nUe="â§¥",iUe="â¥±",aUe="â",oUe="â¯",sUe="â°",lUe="â",uUe="â©³",cUe="â",fUe="Î",hUe="Î·",dUe="Ã",pUe="Ã°",mUe="Ã",vUe="Ã«",gUe="â¬",OUe="!",yUe="â",bUe="â",wUe="â°",kUe="â",SUe="â",xUe="â",CUe="Ð¤",TUe="Ñ",EUe="â",MUe="ï¬",AUe="ï¬",DUe="ï¬",PUe="ð",RUe="ð£",NUe="ï¬",$Ue="â¼",LUe="âª",_Ue="fj",IUe="â­",QUe="ï¬",BUe="â±",qUe="Æ",FUe="ð½",VUe="ð",ZUe="â",zUe="â",HUe="â",WUe="â«",UUe="â±",XUe="â¨",jUe="Â½",YUe="â",GUe="Â¼",KUe="â",JUe="â",e5e="â",t5e="â",r5e="â",n5e="Â¾",i5e="â",a5e="â",o5e="â",s5e="â",l5e="â",u5e="â",c5e="â",f5e="â¢",h5e="ð»",d5e="â±",p5e="Çµ",m5e="Î",v5e="Î³",g5e="Ï",O5e="Ï",y5e="âª",b5e="Ä",w5e="Ä",k5e="Ä¢",S5e="Ä",x5e="Ä",C5e="Ð",T5e="Ð³",E5e="Ä ",M5e="Ä¡",A5e="â¥",D5e="â§",P5e="âª",R5e="â",N5e="â¥",$5e="â§",L5e="â©¾",_5e="âª©",I5e="â©¾",Q5e="âª",B5e="âª",q5e="âª",F5e="âï¸",V5e="âª",Z5e="ð",z5e="ð¤",H5e="â«",W5e="â",U5e="â",X5e="â·",j5e="Ð",Y5e="Ñ",G5e="âª¥",K5e="â·",J5e="âª",eXe="âª¤",tXe="âª",rXe="âª",nXe="âª",iXe="â©",aXe="âª",oXe="â©",sXe="â§",lXe="ð¾",uXe="ð",cXe="`",fXe="â¥",hXe="â",dXe="â§",pXe="âª¢",mXe="â·",vXe="â©¾",gXe="â³",OXe="ð¢",yXe="â",bXe="â³",wXe="âª",kXe="âª",SXe="âª§",xXe="â©º",CXe=">",TXe=">",EXe="â«",MXe="â",AXe="â¦",DXe="â©¼",PXe="âª",RXe="â¥¸",NXe="â",$Xe="â",LXe="âª",_Xe="â·",IXe="â³",QXe="â©ï¸",BXe="â©ï¸",qXe="Ë",FXe="â",VXe="Â½",ZXe="â",zXe="Ðª",HXe="Ñ",WXe="â¥",UXe="â",XXe="â",jXe="â­",YXe="^",GXe="â",KXe="Ä¤",JXe="Ä¥",eje="â¥",tje="â¥",rje="â¦",nje="â¹",ije="ð¥",aje="â",oje="â",sje="â¤¥",lje="â¤¦",uje="â¿",cje="â»",fje="â©",hje="âª",dje="ð",pje="â",mje="â",vje="â",gje="ð½",Oje="â",yje="â",bje="Ä¦",wje="Ä§",kje="â",Sje="â",xje="â",Cje="â",Tje="Ã",Eje="Ã­",Mje="â£",Aje="Ã",Dje="Ã®",Pje="Ð",Rje="Ð¸",Nje="Ä°",$je="Ð",Lje="Ðµ",_je="Â¡",Ije="â",Qje="ð¦",Bje="â",qje="Ã",Fje="Ã¬",Vje="â",Zje="â¨",zje="â­",Hje="â§",Wje="â©",Uje="Ä²",Xje="Ä³",jje="Äª",Yje="Ä«",Gje="â",Kje="â",Jje="â",e4e="â",t4e="Ä±",r4e="â",n4e="â·",i4e="Æµ",a4e="â",o4e="â",s4e="â",l4e="â§",u4e="Ä±",c4e="âº",f4e="â«",h4e="â¬",d4e="â¤",p4e="â«",m4e="âº",v4e="â",g4e="â¨",O4e="â¨¼",y4e="â£",b4e="â¢",w4e="Ð",k4e="Ñ",S4e="Ä®",x4e="Ä¯",C4e="ð",T4e="ð",E4e="Î",M4e="Î¹",A4e="â¨¼",D4e="Â¿",P4e="ð¾",R4e="â",N4e="â",$4e="âµ",L4e="â¹",_4e="â´",I4e="â³",Q4e="â",B4e="â¢",q4e="Ä¨",F4e="Ä©",V4e="Ð",Z4e="Ñ",z4e="Ã",H4e="Ã¯",W4e="Ä´",U4e="Äµ",X4e="Ð",j4e="Ð¹",Y4e="ð",G4e="ð§",K4e="È·",J4e="ð",eYe="ð",tYe="ð¥",rYe="ð¿",nYe="Ð",iYe="Ñ",aYe="Ð",oYe="Ñ",sYe="Î",lYe="Îº",uYe="Ï°",cYe="Ä¶",fYe="Ä·",hYe="Ð",dYe="Ðº",pYe="ð",mYe="ð¨",vYe="Ä¸",gYe="Ð¥",OYe="Ñ",yYe="Ð",bYe="Ñ",wYe="ð",kYe="ð",SYe="ð¦",xYe="ð",CYe="â",TYe="Ä¹",EYe="Äº",MYe="â¦´",AYe="â",DYe="Î",PYe="Î»",RYe="â¨",NYe="âª",$Ye="â¦",LYe="â¨",_Ye="âª",IYe="â",QYe="Â«",BYe="â¤",qYe="â¤",FYe="â",VYe="â",ZYe="â",zYe="â¤",HYe="â©",WYe="â«",UYe="â¤¹",XYe="â¥³",jYe="â¢",YYe="â¤",GYe="â¤",KYe="âª«",JYe="âª­",eGe="âª­ï¸",tGe="â¤",rGe="â¤",nGe="â²",iGe="{",aGe="[",oGe="â¦",sGe="â¦",lGe="â¦",uGe="Ä½",cGe="Ä¾",fGe="Ä»",hGe="Ä¼",dGe="â",pGe="{",mGe="Ð",vGe="Ð»",gGe="â¤¶",OGe="â",yGe="â",bGe="â¥§",wGe="â¥",kGe="â²",SGe="â¤",xGe="â¦",CGe="â¨",TGe="â¤",EGe="â",MGe="â",AGe="â",DGe="â",PGe="â¢",RGe="â",NGe="â¦",$Ge="â¥¡",LGe="â¥",_Ge="â",IGe="â",QGe="â½",BGe="â¼",qGe="â",FGe="â",VGe="â",ZGe="â",zGe="â",HGe="â",WGe="â­",UGe="â¥",XGe="â¤",jGe="â£",YGe="â¥",GGe="â",KGe="â§",JGe="â²",e7e="â´",t7e="â¥",r7e="â¥ ",n7e="â¥",i7e="â¿",a7e="â¥",o7e="â¼",s7e="âª",l7e="â",u7e="â¤",c7e="â¦",f7e="â©½",h7e="âª¨",d7e="â©½",p7e="â©¿",m7e="âª",v7e="âª",g7e="âï¸",O7e="âª",y7e="âª",b7e="â",w7e="â",k7e="âª",S7e="â",x7e="â¦",C7e="â¶",T7e="â¶",E7e="âª¡",M7e="â²",A7e="â©½",D7e="â²",P7e="â¥¼",R7e="â",N7e="ð",$7e="ð©",L7e="â¶",_7e="âª",I7e="â¥¢",Q7e="â½",B7e="â¼",q7e="â¥ª",F7e="â",V7e="Ð",Z7e="Ñ",z7e="â",H7e="âª",W7e="â",U7e="â",X7e="â",j7e="â¥«",Y7e="âº",G7e="Ä¿",K7e="Å",J7e="â°",e9e="â°",t9e="âª",r9e="âª",n9e="âª",i9e="â¨",a9e="âª",o9e="â¨",s9e="â¦",l9e="â¬",u9e="â½",c9e="â¦",f9e="âµ",h9e="âµ",d9e="â¸",p9e="â·",m9e="â·",v9e="âº",g9e="â¼",O9e="â¶",y9e="â¶",b9e="â¹",w9e="â«",k9e="â¬",S9e="â¦",x9e="ð",C9e="ð",T9e="â¨­",E9e="â¨´",M9e="â",A9e="_",D9e="â",P9e="â",R9e="â",N9e="â",$9e="â§«",L9e="(",_9e="â¦",I9e="â",Q9e="â",B9e="â",q9e="â¥­",F9e="â",V9e="â¿",Z9e="â¹",z9e="ð",H9e="â",W9e="â°",U9e="â°",X9e="â²",j9e="âª",Y9e="âª",G9e="[",K9e="â",J9e="â",e8e="Å",t8e="Å",r8e="âª¦",n8e="â©¹",i8e="<",a8e="<",o8e="âª",s8e="â",l8e="â",u8e="â",c8e="â¥¶",f8e="â©»",h8e="â",d8e="â´",p8e="â",m8e="â¦",v8e="â¥",g8e="â¥¦",O8e="â¨ï¸",y8e="â¨ï¸",b8e="Â¯",w8e="â",k8e="â ",S8e="â ",x8e="â¦",C8e="â¦",T8e="â§",E8e="â¤",M8e="â¥",A8e="â®",D8e="â¨©",P8e="Ð",R8e="Ð¼",N8e="â",$8e="âº",L8e="â¡",_8e="â",I8e="â³",Q8e="ð",B8e="ðª",q8e="â§",F8e="Âµ",V8e="*",Z8e="â«°",z8e="â£",H8e="Â·",W8e="â",U8e="â",X8e="â¸",j8e="â¨ª",Y8e="â",G8e="â«",K8e="â¦",J8e="â",e6e="â§",t6e="ð",r6e="ð",n6e="â",i6e="ð",a6e="â³",o6e="â¾",s6e="Î",l6e="Î¼",u6e="â¸",c6e="â¸",f6e="â",h6e="Å",d6e="Å",p6e="â â",m6e="â",v6e="â©°Ì¸",g6e="âÌ¸",O6e="Å",y6e="â",b6e="â®",w6e="â",k6e="â®",S6e="Â ",x6e="âÌ¸",C6e="âÌ¸",T6e="â©",E6e="Å",M6e="Å",A6e="Å",D6e="Å",P6e="â",R6e="â©­Ì¸",N6e="â©",$6e="Ð",L6e="Ð½",_6e="â",I6e="â¤¤",Q6e="â",B6e="â",q6e="â",F6e="â ",V6e="âÌ¸",Z6e="â",z6e="â",H6e="â",W6e="â",U6e="â¢",X6e="â¤¨",j6e="âÌ¸",Y6e="â«",G6e="âª",K6e=`
`,J6e="â",eKe="â",tKe="ð",rKe="ð«",nKe="â§Ì¸",iKe="â±",aKe="â±",oKe="â§Ì¸",sKe="â©¾Ì¸",lKe="â©¾Ì¸",uKe="âÌ¸",cKe="âµ",fKe="â«â",hKe="â¯",dKe="â¯",pKe="â«Ì¸",mKe="â®",vKe="â",gKe="â«²",OKe="â",yKe="â¼",bKe="âº",wKe="â",kKe="Ð",SKe="Ñ",xKe="â",CKe="â",TKe="â¥",EKe="â¦Ì¸",MKe="â°",AKe="â",DKe="â",PKe="â®",RKe="â",NKe="â°",$Ke="â¦Ì¸",LKe="â©½Ì¸",_Ke="â©½Ì¸",IKe="â®",QKe="âÌ¸",BKe="â´",qKe="âªâ",FKe="â®",VKe="âª",ZKe="â¬",zKe="âªÌ¸",HKe="â¤",WKe="â ",UKe="Â ",XKe="ð",jKe="â",YKe="â«¬",GKe="Â¬",KKe="â¢",JKe="â­",eJe="â¦",tJe="â",rJe="â ",nJe="âÌ¸",iJe="â",aJe="â¯",oJe="â±",sJe="â§Ì¸",lJe="â«Ì¸",uJe="â¹",cJe="â©¾Ì¸",fJe="âµ",hJe="âÌ¸",dJe="âÌ¸",pJe="â",mJe="âµÌ¸",vJe="â¹Ì¸",gJe="â",OJe="â·",yJe="â¶",bJe="â§Ì¸",wJe="âª",kJe="â¬",SJe="â®",xJe="â°",CJe="â¸",TJe="âªÌ¸",EJe="â©½Ì¸",MJe="â´",AJe="âª¢Ì¸",DJe="âª¡Ì¸",PJe="â",RJe="â",NJe="â¾",$Je="â½",LJe="â",_Je="âª¯Ì¸",IJe="â ",QJe="â",BJe="â§Ì¸",qJe="â«",FJe="â­",VJe="âÌ¸",ZJe="â¢",zJe="âÌ¸",HJe="â£",WJe="ââ",UJe="â",XJe="â",jJe="âª°Ì¸",YJe="â¡",GJe="â¿Ì¸",KJe="ââ",JJe="â",eet="â",tet="â",ret="â",net="â",iet="â¤",aet="â¦",oet="â¦",set="â«½â¥",uet="âÌ¸",cet="â¨",fet="â",het="â ",det="â",pet="âª¯Ì¸",met="âª¯Ì¸",vet="â¤³Ì¸",get="â",Oet="â",yet="âÌ¸",bet="â",wet="â",ket="â«",xet="â­",Cet="â",Tet="â¡",Eet="âª°Ì¸",Met="ð©",Aet="ð",Det="â¤",Pet="â¦",Ret="â",Net="â",$et="â",Let="â¤",_et="â¦",Iet="â¢",Qet="â£",Bet="â",qet="â«Ì¸",Fet="â",Vet="ââ",Zet="â",zet="â«Ì¸",Het="â",Wet="âª°Ì¸",Uet="â",Xet="â«Ì¸",jet="â",Yet="ââ",Get="â",Ket="â«Ì¸",Jet="â¹",ett="Ã",ttt="Ã±",rtt="â¸",ntt="âª",itt="â¬",att="â«",ott="â­",stt="Î",ltt="Î½",utt="#",ctt="â",ftt="â",htt="ââ",dtt="â¬",ptt="â­",mtt="â®",vtt="â¯",gtt="â¥â",Ott=">â",ytt="â¤",btt="â§",wtt="â¤",ktt="â¤â",Stt="<â",xtt="â´â",Ctt="â¤",Ttt="âµâ",Ett="â¼â",Mtt="â¤£",Att="â",Dtt="â",Ptt="â",Rtt="â¤§",Ntt="Ã",$tt="Ã³",Ltt="â",_tt="Ã",Itt="Ã´",Qtt="â",Btt="Ð",qtt="Ð¾",Ftt="â",Vtt="Å",Ztt="Å",ztt="â¨¸",Htt="â",Wtt="â¦¼",Utt="Å",Xtt="Å",jtt="â¦¿",Ytt="ð",Gtt="ð¬",Ktt="Ë",Jtt="Ã",ert="Ã²",trt="â§",rrt="â¦µ",nrt="Î©",irt="â®",art="âº",ort="â¦¾",srt="â¦»",lrt="â¾",urt="â§",crt="Å",frt="Å",hrt="Î©",drt="Ï",prt="Î",mrt="Î¿",vrt="â¦¶",grt="â",Ort="ð",yrt="ð ",brt="â¦·",wrt="â",krt="â",Srt="â¦¹",xrt="â",Crt="â»",Trt="â©",Ert="â¨",Mrt="â©",Art="â´",Drt="â´",Prt="Âª",Rrt="Âº",Nrt="â¶",$rt="â©",Lrt="â©",_rt="â©",Irt="â",Qrt="ðª",Brt="â´",qrt="Ã",Frt="Ã¸",Vrt="â",Zrt="Ã",zrt="Ãµ",Hrt="â¨¶",Wrt="â¨·",Urt="â",Xrt="Ã",jrt="Ã¶",Yrt="â½",Grt="â¾",Krt="â",Jrt="â´",ent="â",tnt="Â¶",rnt="â¥",nnt="â¥",int="â«³",ant="â«½",ont="â",snt="â",lnt="Ð",unt="Ð¿",cnt="%",fnt=".",hnt="â°",dnt="â¥",pnt="â±",mnt="ð",vnt="ð­",gnt="Î¦",Ont="Ï",ynt="Ï",bnt="â³",wnt="â",knt="Î ",Snt="Ï",xnt="â",Cnt="Ï",Tnt="â",Ent="â",Mnt="â",Ant="â¨£",Dnt="â",Pnt="â¨¢",Rnt="+",Nnt="â",$nt="â¨¥",Lnt="â©²",_nt="Â±",Int="Â±",Qnt="â¨¦",Bnt="â¨§",qnt="Â±",Fnt="â",Vnt="â¨",Znt="ð¡",znt="â",Hnt="Â£",Wnt="âª·",Unt="âª»",Xnt="âº",jnt="â¼",Ynt="âª·",Gnt="âº",Knt="â¼",Jnt="âº",eit="âª¯",tit="â¼",rit="â¾",nit="âª¯",iit="âª¹",ait="âªµ",oit="â¨",sit="âª¯",lit="âª³",uit="â¾",cit="â²",fit="â³",hit="â",dit="âª¹",pit="âªµ",mit="â¨",vit="â",git="â",Oit="â®",yit="â",bit="â",wit="â",kit="â",Sit="â·",xit="â",Cit="â¾",Tit="â°",Eit="ð«",Mit="ð",Ait="Î¨",Dit="Ï",Pit="â",Rit="ð",Nit="ð®",$it="â¨",Lit="ð¢",_it="â",Iit="â",Qit="ð¬",Bit="ð",qit="â",Fit="â¨",Vit="?",Zit="â",zit='"',Hit='"',Wit="â",Uit="â½Ì±",Xit="Å",jit="Å",Yit="â",Git="â¦³",Kit="â©",Jit="â«",eat="â¦",tat="â¦¥",rat="â©",nat="Â»",iat="â¥µ",aat="â¥",oat="â¤ ",sat="â¤³",lat="â",uat="â ",cat="â",fat="â¤",hat="âª",dat="â¬",pat="â¥",mat="â¥´",vat="â¤",gat="â£",Oat="â",yat="â¤",bat="â¤",wat="â¶",kat="â",Sat="â¤",xat="â¤",Cat="â¤",Tat="â³",Eat="}",Mat="]",Aat="â¦",Dat="â¦",Pat="â¦",Rat="Å",Nat="Å",$at="Å",Lat="Å",_at="â",Iat="}",Qat="Ð ",Bat="Ñ",qat="â¤·",Fat="â¥©",Vat="â",Zat="â",zat="â³",Hat="â",Wat="â",Uat="â",Xat="â",jat="â",Yat="â­",Gat="Â®",Kat="Â®",Jat="â",eot="â",tot="â¥¯",rot="â¥½",not="â",iot="ð¯",aot="â",oot="â¥¤",sot="â",lot="â",uot="â¥¬",cot="Î¡",fot="Ï",hot="Ï±",dot="â©",pot="â¥",mot="â",vot="â",got="â",Oot="â",yot="â£",bot="â",wot="â§",kot="â¥",Sot="â¥",xot="â",Cot="â",Tot="â",Eot="â",Mot="â",Aot="â",Dot="â",Pot="â",Rot="â¦",Not="â¢",$ot="â¥",Lot="â",_ot="â§",Iot="â³",Qot="âµ",Bot="â¥",qot="â¥",Fot="â¥",Vot="â¾",Zot="â¥",zot="â",Hot="Ë",Wot="â",Uot="â",Xot="â",jot="â",Yot="â±",Got="â±",Kot="â«®",Jot="â­",est="â¾",tst="â§",rst="â¦",nst="ð£",ist="â",ast="â¨®",ost="â¨µ",sst="â¥°",lst=")",ust="â¦",cst="â¨",fst="â",hst="â",dst="âº",pst="ð",mst="â",vst="â±",gst="â±",Ost="]",yst="â",bst="â",wst="â",kst="â",Sst="â¹",xst="âµ",Cst="â¸",Tst="â§",Est="â§´",Mst="â¥¨",Ast="â",Dst="Å",Pst="Å",Rst="â",Nst="âª¸",$st="Å ",Lst="Å¡",_st="âª¼",Ist="â»",Qst="â½",Bst="âª°",qst="âª´",Fst="Å",Vst="Å",Zst="Å",zst="Å",Hst="âªº",Wst="âª¶",Ust="â©",Xst="â¨",jst="â¿",Yst="Ð¡",Gst="Ñ",Kst="â¡",Jst="â",elt="â©¦",tlt="â¤¥",rlt="â",nlt="â",ilt="â",alt="Â§",olt=";",slt="â¤©",llt="â",ult="â",clt="â¶",flt="ð",hlt="ð°",dlt="â¢",plt="â¯",mlt="Ð©",vlt="Ñ",glt="Ð¨",Olt="Ñ",ylt="â",blt="â",wlt="â£",klt="â¥",Slt="â",xlt="â",Clt="Â­",Tlt="Î£",Elt="Ï",Mlt="Ï",Alt="Ï",Dlt="â¼",Plt="â©ª",Rlt="â",Nlt="â",$lt="âª",Llt="âª ",_lt="âª",Ilt="âª",Qlt="â",Blt="â¨¤",qlt="â¥²",Flt="â",Vlt="â",Zlt="â",zlt="â¨³",Hlt="â§¤",Wlt="â£",Ult="â£",Xlt="âªª",jlt="âª¬",Ylt="âª¬ï¸",Glt="Ð¬",Klt="Ñ",Jlt="â¿",eut="â§",tut="/",rut="ð",nut="ð¤",iut="â ",aut="â ",out="â¥",sut="â",lut="âï¸",uut="â",cut="âï¸",fut="â",hut="â",dut="â",put="â",mut="â",vut="â",gut="â",Out="â",yut="â",but="â¡",wut="â¡",kut="â",Sut="â",xut="â",Cut="â",Tut="â",Eut="â",Mut="âª",Aut="â¡",Dut="âª",Put="â",Rut="ð®",Nut="ð",$ut="â",Lut="â£",_ut="â",Iut="â",Qut="â",But="â",qut="Ïµ",Fut="Ï",Vut="Â¯",Zut="â",zut="â",Hut="âª½",Wut="â«",Uut="â",Xut="â«",jut="â«",Yut="â«",Gut="â",Kut="âª¿",Jut="â¥¹",ect="â",tct="â",rct="â",nct="â«",ict="â",act="â",oct="â«",sct="â«",lct="â«",uct="â«",cct="âª¸",fct="â»",hct="â½",dct="â»",pct="âª°",mct="â½",vct="â¿",gct="âª°",Oct="âªº",yct="âª¶",bct="â©",wct="â¿",kct="â",Sct="â",xct="â",Cct="âª",Tct="Â¹",Ect="Â²",Mct="Â³",Act="â",Dct="â",Pct="âª¾",Rct="â«",Nct="â«",$ct="â",Lct="â«",_ct="â",Ict="â",Qct="â",Bct="â«",qct="â¥»",Fct="â«",Vct="â«",Zct="â",zct="â«",Hct="â",Wct="â",Uct="â",Xct="â«",jct="â",Yct="â«",Gct="â«",Kct="â«",Jct="â«",eft="â¤¦",tft="â",rft="â",nft="â",ift="â¤ª",aft="Ã",oft="	",sft="â",lft="Î¤",uft="Ï",cft="â´",fft="Å¤",hft="Å¥",dft="Å¢",pft="Å£",mft="Ð¢",vft="Ñ",gft="â",Oft="â",yft="ð",bft="ð±",wft="â´",kft="â´",Sft="â´",xft="Î",Cft="Î¸",Tft="Ï",Eft="Ï",Mft="â",Aft="â¼",Dft="ââ",Pft="â",Rft="â",Nft="â",$ft="â¼",Lft="Ã",_ft="Ã¾",Ift="Ë",Qft="â¼",Bft="â",qft="â",Fft="â",Vft="â¨±",Zft="â ",zft="Ã",Hft="â¨°",Wft="â­",Uft="â¤¨",Xft="â¶",jft="â«±",Yft="â¤",Gft="ð",Kft="ð¥",Jft="â«",eht="â¤©",tht="â´",rht="â¢",nht="â¢",iht="âµ",aht="â¿",oht="â",sht="â´",lht="â",uht="â¹",cht="âµ",fht="â¬",hht="â",dht="â¨º",pht="â",mht="â¨¹",vht="â§",ght="â¨»",Oht="â¢",yht="ð¯",bht="ð",wht="Ð¦",kht="Ñ",Sht="Ð",xht="Ñ",Cht="Å¦",Tht="Å§",Eht="â¬",Mht="â",Aht="â ",Dht="Ã",Pht="Ãº",Rht="â",Nht="â",$ht="â",Lht="â¥",_ht="Ð",Iht="Ñ",Qht="Å¬",Bht="Å­",qht="Ã",Fht="Ã»",Vht="Ð£",Zht="Ñ",zht="â",Hht="Å°",Wht="Å±",Uht="â¥®",Xht="â¥¾",jht="ð",Yht="ð²",Ght="Ã",Kht="Ã¹",Jht="â¥£",edt="â¿",tdt="â¾",rdt="â",ndt="â",idt="â",adt="â",odt="â¸",sdt="Åª",ldt="Å«",udt="Â¨",cdt="_",fdt="â",hdt="âµ",ddt="â",pdt="â",mdt="â",vdt="Å²",gdt="Å³",Odt="ð",ydt="ð¦",bdt="â¤",wdt="â",kdt="â",Sdt="â",xdt="â",Cdt="â",Tdt="â",Edt="â",Mdt="â¥®",Adt="â¿",Ddt="â¾",Pdt="â",Rdt="â",Ndt="â",$dt="Ï",Ldt="Ï",_dt="Ï",Idt="Î¥",Qdt="Ï",Bdt="â¥",qdt="â¥",Fdt="â",Vdt="â",Zdt="â",zdt="â",Hdt="Å®",Wdt="Å¯",Udt="â¹",Xdt="ð°",jdt="ð",Ydt="â°",Gdt="Å¨",Kdt="Å©",Jdt="âµ",ept="â´",tpt="â",rpt="Ã",npt="Ã¼",ipt="â¦§",apt="â¦",opt="Ïµ",spt="Ï°",lpt="â",upt="Ï",cpt="Ï",fpt="â",hpt="â",dpt="â",ppt="Ï±",mpt="Ï",vpt="âï¸",gpt="â«ï¸",Opt="âï¸",ypt="â«ï¸",bpt="Ï",wpt="â²",kpt="â³",Spt="â«¨",xpt="â««",Cpt="â«©",Tpt="Ð",Ept="Ð²",Mpt="â¢",Apt="â¨",Dpt="â©",Ppt="â«",Rpt="â«¦",Npt="â»",$pt="â¨",Lpt="â",_pt="â",Ipt="â®",Qpt="|",Bpt="â",qpt="|",Fpt="â",Vpt="â£",Zpt="|",zpt="â",Hpt="â",Wpt="â",Upt="ð",Xpt="ð³",jpt="â²",Ypt="ââ",Gpt="ââ",Kpt="ð",Jpt="ð§",emt="â",tmt="â³",rmt="ð±",nmt="ð",imt="â«ï¸",amt="âï¸",omt="â«ï¸",smt="âï¸",lmt="âª",umt="â¦",cmt="Å´",fmt="Åµ",hmt="â©",dmt="â§",pmt="â",mmt="â",vmt="â",gmt="ð",Omt="ð´",ymt="ð",bmt="ð¨",wmt="â",kmt="â",Smt="â",xmt="ð²",Cmt="ð",Tmt="â",Emt="â¯",Mmt="â",Amt="â½",Dmt="ð",Pmt="ðµ",Rmt="â·",Nmt="âº",$mt="Î",Lmt="Î¾",_mt="âµ",Imt="â¸",Qmt="â¼",Bmt="â»",qmt="â¨",Fmt="ð",Vmt="ð©",Zmt="â¨",zmt="â¨",Hmt="â¶",Wmt="â¹",Umt="ð³",Xmt="ð",jmt="â¨",Ymt="â¨",Gmt="â³",Kmt="â",Jmt="â",evt="Ã",tvt="Ã½",rvt="Ð¯",nvt="Ñ",ivt="Å¶",avt="Å·",ovt="Ð«",svt="Ñ",lvt="Â¥",uvt="ð",cvt="ð¶",fvt="Ð",hvt="Ñ",dvt="ð",pvt="ðª",mvt="ð´",vvt="ð",gvt="Ð®",Ovt="Ñ",yvt="Ã¿",bvt="Å¸",wvt="Å¹",kvt="Åº",Svt="Å½",xvt="Å¾",Cvt="Ð",Tvt="Ð·",Evt="Å»",Mvt="Å¼",Avt="â¨",Dvt="â",Pvt="Î",Rvt="Î¶",Nvt="ð·",$vt="â¨",Lvt="Ð",_vt="Ð¶",Ivt="â",Qvt="ð«",Bvt="â¤",qvt="ðµ",Fvt="ð",Vvt="â",Zvt="â",K5={Aacute:C2e,aacute:T2e,Abreve:E2e,abreve:M2e,ac:A2e,acd:D2e,acE:P2e,Acirc:R2e,acirc:N2e,acute:$2e,Acy:L2e,acy:_2e,AElig:I2e,aelig:Q2e,af:B2e,Afr:q2e,afr:F2e,Agrave:V2e,agrave:Z2e,alefsym:z2e,aleph:H2e,Alpha:W2e,alpha:U2e,Amacr:X2e,amacr:j2e,amalg:Y2e,amp:G2e,AMP:K2e,andand:J2e,And:eBe,and:tBe,andd:rBe,andslope:nBe,andv:iBe,ang:aBe,ange:oBe,angle:sBe,angmsdaa:lBe,angmsdab:uBe,angmsdac:cBe,angmsdad:fBe,angmsdae:hBe,angmsdaf:dBe,angmsdag:pBe,angmsdah:mBe,angmsd:vBe,angrt:gBe,angrtvb:OBe,angrtvbd:yBe,angsph:bBe,angst:wBe,angzarr:kBe,Aogon:SBe,aogon:xBe,Aopf:CBe,aopf:TBe,apacir:EBe,ap:MBe,apE:ABe,ape:DBe,apid:PBe,apos:RBe,ApplyFunction:NBe,approx:$Be,approxeq:LBe,Aring:_Be,aring:IBe,Ascr:QBe,ascr:BBe,Assign:qBe,ast:FBe,asymp:VBe,asympeq:ZBe,Atilde:zBe,atilde:HBe,Auml:WBe,auml:UBe,awconint:XBe,awint:jBe,backcong:YBe,backepsilon:GBe,backprime:KBe,backsim:JBe,backsimeq:eqe,Backslash:tqe,Barv:rqe,barvee:nqe,barwed:iqe,Barwed:aqe,barwedge:oqe,bbrk:sqe,bbrktbrk:lqe,bcong:uqe,Bcy:cqe,bcy:fqe,bdquo:hqe,becaus:dqe,because:pqe,Because:mqe,bemptyv:vqe,bepsi:gqe,bernou:Oqe,Bernoullis:yqe,Beta:bqe,beta:wqe,beth:kqe,between:Sqe,Bfr:xqe,bfr:Cqe,bigcap:Tqe,bigcirc:Eqe,bigcup:Mqe,bigodot:Aqe,bigoplus:Dqe,bigotimes:Pqe,bigsqcup:Rqe,bigstar:Nqe,bigtriangledown:$qe,bigtriangleup:Lqe,biguplus:_qe,bigvee:Iqe,bigwedge:Qqe,bkarow:Bqe,blacklozenge:qqe,blacksquare:Fqe,blacktriangle:Vqe,blacktriangledown:Zqe,blacktriangleleft:zqe,blacktriangleright:Hqe,blank:Wqe,blk12:Uqe,blk14:Xqe,blk34:jqe,block:Yqe,bne:Gqe,bnequiv:Kqe,bNot:Jqe,bnot:eFe,Bopf:tFe,bopf:rFe,bot:nFe,bottom:iFe,bowtie:aFe,boxbox:oFe,boxdl:sFe,boxdL:lFe,boxDl:uFe,boxDL:cFe,boxdr:fFe,boxdR:hFe,boxDr:dFe,boxDR:pFe,boxh:mFe,boxH:vFe,boxhd:gFe,boxHd:OFe,boxhD:yFe,boxHD:bFe,boxhu:wFe,boxHu:kFe,boxhU:SFe,boxHU:xFe,boxminus:CFe,boxplus:TFe,boxtimes:EFe,boxul:MFe,boxuL:AFe,boxUl:DFe,boxUL:PFe,boxur:RFe,boxuR:NFe,boxUr:$Fe,boxUR:LFe,boxv:_Fe,boxV:IFe,boxvh:QFe,boxvH:BFe,boxVh:qFe,boxVH:FFe,boxvl:VFe,boxvL:ZFe,boxVl:zFe,boxVL:HFe,boxvr:WFe,boxvR:UFe,boxVr:XFe,boxVR:jFe,bprime:YFe,breve:GFe,Breve:KFe,brvbar:JFe,bscr:eVe,Bscr:tVe,bsemi:rVe,bsim:nVe,bsime:iVe,bsolb:aVe,bsol:oVe,bsolhsub:sVe,bull:lVe,bullet:uVe,bump:cVe,bumpE:fVe,bumpe:hVe,Bumpeq:dVe,bumpeq:pVe,Cacute:mVe,cacute:vVe,capand:gVe,capbrcup:OVe,capcap:yVe,cap:bVe,Cap:wVe,capcup:kVe,capdot:SVe,CapitalDifferentialD:xVe,caps:CVe,caret:TVe,caron:EVe,Cayleys:MVe,ccaps:AVe,Ccaron:DVe,ccaron:PVe,Ccedil:RVe,ccedil:NVe,Ccirc:$Ve,ccirc:LVe,Cconint:_Ve,ccups:IVe,ccupssm:QVe,Cdot:BVe,cdot:qVe,cedil:FVe,Cedilla:VVe,cemptyv:ZVe,cent:zVe,centerdot:HVe,CenterDot:WVe,cfr:UVe,Cfr:XVe,CHcy:jVe,chcy:YVe,check:GVe,checkmark:KVe,Chi:JVe,chi:eZe,circ:tZe,circeq:rZe,circlearrowleft:nZe,circlearrowright:iZe,circledast:aZe,circledcirc:oZe,circleddash:sZe,CircleDot:lZe,circledR:uZe,circledS:cZe,CircleMinus:fZe,CirclePlus:hZe,CircleTimes:dZe,cir:pZe,cirE:mZe,cire:vZe,cirfnint:gZe,cirmid:OZe,cirscir:yZe,ClockwiseContourIntegral:bZe,CloseCurlyDoubleQuote:wZe,CloseCurlyQuote:kZe,clubs:SZe,clubsuit:xZe,colon:CZe,Colon:TZe,Colone:EZe,colone:MZe,coloneq:AZe,comma:DZe,commat:PZe,comp:RZe,compfn:NZe,complement:$Ze,complexes:LZe,cong:_Ze,congdot:IZe,Congruent:QZe,conint:BZe,Conint:qZe,ContourIntegral:FZe,copf:VZe,Copf:ZZe,coprod:zZe,Coproduct:HZe,copy:WZe,COPY:UZe,copysr:XZe,CounterClockwiseContourIntegral:jZe,crarr:YZe,cross:GZe,Cross:KZe,Cscr:JZe,cscr:eze,csub:tze,csube:rze,csup:nze,csupe:ize,ctdot:aze,cudarrl:oze,cudarrr:sze,cuepr:lze,cuesc:uze,cularr:cze,cularrp:fze,cupbrcap:hze,cupcap:dze,CupCap:pze,cup:mze,Cup:vze,cupcup:gze,cupdot:Oze,cupor:yze,cups:bze,curarr:wze,curarrm:kze,curlyeqprec:Sze,curlyeqsucc:xze,curlyvee:Cze,curlywedge:Tze,curren:Eze,curvearrowleft:Mze,curvearrowright:Aze,cuvee:Dze,cuwed:Pze,cwconint:Rze,cwint:Nze,cylcty:$ze,dagger:Lze,Dagger:_ze,daleth:Ize,darr:Qze,Darr:Bze,dArr:qze,dash:Fze,Dashv:Vze,dashv:Zze,dbkarow:zze,dblac:Hze,Dcaron:Wze,dcaron:Uze,Dcy:Xze,dcy:jze,ddagger:Yze,ddarr:Gze,DD:Kze,dd:Jze,DDotrahd:eHe,ddotseq:tHe,deg:rHe,Del:nHe,Delta:iHe,delta:aHe,demptyv:oHe,dfisht:sHe,Dfr:lHe,dfr:uHe,dHar:cHe,dharl:fHe,dharr:hHe,DiacriticalAcute:dHe,DiacriticalDot:pHe,DiacriticalDoubleAcute:mHe,DiacriticalGrave:vHe,DiacriticalTilde:gHe,diam:OHe,diamond:yHe,Diamond:bHe,diamondsuit:wHe,diams:kHe,die:SHe,DifferentialD:xHe,digamma:CHe,disin:THe,div:EHe,divide:MHe,divideontimes:AHe,divonx:DHe,DJcy:PHe,djcy:RHe,dlcorn:NHe,dlcrop:$He,dollar:LHe,Dopf:_He,dopf:IHe,Dot:QHe,dot:BHe,DotDot:qHe,doteq:FHe,doteqdot:VHe,DotEqual:ZHe,dotminus:zHe,dotplus:HHe,dotsquare:WHe,doublebarwedge:UHe,DoubleContourIntegral:XHe,DoubleDot:jHe,DoubleDownArrow:YHe,DoubleLeftArrow:GHe,DoubleLeftRightArrow:KHe,DoubleLeftTee:JHe,DoubleLongLeftArrow:eWe,DoubleLongLeftRightArrow:tWe,DoubleLongRightArrow:rWe,DoubleRightArrow:nWe,DoubleRightTee:iWe,DoubleUpArrow:aWe,DoubleUpDownArrow:oWe,DoubleVerticalBar:sWe,DownArrowBar:lWe,downarrow:uWe,DownArrow:cWe,Downarrow:fWe,DownArrowUpArrow:hWe,DownBreve:dWe,downdownarrows:pWe,downharpoonleft:mWe,downharpoonright:vWe,DownLeftRightVector:gWe,DownLeftTeeVector:OWe,DownLeftVectorBar:yWe,DownLeftVector:bWe,DownRightTeeVector:wWe,DownRightVectorBar:kWe,DownRightVector:SWe,DownTeeArrow:xWe,DownTee:CWe,drbkarow:TWe,drcorn:EWe,drcrop:MWe,Dscr:AWe,dscr:DWe,DScy:PWe,dscy:RWe,dsol:NWe,Dstrok:$We,dstrok:LWe,dtdot:_We,dtri:IWe,dtrif:QWe,duarr:BWe,duhar:qWe,dwangle:FWe,DZcy:VWe,dzcy:ZWe,dzigrarr:zWe,Eacute:HWe,eacute:WWe,easter:UWe,Ecaron:XWe,ecaron:jWe,Ecirc:YWe,ecirc:GWe,ecir:KWe,ecolon:JWe,Ecy:e3e,ecy:t3e,eDDot:r3e,Edot:n3e,edot:i3e,eDot:a3e,ee:o3e,efDot:s3e,Efr:l3e,efr:u3e,eg:c3e,Egrave:f3e,egrave:h3e,egs:d3e,egsdot:p3e,el:m3e,Element:v3e,elinters:g3e,ell:O3e,els:y3e,elsdot:b3e,Emacr:w3e,emacr:k3e,empty:S3e,emptyset:x3e,EmptySmallSquare:C3e,emptyv:T3e,EmptyVerySmallSquare:E3e,emsp13:M3e,emsp14:A3e,emsp:D3e,ENG:P3e,eng:R3e,ensp:N3e,Eogon:$3e,eogon:L3e,Eopf:_3e,eopf:I3e,epar:Q3e,eparsl:B3e,eplus:q3e,epsi:F3e,Epsilon:V3e,epsilon:Z3e,epsiv:z3e,eqcirc:H3e,eqcolon:W3e,eqsim:U3e,eqslantgtr:X3e,eqslantless:j3e,Equal:Y3e,equals:G3e,EqualTilde:K3e,equest:J3e,Equilibrium:eUe,equiv:tUe,equivDD:rUe,eqvparsl:nUe,erarr:iUe,erDot:aUe,escr:oUe,Escr:sUe,esdot:lUe,Esim:uUe,esim:cUe,Eta:fUe,eta:hUe,ETH:dUe,eth:pUe,Euml:mUe,euml:vUe,euro:gUe,excl:OUe,exist:yUe,Exists:bUe,expectation:wUe,exponentiale:kUe,ExponentialE:SUe,fallingdotseq:xUe,Fcy:CUe,fcy:TUe,female:EUe,ffilig:MUe,fflig:AUe,ffllig:DUe,Ffr:PUe,ffr:RUe,filig:NUe,FilledSmallSquare:$Ue,FilledVerySmallSquare:LUe,fjlig:_Ue,flat:IUe,fllig:QUe,fltns:BUe,fnof:qUe,Fopf:FUe,fopf:VUe,forall:ZUe,ForAll:zUe,fork:HUe,forkv:WUe,Fouriertrf:UUe,fpartint:XUe,frac12:jUe,frac13:YUe,frac14:GUe,frac15:KUe,frac16:JUe,frac18:e5e,frac23:t5e,frac25:r5e,frac34:n5e,frac35:i5e,frac38:a5e,frac45:o5e,frac56:s5e,frac58:l5e,frac78:u5e,frasl:c5e,frown:f5e,fscr:h5e,Fscr:d5e,gacute:p5e,Gamma:m5e,gamma:v5e,Gammad:g5e,gammad:O5e,gap:y5e,Gbreve:b5e,gbreve:w5e,Gcedil:k5e,Gcirc:S5e,gcirc:x5e,Gcy:C5e,gcy:T5e,Gdot:E5e,gdot:M5e,ge:A5e,gE:D5e,gEl:P5e,gel:R5e,geq:N5e,geqq:$5e,geqslant:L5e,gescc:_5e,ges:I5e,gesdot:Q5e,gesdoto:B5e,gesdotol:q5e,gesl:F5e,gesles:V5e,Gfr:Z5e,gfr:z5e,gg:H5e,Gg:W5e,ggg:U5e,gimel:X5e,GJcy:j5e,gjcy:Y5e,gla:G5e,gl:K5e,glE:J5e,glj:eXe,gnap:tXe,gnapprox:rXe,gne:nXe,gnE:iXe,gneq:aXe,gneqq:oXe,gnsim:sXe,Gopf:lXe,gopf:uXe,grave:cXe,GreaterEqual:fXe,GreaterEqualLess:hXe,GreaterFullEqual:dXe,GreaterGreater:pXe,GreaterLess:mXe,GreaterSlantEqual:vXe,GreaterTilde:gXe,Gscr:OXe,gscr:yXe,gsim:bXe,gsime:wXe,gsiml:kXe,gtcc:SXe,gtcir:xXe,gt:CXe,GT:TXe,Gt:EXe,gtdot:MXe,gtlPar:AXe,gtquest:DXe,gtrapprox:PXe,gtrarr:RXe,gtrdot:NXe,gtreqless:$Xe,gtreqqless:LXe,gtrless:_Xe,gtrsim:IXe,gvertneqq:QXe,gvnE:BXe,Hacek:qXe,hairsp:FXe,half:VXe,hamilt:ZXe,HARDcy:zXe,hardcy:HXe,harrcir:WXe,harr:UXe,hArr:XXe,harrw:jXe,Hat:YXe,hbar:GXe,Hcirc:KXe,hcirc:JXe,hearts:eje,heartsuit:tje,hellip:rje,hercon:nje,hfr:ije,Hfr:aje,HilbertSpace:oje,hksearow:sje,hkswarow:lje,hoarr:uje,homtht:cje,hookleftarrow:fje,hookrightarrow:hje,hopf:dje,Hopf:pje,horbar:mje,HorizontalLine:vje,hscr:gje,Hscr:Oje,hslash:yje,Hstrok:bje,hstrok:wje,HumpDownHump:kje,HumpEqual:Sje,hybull:xje,hyphen:Cje,Iacute:Tje,iacute:Eje,ic:Mje,Icirc:Aje,icirc:Dje,Icy:Pje,icy:Rje,Idot:Nje,IEcy:$je,iecy:Lje,iexcl:_je,iff:Ije,ifr:Qje,Ifr:Bje,Igrave:qje,igrave:Fje,ii:Vje,iiiint:Zje,iiint:zje,iinfin:Hje,iiota:Wje,IJlig:Uje,ijlig:Xje,Imacr:jje,imacr:Yje,image:Gje,ImaginaryI:Kje,imagline:Jje,imagpart:e4e,imath:t4e,Im:r4e,imof:n4e,imped:i4e,Implies:a4e,incare:o4e,in:"â",infin:s4e,infintie:l4e,inodot:u4e,intcal:c4e,int:f4e,Int:h4e,integers:d4e,Integral:p4e,intercal:m4e,Intersection:v4e,intlarhk:g4e,intprod:O4e,InvisibleComma:y4e,InvisibleTimes:b4e,IOcy:w4e,iocy:k4e,Iogon:S4e,iogon:x4e,Iopf:C4e,iopf:T4e,Iota:E4e,iota:M4e,iprod:A4e,iquest:D4e,iscr:P4e,Iscr:R4e,isin:N4e,isindot:$4e,isinE:L4e,isins:_4e,isinsv:I4e,isinv:Q4e,it:B4e,Itilde:q4e,itilde:F4e,Iukcy:V4e,iukcy:Z4e,Iuml:z4e,iuml:H4e,Jcirc:W4e,jcirc:U4e,Jcy:X4e,jcy:j4e,Jfr:Y4e,jfr:G4e,jmath:K4e,Jopf:J4e,jopf:eYe,Jscr:tYe,jscr:rYe,Jsercy:nYe,jsercy:iYe,Jukcy:aYe,jukcy:oYe,Kappa:sYe,kappa:lYe,kappav:uYe,Kcedil:cYe,kcedil:fYe,Kcy:hYe,kcy:dYe,Kfr:pYe,kfr:mYe,kgreen:vYe,KHcy:gYe,khcy:OYe,KJcy:yYe,kjcy:bYe,Kopf:wYe,kopf:kYe,Kscr:SYe,kscr:xYe,lAarr:CYe,Lacute:TYe,lacute:EYe,laemptyv:MYe,lagran:AYe,Lambda:DYe,lambda:PYe,lang:RYe,Lang:NYe,langd:$Ye,langle:LYe,lap:_Ye,Laplacetrf:IYe,laquo:QYe,larrb:BYe,larrbfs:qYe,larr:FYe,Larr:VYe,lArr:ZYe,larrfs:zYe,larrhk:HYe,larrlp:WYe,larrpl:UYe,larrsim:XYe,larrtl:jYe,latail:YYe,lAtail:GYe,lat:KYe,late:JYe,lates:eGe,lbarr:tGe,lBarr:rGe,lbbrk:nGe,lbrace:iGe,lbrack:aGe,lbrke:oGe,lbrksld:sGe,lbrkslu:lGe,Lcaron:uGe,lcaron:cGe,Lcedil:fGe,lcedil:hGe,lceil:dGe,lcub:pGe,Lcy:mGe,lcy:vGe,ldca:gGe,ldquo:OGe,ldquor:yGe,ldrdhar:bGe,ldrushar:wGe,ldsh:kGe,le:SGe,lE:xGe,LeftAngleBracket:CGe,LeftArrowBar:TGe,leftarrow:EGe,LeftArrow:MGe,Leftarrow:AGe,LeftArrowRightArrow:DGe,leftarrowtail:PGe,LeftCeiling:RGe,LeftDoubleBracket:NGe,LeftDownTeeVector:$Ge,LeftDownVectorBar:LGe,LeftDownVector:_Ge,LeftFloor:IGe,leftharpoondown:QGe,leftharpoonup:BGe,leftleftarrows:qGe,leftrightarrow:FGe,LeftRightArrow:VGe,Leftrightarrow:ZGe,leftrightarrows:zGe,leftrightharpoons:HGe,leftrightsquigarrow:WGe,LeftRightVector:UGe,LeftTeeArrow:XGe,LeftTee:jGe,LeftTeeVector:YGe,leftthreetimes:GGe,LeftTriangleBar:KGe,LeftTriangle:JGe,LeftTriangleEqual:e7e,LeftUpDownVector:t7e,LeftUpTeeVector:r7e,LeftUpVectorBar:n7e,LeftUpVector:i7e,LeftVectorBar:a7e,LeftVector:o7e,lEg:s7e,leg:l7e,leq:u7e,leqq:c7e,leqslant:f7e,lescc:h7e,les:d7e,lesdot:p7e,lesdoto:m7e,lesdotor:v7e,lesg:g7e,lesges:O7e,lessapprox:y7e,lessdot:b7e,lesseqgtr:w7e,lesseqqgtr:k7e,LessEqualGreater:S7e,LessFullEqual:x7e,LessGreater:C7e,lessgtr:T7e,LessLess:E7e,lesssim:M7e,LessSlantEqual:A7e,LessTilde:D7e,lfisht:P7e,lfloor:R7e,Lfr:N7e,lfr:$7e,lg:L7e,lgE:_7e,lHar:I7e,lhard:Q7e,lharu:B7e,lharul:q7e,lhblk:F7e,LJcy:V7e,ljcy:Z7e,llarr:z7e,ll:H7e,Ll:W7e,llcorner:U7e,Lleftarrow:X7e,llhard:j7e,lltri:Y7e,Lmidot:G7e,lmidot:K7e,lmoustache:J7e,lmoust:e9e,lnap:t9e,lnapprox:r9e,lne:n9e,lnE:i9e,lneq:a9e,lneqq:o9e,lnsim:s9e,loang:l9e,loarr:u9e,lobrk:c9e,longleftarrow:f9e,LongLeftArrow:h9e,Longleftarrow:d9e,longleftrightarrow:p9e,LongLeftRightArrow:m9e,Longleftrightarrow:v9e,longmapsto:g9e,longrightarrow:O9e,LongRightArrow:y9e,Longrightarrow:b9e,looparrowleft:w9e,looparrowright:k9e,lopar:S9e,Lopf:x9e,lopf:C9e,loplus:T9e,lotimes:E9e,lowast:M9e,lowbar:A9e,LowerLeftArrow:D9e,LowerRightArrow:P9e,loz:R9e,lozenge:N9e,lozf:$9e,lpar:L9e,lparlt:_9e,lrarr:I9e,lrcorner:Q9e,lrhar:B9e,lrhard:q9e,lrm:F9e,lrtri:V9e,lsaquo:Z9e,lscr:z9e,Lscr:H9e,lsh:W9e,Lsh:U9e,lsim:X9e,lsime:j9e,lsimg:Y9e,lsqb:G9e,lsquo:K9e,lsquor:J9e,Lstrok:e8e,lstrok:t8e,ltcc:r8e,ltcir:n8e,lt:i8e,LT:a8e,Lt:o8e,ltdot:s8e,lthree:l8e,ltimes:u8e,ltlarr:c8e,ltquest:f8e,ltri:h8e,ltrie:d8e,ltrif:p8e,ltrPar:m8e,lurdshar:v8e,luruhar:g8e,lvertneqq:O8e,lvnE:y8e,macr:b8e,male:w8e,malt:k8e,maltese:S8e,Map:"â¤",map:x8e,mapsto:C8e,mapstodown:T8e,mapstoleft:E8e,mapstoup:M8e,marker:A8e,mcomma:D8e,Mcy:P8e,mcy:R8e,mdash:N8e,mDDot:$8e,measuredangle:L8e,MediumSpace:_8e,Mellintrf:I8e,Mfr:Q8e,mfr:B8e,mho:q8e,micro:F8e,midast:V8e,midcir:Z8e,mid:z8e,middot:H8e,minusb:W8e,minus:U8e,minusd:X8e,minusdu:j8e,MinusPlus:Y8e,mlcp:G8e,mldr:K8e,mnplus:J8e,models:e6e,Mopf:t6e,mopf:r6e,mp:n6e,mscr:i6e,Mscr:a6e,mstpos:o6e,Mu:s6e,mu:l6e,multimap:u6e,mumap:c6e,nabla:f6e,Nacute:h6e,nacute:d6e,nang:p6e,nap:m6e,napE:v6e,napid:g6e,napos:O6e,napprox:y6e,natural:b6e,naturals:w6e,natur:k6e,nbsp:S6e,nbump:x6e,nbumpe:C6e,ncap:T6e,Ncaron:E6e,ncaron:M6e,Ncedil:A6e,ncedil:D6e,ncong:P6e,ncongdot:R6e,ncup:N6e,Ncy:$6e,ncy:L6e,ndash:_6e,nearhk:I6e,nearr:Q6e,neArr:B6e,nearrow:q6e,ne:F6e,nedot:V6e,NegativeMediumSpace:Z6e,NegativeThickSpace:z6e,NegativeThinSpace:H6e,NegativeVeryThinSpace:W6e,nequiv:U6e,nesear:X6e,nesim:j6e,NestedGreaterGreater:Y6e,NestedLessLess:G6e,NewLine:K6e,nexist:J6e,nexists:eKe,Nfr:tKe,nfr:rKe,ngE:nKe,nge:iKe,ngeq:aKe,ngeqq:oKe,ngeqslant:sKe,nges:lKe,nGg:uKe,ngsim:cKe,nGt:fKe,ngt:hKe,ngtr:dKe,nGtv:pKe,nharr:mKe,nhArr:vKe,nhpar:gKe,ni:OKe,nis:yKe,nisd:bKe,niv:wKe,NJcy:kKe,njcy:SKe,nlarr:xKe,nlArr:CKe,nldr:TKe,nlE:EKe,nle:MKe,nleftarrow:AKe,nLeftarrow:DKe,nleftrightarrow:PKe,nLeftrightarrow:RKe,nleq:NKe,nleqq:$Ke,nleqslant:LKe,nles:_Ke,nless:IKe,nLl:QKe,nlsim:BKe,nLt:qKe,nlt:FKe,nltri:VKe,nltrie:ZKe,nLtv:zKe,nmid:HKe,NoBreak:WKe,NonBreakingSpace:UKe,nopf:XKe,Nopf:jKe,Not:YKe,not:GKe,NotCongruent:KKe,NotCupCap:JKe,NotDoubleVerticalBar:eJe,NotElement:tJe,NotEqual:rJe,NotEqualTilde:nJe,NotExists:iJe,NotGreater:aJe,NotGreaterEqual:oJe,NotGreaterFullEqual:sJe,NotGreaterGreater:lJe,NotGreaterLess:uJe,NotGreaterSlantEqual:cJe,NotGreaterTilde:fJe,NotHumpDownHump:hJe,NotHumpEqual:dJe,notin:pJe,notindot:mJe,notinE:vJe,notinva:gJe,notinvb:OJe,notinvc:yJe,NotLeftTriangleBar:bJe,NotLeftTriangle:wJe,NotLeftTriangleEqual:kJe,NotLess:SJe,NotLessEqual:xJe,NotLessGreater:CJe,NotLessLess:TJe,NotLessSlantEqual:EJe,NotLessTilde:MJe,NotNestedGreaterGreater:AJe,NotNestedLessLess:DJe,notni:PJe,notniva:RJe,notnivb:NJe,notnivc:$Je,NotPrecedes:LJe,NotPrecedesEqual:_Je,NotPrecedesSlantEqual:IJe,NotReverseElement:QJe,NotRightTriangleBar:BJe,NotRightTriangle:qJe,NotRightTriangleEqual:FJe,NotSquareSubset:VJe,NotSquareSubsetEqual:ZJe,NotSquareSuperset:zJe,NotSquareSupersetEqual:HJe,NotSubset:WJe,NotSubsetEqual:UJe,NotSucceeds:XJe,NotSucceedsEqual:jJe,NotSucceedsSlantEqual:YJe,NotSucceedsTilde:GJe,NotSuperset:KJe,NotSupersetEqual:JJe,NotTilde:eet,NotTildeEqual:tet,NotTildeFullEqual:ret,NotTildeTilde:net,NotVerticalBar:iet,nparallel:aet,npar:oet,nparsl:set,npart:uet,npolint:cet,npr:fet,nprcue:het,nprec:det,npreceq:pet,npre:met,nrarrc:vet,nrarr:get,nrArr:Oet,nrarrw:yet,nrightarrow:bet,nRightarrow:wet,nrtri:ket,nrtrie:xet,nsc:Cet,nsccue:Tet,nsce:Eet,Nscr:Met,nscr:Aet,nshortmid:Det,nshortparallel:Pet,nsim:Ret,nsime:Net,nsimeq:$et,nsmid:Let,nspar:_et,nsqsube:Iet,nsqsupe:Qet,nsub:Bet,nsubE:qet,nsube:Fet,nsubset:Vet,nsubseteq:Zet,nsubseteqq:zet,nsucc:Het,nsucceq:Wet,nsup:Uet,nsupE:Xet,nsupe:jet,nsupset:Yet,nsupseteq:Get,nsupseteqq:Ket,ntgl:Jet,Ntilde:ett,ntilde:ttt,ntlg:rtt,ntriangleleft:ntt,ntrianglelefteq:itt,ntriangleright:att,ntrianglerighteq:ott,Nu:stt,nu:ltt,num:utt,numero:ctt,numsp:ftt,nvap:htt,nvdash:dtt,nvDash:ptt,nVdash:mtt,nVDash:vtt,nvge:gtt,nvgt:Ott,nvHarr:ytt,nvinfin:btt,nvlArr:wtt,nvle:ktt,nvlt:Stt,nvltrie:xtt,nvrArr:Ctt,nvrtrie:Ttt,nvsim:Ett,nwarhk:Mtt,nwarr:Att,nwArr:Dtt,nwarrow:Ptt,nwnear:Rtt,Oacute:Ntt,oacute:$tt,oast:Ltt,Ocirc:_tt,ocirc:Itt,ocir:Qtt,Ocy:Btt,ocy:qtt,odash:Ftt,Odblac:Vtt,odblac:Ztt,odiv:ztt,odot:Htt,odsold:Wtt,OElig:Utt,oelig:Xtt,ofcir:jtt,Ofr:Ytt,ofr:Gtt,ogon:Ktt,Ograve:Jtt,ograve:ert,ogt:trt,ohbar:rrt,ohm:nrt,oint:irt,olarr:art,olcir:ort,olcross:srt,oline:lrt,olt:urt,Omacr:crt,omacr:frt,Omega:hrt,omega:drt,Omicron:prt,omicron:mrt,omid:vrt,ominus:grt,Oopf:Ort,oopf:yrt,opar:brt,OpenCurlyDoubleQuote:wrt,OpenCurlyQuote:krt,operp:Srt,oplus:xrt,orarr:Crt,Or:Trt,or:Ert,ord:Mrt,order:Art,orderof:Drt,ordf:Prt,ordm:Rrt,origof:Nrt,oror:$rt,orslope:Lrt,orv:_rt,oS:Irt,Oscr:Qrt,oscr:Brt,Oslash:qrt,oslash:Frt,osol:Vrt,Otilde:Zrt,otilde:zrt,otimesas:Hrt,Otimes:Wrt,otimes:Urt,Ouml:Xrt,ouml:jrt,ovbar:Yrt,OverBar:Grt,OverBrace:Krt,OverBracket:Jrt,OverParenthesis:ent,para:tnt,parallel:rnt,par:nnt,parsim:int,parsl:ant,part:ont,PartialD:snt,Pcy:lnt,pcy:unt,percnt:cnt,period:fnt,permil:hnt,perp:dnt,pertenk:pnt,Pfr:mnt,pfr:vnt,Phi:gnt,phi:Ont,phiv:ynt,phmmat:bnt,phone:wnt,Pi:knt,pi:Snt,pitchfork:xnt,piv:Cnt,planck:Tnt,planckh:Ent,plankv:Mnt,plusacir:Ant,plusb:Dnt,pluscir:Pnt,plus:Rnt,plusdo:Nnt,plusdu:$nt,pluse:Lnt,PlusMinus:_nt,plusmn:Int,plussim:Qnt,plustwo:Bnt,pm:qnt,Poincareplane:Fnt,pointint:Vnt,popf:Znt,Popf:znt,pound:Hnt,prap:Wnt,Pr:Unt,pr:Xnt,prcue:jnt,precapprox:Ynt,prec:Gnt,preccurlyeq:Knt,Precedes:Jnt,PrecedesEqual:eit,PrecedesSlantEqual:tit,PrecedesTilde:rit,preceq:nit,precnapprox:iit,precneqq:ait,precnsim:oit,pre:sit,prE:lit,precsim:uit,prime:cit,Prime:fit,primes:hit,prnap:dit,prnE:pit,prnsim:mit,prod:vit,Product:git,profalar:Oit,profline:yit,profsurf:bit,prop:wit,Proportional:kit,Proportion:Sit,propto:xit,prsim:Cit,prurel:Tit,Pscr:Eit,pscr:Mit,Psi:Ait,psi:Dit,puncsp:Pit,Qfr:Rit,qfr:Nit,qint:$it,qopf:Lit,Qopf:_it,qprime:Iit,Qscr:Qit,qscr:Bit,quaternions:qit,quatint:Fit,quest:Vit,questeq:Zit,quot:zit,QUOT:Hit,rAarr:Wit,race:Uit,Racute:Xit,racute:jit,radic:Yit,raemptyv:Git,rang:Kit,Rang:Jit,rangd:eat,range:tat,rangle:rat,raquo:nat,rarrap:iat,rarrb:aat,rarrbfs:oat,rarrc:sat,rarr:lat,Rarr:uat,rArr:cat,rarrfs:fat,rarrhk:hat,rarrlp:dat,rarrpl:pat,rarrsim:mat,Rarrtl:vat,rarrtl:gat,rarrw:Oat,ratail:yat,rAtail:bat,ratio:wat,rationals:kat,rbarr:Sat,rBarr:xat,RBarr:Cat,rbbrk:Tat,rbrace:Eat,rbrack:Mat,rbrke:Aat,rbrksld:Dat,rbrkslu:Pat,Rcaron:Rat,rcaron:Nat,Rcedil:$at,rcedil:Lat,rceil:_at,rcub:Iat,Rcy:Qat,rcy:Bat,rdca:qat,rdldhar:Fat,rdquo:Vat,rdquor:Zat,rdsh:zat,real:Hat,realine:Wat,realpart:Uat,reals:Xat,Re:jat,rect:Yat,reg:Gat,REG:Kat,ReverseElement:Jat,ReverseEquilibrium:eot,ReverseUpEquilibrium:tot,rfisht:rot,rfloor:not,rfr:iot,Rfr:aot,rHar:oot,rhard:sot,rharu:lot,rharul:uot,Rho:cot,rho:fot,rhov:hot,RightAngleBracket:dot,RightArrowBar:pot,rightarrow:mot,RightArrow:vot,Rightarrow:got,RightArrowLeftArrow:Oot,rightarrowtail:yot,RightCeiling:bot,RightDoubleBracket:wot,RightDownTeeVector:kot,RightDownVectorBar:Sot,RightDownVector:xot,RightFloor:Cot,rightharpoondown:Tot,rightharpoonup:Eot,rightleftarrows:Mot,rightleftharpoons:Aot,rightrightarrows:Dot,rightsquigarrow:Pot,RightTeeArrow:Rot,RightTee:Not,RightTeeVector:$ot,rightthreetimes:Lot,RightTriangleBar:_ot,RightTriangle:Iot,RightTriangleEqual:Qot,RightUpDownVector:Bot,RightUpTeeVector:qot,RightUpVectorBar:Fot,RightUpVector:Vot,RightVectorBar:Zot,RightVector:zot,ring:Hot,risingdotseq:Wot,rlarr:Uot,rlhar:Xot,rlm:jot,rmoustache:Yot,rmoust:Got,rnmid:Kot,roang:Jot,roarr:est,robrk:tst,ropar:rst,ropf:nst,Ropf:ist,roplus:ast,rotimes:ost,RoundImplies:sst,rpar:lst,rpargt:ust,rppolint:cst,rrarr:fst,Rrightarrow:hst,rsaquo:dst,rscr:pst,Rscr:mst,rsh:vst,Rsh:gst,rsqb:Ost,rsquo:yst,rsquor:bst,rthree:wst,rtimes:kst,rtri:Sst,rtrie:xst,rtrif:Cst,rtriltri:Tst,RuleDelayed:Est,ruluhar:Mst,rx:Ast,Sacute:Dst,sacute:Pst,sbquo:Rst,scap:Nst,Scaron:$st,scaron:Lst,Sc:_st,sc:Ist,sccue:Qst,sce:Bst,scE:qst,Scedil:Fst,scedil:Vst,Scirc:Zst,scirc:zst,scnap:Hst,scnE:Wst,scnsim:Ust,scpolint:Xst,scsim:jst,Scy:Yst,scy:Gst,sdotb:Kst,sdot:Jst,sdote:elt,searhk:tlt,searr:rlt,seArr:nlt,searrow:ilt,sect:alt,semi:olt,seswar:slt,setminus:llt,setmn:ult,sext:clt,Sfr:flt,sfr:hlt,sfrown:dlt,sharp:plt,SHCHcy:mlt,shchcy:vlt,SHcy:glt,shcy:Olt,ShortDownArrow:ylt,ShortLeftArrow:blt,shortmid:wlt,shortparallel:klt,ShortRightArrow:Slt,ShortUpArrow:xlt,shy:Clt,Sigma:Tlt,sigma:Elt,sigmaf:Mlt,sigmav:Alt,sim:Dlt,simdot:Plt,sime:Rlt,simeq:Nlt,simg:$lt,simgE:Llt,siml:_lt,simlE:Ilt,simne:Qlt,simplus:Blt,simrarr:qlt,slarr:Flt,SmallCircle:Vlt,smallsetminus:Zlt,smashp:zlt,smeparsl:Hlt,smid:Wlt,smile:Ult,smt:Xlt,smte:jlt,smtes:Ylt,SOFTcy:Glt,softcy:Klt,solbar:Jlt,solb:eut,sol:tut,Sopf:rut,sopf:nut,spades:iut,spadesuit:aut,spar:out,sqcap:sut,sqcaps:lut,sqcup:uut,sqcups:cut,Sqrt:fut,sqsub:hut,sqsube:dut,sqsubset:put,sqsubseteq:mut,sqsup:vut,sqsupe:gut,sqsupset:Out,sqsupseteq:yut,square:but,Square:wut,SquareIntersection:kut,SquareSubset:Sut,SquareSubsetEqual:xut,SquareSuperset:Cut,SquareSupersetEqual:Tut,SquareUnion:Eut,squarf:Mut,squ:Aut,squf:Dut,srarr:Put,Sscr:Rut,sscr:Nut,ssetmn:$ut,ssmile:Lut,sstarf:_ut,Star:Iut,star:Qut,starf:But,straightepsilon:qut,straightphi:Fut,strns:Vut,sub:Zut,Sub:zut,subdot:Hut,subE:Wut,sube:Uut,subedot:Xut,submult:jut,subnE:Yut,subne:Gut,subplus:Kut,subrarr:Jut,subset:ect,Subset:tct,subseteq:rct,subseteqq:nct,SubsetEqual:ict,subsetneq:act,subsetneqq:oct,subsim:sct,subsub:lct,subsup:uct,succapprox:cct,succ:fct,succcurlyeq:hct,Succeeds:dct,SucceedsEqual:pct,SucceedsSlantEqual:mct,SucceedsTilde:vct,succeq:gct,succnapprox:Oct,succneqq:yct,succnsim:bct,succsim:wct,SuchThat:kct,sum:Sct,Sum:xct,sung:Cct,sup1:Tct,sup2:Ect,sup3:Mct,sup:Act,Sup:Dct,supdot:Pct,supdsub:Rct,supE:Nct,supe:$ct,supedot:Lct,Superset:_ct,SupersetEqual:Ict,suphsol:Qct,suphsub:Bct,suplarr:qct,supmult:Fct,supnE:Vct,supne:Zct,supplus:zct,supset:Hct,Supset:Wct,supseteq:Uct,supseteqq:Xct,supsetneq:jct,supsetneqq:Yct,supsim:Gct,supsub:Kct,supsup:Jct,swarhk:eft,swarr:tft,swArr:rft,swarrow:nft,swnwar:ift,szlig:aft,Tab:oft,target:sft,Tau:lft,tau:uft,tbrk:cft,Tcaron:fft,tcaron:hft,Tcedil:dft,tcedil:pft,Tcy:mft,tcy:vft,tdot:gft,telrec:Oft,Tfr:yft,tfr:bft,there4:wft,therefore:kft,Therefore:Sft,Theta:xft,theta:Cft,thetasym:Tft,thetav:Eft,thickapprox:Mft,thicksim:Aft,ThickSpace:Dft,ThinSpace:Pft,thinsp:Rft,thkap:Nft,thksim:$ft,THORN:Lft,thorn:_ft,tilde:Ift,Tilde:Qft,TildeEqual:Bft,TildeFullEqual:qft,TildeTilde:Fft,timesbar:Vft,timesb:Zft,times:zft,timesd:Hft,tint:Wft,toea:Uft,topbot:Xft,topcir:jft,top:Yft,Topf:Gft,topf:Kft,topfork:Jft,tosa:eht,tprime:tht,trade:rht,TRADE:nht,triangle:iht,triangledown:aht,triangleleft:oht,trianglelefteq:sht,triangleq:lht,triangleright:uht,trianglerighteq:cht,tridot:fht,trie:hht,triminus:dht,TripleDot:pht,triplus:mht,trisb:vht,tritime:ght,trpezium:Oht,Tscr:yht,tscr:bht,TScy:wht,tscy:kht,TSHcy:Sht,tshcy:xht,Tstrok:Cht,tstrok:Tht,twixt:Eht,twoheadleftarrow:Mht,twoheadrightarrow:Aht,Uacute:Dht,uacute:Pht,uarr:Rht,Uarr:Nht,uArr:$ht,Uarrocir:Lht,Ubrcy:_ht,ubrcy:Iht,Ubreve:Qht,ubreve:Bht,Ucirc:qht,ucirc:Fht,Ucy:Vht,ucy:Zht,udarr:zht,Udblac:Hht,udblac:Wht,udhar:Uht,ufisht:Xht,Ufr:jht,ufr:Yht,Ugrave:Ght,ugrave:Kht,uHar:Jht,uharl:edt,uharr:tdt,uhblk:rdt,ulcorn:ndt,ulcorner:idt,ulcrop:adt,ultri:odt,Umacr:sdt,umacr:ldt,uml:udt,UnderBar:cdt,UnderBrace:fdt,UnderBracket:hdt,UnderParenthesis:ddt,Union:pdt,UnionPlus:mdt,Uogon:vdt,uogon:gdt,Uopf:Odt,uopf:ydt,UpArrowBar:bdt,uparrow:wdt,UpArrow:kdt,Uparrow:Sdt,UpArrowDownArrow:xdt,updownarrow:Cdt,UpDownArrow:Tdt,Updownarrow:Edt,UpEquilibrium:Mdt,upharpoonleft:Adt,upharpoonright:Ddt,uplus:Pdt,UpperLeftArrow:Rdt,UpperRightArrow:Ndt,upsi:$dt,Upsi:Ldt,upsih:_dt,Upsilon:Idt,upsilon:Qdt,UpTeeArrow:Bdt,UpTee:qdt,upuparrows:Fdt,urcorn:Vdt,urcorner:Zdt,urcrop:zdt,Uring:Hdt,uring:Wdt,urtri:Udt,Uscr:Xdt,uscr:jdt,utdot:Ydt,Utilde:Gdt,utilde:Kdt,utri:Jdt,utrif:ept,uuarr:tpt,Uuml:rpt,uuml:npt,uwangle:ipt,vangrt:apt,varepsilon:opt,varkappa:spt,varnothing:lpt,varphi:upt,varpi:cpt,varpropto:fpt,varr:hpt,vArr:dpt,varrho:ppt,varsigma:mpt,varsubsetneq:vpt,varsubsetneqq:gpt,varsupsetneq:Opt,varsupsetneqq:ypt,vartheta:bpt,vartriangleleft:wpt,vartriangleright:kpt,vBar:Spt,Vbar:xpt,vBarv:Cpt,Vcy:Tpt,vcy:Ept,vdash:Mpt,vDash:Apt,Vdash:Dpt,VDash:Ppt,Vdashl:Rpt,veebar:Npt,vee:$pt,Vee:Lpt,veeeq:_pt,vellip:Ipt,verbar:Qpt,Verbar:Bpt,vert:qpt,Vert:Fpt,VerticalBar:Vpt,VerticalLine:Zpt,VerticalSeparator:zpt,VerticalTilde:Hpt,VeryThinSpace:Wpt,Vfr:Upt,vfr:Xpt,vltri:jpt,vnsub:Ypt,vnsup:Gpt,Vopf:Kpt,vopf:Jpt,vprop:emt,vrtri:tmt,Vscr:rmt,vscr:nmt,vsubnE:imt,vsubne:amt,vsupnE:omt,vsupne:smt,Vvdash:lmt,vzigzag:umt,Wcirc:cmt,wcirc:fmt,wedbar:hmt,wedge:dmt,Wedge:pmt,wedgeq:mmt,weierp:vmt,Wfr:gmt,wfr:Omt,Wopf:ymt,wopf:bmt,wp:wmt,wr:kmt,wreath:Smt,Wscr:xmt,wscr:Cmt,xcap:Tmt,xcirc:Emt,xcup:Mmt,xdtri:Amt,Xfr:Dmt,xfr:Pmt,xharr:Rmt,xhArr:Nmt,Xi:$mt,xi:Lmt,xlarr:_mt,xlArr:Imt,xmap:Qmt,xnis:Bmt,xodot:qmt,Xopf:Fmt,xopf:Vmt,xoplus:Zmt,xotime:zmt,xrarr:Hmt,xrArr:Wmt,Xscr:Umt,xscr:Xmt,xsqcup:jmt,xuplus:Ymt,xutri:Gmt,xvee:Kmt,xwedge:Jmt,Yacute:evt,yacute:tvt,YAcy:rvt,yacy:nvt,Ycirc:ivt,ycirc:avt,Ycy:ovt,ycy:svt,yen:lvt,Yfr:uvt,yfr:cvt,YIcy:fvt,yicy:hvt,Yopf:dvt,yopf:pvt,Yscr:mvt,yscr:vvt,YUcy:gvt,yucy:Ovt,yuml:yvt,Yuml:bvt,Zacute:wvt,zacute:kvt,Zcaron:Svt,zcaron:xvt,Zcy:Cvt,zcy:Tvt,Zdot:Evt,zdot:Mvt,zeetrf:Avt,ZeroWidthSpace:Dvt,Zeta:Pvt,zeta:Rvt,zfr:Nvt,Zfr:$vt,ZHcy:Lvt,zhcy:_vt,zigrarr:Ivt,zopf:Qvt,Zopf:Bvt,Zscr:qvt,zscr:Fvt,zwj:Vvt,zwnj:Zvt},zvt="Ã",Hvt="Ã¡",Wvt="Ã",Uvt="Ã¢",Xvt="Â´",jvt="Ã",Yvt="Ã¦",Gvt="Ã",Kvt="Ã ",Jvt="&",egt="&",tgt="Ã",rgt="Ã¥",ngt="Ã",igt="Ã£",agt="Ã",ogt="Ã¤",sgt="Â¦",lgt="Ã",ugt="Ã§",cgt="Â¸",fgt="Â¢",hgt="Â©",dgt="Â©",pgt="Â¤",mgt="Â°",vgt="Ã·",ggt="Ã",Ogt="Ã©",ygt="Ã",bgt="Ãª",wgt="Ã",kgt="Ã¨",Sgt="Ã",xgt="Ã°",Cgt="Ã",Tgt="Ã«",Egt="Â½",Mgt="Â¼",Agt="Â¾",Dgt=">",Pgt=">",Rgt="Ã",Ngt="Ã­",$gt="Ã",Lgt="Ã®",_gt="Â¡",Igt="Ã",Qgt="Ã¬",Bgt="Â¿",qgt="Ã",Fgt="Ã¯",Vgt="Â«",Zgt="<",zgt="<",Hgt="Â¯",Wgt="Âµ",Ugt="Â·",Xgt="Â ",jgt="Â¬",Ygt="Ã",Ggt="Ã±",Kgt="Ã",Jgt="Ã³",eOt="Ã",tOt="Ã´",rOt="Ã",nOt="Ã²",iOt="Âª",aOt="Âº",oOt="Ã",sOt="Ã¸",lOt="Ã",uOt="Ãµ",cOt="Ã",fOt="Ã¶",hOt="Â¶",dOt="Â±",pOt="Â£",mOt='"',vOt='"',gOt="Â»",OOt="Â®",yOt="Â®",bOt="Â§",wOt="Â­",kOt="Â¹",SOt="Â²",xOt="Â³",COt="Ã",TOt="Ã",EOt="Ã¾",MOt="Ã",AOt="Ã",DOt="Ãº",POt="Ã",ROt="Ã»",NOt="Ã",$Ot="Ã¹",LOt="Â¨",_Ot="Ã",IOt="Ã¼",QOt="Ã",BOt="Ã½",qOt="Â¥",FOt="Ã¿",VOt={Aacute:zvt,aacute:Hvt,Acirc:Wvt,acirc:Uvt,acute:Xvt,AElig:jvt,aelig:Yvt,Agrave:Gvt,agrave:Kvt,amp:Jvt,AMP:egt,Aring:tgt,aring:rgt,Atilde:ngt,atilde:igt,Auml:agt,auml:ogt,brvbar:sgt,Ccedil:lgt,ccedil:ugt,cedil:cgt,cent:fgt,copy:hgt,COPY:dgt,curren:pgt,deg:mgt,divide:vgt,Eacute:ggt,eacute:Ogt,Ecirc:ygt,ecirc:bgt,Egrave:wgt,egrave:kgt,ETH:Sgt,eth:xgt,Euml:Cgt,euml:Tgt,frac12:Egt,frac14:Mgt,frac34:Agt,gt:Dgt,GT:Pgt,Iacute:Rgt,iacute:Ngt,Icirc:$gt,icirc:Lgt,iexcl:_gt,Igrave:Igt,igrave:Qgt,iquest:Bgt,Iuml:qgt,iuml:Fgt,laquo:Vgt,lt:Zgt,LT:zgt,macr:Hgt,micro:Wgt,middot:Ugt,nbsp:Xgt,not:jgt,Ntilde:Ygt,ntilde:Ggt,Oacute:Kgt,oacute:Jgt,Ocirc:eOt,ocirc:tOt,Ograve:rOt,ograve:nOt,ordf:iOt,ordm:aOt,Oslash:oOt,oslash:sOt,Otilde:lOt,otilde:uOt,Ouml:cOt,ouml:fOt,para:hOt,plusmn:dOt,pound:pOt,quot:mOt,QUOT:vOt,raquo:gOt,reg:OOt,REG:yOt,sect:bOt,shy:wOt,sup1:kOt,sup2:SOt,sup3:xOt,szlig:COt,THORN:TOt,thorn:EOt,times:MOt,Uacute:AOt,uacute:DOt,Ucirc:POt,ucirc:ROt,Ugrave:NOt,ugrave:$Ot,uml:LOt,Uuml:_Ot,uuml:IOt,Yacute:QOt,yacute:BOt,yen:qOt,yuml:FOt},ZOt="&",zOt="'",HOt=">",WOt="<",UOt='"',J5={amp:ZOt,apos:zOt,gt:HOt,lt:WOt,quot:UOt},z$={},XOt={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},jOt=Xp&&Xp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(z$,"__esModule",{value:!0});var Tq=jOt(XOt),YOt=String.fromCodePoint||function(r){var e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function GOt(r){return r>=55296&&r<=57343||r>1114111?"ï¿½":(r in Tq.default&&(r=Tq.default[r]),YOt(r))}z$.default=GOt;var vk=Xp&&Xp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.decodeHTML=Gu.decodeHTMLStrict=Gu.decodeXML=void 0;var PR=vk(K5),KOt=vk(VOt),JOt=vk(J5),Eq=vk(z$),eyt=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;Gu.decodeXML=eX(JOt.default);Gu.decodeHTMLStrict=eX(PR.default);function eX(r){var e=tX(r);return function(t){return String(t).replace(eyt,e)}}var Mq=function(r,e){return r<e?1:-1};Gu.decodeHTML=function(){for(var r=Object.keys(KOt.default).sort(Mq),e=Object.keys(PR.default).sort(Mq),t=0,n=0;t<e.length;t++)r[n]===e[t]?(e[t]+=";?",n++):e[t]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=tX(PR.default);function o(s){return s.substr(-1)!==";"&&(s+=";"),a(s)}return function(s){return String(s).replace(i,o)}}();function tX(r){return function(t){if(t.charAt(1)==="#"){var n=t.charAt(2);return n==="X"||n==="x"?Eq.default(parseInt(t.substr(3),16)):Eq.default(parseInt(t.substr(2),10))}return r[t.slice(1,-1)]||t}}var Wo={},rX=Xp&&Xp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.escapeUTF8=Wo.escape=Wo.encodeNonAsciiHTML=Wo.encodeHTML=Wo.encodeXML=void 0;var tyt=rX(J5),nX=aX(tyt.default),iX=oX(nX);Wo.encodeXML=uX(nX);var ryt=rX(K5),H$=aX(ryt.default),nyt=oX(H$);Wo.encodeHTML=ayt(H$,nyt);Wo.encodeNonAsciiHTML=uX(H$);function aX(r){return Object.keys(r).sort().reduce(function(e,t){return e[r[t]]="&"+t+";",e},{})}function oX(r){for(var e=[],t=[],n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];a.length===1?e.push("\\"+a):t.push(a)}e.sort();for(var o=0;o<e.length-1;o++){for(var s=o;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var l=1+s-o;l<3||e.splice(o,l,e[o]+"-"+e[s])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}var sX=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,iyt=String.prototype.codePointAt!=null?function(r){return r.codePointAt(0)}:function(r){return(r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536};function gk(r){return"&#x"+(r.length>1?iyt(r):r.charCodeAt(0)).toString(16).toUpperCase()+";"}function ayt(r,e){return function(t){return t.replace(e,function(n){return r[n]}).replace(sX,gk)}}var lX=new RegExp(iX.source+"|"+sX.source,"g");function oyt(r){return r.replace(lX,gk)}Wo.escape=oyt;function syt(r){return r.replace(iX,gk)}Wo.escapeUTF8=syt;function uX(r){return function(e){return e.replace(lX,function(t){return r[t]||gk(t)})}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeXMLStrict=r.decodeHTML5Strict=r.decodeHTML4Strict=r.decodeHTML5=r.decodeHTML4=r.decodeHTMLStrict=r.decodeHTML=r.decodeXML=r.encodeHTML5=r.encodeHTML4=r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=r.encode=r.decodeStrict=r.decode=void 0;var e=Gu,t=Wo;function n(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTML)(l)}r.decode=n;function i(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTMLStrict)(l)}r.decodeStrict=i;function a(l,u){return(!u||u<=0?t.encodeXML:t.encodeHTML)(l)}r.encode=a;var o=Wo;Object.defineProperty(r,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(r,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(r,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(r,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(r,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(r,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var s=Gu;Object.defineProperty(r,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(r,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(r,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(r,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})})(Z$);var cX="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",lyt=92,uyt=/[\\&]/,W$="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",cyt=new RegExp("\\\\"+W$+"|"+cX,"gi"),fyt='[&<>"]',Aq=new RegExp(fyt,"g"),hyt=function(r){return r.charCodeAt(0)===lyt?r.charAt(1):Z$.decodeHTML(r)};function yg(r){return uyt.test(r)?r.replace(cyt,hyt):r}function o0(r){try{return x2e(r)}catch{return r}}function dyt(r){switch(r){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return r}}function ap(r){return Aq.test(r)?r.replace(Aq,dyt):r}function RR(r,e){for(var t=[],n=0;n<e;n++)t.push(r);return t.join("")}function Dq(r){return r?!/[^ \t]+/.test(r):!0}var pyt=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.next=function(){var e=this.current,t=this.entering;if(e===null)return null;var n=U$(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},r.prototype.resumeAt=function(e,t){this.current=e,this.entering=t===!0},r}();function U$(r){switch(r.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var myt=1,Ok={};function vyt(r){return Ok[r]}function NR(r){delete Ok[r]}function gyt(){Ok={}}var TO=function(){function r(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=myt++,this.type=e,this.sourcepos=t,Ok[this.id]=this}return r.prototype.isContainer=function(){return U$(this)},r.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},r.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},r.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},r.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},r.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},r.prototype.walker=function(){return new pyt(this)},r}(),hc=function(r){$s(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=t,i}return e}(TO),Oyt=function(r){$s(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.listData=null,t}return e}(hc),yyt=function(r){$s(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return e}(hc),byt=function(r){$s(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return e}(hc),wyt=function(r){$s(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.columns=[],t}return e}(hc),kyt=function(r){$s(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return e}(hc),Syt=function(r){$s(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return e}(hc),xyt=function(r){$s(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return e}(hc),Cyt=function(r){$s(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return e}(hc),Tyt=function(r){$s(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return e}(TO),Eyt=function(r){$s(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.tickCount=0,t}return e}(TO),Myt=function(r){$s(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.info="",t}return e}(TO);function jn(r,e){switch(r){case"heading":return new yyt(r,e);case"list":case"item":return new Oyt(r,e);case"link":case"image":return new Tyt(r,e);case"codeBlock":return new byt(r,e);case"htmlBlock":return new Cyt(r,e);case"table":return new wyt(r,e);case"tableCell":return new kyt(r,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new hc(r,e);case"code":return new Eyt(r,e);case"refDef":return new Syt(r,e);case"customBlock":return new xyt(r,e);case"customInline":return new Myt(r,e);default:return new TO(r,e)}}function fX(r){return r.type==="codeBlock"}function Ayt(r){return r.type==="htmlBlock"}function Dyt(r){return r.type==="heading"}function Pq(r){return r.type==="list"}function Pyt(r){return r.type==="table"}function jd(r){return r.type==="refDef"}function hX(r){return r.type==="customBlock"}function Ryt(r){return r.type==="customInline"}function yi(r,e){var t=jn("text",e);return t.literal=r,t}var dX="[A-Za-z][A-Za-z0-9-]*",Nyt="[a-zA-Z_:][a-zA-Z0-9:._-]*",$yt="[^\"'=<>`\\x00-\\x20]+",Lyt="'[^']*'",_yt='"[^"]*"',Iyt="(?:"+$yt+"|"+Lyt+"|"+_yt+")",Qyt="(?:\\s*=\\s*"+Iyt+")",Byt="(?:\\s+"+Nyt+Qyt+"?)",pX="<"+dX+Byt+"*\\s*/?>",mX="</"+dX+"\\s*[>]",qyt="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",Fyt="[<][?].*?[?][>]",Vyt="<![A-Z]+\\s+[^>]*>",Zyt="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",zyt="(?:"+pX+"|"+mX+"|"+qyt+"|"+Fyt+"|"+Vyt+"|"+Zyt+")",Hyt=new RegExp("^"+zyt,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var $R;if(String.fromCodePoint)$R=function(r){try{return String.fromCodePoint(r)}catch(e){if(e instanceof RangeError)return"ï¿½";throw e}};else{var Wyt=String.fromCharCode,Uyt=Math.floor;$R=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=16384,n=[],i,a,o=-1,s=r.length;if(!s)return"";for(var l="";++o<s;){var u=Number(r[o]);if(!isFinite(u)||u<0||u>1114111||Uyt(u)!==u)return"ï¿½";u<=65535?n.push(u):(u-=65536,i=(u>>10)+55296,a=u%1024+56320,n.push(i,a)),(o+1===s||n.length>t)&&(l+=Wyt.apply(void 0,n),n.length=0)}return l}}var vD=$R,Xyt="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",jyt="[^<\\s]*[^<?!.,:*_?~\\s]",Yyt="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function Gyt(r){var e=/\)+$/.exec(r);if(e){for(var t=0,n=0,i=r;n<i.length;n++){var a=i[n];a==="("?t<0?t=1:t+=1:a===")"&&(t-=1)}if(t<0){var o=Math.min(-t,e[0].length);return r.substring(0,r.length-o)}}return r}function Kyt(r){return r.replace(/&[A-Za-z0-9]+;$/,"")}function Jyt(r){for(var e=new RegExp(Yyt,"g"),t=[],n;n=e.exec(r);){var i=n[0];/[_-]+$/.test(i)||t.push({text:i,range:[n.index,n.index+i.length-1],url:"mailto:"+i})}return t}function ebt(r){for(var e=new RegExp("(www|https?://)."+Xyt+jyt,"g"),t=[],n;n=e.exec(r);){var i=Kyt(Gyt(n[0])),a=n[1]==="www"?"http://":"";t.push({text:i,range:[n.index,n.index+i.length-1],url:""+a+i})}return t}function tbt(r){return DR(DR([],ebt(r)),Jyt(r)).sort(function(e,t){return e.range[0]-t.range[0]})}function rbt(r,e){typeof e=="boolean"&&(e=tbt);for(var t,n=function(){var i=t.entering,a=t.node;if(i&&a.type==="text"&&a.parent.type!=="link"){var o=a.literal,s=e(o);if(!s||!s.length)return"continue";for(var l=0,u=a.sourcepos[0],c=u[0],h=u[1],p=function(pe,be){return[[c,h+pe],[c,h+be]]},g=[],O=0,T=s;O<T.length;O++){var M=T[O],R=M.range,z=M.url,U=M.text;R[0]>l&&g.push(yi(o.substring(l,R[0]),p(l,R[0]-1)));var G=jn("link",p.apply(void 0,R));G.appendChild(yi(U,p.apply(void 0,R))),G.destination=z,G.extendedAutolink=!0,g.push(G),l=R[1]+1}l<o.length&&g.push(yi(o.substring(l),p(l,o.length-1)));for(var J=0,ee=g;J<ee.length;J++){var le=ee[J];a.insertBefore(le)}a.unlink()}};t=r.next();)n()}function d1(r){return r[r.length-1]}function Rq(r){return r.slice(1,r.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function s0(r,e){Object.keys(r).forEach(function(t){e(t,r[t])})}function nbt(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=Ui({},r);return e.forEach(function(i){delete n[i]}),n}function Yd(r){return!Object.keys(r).length}function ibt(r){Object.keys(r).forEach(function(e){delete r[e]})}var LR=10,gD=42,l0=95,abt=96,Nq=91,obt=93,u0=126,$q=60,sbt=33,Lq=92,lbt=38,_q=40,OD=41,ubt=58,th=39,rh=34,nh=36,yD="\\\\"+W$,Iq=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),cbt=new RegExp('^(?:"('+yD+'|[^"\\x00])*"|'+("'("+yD+"|[^'\\x00])*'")+"|"+("\\(("+yD+"|[^()\\x00])*\\))")),fbt=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,Qq=new RegExp("^"+W$),hbt=new RegExp("^"+cX,"i"),dbt=/`+/,pbt=/^`+/,mbt=/\.\.\./g,vbt=/--+/g,gbt=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Obt=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,ybt=/^ *(?:\n *)?/,bD=/^[ \t\n\x0b\x0c\x0d]/,Bq=/^\s/,bbt=/ *$/,wbt=/^ */,qq=/^ *(?:\n|$)/,kbt=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,Sbt=/^[^\n`\[\]\\!<&*_'"~$]+/m,xbt=function(){function r(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return r.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,a=[i,e+n];return typeof t=="number"?[a,[i,t+n]]:a},r.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},r.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return t===null?null:(this.pos+=t.index+t[0].length,t[0])},r.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},r.prototype.spnl=function(){return this.match(ybt),!0},r.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(pbt);if(n===null)return!1;for(var i=this.pos,a;(a=this.match(dbt))!==null;)if(a===n){var o=this.subject.slice(i,this.pos-n.length),s=this.sourcepos(t,this.pos),l=o.split(`
`);if(l.length>1){var u=d1(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-u.length-n.length),s[1]=this.sourcepos(this.pos),o=l.join(" ")}var c=jn("code",s);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?c.literal=o.slice(1,o.length-1):c.literal=o,c.tickCount=n.length,e.appendChild(c),!0}return this.pos=i,e.appendChild(yi(n,this.sourcepos(t,this.pos-1))),!0},r.prototype.parseBackslash=function(e){var t=this.subject,n;this.pos+=1;var i=this.pos;return this.peek()===LR?(this.pos+=1,n=jn("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):Qq.test(t.charAt(this.pos))?(e.appendChild(yi(t.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(yi("\\",this.sourcepos(i,i))),!0},r.prototype.parseAutolink=function(e){var t,n,i,a=this.pos+1;return(t=this.match(gbt))?(n=t.slice(1,t.length-1),i=jn("link",this.sourcepos(a,this.pos)),i.destination=o0("mailto:"+n),i.title="",i.appendChild(yi(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):(t=this.match(Obt))?(n=t.slice(1,t.length-1),i=jn("link",this.sourcepos(a,this.pos)),i.destination=o0(n),i.title="",i.appendChild(yi(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):!1},r.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(Hyt);if(n===null)return!1;var i=jn("htmlInline",this.sourcepos(t,this.pos));return i.literal=n,e.appendChild(i),!0},r.prototype.scanDelims=function(e){var t=0,n=this.pos;if(e===th||e===rh)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(t===0||t<2&&(e===u0||e===nh))return this.pos=n,null;var i=n===0?`
`:this.subject.charAt(n-1),a=this.peek(),o;a===-1?o=`
`:o=vD(a);var s=Bq.test(o),l=Iq.test(o),u=Bq.test(i),c=Iq.test(i),h=!s&&(!l||u||c),p=!u&&(!c||s||l),g,O;return e===l0?(g=h&&(!p||c),O=p&&(!h||l)):e===th||e===rh?(g=h&&!p,O=p):e===nh?(g=!s,O=!u):(g=h,O=p),this.pos=n,{numdelims:t,canOpen:g,canClose:O}},r.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var i=n.numdelims,a=this.pos+1,o;this.pos+=i,e===th?o="â":e===rh?o="â":o=this.subject.slice(a-1,this.pos);var s=yi(o,this.sourcepos(a,this.pos));return t.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||e!==th&&e!==rh)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},r.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},r.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},r.prototype.processEmphasis=function(e){var t,n,i,a,o,s,l,u=!1,c=(t={},t[l0]=[e,e,e],t[gD]=[e,e,e],t[th]=[e],t[rh]=[e],t[u0]=[e],t[nh]=[e],t);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var h=i.cc,p=h===l0||h===gD;if(!i.canClose)i=i.next;else{for(n=i.previous,l=!1;n!==null&&n!==e&&n!==c[h][p?i.origdelims%3:0];){if(u=p&&(i.canOpen||n.canClose)&&i.origdelims%3!==0&&(n.origdelims+i.origdelims)%3===0,n.cc===i.cc&&n.canOpen&&!u){l=!0;break}n=n.previous}if(a=i,p||h===u0||h===nh){if(!l)i=i.next;else if(n){var g=i.numdelims>=2&&n.numdelims>=2?2:1,O=p?0:1;o=n.node,s=i.node;var T=p?g===1?"emph":"strong":"strike";h===nh&&(T="customInline");var M=jn(T),R=o.sourcepos[1],z=s.sourcepos[0];M.sourcepos=[[R[0],R[1]-g+1],[z[0],z[1]+g-1]],o.sourcepos[1][1]-=g,s.sourcepos[0][1]+=g,o.literal=o.literal.slice(g),s.literal=s.literal.slice(g),n.numdelims-=g,i.numdelims-=g;for(var U=o.next,G=void 0;U&&U!==s;)G=U.next,U.unlink(),M.appendChild(U),U=G;if(h===nh){var J=M.firstChild,ee=J.literal||"",le=ee.split(/\s/)[0];M.info=le,ee.length<=le.length?J.unlink():(J.sourcepos[0][1]+=le.length,J.literal=ee.replace(le+" ",""))}if(o.insertAfter(M),this.removeDelimitersBetween(n,i),n.numdelims<=O&&(n.numdelims===0&&o.unlink(),this.removeDelimiter(n)),i.numdelims<=O){i.numdelims===0&&s.unlink();var pe=i.next;this.removeDelimiter(i),i=pe}}}else h===th?(i.node.literal="â",l&&(n.node.literal="â"),i=i.next):h===rh&&(i.node.literal="â",l&&(n.node.literal="â"),i=i.next);l||(c[h][p?a.origdelims%3:0]=a.previous,a.canOpen||this.removeDelimiter(a))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},r.prototype.parseLinkTitle=function(){var e=this.match(cbt);return e===null?null:yg(e.substr(1,e.length-2))},r.prototype.parseLinkDestination=function(){var e=this.match(fbt);if(e===null){if(this.peek()===$q)return null;for(var t=this.pos,n=0,i=void 0;(i=this.peek())!==-1;)if(i===Lq&&Qq.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===_q)this.pos+=1,n+=1;else if(i===OD){if(n<1)break;this.pos+=1,n-=1}else{if(bD.exec(vD(i))!==null)break;this.pos+=1}return this.pos===t&&i!==OD||n!==0?null:(e=this.subject.substr(t,this.pos-t),o0(yg(e)))}return o0(yg(e.substr(1,e.length-2)))},r.prototype.parseLinkLabel=function(){var e=this.match(kbt);return e===null||e.length>1001?0:e.length},r.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=yi("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},r.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===Nq){this.pos+=1;var n=yi("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else{var n=yi("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},r.prototype.parseCloseBracket=function(e){var t=null,n=null,i=!1;this.pos+=1;var a=this.pos,o=this.brackets;if(o===null)return e.appendChild(yi("]",this.sourcepos(a,a))),!0;if(!o.active)return e.appendChild(yi("]",this.sourcepos(a,a))),this.removeBracket(),!0;var s=o.image,l=this.pos;this.peek()===_q&&(this.pos++,this.spnl()&&(t=this.parseLinkDestination())!==null&&this.spnl()&&(bD.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===OD?(this.pos+=1,i=!0):this.pos=l);var u="";if(!i){var c=this.pos,h=this.parseLinkLabel();if(h>2?u=this.subject.slice(c,c+h):o.bracketAfter||(u=this.subject.slice(o.index,a)),h===0&&(this.pos=l),u){u=Rq(u);var p=this.refMap[u];p&&(t=p.destination,n=p.title,i=!0)}}if(i){var g=jn(s?"image":"link");g.destination=t,g.title=n||"",g.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var O=o.node.next,T=void 0;O;)T=O.next,O.unlink(),g.appendChild(O),O=T;if(e.appendChild(g),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!s)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0}return this.removeBracket(),this.pos=a,e.appendChild(yi("]",this.sourcepos(a,a))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0},r.prototype.addBracket=function(e,t,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},r.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},r.prototype.parseEntity=function(e){var t,n=this.pos+1;return(t=this.match(hbt))?(e.appendChild(yi(Z$.decodeHTML(t),this.sourcepos(n,this.pos))),!0):!1},r.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(Sbt)){if(this.options.smart){var i=t.replace(mbt,"â¦").replace(vbt,function(o){var s=0,l=0;return o.length%3===0?l=o.length/3:o.length%2===0?s=o.length/2:o.length%3===2?(s=1,l=(o.length-2)/3):(s=2,l=(o.length-4)/3),RR("â",l)+RR("â",s)});e.appendChild(yi(i,this.sourcepos(n,this.pos)))}else{var a=yi(t,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},r.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&t.type==="text"&&t.literal[t.literal.length-1]===" "){var n=t.literal[t.literal.length-2]===" ",i=t.literal.length;t.literal=t.literal.replace(bbt,"");var a=i-t.literal.length;t.sourcepos[1][1]-=a,e.appendChild(jn(n?"linebreak":"softbreak",this.sourcepos(this.pos-a,this.pos)))}else e.appendChild(jn("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(wbt),!0},r.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,i=this.pos,a=this.parseLinkLabel();if(a===0)return 0;var o=this.subject.substr(0,a);if(this.peek()===ubt)this.pos++;else return this.pos=i,0;this.spnl();var s=this.parseLinkDestination();if(s===null)return this.pos=i,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=l);var u=!0;if(this.match(qq)===null&&(n===""?u=!1:(n="",this.pos=l,u=this.match(qq)!==null)),!u)return this.pos=i,0;var c=Rq(o);if(c==="")return this.pos=i,0;var h=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=h[1][0]+1;var p=jn("refDef",h);return p.title=n,p.dest=s,p.label=c,e.insertBefore(p),t[c]?this.refDefCandidateMap[p.id]=p:t[c]=QR(p),this.pos-i},r.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var i=t.entering,a=t.node;if(i&&a.type==="text")n.push(a);else if(n.length===1)n=[];else if(n.length>1){var o=n[0],s=n[n.length-1];o.sourcepos&&s.sourcepos&&(o.sourcepos[1]=s.sourcepos[1]),o.next=s.next,o.next&&(o.next.prev=o);for(var l=1;l<n.length;l+=1)o.literal+=n[l].literal,n[l].unlink();n=[]}}},r.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,i=0,a={line:0,ch:0},o=0;o<t.length;o+=1){var s=t[o];if(bD.test(s))break;if(/\:/.test(s)&&i===0){if(n)break;var l=s.indexOf(":")===s.length-1?o+1:o;a={line:l,ch:t[l].length},n=!0}var u=s.match(/'|"/g);if(u&&(i+=u.length),i===2){a={line:o,ch:s.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+a.line,a.ch]]},r.prototype.parseInline=function(e){var t,n=!1,i=this.peek();if(i===-1)return!1;switch(i){case LR:n=this.parseNewline(e);break;case Lq:n=this.parseBackslash(e);break;case abt:n=this.parseBackticks(e);break;case gD:case l0:case u0:case nh:n=this.handleDelim(i,e);break;case th:case rh:n=!!(!((t=this.options)===null||t===void 0)&&t.smart)&&this.handleDelim(i,e);break;case Nq:n=this.parseOpenBracket(e);break;case sbt:n=this.parseBang(e);break;case obt:n=this.parseCloseBracket(e);break;case $q:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case lbt:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(yi(vD(i),this.sourcepos(this.pos,this.pos+1)))),!0},r.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],Dyt(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,i=t.customParser;if(n&&rbt(e.walker(),n),i&&e.firstChild)for(var a,o=e.firstChild.walker();a=o.next();){var s=a.node,l=a.entering;i[s.type]&&i[s.type](s,{entering:l,options:this.options})}},r}(),Cbt=/^\[([ \txX])\][ \t]+/;function Tbt(r,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var t=e.firstChild,n=t.stringContent.match(Cbt);if(n){var i=n[0].length;t.stringContent=t.stringContent.substring(i-1),t.sourcepos[0][1]+=i,t.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var Ebt={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableHead"||r==="tableBody"},acceptsLines:!1},Mbt={continue:function(){return 0},finalize:function(){},canContain:function(r){return r==="tableRow"},acceptsLines:!1},Abt={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableRow"||r==="tableDelimRow"},acceptsLines:!1},Dbt={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableDelimCell"},acceptsLines:!1},Pbt={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Rbt={continue:function(){return 1},finalize:function(){},canContain:function(r){return r==="tableCell"},acceptsLines:!1},Nbt={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},p1=4,vX=9,gX=62,$bt=60,OX=32,yX=91,bX=/[^ \t\f\v\r\n]/,Lbt=/^(?:`{3,}|~{3,})(?= *$)/;function Fq(r){for(var e=r;e;){if(e.lastLineBlank)return!0;var t=e.type;if(!e.lastLineChecked&&(t==="list"||t==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function Xo(r,e){return e<r.length?r.charCodeAt(e):-1}function wX(r){return!bX.test(r)}function jp(r){return r===OX||r===vX}var _bt=/^\$\$$/,Ibt={continue:function(r,e){var t=r.currentLine,n=t.match(_bt);if(n)return r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2;for(var i=e.offset;i>0&&jp(Xo(t,r.offset));)r.advanceOffset(1,!0),i--;return 0},finalize:function(r,e){if(e.stringContent!==null){var t=e.stringContent,n=t.indexOf(`
`),i=t.slice(0,n),a=t.slice(n+1),o=i.match(/^(\s*)(.*)/);e.info=yg(o[2].trim()),e.literal=a,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},kX={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},Qbt={continue:function(){return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},Bbt={continue:function(){return 0},finalize:function(r,e){for(var t=e.firstChild;t;){if(Fq(t)&&t.next){e.listData.tight=!1;break}for(var n=t.firstChild;n;){if(Fq(n)&&(t.next||n.next)){e.listData.tight=!1;break}n=n.next}t=t.next}},canContain:function(r){return r==="item"},acceptsLines:!1},qbt={continue:function(r){var e=r.currentLine;if(!r.indented&&Xo(e,r.nextNonspace)===gX)r.advanceNextNonspace(),r.advanceOffset(1,!1),jp(Xo(e,r.offset))&&r.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(r){return r!=="item"},acceptsLines:!1},Fbt={continue:function(r,e){if(r.blank){if(e.firstChild===null)return 1;r.advanceNextNonspace()}else if(r.indent>=e.listData.markerOffset+e.listData.padding)r.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:Tbt,canContain:function(r){return r!=="item"},acceptsLines:!1},Vbt={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Zbt={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},zbt={continue:function(r,e){var t=r.currentLine,n=r.indent;if(e.isFenced){var i=n<=3&&t.charAt(r.nextNonspace)===e.fenceChar&&t.slice(r.nextNonspace).match(Lbt);if(i&&i[0].length>=e.fenceLength)return r.lastLineLength=r.offset+n+i[0].length,r.finalize(e,r.lineNumber),2;for(var a=e.fenceOffset;a>0&&jp(Xo(t,r.offset));)r.advanceOffset(1,!0),a--}else if(n>=p1)r.advanceOffset(p1,!0);else if(r.blank)r.advanceNextNonspace();else return 1;return 0},finalize:function(r,e){var t;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,i=n.indexOf(`
`),a=n.slice(0,i),o=n.slice(i+1),s=a.match(/^(\s*)(.*)/);e.infoPadding=s[1].length,e.info=yg(s[2].trim()),e.literal=o}else e.literal=(t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Hbt={continue:function(r,e){return r.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(r,e){var t;e.literal=((t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},Wbt={continue:function(r){return r.blank?1:0},finalize:function(r,e){if(e.stringContent!==null){for(var t,n=!1;Xo(e.stringContent,0)===yX&&(t=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(t),n=!0;n&&wX(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},Ubt=kX,Xbt=kX,Gd={document:Qbt,list:Bbt,blockQuote:qbt,item:Fbt,heading:Vbt,thematicBreak:Zbt,codeBlock:zbt,htmlBlock:Hbt,paragraph:Wbt,table:Ebt,tableBody:Mbt,tableHead:Abt,tableRow:Rbt,tableCell:Nbt,tableDelimRow:Dbt,tableDelimCell:Pbt,refDef:Ubt,customBlock:Ibt,frontMatter:Xbt};function _R(r){for(var e=0,t=0,n=[],i=0;i<r.length;i+=1)if(r[i]==="|"&&r[i-1]!=="\\"){var a=r.substring(e,i);e===0&&Dq(a)?t=i+1:n.push(a),e=i+1}if(e<r.length){var a=r.substring(e,r.length);Dq(a)||n.push(a)}return[t,n]}function IR(r,e,t,n){for(var i=[],a=0,o=e;a<o.length;a++){var s=o[a],l=s.match(/^[ \t]+/),u=l?l[0].length:0,c=void 0,h=void 0;if(u===s.length)u=0,c=0,h="";else{var p=s.match(/[ \t]+$/);c=p?p[0].length:0,h=s.slice(u,s.length-c)}var g=n+u,O=jn(r,[[t,n],[t,n+s.length-1]]);O.stringContent=h.replace(/\\\|/g,"|"),O.startIdx=i.length,O.endIdx=i.length,O.lineOffsets=[g-1],O.paddingLeft=u,O.paddingRight=c,i.push(O),n+=s.length+1}return i}function jbt(r){var e=null,t=r.stringContent,n=t[0],i=t[t.length-1];return i===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var Ybt=function(r,e){var t=e.stringContent;if(e.type==="paragraph"&&!r.indented&&!r.blank){var n=t.length-1,i=t.lastIndexOf(`
`,n-1)+1,a=t.slice(i,n),o=r.currentLine.slice(r.nextNonspace),s=_R(a),l=s[0],u=s[1],c=_R(o),h=c[0],p=c[1],g=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!p.length||p.some(function(pe){return!g.test(pe)})||p.length===1&&o.indexOf("|")!==0)return 0;var O=e.lineOffsets,T=r.lineNumber-1,M=d1(O)+1,R=jn("table",[[T,M],[r.lineNumber,r.offset]]);if(R.columns=p.map(function(){return{align:null}}),e.insertAfter(R),O.length===1)e.unlink();else{e.stringContent=t.slice(0,i);var z=t.lastIndexOf(`
`,i-2)+1,U=i-z-1;r.lastLineLength=O[O.length-2]+U,r.finalize(e,T-1)}r.advanceOffset(r.currentLine.length-r.offset,!1);var G=jn("tableHead",[[T,M],[r.lineNumber,r.offset]]);R.appendChild(G);var J=jn("tableRow",[[T,M],[T,M+a.length-1]]),ee=jn("tableDelimRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.offset]]);G.appendChild(J),G.appendChild(ee),IR("tableCell",u,T,M+l).forEach(function(pe){J.appendChild(pe)});var le=IR("tableDelimCell",p,r.lineNumber,r.nextNonspace+1+h);return le.forEach(function(pe){ee.appendChild(pe)}),R.columns=le.map(jbt),r.tip=R,2}return 0},Gbt=function(r,e){if(e.type!=="table"&&e.type!=="tableBody"||!r.blank&&r.currentLine.indexOf("|")===-1)return 0;if(r.advanceOffset(r.currentLine.length-r.offset,!1),r.blank){var t=e;return e.type==="tableBody"&&(t=e.parent,r.finalize(e,r.lineNumber-1)),r.finalize(t,r.lineNumber-1),0}var n=e;e.type==="table"&&(n=r.addChild("tableBody",r.nextNonspace),n.stringContent=null);var i=jn("tableRow",[[r.lineNumber,r.nextNonspace+1],[r.lineNumber,r.currentLine.length]]);n.appendChild(i);var a=n.parent,o=r.currentLine.slice(r.nextNonspace),s=_R(o),l=s[0],u=s[1];return IR("tableCell",u,r.lineNumber,r.nextNonspace+1+l).forEach(function(c,h){h>=a.columns.length&&(c.ignored=!0),i.appendChild(c)}),2},Kbt=/^(\$\$)(\s*[a-zA-Z])+/,Jbt=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,e0t=function(r){var e;if(!r.indented&&!Jbt.test(r.currentLine)&&(e=r.currentLine.match(Kbt))){var t=e[1].length;r.closeUnmatchedBlocks();var n=r.addChild("customBlock",r.nextNonspace);return n.syntaxLength=t,n.offset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},t0t=/^`{3,}(?!.*`)|^~{3,}/,r0t=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+pX+"|"+mX+")\\s*$","i")],n0t=/^(?:=+|-+)[ \t]*$/,i0t=/^#{1,6}(?:[ \t]+|$)/,a0t=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,SX=/^[*+-]/,xX=/^(\d{1,9})([.)])/;function o0t(r,e){var t=r.currentLine.slice(r.nextNonspace),n,i,a={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:r.indent,task:!1,checked:!1};if(r.indent>=4)return null;if(n=t.match(SX))a.type="bullet",a.bulletChar=n[0][0];else if((n=t.match(xX))&&(e.type!=="paragraph"||n[1]==="1"))a.type="ordered",a.start=parseInt(n[1],10),a.delimiter=n[2];else return null;if(i=Xo(r.currentLine,r.nextNonspace+n[0].length),!(i===-1||i===vX||i===OX)||e.type==="paragraph"&&!r.currentLine.slice(r.nextNonspace+n[0].length).match(bX))return null;r.advanceNextNonspace(),r.advanceOffset(n[0].length,!0);var o=r.column,s=r.offset;do r.advanceOffset(1,!0),i=Xo(r.currentLine,r.offset);while(r.column-o<5&&jp(i));var l=Xo(r.currentLine,r.offset)===-1,u=r.column-o;return u>=5||u<1||l?(a.padding=n[0].length+1,r.column=o,r.offset=s,jp(Xo(r.currentLine,r.offset))&&r.advanceOffset(1,!0)):a.padding=n[0].length+u,a}function s0t(r,e){return r.type===e.type&&r.delimiter===e.delimiter&&r.bulletChar===e.bulletChar}function CX(r,e){return r.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var l0t=function(r){return!r.indented&&Xo(r.currentLine,r.nextNonspace)===gX?(r.advanceNextNonspace(),r.advanceOffset(1,!1),jp(Xo(r.currentLine,r.offset))&&r.advanceOffset(1,!0),r.closeUnmatchedBlocks(),r.addChild("blockQuote",r.nextNonspace),1):0},u0t=function(r,e){var t;if(!r.indented&&!CX(r,e)&&(t=r.currentLine.slice(r.nextNonspace).match(i0t))){r.advanceNextNonspace(),r.advanceOffset(t[0].length,!1),r.closeUnmatchedBlocks();var n=r.addChild("heading",r.nextNonspace);return n.level=t[0].trim().length,n.headingType="atx",n.stringContent=r.currentLine.slice(r.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),r.advanceOffset(r.currentLine.length-r.offset),2}return 0},c0t=function(r){var e;if(!r.indented&&(e=r.currentLine.slice(r.nextNonspace).match(t0t))){var t=e[0].length;r.closeUnmatchedBlocks();var n=r.addChild("codeBlock",r.nextNonspace);return n.isFenced=!0,n.fenceLength=t,n.fenceChar=e[0][0],n.fenceOffset=r.indent,r.advanceNextNonspace(),r.advanceOffset(t,!1),2}return 0},f0t=function(r,e){if(!r.indented&&Xo(r.currentLine,r.nextNonspace)===$bt){var t=r.currentLine.slice(r.nextNonspace),n=r.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=t.match(r0t[i]);if(a){if(i===7){if(e.type==="paragraph")return 0;if(n.length>0){var o=new RegExp("</?(?:"+n.join("|")+")","i");if(o.test(a[0]))return 0}}r.closeUnmatchedBlocks();var s=r.addChild("htmlBlock",r.offset);return s.htmlBlockType=i,2}}}return 0},h0t=function(r,e){var t;if(e.stringContent!==null&&!r.indented&&e.type==="paragraph"&&!CX(r,e.parent)&&(t=r.currentLine.slice(r.nextNonspace).match(n0t))){r.closeUnmatchedBlocks();for(var n=void 0;Xo(e.stringContent,0)===yX&&(n=r.inlineParser.parseReference(e,r.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var i=jn("heading",e.sourcepos);return i.level=t[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),r.tip=i,r.advanceOffset(r.currentLine.length-r.offset,!1),2}return 0}return 0},d0t=function(r){return!r.indented&&a0t.test(r.currentLine.slice(r.nextNonspace))?(r.closeUnmatchedBlocks(),r.addChild("thematicBreak",r.nextNonspace),r.advanceOffset(r.currentLine.length-r.offset,!1),2):0},p0t=function(r,e){var t,n=e;return(!r.indented||e.type==="list")&&(t=o0t(r,n))?(r.closeUnmatchedBlocks(),(r.tip.type!=="list"||!s0t(n.listData,t))&&(n=r.addChild("list",r.nextNonspace),n.listData=t),n=r.addChild("item",r.nextNonspace),n.listData=t,1):0},m0t=function(r){return r.indented&&r.tip.type!=="paragraph"&&!r.blank?(r.advanceOffset(p1,!0),r.closeUnmatchedBlocks(),r.addChild("codeBlock",r.offset),2):0},wD=[l0t,u0t,c0t,f0t,h0t,d0t,p0t,m0t,Ybt,Gbt,e0t],TX=/^(-{3}|\+{3}|;{3})$/,v0t=function(r,e){var t=r.currentLine,n=r.lineNumber,i=r.indented;if(n===1&&!i&&e.type==="document"&&TX.test(t)){r.closeUnmatchedBlocks();var a=r.addChild("frontMatter",r.nextNonspace);return a.stringContent=t,r.advanceNextNonspace(),r.advanceOffset(t.length,!1),2}return 0},g0t={continue:function(r,e){var t=r.currentLine,n=t.match(TX);return e.type==="frontMatter"&&n?(e.stringContent+=t,r.lastLineLength=n[0].length,r.finalize(e,r.lineNumber),2):0},finalize:function(r,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},O0t=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],y0t=/^[#`~*+_=<>0-9-;$]/,b0t=/\r\n|\n|\r/;function kD(){return jn("document",[[1,1],[0,0]])}var w0t={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},k0t=function(){function r(e){this.options=Ui(Ui({},w0t),e),this.doc=kD(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Gd.frontMatter=g0t,wD.unshift(v0t)),this.inlineParser=new xbt(this.options)}return r.prototype.advanceOffset=function(e,t){t===void 0&&(t=!1);for(var n=this.currentLine,i,a,o;e>0&&(o=n[this.offset]);)o==="	"?(i=4-this.column%4,t?(this.partiallyConsumedTab=i>e,a=i>e?e:i,this.column+=a,this.offset+=this.partiallyConsumedTab?0:1,e-=a):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},r.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},r.prototype.findNextNonspace=function(){for(var e=this.currentLine,t=this.offset,n=this.column,i;(i=e.charAt(t))!=="";)if(i===" ")t++,n++;else if(i==="	")t++,n+=4-n%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=t,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=p1},r.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=RR(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},r.prototype.addChild=function(e,t){for(;!Gd[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,i=jn(e,[[this.lineNumber,n],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},r.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},r.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],Gd[e.type].finalize(this,e),this.tip=n},r.prototype.processInlines=function(e){var t,n=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=i.next();){var a=t.node,o=t.entering,s=a.type;n&&n[s]&&n[s](a,{entering:o,options:this.options}),!o&&(s==="paragraph"||s==="heading"||s==="tableCell"&&!a.ignored)&&this.inlineParser.parse(a)}},r.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"ï¿½")),this.currentLine=e;for(var n=!0,i;(i=t.lastChild)&&i.open;){switch(t=i,this.findNextNonspace(),Gd[t.type].continue(this,t)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var a=t.type!=="paragraph"&&Gd[t.type].acceptsLines,o=wD.length;!a;){if(this.findNextNonspace(),t.type!=="table"&&t.type!=="tableBody"&&t.type!=="paragraph"&&!this.indented&&!y0t.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var s=0;s<o;){var l=wD[s](this,t);if(l===1){t=this.tip;break}else if(l===2){t=this.tip,a=!0;break}else s++}if(s===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var u=t.type,c=this.blank&&!(u==="blockQuote"||fX(t)&&t.isFenced||u==="item"&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),h=t;h;)h.lastLineBlank=c,h=h.parent;Gd[u].acceptsLines?(this.addLine(),Ayt(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&O0t[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},r.prototype.parse=function(e,t){this.doc=kD(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(b0t),i=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===LR&&(i-=1);for(var a=0;a<i;a++)this.incorporateLine(n[a]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},r.prototype.partialParseStart=function(e,t){this.doc=kD(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,i=0;i<n;i++)this.incorporateLine(t[i]);return this.doc},r.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},r.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},r.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},r.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){ibt(e)})},r}();function Vq(r,e){return r[0]<e[0]?1:r[0]>e[0]?-1:r[1]<e[1]?1:r[1]>e[1]?-1:0}function S0t(r,e){var t=r[0],n=r[1];return Vq(n,e)===1?1:Vq(t,e)===-1?-1:0}function x0t(r,e){if(!(r.parent!==e.parent||r===e)){for(var t=r.next;t&&t!==e;){for(var n=t.next,i=0,a=["parent","prev","next"];i<a.length;i++){var o=a[i];t[o]&&(NR(t[o].id),t[o]=null)}t=n}r.next=e.next,e.next?e.next.prev=r:r.parent.lastChild=r}}function C0t(r){for(var e=[],t=r.firstChild;t;)e.push(t),t=t.next;return e}function Zq(r,e){for(var t=0,n=e;t<n.length;t++){var i=n[t];r.insertBefore(i)}}function T0t(r,e){for(var t=e.length-1;t>=0;t-=1)r.prependChild(e[t])}function E0t(r,e){if(!(!r||!r.parent||e===0)){var t=r.parent.walker();t.resumeAt(r,!0);for(var n;n=t.next();){var i=n.node,a=n.entering;a&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function EX(r,e){var t=r[0],n=r[1];return n[0]<e?1:t[0]>e?-1:0}function c0(r,e){for(var t=r.firstChild;t;){var n=EX(t.sourcepos,e);if(n===0)return t;if(n===-1)return t.prev||t;t=t.next}return r.lastChild}function M0t(r){for(;r.lastChild;)r=r.lastChild;return r}function A0t(r){for(;r.parent&&r.parent.type!=="document"&&r.parent.sourcepos[0][0]===r.sourcepos[0][0];)r=r.parent;return r}function D0t(r,e){for(var t=r.firstChild,n=null;t;){var i=EX(t.sourcepos,e);if(i===0){if(t.sourcepos[0][0]===e||!t.firstChild)return t;n=t,t=t.firstChild}else{if(i===-1)break;n=t,t=t.next}}return n?A0t(M0t(n)):null}function P0t(r,e){for(var t=r,n=null;t;){var i=S0t(t.sourcepos,e);if(i===0)if(t.firstChild)n=t,t=t.firstChild;else return t;else{if(i===-1)return n;if(t.next)t=t.next;else return n}}return t}function MX(r){return vyt(r)||null}function SD(r,e,t){if(t===void 0&&(t=null),e)for(var n=e.walker();e&&e!==t;){r(e);var i=n.next();if(i)e=i.node;else break}}function R0t(r){var e=MX(r);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var zq=/\r\n|\n|\r/;function N0t(r){var e=r.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var t=e?r.slice(e.length):r;return SX.test(t)||xX.test(t)}function $0t(r){return!wX(r)&&r.indexOf("|")!==-1}function QR(r){var e=r.id,t=r.title,n=r.sourcepos,i=r.dest;return{id:e,title:t,sourcepos:n,unlinked:!1,destination:i}}var AX=function(){function r(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(t!=null&&t.referenceDefinition),this.parser=new k0t(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(zq),this.root=this.parser.parse(e,this.lineTexts)}return r.prototype.updateLineTexts=function(e,t,n){var i,a=e[0],o=e[1],s=t[0],l=t[1],u=n.split(zq),c=u.length,h=this.lineTexts[a-1],p=this.lineTexts[s-1];u[0]=h.slice(0,o-1)+u[0],u[c-1]=u[c-1]+p.slice(l-1);var g=s-a+1;return(i=this.lineTexts).splice.apply(i,DR([a-1,g],u)),c-g},r.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;e[t]==="";)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},r.prototype.replaceRangeNodes=function(e,t,n){e?(Zq(e,n),x0t(e,t),[e.id,t.id].forEach(function(i){return NR(i)}),e.unlink()):t?(Zq(t,n),NR(t.id),t.unlink()):T0t(this.root,n)},r.prototype.getNodeRange=function(e,t){var n=c0(this.root,e[0]),i=c0(this.root,t[0]);return i&&i.next&&t[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[n,i]},r.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(n){n(t)})},r.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},r.prototype.parseRange=function(e,t,n,i){e&&e.prev&&(Pq(e.prev)&&N0t(this.lineTexts[n-1])||Pyt(e.prev)&&$0t(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var a=this.lineTexts.slice(n-1,i),o=this.parser.partialParseStart(n,a),s=t?t.next:this.root.firstChild,l=o.lastChild,u=l&&fX(l)&&l.open,c=l&&hX(l)&&l.open,h=l&&Pq(l);(u||c)&&s||h&&s&&(s.type==="list"||s.sourcepos[0][1]>=2);){var p=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,p)),e||(e=t),t=s,i=p,s=s.next}this.parser.partialParseFinish();var g=C0t(o);return{newNodes:g,extStartNode:e,extEndNode:t}},r.prototype.getRemovedNodeRange=function(e,t){return!e||e&&jd(e)||t&&jd(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},r.prototype.markDeletedRefMap=function(e,t){var n=this;if(!Yd(this.refMap)){var i=function(a){if(jd(a)){var o=n.refMap[a.label];o&&a.id===o.id&&(o.unlinked=!0)}};e&&SD(i,e.parent,t),t&&SD(i,t)}},r.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!Yd(this.refMap)){var n=function(i){if(jd(i)){var a=i.label,o=t.refMap[a];(!o||o.unlinked)&&(t.refMap[a]=QR(i))}};e.forEach(function(i){SD(n,i)})}},r.prototype.replaceWithRefDefCandidate=function(){var e=this;Yd(this.refDefCandidateMap)||s0(this.refDefCandidateMap,function(t,n){var i=n.label,a=n.sourcepos,o=e.refMap[i];(!o||o.unlinked||o.sourcepos[0][0]>a[0][0])&&(e.refMap[i]=QR(n))})},r.prototype.getRangeWithRefDef=function(e,t,n,i,a){if(this.referenceDefinition&&!Yd(this.refMap)){var o=c0(this.root,e-1),s=c0(this.root,t+1);o&&jd(o)&&o!==n&&o!==i&&(n=o,e=n.sourcepos[0][0]),s&&jd(s)&&s!==n&&s!==i&&(i=s,t=this.extendEndLine(i.sourcepos[1][0]+a))}return[n,i,e,t]},r.prototype.parse=function(e,t,n){n===void 0&&(n=0);var i=this.getNodeRange(e,t),a=i[0],o=i[1],s=a?Math.min(a.sourcepos[0][0],e[0]):e[0],l=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),u=this.parseRange.apply(this,this.getRangeWithRefDef(s,l,a,o,n)),c=u.newNodes,h=u.extStartNode,p=u.extEndNode,g=this.getRemovedNodeRange(h,p),O=p?p.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(h,p),this.replaceRangeNodes(h,p,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(h,p,c),{nodes:c,removedNodeRange:g,nextNode:O}},r.prototype.parseRefLink=function(){var e=this,t=[];return Yd(this.refMap)||s0(this.refMap,function(n,i){i.unlinked&&delete e.refMap[n],s0(e.refLinkCandidateMap,function(a,o){var s=o.node,l=o.refLabel;l===n&&t.push(e.parse(s.sourcepos[0],s.sourcepos[1]))})}),t},r.prototype.removeUnlinkedCandidate=function(){Yd(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){s0(e,function(t){R0t(t)&&delete e[t]})})},r.prototype.editMarkdown=function(e,t,n){var i=this.updateLineTexts(e,t,n),a=this.parse(e,t,i),o=nbt(a,"nextNode");E0t(a.nextNode,i),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},r.prototype.getLineTexts=function(){return this.lineTexts},r.prototype.getRootNode=function(){return this.root},r.prototype.findNodeAtPosition=function(e){var t=P0t(this.root,e);return!t||t===this.root?null:t},r.prototype.findFirstNodeAtLine=function(e){return D0t(this.root,e)},r.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},r.prototype.off=function(e,t){var n=this.eventHandlerMap[e],i=n.indexOf(t);n.splice(i,1)},r.prototype.findNodeById=function(e){return MX(e)},r.prototype.removeAllNode=function(){gyt()},r}(),L0t=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],Hq=new RegExp("<(/?(?:"+L0t.join("|")+")[^>]*>)","ig");function Wq(r){return Hq.test(r)?r.replace(Hq,function(e,t){return"&lt;"+t}):r}var Uq={heading:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"h"+r.level,outerNewLine:!0}},text:function(r){return{type:"text",content:r.literal}},softbreak:function(r,e){var t=e.options;return{type:"html",content:t.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"em"}},strong:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"strong"}},paragraph:function(r,e){var t,n=e.entering,i=(t=r.parent)===null||t===void 0?void 0:t.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(r,e){var t=e.entering,n=r.listData,i=n.type,a=n.start,o=i==="bullet"?"ul":"ol",s={};return o==="ol"&&a!==null&&a!==1&&(s.start=a.toString()),{type:t?"openTag":"closeTag",tagName:o,attributes:s,outerNewLine:!0}},item:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(r,e){var t=e.options,n=t.tagFilter?Wq(r.literal):r.literal;return{type:"html",content:n}},htmlBlock:function(r,e){var t=e.options,n=t.tagFilter?Wq(r.literal):r.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(r){return[{type:"openTag",tagName:"code"},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r.info,t=e?e.split(/\s+/):[],n=[];return t.length>0&&t[0].length>0&&n.push("language-"+ap(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(r,e){var t=e.entering;if(t){var n=r,i=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:Ui({href:ap(a)},i&&{title:ap(i)})}}return{type:"closeTag",tagName:"a"}},image:function(r,e){var t=e.getChildrenText,n=e.skipChildren,i=r,a=i.title,o=i.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:Ui({src:ap(o),alt:t(r)},a&&{title:ap(a)})}},customBlock:function(r,e,t){var n=r.info.trim().toLowerCase(),i=t[n];if(i)try{return i(r,e)}catch(a){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+a)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(r){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:r.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(r,e,t){var n=r,i=n.info,a=n.firstChild,o=i.trim().toLowerCase(),s=t[o],l=e.entering;if(s)try{return s(r,e)}catch(u){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+u)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(a?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},Xq={strike:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"del"}},item:function(r,e){var t=e.entering,n=r.listData,i=n.checked,a=n.task;if(t){var o={type:"openTag",tagName:"li",outerNewLine:!0};return a?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:Ui(Ui({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(r,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(r,e){var t=e.entering;if(t)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(r.lastChild)for(var i=r.parent.parent.columns.length,a=r.lastChild.endIdx,o=a+1;o<i;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(r,e){var t=e.entering;if(r.ignored)return{type:"text",content:""};var n=r.parent.parent,i=n.type==="tableHead"?"th":"td",a=n.parent,o=a.columns[r.startIdx],s=o!=null&&o.align?{align:o.align}:null;return t?Ui({type:"openTag",tagName:i,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:i,outerNewLine:!0}}},_0t={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function I0t(r){for(var e=[],t=r.walker(),n=null;n=t.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var X$=function(){function r(e){this.buffer=[],this.options=Ui(Ui({},_0t),e),this.convertors=this.createConvertors(),delete this.options.convertors}return r.prototype.createConvertors=function(){var e=Ui({},Uq);if(this.options.gfm&&(e=Ui(Ui({},e),Xq)),this.options.convertors){var t=this.options.convertors,n=Object.keys(t),i=Ui(Ui({},Uq),Xq);n.forEach(function(a){var o=e[a],s=t[a],l=Object.keys(i).indexOf(a)===-1?a.toLowerCase():a;o?e[l]=function(u,c,h){return c.origin=function(){return o(u,c,h)},s(u,c)}:e[l]=s})}return e},r.prototype.getConvertors=function(){return this.convertors},r.prototype.getOptions=function(){return this.options},r.prototype.render=function(e){var t=this;this.buffer=[];for(var n=e.walker(),i=null,a=function(){var s=i.node,l=i.entering,u=o.convertors[s.type];if(!u)return"continue";var c=!1,h={entering:l,leaf:!U$(s),options:o.options,getChildrenText:I0t,skipChildren:function(){c=!0}},p=hX(s)||Ryt(s)?u(s,h,o.convertors):u(s,h);if(p){var g=Array.isArray(p)?p:[p];g.forEach(function(O,T){O.type==="openTag"&&t.options.nodeId&&T===0&&(O.attributes||(O.attributes={}),O.attributes["data-nodeid"]=String(s.id)),t.renderHTMLNode(O)}),c&&(n.resumeAt(s,!1),n.next())}},o=this;i=n.next();)a();return this.addNewLine(),this.buffer.join("")},r.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},r.prototype.generateOpenTagString=function(e){var t=this,n=e.tagName,i=e.classNames,a=e.attributes;this.buffer.push("<"+n),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),a&&Object.keys(a).forEach(function(o){var s=a[o];t.buffer.push(" "+o+'="'+s+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},r.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},r.prototype.addNewLine=function(){this.buffer.length&&d1(d1(this.buffer))!==`
`&&this.buffer.push(`
`)},r.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},r.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},r.prototype.renderTextNode=function(e){this.buffer.push(ap(e.content))},r.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},r.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},r}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function Q0t(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var B0t=Object.hasOwnProperty,jq=Object.setPrototypeOf,q0t=Object.isFrozen,F0t=Object.getPrototypeOf,V0t=Object.getOwnPropertyDescriptor,Za=Object.freeze,ac=Object.seal,Z0t=Object.create,DX=typeof Reflect<"u"&&Reflect,m1=DX.apply,BR=DX.construct;m1||(m1=function(e,t,n){return e.apply(t,n)});Za||(Za=function(e){return e});ac||(ac=function(e){return e});BR||(BR=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(Q0t(t))))});var z0t=ml(Array.prototype.forEach),Yq=ml(Array.prototype.pop),Pv=ml(Array.prototype.push),U0=ml(String.prototype.toLowerCase),Gq=ml(String.prototype.match),Lc=ml(String.prototype.replace),H0t=ml(String.prototype.indexOf),W0t=ml(String.prototype.trim),$u=ml(RegExp.prototype.test),Kq=U0t(TypeError);function ml(r){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return m1(r,e,n)}}function U0t(r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return BR(r,t)}}function Er(r,e){jq&&jq(r,null);for(var t=e.length;t--;){var n=e[t];if(typeof n=="string"){var i=U0(n);i!==n&&(q0t(e)||(e[t]=i),n=i)}r[n]=!0}return r}function ih(r){var e=Z0t(null),t=void 0;for(t in r)m1(B0t,r,[t])&&(e[t]=r[t]);return e}function f0(r,e){for(;r!==null;){var t=V0t(r,e);if(t){if(t.get)return ml(t.get);if(typeof t.value=="function")return ml(t.value)}r=F0t(r)}function n(i){return console.warn("fallback value for",i),null}return n}var Jq=Za(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xD=Za(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),CD=Za(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),X0t=Za(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),TD=Za(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j0t=Za(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),eF=Za(["#text"]),tF=Za(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ED=Za(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),rF=Za(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),h0=Za(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y0t=ac(/\{\{[\s\S]*|[\s\S]*\}\}/gm),G0t=ac(/<%[\s\S]*|[\s\S]*%>/gm),K0t=ac(/^data-[\-\w.\u00B7-\uFFFF]/),J0t=ac(/^aria-[\-\w]+$/),ewt=ac(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),twt=ac(/^(?:\w+script|data):/i),rwt=ac(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function ql(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}var nwt=function(){return typeof window>"u"?null:window},iwt=function(e,t){if((typeof e>"u"?"undefined":eg(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function PX(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nwt(),e=function(ce){return PX(ce)};if(e.version="2.3.3",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;var t=r.document,n=r.document,i=r.DocumentFragment,a=r.HTMLTemplateElement,o=r.Node,s=r.Element,l=r.NodeFilter,u=r.NamedNodeMap,c=u===void 0?r.NamedNodeMap||r.MozNamedAttrMap:u,h=r.Text,p=r.Comment,g=r.DOMParser,O=r.trustedTypes,T=s.prototype,M=f0(T,"cloneNode"),R=f0(T,"nextSibling"),z=f0(T,"childNodes"),U=f0(T,"parentNode");if(typeof a=="function"){var G=n.createElement("template");G.content&&G.content.ownerDocument&&(n=G.content.ownerDocument)}var J=iwt(O,t),ee=J&&sr?J.createHTML(""):"",le=n,pe=le.implementation,be=le.createNodeIterator,Fe=le.createDocumentFragment,Ge=le.getElementsByTagName,_e=t.importNode,ot={};try{ot=ih(n).documentMode?n.documentMode:{}}catch{}var at={};e.isSupported=typeof U=="function"&&pe&&typeof pe.createHTMLDocument<"u"&&ot!==9;var dt=Y0t,Ot=G0t,Qt=K0t,Vt=J0t,ar=twt,bt=rwt,Rt=ewt,Pt=null,tr=Er({},[].concat(ql(Jq),ql(xD),ql(CD),ql(TD),ql(eF))),or=null,Sr=Er({},[].concat(ql(tF),ql(ED),ql(rF),ql(h0))),Le=null,Pe=null,ve=!0,xe=!0,Oe=!1,Be=!1,Ze=!1,st=!1,$t=!1,Jt=!1,Yt=!1,Cr=!0,sr=!1,un=!0,Zr=!0,Lr=!1,pr={},tn=null,$i=Er({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),On=null,yn=Er({},["audio","video","img","source","image","track"]),ct=null,pt=Er({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ft="http://www.w3.org/1998/Math/MathML",er="http://www.w3.org/2000/svg",Or="http://www.w3.org/1999/xhtml",pn=Or,_r=!1,Xr=void 0,ur=["application/xhtml+xml","text/html"],Zn="text/html",rn=void 0,Jn=null,di=n.createElement("form"),pi=function(ce){Jn&&Jn===ce||((!ce||(typeof ce>"u"?"undefined":eg(ce))!=="object")&&(ce={}),ce=ih(ce),Pt="ALLOWED_TAGS"in ce?Er({},ce.ALLOWED_TAGS):tr,or="ALLOWED_ATTR"in ce?Er({},ce.ALLOWED_ATTR):Sr,ct="ADD_URI_SAFE_ATTR"in ce?Er(ih(pt),ce.ADD_URI_SAFE_ATTR):pt,On="ADD_DATA_URI_TAGS"in ce?Er(ih(yn),ce.ADD_DATA_URI_TAGS):yn,tn="FORBID_CONTENTS"in ce?Er({},ce.FORBID_CONTENTS):$i,Le="FORBID_TAGS"in ce?Er({},ce.FORBID_TAGS):{},Pe="FORBID_ATTR"in ce?Er({},ce.FORBID_ATTR):{},pr="USE_PROFILES"in ce?ce.USE_PROFILES:!1,ve=ce.ALLOW_ARIA_ATTR!==!1,xe=ce.ALLOW_DATA_ATTR!==!1,Oe=ce.ALLOW_UNKNOWN_PROTOCOLS||!1,Be=ce.SAFE_FOR_TEMPLATES||!1,Ze=ce.WHOLE_DOCUMENT||!1,Jt=ce.RETURN_DOM||!1,Yt=ce.RETURN_DOM_FRAGMENT||!1,Cr=ce.RETURN_DOM_IMPORT!==!1,sr=ce.RETURN_TRUSTED_TYPE||!1,$t=ce.FORCE_BODY||!1,un=ce.SANITIZE_DOM!==!1,Zr=ce.KEEP_CONTENT!==!1,Lr=ce.IN_PLACE||!1,Rt=ce.ALLOWED_URI_REGEXP||Rt,pn=ce.NAMESPACE||Or,Xr=ur.indexOf(ce.PARSER_MEDIA_TYPE)===-1?Xr=Zn:Xr=ce.PARSER_MEDIA_TYPE,rn=Xr==="application/xhtml+xml"?function(Re){return Re}:U0,Be&&(xe=!1),Yt&&(Jt=!0),pr&&(Pt=Er({},[].concat(ql(eF))),or=[],pr.html===!0&&(Er(Pt,Jq),Er(or,tF)),pr.svg===!0&&(Er(Pt,xD),Er(or,ED),Er(or,h0)),pr.svgFilters===!0&&(Er(Pt,CD),Er(or,ED),Er(or,h0)),pr.mathMl===!0&&(Er(Pt,TD),Er(or,rF),Er(or,h0))),ce.ADD_TAGS&&(Pt===tr&&(Pt=ih(Pt)),Er(Pt,ce.ADD_TAGS)),ce.ADD_ATTR&&(or===Sr&&(or=ih(or)),Er(or,ce.ADD_ATTR)),ce.ADD_URI_SAFE_ATTR&&Er(ct,ce.ADD_URI_SAFE_ATTR),ce.FORBID_CONTENTS&&(tn===$i&&(tn=ih(tn)),Er(tn,ce.FORBID_CONTENTS)),Zr&&(Pt["#text"]=!0),Ze&&Er(Pt,["html","head","body"]),Pt.table&&(Er(Pt,["tbody"]),delete Le.tbody),Za&&Za(ce),Jn=ce)},cn=Er({},["mi","mo","mn","ms","mtext"]),ei=Er({},["foreignobject","desc","title","annotation-xml"]),ti=Er({},xD);Er(ti,CD),Er(ti,X0t);var te=Er({},TD);Er(te,j0t);var se=function(ce){var Re=U(ce);(!Re||!Re.tagName)&&(Re={namespaceURI:Or,tagName:"template"});var Ve=U0(ce.tagName),ut=U0(Re.tagName);if(ce.namespaceURI===er)return Re.namespaceURI===Or?Ve==="svg":Re.namespaceURI===Ft?Ve==="svg"&&(ut==="annotation-xml"||cn[ut]):!!ti[Ve];if(ce.namespaceURI===Ft)return Re.namespaceURI===Or?Ve==="math":Re.namespaceURI===er?Ve==="math"&&ei[ut]:!!te[Ve];if(ce.namespaceURI===Or){if(Re.namespaceURI===er&&!ei[ut]||Re.namespaceURI===Ft&&!cn[ut])return!1;var Lt=Er({},["title","style","font","a","script"]);return!te[Ve]&&(Lt[Ve]||!ti[Ve])}return!1},ke=function(ce){Pv(e.removed,{element:ce});try{ce.parentNode.removeChild(ce)}catch{try{ce.outerHTML=ee}catch{ce.remove()}}},$e=function(ce,Re){try{Pv(e.removed,{attribute:Re.getAttributeNode(ce),from:Re})}catch{Pv(e.removed,{attribute:null,from:Re})}if(Re.removeAttribute(ce),ce==="is"&&!or[ce])if(Jt||Yt)try{ke(Re)}catch{}else try{Re.setAttribute(ce,"")}catch{}},W=function(ce){var Re=void 0,Ve=void 0;if($t)ce="<remove></remove>"+ce;else{var ut=Gq(ce,/^[\r\n\t ]+/);Ve=ut&&ut[0]}Xr==="application/xhtml+xml"&&(ce='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ce+"</body></html>");var Lt=J?J.createHTML(ce):ce;if(pn===Or)try{Re=new g().parseFromString(Lt,Xr)}catch{}if(!Re||!Re.documentElement){Re=pe.createDocument(pn,"template",null);try{Re.documentElement.innerHTML=_r?"":Lt}catch{}}var V=Re.body||Re.documentElement;return ce&&Ve&&V.insertBefore(n.createTextNode(Ve),V.childNodes[0]||null),pn===Or?Ge.call(Re,Ze?"html":"body")[0]:Ze?Re.documentElement:V},X=function(ce){return be.call(ce.ownerDocument||ce,ce,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},B=function(ce){return ce instanceof h||ce instanceof p?!1:typeof ce.nodeName!="string"||typeof ce.textContent!="string"||typeof ce.removeChild!="function"||!(ce.attributes instanceof c)||typeof ce.removeAttribute!="function"||typeof ce.setAttribute!="function"||typeof ce.namespaceURI!="string"||typeof ce.insertBefore!="function"},L=function(ce){return(typeof o>"u"?"undefined":eg(o))==="object"?ce instanceof o:ce&&(typeof ce>"u"?"undefined":eg(ce))==="object"&&typeof ce.nodeType=="number"&&typeof ce.nodeName=="string"},q=function(ce,Re,Ve){at[ce]&&z0t(at[ce],function(ut){ut.call(e,Re,Ve,Jn)})},Z=function(ce){var Re=void 0;if(q("beforeSanitizeElements",ce,null),B(ce)||Gq(ce.nodeName,/[\u0080-\uFFFF]/))return ke(ce),!0;var Ve=rn(ce.nodeName);if(q("uponSanitizeElement",ce,{tagName:Ve,allowedTags:Pt}),!L(ce.firstElementChild)&&(!L(ce.content)||!L(ce.content.firstElementChild))&&$u(/<[/\w]/g,ce.innerHTML)&&$u(/<[/\w]/g,ce.textContent)||Ve==="select"&&$u(/<template/i,ce.innerHTML))return ke(ce),!0;if(!Pt[Ve]||Le[Ve]){if(Zr&&!tn[Ve]){var ut=U(ce)||ce.parentNode,Lt=z(ce)||ce.childNodes;if(Lt&&ut)for(var V=Lt.length,$=V-1;$>=0;--$)ut.insertBefore(M(Lt[$],!0),R(ce))}return ke(ce),!0}return ce instanceof s&&!se(ce)||(Ve==="noscript"||Ve==="noembed")&&$u(/<\/no(script|embed)/i,ce.innerHTML)?(ke(ce),!0):(Be&&ce.nodeType===3&&(Re=ce.textContent,Re=Lc(Re,dt," "),Re=Lc(Re,Ot," "),ce.textContent!==Re&&(Pv(e.removed,{element:ce.cloneNode()}),ce.textContent=Re)),q("afterSanitizeElements",ce,null),!1)},oe=function(ce,Re,Ve){if(un&&(Re==="id"||Re==="name")&&(Ve in n||Ve in di))return!1;if(!(xe&&!Pe[Re]&&$u(Qt,Re))){if(!(ve&&$u(Vt,Re))){if(!or[Re]||Pe[Re])return!1;if(!ct[Re]){if(!$u(Rt,Lc(Ve,bt,""))){if(!((Re==="src"||Re==="xlink:href"||Re==="href")&&ce!=="script"&&H0t(Ve,"data:")===0&&On[ce])){if(!(Oe&&!$u(ar,Lc(Ve,bt,"")))){if(Ve)return!1}}}}}}return!0},Te=function(ce){var Re=void 0,Ve=void 0,ut=void 0,Lt=void 0;q("beforeSanitizeAttributes",ce,null);var V=ce.attributes;if(V){var $={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:or};for(Lt=V.length;Lt--;){Re=V[Lt];var x=Re,A=x.name,I=x.namespaceURI;if(Ve=W0t(Re.value),ut=rn(A),$.attrName=ut,$.attrValue=Ve,$.keepAttr=!0,$.forceKeepAttr=void 0,q("uponSanitizeAttribute",ce,$),Ve=$.attrValue,!$.forceKeepAttr&&($e(A,ce),!!$.keepAttr)){if($u(/\/>/i,Ve)){$e(A,ce);continue}Be&&(Ve=Lc(Ve,dt," "),Ve=Lc(Ve,Ot," "));var Y=rn(ce.nodeName);if(oe(Y,ut,Ve))try{I?ce.setAttributeNS(I,A,Ve):ce.setAttribute(A,Ve),Yq(e.removed)}catch{}}}q("afterSanitizeAttributes",ce,null)}},qe=function me(ce){var Re=void 0,Ve=X(ce);for(q("beforeSanitizeShadowDOM",ce,null);Re=Ve.nextNode();)q("uponSanitizeShadowNode",Re,null),!Z(Re)&&(Re.content instanceof i&&me(Re.content),Te(Re));q("afterSanitizeShadowDOM",ce,null)};return e.sanitize=function(me,ce){var Re=void 0,Ve=void 0,ut=void 0,Lt=void 0,V=void 0;if(_r=!me,_r&&(me="<!-->"),typeof me!="string"&&!L(me)){if(typeof me.toString!="function")throw Kq("toString is not a function");if(me=me.toString(),typeof me!="string")throw Kq("dirty is not a string, aborting")}if(!e.isSupported){if(eg(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof me=="string")return r.toStaticHTML(me);if(L(me))return r.toStaticHTML(me.outerHTML)}return me}if(st||pi(ce),e.removed=[],typeof me=="string"&&(Lr=!1),!Lr)if(me instanceof o)Re=W("<!---->"),Ve=Re.ownerDocument.importNode(me,!0),Ve.nodeType===1&&Ve.nodeName==="BODY"||Ve.nodeName==="HTML"?Re=Ve:Re.appendChild(Ve);else{if(!Jt&&!Be&&!Ze&&me.indexOf("<")===-1)return J&&sr?J.createHTML(me):me;if(Re=W(me),!Re)return Jt?null:ee}Re&&$t&&ke(Re.firstChild);for(var $=X(Lr?me:Re);ut=$.nextNode();)ut.nodeType===3&&ut===Lt||Z(ut)||(ut.content instanceof i&&qe(ut.content),Te(ut),Lt=ut);if(Lt=null,Lr)return me;if(Jt){if(Yt)for(V=Fe.call(Re.ownerDocument);Re.firstChild;)V.appendChild(Re.firstChild);else V=Re;return Cr&&(V=_e.call(t,V,!0)),V}var x=Ze?Re.outerHTML:Re.innerHTML;return Be&&(x=Lc(x,dt," "),x=Lc(x,Ot," ")),J&&sr?J.createHTML(x):x},e.setConfig=function(me){pi(me),st=!0},e.clearConfig=function(){Jn=null,st=!1},e.isValidAttribute=function(me,ce,Re){Jn||pi({});var Ve=rn(me),ut=rn(ce);return oe(Ve,ut,Re)},e.addHook=function(me,ce){typeof ce=="function"&&(at[me]=at[me]||[],Pv(at[me],ce))},e.removeHook=function(me){at[me]&&Yq(at[me])},e.removeHooks=function(me){at[me]&&(at[me]=[])},e.removeAllHooks=function(){at={}},e}var awt=PX(),owt=["iframe","embed"],RX=[];function NX(r){Ji(owt,r)&&RX.push(r.toLowerCase())}function Zh(r,e){return awt.sanitize(r,ze({ADD_TAGS:RX,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function $X(r,e){return r.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function qR(r){r=r.match(Wp)[0];var e=r.match(new RegExp(A5,"g"));return e?e.reduce(function(t,n){var i=n.trim().split("="),a=i[0],o=i.slice(1);return o.length&&(t[a]=o.join("=").replace(/'|"/g,"").trim()),t},{}):{}}function FR(r){return uu(r.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function nF(r,e,t,n){var i=n.getToDOMNode(e)(r),a=t(i.outerHTML),o=document.createElement("div");o.innerHTML=a,i=o.firstChild;var s=FR(i);return{dom:i,htmlAttrs:s}}var swt={htmlBlock:function(r,e,t){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:FR(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var i=nF(n,r,e,t),a=i.dom,o=i.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",bo([r,o],uu(a.childNodes))}}},htmlInline:function(r,e,t){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:r,getAttrs:function(n){return{htmlAttrs:FR(n)}}}],toDOM:function(n){var i=nF(n,r,e,t).htmlAttrs;return[r,i,0]}}}};function lwt(r,e,t){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){r[i]&&Object.keys(r[i]).forEach(function(a){var o=i==="htmlBlock"?"nodes":"marks";NX(a),n[o][a]=swt[i](a,e,t)})}),n}var uwt=/^\s*<\s*\//,cwt={paragraph:function(r,e){var t=e.entering,n=e.origin,i=e.options;return i.nodeId?{type:t?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(r){var e=r.prev&&r.prev.type==="htmlInline",t=e&&/<br ?\/?>/.test(r.prev.literal),n=t?`
`:`<br>
`;return{type:"html",content:n}},item:function(r,e){var t=e.entering;if(t){var n={},i=[];return r.listData.task&&(n["data-task"]="",i.push("task-list-item"),r.listData.checked&&(i.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(r){var e={"data-backticks":String(r.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(r){var e=r,t=e.fenceLength,n=e.info,i=n?n.split(/\s+/):[],a=[],o={};if(t>3&&(o["data-backticks"]=t),i.length>0&&i[0].length>0){var s=i[0];a.push("lang-"+s),o["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:r.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(r,e){var t=e.origin,n=e.entering,i=e.skipChildren,a=r.info;if(a.indexOf("widget")!==-1&&n){i();var o=C5(r),s=x5(a,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return t()}};function j$(r,e){var t=ze({},cwt);return r&&(t.link=function(n,i){var a=i.entering,o=i.origin,s=o();return a&&(s.attributes=ze(ze({},s.attributes),r)),s}),e&&Object.keys(e).forEach(function(n){var i=t[n],a=e[n];i&&Ds(a)?t[n]=function(o,s){var l=ze({},s);return l.origin=function(){return i(o,s)},a(o,l)}:Ji(["htmlBlock","htmlInline"],n)&&!Ds(a)?t[n]=function(o,s){var l=o.literal.match(Wp);if(l){var u=l[0],c=l[1],h=l[3],p=(c||h).toLowerCase(),g=a[p],O=$X(o,p);if(g){var T=ze({},o);return T.attrs=qR(u),T.childrenHTML=O,T.type=p,s.entering=!uwt.test(o.literal),g(T,s)}}return s.origin()}:t[n]=a}),t}var fwt=["list","item","blockQuote"],hwt=["UL","OL","BLOCKQUOTE"];function dwt(r,e){var t,n=r.child(e);return!n.childCount||n.childCount===1&&!(!((t=n.firstChild.text)===null||t===void 0)&&t.trim())}function iF(r,e,t){var n=CO(e)-1,i=uk(e)-1,a=t[n].getBoundingClientRect(),o=t[i].offsetTop-t[n].offsetTop+t[i].clientHeight;return{height:o<=0?t[n].clientHeight:o+pwt(r,t,Math.min(i+1,r.childCount-1)),rect:a}}function pwt(r,e,t){for(var n=r.childCount-1,i=0;t<=n&&dwt(r,t);)i+=e[t].clientHeight,t+=1;return i}function mwt(r,e){for(;!r.getAttribute("data-nodeid")&&r.parentElement!==e;)r=r.parentElement;return r}function v1(r,e){for(var t=0;r&&r!==e&&(Ji(hwt,r.tagName)||(t+=r.offsetTop),r.offsetParent!==e.offsetParent);)r=r.parentElement;return t}function vwt(r,e){for(var t=e,n=null;t;){var i=t.firstElementChild;if(!i)break;var a=LX(i,r,v1(t,e));n=t,t=a}var o=t||n;return o===e?null:o}function LX(r,e,t){return r&&e>t+r.offsetTop?LX(r.nextElementSibling,e,t)||r:null}function gwt(r,e,t,n){var i=Math.min((r-e)/t,1);return i*n}function MD(r,e){for(var t=r.querySelector('[data-nodeid="'+e.id+'"]');!t||nIe(e);)e=e.parent,t=r.querySelector('[data-nodeid="'+e.id+'"]');return Owt({mdNode:e,el:t})}function Owt(r){for(var e=r.mdNode,t=r.el;(Ji(fwt,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,t=t.firstElementChild;return{mdNode:e,el:t}}var ul={};function ywt(r,e){ul[r]=ul[r]||{},ul[r].height=e}function bwt(r,e){ul[r]=ul[r]||{},ul[r].offsetTop=e}function wwt(r){return ul[r]&&ul[r].height}function kwt(r){return ul[r]&&ul[r].offsetTop}function VR(r){r&&(delete ul[Number(r.getAttribute("data-nodeid"))],uu(r.children).forEach(function(e){VR(e)}))}function Swt(r,e,t){var n=wwt(t),i=kwt(t),a=n||r.clientHeight,o=i||v1(r,e)||r.offsetTop;return n||ywt(t,a),i||bwt(t,o),{nodeHeight:a,offsetTop:o}}var AD=It("md-preview-highlight");function xwt(r,e){for(var t=r.firstChild;t&&t.next&&!(ck(t.next)>e+1);)t=t.next;return t}var _X=function(){function r(e,t){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=It("md-preview");var i=t.linkAttributes,a=t.customHTMLRenderer,o=t.sanitizer,s=t.highlight,l=s===void 0?!1:s;this.renderer=new X$({gfm:!0,nodeId:!0,convertors:j$(i,a)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(l),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return r.prototype.initContentSection=function(){this.previewContent=$5('<div class="'+It("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},r.prototype.toggleActive=function(e){$$(this.el,"active",e)},r.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var i=n.mdNode,a=n.cursorPos;t.updateCursorNode(i,a)}),this.eventEmitter.listen("blur",function(){t.removeHighlight()})),G5(this.el,"scroll",function(n){t.eventEmitter.emit("scroll","preview",vwt(n.target.scrollTop,t.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return t.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return t.toggleActive(!1)}))},r.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&ll(e,AD)}},r.prototype.updateCursorNode=function(e,t){e&&(e=Hp(e,function(o){return!oIe(o)}),e.type==="tableRow"?e=xwt(e,t[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var i=this.getElementByNodeId(this.cursorNodeId),a=this.getElementByNodeId(n);i&&ll(i,AD),a&&Jl(a,AD),this.cursorNodeId=n}},r.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},r.prototype.update=function(e){var t=this;e.forEach(function(n){return t.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},r.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,i=e.removedNodeRange,a=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(O){return t.renderer.render(O)}).join("")));if(!i)a.insertAdjacentHTML("afterbegin",o);else{var s=i.id,l=s[0],u=s[1],c=this.getElementByNodeId(l),h=this.getElementByNodeId(u);if(c){c.insertAdjacentHTML("beforebegin",o);for(var p=c;p&&p!==h;){var g=p.nextElementSibling;qh(p),VR(p),p=g}p!=null&&p.parentNode&&(qh(p),VR(p))}}},r.prototype.getRenderer=function(){return this.renderer},r.prototype.destroy=function(){Y5(this.el,"scroll"),this.el=null},r.prototype.getElement=function(){return this.el},r.prototype.getHTML=function(){return I$(this.previewContent.innerHTML)},r.prototype.setHTML=function(e){this.previewContent.innerHTML=e},r.prototype.setHeight=function(e){ou(this.el,{height:e+"px"})},r.prototype.setMinHeight=function(e){ou(this.el,{minHeight:e+"px"})},r}();function Zu(r,e){for(var t=r.depth;t;){var n=r.node(t);if(e(n,t))return{node:n,depth:t,offset:t>0?r.before(t):0};t-=1}return null}function Yp(r){return!!Zu(r,function(e){var t=e.type;return t.name==="listItem"||t.name==="bulletList"||t.name==="orderedList"})}function g1(r){return!!Zu(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function Gp(r){return Zu(r,function(e){var t=e.type;return t.name==="listItem"})}function yk(r){return{tag:r,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return ze({},t&&{rawHTML:t})}}}function IX(r){return Object.keys(r).reduce(function(e,t){return t!=="rawHTML"&&r[t]&&(t=t==="className"?"class":t,e[t]=r[t]),e},{})}function QX(r){return{tag:r,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(t,n){var i=n==="rawHTML"?"data-raw-html":n,a=e.getAttribute(i);return a&&(t[n]=Ji(["rawHTML","extended"],n)?a:Number(a)),t},{})}}}function Ni(){return{htmlAttrs:{default:null},classNames:{default:null}}}function hi(r){var e=r.htmlAttrs,t=r.classNames;return ze(ze({},e),{class:t?t.join(" "):null})}function Cwt(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.contentMatchAt(n).findWrapping(e);if(a){var o=a.length?a[0]:e;return t.canReplaceWith(n,i,o)?a:null}return null}function Twt(r,e){var t=r.parent,n=r.startIndex,i=r.endIndex,a=t.child(n),o=e.contentMatch.findWrapping(a.type);if(o){for(var s=o.length?o[o.length-1]:e,l=s.contentMatch,u=n;l&&u<i;u+=1)l=l.matchType(t.child(u).type);if(l&&l.validEnd)return o}return null}function Ewt(r,e,t,n){var i=Cwt(r,t),a=Twt(e,t);if(i&&a){var o=i.map(function(l){return{type:l}}),s=a.map(function(l){return{type:l,attrs:n}});return o.concat({type:t}).concat(s)}return null}function Mwt(r,e,t,n,i){for(var a=e.start,o=e.end,s=e.startIndex,l=e.endIndex,u=e.parent,c=nt.empty,h=t.length-1;h>=0;h-=1)c=nt.from(t[h].type.create(t[h].attrs,c));r.step(new Di(a-(n?2:0),o,a,o,new St(c,0,0),t.length,!0));for(var p=0,h=0;h<t.length;h+=1)if(t[h].type===i){p=h+1;break}for(var g=t.length-p,O=a+t.length-(n?2:0),h=s,T=l;h<T;h+=1){var M=h===s;!M&&kp(r.doc,O,g)&&(r.split(O,g),O+=g*2),O+=u.child(h).nodeSize}return r}function BX(r,e,t,n){var i=e.$from,a=e.$to,o=e.depth,s=e,l=!1;if(o>=2&&i.node(o-1).type.compatibleContent(t)&&e.startIndex===0&&i.index(o-1)){var u=r.doc.resolve(e.start-2);s=new jw(u,u,o),e.endIndex<e.parent.childCount&&(e=new jw(i,r.doc.resolve(a.end(o)),o)),l=!0}var c=Ewt(s,e,t,n);return c?Mwt(r,e,c,l,t):r}function qX(r,e){for(var t=r.resolve(e);t.node().type.name!=="paragraph";)e-=2,t=r.resolve(e);return Gp(t)}function Awt(r,e){var t=e.$from,n=e.$to,i=Gp(t),a=Gp(n);if(i&&a)for(;a;){var o=a.offset,s=a.node,l={task:!s.attrs.task,checked:!1};if(r.setNodeMarkup(o,null,l),o===i.offset)break;a=qX(r.doc,o)}return r}function Dwt(r,e,t){var n=e.$from,i=e.$to,a=Gp(n),o=Gp(i);if(a&&o)for(;o;){var s=o.offset,l=o.node,u=o.depth;l.attrs.task&&r.setNodeMarkup(s,null,{task:!1,checked:!1});var c=r.doc.resolve(s);if(c.parent.type!==t){var h=c.before(u-1);r.setNodeMarkup(h,t)}if(s===a.offset)break;o=qX(r.doc,s)}return r}function FX(r){return function(e,t){var n=e.selection,i=e.tr,a=n.$from,o=n.$to,s=a.blockRange(o);if(s){var l=Yp(a)?Dwt(i,s,r):BX(i,s,r);return t(l),!0}return!1}}function Pwt(){return function(r,e){var t=r.selection,n=r.tr,i=r.schema,a=t.$from,o=t.$to,s=a.blockRange(o);if(s){var l=Yp(a)?Awt(n,s):BX(n,s,i.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function Rwt(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,s=a.blockRange(o,function(T){var M=T.childCount,R=T.firstChild;return!!M&&R.type===r});if(s&&s.startIndex>0){var l=s.parent,u=l.child(s.startIndex-1);if(u.type!==r)return!1;var c=u.lastChild&&u.lastChild.type===l.type,h=c?nt.from(r.create()):null,p=new St(nt.from(r.create(null,nt.from(l.type.create(null,h)))),c?3:1,0),g=s.start,O=s.end;return n.step(new Di(g-(c?3:1),O,g,O,p,1,!0)),t(n),!0}return!1}}function Nwt(r,e,t){var n=e.$from,i=e.$to,a=e.end,o=e.depth,s=e.parent,l=i.end(o);return a<l&&(r.step(new Di(a-1,l,a,l,new St(nt.from(t.create(null,s.copy())),1,0),1,!0)),e=new jw(r.doc.resolve(n.pos),r.doc.resolve(l),o)),r.lift(e,rk(e)),r}function $wt(r,e){for(var t=e.parent,n=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i-=1)n-=t.child(i).nodeSize,r.delete(n-1,n+1);var o=r.doc.resolve(e.start),s=o.nodeAfter,l=e.startIndex===0,u=e.endIndex===t.childCount,c=o.node(-1),h=o.index(-1),p=c.canReplace(h+(l?0:1),h+1,s==null?void 0:s.content.append(u?nt.empty:nt.from(t)));if(s&&p){var g=o.pos,O=g+s.nodeSize;r.step(new Di(g-(l?1:0),O+(u?1:0),g+1,O-1,new St((l?nt.empty:nt.from(t.copy(nt.empty))).append(u?nt.empty:nt.from(t.copy(nt.empty))),l?0:1,u?0:1),l?0:1))}return r}function Lwt(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,s=a.blockRange(o,function(c){var h=c.childCount,p=c.firstChild;return!!h&&p.type===r});if(s){var l=a.node(s.depth-1).type===r,u=l?Nwt(n,s,r):$wt(n,s);return t(u),!0}return!1}}function _wt(r){return function(e,t){var n=e.tr,i=e.selection,a=i.$from,o=i.$to;if(a.depth<2||!a.sameParent(o))return!1;var s=a.node(-1);if(s.type!==r)return!1;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==r||a.index(-2)!==a.node(-2).childCount-1)return!1;for(var l=a.index(-1)>0,u=nt.empty,c=a.depth-(l?1:2);c>=a.depth-3;c-=1)u=nt.from(a.node(c).copy(u));return u=u.append(nt.from(r.createAndFill())),n.replace(l?a.before():a.before(-1),a.after(-3),new St(u,l?3:2,2)),n.setSelection(Dr.near(n.doc.resolve(a.pos+(l?3:2)))),t(n),!0}var h=o.pos===a.end()?s.contentMatchAt(0).defaultType:null,p=h&&[null,{type:h}];return n.delete(a.pos,o.pos),kp(n.doc,a.pos,2,p)?(n.split(a.pos,2,p),t(n),!0):!1}}function Iwt(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&Yp(i)?Rwt(n.nodes.listItem)(r,e):!1}}}function Qwt(){return function(){return function(r,e){var t=r.selection,n=r.schema,i=t.$from,a=t.$to,o=i.blockRange(a);return o&&Yp(i)?Lwt(n.nodes.listItem)(r,e):!1}}}function Y$(){return{indent:Iwt(),outdent:Qwt()}}var aF=new Map,Wi=function(){function r(e,t,n,i){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=i}return r.create=function(e){var t=Zu(e,function(O){var T=O.type;return T.name==="table"});if(t){var n=t.node,i=t.depth,a=t.offset,o=aF.get(n);if((o==null?void 0:o.tableStartPos)===a+1)return o;var s=[],l=e.start(i),u=n.child(0),c=n.child(1),h=ZR(u,l),p=ZR(c,l+u.nodeSize);u.forEach(function(O){return s.push(O)}),c.forEach(function(O){return s.push(O)});var g=new r(n,s,l,h.concat(p));return aF.set(n,g),g}return null},Object.defineProperty(r.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),r.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},r.prototype.posAt=function(e,t){for(var n=0,i=this.tableStartPos;;n+=1){var a=i+this.tableRows[n].nodeSize;if(n===e){for(var o=t;o<this.totalColumnCount&&this.rowInfo[n][o].offset<i;)o+=1;return o===this.totalColumnCount?a:this.rowInfo[n][o].offset}i=a}},r.prototype.getNodeAndPos=function(e,t){var n=this.rowInfo[e][t];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},r.prototype.extendedRowspan=function(e,t){return!1},r.prototype.extendedColspan=function(e,t){return!1},r.prototype.getRowspanCount=function(e,t){return 0},r.prototype.getColspanCount=function(e,t){return 0},r.prototype.decreaseColspanCount=function(e,t){return 0},r.prototype.decreaseRowspanCount=function(e,t){return 0},r.prototype.getColspanStartInfo=function(e,t){return null},r.prototype.getRowspanStartInfo=function(e,t){return null},r.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},r.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],i=n.offset,a=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):i+a},r.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],i=0;i<this.totalColumnCount;i+=1)if(n[i].offset+1>e.pos)return[t,i];return[0,0]},r.prototype.getRectOffsets=function(e,t){var n,i,a;t===void 0&&(t=e),e.pos>t.pos&&(n=[t,e],e=n[0],t=n[1]);var o=this.getCellIndex(e),s=o[0],l=o[1],u=this.getCellIndex(t),c=u[0],h=u[1];return i=oq(s,c),s=i[0],c=i[1],a=oq(l,h),l=a[0],h=a[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:l,endRowIdx:c,endColIdx:h})},r.prototype.getSpannedOffsets=function(e){return e},r}(),ZR=function(r,e){var t=[];return r.forEach(function(n,i){var a={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(o,s){for(var l=o.nodeSize,u=0;a[u];)u+=1;a[u]={offset:e+i+s+2,nodeSize:l},a.length+=1}),t.push(a)}),t};function Bwt(r,e){return D$(Wi.prototype,r),ZR=e,Wi}function qwt(r,e,t){for(var n=t.startRowIdx,i=t.startColIdx,a=t.endRowIdx,o=t.endColIdx,s=[],l=n;l<=a;l+=1)for(var u=i;u<=o;u+=1){var c=e.getCellInfo(l,u),h=c.offset,p=c.nodeSize;s.push(new CU(r.resolve(h+1),r.resolve(h+p-1)))}return s}function Fwt(r,e){var t=[];return r.childCount&&t.push(r),e.childCount&&t.push(e),nt.from(t)}var G$=function(r){Dt(e,r);function e(t,n){n===void 0&&(n=t);var i=this,a=t.node(0),o=Wi.create(t),s=o.getRectOffsets(t,n),l=qwt(a,o,s);return i=r.call(this,l[0].$from,l[0].$to,l)||this,i.startCell=t,i.endCell=n,i.offsetMap=o,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(t,n){var i=this.startCell.pos,a=this.endCell.pos,o=t.resolve(n.map(i)),s=t.resolve(n.map(a)),l=Wi.create(o);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=u[s.parent.type.name],h=s.end(s.depth-c),p=Math.min(h-4,s.pos);return Qr.create(t,p)}return new e(o,s)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),n=this.startCell.start(-2),i=t.child(1).firstChild,a=t.child(0).type.create(),o=t.child(1).type.create(),s=Wi.create(this.startCell),l=s.getRectOffsets(this.startCell,this.endCell),u=l.startRowIdx,c=l.startColIdx,h=l.endRowIdx,p=l.endColIdx,g=!1,O=u;O<=h;O+=1){for(var T=[],M=c;M<=p;M+=1){var R=s.getCellInfo(O,M).offset,z=t.nodeAt(R-n);z&&(g=z.type.name==="tableHeadCell",s.extendedRowspan(O,M)||s.extendedColspan(O,M)?T.push(z.type.create({extended:!0})):T.push(z.copy(z.content)))}var U=i.copy(nt.from(T)),G=g?a:o;G.content=G.content.append(nt.from(U))}return new St(Fwt(a,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(Dr);function Vwt(r,e,t){for(var n=e.nodes,i=n.tableRow,a=n.tableHeadCell,o=n.paragraph,s=[],l=0;l<r;l+=1){var u=t&&t[l],c=o.create(null,u?e.text(u):[]);s.push(a.create(null,c))}return[i.create(null,s)]}function VX(r,e,t,n){for(var i=t.nodes,a=i.tableRow,o=i.tableBodyCell,s=i.paragraph,l=[],u=0;u<r;u+=1){for(var c=[],h=0;h<e;h+=1){var p=n&&n[u*e+h],g=s.create(null,p?t.text(p):[]);c.push(o.create(null,g))}l.push(a.create(null,c))}return l}function X0(r,e,t,n){n===void 0&&(n=null);for(var i=t.nodes,a=i.tableHeadCell,o=i.tableBodyCell,s=i.paragraph,l=e===0?a:o,u=[],c=0;c<r;c+=1)u.push(l.create(n,s.create()));return u}function ZX(r,e){for(;r&&r!==e;){if(r.nodeName==="TD"||r.nodeName==="TH")return r;r=r.parentNode}return null}function zX(r){return Zu(r,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function Vl(r){if(r instanceof Qr){var e=r.$anchor,t=zX(e);if(t){var n=e.node(0).resolve(e.before(t.depth));return{anchor:n,head:n}}}var i=r,a=i.startCell,o=i.endCell;return{anchor:a,head:o}}function HX(r){var e;if(r.size){var t=r.content,n=r.openStart,i=r.openEnd;if(t.childCount!==1)return null;for(;t.childCount===1&&(n>0&&i>0||((e=t.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,i-=1,t=t.firstChild.content;if(t.firstChild.type.name==="tableHead"||t.firstChild.type.name==="tableBody")return t}return null}function fp(r){var e=r.startRowIdx,t=r.startColIdx,n=r.endRowIdx,i=r.endColIdx,a=n-e+1,o=i-t+1;return{rowCount:a,columnCount:o}}function Zwt(r,e){return ze(ze({},r.attrs),e)}var Uc=new bO("cellSelection"),zwt=2,Hwt=function(){function r(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return r.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},r.prototype.handleMousedown=function(e){var t=ZX(e.target,this.view.dom);if(e.button===zwt){e.preventDefault();return}if(t){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},r.prototype.handleMousemove=function(e){var t=Uc.getState(this.view.state),n=this.getCellPos(e),i=this.startCellPos,a;t?a=this.view.state.doc.resolve(t):i!==n&&(a=i),a&&i&&n&&this.setCellSelection(i,n)},r.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),Uc.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(Uc,-1))},r.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},r.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},r.prototype.getCellPos=function(e){var t=e.clientX,n=e.clientY,i=this.view.posAtCoords({left:t,top:n});if(i){var a=this.view.state.doc,o=a.resolve(i.pos),s=zX(o);if(s){var l=o.before(s.depth);return a.resolve(l)}}return null},r.prototype.setCellSelection=function(e,t){var n=this.view.state,i=n.selection,a=n.tr,o=Uc.getState(this.view.state)===null,s=new G$(e,t);if(o||!i.eq(s)){var l=a.setSelection(s);o&&l.setMeta(Uc,t.pos),this.view.dispatch(l)}},r.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},r}(),Wwt=It("cell-selected");function Uwt(r){var e=r.selection,t=r.doc;if(e instanceof G$){var n=[],i=e.ranges;return i.forEach(function(a){var o=a.$from,s=a.$to;n.push(mo.node(o.pos-1,s.pos+1,{class:Wwt}))}),Gn.create(t,n)}return null}function Xwt(){return new wo({key:Uc,state:{init:function(){return null},apply:function(r,e){var t=r.getMeta(Uc);if(t)return t===-1?null:t;if(n1(e)||!r.docChanged)return e;var n=r.mapping.mapResult(e),i=n.deleted,a=n.pos;return i?null:a}},props:{decorations:Uwt,createSelectionBetween:function(r){var e=r.state;return n1(Uc.getState(e))?null:e.selection}},view:function(r){return new Hwt(r)}})}var WX=function(){function r(){this.keys=[],this.values=[]}return r.prototype.getKeyIndex=function(e){return Qh(e,this.keys)},r.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},r.prototype.set=function(e,t){var n=this.getKeyIndex(e);return n>-1?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},r.prototype.has=function(e){return this.getKeyIndex(e)>-1},r.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1?(this.keys.splice(t,1),this.values.splice(t,1),!0):!1},r.prototype.forEach=function(e,t){var n=this;t===void 0&&(t=this),this.values.forEach(function(i,a){i&&n.keys[a]&&e.call(t,i,n.keys[a],n)})},r.prototype.clear=function(){this.keys=[],this.values=[]},r}(),DD="en-US",jwt=function(){function r(){this.code=DD,this.langs=new WX}return r.prototype.setCode=function(e){this.code=e||DD},r.prototype.setLanguage=function(e,t){var n=this;e=[].concat(e),e.forEach(function(i){if(!n.langs.has(i))n.langs.set(i,t);else{var a=n.langs.get(i);n.langs.set(i,x$(a,t))}})},r.prototype.get=function(e,t){t||(t=this.code);var n=this.langs.get(t);n||(n=this.langs.get(DD));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+t);return i},r}(),vr=new jwt,Ywt=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function Gwt(r,e){return Ywt.map(function(t){return t.map(function(n){var i=n.action,a=n.command,o=n.payload,s=n.disableInThead,l=n.className;return{label:vr.get(i),onClick:function(){r.emit("command",a,o)},disabled:e&&!!s,className:l}})}).concat()}function Kwt(r){return new wo({props:{handleDOMEvents:{contextmenu:function(e,t){var n=ZX(t.target,e.dom);if(n){t.preventDefault();var i=t,a=i.clientX,o=i.clientY,s=e.dom.parentNode.getBoundingClientRect(),l=s.left,u=s.top,c=n.nodeName==="TH";return r.emit("contextmenu",{pos:{left:a-l+10+"px",top:o-u+30+"px"},menuGroups:Gwt(r,c),tableCell:n}),!0}return!1}}}})}function Jwt(){return new wo({props:{handleDOMEvents:{mousedown:function(r,e){var t=e,n=t.clientX,i=t.clientY,a=r.posAtCoords({left:n,top:i});if(a){var o=r.state,s=o.doc,l=o.tr,u=s.resolve(a.pos),c=Gp(u),h=e.target,p=getComputedStyle(h,":before"),g=e,O=g.offsetX,T=g.offsetY;if(!c||!N$(p,O,T))return!1;e.preventDefault();var M=u.before(c.depth),R=c.node.attrs;return l.setNodeMarkup(M,null,ze(ze({},R),{checked:!R.checked})),r.dispatch(l),!0}return!1}}}})}var e1t=["image","link","customBlock","frontMatter"],t1t=["strong","strike","emph","code"],UX=["bulletList","orderedList","taskList"];function r1t(r,e){var t=r.type.name;return t==="listItem"?r.attrs.task?"taskList":e.type.name:t.indexOf("table")!==-1?"table":t}function n1t(r,e){e[r]={active:!0},UX.filter(function(t){return t!==r}).forEach(function(t){e[t]&&delete e[t]})}function i1t(r,e,t,n){t1t.forEach(function(i){var a=t.marks[i],o=r.marksAcross(e)||[],s=!!a.isInSet(o);s&&(n[i]={active:!0})})}function a1t(r,e,t){var n=r.$from,i=r.$to,a=r.from,o=r.to,s={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(a,o,function(l,u,c){var h=r1t(l,c);Ji(e1t,h)||(Ji(UX,h)?(n1t(h,s),s.indent.disabled=!1,s.outdent.disabled=!1):h==="paragraph"||h==="text"?i1t(n,i,t,s):s[h]={active:!0})}),s}function o1t(r){return new wo({view:function(){return{update:function(e){var t=e.state,n=t.selection,i=t.doc,a=t.schema;r.emit("changeToolbarState",{toolbarState:a1t(n,i,a)})}}}})}var s1t=function(){function r(e,t,n,i){var a=this;this.openEditor=function(){if(a.innerEditorView)throw new Error("The editor is already opened.");a.dom.draggable=!1,a.wrapper.style.display="none",a.innerViewContainer.style.display="block",a.innerEditorView=new O$(a.innerViewContainer,{state:vh.create({doc:a.node,plugins:[tO({"Mod-z":function(){return Og(a.innerEditorView.state,a.innerEditorView.dispatch)},"Shift-Mod-z":function(){return S$(a.innerEditorView.state,a.innerEditorView.dispatch)},Tab:function(o,s){return s(o.tr.insertText("	")),!0},Enter:c5,Escape:function(){return a.cancelEditing(),!0},"Ctrl-Enter":function(){return a.saveAndFinishEditing(),!0}}),g5()]}),dispatchTransaction:function(o){return a.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return a.editorView.hasFocus()&&a.innerEditorView.focus(),!0},blur:function(){return a.saveAndFinishEditing(),!0}}}),a.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=It("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=It("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return r.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),t.appendChild(n),t.appendChild(i),this.wrapper.appendChild(t)},r.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},r.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=It("custom-block-editor"),this.innerViewContainer.style.display="none"},r.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},r.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(Bn(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},r.prototype.cancelEditing=function(){var e=t_e(this.innerEditorView.state);for(this.canceled=!0;e--;)Og(this.innerEditorView.state,this.innerEditorView.dispatch),Og(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(Qr.create(n.doc,t))),this.editorView.focus(),this.closeEditor()},r.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),n=t.state,i=t.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Ds(this.getPos)){for(var a=this.editorView.state.tr,o=fo.offset(this.getPos()+1),s=0;s<i.length;s+=1)for(var l=i[s].steps,u=0;u<l.length;u+=1)a.step(l[u].map(o));a.docChanged&&this.editorView.dispatch(a)}},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},r.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},r.prototype.ignoreMutation=function(){return!0},r.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},r}(),oF="image-link",l1t=function(){function r(e,t,n,i){var a=this,o;this.handleMousedown=function(s){s.preventDefault();var l=s.target,u=s.offsetX,c=s.offsetY;if(a.imageLink&&Ds(a.getPos)&&E5(l,oF)){var h=getComputedStyle(l,":before");if(s.stopPropagation(),N$(h,u,c)){var p=a.view.state.tr,g=a.getPos();p.setSelection(Bn(p,g,g+1)),a.view.dispatch(p),a.eventEmitter.emit("openPopup","link",a.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.imageLink=(o=e.marks.filter(function(s){var l=s.type;return l.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=oF,t.appendChild(e),t}return e},r.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,i=n.imageUrl,a=n.altText,o=hi(e.attrs);return t.src=i,a&&(t.alt=a),_$(o,t),t},r.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},r.prototype.stopEvent=function(){return!0},r.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},r}(),u1t="toastui-editor-ww-code-block",c1t="toastui-editor-ww-code-block-language",f1t=function(){function r(e,t,n,i){var a=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(o){var s=o.target,l=getComputedStyle(s,":after");if(l.backgroundImage!=="none"&&Ds(a.getPos)){var u=a.view.coordsAtPos(a.getPos()),c=u.top,h=u.right;a.createLanguageEditor({top:c,right:h})}},this.handleKeydown=function(o){o.key==="Enter"&&a.input&&(o.preventDefault(),a.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return r.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=u1t;var n=this.createCodeBlockElement(),i=n.firstChild;t.appendChild(n),this.dom=t,this.contentDOM=i},r.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,i=hi(this.node.attrs);return n&&t.setAttribute("data-language",n),_$(i,e),e.appendChild(t),e},r.prototype.createLanguageEditor=function(e){var t=this,n=e.top,i=e.right,a=document.createElement("span");a.className=c1t;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,a.appendChild(o),this.view.dom.parentElement.appendChild(a);var s=a.clientWidth;ou(a,{top:n+10+"px",left:i-s-10+"px",width:s+"px"}),this.input=o,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},r.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},r.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},r.prototype.changeLanguage=function(){if(this.input&&Ds(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(t,null,{language:e}),this.view.dispatch(n)}},r.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var t=this.input.parentElement;this.input=null,qh(t)}},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.stopEvent=function(){return!0},r.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},r.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},r}(),h1t=/MsoListParagraph/,XX=/style=(.|\n)*mso-/,jX=/mso-list:(.*)/,d1t=/O:P/,p1t=/^(n|u|l)/,m1t="p.MsoListParagraph";function v1t(r){return XX.test(r)}function g1t(r){for(var e=[],t=document.createTreeWalker(r,1,null,!1);t.nextNode();){var n=t.currentNode;if(hk(n)){var i=n,a=i.outerHTML,o=i.textContent,s=XX.test(a),l=jX.test(a);s&&!l&&o?e.push([n,!0]):(d1t.test(n.nodeName)||s&&!o||l)&&e.push([n,!1])}}return e.forEach(function(u){var c=u[0],h=u[1];h?$Ie(c):qh(c)}),r.innerHTML.trim()}function O1t(r,e){var t=r.getAttribute("style");if(t){var n=t.match(jX),i=n[1],a=i.trim().split(" "),o=a[1],s=parseInt(o.replace("level",""),10),l=p1t.test(r.textContent||"");return{id:e,level:s,prev:null,parent:null,children:[],unordered:l,contents:g1t(r)}}return null}function y1t(r,e){if(e.level<r.level)e.children.push(r),r.parent=e;else{for(;e&&e.level!==r.level;)e=e.parent;e&&(r.prev=e,r.parent=e.parent,r.parent&&r.parent.children.push(r))}}function b1t(r){var e=[];return r.forEach(function(t,n){var i=e[n-1],a=O1t(t,n);a&&(i&&y1t(a,i),e.push(a))}),e}function YX(r){var e=r[0].unordered?"ul":"ol",t=document.createElement(e);return r.forEach(function(n){var i=n.children,a=n.contents,o=document.createElement("li");o.innerHTML=a,t.appendChild(o),i.length&&t.appendChild(YX(i))}),t}function w1t(r){var e=b1t(r),t=e.filter(function(n){var i=n.parent;return!i});return YX(t)}function k1t(r){for(;r&&!hk(r);)r=r.nextSibling;return r?!h1t.test(r.className):!0}function S1t(r){var e=document.createElement("div");e.innerHTML=r;var t=[],n=PIe(e,m1t);n.forEach(function(a){var o=k1t(a.nextSibling);if(t.push(a),o){var s=w1t(t),l=a.nextSibling;l?NIe(s,l):RIe(e,s),t=[]}qh(a)});var i=n.length?"<p></p>":"";return""+i+e.innerHTML}var sF="<!--StartFragment-->",x1t="<!--EndFragment-->";function C1t(r){var e=r.indexOf(sF),t=r.lastIndexOf(x1t);return e>-1&&t>-1&&(r=r.slice(e+sF.length,t)),r.replace(/<br[^>]*>/g,R5)}function T1t(r){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(r)&&(r="<tr>"+r+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(r)&&(r="<table>"+r+"</table>"),r}function E1t(r){return r=C1t(r),r=T1t(r),v1t(r)&&(r=S1t(r)),r}function M1t(r){var e=r.reduce(function(t,n){return t.childCount>n.childCount?t:n});return e.childCount}function GX(r,e,t){for(var n=[],i=r.childCount,a=0;a<i;a+=1)if(!r.child(a).attrs.extended){var o=a<i?t.create(r.child(a).attrs,r.child(a).content):t.createAndFill();n.push(o)}return n}function KX(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableHeadCell,o=GX(r,e,a);return i.create(null,o)}function JX(r,e,t){var n=t.nodes,i=n.tableRow,a=n.tableBodyCell,o=GX(r,e,a);return i.create(null,o)}function A1t(r,e){for(var t=e.nodes,n=t.tableRow,i=t.tableBodyCell,a=[],o=0;o<r;o+=1){var s=i.createAndFill();a.push(s)}return n.create({dummyRowForPasting:!0},a)}function ej(r){var e=[],t=[];if(r.firstChild.type.name==="tableHead"){var n=r.firstChild;n.forEach(function(a){return e.push(a)})}if(r.lastChild.type.name==="tableBody"){var i=r.lastChild;i.forEach(function(a){return t.push(a)})}return bo(bo([],e),t)}function D1t(r,e,t){var n=KX(r,e,t);return t.nodes.tableHead.create(null,n)}function lF(r,e,t){var n=r.map(function(a){return JX(a,e,t)});if(!r.length){var i=A1t(e,t);n.push(i)}return t.nodes.tableBody.create(null,n)}function P1t(r,e,t,n){var i=M1t(r);if(t&&n)return e.nodes.table.create(null,[lF(r,i,e)]);var a=r[0],o=r.slice(1),s=[D1t(a,i,e)];return o.length&&s.push(lF(o,i,e)),e.nodes.table.create(null,s)}function R1t(r,e,t){var n=[],i=r.content,a=r.openStart,o=r.openEnd;return i.forEach(function(s){if(s.type.name==="table"){var l=HX(new St(nt.from(s),0,0));if(l){var u=ej(l),c=l.firstChild.type.name==="tableBody",h=P1t(u,e,c,t);n.push(h)}}else n.push(s)}),new St(nt.from(n),a,o)}var N1t=4,$1t=2;function j0(r){return r*N1t}function L1t(r,e,t){var n=[],i=ej(r),a=i[0].childCount,o=i.length,s=e.startRowIdx===0,l=i.slice(0,o);if(s){var u=l.shift();if(u){var c=KX(u,a,t).content;n.push(c)}}return l.forEach(function(h){if(!h.attrs.dummyRowForPasting){var p=JX(h,a,t).content;n.push(p)}}),n}function _1t(r,e,t){for(var n=e.startRowIdx,i=e.startColIdx,a=t.length,o=0,s=function(g){var O=t[g].childCount;t[g].forEach(function(T){var M=T.attrs,R=M.colspan;R>1&&(O+=R-1)}),o=Math.max(o,O)},l=0;l<a;l+=1)s(l);var u=n+a-1,c=i+o-1,h=Math.max(u+1-r.totalRowCount,0),p=Math.max(c+1-r.totalColumnCount,0);return{startRowIdx:n,startColIdx:i,endRowIdx:u,endColIdx:c,addedRowCount:h,addedColumnCount:p}}function I1t(r,e){for(var t=r.startRowIdx,n=r.startColIdx,i=r.endRowIdx,a=r.endColIdx,o=r.addedRowCount,s=r.addedColumnCount,l=t;l<=i-o;l+=1)e.push({rowIdx:l,startColIdx:n,endColIdx:a-s})}function Q1t(r,e,t,n,i){for(var a=n.startRowIdx,o=n.startColIdx,s=n.endRowIdx,l=n.endColIdx,u=n.addedRowCount,c=n.addedColumnCount,h=t.totalRowCount,p=0,g=0;g<h;g+=1){var O=t.getCellInfo(g,l-c),T=O.offset,M=O.nodeSize,R=r.mapping.map(T+M),z=X0(c,g,e);if(r.insert(R,z),g>=a&&g<=s-u){var U=t.getCellInfo(g,l-c),G=r.mapping.map(U.offset),J=R+j0(c);i[p]={rowIdx:g,startColIdx:o,endColIdx:l,dummyOffsets:[G,J]},p+=1}}}function B1t(r,e,t,n,i){var a=n.addedRowCount,o=n.addedColumnCount,s=n.startColIdx,l=n.endColIdx,u=r.mapping.maps.length,c=t.tableEndOffset-2,h=VX(a,t.totalColumnCount+o,e),p=c;r.insert(r.mapping.slice(u).map(p),h);for(var g=0;g<a;g+=1){var O=p+j0(s)+1,T=p+j0(l+1)+1,M=p+j0(t.totalColumnCount+o)+$1t;i.push({rowIdx:g+t.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[O,T]}),p=M}}function q1t(r,e,t,n){var i=r.mapping.maps.length;t.forEach(function(a,o){var s=a.rowIdx,l=a.startColIdx,u=a.endColIdx,c=a.dummyOffsets,h=r.mapping.slice(i),p=new St(e[o],0,0),g=c?c[0]:n.getCellStartOffset(s,l),O=c?c[1]:n.getCellEndOffset(s,u);r.replace(h.map(g),h.map(O),p)})}function F1t(r,e){var t=r.state,n=t.selection,i=t.schema,a=t.tr,o=Vl(n),s=o.anchor,l=o.head;if(s&&l){var u=HX(e);if(!u)return!1;var c=Wi.create(s),h=c.getRectOffsets(s,l),p=L1t(u,h,i),g=_1t(c,h,p),O=[];return Z1t(c,g)&&(I1t(g,O),g.addedColumnCount&&Q1t(a,i,c,g,O),g.addedRowCount&&B1t(a,i,c,g,O),q1t(a,p,O,c),r.dispatch(a),V1t(r,O,c.getCellInfo(0,0).offset)),!0}return!1}function V1t(r,e,t){var n=r.state,i=n.tr,a=n.doc,o=Wi.create(a.resolve(t)),s=e[0],l=s.rowIdx,u=s.startColIdx,c=ba(e),h=c.rowIdx,p=c.endColIdx,g=o.getCellInfo(l,u).offset,O=o.getCellInfo(h,p).offset;r.dispatch(i.setSelection(new G$(a.resolve(g),a.resolve(O))))}function Z1t(r,e){var t=r.getSpannedOffsets(e),n=fp(t),i=n.rowCount,a=n.columnCount,o=fp(e),s=o.rowCount,l=o.columnCount;return i===s&&a===l}var z1t=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(Dn),H1t=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:ze({},Ni()),parseDOM:[{tag:"p"}],toDOM:function(t){var n=t.attrs;return["p",hi(n),0]}}},enumerable:!1,configurable:!0}),e}(Dn),W1t=/\s{1,4}$/,U1t=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,o=i.$from,s=i.$to,l=o.blockRange(s);return l&&!Yp(o)&&!g1(o)?(n(a.insertText("    ",o.pos,s.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(t,n){var i=t.selection,a=t.tr,o=i.$from,s=i.$to,l=i.from,u=o.blockRange(s);if(u&&!Yp(o)&&!g1(o)){var c=o.nodeBefore;if(c&&c.isText){var h=c.text,p=h.replace(W1t,""),g=h.length-p.length;return n(a.delete(l-g,l)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(Dn),X1t=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return ze({level:n},a&&{rawHTML:a})}}});return{attrs:ze({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},Ni()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(n){var i=n.attrs;return["h"+i.level,hi(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){var a=n.schema.nodes[t.level?"heading":"paragraph"];return k$(a,t)(n,i)}}},e}(Dn),j1t=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:ze({language:{default:null},rawHTML:{default:null}},Ni()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var n=t.getAttribute("data-raw-html"),i=t.firstElementChild;return ze({language:(i==null?void 0:i.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"pre",["code",ze({"data-language":n.language},hi(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return k$(t.schema.nodes.codeBlock)(t,n)}}},e.prototype.moveCursor=function(t){var n=this;return function(i,a){var o=i.tr,s=i.doc,l=i.schema,u=i.selection.$from,c=n.context.view;if(c.endOfTextblock(t)&&u.node().type.name==="codeBlock"){var h=u.parent.textContent.split(`
`),p=t==="up"?u.start():u.end(),g=t==="up"?[p,h[0].length+p]:[p-ba(h).length,p],O=s.resolve(t==="up"?u.before():u.after()),T=t==="up"?O.nodeBefore:O.nodeAfter;if(J_e(u.pos,g[0],g[1])&&!T){var M=P$(o,O,l);if(M)return a(M),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(Dn),Y1t=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:ze({rawHTML:{default:null}},Ni()),parseDOM:[yk("ul")],toDOM:function(t){var n=t.attrs;return["ul",hi(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,n){return FX(t.schema.nodes.bulletList)(t,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:Pwt}},e.prototype.keymaps=function(){var t=this.changeList(),n=Y$(),i=n.indent,a=n.outdent;return{"Mod-u":t,"Mod-U":t,Tab:i(),"Shift-Tab":a()}},e}(Dn),G1t=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:ze({order:{default:1},rawHTML:{default:null}},Ni()),parseDOM:[{tag:"ol",getAttrs:function(t){var n=t.getAttribute("start"),i=t.getAttribute("data-raw-html");return ze({order:t.hasAttribute("start")?Number(n):1},i&&{rawHTML:i})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"ol",ze({start:n.order===1?null:n.order},hi(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return FX(t.schema.nodes.orderedList)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()(),n=Y$(),i=n.indent,a=n.outdent;return{"Mod-o":t,"Mod-O":t,Tab:i(),"Shift-Tab":a()}},e}(Dn),K1t=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return ze({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs,i=n.task,a=n.checked;if(!i)return[n.rawHTML||"li",0];var o=["task-list-item"];return a&&o.push("checked"),[n.rawHTML||"li",ze({class:o.join(" "),"data-task":i},a&&{"data-task-checked":a}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,n){var i=t.selection,a=t.tr,o=t.schema,s=i.$from,l=i.empty,u=o.nodes.listItem,c=s.parent,h=s.node(-1);if(l&&!c.childCount&&h.type===u){if(s.index(-2)>=1)return a.delete(s.start(-1)-1,s.end(-1)),n(a),!0;var p=s.node(-3);if(p.type===u)return a.delete(s.start(-2)-1,s.end(-1)),n(a),!0}return!1}},e.prototype.keymaps=function(){var t=function(n,i){return _wt(n.schema.nodes.listItem)(n,i)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e}(Dn),J1t=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:ze({rawHTML:{default:null}},Ni()),content:"block+",group:"block",parseDOM:[yk("blockquote")],toDOM:function(t){var n=t.attrs;return["blockquote",hi(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return FLe(t.schema.nodes.blockQuote)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}(Dn),ekt={left:lkt,right:skt,up:ukt,down:ckt};function tkt(r,e,t){var n=t[0],i=t[1],a=e.resolve(r.before(n-1));return i===n&&!a.nodeBefore}function rkt(r){for(var e,t=r.depth,n;t&&(n=r.node(t),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var i=r.node(t-1),a=i.lastChild===n,o=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return a?!o:!1}t-=1}return!1}function nkt(r,e,t,n,i){var a=e[0],o=e[1],s=e[2];if(r==="left"||r==="up"){if(i&&!tkt(t,n,[a,o]))return!1;var l=t.before(s),u=n.resolve(l).nodeBefore;if(u)return!1}return!0}function ikt(r,e,t,n,i){if(r==="right"||r==="down"){if(i&&!rkt(t))return!1;var a=t.after(e),o=n.resolve(a).nodeAfter;if(o)return!1}return!0}function akt(r,e,t,n){var i=e[0],a=e[1],o=i+3,s=a>=o,l=s?i+1:a,u=nkt(r,[a,o,l],t,n,s),c=ikt(r,l,t,n,s);return u&&c}function uF(r,e,t){var n=t[0],i=t[1],a=e.getRowspanStartInfo(n,i),o=r==="up"&&n===0,s=r==="down"&&((a==null?void 0:a.count)>1?n+a.count-1:n)===e.totalRowCount-1;return o||s}function okt(r,e,t){var n=r.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?r.setSelection(Dr.near(n,-1)):P$(r,n,t)}function PD(r,e,t,n){n===void 0&&(n=!1);var i=r.doc.resolve(e.tableEndOffset);return n||!i.nodeAfter?P$(r,i,t):r.setSelection(Dr.near(i,1))}function skt(r,e){var t=r[0],n=r[1],i=e.totalRowCount,a=e.totalColumnCount,o=n===a-1,s=t===i-1&&o;if(!s){var l=n+1,u=e.getColspanStartInfo(t,n);(u==null?void 0:u.count)>1&&(l+=u.count-1),(o||l===a)&&(t+=1,l=0);var c=e.getCellInfo(t,l).offset;return c+2}return null}function lkt(r,e){var t=r[0],n=r[1],i=e.totalColumnCount,a=n===0,o=t===0&&a;if(!o){n-=1,a&&(t-=1,n=i-1);var s=e.getCellInfo(t,n),l=s.offset,u=s.nodeSize;return l+u-2}return null}function ukt(r,e){var t=r[0],n=r[1];if(t>0){var i=e.getCellInfo(t-1,n),a=i.offset,o=i.nodeSize;return a+o-2}return null}function ckt(r,e){var t=r[0],n=r[1],i=e.totalRowCount;if(t<i-1){var a=t+1,o=e.getRowspanStartInfo(t,n);(o==null?void 0:o.count)>1&&(a+=o.count-1);var s=e.getCellInfo(a,n).offset;return s+2}return null}function cF(r,e,t,n){var i=ekt[r],a=i(t,n);if(a){var o=r==="right"||r==="down"?1:-1;return e.setSelection(Dr.near(e.doc.resolve(a),o))}return null}function fkt(r,e,t){var n=t[0],i=t[1];if(r==="up"||r==="down")return!1;var a=e.tableStartOffset,o=e.tableEndOffset,s=e.getCellInfo(n,i),l=s.offset,u=s.nodeSize,c=r==="left"?a:o,h=r==="left"?l-2:l+u+3;return c===h}function hkt(r,e,t){var n=r.doc.resolve(e.before(t-3));return r.setSelection(new hr(n))}function dkt(r,e,t){var n,i,a;return r==="up"?(n=t.startRowIdx,i=0,a=-1):(n=t.endRowIdx,i=e.totalColumnCount-1,a=e.getCellInfo(n,i).nodeSize+1),{targetRowIdx:n,insertColIdx:i,nodeSize:a}}function pkt(r,e,t){var n=r.getCellInfo(e,0).offset,i=r.getCellInfo(e,t-1),a=i.offset,o=i.nodeSize;return{from:n,to:a+o}}var mkt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:ze({rawHTML:{default:null}},Ni()),parseDOM:[yk("table")],toDOM:function(t){var n=t.attrs;return["table",hi(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return t===void 0&&(t={rowCount:2,columnCount:1,data:[]}),function(n,i){var a=t.rowCount,o=t.columnCount,s=t.data,l=n.schema,u=n.selection,c=n.tr,h=u.from,p=u.to,g=u.$from,O=h===p;if(O&&!g1(g)){var T=l.nodes,M=T.tableHead,R=T.tableBody,z=s==null?void 0:s.slice(0,o),U=s==null?void 0:s.slice(o,s.length),G=Vwt(o,l,z),J=VX(a-1,o,l,U),ee=l.nodes.table.create(null,[M.create(null,G),R.create(null,J)]);return i(c.replaceSelectionWith(ee)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=Wi.create(i.$anchor);if(o){var s=o.tableStartOffset,l=o.tableEndOffset,u=s-1,c=Bn(a.delete(u,l),u);return n(a.setSelection(c)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=Vl(a),u=l.anchor,c=l.head;if(u&&c){for(var h=Wi.create(u),p=h.getRectOffsets(u,c),g=t==="left"?p.startColIdx:p.endColIdx+1,O=fp(p).columnCount,T=h.totalRowCount,M=0;M<T;M+=1){var R=X0(O,M,s);o.insert(o.mapping.map(h.posAt(M,g)),R)}return i(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=Vl(i),s=o.anchor,l=o.head;if(s&&l){var u=Wi.create(s),c=u.getRectOffsets(s,l),h=u.totalColumnCount,p=u.totalRowCount,g=fp(c).columnCount,O=g===h;if(O)return!1;for(var T=c.startColIdx,M=c.endColIdx,R=a.mapping.maps.length,z=0;z<p;z+=1)for(var U=M;U>=T;U-=1){var G=u.getCellInfo(z,U),J=G.offset,ee=G.nodeSize,le=a.mapping.slice(R).map(J),pe=le+ee;a.delete(le,pe)}return n(a),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(n,i){var a=n.selection,o=n.schema,s=n.tr,l=Vl(a),u=l.anchor,c=l.head;if(u&&c){var h=Wi.create(u),p=h.totalColumnCount,g=h.getRectOffsets(u,c),O=fp(g).rowCount,T=dkt(t,h,g),M=T.targetRowIdx,R=T.insertColIdx,z=T.nodeSize,U=M===0;if(!U){for(var G=[],J=s.mapping.map(h.posAt(M,R))+z,ee=[],le=0;le<p;le+=1)ee=ee.concat(X0(1,M,o));for(var pe=0;pe<O;pe+=1)G.push(o.nodes.tableRow.create(null,ee));return i(s.insert(J,G)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,n){var i=t.selection,a=t.tr,o=Vl(i),s=o.anchor,l=o.head;if(s&&l){var u=Wi.create(s),c=u.totalRowCount,h=u.totalColumnCount,p=u.getRectOffsets(s,l),g=fp(p).rowCount,O=p.startRowIdx,T=p.endRowIdx,M=O===0,R=g===c-1;if(R||M)return!1;for(var z=T;z>=O;z-=1){var U=pkt(u,z,h),G=U.from,J=U.to;a.delete(G-1,J+1)}return n(a),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return t===void 0&&(t={align:"center"}),function(n,i){var a=t.align,o=n.selection,s=n.tr,l=Vl(o),u=l.anchor,c=l.head;if(u&&c){for(var h=Wi.create(u),p=h.totalRowCount,g=h.getRectOffsets(u,c),O=g.startColIdx,T=g.endColIdx,M=0;M<p;M+=1)for(var R=O;R<=T;R+=1)if(!h.extendedRowspan(M,R)&&!h.extendedColspan(M,R)){var z=h.getNodeAndPos(M,R),U=z.node,G=z.pos,J=Zwt(U,{align:a});s.setNodeMarkup(G,null,J)}return i(s),!0}return!1}}},e.prototype.moveToCell=function(t){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=Vl(a),u=l.anchor,c=l.head;if(u&&c){var h=Wi.create(u),p=h.getCellIndex(u),g=void 0;if(uF(t,h,p)?g=PD(o,h,s):g=cF(t,o,p,h),g)return i(g),!0}return!1}},e.prototype.moveInCell=function(t){var n=this;return function(i,a){var o=i.selection,s=i.tr,l=i.doc,u=i.schema,c=o.$from,h=n.context.view;if(!h.endOfTextblock(t))return!1;var p=Zu(c,function(U){var G=U.type;return G.name==="tableHeadCell"||G.name==="tableBodyCell"});if(p){var g=Zu(c,function(U){var G=U.type;return G.name==="paragraph"}),O=p.depth;if(g&&akt(t,[O,g.depth],c,l)){var T=Vl(o).anchor,M=Wi.create(T),R=M.getCellIndex(T),z=void 0;if(fkt(t,M,R)?z=hkt(s,c,O):uF(t,M,R)?t==="up"?z=okt(s,M,u):t==="down"&&(z=PD(s,M,u)):z=cF(t,s,R,M),z)return a(z),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,n){var i=t.schema,a=t.selection,o=t.tr,s=Vl(a),l=s.anchor,u=s.head,c=a instanceof Qr;if(l&&u&&!c){for(var h=Wi.create(l),p=h.getRectOffsets(l,u),g=p.startRowIdx,O=p.startColIdx,T=p.endRowIdx,M=p.endColIdx,R=g;R<=T;R+=1)for(var z=O;z<=M;z+=1)if(!h.extendedRowspan(R,z)&&!h.extendedColspan(R,z)){var U=h.getNodeAndPos(R,z),G=U.node,J=U.pos,ee=X0(1,R,i,G.attrs);o.replaceWith(o.mapping.map(J),o.mapping.map(J+G.nodeSize),ee)}return n(o),!0}return!1}},e.prototype.exitTable=function(){return function(t,n){var i=t.selection,a=t.tr,o=t.schema,s=i.$from,l=Zu(s,function(p){var g=p.type;return g.name==="tableHeadCell"||g.name==="tableBodyCell"});if(l){var u=Zu(s,function(p){var g=p.type;return g.name==="paragraph"});if(u){var c=Vl(i).anchor,h=Wi.create(c);return n(PD(a,h,o,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e}(Dn),vkt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:ze({rawHTML:{default:null}},Ni()),parseDOM:[yk("thead")],toDOM:function(t){var n=t.attrs;return["thead",hi(n),0]}}},enumerable:!1,configurable:!0}),e}(Dn),gkt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:ze({rawHTML:{default:null}},Ni()),parseDOM:[{tag:"tbody",getAttrs:function(t){var n=t.querySelectorAll("tr"),i=n[0].children.length,a=t.getAttribute("data-raw-html");return i?ze({},a&&{rawHTML:a}):!1}}],toDOM:function(t){var n=t.attrs;return["tbody",hi(n),0]}}},enumerable:!1,configurable:!0}),e}(Dn),Okt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:ze({rawHTML:{default:null}},Ni()),parseDOM:[{tag:"tr",getAttrs:function(t){var n=t.children.length,i=t.getAttribute("data-raw-html");return n?ze({},i&&{rawHTML:i}):!1}}],toDOM:function(t){var n=t.attrs;return["tr",hi(n),0]}}},enumerable:!1,configurable:!0}),e}(Dn),ykt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:ze({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},Ni()),isolating:!0,parseDOM:[QX("th")],toDOM:function(t){var n=t.attrs,i=IX(n);return["th",ze(ze({},i),hi(n)),0]}}},enumerable:!1,configurable:!0}),e}(Dn),bkt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[QX("td")],toDOM:function(t){var n=t.attrs,i=IX(n);return["td",i,0]}}},enumerable:!1,configurable:!0}),e}(Dn),wkt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:ze({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},Ni()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var n=Zh(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=n.getAttribute("src")||"",a=n.getAttribute("data-raw-html"),o=n.getAttribute("alt");return ze({imageUrl:i,altText:o},a&&{rawHTML:a})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"img",ze(ze({src:cp(n.imageUrl)},n.altText&&{alt:n.altText}),hi(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(n,i){var a=n.schema,o=n.tr,s=t,l=s.imageUrl,u=s.altText;if(!l)return!1;var c=a.nodes.image.createAndFill(ze({imageUrl:l},u&&{altText:u}));return i(o.replaceSelectionWith(c).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(Dn),fF=1,kkt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:ze({rawHTML:{default:null}},Ni()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var n=t.attrs;return["div",hi(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(n,i){var a,o=n.selection,s=o.$from,l=o.$to;if(s===l){var u=n.doc,c=n.schema.nodes,h=c.thematicBreak,p=c.paragraph,g=[h.create()],O=s.node(fF),T=u.child(u.childCount-1)===O,M=u.resolve(s.after(fF)),R=((a=s.nodeAfter)===null||a===void 0?void 0:a.type.name)===t.name;return(T||R)&&g.push(p.create()),i(n.tr.insert(M.pos,g).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(Dn),Skt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return ze({},a&&{rawHTML:a})}}});return{attrs:ze({rawHTML:{default:null}},Ni()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"strong",hi(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,n){return xO(t.schema.marks.strong)(t,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(qn),xkt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return ze({},a&&{rawHTML:a})}}});return{attrs:ze({rawHTML:{default:null}},Ni()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"em",hi(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,n){return xO(t.schema.marks.emph)(t,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(qn),Ckt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return ze({},a&&{rawHTML:a})}}});return{attrs:ze({rawHTML:{default:null}},Ni()),parseDOM:t,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"del",hi(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return xO(t.schema.marks.strike)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(qn),Tkt=function(r){Dt(e,r);function e(t){var n=r.call(this)||this;return n.linkAttributes=t,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:ze({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},Ni()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var i=Zh(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=i.getAttribute("href")||"",o=i.getAttribute("title")||"",s=i.getAttribute("data-raw-html");return ze({linkUrl:a,title:o},s&&{rawHTML:s})}}],toDOM:function(n){var i=n.attrs;return[i.rawHTML||"a",ze(ze({href:cp(i.linkUrl)},t.linkAttributes),hi(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(n,i){var a=t,o=a.linkUrl,s=a.linkText,l=s===void 0?"":s,u=n.schema,c=n.tr,h=n.selection,p=h.empty,g=h.from,O=h.to;if(g&&O&&o){var T={linkUrl:o},M=u.mark("link",T);if(p&&l){var R=Ki(u,l,M);c.replaceRangeWith(g,O,R)}else c.addMark(g,O,M);return i(c.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(n,i){return xO(n.schema.marks.link,t)(n,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(qn),Ekt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:ze({rawHTML:{default:null}},Ni()),parseDOM:[{tag:"code",getAttrs:function(t){var n=t.getAttribute("data-raw-html");return ze({},n&&{rawHTML:n})}}],toDOM:function(t){var n=t.attrs;return[n.rawHTML||"code",hi(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n){return xO(t.schema.marks.code)(t,n)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(qn),Mkt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var n=t.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(t){var n=t.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(n,i){return t!=null&&t.info?k$(n.schema.nodes.customBlock,t)(n,i):!1}}},e}(Dn),Akt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="frontMatter"?w$(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Dn),Dkt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,n,i){var a=t.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="htmlComment"?w$(t,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(Dn);function Pkt(r){return new F5([new z1t,new H1t,new U1t,new X1t,new j1t,new Y1t,new G1t,new K1t,new J1t,new mkt,new vkt,new gkt,new Okt,new ykt,new bkt,new wkt,new kkt,new Skt,new xkt,new Ckt,new Tkt(r),new Ekt,new Mkt,new Akt,new B5,new Dkt])}var Rkt=It("contents"),Nkt=function(r){Dt(e,r);function e(t,n){var i=r.call(this,t)||this,a=n.toDOMAdaptor,o=n.htmlSchemaMap,s=o===void 0?{}:o,l=n.linkAttributes,u=l===void 0?{}:l,c=n.useCommandShortcut,h=c===void 0?!0:c,p=n.wwPlugins,g=p===void 0?[]:p,O=n.wwNodeViews,T=O===void 0?{}:O;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=a,i.linkAttributes=u,i.extraPlugins=g,i.pluginNodeViews=T,i.specs=i.createSpecs(),i.schema=i.createSchema(s),i.context=i.createContext(),i.keymaps=i.createKeymaps(h),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(ze(ze({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return Pkt(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new cU({nodes:ze(ze({},this.specs.nodes),t.nodes),marks:ze(ze({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return bo([Xwt(),Kwt(this.eventEmitter),Jwt(),o1t(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var t=this,n=t.eventEmitter,i=t.pluginNodeViews,a={};return i&&Object.keys(i).forEach(function(o){a[o]=function(s,l,u){return i[o](s,l,u,n)}}),a},e.prototype.createView=function(){var t=this,n=this,i=n.toDOMAdaptor,a=n.eventEmitter;return new O$(this.el,{state:this.createState(),attributes:{class:Rkt},nodeViews:ze({customBlock:function(o,s,l){return new s1t(o,s,l,i)},image:function(o,s,l){return new l1t(o,s,l,a)},codeBlock:function(o,s,l){return new f1t(o,s,l,a)},widget:Q5},this.createPluginNodeViews()),dispatchTransaction:function(o){var s=t.view.state.applyTransaction(o).state;t.view.updateState(s),t.emitChangeEvent(o.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",s.selection.$from.node(1))},transformPastedHTML:E1t,transformPasted:function(o){return R1t(o,t.schema,g1(t.view.state.selection.$from))},handlePaste:function(o,s,l){return F1t(o,l)},handleKeyDown:function(o,s){return t.eventEmitter.emit("keydown",t.editorType,s),!1},handleDOMEvents:{paste:function(o,s){var l=s.clipboardData||window.clipboardData,u=l==null?void 0:l.items;if(u){var c=uu(u).some(function(p){return p.kind==="string"&&p.type==="text/rtf"});if(!c){var h=I5(u);h&&(s.preventDefault(),Q$(t.eventEmitter,h,s.type))}}return!1},keyup:function(o,s){return t.eventEmitter.emit("keyup",t.editorType,s),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,Y$())},e.prototype.getHTML=function(){return I$(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,n=t.from,i=t.to;return[n,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,n,i){var a=this.view.state,o=a.schema,s=a.tr,l=t.split(`
`),u=l.map(function(p){return s1(o,Th(p,o))}),c=new St(nt.from(u),1,1),h=Qu(n)&&Qu(i)?s.replaceRange(n,i,c):s.replaceSelection(c);this.view.dispatch(h),this.focus()},e.prototype.deleteSelection=function(t,n){var i=this.view.state.tr,a=Qu(t)&&Qu(n)?i.deleteRange(t,n):i.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(t,n){var i=this.view.state,a=i.doc,o=i.selection,s=o.from,l=o.to;return Qu(t)&&Qu(n)&&(s=t,l=n),a.textBetween(s,l,`
`)},e.prototype.setModel=function(t,n){n===void 0&&(n=!1);var i=this.view.state,a=i.tr,o=i.doc;this.view.dispatch(a.replaceWith(0,o.content.size,t)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,n){n===void 0&&(n=t);var i=this.view.state.tr,a=Bn(i,t,n);this.view.dispatch(i.setSelection(a).scrollIntoView())},e.prototype.addWidget=function(t,n,i){var a=this.view,o=a.dispatch,s=a.state;o(s.tr.setMeta("widget",{pos:i??s.selection.to,node:t,style:n}))},e.prototype.replaceWithWidget=function(t,n,i){var a=this.view.state,o=a.tr,s=a.schema,l=Th(i,s);this.view.dispatch(o.replaceWith(t,n,l))},e.prototype.getRangeInfoOfNode=function(t){var n=this.view.state,i=n.doc,a=n.selection,o=t?i.resolve(t):a.$from,s=o.marks(),l=o.node(),u=o.start(),c=o.end(),h=l.type.name;if(s.length||h==="paragraph"){var p=s[s.length-1],g=function(O){return O.length?Ji(O,p):!0};h=p?p.type.name:"text",l.forEach(function(O,T){var M=O.isText,R=O.nodeSize,z=O.marks,U=o.pos-u;M&&T<=U&&T+R>=U&&g(z)&&(u=u+T,c=u+R)})}return{range:[u,c],type:h}},e}(q5),$kt=pl,Lkt=n1;function _kt(r){return!$kt(r)&&!Lkt(r)}var Ikt=_kt,Qkt=Ikt;function Bkt(r){return Qkt(r)&&r!==!1}var qkt=Bkt,Fkt=qkt;function Vkt(r){return!Fkt(r)}var Zkt=Vkt,hF=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],tj=function(){function r(){var e=this;this.events=new WX,this.eventTypes=hF.reduce(function(t,n){return ze(ze({},t),{type:n})},{}),this.hold=!1,hF.forEach(function(t){e.addEventType(t)})}return r.prototype.listen=function(e,t){var n=this.getTypeInfo(e),i=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),i.push(t),this.events.set(n.type,i)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getTypeInfo(e),a=this.events.get(i.type),o=[];return!this.hold&&a&&a.forEach(function(s){var l=s.apply(void 0,t);pl(l)||o.push(l)}),o},r.prototype.emitReduce=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this.events.get(e);return!this.hold&&a&&a.forEach(function(o){var s=o.apply(void 0,bo([t],n));Zkt(s)||(t=s)}),t},r.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},r.prototype.hasEventType=function(e){return!pl(this.eventTypes[this.getTypeInfo(e).type])},r.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},r.prototype.removeEventHandler=function(e,t){var n=this,i=this.getTypeInfo(e),a=i.type,o=i.namespace;a&&t?this.removeEventHandlerWithHandler(a,t):a&&!o?this.events.delete(a):!a&&o?this.events.forEach(function(s,l){n.removeEventHandlerWithTypeInfo(l,o)}):a&&o&&this.removeEventHandlerWithTypeInfo(a,o)},r.prototype.removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e);if(n){var i=n.indexOf(t);n.indexOf(t)>=0&&n.splice(i,1)}},r.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],i=this.events.get(e);i&&(i.map(function(a){return a.namespace!==t&&n.push(a),null}),this.events.set(e,n))},r.prototype.getEvents=function(){return this.events},r.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},r}(),zkt=function(){function r(e,t,n,i){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=i,this.initEvent()}return r.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(t,n){e.exec(t,n)})},r.prototype.addCommand=function(e,t,n){e==="markdown"?this.mdCommands[t]=n:this.wwCommands[t]=n},r.prototype.deleteCommand=function(e,t){e==="markdown"?delete this.mdCommands[t]:delete this.wwCommands[t]},r.prototype.exec=function(e,t){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](t):this.wwCommands[e](t)},r}();function Y0(r){return r[r.length-1]===`
`?r.slice(0,r.length-1):r}function zR(r,e){var t=r.schema,n=e.literal,i=n.match(Wp);if(i){var a=i[1],o=i[3],s=(a||o).toLowerCase();return e.type==="htmlInline"&&!!(t.marks[s]||t.nodes[s])}return!1}function HR(r){var e=r.type;return Ji(["text","strong","emph","strike","image","link","code"],e)}function dF(r){return(r==null?void 0:r.type)==="softbreak"}function Rv(r){var e=r.type,t=r.literal,n=e==="htmlInline"&&t.match(Wp);if(n){var i=n[1],a=n[3],o=i||a;if(o)return Ji(["ul","ol","li"],o.toLowerCase())}return!1}function Hkt(r){var e=r.literal,t=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:t,checked:n}}function pF(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=document.createElement("div");n.innerHTML=Zh(r);var i=n.firstChild;return e.map(function(a){return i.getAttribute(a)||""})}function Wkt(r){var e={};return Object.keys(r).forEach(function(t){var n=t.split(", ");n.forEach(function(i){var a=i.toLowerCase();e[a]=r[t]})}),e}var Ukt={"b, strong":function(r,e,t){var n=r.schema.marks.strong;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"i, em":function(r,e,t){var n=r.schema.marks.emph;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},"s, del":function(r,e,t){var n=r.schema.marks.strike;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},code:function(r,e,t){var n=r.schema.marks.code;t?r.openMark(n.create({rawHTML:t})):r.closeMark(n)},a:function(r,e,t){var n=e.literal,i=r.schema.marks.link;if(t){var a=pF(n,"href")[0];r.openMark(i.create({linkUrl:a,rawHTML:t}))}else r.closeMark(i)},img:function(r,e,t){var n=e.literal;if(t){var i=pF(n,"src","alt"),a=i[0],o=i[1],s=r.schema.nodes.image;r.addNode(s,ze({rawHTML:t,imageUrl:a},o&&{altText:o}))}},hr:function(r,e,t){r.addNode(r.schema.nodes.thematicBreak,{rawHTML:t})},br:function(r,e){var t=r.schema.nodes.paragraph,n=e.parent,i=e.prev,a=e.next;(n==null?void 0:n.type)==="paragraph"?(dF(i)&&r.openNode(t),dF(a)?r.closeNode():a&&(r.closeNode(),r.openNode(t))):(n==null?void 0:n.type)==="tableCell"&&(i&&(HR(i)||zR(r,i))&&r.closeNode(),a&&(HR(a)||zR(r,a))&&r.openNode(t))},pre:function(r,e,t){var n,i,a=document.createElement("div");a.innerHTML=e.literal;var o=(i=(n=a.firstChild)===null||n===void 0?void 0:n.firstChild)===null||i===void 0?void 0:i.textContent;r.openNode(r.schema.nodes.codeBlock,{rawHTML:t}),r.addText(Y0(o)),r.closeNode()},"ul, ol":function(r,e,t){if(e.parent.type==="tableCell"){var n=r.schema.nodes,i=n.bulletList,a=n.orderedList,o=n.paragraph,s=t==="ul"?i:a;t?(e.prev&&!Rv(e.prev)&&r.closeNode(),r.openNode(s,{rawHTML:t})):(r.closeNode(),e.next&&!Rv(e.next)&&r.openNode(o))}},li:function(r,e,t){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var i=r.schema.nodes,a=i.listItem,o=i.paragraph;if(t){var s=Hkt(e);e.prev&&!Rv(e.prev)&&r.closeNode(),r.openNode(a,ze({rawHTML:t},s)),e.next&&!Rv(e.next)&&r.openNode(o)}else e.prev&&!Rv(e.prev)&&r.closeNode(),r.closeNode()}}},Xkt=Wkt(Ukt);function mF(r){return r.type==="htmlInline"&&CR.test(r.literal)}function rj(r){uu(r.childNodes).forEach(function(e){if(hk(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&rj(e)}})}var vF={text:function(r,e){r.addText(e.literal||"")},paragraph:function(r,e,t,n){var i,a=t.entering;if(a){var o=r.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(r.openNode(o,n),r.closeNode()),r.openNode(o,n)}else r.closeNode()},heading:function(r,e,t,n){var i=t.entering;if(i){var a=e,o=a.level,s=a.headingType;r.openNode(r.schema.nodes.heading,ze({level:o,headingType:s},n))}else r.closeNode()},codeBlock:function(r,e,t){var n=r.schema.nodes.codeBlock,i=e,a=i.info,o=i.literal;r.openNode(n,ze({language:a},t)),r.addText(Y0(o||"")),r.closeNode()},list:function(r,e,t,n){var i=t.entering;if(i){var a=r.schema.nodes,o=a.bulletList,s=a.orderedList,l=e.listData,u=l.type,c=l.start;u==="bullet"?r.openNode(o,n):r.openNode(s,ze({order:c},n))}else r.closeNode()},item:function(r,e,t,n){var i=t.entering,a=r.schema.nodes.listItem,o=e.listData,s=o.task,l=o.checked;if(i){var u=ze(ze(ze({},s&&{task:s}),l&&{checked:l}),n);r.openNode(a,u)}else r.closeNode()},blockQuote:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.blockQuote,n):r.closeNode()},image:function(r,e,t,n){var i=t.entering,a=t.skipChildren,o=r.schema.nodes.image,s=e,l=s.destination,u=s.firstChild;i&&a&&a(),r.addNode(o,ze(ze({imageUrl:l},u&&{altText:u.literal}),n))},thematicBreak:function(r,e,t,n){r.addNode(r.schema.nodes.thematicBreak,n)},strong:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strong;i?r.openMark(a.create(n)):r.closeMark(a)},emph:function(r,e,t,n){var i=t.entering,a=r.schema.marks.emph;i?r.openMark(a.create(n)):r.closeMark(a)},link:function(r,e,t,n){var i=t.entering,a=r.schema.marks.link,o=e,s=o.destination,l=o.title;if(i){var u=ze({linkUrl:s,title:l},n);r.openMark(a.create(u))}else r.closeMark(a)},softbreak:function(r,e){if(e.parent.type==="paragraph"){var t=e.prev,n=e.next;t&&!mF(t)&&r.closeNode(),n&&!mF(n)&&r.openNode(r.schema.nodes.paragraph)}},table:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.table,n):r.closeNode()},tableHead:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableHead,n):r.closeNode()},tableBody:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableBody,n):r.closeNode()},tableRow:function(r,e,t,n){var i=t.entering;i?r.openNode(r.schema.nodes.tableRow,n):r.closeNode()},tableCell:function(r,e,t){var n=t.entering;if(!e.ignored){var i=function(O){return O&&(HR(O)||zR(r,O))};if(n){var a=r.schema.nodes,o=a.tableHeadCell,s=a.tableBodyCell,l=a.paragraph,u=e.parent.parent,c=u.type==="tableHead"?o:s,h=u.parent,p=(h.columns[e.startIdx]||{}).align,g=ze({},e.attrs);p&&(g.align=p),r.openNode(c,g),i(e.firstChild)&&r.openNode(l)}else i(e.lastChild)&&r.closeNode(),r.closeNode()}},strike:function(r,e,t,n){var i=t.entering,a=r.schema.marks.strike;i?r.openMark(a.create(n)):r.closeMark(a)},code:function(r,e,t,n){var i=r.schema.marks.code;r.openMark(i.create(n)),r.addText(Y0(e.literal||"")),r.closeMark(i)},customBlock:function(r,e){var t=r.schema.nodes,n=t.customBlock,i=t.paragraph,a=e,o=a.info,s=a.literal;r.openNode(n,{info:o}),r.addText(Y0(s||"")),r.closeNode(),e.next||(r.openNode(i),r.closeNode())},frontMatter:function(r,e){r.openNode(r.schema.nodes.frontMatter),r.addText(e.literal),r.closeNode()},htmlInline:function(r,e){var t=e.literal,n=t.match(Wp),i=n[1],a=n[3],o=(i||a).toLowerCase(),s=r.schema.marks[o],l=Zh(t);if(s!=null&&s.spec.attrs.htmlInline)if(i){var u=qR(l);r.openMark(s.create({htmlAttrs:u}))}else r.closeMark(s);else{var c=Xkt[o];c&&c(r,e,i)}},htmlBlock:function(r,e){var t=e.literal,n=document.createElement("div"),i=AIe.test(t);if(i)r.openNode(r.schema.nodes.htmlComment),r.addText(e.literal),r.closeNode();else{var a=t.match(Wp),o=a[1],s=a[3],l=(o||s).toLowerCase(),u=r.schema.nodes[l],c=Zh(t);if(u!=null&&u.spec.attrs.htmlBlock){var h=qR(c),p=$X(e,l);r.addNode(u,{htmlAttrs:h,childrenHTML:p})}else n.innerHTML=c,rj(n),r.convertByDOMParser(n)}},customInline:function(r,e,t){var n=t.entering,i=t.skipChildren,a=e,o=a.info,s=a.firstChild,l=r.schema;if(o.indexOf("widget")!==-1&&n){var u=C5(e);i(),r.addNode(l.nodes.widget,{info:o},[l.text(S5(o,u))])}else{var c="$$";n&&(c+=s?o+" ":o),r.addText(c)}}};function jkt(r){var e=Object.keys(r),t=ze({},vF),n=new X$({gfm:!0,nodeId:!0,convertors:r}),i=n.getConvertors();return e.forEach(function(a){var o=vF[a];o&&!Ji(["htmlBlock","htmlInline"],a)&&(t[a]=function(s,l,u){u.origin=function(){return i[a](l,u,i)};var c=r[a](l,u),h;if(c){var p=Array.isArray(c)?c[0]:c,g=p.attributes,O=p.classNames;h={htmlAttrs:g,classNames:O}}o(s,l,u,h)})}),t}function Ykt(r,e){return r.isText&&e.isText&&Jr.sameSet(r.marks,e.marks)?r.withText(r.text+e.text):!1}var Gkt=function(){function r(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=Jr.none}return r.prototype.top=function(){return ba(this.stack)},r.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},r.prototype.addText=function(e){if(e){var t=this.top().content,n=ba(t),i=this.schema.text(e,this.marks),a=n&&Ykt(n,i);a?t[t.length-1]=a:t.push(i)}},r.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},r.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},r.prototype.addNode=function(e,t,n){var i=e.createAndFill(t,n,this.marks);return i?(this.push(i),i):null},r.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},r.prototype.closeNode=function(){this.marks.length&&(this.marks=Jr.none);var e=this.stack.pop(),t=e.type,n=e.attrs,i=e.content;return this.addNode(t,n,i)},r.prototype.convertByDOMParser=function(e){var t=this,n=$h.fromSchema(this.schema).parse(e);n.content.forEach(function(i){return t.push(i)})},r.prototype.closeUnmatchedHTMLInline=function(e,t){var n;if(!t&&e.type!=="htmlInline")for(var i=this.stack.length-1,a=i;a>=0;a-=1){var o=this.stack[a];if(!((n=o.attrs)===null||n===void 0)&&n.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},r.prototype.convert=function(e,t){for(var n=e.walker(),i=n.next(),a=function(){var s=i.node,l=i.entering,u=o.convertors[s.type],c=!1;if(u){var h={entering:l,leaf:!uIe(s),getChildrenText:cIe,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){c=!0}};if(o.closeUnmatchedHTMLInline(s,l),u(o,s,h),(t==null?void 0:t.node)===s){var p=o.stack.reduce(function(g,O){return g+O.content.reduce(function(T,M){return T+M.nodeSize},0)},0)+1;t.setMappedPos(p)}}c&&(n.resumeAt(s,!1),n.next()),i=n.next()},o=this;i;)a()},r.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},r}();function Kkt(r,e,t){var n=t[0],i=t[1];r.write(n),r.convertInline(e),r.write(i)}function Jkt(r,e,t){var n=e.node,i=e.parent,a=t[0],o=t[1];r.stopNewline=!0,r.write(a),r.convertNode(n),r.write(o),(i==null?void 0:i.type.name)==="doc"&&(r.closeBlock(n),r.stopNewline=!1)}function eSt(r,e){var t=r.length,n="",i="";return e==="left"?(n=":",t-=1):e==="right"?(i=":",t-=1):e==="center"&&(n=":",i=":",t-=2),""+n+i1("-",Math.max(t,3))+i}var WR={text:function(r,e){var t,n=e.node,i=(t=n.text)!==null&&t!==void 0?t:"";(n.marks||[]).some(function(a){return a.type.name==="link"})?r.text(a1(i),!1):r.text(i)},paragraph:function(r,e){var t=e.node,n=e.parent,i=e.index,a=i===void 0?0:i;if(r.stopNewline)r.convertInline(t);else{var o=a===0,s=!o&&n.child(a-1),l=s&&s.childCount===0,u=a<n.childCount-1&&n.child(a+1),c=u&&u.type.name==="paragraph",h=t.childCount===0;if(h&&l)r.write(`<br>
`);else if(h&&!l&&!o){if((n==null?void 0:n.type.name)==="listItem"){var p=r.getDelim();r.setDelim(""),r.write("<br>"),r.setDelim(p)}r.write(`
`)}else r.convertInline(t),c?r.write(`
`):r.closeBlock(t)}},heading:function(r,e,t){var n=e.node,i=t.delim,a=n.attrs.headingType;a==="atx"?(r.write(i+" "),r.convertInline(n),r.closeBlock(n)):(r.convertInline(n),r.ensureNewLine(),r.write(i),r.closeBlock(n))},codeBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,o=i,s=o[0],l=o[1];r.write(s),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(l),r.closeBlock(n)},blockQuote:function(r,e,t){var n=e.node,i=e.parent,a=t.delim;(i==null?void 0:i.type.name)===n.type.name&&r.flushClose(1),r.wrapBlock(a,null,n,function(){return r.convertNode(n)})},bulletList:function(r,e,t){var n=e.node,i=t.delim;r.convertList(n,i1(" ",4),function(){return i+" "})},orderedList:function(r,e){var t=e.node,n=t.attrs.order||1;r.convertList(t,i1(" ",4),function(i){var a=String(n+i);return a+". "})},listItem:function(r,e){var t=e.node,n=t.attrs,i=n.task,a=n.checked;i&&r.write("["+(a?"x":" ")+"] "),r.convertNode(t)},image:function(r,e,t){var n=t.attrs;r.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(r,e,t){var n=e.node,i=t.delim;r.write(i),r.closeBlock(n)},table:function(r,e){var t=e.node;r.convertNode(t),r.closeBlock(t)},tableHead:function(r,e,t){var n=e.node,i=t.delim,a=n.firstChild;r.convertNode(n);var o=i??"";!i&&a&&a.forEach(function(s){var l=s.textContent,u=s.attrs,c=eSt(l,u.align);o+="| "+c+" "}),r.write(o+"|"),r.ensureNewLine()},tableBody:function(r,e){var t=e.node;r.convertNode(t)},tableRow:function(r,e){var t=e.node;r.convertNode(t),r.write("|"),r.ensureNewLine()},tableHeadCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},tableBodyCell:function(r,e,t){var n=e.node,i=t.delim,a=i===void 0?"| ":i;r.write(a),r.convertTableCell(n),r.write(" ")},customBlock:function(r,e,t){var n=e.node,i=t.delim,a=t.text,o=i,s=o[0],l=o[1];r.write(s),r.ensureNewLine(),r.text(a,!1),r.ensureNewLine(),r.write(l),r.closeBlock(n)},frontMatter:function(r,e,t){var n=e.node,i=t.text;r.text(i,!1),r.closeBlock(n)},widget:function(r,e,t){var n=t.text;r.write(n)},html:function(r,e,t){var n=e.node,i=t.text;r.write(i),n.attrs.htmlBlock&&r.closeBlock(n)},htmlComment:function(r,e,t){var n=e.node,i=t.text;r.write(i),r.closeBlock(n)}};function tSt(r,e){var t=e.state,n=e.nodeInfo,i=e.params,a=i.rawHTML;a?Qh(r,["heading","codeBlock"])>-1?Kkt(t,n.node,a):Qh(r,["image","thematicBreak"])>-1?t.write(a):Jkt(t,n,a):WR[r](t,n,i)}function gF(r,e){var t=r.text,n=/`+/g,i=0;if(r.isText&&t)for(var a=n.exec(t);a;)i=Math.max(i,a[0].length),a=n.exec(t);for(var o=i>0&&e>0?" `":"`",s=0;s<i;s+=1)o+="`";return i>0&&e<0&&(o+=" "),o}function rl(r){return r?["<"+r+">","</"+r+">"]:null}function Nv(r){return r?"<"+r+">":null}function $v(r){return r?"</"+r+">":null}var Lv={heading:function(r){var e=r.node,t=e.attrs,n=t.level,i=i1("#",n);return t.headingType==="setext"&&(i=n===1?"===":"---"),{delim:i,rawHTML:rl(t.rawHTML)}},codeBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:rl(n.rawHTML),text:i}},blockQuote:function(r){var e=r.node;return{delim:"> ",rawHTML:rl(e.attrs.rawHTML)}},bulletList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ul"),{delim:"*",rawHTML:rl(i)}},orderedList:function(r,e){var t=r.node,n=e.inTable,i=t.attrs.rawHTML;return n&&(i=i||"ol"),{rawHTML:rl(i)}},listItem:function(r,e){var t=r.node,n=e.inTable,i=t.attrs,a=i.task,o=i.checked,s=t.attrs.rawHTML;n&&(s=s||"li");var l=a?' class="task-list-item'+(o?" checked":"")+'"':"",u=a?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+u+">","</"+s+">"]:null}},table:function(r){var e=r.node;return{rawHTML:rl(e.attrs.rawHTML)}},tableHead:function(r){var e=r.node;return{rawHTML:rl(e.attrs.rawHTML)}},tableBody:function(r){var e=r.node;return{rawHTML:rl(e.attrs.rawHTML)}},tableRow:function(r){var e=r.node;return{rawHTML:rl(e.attrs.rawHTML)}},tableHeadCell:function(r){var e=r.node;return{rawHTML:rl(e.attrs.rawHTML)}},tableBodyCell:function(r){var e=r.node;return{rawHTML:rl(e.attrs.rawHTML)}},image:function(r){var e=r.node,t=e.attrs,n=t.rawHTML,i=t.altText,a=t.imageUrl.replace(/&amp;/g,"&"),o=i?' alt="'+cp(i)+'"':"";return{rawHTML:n?"<"+n+' src="'+cp(a)+'"'+o+">":null,attrs:{altText:a1(i||""),imageUrl:a}}},thematicBreak:function(r){var e=r.node;return{delim:"***",rawHTML:Nv(e.attrs.rawHTML)}},customBlock:function(r){var e=r.node,t=e,n=t.attrs,i=t.textContent;return{delim:["$$"+n.info,"$$"],text:i}},frontMatter:function(r){var e=r.node;return{text:e.textContent}},widget:function(r){var e=r.node;return{text:e.textContent}},strong:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"**",rawHTML:n?Nv(i):$v(i)}},emph:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"*",rawHTML:n?Nv(i):$v(i)}},strike:function(r,e){var t=r.node,n=e.entering,i=t.attrs.rawHTML;return{delim:"~~",rawHTML:n?Nv(i):$v(i)}},link:function(r,e){var t=r.node,n=e.entering,i=t.attrs,a=i.title,o=i.rawHTML,s=i.linkUrl.replace(/&amp;/g,"&"),l=a?' title="'+cp(a)+'"':"";return n?{delim:"[",rawHTML:o?"<"+o+' href="'+cp(s)+'"'+l+">":null}:{delim:"]("+s+(a?" "+K_e(a1(a)):"")+")",rawHTML:$v(o)}},code:function(r,e){var t=r.node,n=r.parent,i=r.index,a=i===void 0?0:i,o=e.entering,s=o?gF(n.child(a),-1):gF(n.child(a-1),1),l=o?Nv(t.attrs.rawHTML):$v(t.attrs.rawHTML);return{delim:s,rawHTML:l}},htmlComment:function(r){var e=r.node;return{text:e.textContent}},html:function(r,e){var t=r.node,n=e.entering,i=t.type.name,a=t.attrs.htmlAttrs,o="<"+i,s="</"+i+">";return Object.keys(a).forEach(function(l){o+=" "+l+'="'+a[l].replace(/"/g,"'")+'"'}),o+=">",t.attrs.htmlInline?{rawHTML:n?o:s}:{text:""+o+t.attrs.childrenHTML+s}}},OF={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function rSt(r){var e={},t=Object.keys(WR);return t.forEach(function(n){e[n]=function(i,a){var o=WR[n];if(o){var s=r[n],l=s?s(a,{inTable:i.inTable}):{};tSt(n,{state:i,nodeInfo:a,params:l})}}}),e}function nSt(r){var e={},t=Object.keys(OF);return t.forEach(function(n){e[n]=function(i,a){var o=OF[n],s=r[n],l=s&&i&&!pl(a),u=l?s(i,{entering:a}):{};return ze(ze({},u),o)}}),e}function iSt(r){var e=Object.keys(r);e.forEach(function(i){var a=Lv[i],o=r[i];a?Lv[i]=function(s,l){return l.origin=function(){return a(s,l)},o(s,l)}:Lv[i]=o,delete r[i]});var t=rSt(Lv),n=nSt(Lv);return{nodeTypeConvertors:t,markTypeConvertors:n}}var aSt=function(){function r(e){var t=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return r.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},r.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},r.prototype.markText=function(e,t,n,i){var a=this.getMarkConvertor(e);if(a){var o=a({node:e,parent:n,index:i},t),s=o.delim,l=o.rawHTML;return l||s}return""},r.prototype.setDelim=function(e){this.delim=e},r.prototype.getDelim=function(){return this.delim},r.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var i=1;i<e;i+=1)this.result+=t+`
`}this.closed=!1}},r.prototype.wrapBlock=function(e,t,n,i){var a=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(a),this.closeBlock(n)},r.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},r.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},r.prototype.closeBlock=function(e){this.closed=e},r.prototype.text=function(e,t){t===void 0&&(t=!0);for(var n=e.split(`
`),i=0;i<n.length;i+=1)this.write(),this.result+=t?G_e(n[i]):n[i],i!==n.length-1&&(this.result+=`
`)},r.prototype.convertBlock=function(e,t,n){var i=e.type.name,a=this.nodeTypeConvertors[i],o={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):a&&a(this,o)},r.prototype.convertInline=function(e){var t=this,n=[],i="",a=function(o,s,l){var u=o?o.marks:[],c=i;i="";var h=o&&o.isText&&u.some(function(Fe){var Ge=t.getMarkConvertor(Fe),_e=Ge&&Ge();return _e&&_e.removedEnclosingWhitespace});if(h&&o&&o.text){var p=/^(\s*)(.*?)(\s*)$/m.exec(o.text),g=p[1],O=p[2],T=p[3];c+=g,i=T,(g||T)&&(o=O?o.withText(O):null,o||(u=n))}for(var M=u.length&&ba(u),R=M&&t.getMarkConvertor(M),z=R&&R(),U=z&&z.escape===!1,G=u.length-(U?1:0),J=0;J<G;J+=1){var O=u[J];if(z&&!z.mixable)break;for(var ee=0;ee<n.length;ee+=1){var le=n[ee];if(z&&!z.mixable)break;if(O.eq(le)){J>ee?u=u.slice(0,ee).concat(O).concat(u.slice(ee,J)).concat(u.slice(J+1,G)):ee>J&&(u=u.slice(0,J).concat(u.slice(J+1,ee)).concat(O).concat(u.slice(ee,G)));break}}}for(var pe=0;pe<Math.min(n.length,G)&&u[pe].eq(n[pe]);)pe+=1;for(;pe<n.length;){var be=n.pop();be&&t.text(t.markText(be,!1,e,l),!1)}if(c&&t.text(c),o){for(;n.length<G;){var O=u[n.length];n.push(O),t.text(t.markText(O,!0,e,l),!1)}U&&o.isText?t.text(t.markText(M,!0,e,l)+o.text+t.markText(M,!1,e,l+1),!1):t.convertBlock(o,e,l)}};e.forEach(a),a(null,null,e.childCount)},r.prototype.convertList=function(e,t,n){var i=this,a;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(a=e.attrs.tight)!==null&&a!==void 0?a:!0,s=this.tightList;this.tightList=o,e.forEach(function(l,u,c){c&&o&&i.flushClose(1),i.wrapBlock(t,n(c),e,function(){return i.convertBlock(l,e,c)})}),this.tightList=s},r.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,i,a){if(Ji(["bulletList","orderedList"],n.type.name))t.convertBlock(n,e,a),t.closed=!1;else if(t.convertInline(n),a<e.childCount-1){var o=e.child(a+1);o.type.name==="paragraph"&&t.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},r.prototype.convertNode=function(e,t){var n=this;return e.forEach(function(i,a,o){if(n.convertBlock(i,e,o),(t==null?void 0:t.node)===i){var s=n.result.split(`
`);t.setMappedPos([s.length,ba(s).length+1])}}),this.result},r}(),oSt=function(){function r(e,t,n,i){var a=this;this.setMappedPos=function(o){a.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=jkt(n),this.toMdConvertors=iSt(t||{}),this.eventEmitter.listen("setFocusedNode",function(o){return a.focusedNode=o})}return r.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},r.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},r.prototype.toWysiwygModel=function(e){var t=new Gkt(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},r.prototype.toMarkdownText=function(e){var t=new aSt(this.toMdConvertors),n=t.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},r}();function sSt(r){var e=r.plugin,t=r.eventEmitter,n=r.usageStatistics,i=r.instance,a={Plugin:wo,PluginKey:bO,Selection:Dr,TextSelection:Qr},o={Decoration:mo,DecorationSet:Gn},s={Fragment:nt},l={InputRule:xf,inputRules:m5,undoInputRule:WLe},u={keymap:tO},c={eventEmitter:t,usageStatistics:n,instance:i,pmState:a,pmView:o,pmModel:s,pmRules:l,pmKeymap:u,i18n:vr};if(fm(e)){var h=e[0],p=e[1],g=p===void 0?{}:p;return h(c,g)}return e(c)}function nj(r){var e=r.plugins,t=r.eventEmitter,n=r.usageStatistics,i=r.instance;return t.listen("mixinTableOffsetMapPrototype",Bwt),(e??[]).reduce(function(a,o){var s=sSt({plugin:o,eventEmitter:t,usageStatistics:n,instance:i});if(!s)throw new Error("The return value of the executed plugin is empty.");var l=s.markdownParsers,u=s.toHTMLRenderers,c=s.toMarkdownRenderers,h=s.markdownPlugins,p=s.wysiwygPlugins,g=s.wysiwygNodeViews,O=s.markdownCommands,T=s.wysiwygCommands,M=s.toolbarItems;return u&&(a.toHTMLRenderers=o1(a.toHTMLRenderers,u)),c&&(a.toMarkdownRenderers=o1(a.toMarkdownRenderers,c)),h&&(a.mdPlugins=a.mdPlugins.concat(h)),p&&(a.wwPlugins=a.wwPlugins.concat(p)),g&&(a.wwNodeViews=ze(ze({},a.wwNodeViews),g)),O&&(a.mdCommands=ze(ze({},a.mdCommands),O)),T&&(a.wwCommands=ze(ze({},a.wwCommands),T)),M&&(a.toolbarItems=a.toolbarItems.concat(M)),l&&(a.markdownParsers=ze(ze({},a.markdownParsers),l)),a},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var lSt="data-task",uSt="data-task-disabled",cSt="checked";function fSt(r){["htmlBlock","htmlInline"].forEach(function(e){r[e]&&Object.keys(r[e]).forEach(function(t){return NX(t)})})}var ij=function(){function r(e){var t=this;this.options=x$({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new tj;var n=b5(this.options.linkAttributes),i=nj({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},a=i.toHTMLRenderers,o=i.markdownParsers,s=this.options,l=s.customHTMLRenderer,u=s.extendedAutolinks,c=s.referenceDefinition,h=s.frontMatter,p=s.customHTMLSanitizer,g={linkAttributes:n,customHTMLRenderer:ze(ze({},a),l),extendedAutolinks:u,referenceDefinition:c,frontMatter:h,sanitizer:p||Zh};fSt(g.customHTMLRenderer),this.options.events&&Zp(this.options.events,function(U,G){t.on(G,U)});var O=this.options,T=O.el,M=O.initialValue,R=O.theme,z=T.innerHTML;R!=="light"&&T.classList.add(It(R)),T.innerHTML="",this.toastMark=new AX("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:h,customParser:o}),this.preview=new _X(this.eventEmitter,ze(ze({},g),{isViewer:!0})),G5(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),M?this.setMarkdown(M):z&&this.preview.setHTML(z),T.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return r.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute(uSt)&&t.hasAttribute(lSt)&&N$(n,e.offsetX,e.offsetY)&&($$(t,cSt),this.eventEmitter.emit("change",{source:"viewer",date:e}))},r.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),n=t.length,i=ba(t),a=[n,i.length+1],o=this.toastMark.editMarkdown([1,1],a,e||"");this.eventEmitter.emit("updatePreview",o)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.destroy=function(){Y5(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},r.prototype.isViewer=function(){return!0},r.prototype.isMarkdownMode=function(){return!1},r.prototype.isWysiwygMode=function(){return!1},r}();function G0(r){return r instanceof of}function aj(r){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return Ji(e,r)}function hSt(r){var e=r.attrs,t=r.type,n=t.name,i={type:n,wysiwygNode:!0,literal:!aj(n)&&G0(r)?r.textContent:null},a={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=a[n],s=ze(ze({},i),o),l=r.attrs,u=l.htmlAttrs,c=l.childrenHTML;return u?ze(ze({},s),{attrs:u,childrenHTML:c}):s}var dSt={openTag:function(r,e){var t=r,n=t.tagName,i=t.classNames,a=t.attributes,o=document.createElement(n),s={};i&&(o.className=i.join(" ")),a&&(s=ze(ze({},s),a)),_$(s,o),e.push(o)},closeTag:function(r,e){if(e.length>1){var t=e.pop();ba(e).appendChild(t)}},html:function(r,e){ba(e).insertAdjacentHTML("beforeend",r.content)},text:function(r,e){var t=document.createTextNode(r.content);ba(e).appendChild(t)}},pSt=function(){function r(e,t){var n=j$(e,t),i=ze(ze({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(i)),this.renderer=new X$({gfm:!0,convertors:ze(ze({},n),i)}),this.convertors=this.renderer.getConvertors()}return r.prototype.generateTokens=function(e){var t=hSt(e),n={entering:!0,leaf:G0(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return G0(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],a=i(t,n,this.convertors),o=fm(a)?a:[a];return(aj(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:G0(e)?e.textContent:""}),o=o.concat(i(t,n,this.convertors))),o},r.prototype.toDOMNode=function(e){var t=this.generateTokens(e),n=[];return t.forEach(function(i){return dSt[i.type](i,n)}),n[0]},r.prototype.getToDOMNode=function(e){return Ji(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},r}(),mSt=100,vSt=15,d0=null,RD=null;function yF(r,e){var t=e.syncScrollTop,n=e.releaseEventBlock;RD&&clearTimeout(RD),t(r),RD=setTimeout(function(){n()},vSt)}function gSt(r,e,t){var n=e-r,i=Date.now(),a=function(){var o=Date.now(),s=(o-i)/mSt,l;d0&&clearTimeout(d0),s<1?(l=r+n*Math.cos((1-s)*Math.PI/2),yF(Math.ceil(l),t),d0=setTimeout(a,1)):(yF(e,t),d0=null)};a()}var OSt=18,ySt=function(){function r(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=t.previewContent,a=t.el;this.previewRoot=i,this.previewEl=a,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return r.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(t,n){e.active&&(t==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():t==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(t){e.active=t})},r.prototype.getMdNodeAtPos=function(e,t){var n=e.content.findIndex(t.pos),i=n.index;return this.toastMark.findFirstNodeAtLine(i+1)},r.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,i=MD(this.previewRoot,t).el,a=v1(i,this.previewRoot)||i.offsetTop,o=i.clientHeight,s=a+o-n*.5;this.latestEditorScrollTop=null;var l=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return l<n?null:s},r.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var t=this,n=t.editorView,i=t.previewEl,a=t.previewRoot,o=n.dom.getBoundingClientRect(),s=o.left,l=o.top,u=n.posAtCoords({left:s,top:l}),c=n.state.doc,h=this.getMdNodeAtPos(c,u);if(!(!h||rIe(h))){var p=i.scrollTop,g=n.dom,O=g.scrollTop,T=g.scrollHeight,M=g.clientHeight,R=g.children,z=T-O<=M+OSt,U=z?i.scrollHeight:0;if(O&&!z){if(e){var G=this.getScrollTopByCaretPos();if(!G)return;U=G}else{var J=MD(this.previewRoot,h),ee=J.el,le=J.mdNode,pe=iF(c,le,R),be=pe.height,Fe=pe.rect,Ge=v1(ee,a)||ee.offsetTop,_e=ee.clientHeight,ot=l>Fe.top?Math.min((l-Fe.top)/be,1):0;U=Ge+_e*ot}U=this.getResolvedScrollTop("editor",O,U,p),this.latestEditorScrollTop=O}U!==p&&this.run("editor",U,p)}},r.prototype.syncEditorScrollTop=function(e){var t=this,n=t.toastMark,i=t.editorView,a=t.previewRoot,o=t.previewEl,s=i.dom,l=i.state,u=o.scrollTop,c=o.clientHeight,h=o.scrollHeight,p=h-u<=c,g=s.scrollTop,O=p?s.scrollHeight:0;if(u&&e&&!p){if(e=mwt(e,a),!e.getAttribute("data-nodeid"))return;var T=s.children,M=Number(e.getAttribute("data-nodeid")),R=MD(this.previewRoot,n.findNodeById(M)),z=R.mdNode,U=R.el,G=CO(z);O=T[G-1].offsetTop;var J=iF(l.doc,z,T).height,ee=Swt(U,a,M),le=ee.nodeHeight,pe=ee.offsetTop;O+=gwt(u,pe,le,J),O=this.getResolvedScrollTop("preview",u,O,g),this.latestPreviewScrollTop=u}O!==g&&this.run("preview",O,g)},r.prototype.getResolvedScrollTop=function(e,t,n,i){var a=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return a===null?n:a<t?Math.max(n,i):Math.min(n,i)},r.prototype.run=function(e,t,n){var i=this,a;e==="editor"?(a=this.previewEl,this.blockedScroll="preview"):(a=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(s){return a.scrollTop=s},releaseEventBlock:function(){return i.blockedScroll=null}};gSt(n,t,o)},r.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},r}(),bSt={getPopupInitialValues:function(r,e){var t=e.popupName;return t==="link"?{linkText:r.getSelectedText()}:{}}};function wSt(r){r.eventEmitter.listen("query",function(e,t){return bSt[e](r,t)})}var oj=function(){function r(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=x$({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,i=n.customHTMLRenderer,a=n.extendedAutolinks,o=n.referenceDefinition,s=n.frontMatter,l=n.customMarkdownRenderer,u=n.useCommandShortcut,c=n.initialEditType,h=n.widgetRules,p=n.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=vr,this.i18n.setCode(this.options.language),this.eventEmitter=new tj,hIe(h);var g=b5(this.options.linkAttributes);this.pluginInfo=nj({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var O=this.pluginInfo,T=O.toHTMLRenderers,M=O.toMarkdownRenderers,R=O.mdPlugins,z=O.wwPlugins,U=O.wwNodeViews,G=O.mdCommands,J=O.wwCommands,ee=O.markdownParsers,le={linkAttributes:g,customHTMLRenderer:o1(T,i),extendedAutolinks:a,referenceDefinition:o,frontMatter:s,sanitizer:p||Zh},pe=new pSt(g,le.customHTMLRenderer),be=lwt(le.customHTMLRenderer,le.sanitizer,pe);this.toastMark=new AX("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:a,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:s,customParser:ee}),this.mdEditor=new p2e(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:u,mdPlugins:R}),this.preview=new _X(this.eventEmitter,ze(ze({},le),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new Nkt(this.eventEmitter,{toDOMAdaptor:pe,useCommandShortcut:u,htmlSchemaMap:be,linkAttributes:g,wwPlugins:z,wwNodeViews:U}),this.convertor=new oSt(this.wwEditor.getSchema(),ze(ze({},M),l),j$(g,le.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new zkt(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return t.mode}),this.options.usageStatistics&&U_e(),this.scrollSync=new ySt(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(G,J),wSt(this),this.options.hooks&&Zp(this.options.hooks,function(Fe,Ge){return t.addHook(Ge,Fe)}),this.options.events&&Zp(this.options.events,function(Fe,Ge){return t.on(Ge,Fe)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return r.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}}),QIe(this.eventEmitter)},r.prototype.addInitCommand=function(e,t){var n=this,i=function(a,o){Object.keys(o).forEach(function(s){n.addCommand(a,s,o[s])})};this.addCommand("markdown","toggleScrollSync",function(a){return n.eventEmitter.emit("toggleScrollSync",a.active),!0}),i("markdown",e),i("wysiwyg",t)},r.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},r.factory=function(e){return e.viewer?new ij(e):new r(e)},r.setLanguage=function(e,t){vr.setLanguage(e,t)},r.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},r.prototype.exec=function(e,t){this.commandManager.exec(e,t)},r.prototype.addCommand=function(e,t,n){var i=this,a=function(o){o===void 0&&(o={});var s=(e==="markdown"?i.mdEditor:i.wwEditor).view;n(o,s.state,s.dispatch,s)};this.commandManager.addCommand(e,t,a)},r.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},r.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},r.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},r.prototype.focus=function(){this.getCurrentModeEditor().focus()},r.prototype.blur=function(){this.getCurrentModeEditor().blur()},r.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},r.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},r.prototype.setMarkdown=function(e,t){if(e===void 0&&(e=""),t===void 0&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i,t)}},r.prototype.setHTML=function(e,t){e===void 0&&(e=""),t===void 0&&(t=!0);var n=document.createElement("div");n.innerHTML=LIe(e);var i=$h.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),t):this.wwEditor.setModel(i,t)},r.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},r.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),a=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(a)}});var t=I$(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(n,"")}return t},r.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},r.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},r.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},r.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},r.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},r.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},r.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},r.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},r.prototype.setHeight=function(e){var t=this.options.el;fc(e)&&(e==="auto"?Jl(t,"auto-height"):ll(t,"auto-height"),this.setMinHeight(this.getMinHeight())),ou(t,{height:e}),this.height=e},r.prototype.getHeight=function(){return this.height},r.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;t!=="auto"&&this.options.el.querySelector("."+It("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},r.prototype.getMinHeight=function(){return this.minHeight},r.prototype.isMarkdownMode=function(){return this.mode==="markdown"},r.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},r.prototype.isViewer=function(){return!1},r.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},r.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var a=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&Qu(a)?this.wwEditor.setSelection(a):Array.isArray(a)&&this.mdEditor.setSelection(a)}}},r.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(t,n){return e.off(n)})},r.prototype.hide=function(){this.eventEmitter.emit("hide")},r.prototype.show=function(){this.eventEmitter.emit("show")},r.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},r.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},r.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},r.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},r.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},r.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},r.prototype.convertPosToMatchEditorMode=function(e,t,n){var i,a;t===void 0&&(t=e),n===void 0&&(n=this.mode);var o=this.mdEditor.view.state.doc,s=Array.isArray(e),l=Array.isArray(t),u=e,c=t;if(s!==l)throw new Error("Types of arguments must be same");return n==="markdown"&&!s&&!l?(i=H0(o,e,t),u=i[0],c=i[1]):n==="wysiwyg"&&s&&l&&(a=lh(o,e,t),u=a[0],c=a[1]),[u,c]},r}();function kSt(r){for(var e,t,n=arguments,i=1,a="",o="",s=[0],l=function(c){i===1&&(c||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(c?n[c]:a):i===3&&(c||a)?(s[1]=c?n[c]:a,i=2):i===2&&a==="..."&&c?s[2]=D$(s[2]||{},n[c]):i===2&&a&&!c?(s[2]=s[2]||{})[a]=!0:i>=5&&(i===5?((s[2]=s[2]||{})[t]=c?a?a+n[c]:n[c]:a,i=6):(c||a)&&(s[2][t]+=c?a+n[c]:a)),a=""},u=0;u<r.length;u++){u&&(i===1&&l(),l(u));for(let c=0;c<r[u].length;c++)e=r[u][c],i===1?e==="<"?(l(),s=[s,"",null],i=3):a+=e:i===4?a==="--"&&e===">"?(i=1,a=""):a=e+a[0]:o?e===o?o="":a+=e:e==='"'||e==="'"?o=e:e===">"?(l(),i=1):i&&(e==="="?(i=5,t=a,a=""):e==="/"&&(i<5||r[u][c+1]===">")?(l(),i===3&&(s=s[0]),i=s,(s=s[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(l(),i=2):a+=e),i===3&&a==="!--"&&(i=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function SSt(r){return typeof r=="boolean"||r instanceof Boolean}var xSt=SSt,CSt=function(){function r(e){this.current=e,this.root=e,this.entering=!0}return r.prototype.walk=function(){var e=this,t=e.entering,n=e.current;return n?(t?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:t}):null},r}(),cl=function(){function r(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return r.prototype.walker=function(){return new CSt(this)},r.removalNodes=[],r}();function TSt(r){return new cl("TEXT_NODE",{nodeValue:r},[])}function bF(r,e){var t=r;xSt(r)||r==null?t=null:(fc(r)||Qu(r))&&(t=TSt(String(r))),t&&e.push(t)}function ESt(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=[];return t.forEach(function(a){Array.isArray(a)?a.forEach(function(o){bF(o,i)}):bF(a,i)}),new cl(r,e||{},i)}var Vr=kSt.bind(ESt);function MSt(r){return r===Object(r)}var ASt=MSt;function DSt(r){var e;return r.type==="TEXT_NODE"?e=document.createTextNode(r.props.nodeValue):(e=document.createElement(r.type),lj(e,{},r.props)),e}function sj(r,e){r.node?e.removeChild(r.node):sj(r.firstChild,e)}function PSt(r,e,t){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!t[n]||e[n]!==t[n]){var i=n.slice(2).toLowerCase();r.removeEventListener(i,e[n])}}else n!=="children"&&!t[n]&&!DIe(r)&&r.removeAttribute(n)}),lj(r,e,t,function(n){return!T$(e[n],t[n])})}var RSt=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function lj(r,e,t,n){Object.keys(t).forEach(function(i){if(!n||n(i))if(/^on/.test(i)){var a=i.slice(2).toLowerCase();r.addEventListener(a,t[i])}else i==="nodeValue"?r[i]=t[i]:i==="style"&&ASt(t[i])?NSt(r,e[i],t[i]):i!=="children"&&(t[i]===!1?r.removeAttribute(i):r.setAttribute(i,t[i]))})}function NSt(r,e,t){e&&Object.keys(e).forEach(function(n){r.style[n]=""}),Object.keys(t).forEach(function(n){var i=t[n];r.style[n]=Qu(i)&&!RSt.test(n)?i+"px":i})}function K$(r){if(cl.removalNodes.forEach(function(a){return kF(a)}),r){for(var e=void 0,t=r.walker();e=t.walk();)if(r=e.vnode,e.entering)kF(r);else if(Ds(r.type)){var n=r.component;if(!r.old&&n.mounted&&n.mounted(),r.old&&n.updated){var i=n.prevProps||{};n.updated(i)}}}}function wF(r){for(var e=r.parent;!e.node;)e=e.parent;return e.node}function kF(r){if(!(!r||!r.parent)){if(r.node){var e=wF(r);r.effect==="A"?e.appendChild(r.node):r.effect==="U"&&PSt(r.node,r.old.props,r.props)}if(r.effect==="D"){for(var t=void 0,n=r.walker();t=n.walk();)if(r=t.vnode,!t.entering)if(Ds(r.type)){var i=r.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=wF(r);sj(r,e)}}r.ref&&(r.component?r.ref(r.component):r.node&&r.ref(r.node))}}function $St(r,e){var t=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new r(t)}function uj(r){for(var e=r;r&&!r.skip;){if(Ds(r.type)){var t=$St(r.type,r);t.vnode=r,r.component=t,r.props.children=r.children=[t.render()],SF(r)}else r.node||(r.node=DSt(r)),SF(r);if(r.firstChild)r=r.firstChild;else{for(;r&&r.parent&&!r.next&&(r=r.parent,r!==e););r=r.next}}}function LSt(r,e){return r&&e&&e.type===r.type&&(!e.key||e.key===r.key)}function SF(r){var e=r.children,t=r.old?r.old.firstChild:null,n=null;e.forEach(function(a,o){var s=LSt(t,a);s&&(a.old=t,a.parent=r,a.node=t.node,a.component=t.component,a.effect="U"),a&&!s&&(a.old=null,a.parent=r,a.node=null,a.effect="A"),t&&!s&&(cl.removalNodes.push(t),t.effect="D"),t&&(t=t.next),o===0?r.firstChild=a:a&&(n.next=a),n=a});var i=ba(e);if(!e.length)for(;t;)cl.removalNodes.push(t),t.effect="D",t=t.next;for(;t&&i;)t&&i.old!==t&&(cl.removalNodes.push(t),t.effect="D",t=t.next)}function _St(r){r.effect="D",cl.removalNodes=[r],K$(),cl.removalNodes=[]}function ISt(r){var e=r.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),cl.removalNodes=[],uj(e),K$(e),e.next&&(e.next.skip=!1)}function QSt(r,e){var t=new cl(r.tagName.toLowerCase(),{},[e]);return t.node=r,cl.removalNodes=[],uj(t),K$(t),function(){return _St(t.firstChild)}}var Sa=function(){function r(e){this.props=e,this.state={},this.refs={}}return r.prototype.setState=function(e){var t=ze(ze({},this.state),e);T$(this.state,t)||(this.state=t,ISt(this))},r}(),BSt=function(r){Dt(e,r);function e(t){var n=r.call(this,t)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,n=t.editorType,i=t.eventEmitter;return Vr(xF||(xF=Fr([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),It("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},vr.get("Markdown"),n==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},vr.get("WYSIWYG"))},e}(Sa),xF;function qSt(r,e){var t,n;e=e||0;function i(){n=Array.prototype.slice.call(arguments),window.clearTimeout(t),t=window.setTimeout(function(){r.apply(null,n)},e)}return i}var FSt=qSt,VSt=FSt;function ZSt(r,e){var t,n=!0,i=function(c){r.apply(null,c),t=null},a,o,s;e=e||0,a=VSt(i,e);function l(){if(s=Array.prototype.slice.call(arguments),n){i(s),n=!1;return}o=Number(new Date),t=t||o,a(s),o-t>=e&&i(s)}function u(){n=!0,t=null}return l.reset=u,l}var zSt=ZSt,cj=function(){if(typeof Map<"u")return Map;function r(e,t){var n=-1;return e.some(function(i,a){return i[0]===t?(n=a,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=r(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(t,n){var i=r(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,i=r(n,t);~i&&n.splice(i,1)},e.prototype.has=function(t){return!!~r(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];t.call(n,o[1],o[0])}},e}()}(),UR=typeof window<"u"&&typeof document<"u"&&window.document===document,O1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),HSt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(O1):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),WSt=2;function USt(r,e){var t=!1,n=!1,i=0;function a(){t&&(t=!1,r()),n&&s()}function o(){HSt(a)}function s(){var l=Date.now();if(t){if(l-i<WSt)return;n=!0}else t=!0,n=!1,setTimeout(o,e);i=l}return s}var XSt=20,jSt=["top","right","bottom","left","width","height","size","weight"],YSt=typeof MutationObserver<"u",GSt=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=USt(this.refresh.bind(this),XSt)}return r.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},r.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},r.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},r.prototype.connect_=function(){!UR||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),YSt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!UR||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,i=jSt.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),fj=function(r,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];Object.defineProperty(r,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return r},Kp=function(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||O1},hj=bk(0,0,0,0);function y1(r){return parseFloat(r)||0}function CF(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,i){var a=r["border-"+i+"-width"];return n+y1(a)},0)}function KSt(r){for(var e=["top","right","bottom","left"],t={},n=0,i=e;n<i.length;n++){var a=i[n],o=r["padding-"+a];t[a]=y1(o)}return t}function JSt(r){var e=r.getBBox();return bk(0,0,e.width,e.height)}function ext(r){var e=r.clientWidth,t=r.clientHeight;if(!e&&!t)return hj;var n=Kp(r).getComputedStyle(r),i=KSt(n),a=i.left+i.right,o=i.top+i.bottom,s=y1(n.width),l=y1(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+a)!==e&&(s-=CF(n,"left","right")+a),Math.round(l+o)!==t&&(l-=CF(n,"top","bottom")+o)),!rxt(r)){var u=Math.round(s+a)-e,c=Math.round(l+o)-t;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return bk(i.left,i.top,s,l)}var txt=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof Kp(r).SVGGraphicsElement}:function(r){return r instanceof Kp(r).SVGElement&&typeof r.getBBox=="function"}}();function rxt(r){return r===Kp(r).document.documentElement}function nxt(r){return UR?txt(r)?JSt(r):ext(r):hj}function ixt(r){var e=r.x,t=r.y,n=r.width,i=r.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return fj(o,{x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:i+t,left:e}),o}function bk(r,e,t,n){return{x:r,y:e,width:t,height:n}}var axt=function(){function r(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=bk(0,0,0,0),this.target=e}return r.prototype.isActive=function(){var e=nxt(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},r}(),oxt=function(){function r(e,t){var n=ixt(t);fj(this,{target:e,contentRect:n})}return r}(),sxt=function(){function r(e,t,n){if(this.activeObservations_=[],this.observations_=new cj,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return r.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Kp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new axt(e)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Kp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new oxt(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),dj=typeof WeakMap<"u"?new WeakMap:new cj,pj=function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=GSt.getInstance(),n=new sxt(e,t,this);dj.set(this,n)}return r}();["observe","unobserve","disconnect"].forEach(function(r){pj.prototype[r]=function(){var e;return(e=dj.get(this))[r].apply(e,arguments)}});var lxt=function(){return typeof O1.ResizeObserver<"u"?O1.ResizeObserver:pj}(),uxt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execCommand=function(t){var n=eu(t.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return Vr(EF||(EF=Fr([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return t.execCommand(n)},vr.get("Headings"),[1,2,3,4,5,6].map(function(n){return Vr(TF||(TF=Fr([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,vr.get("Heading"),n)}),vr.get("Paragraph"))},e}(Sa),TF,EF,mj=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggleTab=function(t,n){this.props.onClick(t,n)},e.prototype.render=function(){var t=this;return Vr(AF||(AF=Fr([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),It("tabs"),this.props.tabs.map(function(n){var i=n.name,a=n.text,o=t.props.activeTab===i;return Vr(MF||(MF=Fr([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(s){return t.toggleTab(s,i)},vr.get(a),o?"true":"false",o?"0":"-1",vr.get(a))}))},e}(Sa),MF,AF,cxt="ui",fxt=function(r){Dt(e,r);function e(t){var n=r.call(this,t)||this;return n.initialize=function(i){i===void 0&&(i="file");var a=n.refs.url;a.value="",n.refs.altText.value="",n.refs.file.value="",ll(a,"wrong"),n.setState({activeTab:i,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(i,a){a!==n.state.activeTab&&n.initialize(a)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(i){var a=i.target.files;a!=null&&a.length&&n.setState({file:a[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var t=this,n=this.refs.file.files,i=this.refs.altText,a=" wrong";if(n!=null&&n.length){a="";var o=n.item(0),s=function(l,u){return t.props.execCommand("addImage",{imageUrl:l,altText:u||i.value})};this.props.eventEmitter.emit("addImageBlobHook",o,s,cxt)}this.setState({fileNameElClassName:a})},e.prototype.emitAddImage=function(){var t=this.refs.url,n=this.refs.altText,i=t.value,a=n.value||"image";if(ll(t,"wrong"),!i.length){Jl(t,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:a})},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,n=this.state,i=n.activeTab,a=n.file,o=n.fileNameElClassName;return Vr(DF||(DF=Fr([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),vr.get("Insert image"),mj,this.tabs,i,this.toggleTab,i==="url"?"block":"none",vr.get("Image URL"),function(s){return t.refs.url=s},i==="file"?"block":"none",vr.get("Select image file"),It("file-name"),a?" has-file":o,this.showFileSelectBox,this.preventSelectStart,a?a.name:vr.get("No file"),It("file-select-button"),this.showFileSelectBox,vr.get("Choose a file"),this.changeFile,function(s){return t.refs.file=s},vr.get("Description"),function(s){return t.refs.altText=s},It("button-container"),It("close-button"),this.props.hidePopup,vr.get("Cancel"),It("ok-button"),this.execCommand,vr.get("OK"))},e}(Sa),DF,hxt=function(r){Dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.execCommand=function(){var n=t.refs.url,i=t.refs.text;if(ll(n,"wrong"),ll(i,"wrong"),n.value.length<1){Jl(n,"wrong");return}var a=pl(t.props.initialValues.linkUrl);if(a&&i.value.length<1){Jl(i,"wrong");return}t.props.execCommand("addLink",{linkUrl:n.value,linkText:i.value})},t}return e.prototype.initialize=function(){var t=this.props.initialValues,n=t.linkUrl,i=t.linkText,a=this.refs.url,o=this.refs.text;ll(a,"wrong"),ll(o,"wrong","disabled"),o.removeAttribute("disabled"),n&&(Jl(o,"disabled"),o.setAttribute("disabled","disabled")),a.value=n||"",o.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return Vr(PF||(PF=Fr([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),vr.get("Insert link"),vr.get("URL"),function(n){return t.refs.url=n},vr.get("Link text"),function(n){return t.refs.text=n},It("button-container"),It("close-button"),this.props.hidePopup,vr.get("Cancel"),It("ok-button"),this.execCommand,vr.get("OK"))},e}(Sa),PF,RF=20,NF=20,$F=5,LF=14,_F=5,IF=9,dxt=1,pxt=1,QF=1,mxt=function(r){Dt(e,r);function e(t){var n=r.call(this,t)||this;return n.extendSelectionRange=function(i){var a=i.pageX,o=i.pageY,s=a-n.offsetRect.left,l=o-n.offsetRect.top,u=n.getSelectionRangeByOffset(s,l);n.setState(ze({},u))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,n){return{width:(t+1)*RF,height:(n+1)*NF}},e.prototype.getRangeByOffset=function(t,n){return{colIdx:Math.floor(t/RF),rowIdx:Math.floor(n/NF)}},e.prototype.getTableRange=function(){var t=this.state,n=t.colIdx,i=t.rowIdx,a=Math.max(n,_F),o=Math.max(i,$F);return n>=_F&&a<IF&&(a+=1),i>=$F&&o<LF&&(o+=1),{colIdx:a+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=t.width,i=t.height;return!n&&!i?{display:"none"}:{width:n-QF,height:i-QF,display:"block"}},e.prototype.getSelectionRangeByOffset=function(t,n){var i=this.getRangeByOffset(t,n);return i.rowIdx=Math.min(Math.max(i.rowIdx,dxt),LF),i.colIdx=Math.min(Math.max(i.colIdx,pxt),IF),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var t=this.refs.tableEl.getBoundingClientRect(),n=t.left,i=t.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(t){for(var n=t.colIdx,i=t.rowIdx,a=[],o=0;o<i;o+=1){for(var s=[],l=0;l<n;l+=1){var u=""+It("table-cell")+(o>0?"":" header");s.push(Vr(BF||(BF=Fr(['<div class="','"></div>'],['<div class="','"></div>'])),u))}a.push(Vr(qF||(qF=Fr(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),It("table-row"),s))}return Vr(FF||(FF=Fr(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),It("table"),a)},e.prototype.render=function(){var t=this,n=this.getTableRange(),i=this.getSelectionAreaBound();return Vr(VF||(VF=Fr([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),vr.get("Insert table"),It("table-selection"),function(a){return t.refs.tableEl=a},this.extendSelectionRange,this.execCommand,this.createTableArea(n),It("table-selection-layer"),i,It("table-description"),this.getDescription())},e}(Sa),BF,qF,FF,VF,vxt=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return Vr(ZF||(ZF=Fr(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return t.refs.el=n})},e}(Sa),ZF;function XR(r){return fc(r)?Oxt(r):r}function gxt(){var r=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");r.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";var n=function(i){return e.addEventListener("change",function(a){var o=a.target.checked;o?Jl(r,"active"):ll(r,"active"),i("toggleScrollSync",{active:o})})};return r.appendChild(e),r.appendChild(t),{name:"scrollSync",el:r,onMounted:n}}function Oxt(r){var e;switch(r){case"heading":e={name:"heading",className:"heading",tooltip:vr.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:vr.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:vr.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:vr.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:vr.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:vr.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:vr.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:vr.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:vr.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:vr.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:vr.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:vr.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:vr.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:vr.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:vr.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:vr.get("Outdent"),state:"outdent"};break;case"scrollSync":e=gxt();break;case"more":e={name:"more",className:"more",tooltip:vr.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+It("toolbar-icons")),e}function J$(r,e){var t=e.el,n=e.pos,i=e.popup,a=e.initialValues;switch(r){case"heading":return{render:function(o){return Vr(zF||(zF=Fr(["<"," ..."," />"],["<"," ..."," />"])),uxt,o)},className:It("popup-add-heading"),fromEl:t,pos:n};case"link":return{render:function(o){return Vr(HF||(HF=Fr(["<"," ..."," />"],["<"," ..."," />"])),hxt,o)},className:It("popup-add-link"),fromEl:t,pos:n,initialValues:a};case"image":return{render:function(o){return Vr(WF||(WF=Fr(["<"," ..."," />"],["<"," ..."," />"])),fxt,o)},className:It("popup-add-image"),fromEl:t,pos:n};case"table":return{render:function(o){return Vr(UF||(UF=Fr(["<"," ..."," />"],["<"," ..."," />"])),mxt,o)},className:It("popup-add-table"),fromEl:t,pos:n};case"customPopupBody":return i?ze({render:function(o){return Vr(XF||(XF=Fr(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),vxt,o,i.body)},fromEl:t,pos:n},i):null;default:return null}}function b1(r){r.hidden=r.length===r.filter(function(e){return e.hidden}).length}function yxt(r,e){var t=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return r.reduce(function(n,i){n.push(i.map(function(o){return t(XR(o))}));var a=n[(n.length||1)-1];return a&&b1(a),n},[])}function bxt(r,e){r.forEach(function(t){t.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),b1(t)})}var zF,HF,WF,UF,XF,wxt=20,kxt=function(r){Dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handleMousedown=function(n){!eu(n.target,"."+It("popup"))&&!eu(n.target,t.props.info.fromEl)&&t.props.hidePopup()},t}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var n=this.props,i=n.show,a=n.info;if(i&&a.pos&&t.show!==i){var o=ze({},a.pos),s=this.refs.el.offsetWidth,l=eu(this.refs.el,"."+It("toolbar")),u=l.offsetWidth;o.left+s>=u&&(o.left=u-s-wxt),T$(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var t=this,n=this.props,i=n.info,a=n.show,o=n.hidePopup,s=n.eventEmitter,l=n.execCommand,u=i||{},c=u.className,h=c===void 0?"":c,p=u.style,g=u.render,O=u.initialValues,T=O===void 0?{}:O,M=ze(ze({display:a?"block":"none"},p),this.state.popupPos);return Vr(jF||(jF=Fr([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),It("popup"),h,M,function(R){return t.refs.el=R},It("popup-body"),g&&g({eventEmitter:s,show:a,hidePopup:o,execCommand:l,initialValues:T}))},e}(Sa),jF,YF=6;function eL(r){return function(e){Dt(t,e);function t(n){var i=e.call(this,n)||this;return i.showTooltip=function(a){var o=i.props.item.tooltip;if(!i.props.disabled&&o){var s=i.getBound(a),l=s.left+YF+"px",u=s.top+YF+"px";ou(i.props.tooltipRef.current,{display:"block",left:l,top:u}),i.props.tooltipRef.current.querySelector(".text").textContent=o}},i.hideTooltip=function(){ou(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:n.disabled},i.addEvent(),i}return t.prototype.addEvent=function(){var n=this,i=this.props,a=i.item,o=i.eventEmitter;a.state&&o.listen("changeToolbarState",function(s){var l,u=s.toolbarState,c=(l=u[a.state])!==null&&l!==void 0?l:{},h=c.active,p=c.disabled;n.setState({active:!!h,disabled:p??n.props.disabled})})},t.prototype.getBound=function(n){var i=L5(n,eu(n,"."+It("toolbar"))),a=i.offsetLeft,o=i.offsetTop;return{left:a,top:n.offsetHeight+o}},t.prototype.render=function(){return Vr(GF||(GF=Fr([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),r,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t}(Sa)}var GF,Sxt=80,xxt=function(r){Dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var n=t.props,i=n.item,a=n.execCommand,o=n.setPopupInfo,s=n.getBound,l=n.eventEmitter,u=i.command,c=i.name,h=i.popup;if(u)a(u);else{var p=h?"customPopupBody":c,g=l.emit("query","getPopupInitialValues",{popupName:p})[0],O=J$(p,{el:t.refs.el,pos:s(t.refs.el),popup:h,initialValues:g});O&&o(O)}},t}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,n=t.setItemWidth,i=t.item;n&&n(i.name,L$(this.refs.el)+(i.hidden?Sxt:0))},e.prototype.render=function(){var t=this,n=this.props,i=n.hideTooltip,a=n.disabled,o=n.item,s=n.active,l=ze({display:o.hidden?"none":null},o.style),u=""+(o.className||"")+(s?" active":"");return Vr(KF||(KF=Fr([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(c){return t.refs.el=c},l,u,this.execCommand,this.showTooltip,i,!!a,o.text||o.tooltip||"",o.text||"")},e}(Sa),Cxt=eL(xxt),KF,Txt=function(r){Dt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var n=J$("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});n&&t.props.setPopupInfo(n)},t}return e.prototype.mounted=function(){var t=this.props,n=t.setItemWidth,i=t.item;this.refs.el.appendChild(i.el),n&&n(i.name,L$(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var n,i=this.props,a=i.item,o=i.active,s=i.disabled;(t.active!==o||t.disabled!==s)&&((n=a.onUpdated)===null||n===void 0||n.call(a,{active:o,disabled:s}))},e.prototype.render=function(){var t=this,n=this.props,i=n.disabled,a=n.item,o={display:a.hidden?"none":"inline-block"},s=function(l){return i?null:l};return Vr(JF||(JF=Fr([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(l){return t.refs.el=l},o,It("toolbar-item-wrapper"),s(this.showPopup),s(this.showTooltip),s(this.props.hideTooltip))},e}(Sa),Ext=eL(Txt),JF,vj=function(r){Dt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,n=this.props,i=n.group,a=n.hiddenDivider,o=i.hidden?{display:"none"}:null,s=a?{display:"none"}:null;return Vr(tV||(tV=Fr([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),It("toolbar-group"),o,i.map(function(l){var u=l.el?Ext:Cxt;return Vr(eV||(eV=Fr(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),u,l.name,t.props,l)}),It("toolbar-divider"),s)},e}(Sa),eV,tV,Mxt=4,Axt=function(r){Dt(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){var a=i.target;!eu(a,"."+It("dropdown-toolbar"))&&!eu(a,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=Mxt,ze(ze({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,n=this.state,i=n.showDropdown,a=n.dropdownPos,o=this.props,s=o.disabled,l=o.item,u=o.items,c=o.hideTooltip,h=u.filter(function(O){return!O.hidden}),p=h.length?null:{display:"none"},g=i?null:{display:"none"};return Vr(nV||(nV=Fr([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),It("toolbar-group"),p,function(O){return t.refs.el=O},l.className,function(){return t.setState({showDropdown:!0})},this.showTooltip,c,s,It("dropdown-toolbar"),ze(ze({},g),a),function(O){return t.refs.dropdownEl=O},h.length?h.map(function(O,T){var M;return Vr(rV||(rV=Fr([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),vj,O,T===h.length-1||((M=h[T+1])===null||M===void 0?void 0:M.hidden),t.props)}):null)},e}(Sa),Dxt=eL(Axt),rV,nV,Pxt=50,Rxt=function(r){Dt(e,r);function e(t){var n=r.call(this,t)||this;return n.toggleTab=function(i,a){var o=n.props.eventEmitter;if(n.state.activeTab!==a){var s=a==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(s),n.setState({activeTab:a})}},n.setItemWidth=function(i,a){n.itemWidthMap[i]=a},n.setPopupInfo=function(i){n.setState({showPopup:!0,popupInfo:i})},n.openPopup=function(i,a){a===void 0&&(a={});var o=n.refs.el.querySelector("."+It("toolbar-group")+" ."+i);if(o){var s=L5(o,eu(o,"."+It("toolbar"))),l=s.offsetLeft,u=s.offsetTop,c=J$(i,{el:o,pos:{left:l,top:o.offsetHeight+u},initialValues:a});c&&n.setPopupInfo(c)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(i,a){var o=n.props.eventEmitter;o.emit("command",i,a),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=yxt(t.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new lxt(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(t,n){var i=t.groupIndex,a=t.itemIndex,o=this.initialItems[i];n=XR(n),o?o.splice(a,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var n=this;zp(this.initialItems,function(i){var a=!1;return zp(i,function(o,s){return o.name===t?(a=!0,i.splice(s,1),n.setState(n.classifyToolbarItems()),!1):!0}),!a})},e.prototype.addEvent=function(){var t=this,n=this.props.eventEmitter;this.handleResize=zSt(function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+It("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=$5(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(t,n,i,a){var o=function(l){var u=l.pop();u&&a.push(u)};if(t>1)o(i);else{var s=ba(n);s&&o(s)}},e.prototype.classifyToolbarItems=function(){var t=this,n=0,i=this.refs.el.clientWidth,a=this.refs.el.querySelector("."+It("toolbar-divider")),o=a?L$(a):0,s=[],l=[],u=!1;return this.initialItems.forEach(function(c,h){var p=[],g=[];c.forEach(function(O,T){O.hidden||(n+=t.itemWidthMap[O.name],n>i-Pxt?(u||(t.movePrevItemToDropdownToolbar(T,s,p,g),u=!0),g.push(O)):p.push(O))}),p.length&&(b1(p),s.push(p)),g.length&&(b1(g),l.push(g)),h<t.state.items.length-1&&(n+=o)}),{items:s,dropdownItems:l}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var n=this.props,i=n.editorType,a=n.previewStyle,o=n.eventEmitter,s=a!==t.previewStyle,l=i!==t.editorType;if(s||l){bxt(this.initialItems,this.hiddenScrollSync());var u=this.classifyToolbarItems();(s||a==="tab"&&i==="markdown")&&(o.emit("changePreviewTabWrite"),u.activeTab="write"),this.setState(u)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),qh(this.tooltipRef.current)},e.prototype.render=function(){var t=this,n=this.props,i=n.previewStyle,a=n.eventEmitter,o=n.editorType,s=this.state,l=s.popupInfo,u=s.showPopup,c=s.activeTab,h=s.items,p=s.dropdownItems,g={eventEmitter:a,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&i==="tab"&&c==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},O=i==="tab"?{borderTopLeftRadius:0}:null;return Vr(aV||(aV=Fr([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),It("toolbar"),It("md-tab-container"),o==="wysiwyg"||i==="vertical"?"none":"block",mj,this.tabs,c,this.toggleTab,It("defaultUI-toolbar"),function(T){return t.refs.el=T},O,h.map(function(T,M){var R;return Vr(iV||(iV=Fr([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),vj,T,M===h.length-1||((R=h[M+1])===null||R===void 0?void 0:R.hidden),t.setItemWidth,g)}),Dxt,XR("more"),p,g,kxt,l,u,a,this.hidePopup,this.execCommand)},e}(Sa),iV,aV,Nxt=function(r){Dt(e,r);function e(t){var n=r.call(this,t)||this;return n.handleClickDocument=function(i){eu(i.target,"."+It("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",function(n){var i=n.pos,a=n.menuGroups;t.setState({pos:i,menuGroups:a})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,n=this.state,i=n.pos,a=n.menuGroups;return i?a.reduce(function(o,s){var l=[];return s.forEach(function(u){var c=u.label,h=u.className,p=h===void 0?!1:h,g=u.disabled,O=u.onClick,T=function(){g||(O(),t.setState({pos:null}))};l.push(Vr(oV||(oV=Fr([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),T,g?" disabled":"",p,c))}),o.push(Vr(sV||(sV=Fr([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),l)),o},[]):[]},e.prototype.render=function(){var t=ze({display:this.state.pos?"block":"none"},this.state.pos);return Vr(lV||(lV=Fr(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),It("context-menu"),t,this.getMenuGroupElements())},e}(Sa),oV,sV,lV,$xt=function(r){Dt(e,r);function e(t){var n=r.call(this,t)||this;n.changeMode=function(o){o!==n.state.editorType&&n.setState({editorType:o})},n.changePreviewStyle=function(o){o!==n.state.previewStyle&&n.setState({previewStyle:o})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var i=t.editorType,a=t.previewStyle;return n.state={editorType:i,previewStyle:a,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var t=this.props.slots,n=t.wwEditor,i=t.mdEditor,a=t.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(a)},e.prototype.insertToolbarItem=function(t,n){this.toolbar.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,n=this.props,i=n.eventEmitter,a=n.hideModeSwitch,o=n.toolbarItems,s=n.theme,l=this.state,u=l.hide,c=l.previewStyle,h=l.editorType,p=u?" hidden":"",g=It(h==="markdown"?"md-mode":"ww-mode"),O=It("md")+"-"+c+"-style",T=It([s!=="light",s+" "]);return Vr(cV||(cV=Fr([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),T,It("defaultUI"),p,function(M){return t.refs.el=M},Rxt,function(M){return t.toolbar=M},i,c,o,h,It("main"),g,function(M){return t.refs.editorSection=M},It("main-container"),It("md-container"),O,function(M){return t.refs.mdContainer=M},It("md-splitter"),It("ww-container"),function(M){return t.refs.wwContainer=M},!a&&Vr(uV||(uV=Fr(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),BSt,i,h),Nxt,i)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}(Sa),uV,cV,kTt=function(r){Dt(e,r);function e(t){var n,i=r.call(this,t)||this,a,o=QSt(i.options.el,Vr(fV||(fV=Fr([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),$xt,function(s){return a=s},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:a.insertToolbarItem.bind(a),removeToolbarItem:a.removeToolbarItem.bind(a),destroy:o},(n=i.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(s){var l=s.groupIndex,u=s.itemIndex,c=s.item;i.defaultUI.insertToolbarItem({groupIndex:l,itemIndex:u},c)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(t){return t.viewer?new ij(t):new e(t)},e.prototype.insertToolbarItem=function(t,n){this.defaultUI.insertToolbarItem(t,n)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.defaultUI.destroy()},e}(oj),fV;oj.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var ND={exports:{}},ro={},fs={},Pa={},$D,hV;function Lxt(){if(hV)return $D;hV=1;function r(e){this.content=e}return r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,a=i.find(e),o=i.content.slice();return a==-1?o.push(n||e,t):(o[a+1]=t,n&&(o[a]=n)),new r(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var i=this.remove(t),a=i.content.slice(),o=i.find(e);return a.splice(o==-1?a.length:o,0,t,n),new r(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=r.from(e),e.size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=r.from(e),e.size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)},$D=r,$D}var dV;function wk(){if(dV)return Pa;dV=1;function r(V,$){var x=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!x){if(Array.isArray(V)||(x=e(V))||$){x&&(V=x);var A=0,I=function(){};return{s:I,n:function(){return A>=V.length?{done:!0}:{done:!1,value:V[A++]}},e:function(Ne){throw Ne},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y=!0,ae=!1,de;return{s:function(){x=x.call(V)},n:function(){var Ne=x.next();return Y=Ne.done,Ne},e:function(Ne){ae=!0,de=Ne},f:function(){try{!Y&&x.return!=null&&x.return()}finally{if(ae)throw de}}}}function e(V,$){if(V){if(typeof V=="string")return t(V,$);var x=Object.prototype.toString.call(V).slice(8,-1);if(x==="Object"&&V.constructor&&(x=V.constructor.name),x==="Map"||x==="Set")return Array.from(V);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return t(V,$)}}function t(V,$){($==null||$>V.length)&&($=V.length);for(var x=0,A=new Array($);x<$;x++)A[x]=V[x];return A}function n(){return typeof Reflect<"u"&&Reflect.get?n=Reflect.get.bind():n=function($,x,A){var I=i($,x);if(I){var Y=Object.getOwnPropertyDescriptor(I,x);return Y.get?Y.get.call(arguments.length<3?$:A):Y.value}},n.apply(this,arguments)}function i(V,$){for(;!Object.prototype.hasOwnProperty.call(V,$)&&(V=O(V),V!==null););return V}function a(V,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create($&&$.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),$&&g(V,$)}function o(V){var $=h();return function(){var A=O(V),I;if($){var Y=O(this).constructor;I=Reflect.construct(A,arguments,Y)}else I=A.apply(this,arguments);return s(this,I)}}function s(V,$){if($&&(T($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(V)}function l(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function u(V){var $=typeof Map=="function"?new Map:void 0;return u=function(A){if(A===null||!p(A))return A;if(typeof A!="function")throw new TypeError("Super expression must either be null or a function");if(typeof $<"u"){if($.has(A))return $.get(A);$.set(A,I)}function I(){return c(A,arguments,O(this).constructor)}return I.prototype=Object.create(A.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),g(I,A)},u(V)}function c(V,$,x){return h()?c=Reflect.construct.bind():c=function(I,Y,ae){var de=[null];de.push.apply(de,Y);var Ae=Function.bind.apply(I,de),Ne=new Ae;return ae&&g(Ne,ae.prototype),Ne},c.apply(null,arguments)}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p(V){try{return Function.toString.call(V).indexOf("[native code]")!==-1}catch{return typeof V=="function"}}function g(V,$){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,I){return A.__proto__=I,A},g(V,$)}function O(V){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},O(V)}function T(V){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},T(V)}function M(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")}function R(V,$){for(var x=0;x<$.length;x++){var A=$[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(V,U(A.key),A)}}function z(V,$,x){return $&&R(V.prototype,$),x&&R(V,x),Object.defineProperty(V,"prototype",{writable:!1}),V}function U(V){var $=G(V,"string");return T($)==="symbol"?$:String($)}function G(V,$){if(T(V)!=="object"||V===null)return V;var x=V[Symbol.toPrimitive];if(x!==void 0){var A=x.call(V,$);if(T(A)!=="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(V)}var J=Lxt();function ee(V,$,x){for(var A=0;;A++){if(A==V.childCount||A==$.childCount)return V.childCount==$.childCount?null:x;var I=V.child(A),Y=$.child(A);if(I==Y){x+=I.nodeSize;continue}if(!I.sameMarkup(Y))return x;if(I.isText&&I.text!=Y.text){for(var ae=0;I.text[ae]==Y.text[ae];ae++)x++;return x}if(I.content.size||Y.content.size){var de=ee(I.content,Y.content,x+1);if(de!=null)return de}x+=I.nodeSize}}function le(V,$,x,A){for(var I=V.childCount,Y=$.childCount;;){if(I==0||Y==0)return I==Y?null:{a:x,b:A};var ae=V.child(--I),de=$.child(--Y),Ae=ae.nodeSize;if(ae==de){x-=Ae,A-=Ae;continue}if(!ae.sameMarkup(de))return{a:x,b:A};if(ae.isText&&ae.text!=de.text){for(var Ne=0,tt=Math.min(ae.text.length,de.text.length);Ne<tt&&ae.text[ae.text.length-Ne-1]==de.text[de.text.length-Ne-1];)Ne++,x--,A--;return{a:x,b:A}}if(ae.content.size||de.content.size){var rt=le(ae.content,de.content,x-1,A-1);if(rt)return rt}x-=Ae,A-=Ae}}var pe=function(){function V($,x){if(M(this,V),this.content=$,this.size=x||0,x==null)for(var A=0;A<$.length;A++)this.size+=$[A].nodeSize}return z(V,[{key:"nodesBetween",value:function(x,A,I){for(var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ae=arguments.length>4?arguments[4]:void 0,de=0,Ae=0;Ae<A;de++){var Ne=this.content[de],tt=Ae+Ne.nodeSize;if(tt>x&&I(Ne,Y+Ae,ae||null,de)!==!1&&Ne.content.size){var rt=Ae+1;Ne.nodesBetween(Math.max(0,x-rt),Math.min(Ne.content.size,A-rt),I,Y+rt)}Ae=tt}}},{key:"descendants",value:function(x){this.nodesBetween(0,this.size,x)}},{key:"textBetween",value:function(x,A,I,Y){var ae="",de=!0;return this.nodesBetween(x,A,function(Ae,Ne){var tt=Ae.isText?Ae.text.slice(Math.max(x,Ne)-Ne,A-Ne):Ae.isLeaf?Y?typeof Y=="function"?Y(Ae):Y:Ae.type.spec.leafText?Ae.type.spec.leafText(Ae):"":"";Ae.isBlock&&(Ae.isLeaf&&tt||Ae.isTextblock)&&I&&(de?de=!1:ae+=I),ae+=tt},0),ae}},{key:"append",value:function(x){if(!x.size)return this;if(!this.size)return x;var A=this.lastChild,I=x.firstChild,Y=this.content.slice(),ae=0;for(A.isText&&A.sameMarkup(I)&&(Y[Y.length-1]=A.withText(A.text+I.text),ae=1);ae<x.content.length;ae++)Y.push(x.content[ae]);return new V(Y,this.size+x.size)}},{key:"cut",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size;if(x==0&&A==this.size)return this;var I=[],Y=0;if(A>x)for(var ae=0,de=0;de<A;ae++){var Ae=this.content[ae],Ne=de+Ae.nodeSize;Ne>x&&((de<x||Ne>A)&&(Ae.isText?Ae=Ae.cut(Math.max(0,x-de),Math.min(Ae.text.length,A-de)):Ae=Ae.cut(Math.max(0,x-de-1),Math.min(Ae.content.size,A-de-1))),I.push(Ae),Y+=Ae.nodeSize),de=Ne}return new V(I,Y)}},{key:"cutByIndex",value:function(x,A){return x==A?V.empty:x==0&&A==this.content.length?this:new V(this.content.slice(x,A))}},{key:"replaceChild",value:function(x,A){var I=this.content[x];if(I==A)return this;var Y=this.content.slice(),ae=this.size+A.nodeSize-I.nodeSize;return Y[x]=A,new V(Y,ae)}},{key:"addToStart",value:function(x){return new V([x].concat(this.content),this.size+x.nodeSize)}},{key:"addToEnd",value:function(x){return new V(this.content.concat(x),this.size+x.nodeSize)}},{key:"eq",value:function(x){if(this.content.length!=x.content.length)return!1;for(var A=0;A<this.content.length;A++)if(!this.content[A].eq(x.content[A]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(x){var A=this.content[x];if(!A)throw new RangeError("Index "+x+" out of range for "+this);return A}},{key:"maybeChild",value:function(x){return this.content[x]||null}},{key:"forEach",value:function(x){for(var A=0,I=0;A<this.content.length;A++){var Y=this.content[A];x(Y,I,A),I+=Y.nodeSize}}},{key:"findDiffStart",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ee(this,x,A)}},{key:"findDiffEnd",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.size;return le(this,x,A,I)}},{key:"findIndex",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;if(x==0)return Fe(0,x);if(x==this.size)return Fe(this.content.length,x);if(x>this.size||x<0)throw new RangeError("Position ".concat(x," outside of fragment (").concat(this,")"));for(var I=0,Y=0;;I++){var ae=this.child(I),de=Y+ae.nodeSize;if(de>=x)return de==x||A>0?Fe(I+1,de):Fe(I,Y);Y=de}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map(function(x){return x.toJSON()}):null}}],[{key:"fromJSON",value:function(x,A){if(!A)return V.empty;if(!Array.isArray(A))throw new RangeError("Invalid input for Fragment.fromJSON");return new V(A.map(x.nodeFromJSON))}},{key:"fromArray",value:function(x){if(!x.length)return V.empty;for(var A,I=0,Y=0;Y<x.length;Y++){var ae=x[Y];I+=ae.nodeSize,Y&&ae.isText&&x[Y-1].sameMarkup(ae)?(A||(A=x.slice(0,Y)),A[A.length-1]=ae.withText(A[A.length-1].text+ae.text)):A&&A.push(ae)}return new V(A||x,I)}},{key:"from",value:function(x){if(!x)return V.empty;if(x instanceof V)return x;if(Array.isArray(x))return this.fromArray(x);if(x.attrs)return new V([x],x.nodeSize);throw new RangeError("Can not convert "+x+" to a Fragment"+(x.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),V}();pe.empty=new pe([],0);var be={index:0,offset:0};function Fe(V,$){return be.index=V,be.offset=$,be}function Ge(V,$){if(V===$)return!0;if(!(V&&T(V)=="object")||!($&&T($)=="object"))return!1;var x=Array.isArray(V);if(Array.isArray($)!=x)return!1;if(x){if(V.length!=$.length)return!1;for(var A=0;A<V.length;A++)if(!Ge(V[A],$[A]))return!1}else{for(var I in V)if(!(I in $)||!Ge(V[I],$[I]))return!1;for(var Y in $)if(!(Y in V))return!1}return!0}var _e=function(){function V($,x){M(this,V),this.type=$,this.attrs=x}return z(V,[{key:"addToSet",value:function(x){for(var A,I=!1,Y=0;Y<x.length;Y++){var ae=x[Y];if(this.eq(ae))return x;if(this.type.excludes(ae.type))A||(A=x.slice(0,Y));else{if(ae.type.excludes(this.type))return x;!I&&ae.type.rank>this.type.rank&&(A||(A=x.slice(0,Y)),A.push(this),I=!0),A&&A.push(ae)}}return A||(A=x.slice()),I||A.push(this),A}},{key:"removeFromSet",value:function(x){for(var A=0;A<x.length;A++)if(this.eq(x[A]))return x.slice(0,A).concat(x.slice(A+1));return x}},{key:"isInSet",value:function(x){for(var A=0;A<x.length;A++)if(this.eq(x[A]))return!0;return!1}},{key:"eq",value:function(x){return this==x||this.type==x.type&&Ge(this.attrs,x.attrs)}},{key:"toJSON",value:function(){var x={type:this.type.name};for(var A in this.attrs){x.attrs=this.attrs;break}return x}}],[{key:"fromJSON",value:function(x,A){if(!A)throw new RangeError("Invalid input for Mark.fromJSON");var I=x.marks[A.type];if(!I)throw new RangeError("There is no mark type ".concat(A.type," in this schema"));var Y=I.create(A.attrs);return I.checkAttrs(Y.attrs),Y}},{key:"sameSet",value:function(x,A){if(x==A)return!0;if(x.length!=A.length)return!1;for(var I=0;I<x.length;I++)if(!x[I].eq(A[I]))return!1;return!0}},{key:"setFrom",value:function(x){if(!x||Array.isArray(x)&&x.length==0)return V.none;if(x instanceof V)return[x];var A=x.slice();return A.sort(function(I,Y){return I.type.rank-Y.type.rank}),A}}]),V}();_e.none=[];var ot=function(V){a(x,V);var $=o(x);function x(){return M(this,x),$.apply(this,arguments)}return z(x)}(u(Error)),at=function(){function V($,x,A){M(this,V),this.content=$,this.openStart=x,this.openEnd=A}return z(V,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(x,A){var I=Ot(this.content,x+this.openStart,A);return I&&new V(I,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(x,A){return new V(dt(this.content,x+this.openStart,A+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(x){return this.content.eq(x.content)&&this.openStart==x.openStart&&this.openEnd==x.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var x={content:this.content.toJSON()};return this.openStart>0&&(x.openStart=this.openStart),this.openEnd>0&&(x.openEnd=this.openEnd),x}}],[{key:"fromJSON",value:function(x,A){if(!A)return V.empty;var I=A.openStart||0,Y=A.openEnd||0;if(typeof I!="number"||typeof Y!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new V(pe.fromJSON(x,A.content),I,Y)}},{key:"maxOpen",value:function(x){for(var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,I=0,Y=0,ae=x.firstChild;ae&&!ae.isLeaf&&(A||!ae.type.spec.isolating);ae=ae.firstChild)I++;for(var de=x.lastChild;de&&!de.isLeaf&&(A||!de.type.spec.isolating);de=de.lastChild)Y++;return new V(x,I,Y)}}]),V}();at.empty=new at(pe.empty,0,0);function dt(V,$,x){var A=V.findIndex($),I=A.index,Y=A.offset,ae=V.maybeChild(I),de=V.findIndex(x),Ae=de.index,Ne=de.offset;if(Y==$||ae.isText){if(Ne!=x&&!V.child(Ae).isText)throw new RangeError("Removing non-flat range");return V.cut(0,$).append(V.cut(x))}if(I!=Ae)throw new RangeError("Removing non-flat range");return V.replaceChild(I,ae.copy(dt(ae.content,$-Y-1,x-Y-1)))}function Ot(V,$,x,A){var I=V.findIndex($),Y=I.index,ae=I.offset,de=V.maybeChild(Y);if(ae==$||de.isText)return V.cut(0,$).append(x).append(V.cut($));var Ae=Ot(de.content,$-ae-1,x);return Ae&&V.replaceChild(Y,de.copy(Ae))}function Qt(V,$,x){if(x.openStart>V.depth)throw new ot("Inserted content deeper than insertion position");if(V.depth-x.openStart!=$.depth-x.openEnd)throw new ot("Inconsistent open depths");return Vt(V,$,x,0)}function Vt(V,$,x,A){var I=V.index(A),Y=V.node(A);if(I==$.index(A)&&A<V.depth-x.openStart){var ae=Vt(V,$,x,A+1);return Y.copy(Y.content.replaceChild(I,ae))}else if(x.content.size)if(!x.openStart&&!x.openEnd&&V.depth==A&&$.depth==A){var de=V.parent,Ae=de.content;return tr(de,Ae.cut(0,V.parentOffset).append(x.content).append(Ae.cut($.parentOffset)))}else{var Ne=Le(x,V),tt=Ne.start,rt=Ne.end;return tr(Y,or(V,tt,rt,$,A))}else return tr(Y,Sr(V,$,A))}function ar(V,$){if(!$.type.compatibleContent(V.type))throw new ot("Cannot join "+$.type.name+" onto "+V.type.name)}function bt(V,$,x){var A=V.node(x);return ar(A,$.node(x)),A}function Rt(V,$){var x=$.length-1;x>=0&&V.isText&&V.sameMarkup($[x])?$[x]=V.withText($[x].text+V.text):$.push(V)}function Pt(V,$,x,A){var I=($||V).node(x),Y=0,ae=$?$.index(x):I.childCount;V&&(Y=V.index(x),V.depth>x?Y++:V.textOffset&&(Rt(V.nodeAfter,A),Y++));for(var de=Y;de<ae;de++)Rt(I.child(de),A);$&&$.depth==x&&$.textOffset&&Rt($.nodeBefore,A)}function tr(V,$){return V.type.checkContent($),V.copy($)}function or(V,$,x,A,I){var Y=V.depth>I&&bt(V,$,I+1),ae=A.depth>I&&bt(x,A,I+1),de=[];return Pt(null,V,I,de),Y&&ae&&$.index(I)==x.index(I)?(ar(Y,ae),Rt(tr(Y,or(V,$,x,A,I+1)),de)):(Y&&Rt(tr(Y,Sr(V,$,I+1)),de),Pt($,x,I,de),ae&&Rt(tr(ae,Sr(x,A,I+1)),de)),Pt(A,null,I,de),new pe(de)}function Sr(V,$,x){var A=[];if(Pt(null,V,x,A),V.depth>x){var I=bt(V,$,x+1);Rt(tr(I,Sr(V,$,x+1)),A)}return Pt($,null,x,A),new pe(A)}function Le(V,$){for(var x=$.depth-V.openStart,A=$.node(x),I=A.copy(V.content),Y=x-1;Y>=0;Y--)I=$.node(Y).copy(pe.from(I));return{start:I.resolveNoCache(V.openStart+x),end:I.resolveNoCache(I.content.size-V.openEnd-x)}}var Pe=function(){function V($,x,A){M(this,V),this.pos=$,this.path=x,this.parentOffset=A,this.depth=x.length/3-1}return z(V,[{key:"resolveDepth",value:function(x){return x==null?this.depth:x<0?this.depth+x:x}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(x){return this.path[this.resolveDepth(x)*3]}},{key:"index",value:function(x){return this.path[this.resolveDepth(x)*3+1]}},{key:"indexAfter",value:function(x){return x=this.resolveDepth(x),this.index(x)+(x==this.depth&&!this.textOffset?0:1)}},{key:"start",value:function(x){return x=this.resolveDepth(x),x==0?0:this.path[x*3-1]+1}},{key:"end",value:function(x){return x=this.resolveDepth(x),this.start(x)+this.node(x).content.size}},{key:"before",value:function(x){if(x=this.resolveDepth(x),!x)throw new RangeError("There is no position before the top-level node");return x==this.depth+1?this.pos:this.path[x*3-1]}},{key:"after",value:function(x){if(x=this.resolveDepth(x),!x)throw new RangeError("There is no position after the top-level node");return x==this.depth+1?this.pos:this.path[x*3-1]+this.path[x*3].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var x=this.parent,A=this.index(this.depth);if(A==x.childCount)return null;var I=this.pos-this.path[this.path.length-1],Y=x.child(A);return I?x.child(A).cut(I):Y}},{key:"nodeBefore",get:function(){var x=this.index(this.depth),A=this.pos-this.path[this.path.length-1];return A?this.parent.child(x).cut(0,A):x==0?null:this.parent.child(x-1)}},{key:"posAtIndex",value:function(x,A){A=this.resolveDepth(A);for(var I=this.path[A*3],Y=A==0?0:this.path[A*3-1]+1,ae=0;ae<x;ae++)Y+=I.child(ae).nodeSize;return Y}},{key:"marks",value:function(){var x=this.parent,A=this.index();if(x.content.size==0)return _e.none;if(this.textOffset)return x.child(A).marks;var I=x.maybeChild(A-1),Y=x.maybeChild(A);if(!I){var ae=I;I=Y,Y=ae}for(var de=I.marks,Ae=0;Ae<de.length;Ae++)de[Ae].type.spec.inclusive===!1&&(!Y||!de[Ae].isInSet(Y.marks))&&(de=de[Ae--].removeFromSet(de));return de}},{key:"marksAcross",value:function(x){var A=this.parent.maybeChild(this.index());if(!A||!A.isInline)return null;for(var I=A.marks,Y=x.parent.maybeChild(x.index()),ae=0;ae<I.length;ae++)I[ae].type.spec.inclusive===!1&&(!Y||!I[ae].isInSet(Y.marks))&&(I=I[ae--].removeFromSet(I));return I}},{key:"sharedDepth",value:function(x){for(var A=this.depth;A>0;A--)if(this.start(A)<=x&&this.end(A)>=x)return A;return 0}},{key:"blockRange",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,A=arguments.length>1?arguments[1]:void 0;if(x.pos<this.pos)return x.blockRange(this);for(var I=this.depth-(this.parent.inlineContent||this.pos==x.pos?1:0);I>=0;I--)if(x.pos<=this.end(I)&&(!A||A(this.node(I))))return new Be(this,x,I);return null}},{key:"sameParent",value:function(x){return this.pos-this.parentOffset==x.pos-x.parentOffset}},{key:"max",value:function(x){return x.pos>this.pos?x:this}},{key:"min",value:function(x){return x.pos<this.pos?x:this}},{key:"toString",value:function(){for(var x="",A=1;A<=this.depth;A++)x+=(x?"/":"")+this.node(A).type.name+"_"+this.index(A-1);return x+":"+this.parentOffset}}],[{key:"resolve",value:function(x,A){if(!(A>=0&&A<=x.content.size))throw new RangeError("Position "+A+" out of range");for(var I=[],Y=0,ae=A,de=x;;){var Ae=de.content.findIndex(ae),Ne=Ae.index,tt=Ae.offset,rt=ae-tt;if(I.push(de,Ne,Y+tt),!rt||(de=de.child(Ne),de.isText))break;ae=rt-1,Y+=tt+1}return new V(A,I,ae)}},{key:"resolveCached",value:function(x,A){var I=Oe.get(x);if(I)for(var Y=0;Y<I.elts.length;Y++){var ae=I.elts[Y];if(ae.pos==A)return ae}else Oe.set(x,I=new ve);var de=I.elts[I.i]=V.resolve(x,A);return I.i=(I.i+1)%xe,de}}]),V}(),ve=z(function V(){M(this,V),this.elts=[],this.i=0}),xe=12,Oe=new WeakMap,Be=function(){function V($,x,A){M(this,V),this.$from=$,this.$to=x,this.depth=A}return z(V,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),V}(),Ze=Object.create(null),st=function(){function V($,x,A){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_e.none;M(this,V),this.type=$,this.attrs=x,this.marks=I,this.content=A||pe.empty}return z(V,[{key:"children",get:function(){return this.content.content}},{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(x){return this.content.child(x)}},{key:"maybeChild",value:function(x){return this.content.maybeChild(x)}},{key:"forEach",value:function(x){this.content.forEach(x)}},{key:"nodesBetween",value:function(x,A,I){var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.content.nodesBetween(x,A,I,Y,this)}},{key:"descendants",value:function(x){this.nodesBetween(0,this.content.size,x)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(x,A,I,Y){return this.content.textBetween(x,A,I,Y)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(x){return this==x||this.sameMarkup(x)&&this.content.eq(x.content)}},{key:"sameMarkup",value:function(x){return this.hasMarkup(x.type,x.attrs,x.marks)}},{key:"hasMarkup",value:function(x,A,I){return this.type==x&&Ge(this.attrs,A||x.defaultAttrs||Ze)&&_e.sameSet(this.marks,I||_e.none)}},{key:"copy",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return x==this.content?this:new V(this.type,this.attrs,x,this.marks)}},{key:"mark",value:function(x){return x==this.marks?this:new V(this.type,this.attrs,this.content,x)}},{key:"cut",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size;return x==0&&A==this.content.size?this:this.copy(this.content.cut(x,A))}},{key:"slice",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(x==A)return at.empty;var Y=this.resolve(x),ae=this.resolve(A),de=I?0:Y.sharedDepth(A),Ae=Y.start(de),Ne=Y.node(de),tt=Ne.content.cut(Y.pos-Ae,ae.pos-Ae);return new at(tt,Y.depth-de,ae.depth-de)}},{key:"replace",value:function(x,A,I){return Qt(this.resolve(x),this.resolve(A),I)}},{key:"nodeAt",value:function(x){for(var A=this;;){var I=A.content.findIndex(x),Y=I.index,ae=I.offset;if(A=A.maybeChild(Y),!A)return null;if(ae==x||A.isText)return A;x-=ae+1}}},{key:"childAfter",value:function(x){var A=this.content.findIndex(x),I=A.index,Y=A.offset;return{node:this.content.maybeChild(I),index:I,offset:Y}}},{key:"childBefore",value:function(x){if(x==0)return{node:null,index:0,offset:0};var A=this.content.findIndex(x),I=A.index,Y=A.offset;if(Y<x)return{node:this.content.child(I),index:I,offset:Y};var ae=this.content.child(I-1);return{node:ae,index:I-1,offset:Y-ae.nodeSize}}},{key:"resolve",value:function(x){return Pe.resolveCached(this,x)}},{key:"resolveNoCache",value:function(x){return Pe.resolve(this,x)}},{key:"rangeHasMark",value:function(x,A,I){var Y=!1;return A>x&&this.nodesBetween(x,A,function(ae){return I.isInSet(ae.marks)&&(Y=!0),!Y}),Y}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var x=this.type.name;return this.content.size&&(x+="("+this.content.toStringInner()+")"),Jt(this.marks,x)}},{key:"contentMatchAt",value:function(x){var A=this.type.contentMatch.matchFragment(this.content,0,x);if(!A)throw new Error("Called contentMatchAt on a node with invalid content");return A}},{key:"canReplace",value:function(x,A){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pe.empty,Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ae=arguments.length>4&&arguments[4]!==void 0?arguments[4]:I.childCount,de=this.contentMatchAt(x).matchFragment(I,Y,ae),Ae=de&&de.matchFragment(this.content,A);if(!Ae||!Ae.validEnd)return!1;for(var Ne=Y;Ne<ae;Ne++)if(!this.type.allowsMarks(I.child(Ne).marks))return!1;return!0}},{key:"canReplaceWith",value:function(x,A,I,Y){if(Y&&!this.type.allowsMarks(Y))return!1;var ae=this.contentMatchAt(x).matchType(I),de=ae&&ae.matchFragment(this.content,A);return de?de.validEnd:!1}},{key:"canAppend",value:function(x){return x.content.size?this.canReplace(this.childCount,this.childCount,x.content):this.type.compatibleContent(x.type)}},{key:"check",value:function(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);for(var x=_e.none,A=0;A<this.marks.length;A++){var I=this.marks[A];I.type.checkAttrs(I.attrs),x=I.addToSet(x)}if(!_e.sameSet(x,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(function(Y){return Y.type.name})));this.content.forEach(function(Y){return Y.check()})}},{key:"toJSON",value:function(){var x={type:this.type.name};for(var A in this.attrs){x.attrs=this.attrs;break}return this.content.size&&(x.content=this.content.toJSON()),this.marks.length&&(x.marks=this.marks.map(function(I){return I.toJSON()})),x}}],[{key:"fromJSON",value:function(x,A){if(!A)throw new RangeError("Invalid input for Node.fromJSON");var I=void 0;if(A.marks){if(!Array.isArray(A.marks))throw new RangeError("Invalid mark data for Node.fromJSON");I=A.marks.map(x.markFromJSON)}if(A.type=="text"){if(typeof A.text!="string")throw new RangeError("Invalid text node in JSON");return x.text(A.text,I)}var Y=pe.fromJSON(x,A.content),ae=x.nodeType(A.type).create(A.attrs,Y,I);return ae.type.checkAttrs(ae.attrs),ae}}]),V}();st.prototype.text=void 0;var $t=function(V){a(x,V);var $=o(x);function x(A,I,Y,ae){var de;if(M(this,x),de=$.call(this,A,I,null,ae),!Y)throw new RangeError("Empty text nodes are not allowed");return de.text=Y,de}return z(x,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Jt(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(I,Y){return this.text.slice(I,Y)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(I){return I==this.marks?this:new x(this.type,this.attrs,this.text,I)}},{key:"withText",value:function(I){return I==this.text?this:new x(this.type,this.attrs,I,this.marks)}},{key:"cut",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.text.length;return I==0&&Y==this.text.length?this:this.withText(this.text.slice(I,Y))}},{key:"eq",value:function(I){return this.sameMarkup(I)&&this.text==I.text}},{key:"toJSON",value:function(){var I=n(O(x.prototype),"toJSON",this).call(this);return I.text=this.text,I}}]),x}(st);function Jt(V,$){for(var x=V.length-1;x>=0;x--)$=V[x].type.name+"("+$+")";return $}var Yt=function(){function V($){M(this,V),this.validEnd=$,this.next=[],this.wrapCache=[]}return z(V,[{key:"matchType",value:function(x){for(var A=0;A<this.next.length;A++)if(this.next[A].type==x)return this.next[A].next;return null}},{key:"matchFragment",value:function(x){for(var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.childCount,Y=this,ae=A;Y&&ae<I;ae++)Y=Y.matchType(x.child(ae).type);return Y}},{key:"inlineContent",get:function(){return this.next.length!=0&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var x=0;x<this.next.length;x++){var A=this.next[x].type;if(!(A.isText||A.hasRequiredAttrs()))return A}return null}},{key:"compatible",value:function(x){for(var A=0;A<this.next.length;A++)for(var I=0;I<x.next.length;I++)if(this.next[A].type==x.next[I].type)return!0;return!1}},{key:"fillBefore",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Y=[this];function ae(de,Ae){var Ne=de.matchFragment(x,I);if(Ne&&(!A||Ne.validEnd))return pe.from(Ae.map(function(Gr){return Gr.createAndFill()}));for(var tt=0;tt<de.next.length;tt++){var rt=de.next[tt],mt=rt.type,zt=rt.next;if(!(mt.isText||mt.hasRequiredAttrs())&&Y.indexOf(zt)==-1){Y.push(zt);var wr=ae(zt,Ae.concat(mt));if(wr)return wr}}return null}return ae(this,[])}},{key:"findWrapping",value:function(x){for(var A=0;A<this.wrapCache.length;A+=2)if(this.wrapCache[A]==x)return this.wrapCache[A+1];var I=this.computeWrapping(x);return this.wrapCache.push(x,I),I}},{key:"computeWrapping",value:function(x){for(var A=Object.create(null),I=[{match:this,type:null,via:null}];I.length;){var Y=I.shift(),ae=Y.match;if(ae.matchType(x)){for(var de=[],Ae=Y;Ae.type;Ae=Ae.via)de.push(Ae.type);return de.reverse()}for(var Ne=0;Ne<ae.next.length;Ne++){var tt=ae.next[Ne],rt=tt.type,mt=tt.next;!rt.isLeaf&&!rt.hasRequiredAttrs()&&!(rt.name in A)&&(!Y.type||mt.validEnd)&&(I.push({match:rt.contentMatch,type:rt,via:Y}),A[rt.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(x){if(x>=this.next.length)throw new RangeError("There's no ".concat(x,"th edge in this content match"));return this.next[x]}},{key:"toString",value:function(){var x=[];function A(I){x.push(I);for(var Y=0;Y<I.next.length;Y++)x.indexOf(I.next[Y].next)==-1&&A(I.next[Y].next)}return A(this),x.map(function(I,Y){for(var ae=Y+(I.validEnd?"*":" ")+" ",de=0;de<I.next.length;de++)ae+=(de?", ":"")+I.next[de].type.name+"->"+x.indexOf(I.next[de].next);return ae}).join(`
`)}}],[{key:"parse",value:function(x,A){var I=new Cr(x,A);if(I.next==null)return V.empty;var Y=sr(I);I.next&&I.err("Unexpected trailing text");var ae=pt(On(Y));return Ft(ae,I),ae}}]),V}();Yt.empty=new Yt(!0);var Cr=function(){function V($,x){M(this,V),this.string=$,this.nodeTypes=x,this.inline=null,this.pos=0,this.tokens=$.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}return z(V,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(x){return this.next==x&&(this.pos++||!0)}},{key:"err",value:function(x){throw new SyntaxError(x+" (in content expression '"+this.string+"')")}}]),V}();function sr(V){var $=[];do $.push(un(V));while(V.eat("|"));return $.length==1?$[0]:{type:"choice",exprs:$}}function un(V){var $=[];do $.push(Zr(V));while(V.next&&V.next!=")"&&V.next!="|");return $.length==1?$[0]:{type:"seq",exprs:$}}function Zr(V){for(var $=$i(V);;)if(V.eat("+"))$={type:"plus",expr:$};else if(V.eat("*"))$={type:"star",expr:$};else if(V.eat("?"))$={type:"opt",expr:$};else if(V.eat("{"))$=pr(V,$);else break;return $}function Lr(V){/\D/.test(V.next)&&V.err("Expected number, got '"+V.next+"'");var $=Number(V.next);return V.pos++,$}function pr(V,$){var x=Lr(V),A=x;return V.eat(",")&&(V.next!="}"?A=Lr(V):A=-1),V.eat("}")||V.err("Unclosed braced range"),{type:"range",min:x,max:A,expr:$}}function tn(V,$){var x=V.nodeTypes,A=x[$];if(A)return[A];var I=[];for(var Y in x){var ae=x[Y];ae.isInGroup($)&&I.push(ae)}return I.length==0&&V.err("No node type or group '"+$+"' found"),I}function $i(V){if(V.eat("(")){var $=sr(V);return V.eat(")")||V.err("Missing closing paren"),$}else if(/\W/.test(V.next))V.err("Unexpected token '"+V.next+"'");else{var x=tn(V,V.next).map(function(A){return V.inline==null?V.inline=A.isInline:V.inline!=A.isInline&&V.err("Mixing inline and block content"),{type:"name",value:A}});return V.pos++,x.length==1?x[0]:{type:"choice",exprs:x}}}function On(V){var $=[[]];return I(Y(V,0),x()),$;function x(){return $.push([])-1}function A(ae,de,Ae){var Ne={term:Ae,to:de};return $[ae].push(Ne),Ne}function I(ae,de){ae.forEach(function(Ae){return Ae.to=de})}function Y(ae,de){if(ae.type=="choice")return ae.exprs.reduce(function(ko,Ko){return ko.concat(Y(Ko,de))},[]);if(ae.type=="seq")for(var Ae=0;;Ae++){var Ne=Y(ae.exprs[Ae],de);if(Ae==ae.exprs.length-1)return Ne;I(Ne,de=x())}else if(ae.type=="star"){var tt=x();return A(de,tt),I(Y(ae.expr,tt),tt),[A(tt)]}else if(ae.type=="plus"){var rt=x();return I(Y(ae.expr,de),rt),I(Y(ae.expr,rt),rt),[A(rt)]}else{if(ae.type=="opt")return[A(de)].concat(Y(ae.expr,de));if(ae.type=="range"){for(var mt=de,zt=0;zt<ae.min;zt++){var wr=x();I(Y(ae.expr,mt),wr),mt=wr}if(ae.max==-1)I(Y(ae.expr,mt),mt);else for(var Gr=ae.min;Gr<ae.max;Gr++){var ea=x();A(mt,ea),I(Y(ae.expr,mt),ea),mt=ea}return[A(mt)]}else{if(ae.type=="name")return[A(de,void 0,ae.value)];throw new Error("Unknown expr type")}}}}function yn(V,$){return $-V}function ct(V,$){var x=[];return A($),x.sort(yn);function A(I){var Y=V[I];if(Y.length==1&&!Y[0].term)return A(Y[0].to);x.push(I);for(var ae=0;ae<Y.length;ae++){var de=Y[ae],Ae=de.term,Ne=de.to;!Ae&&x.indexOf(Ne)==-1&&A(Ne)}}}function pt(V){var $=Object.create(null);return x(ct(V,0));function x(A){var I=[];A.forEach(function(Ae){V[Ae].forEach(function(Ne){var tt=Ne.term,rt=Ne.to;if(tt){for(var mt,zt=0;zt<I.length;zt++)I[zt][0]==tt&&(mt=I[zt][1]);ct(V,rt).forEach(function(wr){mt||I.push([tt,mt=[]]),mt.indexOf(wr)==-1&&mt.push(wr)})}})});for(var Y=$[A.join(",")]=new Yt(A.indexOf(V.length-1)>-1),ae=0;ae<I.length;ae++){var de=I[ae][1].sort(yn);Y.next.push({type:I[ae][0],next:$[de.join(",")]||x(de)})}return Y}}function Ft(V,$){for(var x=0,A=[V];x<A.length;x++){for(var I=A[x],Y=!I.validEnd,ae=[],de=0;de<I.next.length;de++){var Ae=I.next[de],Ne=Ae.type,tt=Ae.next;ae.push(Ne.name),Y&&!(Ne.isText||Ne.hasRequiredAttrs())&&(Y=!1),A.indexOf(tt)==-1&&A.push(tt)}Y&&$.err("Only non-generatable nodes ("+ae.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function er(V){var $=Object.create(null);for(var x in V){var A=V[x];if(!A.hasDefault)return null;$[x]=A.default}return $}function Or(V,$){var x=Object.create(null);for(var A in V){var I=$&&$[A];if(I===void 0){var Y=V[A];if(Y.hasDefault)I=Y.default;else throw new RangeError("No value supplied for attribute "+A)}x[A]=I}return x}function pn(V,$,x,A){for(var I in $)if(!(I in V))throw new RangeError("Unsupported attribute ".concat(I," for ").concat(x," of type ").concat(I));for(var Y in V){var ae=V[Y];ae.validate&&ae.validate($[Y])}}function _r(V,$){var x=Object.create(null);if($)for(var A in $)x[A]=new Zn(V,A,$[A]);return x}var Xr=function(){function V($,x,A){M(this,V),this.name=$,this.schema=x,this.spec=A,this.markSet=null,this.groups=A.group?A.group.split(" "):[],this.attrs=_r($,A.attrs),this.defaultAttrs=er(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(A.inline||$=="text"),this.isText=$=="text"}return z(V,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==Yt.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"isInGroup",value:function(x){return this.groups.indexOf(x)>-1}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var x in this.attrs)if(this.attrs[x].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(x){return this==x||this.contentMatch.compatible(x.contentMatch)}},{key:"computeAttrs",value:function(x){return!x&&this.defaultAttrs?this.defaultAttrs:Or(this.attrs,x)}},{key:"create",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,A=arguments.length>1?arguments[1]:void 0,I=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new st(this,this.computeAttrs(x),pe.from(A),_e.setFrom(I))}},{key:"createChecked",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,A=arguments.length>1?arguments[1]:void 0,I=arguments.length>2?arguments[2]:void 0;return A=pe.from(A),this.checkContent(A),new st(this,this.computeAttrs(x),A,_e.setFrom(I))}},{key:"createAndFill",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,A=arguments.length>1?arguments[1]:void 0,I=arguments.length>2?arguments[2]:void 0;if(x=this.computeAttrs(x),A=pe.from(A),A.size){var Y=this.contentMatch.fillBefore(A);if(!Y)return null;A=Y.append(A)}var ae=this.contentMatch.matchFragment(A),de=ae&&ae.fillBefore(pe.empty,!0);return de?new st(this,x,A.append(de),_e.setFrom(I)):null}},{key:"validContent",value:function(x){var A=this.contentMatch.matchFragment(x);if(!A||!A.validEnd)return!1;for(var I=0;I<x.childCount;I++)if(!this.allowsMarks(x.child(I).marks))return!1;return!0}},{key:"checkContent",value:function(x){if(!this.validContent(x))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(x.toString().slice(0,50)))}},{key:"checkAttrs",value:function(x){pn(this.attrs,x,"node",this.name)}},{key:"allowsMarkType",value:function(x){return this.markSet==null||this.markSet.indexOf(x)>-1}},{key:"allowsMarks",value:function(x){if(this.markSet==null)return!0;for(var A=0;A<x.length;A++)if(!this.allowsMarkType(x[A].type))return!1;return!0}},{key:"allowedMarks",value:function(x){if(this.markSet==null)return x;for(var A,I=0;I<x.length;I++)this.allowsMarkType(x[I].type)?A&&A.push(x[I]):A||(A=x.slice(0,I));return A?A.length?A:_e.none:x}}],[{key:"compile",value:function(x,A){var I=Object.create(null);x.forEach(function(de,Ae){return I[de]=new V(de,A,Ae)});var Y=A.spec.topNode||"doc";if(!I[Y])throw new RangeError("Schema is missing its top node type ('"+Y+"')");if(!I.text)throw new RangeError("Every schema needs a 'text' type");for(var ae in I.text.attrs)throw new RangeError("The text node type should not have attributes");return I}}]),V}();function ur(V,$,x){var A=x.split("|");return function(I){var Y=I===null?"null":T(I);if(A.indexOf(Y)<0)throw new RangeError("Expected value of type ".concat(A," for attribute ").concat($," on type ").concat(V,", got ").concat(Y))}}var Zn=function(){function V($,x,A){M(this,V),this.hasDefault=Object.prototype.hasOwnProperty.call(A,"default"),this.default=A.default,this.validate=typeof A.validate=="string"?ur($,x,A.validate):A.validate}return z(V,[{key:"isRequired",get:function(){return!this.hasDefault}}]),V}(),rn=function(){function V($,x,A,I){M(this,V),this.name=$,this.rank=x,this.schema=A,this.spec=I,this.attrs=_r($,I.attrs),this.excluded=null;var Y=er(this.attrs);this.instance=Y?new _e(this,Y):null}return z(V,[{key:"create",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return!x&&this.instance?this.instance:new _e(this,Or(this.attrs,x))}},{key:"removeFromSet",value:function(x){for(var A=0;A<x.length;A++)x[A].type==this&&(x=x.slice(0,A).concat(x.slice(A+1)),A--);return x}},{key:"isInSet",value:function(x){for(var A=0;A<x.length;A++)if(x[A].type==this)return x[A]}},{key:"checkAttrs",value:function(x){pn(this.attrs,x,"mark",this.name)}},{key:"excludes",value:function(x){return this.excluded.indexOf(x)>-1}}],[{key:"compile",value:function(x,A){var I=Object.create(null),Y=0;return x.forEach(function(ae,de){return I[ae]=new V(ae,Y++,A,de)}),I}}]),V}(),Jn=function(){function V($){M(this,V),this.linebreakReplacement=null,this.cached=Object.create(null);var x=this.spec={};for(var A in $)x[A]=$[A];x.nodes=J.from($.nodes),x.marks=J.from($.marks||{}),this.nodes=Xr.compile(this.spec.nodes,this),this.marks=rn.compile(this.spec.marks,this);var I=Object.create(null);for(var Y in this.nodes){if(Y in this.marks)throw new RangeError(Y+" can not be both a node and a mark");var ae=this.nodes[Y],de=ae.spec.content||"",Ae=ae.spec.marks;if(ae.contentMatch=I[de]||(I[de]=Yt.parse(de,this.nodes)),ae.inlineContent=ae.contentMatch.inlineContent,ae.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!ae.isInline||!ae.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=ae}ae.markSet=Ae=="_"?null:Ae?di(this,Ae.split(" ")):Ae==""||!ae.inlineContent?[]:null}for(var Ne in this.marks){var tt=this.marks[Ne],rt=tt.spec.excludes;tt.excluded=rt==null?[tt]:rt==""?[]:di(this,rt.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return z(V,[{key:"node",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,I=arguments.length>2?arguments[2]:void 0,Y=arguments.length>3?arguments[3]:void 0;if(typeof x=="string")x=this.nodeType(x);else if(x instanceof Xr){if(x.schema!=this)throw new RangeError("Node type from different schema used ("+x.name+")")}else throw new RangeError("Invalid node type: "+x);return x.createChecked(A,I,Y)}},{key:"text",value:function(x,A){var I=this.nodes.text;return new $t(I,I.defaultAttrs,x,_e.setFrom(A))}},{key:"mark",value:function(x,A){return typeof x=="string"&&(x=this.marks[x]),x.create(A)}},{key:"nodeFromJSON",value:function(x){return st.fromJSON(this,x)}},{key:"markFromJSON",value:function(x){return _e.fromJSON(this,x)}},{key:"nodeType",value:function(x){var A=this.nodes[x];if(!A)throw new RangeError("Unknown node type: "+x);return A}}]),V}();function di(V,$){for(var x=[],A=0;A<$.length;A++){var I=$[A],Y=V.marks[I],ae=Y;if(Y)x.push(Y);else for(var de in V.marks){var Ae=V.marks[de];(I=="_"||Ae.spec.group&&Ae.spec.group.split(" ").indexOf(I)>-1)&&x.push(ae=Ae)}if(!ae)throw new SyntaxError("Unknown mark type: '"+$[A]+"'")}return x}function pi(V){return V.tag!=null}function cn(V){return V.style!=null}var ei=function(){function V($,x){var A=this;M(this,V),this.schema=$,this.rules=x,this.tags=[],this.styles=[];var I=this.matchedStyles=[];x.forEach(function(Y){if(pi(Y))A.tags.push(Y);else if(cn(Y)){var ae=/[^=]*/.exec(Y.style)[0];I.indexOf(ae)<0&&I.push(ae),A.styles.push(Y)}}),this.normalizeLists=!this.tags.some(function(Y){if(!/^(ul|ol)\b/.test(Y.tag)||!Y.node)return!1;var ae=$.nodes[Y.node];return ae.contentMatch.matchType(ae)})}return z(V,[{key:"parse",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=new L(this,A,!1);return I.addAll(x,_e.none,A.from,A.to),I.finish()}},{key:"parseSlice",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=new L(this,A,!0);return I.addAll(x,_e.none,A.from,A.to),at.maxOpen(I.finish())}},{key:"matchTag",value:function(x,A,I){for(var Y=I?this.tags.indexOf(I)+1:0;Y<this.tags.length;Y++){var ae=this.tags[Y];if(Z(x,ae.tag)&&(ae.namespace===void 0||x.namespaceURI==ae.namespace)&&(!ae.context||A.matchesContext(ae.context))){if(ae.getAttrs){var de=ae.getAttrs(x);if(de===!1)continue;ae.attrs=de||void 0}return ae}}}},{key:"matchStyle",value:function(x,A,I,Y){for(var ae=Y?this.styles.indexOf(Y)+1:0;ae<this.styles.length;ae++){var de=this.styles[ae],Ae=de.style;if(!(Ae.indexOf(x)!=0||de.context&&!I.matchesContext(de.context)||Ae.length>x.length&&(Ae.charCodeAt(x.length)!=61||Ae.slice(x.length+1)!=A))){if(de.getAttrs){var Ne=de.getAttrs(A);if(Ne===!1)continue;de.attrs=Ne||void 0}return de}}}}],[{key:"schemaRules",value:function(x){var A=[];function I(Ne){for(var tt=Ne.priority==null?50:Ne.priority,rt=0;rt<A.length;rt++){var mt=A[rt],zt=mt.priority==null?50:mt.priority;if(zt<tt)break}A.splice(rt,0,Ne)}var Y=function(tt){var rt=x.marks[tt].spec.parseDOM;rt&&rt.forEach(function(mt){I(mt=oe(mt)),mt.mark||mt.ignore||mt.clearMark||(mt.mark=tt)})};for(var ae in x.marks)Y(ae);var de=function(tt){var rt=x.nodes[tt].spec.parseDOM;rt&&rt.forEach(function(mt){I(mt=oe(mt)),mt.node||mt.ignore||mt.mark||(mt.node=tt)})};for(var Ae in x.nodes)de(Ae);return A}},{key:"fromSchema",value:function(x){return x.cached.domParser||(x.cached.domParser=new V(x,V.schemaRules(x)))}}]),V}(),ti={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},te={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},se={ol:!0,ul:!0},ke=1,$e=2,W=4;function X(V,$,x){return $!=null?($?ke:0)|($==="full"?$e:0):V&&V.whitespace=="pre"?ke|$e:x&-5}var B=function(){function V($,x,A,I,Y,ae){M(this,V),this.type=$,this.attrs=x,this.marks=A,this.solid=I,this.options=ae,this.content=[],this.activeMarks=_e.none,this.match=Y||(ae&W?null:$.contentMatch)}return z(V,[{key:"findWrapping",value:function(x){if(!this.match){if(!this.type)return[];var A=this.type.contentMatch.fillBefore(pe.from(x));if(A)this.match=this.type.contentMatch.matchFragment(A);else{var I=this.type.contentMatch,Y;return(Y=I.findWrapping(x.type))?(this.match=I,Y):null}}return this.match.findWrapping(x.type)}},{key:"finish",value:function(x){if(!(this.options&ke)){var A=this.content[this.content.length-1],I;if(A&&A.isText&&(I=/[ \t\r\n\u000c]+$/.exec(A.text))){var Y=A;A.text.length==I[0].length?this.content.pop():this.content[this.content.length-1]=Y.withText(Y.text.slice(0,Y.text.length-I[0].length))}}var ae=pe.from(this.content);return!x&&this.match&&(ae=ae.append(this.match.fillBefore(pe.empty,!0))),this.type?this.type.create(this.attrs,ae,this.marks):ae}},{key:"inlineContext",value:function(x){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:x.parentNode&&!ti.hasOwnProperty(x.parentNode.nodeName.toLowerCase())}}]),V}(),L=function(){function V($,x,A){M(this,V),this.parser=$,this.options=x,this.isOpen=A,this.open=0,this.localPreserveWS=!1;var I=x.topNode,Y,ae=X(null,x.preserveWhitespace,0)|(A?W:0);I?Y=new B(I.type,I.attrs,_e.none,!0,x.topMatch||I.type.contentMatch,ae):A?Y=new B(null,null,_e.none,!0,null,ae):Y=new B($.schema.topNodeType,null,_e.none,!0,null,ae),this.nodes=[Y],this.find=x.findPositions,this.needsBlock=!1}return z(V,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(x,A){x.nodeType==3?this.addTextNode(x,A):x.nodeType==1&&this.addElement(x,A)}},{key:"addTextNode",value:function(x,A){var I=x.nodeValue,Y=this.top,ae=Y.options&$e?"full":this.localPreserveWS||(Y.options&ke)>0;if(ae==="full"||Y.inlineContext(x)||/[^ \t\r\n\u000c]/.test(I)){if(ae)ae!=="full"?I=I.replace(/\r?\n|\r/g," "):I=I.replace(/\r\n?/g,`
`);else if(I=I.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(I)&&this.open==this.nodes.length-1){var de=Y.content[Y.content.length-1],Ae=x.previousSibling;(!de||Ae&&Ae.nodeName=="BR"||de.isText&&/[ \t\r\n\u000c]$/.test(de.text))&&(I=I.slice(1))}I&&this.insertNode(this.parser.schema.text(I),A,!/\S/.test(I)),this.findInText(x)}else this.findInside(x)}},{key:"addElement",value:function(x,A,I){var Y=this.localPreserveWS,ae=this.top;(x.tagName=="PRE"||/pre/.test(x.style&&x.style.whiteSpace))&&(this.localPreserveWS=!0);var de=x.nodeName.toLowerCase(),Ae;se.hasOwnProperty(de)&&this.parser.normalizeLists&&q(x);var Ne=this.options.ruleFromNode&&this.options.ruleFromNode(x)||(Ae=this.parser.matchTag(x,this,I));e:if(Ne?Ne.ignore:te.hasOwnProperty(de))this.findInside(x),this.ignoreFallback(x,A);else if(!Ne||Ne.skip||Ne.closeParent){Ne&&Ne.closeParent?this.open=Math.max(0,this.open-1):Ne&&Ne.skip.nodeType&&(x=Ne.skip);var tt,rt=this.needsBlock;if(ti.hasOwnProperty(de))ae.content.length&&ae.content[0].isInline&&this.open&&(this.open--,ae=this.top),tt=!0,ae.type||(this.needsBlock=!0);else if(!x.firstChild){this.leafFallback(x,A);break e}var mt=Ne&&Ne.skip?A:this.readStyles(x,A);mt&&this.addAll(x,mt),tt&&this.sync(ae),this.needsBlock=rt}else{var zt=this.readStyles(x,A);zt&&this.addElementByRule(x,Ne,zt,Ne.consuming===!1?Ae:void 0)}this.localPreserveWS=Y}},{key:"leafFallback",value:function(x,A){x.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(x.ownerDocument.createTextNode(`
`),A)}},{key:"ignoreFallback",value:function(x,A){x.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),A,!0)}},{key:"readStyles",value:function(x,A){var I=this,Y=x.style;if(Y&&Y.length)for(var ae=0;ae<this.parser.matchedStyles.length;ae++){var de=this.parser.matchedStyles[ae],Ae=Y.getPropertyValue(de);if(Ae){for(var Ne=function(zt){var wr=I.parser.matchStyle(de,Ae,I,zt);if(!wr)return rt=zt,0;if(wr.ignore)return{v:null};if(wr.clearMark?A=A.filter(function(Gr){return!wr.clearMark(Gr)}):A=A.concat(I.parser.schema.marks[wr.mark].create(wr.attrs)),wr.consuming===!1)zt=wr;else return rt=zt,0;rt=zt},tt,rt=void 0;tt=Ne(rt),tt!==0;)if(tt)return tt.v}}return A}},{key:"addElementByRule",value:function(x,A,I,Y){var ae=this,de,Ae;if(A.node)if(Ae=this.parser.schema.nodes[A.node],Ae.isLeaf)this.insertNode(Ae.create(A.attrs),I,x.nodeName=="BR")||this.leafFallback(x,I);else{var Ne=this.enter(Ae,A.attrs||null,I,A.preserveWhitespace);Ne&&(de=!0,I=Ne)}else{var tt=this.parser.schema.marks[A.mark];I=I.concat(tt.create(A.attrs))}var rt=this.top;if(Ae&&Ae.isLeaf)this.findInside(x);else if(Y)this.addElement(x,I,Y);else if(A.getContent)this.findInside(x),A.getContent(x,this.parser.schema).forEach(function(zt){return ae.insertNode(zt,I,!1)});else{var mt=x;typeof A.contentElement=="string"?mt=x.querySelector(A.contentElement):typeof A.contentElement=="function"?mt=A.contentElement(x):A.contentElement&&(mt=A.contentElement),this.findAround(x,mt,!0),this.addAll(mt,I),this.findAround(x,mt,!1)}de&&this.sync(rt)&&this.open--}},{key:"addAll",value:function(x,A,I,Y){for(var ae=I||0,de=I?x.childNodes[I]:x.firstChild,Ae=Y==null?null:x.childNodes[Y];de!=Ae;de=de.nextSibling,++ae)this.findAtPoint(x,ae),this.addDOM(de,A);this.findAtPoint(x,ae)}},{key:"findPlace",value:function(x,A,I){for(var Y,ae,de=this.open,Ae=0;de>=0;de--){var Ne=this.nodes[de],tt=Ne.findWrapping(x);if(tt&&(!Y||Y.length>tt.length+Ae)&&(Y=tt,ae=Ne,!tt.length))break;if(Ne.solid){if(I)break;Ae+=2}}if(!Y)return null;this.sync(ae);for(var rt=0;rt<Y.length;rt++)A=this.enterInner(Y[rt],null,A,!1);return A}},{key:"insertNode",value:function(x,A,I){if(x.isInline&&this.needsBlock&&!this.top.type){var Y=this.textblockFromContext();Y&&(A=this.enterInner(Y,null,A))}var ae=this.findPlace(x,A,I);if(ae){this.closeExtra();var de=this.top;de.match&&(de.match=de.match.matchType(x.type));var Ae=_e.none,Ne=r(ae.concat(x.marks)),tt;try{for(Ne.s();!(tt=Ne.n()).done;){var rt=tt.value;(de.type?de.type.allowsMarkType(rt.type):Te(rt.type,x.type))&&(Ae=rt.addToSet(Ae))}}catch(mt){Ne.e(mt)}finally{Ne.f()}return de.content.push(x.mark(Ae)),!0}return!1}},{key:"enter",value:function(x,A,I,Y){var ae=this.findPlace(x.create(A),I,!1);return ae&&(ae=this.enterInner(x,A,I,!0,Y)),ae}},{key:"enterInner",value:function(x,A,I){var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,ae=arguments.length>4?arguments[4]:void 0;this.closeExtra();var de=this.top;de.match=de.match&&de.match.matchType(x);var Ae=X(x,ae,de.options);de.options&W&&de.content.length==0&&(Ae|=W);var Ne=_e.none;return I=I.filter(function(tt){return(de.type?de.type.allowsMarkType(tt.type):Te(tt.type,x))?(Ne=tt.addToSet(Ne),!1):!0}),this.nodes.push(new B(x,A,Ne,Y,null,Ae)),this.open++,I}},{key:"closeExtra",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,A=this.nodes.length-1;if(A>this.open){for(;A>this.open;A--)this.nodes[A-1].content.push(this.nodes[A].finish(x));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}},{key:"sync",value:function(x){for(var A=this.open;A>=0;A--){if(this.nodes[A]==x)return this.open=A,!0;this.localPreserveWS&&(this.nodes[A].options|=ke)}return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var x=0,A=this.open;A>=0;A--){for(var I=this.nodes[A].content,Y=I.length-1;Y>=0;Y--)x+=I[Y].nodeSize;A&&x++}return x}},{key:"findAtPoint",value:function(x,A){if(this.find)for(var I=0;I<this.find.length;I++)this.find[I].node==x&&this.find[I].offset==A&&(this.find[I].pos=this.currentPos)}},{key:"findInside",value:function(x){if(this.find)for(var A=0;A<this.find.length;A++)this.find[A].pos==null&&x.nodeType==1&&x.contains(this.find[A].node)&&(this.find[A].pos=this.currentPos)}},{key:"findAround",value:function(x,A,I){if(x!=A&&this.find){for(var Y=0;Y<this.find.length;Y++)if(this.find[Y].pos==null&&x.nodeType==1&&x.contains(this.find[Y].node)){var ae=A.compareDocumentPosition(this.find[Y].node);ae&(I?2:4)&&(this.find[Y].pos=this.currentPos)}}}},{key:"findInText",value:function(x){if(this.find)for(var A=0;A<this.find.length;A++)this.find[A].node==x&&(this.find[A].pos=this.currentPos-(x.nodeValue.length-this.find[A].offset))}},{key:"matchesContext",value:function(x){var A=this;if(x.indexOf("|")>-1)return x.split(/\s*\|\s*/).some(this.matchesContext,this);var I=x.split("/"),Y=this.options.context,ae=!this.isOpen&&(!Y||Y.parent.type==this.nodes[0].type),de=-(Y?Y.depth+1:0)+(ae?0:1),Ae=function Ne(tt,rt){for(;tt>=0;tt--){var mt=I[tt];if(mt==""){if(tt==I.length-1||tt==0)continue;for(;rt>=de;rt--)if(Ne(tt-1,rt))return!0;return!1}else{var zt=rt>0||rt==0&&ae?A.nodes[rt].type:Y&&rt>=de?Y.node(rt-de).type:null;if(!zt||zt.name!=mt&&!zt.isInGroup(mt))return!1;rt--}}return!0};return Ae(I.length-1,this.open)}},{key:"textblockFromContext",value:function(){var x=this.options.context;if(x)for(var A=x.depth;A>=0;A--){var I=x.node(A).contentMatchAt(x.indexAfter(A)).defaultType;if(I&&I.isTextblock&&I.defaultAttrs)return I}for(var Y in this.parser.schema.nodes){var ae=this.parser.schema.nodes[Y];if(ae.isTextblock&&ae.defaultAttrs)return ae}}}]),V}();function q(V){for(var $=V.firstChild,x=null;$;$=$.nextSibling){var A=$.nodeType==1?$.nodeName.toLowerCase():null;A&&se.hasOwnProperty(A)&&x?(x.appendChild($),$=x):A=="li"?x=$:A&&(x=null)}}function Z(V,$){return(V.matches||V.msMatchesSelector||V.webkitMatchesSelector||V.mozMatchesSelector).call(V,$)}function oe(V){var $={};for(var x in V)$[x]=V[x];return $}function Te(V,$){var x=$.schema.nodes,A=function(){var de=x[Y];if(!de.allowsMarkType(V))return 0;var Ae=[],Ne=function tt(rt){Ae.push(rt);for(var mt=0;mt<rt.edgeCount;mt++){var zt=rt.edge(mt),wr=zt.type,Gr=zt.next;if(wr==$||Ae.indexOf(Gr)<0&&tt(Gr))return!0}};if(Ne(de.contentMatch))return{v:!0}},I;for(var Y in x)if(I=A(),I!==0&&I)return I.v}var qe=function(){function V($,x){M(this,V),this.nodes=$,this.marks=x}return z(V,[{key:"serializeFragment",value:function(x){var A=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2?arguments[2]:void 0;Y||(Y=ce(I).createDocumentFragment());var ae=Y,de=[];return x.forEach(function(Ae){if(de.length||Ae.marks.length){for(var Ne=0,tt=0;Ne<de.length&&tt<Ae.marks.length;){var rt=Ae.marks[tt];if(!A.marks[rt.type.name]){tt++;continue}if(!rt.eq(de[Ne][0])||rt.type.spec.spanning===!1)break;Ne++,tt++}for(;Ne<de.length;)ae=de.pop()[1];for(;tt<Ae.marks.length;){var mt=Ae.marks[tt++],zt=A.serializeMark(mt,Ae.isInline,I);zt&&(de.push([mt,ae]),ae.appendChild(zt.dom),ae=zt.contentDOM||zt.dom)}}ae.appendChild(A.serializeNodeInner(Ae,I))}),Y}},{key:"serializeNodeInner",value:function(x,A){var I=Lt(ce(A),this.nodes[x.type.name](x),null,x.attrs),Y=I.dom,ae=I.contentDOM;if(ae){if(x.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(x.content,A,ae)}return Y}},{key:"serializeNode",value:function(x){for(var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=this.serializeNodeInner(x,A),Y=x.marks.length-1;Y>=0;Y--){var ae=this.serializeMark(x.marks[Y],x.isInline,A);ae&&((ae.contentDOM||ae.dom).appendChild(I),I=ae.dom)}return I}},{key:"serializeMark",value:function(x,A){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Y=this.marks[x.type.name];return Y&&Lt(ce(I),Y(x,A),null,x.attrs)}}],[{key:"renderSpec",value:function(x,A){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Y=arguments.length>3?arguments[3]:void 0;return Lt(x,A,I,Y)}},{key:"fromSchema",value:function(x){return x.cached.domSerializer||(x.cached.domSerializer=new V(this.nodesFromSchema(x),this.marksFromSchema(x)))}},{key:"nodesFromSchema",value:function(x){var A=me(x.nodes);return A.text||(A.text=function(I){return I.text}),A}},{key:"marksFromSchema",value:function(x){return me(x.marks)}}]),V}();function me(V){var $={};for(var x in V){var A=V[x].spec.toDOM;A&&($[x]=A)}return $}function ce(V){return V.document||window.document}var Re=new WeakMap;function Ve(V){var $=Re.get(V);return $===void 0&&Re.set(V,$=ut(V)),$}function ut(V){var $=null;function x(A){if(A&&T(A)=="object")if(Array.isArray(A))if(typeof A[0]=="string")$||($=[]),$.push(A);else for(var I=0;I<A.length;I++)x(A[I]);else for(var Y in A)x(A[Y])}return x(V),$}function Lt(V,$,x,A){if(typeof $=="string")return{dom:V.createTextNode($)};if($.nodeType!=null)return{dom:$};if($.dom&&$.dom.nodeType!=null)return $;var I=$[0],Y;if(typeof I!="string")throw new RangeError("Invalid array passed to renderSpec");if(A&&(Y=Ve(A))&&Y.indexOf($)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");var ae=I.indexOf(" ");ae>0&&(x=I.slice(0,ae),I=I.slice(ae+1));var de,Ae=x?V.createElementNS(x,I):V.createElement(I),Ne=$[1],tt=1;if(Ne&&T(Ne)=="object"&&Ne.nodeType==null&&!Array.isArray(Ne)){tt=2;for(var rt in Ne)if(Ne[rt]!=null){var mt=rt.indexOf(" ");mt>0?Ae.setAttributeNS(rt.slice(0,mt),rt.slice(mt+1),Ne[rt]):Ae.setAttribute(rt,Ne[rt])}}for(var zt=tt;zt<$.length;zt++){var wr=$[zt];if(wr===0){if(zt<$.length-1||zt>tt)throw new RangeError("Content hole must be the only child of its parent node");return{dom:Ae,contentDOM:Ae}}else{var Gr=Lt(V,wr,x,A),ea=Gr.dom,ko=Gr.contentDOM;if(Ae.appendChild(ea),ko){if(de)throw new RangeError("Multiple content holes");de=ko}}}return{dom:Ae,contentDOM:de}}return Pa.ContentMatch=Yt,Pa.DOMParser=ei,Pa.DOMSerializer=qe,Pa.Fragment=pe,Pa.Mark=_e,Pa.MarkType=rn,Pa.Node=st,Pa.NodeRange=Be,Pa.NodeType=Xr,Pa.ReplaceError=ot,Pa.ResolvedPos=Pe,Pa.Schema=Jn,Pa.Slice=at,Pa}var LD={},pV;function tL(){return pV||(pV=1,function(r){function e(W){var X=typeof Map=="function"?new Map:void 0;return e=function(L){if(L===null||!n(L))return L;if(typeof L!="function")throw new TypeError("Super expression must either be null or a function");if(typeof X<"u"){if(X.has(L))return X.get(L);X.set(L,q)}function q(){return t(L,arguments,c(this).constructor)}return q.prototype=Object.create(L.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),a(q,L)},e(W)}function t(W,X,B){return u()?t=Reflect.construct.bind():t=function(q,Z,oe){var Te=[null];Te.push.apply(Te,Z);var qe=Function.bind.apply(q,Te),me=new qe;return oe&&a(me,oe.prototype),me},t.apply(null,arguments)}function n(W){try{return Function.toString.call(W).indexOf("[native code]")!==-1}catch{return typeof W=="function"}}function i(W,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(X&&X.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),X&&a(W,X)}function a(W,X){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,q){return L.__proto__=q,L},a(W,X)}function o(W){var X=u();return function(){var L=c(W),q;if(X){var Z=c(this).constructor;q=Reflect.construct(L,arguments,Z)}else q=L.apply(this,arguments);return s(this,q)}}function s(W,X){if(X&&(h(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(W)}function l(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(W){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},c(W)}function h(W){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},h(W)}function p(W,X){if(!(W instanceof X))throw new TypeError("Cannot call a class as a function")}function g(W,X){for(var B=0;B<X.length;B++){var L=X[B];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(W,T(L.key),L)}}function O(W,X,B){return X&&g(W.prototype,X),B&&g(W,B),Object.defineProperty(W,"prototype",{writable:!1}),W}function T(W){var X=M(W,"string");return h(X)==="symbol"?X:String(X)}function M(W,X){if(h(W)!=="object"||W===null)return W;var B=W[Symbol.toPrimitive];if(B!==void 0){var L=B.call(W,X);if(h(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}var R=wk(),z=65535,U=Math.pow(2,16);function G(W,X){return W+X*U}function J(W){return W&z}function ee(W){return(W-(W&z))/U}var le=1,pe=2,be=4,Fe=8,Ge=function(){function W(X,B,L){p(this,W),this.pos=X,this.delInfo=B,this.recover=L}return O(W,[{key:"deleted",get:function(){return(this.delInfo&Fe)>0}},{key:"deletedBefore",get:function(){return(this.delInfo&(le|be))>0}},{key:"deletedAfter",get:function(){return(this.delInfo&(pe|be))>0}},{key:"deletedAcross",get:function(){return(this.delInfo&be)>0}}]),W}(),_e=function(){function W(X){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(p(this,W),this.ranges=X,this.inverted=B,!X.length&&W.empty)return W.empty}return O(W,[{key:"recover",value:function(B){var L=0,q=J(B);if(!this.inverted)for(var Z=0;Z<q;Z++)L+=this.ranges[Z*3+2]-this.ranges[Z*3+1];return this.ranges[q*3]+L+ee(B)}},{key:"mapResult",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(B,L,!1)}},{key:"map",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(B,L,!0)}},{key:"_map",value:function(B,L,q){for(var Z=0,oe=this.inverted?2:1,Te=this.inverted?1:2,qe=0;qe<this.ranges.length;qe+=3){var me=this.ranges[qe]-(this.inverted?Z:0);if(me>B)break;var ce=this.ranges[qe+oe],Re=this.ranges[qe+Te],Ve=me+ce;if(B<=Ve){var ut=ce?B==me?-1:B==Ve?1:L:L,Lt=me+Z+(ut<0?0:Re);if(q)return Lt;var V=B==(L<0?me:Ve)?null:G(qe/3,B-me),$=B==me?pe:B==Ve?le:be;return(L<0?B!=me:B!=Ve)&&($|=Fe),new Ge(Lt,$,V)}Z+=Re-ce}return q?B+Z:new Ge(B+Z,0,null)}},{key:"touches",value:function(B,L){for(var q=0,Z=J(L),oe=this.inverted?2:1,Te=this.inverted?1:2,qe=0;qe<this.ranges.length;qe+=3){var me=this.ranges[qe]-(this.inverted?q:0);if(me>B)break;var ce=this.ranges[qe+oe],Re=me+ce;if(B<=Re&&qe==Z*3)return!0;q+=this.ranges[qe+Te]-ce}return!1}},{key:"forEach",value:function(B){for(var L=this.inverted?2:1,q=this.inverted?1:2,Z=0,oe=0;Z<this.ranges.length;Z+=3){var Te=this.ranges[Z],qe=Te-(this.inverted?oe:0),me=Te+(this.inverted?0:oe),ce=this.ranges[Z+L],Re=this.ranges[Z+q];B(qe,qe+ce,me,me+Re),oe+=Re-ce}}},{key:"invert",value:function(){return new W(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(B){return B==0?W.empty:new W(B<0?[0,-B,0]:[0,0,B])}}]),W}();_e.empty=new _e([]);var ot=function(){function W(X,B){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X?X.length:0;p(this,W),this.mirror=B,this.from=L,this.to=q,this._maps=X||[],this.ownData=!(X||B)}return O(W,[{key:"maps",get:function(){return this._maps}},{key:"slice",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.maps.length;return new W(this._maps,this.mirror,B,L)}},{key:"appendMap",value:function(B,L){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(B),L!=null&&this.setMirror(this._maps.length-1,L)}},{key:"appendMapping",value:function(B){for(var L=0,q=this._maps.length;L<B._maps.length;L++){var Z=B.getMirror(L);this.appendMap(B._maps[L],Z!=null&&Z<L?q+Z:void 0)}}},{key:"getMirror",value:function(B){if(this.mirror){for(var L=0;L<this.mirror.length;L++)if(this.mirror[L]==B)return this.mirror[L+(L%2?-1:1)]}}},{key:"setMirror",value:function(B,L){this.mirror||(this.mirror=[]),this.mirror.push(B,L)}},{key:"appendMappingInverted",value:function(B){for(var L=B.maps.length-1,q=this._maps.length+B._maps.length;L>=0;L--){var Z=B.getMirror(L);this.appendMap(B._maps[L].invert(),Z!=null&&Z>L?q-Z-1:void 0)}}},{key:"invert",value:function(){var B=new W;return B.appendMappingInverted(this),B}},{key:"map",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.mirror)return this._map(B,L,!0);for(var q=this.from;q<this.to;q++)B=this._maps[q].map(B,L);return B}},{key:"mapResult",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(B,L,!1)}},{key:"_map",value:function(B,L,q){for(var Z=0,oe=this.from;oe<this.to;oe++){var Te=this._maps[oe],qe=Te.mapResult(B,L);if(qe.recover!=null){var me=this.getMirror(oe);if(me!=null&&me>oe&&me<this.to){oe=me,B=this._maps[me].recover(qe.recover);continue}}Z|=qe.delInfo,B=qe.pos}return q?B:new Ge(B,Z,null)}}]),W}(),at=Object.create(null),dt=function(){function W(){p(this,W)}return O(W,[{key:"getMap",value:function(){return _e.empty}},{key:"merge",value:function(B){return null}}],[{key:"fromJSON",value:function(B,L){if(!L||!L.stepType)throw new RangeError("Invalid input for Step.fromJSON");var q=at[L.stepType];if(!q)throw new RangeError("No step type ".concat(L.stepType," defined"));return q.fromJSON(B,L)}},{key:"jsonID",value:function(B,L){if(B in at)throw new RangeError("Duplicate use of step JSON ID "+B);return at[B]=L,L.prototype.jsonID=B,L}}]),W}(),Ot=function(){function W(X,B){p(this,W),this.doc=X,this.failed=B}return O(W,null,[{key:"ok",value:function(B){return new W(B,null)}},{key:"fail",value:function(B){return new W(null,B)}},{key:"fromReplace",value:function(B,L,q,Z){try{return W.ok(B.replace(L,q,Z))}catch(oe){if(oe instanceof R.ReplaceError)return W.fail(oe.message);throw oe}}}]),W}();function Qt(W,X,B){for(var L=[],q=0;q<W.childCount;q++){var Z=W.child(q);Z.content.size&&(Z=Z.copy(Qt(Z.content,X,Z))),Z.isInline&&(Z=X(Z,B,q)),L.push(Z)}return R.Fragment.fromArray(L)}var Vt=function(W){i(B,W);var X=o(B);function B(L,q,Z){var oe;return p(this,B),oe=X.call(this),oe.from=L,oe.to=q,oe.mark=Z,oe}return O(B,[{key:"apply",value:function(q){var Z=this,oe=q.slice(this.from,this.to),Te=q.resolve(this.from),qe=Te.node(Te.sharedDepth(this.to)),me=new R.Slice(Qt(oe.content,function(ce,Re){return!ce.isAtom||!Re.type.allowsMarkType(Z.mark.type)?ce:ce.mark(Z.mark.addToSet(ce.marks))},qe),oe.openStart,oe.openEnd);return Ot.fromReplace(q,this.from,this.to,me)}},{key:"invert",value:function(){return new ar(this.from,this.to,this.mark)}},{key:"map",value:function(q){var Z=q.mapResult(this.from,1),oe=q.mapResult(this.to,-1);return Z.deleted&&oe.deleted||Z.pos>=oe.pos?null:new B(Z.pos,oe.pos,this.mark)}},{key:"merge",value:function(q){return q instanceof B&&q.mark.eq(this.mark)&&this.from<=q.to&&this.to>=q.from?new B(Math.min(this.from,q.from),Math.max(this.to,q.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(q,Z){if(typeof Z.from!="number"||typeof Z.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new B(Z.from,Z.to,q.markFromJSON(Z.mark))}}]),B}(dt);dt.jsonID("addMark",Vt);var ar=function(W){i(B,W);var X=o(B);function B(L,q,Z){var oe;return p(this,B),oe=X.call(this),oe.from=L,oe.to=q,oe.mark=Z,oe}return O(B,[{key:"apply",value:function(q){var Z=this,oe=q.slice(this.from,this.to),Te=new R.Slice(Qt(oe.content,function(qe){return qe.mark(Z.mark.removeFromSet(qe.marks))},q),oe.openStart,oe.openEnd);return Ot.fromReplace(q,this.from,this.to,Te)}},{key:"invert",value:function(){return new Vt(this.from,this.to,this.mark)}},{key:"map",value:function(q){var Z=q.mapResult(this.from,1),oe=q.mapResult(this.to,-1);return Z.deleted&&oe.deleted||Z.pos>=oe.pos?null:new B(Z.pos,oe.pos,this.mark)}},{key:"merge",value:function(q){return q instanceof B&&q.mark.eq(this.mark)&&this.from<=q.to&&this.to>=q.from?new B(Math.min(this.from,q.from),Math.max(this.to,q.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(q,Z){if(typeof Z.from!="number"||typeof Z.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new B(Z.from,Z.to,q.markFromJSON(Z.mark))}}]),B}(dt);dt.jsonID("removeMark",ar);var bt=function(W){i(B,W);var X=o(B);function B(L,q){var Z;return p(this,B),Z=X.call(this),Z.pos=L,Z.mark=q,Z}return O(B,[{key:"apply",value:function(q){var Z=q.nodeAt(this.pos);if(!Z)return Ot.fail("No node at mark step's position");var oe=Z.type.create(Z.attrs,null,this.mark.addToSet(Z.marks));return Ot.fromReplace(q,this.pos,this.pos+1,new R.Slice(R.Fragment.from(oe),0,Z.isLeaf?0:1))}},{key:"invert",value:function(q){var Z=q.nodeAt(this.pos);if(Z){var oe=this.mark.addToSet(Z.marks);if(oe.length==Z.marks.length){for(var Te=0;Te<Z.marks.length;Te++)if(!Z.marks[Te].isInSet(oe))return new B(this.pos,Z.marks[Te]);return new B(this.pos,this.mark)}}return new Rt(this.pos,this.mark)}},{key:"map",value:function(q){var Z=q.mapResult(this.pos,1);return Z.deletedAfter?null:new B(Z.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(q,Z){if(typeof Z.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new B(Z.pos,q.markFromJSON(Z.mark))}}]),B}(dt);dt.jsonID("addNodeMark",bt);var Rt=function(W){i(B,W);var X=o(B);function B(L,q){var Z;return p(this,B),Z=X.call(this),Z.pos=L,Z.mark=q,Z}return O(B,[{key:"apply",value:function(q){var Z=q.nodeAt(this.pos);if(!Z)return Ot.fail("No node at mark step's position");var oe=Z.type.create(Z.attrs,null,this.mark.removeFromSet(Z.marks));return Ot.fromReplace(q,this.pos,this.pos+1,new R.Slice(R.Fragment.from(oe),0,Z.isLeaf?0:1))}},{key:"invert",value:function(q){var Z=q.nodeAt(this.pos);return!Z||!this.mark.isInSet(Z.marks)?this:new bt(this.pos,this.mark)}},{key:"map",value:function(q){var Z=q.mapResult(this.pos,1);return Z.deletedAfter?null:new B(Z.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(q,Z){if(typeof Z.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new B(Z.pos,q.markFromJSON(Z.mark))}}]),B}(dt);dt.jsonID("removeNodeMark",Rt);var Pt=function(W){i(B,W);var X=o(B);function B(L,q,Z){var oe,Te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return p(this,B),oe=X.call(this),oe.from=L,oe.to=q,oe.slice=Z,oe.structure=Te,oe}return O(B,[{key:"apply",value:function(q){return this.structure&&or(q,this.from,this.to)?Ot.fail("Structure replace would overwrite content"):Ot.fromReplace(q,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new _e([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(q){return new B(this.from,this.from+this.slice.size,q.slice(this.from,this.to))}},{key:"map",value:function(q){var Z=q.mapResult(this.from,1),oe=q.mapResult(this.to,-1);return Z.deletedAcross&&oe.deletedAcross?null:new B(Z.pos,Math.max(Z.pos,oe.pos),this.slice,this.structure)}},{key:"merge",value:function(q){if(!(q instanceof B)||q.structure||this.structure)return null;if(this.from+this.slice.size==q.from&&!this.slice.openEnd&&!q.slice.openStart){var Z=this.slice.size+q.slice.size==0?R.Slice.empty:new R.Slice(this.slice.content.append(q.slice.content),this.slice.openStart,q.slice.openEnd);return new B(this.from,this.to+(q.to-q.from),Z,this.structure)}else if(q.to==this.from&&!this.slice.openStart&&!q.slice.openEnd){var oe=this.slice.size+q.slice.size==0?R.Slice.empty:new R.Slice(q.slice.content.append(this.slice.content),q.slice.openStart,this.slice.openEnd);return new B(q.from,this.to,oe,this.structure)}else return null}},{key:"toJSON",value:function(){var q={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(q.slice=this.slice.toJSON()),this.structure&&(q.structure=!0),q}}],[{key:"fromJSON",value:function(q,Z){if(typeof Z.from!="number"||typeof Z.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new B(Z.from,Z.to,R.Slice.fromJSON(q,Z.slice),!!Z.structure)}}]),B}(dt);dt.jsonID("replace",Pt);var tr=function(W){i(B,W);var X=o(B);function B(L,q,Z,oe,Te,qe){var me,ce=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return p(this,B),me=X.call(this),me.from=L,me.to=q,me.gapFrom=Z,me.gapTo=oe,me.slice=Te,me.insert=qe,me.structure=ce,me}return O(B,[{key:"apply",value:function(q){if(this.structure&&(or(q,this.from,this.gapFrom)||or(q,this.gapTo,this.to)))return Ot.fail("Structure gap-replace would overwrite content");var Z=q.slice(this.gapFrom,this.gapTo);if(Z.openStart||Z.openEnd)return Ot.fail("Gap is not a flat range");var oe=this.slice.insertAt(this.insert,Z.content);return oe?Ot.fromReplace(q,this.from,this.to,oe):Ot.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new _e([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(q){var Z=this.gapTo-this.gapFrom;return new B(this.from,this.from+this.slice.size+Z,this.from+this.insert,this.from+this.insert+Z,q.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(q){var Z=q.mapResult(this.from,1),oe=q.mapResult(this.to,-1),Te=this.from==this.gapFrom?Z.pos:q.map(this.gapFrom,-1),qe=this.to==this.gapTo?oe.pos:q.map(this.gapTo,1);return Z.deletedAcross&&oe.deletedAcross||Te<Z.pos||qe>oe.pos?null:new B(Z.pos,oe.pos,Te,qe,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var q={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(q.slice=this.slice.toJSON()),this.structure&&(q.structure=!0),q}}],[{key:"fromJSON",value:function(q,Z){if(typeof Z.from!="number"||typeof Z.to!="number"||typeof Z.gapFrom!="number"||typeof Z.gapTo!="number"||typeof Z.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new B(Z.from,Z.to,Z.gapFrom,Z.gapTo,R.Slice.fromJSON(q,Z.slice),Z.insert,!!Z.structure)}}]),B}(dt);dt.jsonID("replaceAround",tr);function or(W,X,B){for(var L=W.resolve(X),q=B-X,Z=L.depth;q>0&&Z>0&&L.indexAfter(Z)==L.node(Z).childCount;)Z--,q--;if(q>0)for(var oe=L.node(Z).maybeChild(L.indexAfter(Z));q>0;){if(!oe||oe.isLeaf)return!0;oe=oe.firstChild,q--}return!1}function Sr(W,X,B,L){var q=[],Z=[],oe,Te;W.doc.nodesBetween(X,B,function(qe,me,ce){if(qe.isInline){var Re=qe.marks;if(!L.isInSet(Re)&&ce.type.allowsMarkType(L.type)){for(var Ve=Math.max(me,X),ut=Math.min(me+qe.nodeSize,B),Lt=L.addToSet(Re),V=0;V<Re.length;V++)Re[V].isInSet(Lt)||(oe&&oe.to==Ve&&oe.mark.eq(Re[V])?oe.to=ut:q.push(oe=new ar(Ve,ut,Re[V])));Te&&Te.to==Ve?Te.to=ut:Z.push(Te=new Vt(Ve,ut,L))}}}),q.forEach(function(qe){return W.step(qe)}),Z.forEach(function(qe){return W.step(qe)})}function Le(W,X,B,L){var q=[],Z=0;W.doc.nodesBetween(X,B,function(oe,Te){if(oe.isInline){Z++;var qe=null;if(L instanceof R.MarkType)for(var me=oe.marks,ce;ce=L.isInSet(me);)(qe||(qe=[])).push(ce),me=ce.removeFromSet(me);else L?L.isInSet(oe.marks)&&(qe=[L]):qe=oe.marks;if(qe&&qe.length)for(var Re=Math.min(Te+oe.nodeSize,B),Ve=0;Ve<qe.length;Ve++){for(var ut=qe[Ve],Lt=void 0,V=0;V<q.length;V++){var $=q[V];$.step==Z-1&&ut.eq(q[V].style)&&(Lt=$)}Lt?(Lt.to=Re,Lt.step=Z):q.push({style:ut,from:Math.max(Te,X),to:Re,step:Z})}}}),q.forEach(function(oe){return W.step(new ar(oe.from,oe.to,oe.style))})}function Pe(W,X,B){for(var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.contentMatch,q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Z=W.doc.nodeAt(X),oe=[],Te=X+1,qe=0;qe<Z.childCount;qe++){var me=Z.child(qe),ce=Te+me.nodeSize,Re=L.matchType(me.type);if(!Re)oe.push(new Pt(Te,ce,R.Slice.empty));else{L=Re;for(var Ve=0;Ve<me.marks.length;Ve++)B.allowsMarkType(me.marks[Ve].type)||W.step(new ar(Te,ce,me.marks[Ve]));if(q&&me.isText&&B.whitespace!="pre")for(var ut=void 0,Lt=/\r?\n|\r/g,V=void 0;ut=Lt.exec(me.text);)V||(V=new R.Slice(R.Fragment.from(B.schema.text(" ",B.allowedMarks(me.marks))),0,0)),oe.push(new Pt(Te+ut.index,Te+ut.index+ut[0].length,V))}Te=ce}if(!L.validEnd){var $=L.fillBefore(R.Fragment.empty,!0);W.replace(Te,Te,new R.Slice($,0,0))}for(var x=oe.length-1;x>=0;x--)W.step(oe[x])}function ve(W,X,B){return(X==0||W.canReplace(X,W.childCount))&&(B==W.childCount||W.canReplace(0,B))}function xe(W){for(var X=W.parent,B=X.content.cutByIndex(W.startIndex,W.endIndex),L=W.depth;;--L){var q=W.$from.node(L),Z=W.$from.index(L),oe=W.$to.indexAfter(L);if(L<W.depth&&q.canReplace(Z,oe,B))return L;if(L==0||q.type.spec.isolating||!ve(q,Z,oe))break}return null}function Oe(W,X,B){for(var L=X.$from,q=X.$to,Z=X.depth,oe=L.before(Z+1),Te=q.after(Z+1),qe=oe,me=Te,ce=R.Fragment.empty,Re=0,Ve=Z,ut=!1;Ve>B;Ve--)ut||L.index(Ve)>0?(ut=!0,ce=R.Fragment.from(L.node(Ve).copy(ce)),Re++):qe--;for(var Lt=R.Fragment.empty,V=0,$=Z,x=!1;$>B;$--)x||q.after($+1)<q.end($)?(x=!0,Lt=R.Fragment.from(q.node($).copy(Lt)),V++):me++;W.step(new tr(qe,me,oe,Te,new R.Slice(ce.append(Lt),Re,V),ce.size-Re,!0))}function Be(W,X){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W,q=st(W,X),Z=q&&$t(L,X);return Z?q.map(Ze).concat({type:X,attrs:B}).concat(Z.map(Ze)):null}function Ze(W){return{type:W,attrs:null}}function st(W,X){var B=W.parent,L=W.startIndex,q=W.endIndex,Z=B.contentMatchAt(L).findWrapping(X);if(!Z)return null;var oe=Z.length?Z[0]:X;return B.canReplaceWith(L,q,oe)?Z:null}function $t(W,X){var B=W.parent,L=W.startIndex,q=W.endIndex,Z=B.child(L),oe=X.contentMatch.findWrapping(Z.type);if(!oe)return null;for(var Te=oe.length?oe[oe.length-1]:X,qe=Te.contentMatch,me=L;qe&&me<q;me++)qe=qe.matchType(B.child(me).type);return!qe||!qe.validEnd?null:oe}function Jt(W,X,B){for(var L=R.Fragment.empty,q=B.length-1;q>=0;q--){if(L.size){var Z=B[q].type.contentMatch.matchFragment(L);if(!Z||!Z.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}L=R.Fragment.from(B[q].type.create(B[q].attrs,L))}var oe=X.start,Te=X.end;W.step(new tr(oe,Te,oe,Te,new R.Slice(L,0,0),B.length,!0))}function Yt(W,X,B,L,q){if(!L.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var Z=W.steps.length;W.doc.nodesBetween(X,B,function(oe,Te){var qe=typeof q=="function"?q(oe):q;if(oe.isTextblock&&!oe.hasMarkup(L,qe)&&un(W.doc,W.mapping.slice(Z).map(Te),L)){var me=null;if(L.schema.linebreakReplacement){var ce=L.whitespace=="pre",Re=!!L.contentMatch.matchType(L.schema.linebreakReplacement);ce&&!Re?me=!1:!ce&&Re&&(me=!0)}me===!1&&sr(W,oe,Te,Z),Pe(W,W.mapping.slice(Z).map(Te,1),L,void 0,me===null);var Ve=W.mapping.slice(Z),ut=Ve.map(Te,1),Lt=Ve.map(Te+oe.nodeSize,1);return W.step(new tr(ut,Lt,ut+1,Lt-1,new R.Slice(R.Fragment.from(L.create(qe,null,oe.marks)),0,0),1,!0)),me===!0&&Cr(W,oe,Te,Z),!1}})}function Cr(W,X,B,L){X.forEach(function(q,Z){if(q.isText)for(var oe,Te=/\r?\n|\r/g;oe=Te.exec(q.text);){var qe=W.mapping.slice(L).map(B+1+Z+oe.index);W.replaceWith(qe,qe+1,X.type.schema.linebreakReplacement.create())}})}function sr(W,X,B,L){X.forEach(function(q,Z){if(q.type==q.type.schema.linebreakReplacement){var oe=W.mapping.slice(L).map(B+1+Z);W.replaceWith(oe,oe+1,X.type.schema.text(`
`))}})}function un(W,X,B){var L=W.resolve(X),q=L.index();return L.parent.canReplaceWith(q,q+1,B)}function Zr(W,X,B,L,q){var Z=W.doc.nodeAt(X);if(!Z)throw new RangeError("No node at given position");B||(B=Z.type);var oe=B.create(L,null,q||Z.marks);if(Z.isLeaf)return W.replaceWith(X,X+Z.nodeSize,oe);if(!B.validContent(Z.content))throw new RangeError("Invalid content for node type "+B.name);W.step(new tr(X,X+Z.nodeSize,X+1,X+Z.nodeSize-1,new R.Slice(R.Fragment.from(oe),0,0),1,!0))}function Lr(W,X){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=arguments.length>3?arguments[3]:void 0,q=W.resolve(X),Z=q.depth-B,oe=L&&L[L.length-1]||q.parent;if(Z<0||q.parent.type.spec.isolating||!q.parent.canReplace(q.index(),q.parent.childCount)||!oe.type.validContent(q.parent.content.cutByIndex(q.index(),q.parent.childCount)))return!1;for(var Te=q.depth-1,qe=B-2;Te>Z;Te--,qe--){var me=q.node(Te),ce=q.index(Te);if(me.type.spec.isolating)return!1;var Re=me.content.cutByIndex(ce,me.childCount),Ve=L&&L[qe+1];Ve&&(Re=Re.replaceChild(0,Ve.type.create(Ve.attrs)));var ut=L&&L[qe]||me;if(!me.canReplace(ce+1,me.childCount)||!ut.type.validContent(Re))return!1}var Lt=q.indexAfter(Z),V=L&&L[0];return q.node(Z).canReplaceWith(Lt,Lt,V?V.type:q.node(Z+1).type)}function pr(W,X){for(var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=arguments.length>3?arguments[3]:void 0,q=W.doc.resolve(X),Z=R.Fragment.empty,oe=R.Fragment.empty,Te=q.depth,qe=q.depth-B,me=B-1;Te>qe;Te--,me--){Z=R.Fragment.from(q.node(Te).copy(Z));var ce=L&&L[me];oe=R.Fragment.from(ce?ce.type.create(ce.attrs,oe):q.node(Te).copy(oe))}W.step(new Pt(X,X,new R.Slice(Z.append(oe),B,B),!0))}function tn(W,X){var B=W.resolve(X),L=B.index();return On(B.nodeBefore,B.nodeAfter)&&B.parent.canReplace(L,L+1)}function $i(W,X){X.content.size||W.type.compatibleContent(X.type);for(var B=W.contentMatchAt(W.childCount),L=W.type.schema.linebreakReplacement,q=0;q<X.childCount;q++){var Z=X.child(q),oe=Z.type==L?W.type.schema.nodes.text:Z.type;if(B=B.matchType(oe),!B||!W.type.allowsMarks(Z.marks))return!1}return B.validEnd}function On(W,X){return!!(W&&X&&!W.isLeaf&&$i(W,X))}function yn(W,X){for(var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,L=W.resolve(X),q=L.depth;;q--){var Z=void 0,oe=void 0,Te=L.index(q);if(q==L.depth?(Z=L.nodeBefore,oe=L.nodeAfter):B>0?(Z=L.node(q+1),Te++,oe=L.node(q).maybeChild(Te)):(Z=L.node(q).maybeChild(Te-1),oe=L.node(q+1)),Z&&!Z.isTextblock&&On(Z,oe)&&L.node(q).canReplace(Te,Te+1))return X;if(q==0)break;X=B<0?L.before(q):L.after(q)}}function ct(W,X,B){var L=null,q=W.doc.type.schema.linebreakReplacement,Z=W.doc.resolve(X-B),oe=Z.node().type;if(q&&oe.inlineContent){var Te=oe.whitespace=="pre",qe=!!oe.contentMatch.matchType(q);Te&&!qe?L=!1:!Te&&qe&&(L=!0)}var me=W.steps.length;if(L===!1){var ce=W.doc.resolve(X+B);sr(W,ce.node(),ce.before(),me)}oe.inlineContent&&Pe(W,X+B-1,oe,Z.node().contentMatchAt(Z.index()),L==null);var Re=W.mapping.slice(me),Ve=Re.map(X-B);if(W.step(new Pt(Ve,Re.map(X+B,-1),R.Slice.empty,!0)),L===!0){var ut=W.doc.resolve(Ve);Cr(W,ut.node(),ut.before(),W.steps.length)}return W}function pt(W,X,B){var L=W.resolve(X);if(L.parent.canReplaceWith(L.index(),L.index(),B))return X;if(L.parentOffset==0)for(var q=L.depth-1;q>=0;q--){var Z=L.index(q);if(L.node(q).canReplaceWith(Z,Z,B))return L.before(q+1);if(Z>0)return null}if(L.parentOffset==L.parent.content.size)for(var oe=L.depth-1;oe>=0;oe--){var Te=L.indexAfter(oe);if(L.node(oe).canReplaceWith(Te,Te,B))return L.after(oe+1);if(Te<L.node(oe).childCount)return null}return null}function Ft(W,X,B){var L=W.resolve(X);if(!B.content.size)return X;for(var q=B.content,Z=0;Z<B.openStart;Z++)q=q.firstChild.content;for(var oe=1;oe<=(B.openStart==0&&B.size?2:1);oe++)for(var Te=L.depth;Te>=0;Te--){var qe=Te==L.depth?0:L.pos<=(L.start(Te+1)+L.end(Te+1))/2?-1:1,me=L.index(Te)+(qe>0?1:0),ce=L.node(Te),Re=!1;if(oe==1)Re=ce.canReplace(me,me,q);else{var Ve=ce.contentMatchAt(me).findWrapping(q.firstChild.type);Re=Ve&&ce.canReplaceWith(me,me,Ve[0])}if(Re)return qe==0?L.pos:qe<0?L.before(Te+1):L.after(Te+1)}return null}function er(W,X){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R.Slice.empty;if(X==B&&!L.size)return null;var q=W.resolve(X),Z=W.resolve(B);return Or(q,Z,L)?new Pt(X,B,L):new pn(q,Z,L).fit()}function Or(W,X,B){return!B.openStart&&!B.openEnd&&W.start()==X.start()&&W.parent.canReplace(W.index(),X.index(),B.content)}var pn=function(){function W(X,B,L){p(this,W),this.$from=X,this.$to=B,this.unplaced=L,this.frontier=[],this.placed=R.Fragment.empty;for(var q=0;q<=X.depth;q++){var Z=X.node(q);this.frontier.push({type:Z.type,match:Z.contentMatchAt(X.indexAfter(q))})}for(var oe=X.depth;oe>0;oe--)this.placed=R.Fragment.from(X.node(oe).copy(this.placed))}return O(W,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var B=this.findFittable();B?this.placeNodes(B):this.openMore()||this.dropNode()}var L=this.mustMoveInline(),q=this.placed.size-this.depth-this.$from.depth,Z=this.$from,oe=this.close(L<0?this.$to:Z.doc.resolve(L));if(!oe)return null;for(var Te=this.placed,qe=Z.depth,me=oe.depth;qe&&me&&Te.childCount==1;)Te=Te.firstChild.content,qe--,me--;var ce=new R.Slice(Te,qe,me);return L>-1?new tr(Z.pos,L,this.$to.pos,this.$to.end(),ce,q):ce.size||Z.pos!=this.$to.pos?new Pt(Z.pos,oe.pos,ce):null}},{key:"findFittable",value:function(){for(var B=this.unplaced.openStart,L=this.unplaced.content,q=0,Z=this.unplaced.openEnd;q<B;q++){var oe=L.firstChild;if(L.childCount>1&&(Z=0),oe.type.spec.isolating&&Z<=q){B=q;break}L=oe.content}for(var Te=1;Te<=2;Te++)for(var qe=Te==1?B:this.unplaced.openStart;qe>=0;qe--){var me=void 0,ce=null;qe?(ce=ur(this.unplaced.content,qe-1).firstChild,me=ce.content):me=this.unplaced.content;for(var Re=me.firstChild,Ve=this.depth;Ve>=0;Ve--){var ut=this.frontier[Ve],Lt=ut.type,V=ut.match,$=void 0,x=null;if(Te==1&&(Re?V.matchType(Re.type)||(x=V.fillBefore(R.Fragment.from(Re),!1)):ce&&Lt.compatibleContent(ce.type)))return{sliceDepth:qe,frontierDepth:Ve,parent:ce,inject:x};if(Te==2&&Re&&($=V.findWrapping(Re.type)))return{sliceDepth:qe,frontierDepth:Ve,parent:ce,wrap:$};if(ce&&V.matchType(ce.type))break}}}},{key:"openMore",value:function(){var B=this.unplaced,L=B.content,q=B.openStart,Z=B.openEnd,oe=ur(L,q);return!oe.childCount||oe.firstChild.isLeaf?!1:(this.unplaced=new R.Slice(L,q+1,Math.max(Z,oe.size+q>=L.size-Z?q+1:0)),!0)}},{key:"dropNode",value:function(){var B=this.unplaced,L=B.content,q=B.openStart,Z=B.openEnd,oe=ur(L,q);if(oe.childCount<=1&&q>0){var Te=L.size-q<=q+oe.size;this.unplaced=new R.Slice(_r(L,q-1,1),q-1,Te?q-1:Z)}else this.unplaced=new R.Slice(_r(L,q,1),q,Z)}},{key:"placeNodes",value:function(B){for(var L=B.sliceDepth,q=B.frontierDepth,Z=B.parent,oe=B.inject,Te=B.wrap;this.depth>q;)this.closeFrontierNode();if(Te)for(var qe=0;qe<Te.length;qe++)this.openFrontierNode(Te[qe]);var me=this.unplaced,ce=Z?Z.content:me.content,Re=me.openStart-L,Ve=0,ut=[],Lt=this.frontier[q],V=Lt.match,$=Lt.type;if(oe){for(var x=0;x<oe.childCount;x++)ut.push(oe.child(x));V=V.matchFragment(oe)}for(var A=ce.size+L-(me.content.size-me.openEnd);Ve<ce.childCount;){var I=ce.child(Ve),Y=V.matchType(I.type);if(!Y)break;Ve++,(Ve>1||Re==0||I.content.size)&&(V=Y,ut.push(Zn(I.mark($.allowedMarks(I.marks)),Ve==1?Re:0,Ve==ce.childCount?A:-1)))}var ae=Ve==ce.childCount;ae||(A=-1),this.placed=Xr(this.placed,q,R.Fragment.from(ut)),this.frontier[q].match=V,ae&&A<0&&Z&&Z.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var de=0,Ae=ce;de<A;de++){var Ne=Ae.lastChild;this.frontier.push({type:Ne.type,match:Ne.contentMatchAt(Ne.childCount)}),Ae=Ne.content}this.unplaced=ae?L==0?R.Slice.empty:new R.Slice(_r(me.content,L-1,1),L-1,A<0?me.openEnd:L-1):new R.Slice(_r(me.content,L,Ve),me.openStart,me.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var B=this.frontier[this.depth],L;if(!B.type.isTextblock||!rn(this.$to,this.$to.depth,B.type,B.match,!1)||this.$to.depth==this.depth&&(L=this.findCloseLevel(this.$to))&&L.depth==this.depth)return-1;for(var q=this.$to.depth,Z=this.$to.after(q);q>1&&Z==this.$to.end(--q);)++Z;return Z}},{key:"findCloseLevel",value:function(B){e:for(var L=Math.min(this.depth,B.depth);L>=0;L--){var q=this.frontier[L],Z=q.match,oe=q.type,Te=L<B.depth&&B.end(L+1)==B.pos+(B.depth-(L+1)),qe=rn(B,L,oe,Z,Te);if(qe){for(var me=L-1;me>=0;me--){var ce=this.frontier[me],Re=ce.match,Ve=ce.type,ut=rn(B,me,Ve,Re,!0);if(!ut||ut.childCount)continue e}return{depth:L,fit:qe,move:Te?B.doc.resolve(B.after(L+1)):B}}}}},{key:"close",value:function(B){var L=this.findCloseLevel(B);if(!L)return null;for(;this.depth>L.depth;)this.closeFrontierNode();L.fit.childCount&&(this.placed=Xr(this.placed,L.depth,L.fit)),B=L.move;for(var q=L.depth+1;q<=B.depth;q++){var Z=B.node(q),oe=Z.type.contentMatch.fillBefore(Z.content,!0,B.index(q));this.openFrontierNode(Z.type,Z.attrs,oe)}return B}},{key:"openFrontierNode",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,q=arguments.length>2?arguments[2]:void 0,Z=this.frontier[this.depth];Z.match=Z.match.matchType(B),this.placed=Xr(this.placed,this.depth,R.Fragment.from(B.create(L,q))),this.frontier.push({type:B,match:B.contentMatch})}},{key:"closeFrontierNode",value:function(){var B=this.frontier.pop(),L=B.match.fillBefore(R.Fragment.empty,!0);L.childCount&&(this.placed=Xr(this.placed,this.frontier.length,L))}}]),W}();function _r(W,X,B){return X==0?W.cutByIndex(B,W.childCount):W.replaceChild(0,W.firstChild.copy(_r(W.firstChild.content,X-1,B)))}function Xr(W,X,B){return X==0?W.append(B):W.replaceChild(W.childCount-1,W.lastChild.copy(Xr(W.lastChild.content,X-1,B)))}function ur(W,X){for(var B=0;B<X;B++)W=W.firstChild.content;return W}function Zn(W,X,B){if(X<=0)return W;var L=W.content;return X>1&&(L=L.replaceChild(0,Zn(L.firstChild,X-1,L.childCount==1?B-1:0))),X>0&&(L=W.type.contentMatch.fillBefore(L).append(L),B<=0&&(L=L.append(W.type.contentMatch.matchFragment(L).fillBefore(R.Fragment.empty,!0)))),W.copy(L)}function rn(W,X,B,L,q){var Z=W.node(X),oe=q?W.indexAfter(X):W.index(X);if(oe==Z.childCount&&!B.compatibleContent(Z.type))return null;var Te=L.fillBefore(Z.content,!0,oe);return Te&&!Jn(B,Z.content,oe)?Te:null}function Jn(W,X,B){for(var L=B;L<X.childCount;L++)if(!W.allowsMarks(X.child(L).marks))return!0;return!1}function di(W){return W.spec.defining||W.spec.definingForContent}function pi(W,X,B,L){if(!L.size)return W.deleteRange(X,B);var q=W.doc.resolve(X),Z=W.doc.resolve(B);if(Or(q,Z,L))return W.step(new Pt(X,B,L));var oe=te(q,W.doc.resolve(B));oe[oe.length-1]==0&&oe.pop();var Te=-(q.depth+1);oe.unshift(Te);for(var qe=q.depth,me=q.pos-1;qe>0;qe--,me--){var ce=q.node(qe).type.spec;if(ce.defining||ce.definingAsContext||ce.isolating)break;oe.indexOf(qe)>-1?Te=qe:q.before(qe)==me&&oe.splice(1,0,-qe)}for(var Re=oe.indexOf(Te),Ve=[],ut=L.openStart,Lt=L.content,V=0;;V++){var $=Lt.firstChild;if(Ve.push($),V==L.openStart)break;Lt=$.content}for(var x=ut-1;x>=0;x--){var A=Ve[x],I=di(A.type);if(I&&!A.sameMarkup(q.node(Math.abs(Te)-1)))ut=x;else if(I||!A.type.isTextblock)break}for(var Y=L.openStart;Y>=0;Y--){var ae=(Y+ut+1)%(L.openStart+1),de=Ve[ae];if(de)for(var Ae=0;Ae<oe.length;Ae++){var Ne=oe[(Ae+Re)%oe.length],tt=!0;Ne<0&&(tt=!1,Ne=-Ne);var rt=q.node(Ne-1),mt=q.index(Ne-1);if(rt.canReplaceWith(mt,mt,de.type,de.marks))return W.replace(q.before(Ne),tt?Z.after(Ne):B,new R.Slice(cn(L.content,0,L.openStart,ae),ae,L.openEnd))}}for(var zt=W.steps.length,wr=oe.length-1;wr>=0&&(W.replace(X,B,L),!(W.steps.length>zt));wr--){var Gr=oe[wr];Gr<0||(X=q.before(Gr),B=Z.after(Gr))}}function cn(W,X,B,L,q){if(X<B){var Z=W.firstChild;W=W.replaceChild(0,Z.copy(cn(Z.content,X+1,B,L,Z)))}if(X>L){var oe=q.contentMatchAt(0),Te=oe.fillBefore(W).append(W);W=Te.append(oe.matchFragment(Te).fillBefore(R.Fragment.empty,!0))}return W}function ei(W,X,B,L){if(!L.isInline&&X==B&&W.doc.resolve(X).parent.content.size){var q=pt(W.doc,X,L.type);q!=null&&(X=B=q)}W.replaceRange(X,B,new R.Slice(R.Fragment.from(L),0,0))}function ti(W,X,B){for(var L=W.doc.resolve(X),q=W.doc.resolve(B),Z=te(L,q),oe=0;oe<Z.length;oe++){var Te=Z[oe],qe=oe==Z.length-1;if(qe&&Te==0||L.node(Te).type.contentMatch.validEnd)return W.delete(L.start(Te),q.end(Te));if(Te>0&&(qe||L.node(Te-1).canReplace(L.index(Te-1),q.indexAfter(Te-1))))return W.delete(L.before(Te),q.after(Te))}for(var me=1;me<=L.depth&&me<=q.depth;me++)if(X-L.start(me)==L.depth-me&&B>L.end(me)&&q.end(me)-B!=q.depth-me&&L.start(me-1)==q.start(me-1)&&L.node(me-1).canReplace(L.index(me-1),q.index(me-1)))return W.delete(L.before(me),B);W.delete(X,B)}function te(W,X){for(var B=[],L=Math.min(W.depth,X.depth),q=L;q>=0;q--){var Z=W.start(q);if(Z<W.pos-(W.depth-q)||X.end(q)>X.pos+(X.depth-q)||W.node(q).type.spec.isolating||X.node(q).type.spec.isolating)break;(Z==X.start(q)||q==W.depth&&q==X.depth&&W.parent.inlineContent&&X.parent.inlineContent&&q&&X.start(q-1)==Z-1)&&B.push(q)}return B}var se=function(W){i(B,W);var X=o(B);function B(L,q,Z){var oe;return p(this,B),oe=X.call(this),oe.pos=L,oe.attr=q,oe.value=Z,oe}return O(B,[{key:"apply",value:function(q){var Z=q.nodeAt(this.pos);if(!Z)return Ot.fail("No node at attribute step's position");var oe=Object.create(null);for(var Te in Z.attrs)oe[Te]=Z.attrs[Te];oe[this.attr]=this.value;var qe=Z.type.create(oe,null,Z.marks);return Ot.fromReplace(q,this.pos,this.pos+1,new R.Slice(R.Fragment.from(qe),0,Z.isLeaf?0:1))}},{key:"getMap",value:function(){return _e.empty}},{key:"invert",value:function(q){return new B(this.pos,this.attr,q.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(q){var Z=q.mapResult(this.pos,1);return Z.deletedAfter?null:new B(Z.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(q,Z){if(typeof Z.pos!="number"||typeof Z.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new B(Z.pos,Z.attr,Z.value)}}]),B}(dt);dt.jsonID("attr",se);var ke=function(W){i(B,W);var X=o(B);function B(L,q){var Z;return p(this,B),Z=X.call(this),Z.attr=L,Z.value=q,Z}return O(B,[{key:"apply",value:function(q){var Z=Object.create(null);for(var oe in q.attrs)Z[oe]=q.attrs[oe];Z[this.attr]=this.value;var Te=q.type.create(Z,q.content,q.marks);return Ot.ok(Te)}},{key:"getMap",value:function(){return _e.empty}},{key:"invert",value:function(q){return new B(this.attr,q.attrs[this.attr])}},{key:"map",value:function(q){return this}},{key:"toJSON",value:function(){return{stepType:"docAttr",attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(q,Z){if(typeof Z.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new B(Z.attr,Z.value)}}]),B}(dt);dt.jsonID("docAttr",ke),r.TransformError=function(W){i(B,W);var X=o(B);function B(){return p(this,B),X.apply(this,arguments)}return O(B)}(e(Error)),r.TransformError=function W(X){var B=Error.call(this,X);return B.__proto__=W.prototype,B},r.TransformError.prototype=Object.create(Error.prototype),r.TransformError.prototype.constructor=r.TransformError,r.TransformError.prototype.name="TransformError";var $e=function(){function W(X){p(this,W),this.doc=X,this.steps=[],this.docs=[],this.mapping=new ot}return O(W,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(B){var L=this.maybeStep(B);if(L.failed)throw new r.TransformError(L.failed);return this}},{key:"maybeStep",value:function(B){var L=B.apply(this.doc);return L.failed||this.addStep(B,L.doc),L}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(B,L){this.docs.push(this.doc),this.steps.push(B),this.mapping.appendMap(B.getMap()),this.doc=L}},{key:"replace",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R.Slice.empty,Z=er(this.doc,B,L,q);return Z&&this.step(Z),this}},{key:"replaceWith",value:function(B,L,q){return this.replace(B,L,new R.Slice(R.Fragment.from(q),0,0))}},{key:"delete",value:function(B,L){return this.replace(B,L,R.Slice.empty)}},{key:"insert",value:function(B,L){return this.replaceWith(B,B,L)}},{key:"replaceRange",value:function(B,L,q){return pi(this,B,L,q),this}},{key:"replaceRangeWith",value:function(B,L,q){return ei(this,B,L,q),this}},{key:"deleteRange",value:function(B,L){return ti(this,B,L),this}},{key:"lift",value:function(B,L){return Oe(this,B,L),this}},{key:"join",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return ct(this,B,L),this}},{key:"wrap",value:function(B,L){return Jt(this,B,L),this}},{key:"setBlockType",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B,q=arguments.length>2?arguments[2]:void 0,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Yt(this,B,L,q,Z),this}},{key:"setNodeMarkup",value:function(B,L){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Z=arguments.length>3?arguments[3]:void 0;return Zr(this,B,L,q,Z),this}},{key:"setNodeAttribute",value:function(B,L,q){return this.step(new se(B,L,q)),this}},{key:"setDocAttribute",value:function(B,L){return this.step(new ke(B,L)),this}},{key:"addNodeMark",value:function(B,L){return this.step(new bt(B,L)),this}},{key:"removeNodeMark",value:function(B,L){var q=this.doc.nodeAt(B);if(!q)throw new RangeError("No node at position "+B);if(L instanceof R.Mark)L.isInSet(q.marks)&&this.step(new Rt(B,L));else{for(var Z=q.marks,oe,Te=[];oe=L.isInSet(Z);)Te.push(new Rt(B,oe)),Z=oe.removeFromSet(Z);for(var qe=Te.length-1;qe>=0;qe--)this.step(Te[qe])}return this}},{key:"split",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,q=arguments.length>2?arguments[2]:void 0;return pr(this,B,L,q),this}},{key:"addMark",value:function(B,L,q){return Sr(this,B,L,q),this}},{key:"removeMark",value:function(B,L,q){return Le(this,B,L,q),this}},{key:"clearIncompatible",value:function(B,L,q){return Pe(this,B,L,q),this}}]),W}();r.AddMarkStep=Vt,r.AddNodeMarkStep=bt,r.AttrStep=se,r.DocAttrStep=ke,r.MapResult=Ge,r.Mapping=ot,r.RemoveMarkStep=ar,r.RemoveNodeMarkStep=Rt,r.ReplaceAroundStep=tr,r.ReplaceStep=Pt,r.Step=dt,r.StepMap=_e,r.StepResult=Ot,r.Transform=$e,r.canJoin=tn,r.canSplit=Lr,r.dropPoint=Ft,r.findWrapping=Be,r.insertPoint=pt,r.joinPoint=yn,r.liftTarget=xe,r.replaceStep=er}(LD)),LD}var mV;function kk(){if(mV)return fs;mV=1;function r(Le){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},r(Le)}function e(){return typeof Reflect<"u"&&Reflect.get?e=Reflect.get:e=function(Pe,ve,xe){var Oe=t(Pe,ve);if(Oe){var Be=Object.getOwnPropertyDescriptor(Oe,ve);return Be.get?Be.get.call(arguments.length<3?Pe:xe):Be.value}},e.apply(this,arguments)}function t(Le,Pe){for(;!Object.prototype.hasOwnProperty.call(Le,Pe)&&(Le=u(Le),Le!==null););return Le}function n(Le,Pe){if(typeof Pe!="function"&&Pe!==null)throw new TypeError("Super expression must either be null or a function");Le.prototype=Object.create(Pe&&Pe.prototype,{constructor:{value:Le,writable:!0,configurable:!0}}),Object.defineProperty(Le,"prototype",{writable:!1}),Pe&&i(Le,Pe)}function i(Le,Pe){return i=Object.setPrototypeOf||function(xe,Oe){return xe.__proto__=Oe,xe},i(Le,Pe)}function a(Le){var Pe=l();return function(){var xe=u(Le),Oe;if(Pe){var Be=u(this).constructor;Oe=Reflect.construct(xe,arguments,Be)}else Oe=xe.apply(this,arguments);return o(this,Oe)}}function o(Le,Pe){if(Pe&&(r(Pe)==="object"||typeof Pe=="function"))return Pe;if(Pe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(Le)}function s(Le){if(Le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Le}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(Le){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(ve){return ve.__proto__||Object.getPrototypeOf(ve)},u(Le)}function c(Le,Pe){if(!(Le instanceof Pe))throw new TypeError("Cannot call a class as a function")}function h(Le,Pe){for(var ve=0;ve<Pe.length;ve++){var xe=Pe[ve];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(Le,xe.key,xe)}}function p(Le,Pe,ve){return Pe&&h(Le.prototype,Pe),ve&&h(Le,ve),Object.defineProperty(Le,"prototype",{writable:!1}),Le}Object.defineProperty(fs,"__esModule",{value:!0});var g=wk(),O=tL(),T=Object.create(null),M=function(){function Le(Pe,ve,xe){c(this,Le),this.$anchor=Pe,this.$head=ve,this.ranges=xe||[new R(Pe.min(ve),Pe.max(ve))]}return p(Le,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var ve=this.ranges,xe=0;xe<ve.length;xe++)if(ve[xe].$from.pos!=ve[xe].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(ve){for(var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.Slice.empty,Oe=xe.content.lastChild,Be=null,Ze=0;Ze<xe.openEnd;Ze++)Be=Oe,Oe=Oe.lastChild;for(var st=ve.steps.length,$t=this.ranges,Jt=0;Jt<$t.length;Jt++){var Yt=$t[Jt],Cr=Yt.$from,sr=Yt.$to,un=ve.mapping.slice(st);ve.replaceRange(un.map(Cr.pos),un.map(sr.pos),Jt?g.Slice.empty:xe),Jt==0&&Ge(ve,st,(Oe?Oe.isInline:Be&&Be.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(ve,xe){for(var Oe=ve.steps.length,Be=this.ranges,Ze=0;Ze<Be.length;Ze++){var st=Be[Ze],$t=st.$from,Jt=st.$to,Yt=ve.mapping.slice(Oe),Cr=Yt.map($t.pos),sr=Yt.map(Jt.pos);Ze?ve.deleteRange(Cr,sr):(ve.replaceRangeWith(Cr,sr,xe),Ge(ve,Oe,xe.isInline?-1:1))}}},{key:"getBookmark",value:function(){return G.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(ve,xe){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Be=ve.parent.inlineContent?new G(ve):Fe(ve.node(0),ve.parent,ve.pos,ve.index(),xe,Oe);if(Be)return Be;for(var Ze=ve.depth-1;Ze>=0;Ze--){var st=xe<0?Fe(ve.node(0),ve.node(Ze),ve.before(Ze+1),ve.index(Ze),xe,Oe):Fe(ve.node(0),ve.node(Ze),ve.after(Ze+1),ve.index(Ze)+1,xe,Oe);if(st)return st}return null}},{key:"near",value:function(ve){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.findFrom(ve,xe)||this.findFrom(ve,-xe)||new pe(ve.node(0))}},{key:"atStart",value:function(ve){return Fe(ve,ve,0,0,1)||new pe(ve)}},{key:"atEnd",value:function(ve){return Fe(ve,ve,ve.content.size,ve.childCount,-1)||new pe(ve)}},{key:"fromJSON",value:function(ve,xe){if(!xe||!xe.type)throw new RangeError("Invalid input for Selection.fromJSON");var Oe=T[xe.type];if(!Oe)throw new RangeError("No selection type ".concat(xe.type," defined"));return Oe.fromJSON(ve,xe)}},{key:"jsonID",value:function(ve,xe){if(ve in T)throw new RangeError("Duplicate use of selection JSON ID "+ve);return T[ve]=xe,xe.prototype.jsonID=ve,xe}}]),Le}();M.prototype.visible=!0;var R=p(function Le(Pe,ve){c(this,Le),this.$from=Pe,this.$to=ve}),z=!1;function U(Le){!z&&!Le.parent.inlineContent&&(z=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+Le.parent.type.name+")"))}var G=function(Le){n(ve,Le);var Pe=a(ve);function ve(xe){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xe;return c(this,ve),U(xe),U(Oe),Pe.call(this,xe,Oe)}return p(ve,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(Oe,Be){var Ze=Oe.resolve(Be.map(this.head));if(!Ze.parent.inlineContent)return M.near(Ze);var st=Oe.resolve(Be.map(this.anchor));return new ve(st.parent.inlineContent?st:Ze,Ze)}},{key:"replace",value:function(Oe){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.Slice.empty;if(e(u(ve.prototype),"replace",this).call(this,Oe,Be),Be==g.Slice.empty){var Ze=this.$from.marksAcross(this.$to);Ze&&Oe.ensureMarks(Ze)}}},{key:"eq",value:function(Oe){return Oe instanceof ve&&Oe.anchor==this.anchor&&Oe.head==this.head}},{key:"getBookmark",value:function(){return new J(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(Oe,Be){if(typeof Be.anchor!="number"||typeof Be.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ve(Oe.resolve(Be.anchor),Oe.resolve(Be.head))}},{key:"create",value:function(Oe,Be){var Ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Be,st=Oe.resolve(Be);return new this(st,Ze==Be?st:Oe.resolve(Ze))}},{key:"between",value:function(Oe,Be,Ze){var st=Oe.pos-Be.pos;if((!Ze||st)&&(Ze=st>=0?1:-1),!Be.parent.inlineContent){var $t=M.findFrom(Be,Ze,!0)||M.findFrom(Be,-Ze,!0);if($t)Be=$t.$head;else return M.near(Be,Ze)}return Oe.parent.inlineContent||(st==0?Oe=Be:(Oe=(M.findFrom(Oe,-Ze,!0)||M.findFrom(Oe,Ze,!0)).$anchor,Oe.pos<Be.pos!=st<0&&(Oe=Be))),new ve(Oe,Be)}}]),ve}(M);M.jsonID("text",G);var J=function(){function Le(Pe,ve){c(this,Le),this.anchor=Pe,this.head=ve}return p(Le,[{key:"map",value:function(ve){return new Le(ve.map(this.anchor),ve.map(this.head))}},{key:"resolve",value:function(ve){return G.between(ve.resolve(this.anchor),ve.resolve(this.head))}}]),Le}(),ee=function(Le){n(ve,Le);var Pe=a(ve);function ve(xe){var Oe;c(this,ve);var Be=xe.nodeAfter,Ze=xe.node(0).resolve(xe.pos+Be.nodeSize);return Oe=Pe.call(this,xe,Ze),Oe.node=Be,Oe}return p(ve,[{key:"map",value:function(Oe,Be){var Ze=Be.mapResult(this.anchor),st=Ze.deleted,$t=Ze.pos,Jt=Oe.resolve($t);return st?M.near(Jt):new ve(Jt)}},{key:"content",value:function(){return new g.Slice(g.Fragment.from(this.node),0,0)}},{key:"eq",value:function(Oe){return Oe instanceof ve&&Oe.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new le(this.anchor)}}],[{key:"fromJSON",value:function(Oe,Be){if(typeof Be.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ve(Oe.resolve(Be.anchor))}},{key:"create",value:function(Oe,Be){return new ve(Oe.resolve(Be))}},{key:"isSelectable",value:function(Oe){return!Oe.isText&&Oe.type.spec.selectable!==!1}}]),ve}(M);ee.prototype.visible=!1,M.jsonID("node",ee);var le=function(){function Le(Pe){c(this,Le),this.anchor=Pe}return p(Le,[{key:"map",value:function(ve){var xe=ve.mapResult(this.anchor),Oe=xe.deleted,Be=xe.pos;return Oe?new J(Be,Be):new Le(Be)}},{key:"resolve",value:function(ve){var xe=ve.resolve(this.anchor),Oe=xe.nodeAfter;return Oe&&ee.isSelectable(Oe)?new ee(xe):M.near(xe)}}]),Le}(),pe=function(Le){n(ve,Le);var Pe=a(ve);function ve(xe){return c(this,ve),Pe.call(this,xe.resolve(0),xe.resolve(xe.content.size))}return p(ve,[{key:"replace",value:function(Oe){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.Slice.empty;if(Be==g.Slice.empty){Oe.delete(0,Oe.doc.content.size);var Ze=M.atStart(Oe.doc);Ze.eq(Oe.selection)||Oe.setSelection(Ze)}else e(u(ve.prototype),"replace",this).call(this,Oe,Be)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(Oe){return new ve(Oe)}},{key:"eq",value:function(Oe){return Oe instanceof ve}},{key:"getBookmark",value:function(){return be}}],[{key:"fromJSON",value:function(Oe){return new ve(Oe)}}]),ve}(M);M.jsonID("all",pe);var be={map:function(){return this},resolve:function(Pe){return new pe(Pe)}};function Fe(Le,Pe,ve,xe,Oe){var Be=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(Pe.inlineContent)return G.create(Le,ve);for(var Ze=xe-(Oe>0?0:1);Oe>0?Ze<Pe.childCount:Ze>=0;Ze+=Oe){var st=Pe.child(Ze);if(st.isAtom){if(!Be&&ee.isSelectable(st))return ee.create(Le,ve-(Oe<0?st.nodeSize:0))}else{var $t=Fe(Le,st,ve+Oe,Oe<0?st.childCount:0,Oe,Be);if($t)return $t}ve+=st.nodeSize*Oe}return null}function Ge(Le,Pe,ve){var xe=Le.steps.length-1;if(!(xe<Pe)){var Oe=Le.steps[xe];if(Oe instanceof O.ReplaceStep||Oe instanceof O.ReplaceAroundStep){var Be=Le.mapping.maps[xe],Ze;Be.forEach(function(st,$t,Jt,Yt){Ze==null&&(Ze=Yt)}),Le.setSelection(M.near(Le.doc.resolve(Ze),ve))}}}var _e=1,ot=2,at=4,dt=function(Le){n(ve,Le);var Pe=a(ve);function ve(xe){var Oe;return c(this,ve),Oe=Pe.call(this,xe.doc),Oe.curSelectionFor=0,Oe.updated=0,Oe.meta=Object.create(null),Oe.time=Date.now(),Oe.curSelection=xe.selection,Oe.storedMarks=xe.storedMarks,Oe}return p(ve,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(Oe){if(Oe.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=Oe,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_e)&-3,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(this.updated&_e)>0}},{key:"setStoredMarks",value:function(Oe){return this.storedMarks=Oe,this.updated|=ot,this}},{key:"ensureMarks",value:function(Oe){return g.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),Oe)||this.setStoredMarks(Oe),this}},{key:"addStoredMark",value:function(Oe){return this.ensureMarks(Oe.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(Oe){return this.ensureMarks(Oe.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(this.updated&ot)>0}},{key:"addStep",value:function(Oe,Be){e(u(ve.prototype),"addStep",this).call(this,Oe,Be),this.updated=this.updated&-3,this.storedMarks=null}},{key:"setTime",value:function(Oe){return this.time=Oe,this}},{key:"replaceSelection",value:function(Oe){return this.selection.replace(this,Oe),this}},{key:"replaceSelectionWith",value:function(Oe){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ze=this.selection;return Be&&(Oe=Oe.mark(this.storedMarks||(Ze.empty?Ze.$from.marks():Ze.$from.marksAcross(Ze.$to)||g.Mark.none))),Ze.replaceWith(this,Oe),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(Oe,Be,Ze){var st=this.doc.type.schema;if(Be==null)return Oe?this.replaceSelectionWith(st.text(Oe),!0):this.deleteSelection();if(Ze==null&&(Ze=Be),Ze=Ze??Be,!Oe)return this.deleteRange(Be,Ze);var $t=this.storedMarks;if(!$t){var Jt=this.doc.resolve(Be);$t=Ze==Be?Jt.marks():Jt.marksAcross(this.doc.resolve(Ze))}return this.replaceRangeWith(Be,Ze,st.text(Oe,$t)),this.selection.empty||this.setSelection(M.near(this.selection.$to)),this}},{key:"setMeta",value:function(Oe,Be){return this.meta[typeof Oe=="string"?Oe:Oe.key]=Be,this}},{key:"getMeta",value:function(Oe){return this.meta[typeof Oe=="string"?Oe:Oe.key]}},{key:"isGeneric",get:function(){for(var Oe in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=at,this}},{key:"scrolledIntoView",get:function(){return(this.updated&at)>0}}]),ve}(O.Transform);function Ot(Le,Pe){return!Pe||!Le?Le:Le.bind(Pe)}var Qt=p(function Le(Pe,ve,xe){c(this,Le),this.name=Pe,this.init=Ot(ve.init,xe),this.apply=Ot(ve.apply,xe)}),Vt=[new Qt("doc",{init:function(Pe){return Pe.doc||Pe.schema.topNodeType.createAndFill()},apply:function(Pe){return Pe.doc}}),new Qt("selection",{init:function(Pe,ve){return Pe.selection||M.atStart(ve.doc)},apply:function(Pe){return Pe.selection}}),new Qt("storedMarks",{init:function(Pe){return Pe.storedMarks||null},apply:function(Pe,ve,xe,Oe){return Oe.selection.$cursor?Pe.storedMarks:null}}),new Qt("scrollToSelection",{init:function(){return 0},apply:function(Pe,ve){return Pe.scrolledIntoView?ve+1:ve}})],ar=p(function Le(Pe,ve){var xe=this;c(this,Le),this.schema=Pe,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Vt.slice(),ve&&ve.forEach(function(Oe){if(xe.pluginsByKey[Oe.key])throw new RangeError("Adding different instances of a keyed plugin ("+Oe.key+")");xe.plugins.push(Oe),xe.pluginsByKey[Oe.key]=Oe,Oe.spec.state&&xe.fields.push(new Qt(Oe.key,Oe.spec.state,Oe))})}),bt=function(){function Le(Pe){c(this,Le),this.config=Pe}return p(Le,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(ve){return this.applyTransaction(ve).state}},{key:"filterTransaction",value:function(ve){for(var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,Oe=0;Oe<this.config.plugins.length;Oe++)if(Oe!=xe){var Be=this.config.plugins[Oe];if(Be.spec.filterTransaction&&!Be.spec.filterTransaction.call(Be,ve,this))return!1}return!0}},{key:"applyTransaction",value:function(ve){if(!this.filterTransaction(ve))return{state:this,transactions:[]};for(var xe=[ve],Oe=this.applyInner(ve),Be=null;;){for(var Ze=!1,st=0;st<this.config.plugins.length;st++){var $t=this.config.plugins[st];if($t.spec.appendTransaction){var Jt=Be?Be[st].n:0,Yt=Be?Be[st].state:this,Cr=Jt<xe.length&&$t.spec.appendTransaction.call($t,Jt?xe.slice(Jt):xe,Yt,Oe);if(Cr&&Oe.filterTransaction(Cr,st)){if(Cr.setMeta("appendedTransaction",ve),!Be){Be=[];for(var sr=0;sr<this.config.plugins.length;sr++)Be.push(sr<st?{state:Oe,n:xe.length}:{state:this,n:0})}xe.push(Cr),Oe=Oe.applyInner(Cr),Ze=!0}Be&&(Be[st]={state:Oe,n:xe.length})}}if(!Ze)return{state:Oe,transactions:xe}}}},{key:"applyInner",value:function(ve){if(!ve.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var xe=new Le(this.config),Oe=this.config.fields,Be=0;Be<Oe.length;Be++){var Ze=Oe[Be];xe[Ze.name]=Ze.apply(ve,this[Ze.name],this,xe)}return xe}},{key:"tr",get:function(){return new dt(this)}},{key:"reconfigure",value:function(ve){for(var xe=new ar(this.schema,ve.plugins),Oe=xe.fields,Be=new Le(xe),Ze=0;Ze<Oe.length;Ze++){var st=Oe[Ze].name;Be[st]=this.hasOwnProperty(st)?this[st]:Oe[Ze].init(ve,Be)}return Be}},{key:"toJSON",value:function(ve){var xe={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(xe.storedMarks=this.storedMarks.map(function(st){return st.toJSON()})),ve&&r(ve)=="object")for(var Oe in ve){if(Oe=="doc"||Oe=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var Be=ve[Oe],Ze=Be.spec.state;Ze&&Ze.toJSON&&(xe[Oe]=Ze.toJSON.call(Be,this[Be.key]))}return xe}}],[{key:"create",value:function(ve){for(var xe=new ar(ve.doc?ve.doc.type.schema:ve.schema,ve.plugins),Oe=new Le(xe),Be=0;Be<xe.fields.length;Be++)Oe[xe.fields[Be].name]=xe.fields[Be].init(ve,Oe);return Oe}},{key:"fromJSON",value:function(ve,xe,Oe){if(!xe)throw new RangeError("Invalid input for EditorState.fromJSON");if(!ve.schema)throw new RangeError("Required config field 'schema' missing");var Be=new ar(ve.schema,ve.plugins),Ze=new Le(Be);return Be.fields.forEach(function(st){if(st.name=="doc")Ze.doc=g.Node.fromJSON(ve.schema,xe.doc);else if(st.name=="selection")Ze.selection=M.fromJSON(Ze.doc,xe.selection);else if(st.name=="storedMarks")xe.storedMarks&&(Ze.storedMarks=xe.storedMarks.map(ve.schema.markFromJSON));else{if(Oe)for(var $t in Oe){var Jt=Oe[$t],Yt=Jt.spec.state;if(Jt.key==st.name&&Yt&&Yt.fromJSON&&Object.prototype.hasOwnProperty.call(xe,$t)){Ze[st.name]=Yt.fromJSON.call(Jt,ve,xe[$t],Ze);return}}Ze[st.name]=st.init(ve,Ze)}}),Ze}}]),Le}();function Rt(Le,Pe,ve){for(var xe in Le){var Oe=Le[xe];Oe instanceof Function?Oe=Oe.bind(Pe):xe=="handleDOMEvents"&&(Oe=Rt(Oe,Pe,{})),ve[xe]=Oe}return ve}var Pt=function(){function Le(Pe){c(this,Le),this.spec=Pe,this.props={},Pe.props&&Rt(Pe.props,this,this.props),this.key=Pe.key?Pe.key.key:or("plugin")}return p(Le,[{key:"getState",value:function(ve){return ve[this.key]}}]),Le}(),tr=Object.create(null);function or(Le){return Le in tr?Le+"$"+ ++tr[Le]:(tr[Le]=0,Le+"$")}var Sr=function(){function Le(){var Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"key";c(this,Le),this.key=or(Pe)}return p(Le,[{key:"get",value:function(ve){return ve.config.pluginsByKey[this.key]}},{key:"getState",value:function(ve){return ve[this.key]}}]),Le}();return fs.AllSelection=pe,fs.EditorState=bt,fs.NodeSelection=ee,fs.Plugin=Pt,fs.PluginKey=Sr,fs.Selection=M,fs.SelectionRange=R,fs.TextSelection=G,fs.Transaction=dt,fs}var vV;function _xt(){if(vV)return ro;vV=1;function r(U,G,J){return Object.defineProperty(U,"prototype",{writable:!1}),U}function e(U,G){if(!(U instanceof G))throw new TypeError("Cannot call a class as a function")}var t=kk(),n=tL(),i=r(function U(G,J){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e(this,U),this.match=G,this.match=G,this.handler=typeof J=="string"?a(J):J,this.undoable=ee.undoable!==!1,this.inCode=ee.inCode||!1,this.inCodeMark=ee.inCodeMark!==!1});function a(U){return function(G,J,ee,le){var pe=U;if(J[1]){var be=J[0].lastIndexOf(J[1]);pe+=J[0].slice(be+J[1].length),ee+=be;var Fe=ee-le;Fe>0&&(pe=J[0].slice(be-Fe,be)+pe,ee=le)}return G.tr.insertText(pe,ee,le)}}var o=500;function s(U){var G=U.rules,J=new t.Plugin({state:{init:function(){return null},apply:function(le,pe){var be=le.getMeta(this);return be||(le.selectionSet||le.docChanged?null:pe)}},props:{handleTextInput:function(le,pe,be,Fe){return l(le,pe,be,Fe,G,J)},handleDOMEvents:{compositionend:function(le){setTimeout(function(){var pe=le.state.selection.$cursor;pe&&l(le,pe.pos,pe.pos,"",G,J)})}}},isInputRules:!0});return J}function l(U,G,J,ee,le,pe){if(U.composing)return!1;for(var be=U.state,Fe=be.doc.resolve(G),Ge=Fe.parent.textBetween(Math.max(0,Fe.parentOffset-o),Fe.parentOffset,null,"ï¿¼")+ee,_e=0;_e<le.length;_e++){var ot=le[_e];if(!(!ot.inCodeMark&&Fe.marks().some(function(Ot){return Ot.type.spec.code}))){if(Fe.parent.type.spec.code){if(!ot.inCode)continue}else if(ot.inCode==="only")continue;var at=ot.match.exec(Ge),dt=at&&at[0].length>=ee.length&&ot.handler(be,at,G-(at[0].length-ee.length),J);if(dt)return ot.undoable&&dt.setMeta(pe,{transform:dt,from:G,to:J,text:ee}),U.dispatch(dt),!0}}return!1}var u=function(G,J){for(var ee=G.plugins,le=0;le<ee.length;le++){var pe=ee[le],be=void 0;if(pe.spec.isInputRules&&(be=pe.getState(G))){if(J){for(var Fe=G.tr,Ge=be.transform,_e=Ge.steps.length-1;_e>=0;_e--)Fe.step(Ge.steps[_e].invert(Ge.docs[_e]));if(be.text){var ot=Fe.doc.resolve(be.from).marks();Fe.replaceWith(be.from,be.to,G.schema.text(be.text,ot))}else Fe.delete(be.from,be.to);J(Fe)}return!0}}return!1},c=new i(/--$/,"â",{inCodeMark:!1}),h=new i(/\.\.\.$/,"â¦",{inCodeMark:!1}),p=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"â",{inCodeMark:!1}),g=new i(/"$/,"â",{inCodeMark:!1}),O=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"â",{inCodeMark:!1}),T=new i(/'$/,"â",{inCodeMark:!1}),M=[p,g,O,T];function R(U,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ee=arguments.length>3?arguments[3]:void 0;return new i(U,function(le,pe,be,Fe){var Ge=J instanceof Function?J(pe):J,_e=le.tr.delete(be,Fe),ot=_e.doc.resolve(be),at=ot.blockRange(),dt=at&&n.findWrapping(at,G,Ge);if(!dt)return null;_e.wrap(at,dt);var Ot=_e.doc.resolve(be-1).nodeBefore;return Ot&&Ot.type==G&&n.canJoin(_e.doc,be-1)&&(!ee||ee(pe,Ot))&&_e.join(be-1),_e})}function z(U,G){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new i(U,function(ee,le,pe,be){var Fe=ee.doc.resolve(pe),Ge=J instanceof Function?J(le):J;return Fe.node(-1).canReplaceWith(Fe.index(-1),Fe.indexAfter(-1),G)?ee.tr.delete(pe,be).setBlockType(pe,pe,G,Ge):null})}return ro.InputRule=i,ro.closeDoubleQuote=g,ro.closeSingleQuote=T,ro.ellipsis=h,ro.emDash=c,ro.inputRules=s,ro.openDoubleQuote=p,ro.openSingleQuote=O,ro.smartQuotes=M,ro.textblockTypeInputRule=z,ro.undoInputRule=u,ro.wrappingInputRule=R,ro}var p0={},Kd={},gV;function Ixt(){if(gV)return Kd;gV=1,Object.defineProperty(Kd,"__esModule",{value:!0});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},e={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},t=typeof navigator<"u"&&/Mac/.test(navigator.platform),n=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),i=0;i<10;i++)r[48+i]=r[96+i]=String(i);for(var i=1;i<=24;i++)r[i+111]="F"+i;for(var i=65;i<=90;i++)r[i]=String.fromCharCode(i+32),e[i]=String.fromCharCode(i);for(var a in r)e.hasOwnProperty(a)||(e[a]=r[a]);function o(s){var l=t&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||n&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",u=!l&&s.key||(s.shiftKey?e:r)[s.keyCode]||s.key||"Unidentified";return u=="Esc"&&(u="Escape"),u=="Del"&&(u="Delete"),u=="Left"&&(u="ArrowLeft"),u=="Up"&&(u="ArrowUp"),u=="Right"&&(u="ArrowRight"),u=="Down"&&(u="ArrowDown"),u}return Kd.base=r,Kd.keyName=o,Kd.shift=e,Kd}var OV;function Qxt(){if(OV)return p0;OV=1;var r=Ixt(),e=kk(),t=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),n=typeof navigator<"u"&&/Win/.test(navigator.platform);function i(u){var c=u.split(/-(?!$)/),h=c[c.length-1];h=="Space"&&(h=" ");for(var p,g,O,T,M=0;M<c.length-1;M++){var R=c[M];if(/^(cmd|meta|m)$/i.test(R))T=!0;else if(/^a(lt)?$/i.test(R))p=!0;else if(/^(c|ctrl|control)$/i.test(R))g=!0;else if(/^s(hift)?$/i.test(R))O=!0;else if(/^mod$/i.test(R))t?T=!0:g=!0;else throw new Error("Unrecognized modifier name: "+R)}return p&&(h="Alt-"+h),g&&(h="Ctrl-"+h),T&&(h="Meta-"+h),O&&(h="Shift-"+h),h}function a(u){var c=Object.create(null);for(var h in u)c[i(h)]=u[h];return c}function o(u,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return c.altKey&&(u="Alt-"+u),c.ctrlKey&&(u="Ctrl-"+u),c.metaKey&&(u="Meta-"+u),h&&c.shiftKey&&(u="Shift-"+u),u}function s(u){return new e.Plugin({props:{handleKeyDown:l(u)}})}function l(u){var c=a(u);return function(h,p){var g=r.keyName(p),O,T=c[o(g,p)];if(T&&T(h.state,h.dispatch,h))return!0;if(g.length==1&&g!=" "){if(p.shiftKey){var M=c[o(g,p,!1)];if(M&&M(h.state,h.dispatch,h))return!0}if((p.altKey||p.metaKey||p.ctrlKey)&&!(n&&p.ctrlKey&&p.altKey)&&(O=r.base[p.keyCode])&&O!=g){var R=c[o(O,p)];if(R&&R(h.state,h.dispatch,h))return!0}}return!1}}return p0.keydownHandler=l,p0.keymap=s,p0}var ah={},yV;function Bxt(){if(yV)return ah;yV=1;function r(m,S){return n(m)||t(m,S)||a(m,S)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(m,S){var v=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(v!=null){var k,E,D,_,Q=[],j=!0,re=!1;try{if(D=(v=v.call(m)).next,S!==0)for(;!(j=(k=D.call(v)).done)&&(Q.push(k.value),Q.length!==S);j=!0);}catch(ge){re=!0,E=ge}finally{try{if(!j&&v.return!=null&&(_=v.return(),Object(_)!==_))return}finally{if(re)throw E}}return Q}}function n(m){if(Array.isArray(m))return m}function i(m,S){var v=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!v){if(Array.isArray(m)||(v=a(m))||S){v&&(m=v);var k=0,E=function(){};return{s:E,n:function(){return k>=m.length?{done:!0}:{done:!1,value:m[k++]}},e:function(re){throw re},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D=!0,_=!1,Q;return{s:function(){v=v.call(m)},n:function(){var re=v.next();return D=re.done,re},e:function(re){_=!0,Q=re},f:function(){try{!D&&v.return!=null&&v.return()}finally{if(_)throw Q}}}}function a(m,S){if(m){if(typeof m=="string")return o(m,S);var v=Object.prototype.toString.call(m).slice(8,-1);if(v==="Object"&&m.constructor&&(v=m.constructor.name),v==="Map"||v==="Set")return Array.from(m);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return o(m,S)}}function o(m,S){(S==null||S>m.length)&&(S=m.length);for(var v=0,k=new Array(S);v<S;v++)k[v]=m[v];return k}function s(){return typeof Reflect<"u"&&Reflect.get?s=Reflect.get.bind():s=function(S,v,k){var E=l(S,v);if(E){var D=Object.getOwnPropertyDescriptor(E,v);return D.get?D.get.call(arguments.length<3?S:k):D.value}},s.apply(this,arguments)}function l(m,S){for(;!Object.prototype.hasOwnProperty.call(m,S)&&(m=T(m),m!==null););return m}function u(m,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(S&&S.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),S&&c(m,S)}function c(m,S){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,E){return k.__proto__=E,k},c(m,S)}function h(m){var S=O();return function(){var k=T(m),E;if(S){var D=T(this).constructor;E=Reflect.construct(k,arguments,D)}else E=k.apply(this,arguments);return p(this,E)}}function p(m,S){if(S&&(M(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(m)}function g(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T(m){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},T(m)}function M(m){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},M(m)}function R(m,S){if(!(m instanceof S))throw new TypeError("Cannot call a class as a function")}function z(m,S){for(var v=0;v<S.length;v++){var k=S[v];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,G(k.key),k)}}function U(m,S,v){return S&&z(m.prototype,S),v&&z(m,v),Object.defineProperty(m,"prototype",{writable:!1}),m}function G(m){var S=J(m,"string");return M(S)==="symbol"?S:String(S)}function J(m,S){if(M(m)!=="object"||m===null)return m;var v=m[Symbol.toPrimitive];if(v!==void 0){var k=v.call(m,S);if(M(k)!=="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var ee=kk(),le=wk(),pe=tL(),be=function(S){for(var v=0;;v++)if(S=S.previousSibling,!S)return v},Fe=function(S){var v=S.assignedSlot||S.parentNode;return v&&v.nodeType==11?v.host:v},Ge=null,_e=function(S,v,k){var E=Ge||(Ge=document.createRange());return E.setEnd(S,k??S.nodeValue.length),E.setStart(S,v||0),E},ot=function(){Ge=null},at=function(S,v,k,E){return k&&(Ot(S,v,k,E,-1)||Ot(S,v,k,E,1))},dt=/^(img|br|input|textarea|hr)$/i;function Ot(m,S,v,k,E){for(;;){if(m==v&&S==k)return!0;if(S==(E<0?0:Qt(m))){var D=m.parentNode;if(!D||D.nodeType!=1||Rt(m)||dt.test(m.nodeName)||m.contentEditable=="false")return!1;S=be(m)+(E<0?0:1),m=D}else if(m.nodeType==1){if(m=m.childNodes[S+(E<0?-1:0)],m.contentEditable=="false")return!1;S=E<0?Qt(m):0}else return!1}}function Qt(m){return m.nodeType==3?m.nodeValue.length:m.childNodes.length}function Vt(m,S){for(;;){if(m.nodeType==3&&S)return m;if(m.nodeType==1&&S>0){if(m.contentEditable=="false")return null;m=m.childNodes[S-1],S=Qt(m)}else if(m.parentNode&&!Rt(m))S=be(m),m=m.parentNode;else return null}}function ar(m,S){for(;;){if(m.nodeType==3&&S<m.nodeValue.length)return m;if(m.nodeType==1&&S<m.childNodes.length){if(m.contentEditable=="false")return null;m=m.childNodes[S],S=0}else if(m.parentNode&&!Rt(m))S=be(m)+1,m=m.parentNode;else return null}}function bt(m,S,v){for(var k=S==0,E=S==Qt(m);k||E;){if(m==v)return!0;var D=be(m);if(m=m.parentNode,!m)return!1;k=k&&D==0,E=E&&D==Qt(m)}}function Rt(m){for(var S,v=m;v&&!(S=v.pmViewDesc);v=v.parentNode);return S&&S.node&&S.node.isBlock&&(S.dom==m||S.contentDOM==m)}var Pt=function(S){return S.focusNode&&at(S.focusNode,S.focusOffset,S.anchorNode,S.anchorOffset)};function tr(m,S){var v=document.createEvent("Event");return v.initEvent("keydown",!0,!0),v.keyCode=m,v.key=v.code=S,v}function or(m){for(var S=m.activeElement;S&&S.shadowRoot;)S=S.shadowRoot.activeElement;return S}function Sr(m,S,v){if(m.caretPositionFromPoint)try{var k=m.caretPositionFromPoint(S,v);if(k)return{node:k.offsetNode,offset:Math.min(Qt(k.offsetNode),k.offset)}}catch{}if(m.caretRangeFromPoint){var E=m.caretRangeFromPoint(S,v);if(E)return{node:E.startContainer,offset:Math.min(Qt(E.startContainer),E.startOffset)}}}var Le=typeof navigator<"u"?navigator:null,Pe=typeof document<"u"?document:null,ve=Le&&Le.userAgent||"",xe=/Edge\/(\d+)/.exec(ve),Oe=/MSIE \d/.exec(ve),Be=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ve),Ze=!!(Oe||Be||xe),st=Oe?document.documentMode:Be?+Be[1]:xe?+xe[1]:0,$t=!Ze&&/gecko\/(\d+)/i.test(ve);$t&&+(/Firefox\/(\d+)/.exec(ve)||[0,0])[1];var Jt=!Ze&&/Chrome\/(\d+)/.exec(ve),Yt=!!Jt,Cr=Jt?+Jt[1]:0,sr=!Ze&&!!Le&&/Apple Computer/.test(Le.vendor),un=sr&&(/Mobile\/\w+/.test(ve)||!!Le&&Le.maxTouchPoints>2),Zr=un||(Le?/Mac/.test(Le.platform):!1),Lr=Le?/Win/.test(Le.platform):!1,pr=/Android \d/.test(ve),tn=!!Pe&&"webkitFontSmoothing"in Pe.documentElement.style,$i=tn?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function On(m){var S=m.defaultView&&m.defaultView.visualViewport;return S?{left:0,right:S.width,top:0,bottom:S.height}:{left:0,right:m.documentElement.clientWidth,top:0,bottom:m.documentElement.clientHeight}}function yn(m,S){return typeof m=="number"?m:m[S]}function ct(m){var S=m.getBoundingClientRect(),v=S.width/m.offsetWidth||1,k=S.height/m.offsetHeight||1;return{left:S.left,right:S.left+m.clientWidth*v,top:S.top,bottom:S.top+m.clientHeight*k}}function pt(m,S,v){for(var k=m.someProp("scrollThreshold")||0,E=m.someProp("scrollMargin")||5,D=m.dom.ownerDocument,_=v||m.dom;_;){if(_.nodeType!=1){_=Fe(_);continue}var Q=_,j=Q==D.body,re=j?On(D):ct(Q),ge=0,De=0;if(S.top<re.top+yn(k,"top")?De=-(re.top-S.top+yn(E,"top")):S.bottom>re.bottom-yn(k,"bottom")&&(De=S.bottom-S.top>re.bottom-re.top?S.top+yn(E,"top")-re.top:S.bottom-re.bottom+yn(E,"bottom")),S.left<re.left+yn(k,"left")?ge=-(re.left-S.left+yn(E,"left")):S.right>re.right-yn(k,"right")&&(ge=S.right-re.right+yn(E,"right")),ge||De)if(j)D.defaultView.scrollBy(ge,De);else{var Se=Q.scrollLeft,Qe=Q.scrollTop;De&&(Q.scrollTop+=De),ge&&(Q.scrollLeft+=ge);var Ke=Q.scrollLeft-Se,ht=Q.scrollTop-Qe;S={left:S.left-Ke,top:S.top-ht,right:S.right-Ke,bottom:S.bottom-ht}}var xt=j?"fixed":getComputedStyle(_).position;if(/^(fixed|sticky)$/.test(xt))break;_=xt=="absolute"?_.offsetParent:Fe(_)}}function Ft(m){for(var S=m.dom.getBoundingClientRect(),v=Math.max(0,S.top),k,E,D=(S.left+S.right)/2,_=v+1;_<Math.min(innerHeight,S.bottom);_+=5){var Q=m.root.elementFromPoint(D,_);if(!(!Q||Q==m.dom||!m.dom.contains(Q))){var j=Q.getBoundingClientRect();if(j.top>=v-20){k=Q,E=j.top;break}}}return{refDOM:k,refTop:E,stack:er(m.dom)}}function er(m){for(var S=[],v=m.ownerDocument,k=m;k&&(S.push({dom:k,top:k.scrollTop,left:k.scrollLeft}),m!=v);k=Fe(k));return S}function Or(m){var S=m.refDOM,v=m.refTop,k=m.stack,E=S?S.getBoundingClientRect().top:0;pn(k,E==0?0:E-v)}function pn(m,S){for(var v=0;v<m.length;v++){var k=m[v],E=k.dom,D=k.top,_=k.left;E.scrollTop!=D+S&&(E.scrollTop=D+S),E.scrollLeft!=_&&(E.scrollLeft=_)}}var _r=null;function Xr(m){if(m.setActive)return m.setActive();if(_r)return m.focus(_r);var S=er(m);m.focus(_r==null?{get preventScroll(){return _r={preventScroll:!0},!0}}:void 0),_r||(_r=!1,pn(S,0))}function ur(m,S){for(var v,k=2e8,E,D=0,_=S.top,Q=S.top,j,re,ge=m.firstChild,De=0;ge;ge=ge.nextSibling,De++){var Se=void 0;if(ge.nodeType==1)Se=ge.getClientRects();else if(ge.nodeType==3)Se=_e(ge).getClientRects();else continue;for(var Qe=0;Qe<Se.length;Qe++){var Ke=Se[Qe];if(Ke.top<=_&&Ke.bottom>=Q){_=Math.max(Ke.bottom,_),Q=Math.min(Ke.top,Q);var ht=Ke.left>S.left?Ke.left-S.left:Ke.right<S.left?S.left-Ke.right:0;if(ht<k){v=ge,k=ht,E=ht&&v.nodeType==3?{left:Ke.right<S.left?Ke.right:Ke.left,top:S.top}:S,ge.nodeType==1&&ht&&(D=De+(S.left>=(Ke.left+Ke.right)/2?1:0));continue}}else Ke.top>S.top&&!j&&Ke.left<=S.left&&Ke.right>=S.left&&(j=ge,re={left:Math.max(Ke.left,Math.min(Ke.right,S.left)),top:Ke.top});!v&&(S.left>=Ke.right&&S.top>=Ke.top||S.left>=Ke.left&&S.top>=Ke.bottom)&&(D=De+1)}}return!v&&j&&(v=j,E=re,k=0),v&&v.nodeType==3?Zn(v,E):!v||k&&v.nodeType==1?{node:m,offset:D}:ur(v,E)}function Zn(m,S){for(var v=m.nodeValue.length,k=document.createRange(),E=0;E<v;E++){k.setEnd(m,E+1),k.setStart(m,E);var D=te(k,1);if(D.top!=D.bottom&&rn(S,D))return{node:m,offset:E+(S.left>=(D.left+D.right)/2?1:0)}}return{node:m,offset:0}}function rn(m,S){return m.left>=S.left-1&&m.left<=S.right+1&&m.top>=S.top-1&&m.top<=S.bottom+1}function Jn(m,S){var v=m.parentNode;return v&&/^li$/i.test(v.nodeName)&&S.left<m.getBoundingClientRect().left?v:m}function di(m,S,v){var k=ur(S,v),E=k.node,D=k.offset,_=-1;if(E.nodeType==1&&!E.firstChild){var Q=E.getBoundingClientRect();_=Q.left!=Q.right&&v.left>(Q.left+Q.right)/2?1:-1}return m.docView.posFromDOM(E,D,_)}function pi(m,S,v,k){for(var E=-1,D=S,_=!1;D!=m.dom;){var Q=m.docView.nearestDesc(D,!0),j=void 0;if(!Q)return null;if(Q.dom.nodeType==1&&(Q.node.isBlock&&Q.parent||!Q.contentDOM)&&((j=Q.dom.getBoundingClientRect()).width||j.height)&&(Q.node.isBlock&&Q.parent&&(!_&&j.left>k.left||j.top>k.top?E=Q.posBefore:(!_&&j.right<k.left||j.bottom<k.top)&&(E=Q.posAfter),_=!0),!Q.contentDOM&&E<0&&!Q.node.isText)){var re=Q.node.isBlock?k.top<(j.top+j.bottom)/2:k.left<(j.left+j.right)/2;return re?Q.posBefore:Q.posAfter}D=Q.dom.parentNode}return E>-1?E:m.docView.posFromDOM(S,v,-1)}function cn(m,S,v){var k=m.childNodes.length;if(k&&v.top<v.bottom)for(var E=Math.max(0,Math.min(k-1,Math.floor(k*(S.top-v.top)/(v.bottom-v.top))-2)),D=E;;){var _=m.childNodes[D];if(_.nodeType==1)for(var Q=_.getClientRects(),j=0;j<Q.length;j++){var re=Q[j];if(rn(S,re))return cn(_,S,re)}if((D=(D+1)%k)==E)break}return m}function ei(m,S){var v=m.dom.ownerDocument,k,E=0,D=Sr(v,S.left,S.top);D&&(k=D.node,E=D.offset);var _=(m.root.elementFromPoint?m.root:v).elementFromPoint(S.left,S.top),Q;if(!_||!m.dom.contains(_.nodeType!=1?_.parentNode:_)){var j=m.dom.getBoundingClientRect();if(!rn(S,j)||(_=cn(m.dom,S,j),!_))return null}if(sr)for(var re=_;k&&re;re=Fe(re))re.draggable&&(k=void 0);if(_=Jn(_,S),k){if($t&&k.nodeType==1&&(E=Math.min(E,k.childNodes.length),E<k.childNodes.length)){var ge=k.childNodes[E],De;ge.nodeName=="IMG"&&(De=ge.getBoundingClientRect()).right<=S.left&&De.bottom>S.top&&E++}var Se;tn&&E&&k.nodeType==1&&(Se=k.childNodes[E-1]).nodeType==1&&Se.contentEditable=="false"&&Se.getBoundingClientRect().top>=S.top&&E--,k==m.dom&&E==k.childNodes.length-1&&k.lastChild.nodeType==1&&S.top>k.lastChild.getBoundingClientRect().bottom?Q=m.state.doc.content.size:(E==0||k.nodeType!=1||k.childNodes[E-1].nodeName!="BR")&&(Q=pi(m,k,E,S))}Q==null&&(Q=di(m,_,S));var Qe=m.docView.nearestDesc(_,!0);return{pos:Q,inside:Qe?Qe.posAtStart-Qe.border:-1}}function ti(m){return m.top<m.bottom||m.left<m.right}function te(m,S){var v=m.getClientRects();if(v.length){var k=v[S<0?0:v.length-1];if(ti(k))return k}return Array.prototype.find.call(v,ti)||m.getBoundingClientRect()}var se=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ke(m,S,v){var k=m.docView.domFromPos(S,v<0?-1:1),E=k.node,D=k.offset,_=k.atom,Q=tn||$t;if(E.nodeType==3)if(Q&&(se.test(E.nodeValue)||(v<0?!D:D==E.nodeValue.length))){var j=te(_e(E,D,D),v);if($t&&D&&/\s/.test(E.nodeValue[D-1])&&D<E.nodeValue.length){var re=te(_e(E,D-1,D-1),-1);if(re.top==j.top){var ge=te(_e(E,D,D+1),-1);if(ge.top!=j.top)return $e(ge,ge.left<re.left)}}return j}else{var De=D,Se=D,Qe=v<0?1:-1;return v<0&&!D?(Se++,Qe=-1):v>=0&&D==E.nodeValue.length?(De--,Qe=1):v<0?De--:Se++,$e(te(_e(E,De,Se),Qe),Qe<0)}var Ke=m.state.doc.resolve(S-(_||0));if(!Ke.parent.inlineContent){if(_==null&&D&&(v<0||D==Qt(E))){var ht=E.childNodes[D-1];if(ht.nodeType==1)return W(ht.getBoundingClientRect(),!1)}if(_==null&&D<Qt(E)){var xt=E.childNodes[D];if(xt.nodeType==1)return W(xt.getBoundingClientRect(),!0)}return W(E.getBoundingClientRect(),v>=0)}if(_==null&&D&&(v<0||D==Qt(E))){var it=E.childNodes[D-1],Ht=it.nodeType==3?_e(it,Qt(it)-(Q?0:1)):it.nodeType==1&&(it.nodeName!="BR"||!it.nextSibling)?it:null;if(Ht)return $e(te(Ht,1),!1)}if(_==null&&D<Qt(E)){for(var Bt=E.childNodes[D];Bt.pmViewDesc&&Bt.pmViewDesc.ignoreForCoords;)Bt=Bt.nextSibling;var Zt=Bt?Bt.nodeType==3?_e(Bt,0,Q?0:1):Bt.nodeType==1?Bt:null:null;if(Zt)return $e(te(Zt,-1),!0)}return $e(te(E.nodeType==3?_e(E):E,-v),v>=0)}function $e(m,S){if(m.width==0)return m;var v=S?m.left:m.right;return{top:m.top,bottom:m.bottom,left:v,right:v}}function W(m,S){if(m.height==0)return m;var v=S?m.top:m.bottom;return{top:v,bottom:v,left:m.left,right:m.right}}function X(m,S,v){var k=m.state,E=m.root.activeElement;k!=S&&m.updateState(S),E!=m.dom&&m.focus();try{return v()}finally{k!=S&&m.updateState(k),E!=m.dom&&E&&E.focus()}}function B(m,S,v){var k=S.selection,E=v=="up"?k.$from:k.$to;return X(m,S,function(){for(var D=m.docView.domFromPos(E.pos,v=="up"?-1:1),_=D.node;;){var Q=m.docView.nearestDesc(_,!0);if(!Q)break;if(Q.node.isBlock){_=Q.contentDOM||Q.dom;break}_=Q.dom.parentNode}for(var j=ke(m,E.pos,1),re=_.firstChild;re;re=re.nextSibling){var ge=void 0;if(re.nodeType==1)ge=re.getClientRects();else if(re.nodeType==3)ge=_e(re,0,re.nodeValue.length).getClientRects();else continue;for(var De=0;De<ge.length;De++){var Se=ge[De];if(Se.bottom>Se.top+1&&(v=="up"?j.top-Se.top>(Se.bottom-j.top)*2:Se.bottom-j.bottom>(j.bottom-Se.top)*2))return!1}}return!0})}var L=/[\u0590-\u08ac]/;function q(m,S,v){var k=S.selection.$head;if(!k.parent.isTextblock)return!1;var E=k.parentOffset,D=!E,_=E==k.parent.content.size,Q=m.domSelection();return Q?!L.test(k.parent.textContent)||!Q.modify?v=="left"||v=="backward"?D:_:X(m,S,function(){var j=m.domSelectionRange(),re=j.focusNode,ge=j.focusOffset,De=j.anchorNode,Se=j.anchorOffset,Qe=Q.caretBidiLevel;Q.modify("move",v,"character");var Ke=k.depth?m.docView.domAfterPos(k.before()):m.dom,ht=m.domSelectionRange(),xt=ht.focusNode,it=ht.focusOffset,Ht=xt&&!Ke.contains(xt.nodeType==1?xt:xt.parentNode)||re==xt&&ge==it;try{Q.collapse(De,Se),re&&(re!=De||ge!=Se)&&Q.extend&&Q.extend(re,ge)}catch{}return Qe!=null&&(Q.caretBidiLevel=Qe),Ht}):k.pos==k.start()||k.pos==k.end()}var Z=null,oe=null,Te=!1;function qe(m,S,v){return Z==S&&oe==v?Te:(Z=S,oe=v,Te=v=="up"||v=="down"?B(m,S,v):q(m,S,v))}var me=0,ce=1,Re=2,Ve=3,ut=function(){function m(S,v,k,E){R(this,m),this.parent=S,this.children=v,this.dom=k,this.contentDOM=E,this.dirty=me,k.pmViewDesc=this}return U(m,[{key:"matchesWidget",value:function(v){return!1}},{key:"matchesMark",value:function(v){return!1}},{key:"matchesNode",value:function(v,k,E){return!1}},{key:"matchesHack",value:function(v){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(v){return!1}},{key:"size",get:function(){for(var v=0,k=0;k<this.children.length;k++)v+=this.children[k].size;return v}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var v=0;v<this.children.length;v++)this.children[v].destroy()}},{key:"posBeforeChild",value:function(v){for(var k=0,E=this.posAtStart;;k++){var D=this.children[k];if(D==v)return E;E+=D.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(v,k,E){if(this.contentDOM&&this.contentDOM.contains(v.nodeType==1?v:v.parentNode))if(E<0){var D,_;if(v==this.contentDOM)D=v.childNodes[k-1];else{for(;v.parentNode!=this.contentDOM;)v=v.parentNode;D=v.previousSibling}for(;D&&!((_=D.pmViewDesc)&&_.parent==this);)D=D.previousSibling;return D?this.posBeforeChild(_)+_.size:this.posAtStart}else{var Q,j;if(v==this.contentDOM)Q=v.childNodes[k];else{for(;v.parentNode!=this.contentDOM;)v=v.parentNode;Q=v.nextSibling}for(;Q&&!((j=Q.pmViewDesc)&&j.parent==this);)Q=Q.nextSibling;return Q?this.posBeforeChild(j):this.posAtEnd}var re;if(v==this.dom&&this.contentDOM)re=k>be(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))re=v.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(k==0)for(var ge=v;;ge=ge.parentNode){if(ge==this.dom){re=!1;break}if(ge.previousSibling)break}if(re==null&&k==v.childNodes.length)for(var De=v;;De=De.parentNode){if(De==this.dom){re=!0;break}if(De.nextSibling)break}}return re??E>0?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(v){for(var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=!0,D=v;D;D=D.parentNode){var _=this.getDesc(D),Q=void 0;if(_&&(!k||_.node))if(E&&(Q=_.nodeDOM)&&!(Q.nodeType==1?Q.contains(v.nodeType==1?v:v.parentNode):Q==v))E=!1;else return _}}},{key:"getDesc",value:function(v){for(var k=v.pmViewDesc,E=k;E;E=E.parent)if(E==this)return k}},{key:"posFromDOM",value:function(v,k,E){for(var D=v;D;D=D.parentNode){var _=this.getDesc(D);if(_)return _.localPosFromDOM(v,k,E)}return-1}},{key:"descAt",value:function(v){for(var k=0,E=0;k<this.children.length;k++){var D=this.children[k],_=E+D.size;if(E==v&&_!=E){for(;!D.border&&D.children.length;)for(var Q=0;Q<D.children.length;Q++){var j=D.children[Q];if(j.size){D=j;break}}return D}if(v<_)return D.descAt(v-E-D.border);E=_}}},{key:"domFromPos",value:function(v,k){if(!this.contentDOM)return{node:this.dom,offset:0,atom:v+1};for(var E=0,D=0,_=0;E<this.children.length;E++){var Q=this.children[E],j=_+Q.size;if(j>v||Q instanceof Y){D=v-_;break}_=j}if(D)return this.children[E].domFromPos(D-this.children[E].border,k);for(var re;E&&!(re=this.children[E-1]).size&&re instanceof Lt&&re.side>=0;E--);if(k<=0){for(var ge,De=!0;ge=E?this.children[E-1]:null,!(!ge||ge.dom.parentNode==this.contentDOM);E--,De=!1);return ge&&k&&De&&!ge.border&&!ge.domAtom?ge.domFromPos(ge.size,k):{node:this.contentDOM,offset:ge?be(ge.dom)+1:0}}else{for(var Se,Qe=!0;Se=E<this.children.length?this.children[E]:null,!(!Se||Se.dom.parentNode==this.contentDOM);E++,Qe=!1);return Se&&Qe&&!Se.border&&!Se.domAtom?Se.domFromPos(0,k):{node:this.contentDOM,offset:Se?be(Se.dom):this.contentDOM.childNodes.length}}}},{key:"parseRange",value:function(v,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.children.length==0)return{node:this.contentDOM,from:v,to:k,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var D=-1,_=-1,Q=E,j=0;;j++){var re=this.children[j],ge=Q+re.size;if(D==-1&&v<=ge){var De=Q+re.border;if(v>=De&&k<=ge-re.border&&re.node&&re.contentDOM&&this.contentDOM.contains(re.contentDOM))return re.parseRange(v,k,De);v=Q;for(var Se=j;Se>0;Se--){var Qe=this.children[Se-1];if(Qe.size&&Qe.dom.parentNode==this.contentDOM&&!Qe.emptyChildAt(1)){D=be(Qe.dom)+1;break}v-=Qe.size}D==-1&&(D=0)}if(D>-1&&(ge>k||j==this.children.length-1)){k=ge;for(var Ke=j+1;Ke<this.children.length;Ke++){var ht=this.children[Ke];if(ht.size&&ht.dom.parentNode==this.contentDOM&&!ht.emptyChildAt(-1)){_=be(ht.dom);break}k+=ht.size}_==-1&&(_=this.contentDOM.childNodes.length);break}Q=ge}return{node:this.contentDOM,from:v,to:k,fromOffset:D,toOffset:_}}},{key:"emptyChildAt",value:function(v){if(this.border||!this.contentDOM||!this.children.length)return!1;var k=this.children[v<0?0:this.children.length-1];return k.size==0||k.emptyChildAt(v)}},{key:"domAfterPos",value:function(v){var k=this.domFromPos(v,0),E=k.node,D=k.offset;if(E.nodeType!=1||D==E.childNodes.length)throw new RangeError("No node after pos "+v);return E.childNodes[D]}},{key:"setSelection",value:function(v,k,E){for(var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,_=Math.min(v,k),Q=Math.max(v,k),j=0,re=0;j<this.children.length;j++){var ge=this.children[j],De=re+ge.size;if(_>re&&Q<De)return ge.setSelection(v-re-ge.border,k-re-ge.border,E,D);re=De}var Se=this.domFromPos(v,v?-1:1),Qe=k==v?Se:this.domFromPos(k,k?-1:1),Ke=E.root.getSelection(),ht=E.domSelectionRange(),xt=!1;if(($t||sr)&&v==k){var it=Se,Ht=it.node,Bt=it.offset;if(Ht.nodeType==3){if(xt=!!(Bt&&Ht.nodeValue[Bt-1]==`
`),xt&&Bt==Ht.nodeValue.length)for(var Zt=Ht,yr;Zt;Zt=Zt.parentNode){if(yr=Zt.nextSibling){yr.nodeName=="BR"&&(Se=Qe={node:yr.parentNode,offset:be(yr)+1});break}var Br=Zt.pmViewDesc;if(Br&&Br.node&&Br.node.isBlock)break}}else{var on=Ht.childNodes[Bt-1];xt=on&&(on.nodeName=="BR"||on.contentEditable=="false")}}if($t&&ht.focusNode&&ht.focusNode!=Qe.node&&ht.focusNode.nodeType==1){var Bi=ht.focusNode.childNodes[ht.focusOffset];Bi&&Bi.contentEditable=="false"&&(D=!0)}if(!(!(D||xt&&sr)&&at(Se.node,Se.offset,ht.anchorNode,ht.anchorOffset)&&at(Qe.node,Qe.offset,ht.focusNode,ht.focusOffset))){var mn=!1;if((Ke.extend||v==k)&&!xt){Ke.collapse(Se.node,Se.offset);try{v!=k&&Ke.extend(Qe.node,Qe.offset),mn=!0}catch{}}if(!mn){if(v>k){var ii=Se;Se=Qe,Qe=ii}var sn=document.createRange();sn.setEnd(Qe.node,Qe.offset),sn.setStart(Se.node,Se.offset),Ke.removeAllRanges(),Ke.addRange(sn)}}}},{key:"ignoreMutation",value:function(v){return!this.contentDOM&&v.type!="selection"}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(v,k){for(var E=0,D=0;D<this.children.length;D++){var _=this.children[D],Q=E+_.size;if(E==Q?v<=Q&&k>=E:v<Q&&k>E){var j=E+_.border,re=Q-_.border;if(v>=j&&k<=re){this.dirty=v==E||k==Q?Re:ce,v==j&&k==re&&(_.contentLost||_.dom.parentNode!=this.contentDOM)?_.dirty=Ve:_.markDirty(v-j,k-j);return}else _.dirty=_.dom==_.contentDOM&&_.dom.parentNode==this.contentDOM&&!_.children.length?Re:Ve}E=Q}this.dirty=Re}},{key:"markParentsDirty",value:function(){for(var v=1,k=this.parent;k;k=k.parent,v++){var E=v==1?Re:ce;k.dirty<E&&(k.dirty=E)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}},{key:"isText",value:function(v){return!1}}]),m}(),Lt=function(m){u(v,m);var S=h(v);function v(k,E,D,_){var Q;R(this,v);var j,re=E.type.toDOM;if(typeof re=="function"&&(re=re(D,function(){if(!j)return _;if(j.parent)return j.parent.posBeforeChild(j)})),!E.type.spec.raw){if(re.nodeType!=1){var ge=document.createElement("span");ge.appendChild(re),re=ge}re.contentEditable="false",re.classList.add("ProseMirror-widget")}return Q=S.call(this,k,[],re,null),Q.widget=E,Q.widget=E,j=g(Q),Q}return U(v,[{key:"matchesWidget",value:function(E){return this.dirty==me&&E.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(E){var D=this.widget.spec.stopEvent;return D?D(E):!1}},{key:"ignoreMutation",value:function(E){return E.type!="selection"||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),s(T(v.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"side",get:function(){return this.widget.type.side}}]),v}(ut),V=function(m){u(v,m);var S=h(v);function v(k,E,D,_){var Q;return R(this,v),Q=S.call(this,k,[],E,null),Q.textDOM=D,Q.text=_,Q}return U(v,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(E,D){return E!=this.textDOM?this.posAtStart+(D?this.size:0):this.posAtStart+D}},{key:"domFromPos",value:function(E){return{node:this.textDOM,offset:E}}},{key:"ignoreMutation",value:function(E){return E.type==="characterData"&&E.target.nodeValue==E.oldValue}}]),v}(ut),$=function(m){u(v,m);var S=h(v);function v(k,E,D,_,Q){var j;return R(this,v),j=S.call(this,k,[],D,_),j.mark=E,j.spec=Q,j}return U(v,[{key:"parseRule",value:function(){return this.dirty&Ve||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}},{key:"matchesMark",value:function(E){return this.dirty!=Ve&&this.mark.eq(E)}},{key:"markDirty",value:function(E,D){if(s(T(v.prototype),"markDirty",this).call(this,E,D),this.dirty!=me){for(var _=this.parent;!_.node;)_=_.parent;_.dirty<this.dirty&&(_.dirty=this.dirty),this.dirty=me}}},{key:"slice",value:function(E,D,_){var Q=v.create(this.parent,this.mark,!0,_),j=this.children,re=this.size;D<re&&(j=ta(j,D,re,_)),E>0&&(j=ta(j,0,E,_));for(var ge=0;ge<j.length;ge++)j[ge].parent=Q;return Q.children=j,Q}},{key:"ignoreMutation",value:function(E){return this.spec.ignoreMutation?this.spec.ignoreMutation(E):s(T(v.prototype),"ignoreMutation",this).call(this,E)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),s(T(v.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(E,D,_,Q){var j=Q.nodeViews[D.type.name],re=j&&j(D,Q,_);return(!re||!re.dom)&&(re=le.DOMSerializer.renderSpec(document,D.type.spec.toDOM(D,_),null,D.attrs)),new v(E,D,re.dom,re.contentDOM||re.dom,re)}}]),v}(ut),x=function(m){u(v,m);var S=h(v);function v(k,E,D,_,Q,j,re,ge,De){var Se;return R(this,v),Se=S.call(this,k,[],Q,j),Se.node=E,Se.outerDeco=D,Se.innerDeco=_,Se.nodeDOM=re,Se}return U(v,[{key:"parseRule",value:function(){var E=this;if(this.node.type.spec.reparseInView)return null;var D={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(D.preserveWhitespace="full"),!this.contentDOM)D.getContent=function(){return E.node.content};else if(!this.contentLost)D.contentElement=this.contentDOM;else{for(var _=this.children.length-1;_>=0;_--){var Q=this.children[_];if(this.dom.contains(Q.dom.parentNode)){D.contentElement=Q.dom.parentNode;break}}D.contentElement||(D.getContent=function(){return le.Fragment.empty})}return D}},{key:"matchesNode",value:function(E,D,_){return this.dirty==me&&E.eq(this.node)&&wr(D,this.outerDeco)&&_.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(E,D){var _=this,Q=this.node.inlineContent,j=D,re=E.composing?this.localCompositionInfo(E,D):null,ge=re&&re.pos>-1?re:null,De=re&&re.pos<0,Se=new ea(this,ge&&ge.node,E);cu(this.node,this.innerDeco,function(Qe,Ke,ht){Qe.spec.marks?Se.syncToMarks(Qe.spec.marks,Q,E):Qe.type.side>=0&&!ht&&Se.syncToMarks(Ke==_.node.childCount?le.Mark.none:_.node.child(Ke).marks,Q,E),Se.placeWidget(Qe,E,j)},function(Qe,Ke,ht,xt){Se.syncToMarks(Qe.marks,Q,E);var it;Se.findNodeMatch(Qe,Ke,ht,xt)||De&&E.state.selection.from>j&&E.state.selection.to<j+Qe.nodeSize&&(it=Se.findIndexWithChild(re.node))>-1&&Se.updateNodeAt(Qe,Ke,ht,it,E)||Se.updateNextNode(Qe,Ke,ht,E,xt,j)||Se.addNode(Qe,Ke,ht,E,j),j+=Qe.nodeSize}),Se.syncToMarks([],Q,E),this.node.isTextblock&&Se.addTextblockHacks(),Se.destroyRest(),(Se.changed||this.dirty==Re)&&(ge&&this.protectLocalComposition(E,ge),de(this.contentDOM,this.children,E),un&&Ol(this.dom))}},{key:"localCompositionInfo",value:function(E,D){var _=E.state.selection,Q=_.from,j=_.to;if(!(E.state.selection instanceof ee.TextSelection)||Q<D||j>D+this.node.content.size)return null;var re=E.input.compositionNode;if(!re||!this.dom.contains(re.parentNode))return null;if(this.node.inlineContent){var ge=re.nodeValue,De=Jo(this.node.content,ge,Q-D,j-D);return De<0?null:{node:re,pos:De,text:ge}}else return{node:re,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(E,D){var _=D.node,Q=D.pos,j=D.text;if(!this.getDesc(_)){for(var re=_;re.parentNode!=this.contentDOM;re=re.parentNode){for(;re.previousSibling;)re.parentNode.removeChild(re.previousSibling);for(;re.nextSibling;)re.parentNode.removeChild(re.nextSibling);re.pmViewDesc&&(re.pmViewDesc=void 0)}var ge=new V(this,re,_,j);E.input.compositionNodes.push(ge),this.children=ta(this.children,Q,Q+j.length,E,ge)}}},{key:"update",value:function(E,D,_,Q){return this.dirty==Ve||!E.sameMarkup(this.node)?!1:(this.updateInner(E,D,_,Q),!0)}},{key:"updateInner",value:function(E,D,_,Q){this.updateOuterDeco(D),this.node=E,this.innerDeco=_,this.contentDOM&&this.updateChildren(Q,this.posAtStart),this.dirty=me}},{key:"updateOuterDeco",value:function(E){if(!wr(E,this.outerDeco)){var D=this.nodeDOM.nodeType!=1,_=this.dom;this.dom=rt(this.dom,this.nodeDOM,tt(this.outerDeco,this.node,D),tt(E,this.node,D)),this.dom!=_&&(_.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=E}}},{key:"selectNode",value:function(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}},{key:"deselectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(E,D,_,Q,j,re){var ge=j.nodeViews[D.type.name],De,Se=ge&&ge(D,j,function(){if(!De)return re;if(De.parent)return De.parent.posBeforeChild(De)},_,Q),Qe=Se&&Se.dom,Ke=Se&&Se.contentDOM;if(D.isText){if(!Qe)Qe=document.createTextNode(D.text);else if(Qe.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else if(!Qe){var ht=le.DOMSerializer.renderSpec(document,D.type.spec.toDOM(D),null,D.attrs);Qe=ht.dom,Ke=ht.contentDOM}!Ke&&!D.isText&&Qe.nodeName!="BR"&&(Qe.hasAttribute("contenteditable")||(Qe.contentEditable="false"),D.type.spec.draggable&&(Qe.draggable=!0));var xt=Qe;return Qe=zt(Qe,_,D),Se?De=new ae(E,D,_,Q,Qe,Ke||null,xt,Se,j,re+1):D.isText?new I(E,D,_,Q,Qe,xt,j):new v(E,D,_,Q,Qe,Ke||null,xt)}}]),v}(ut);function A(m,S,v,k,E){zt(k,S,m);var D=new x(void 0,m,S,v,k,k,k,E,0);return D.contentDOM&&D.updateChildren(E,0),D}var I=function(m){u(v,m);var S=h(v);function v(k,E,D,_,Q,j,re){return R(this,v),S.call(this,k,E,D,_,Q,null,j,re,0)}return U(v,[{key:"parseRule",value:function(){for(var E=this.nodeDOM.parentNode;E&&E!=this.dom&&!E.pmIsDeco;)E=E.parentNode;return{skip:E||!0}}},{key:"update",value:function(E,D,_,Q){return this.dirty==Ve||this.dirty!=me&&!this.inParent()||!E.sameMarkup(this.node)?!1:(this.updateOuterDeco(D),(this.dirty!=me||E.text!=this.node.text)&&E.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=E.text,Q.trackWrites==this.nodeDOM&&(Q.trackWrites=null)),this.node=E,this.dirty=me,!0)}},{key:"inParent",value:function(){for(var E=this.parent.contentDOM,D=this.nodeDOM;D;D=D.parentNode)if(D==E)return!0;return!1}},{key:"domFromPos",value:function(E){return{node:this.nodeDOM,offset:E}}},{key:"localPosFromDOM",value:function(E,D,_){return E==this.nodeDOM?this.posAtStart+Math.min(D,this.node.text.length):s(T(v.prototype),"localPosFromDOM",this).call(this,E,D,_)}},{key:"ignoreMutation",value:function(E){return E.type!="characterData"&&E.type!="selection"}},{key:"slice",value:function(E,D,_){var Q=this.node.cut(E,D),j=document.createTextNode(Q.text);return new v(this.parent,Q,this.outerDeco,this.innerDeco,j,j,_)}},{key:"markDirty",value:function(E,D){s(T(v.prototype),"markDirty",this).call(this,E,D),this.dom!=this.nodeDOM&&(E==0||D==this.nodeDOM.nodeValue.length)&&(this.dirty=Ve)}},{key:"domAtom",get:function(){return!1}},{key:"isText",value:function(E){return this.node.text==E}}]),v}(x),Y=function(m){u(v,m);var S=h(v);function v(){return R(this,v),S.apply(this,arguments)}return U(v,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(E){return this.dirty==me&&this.dom.nodeName==E}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return this.dom.nodeName=="IMG"}}]),v}(ut),ae=function(m){u(v,m);var S=h(v);function v(k,E,D,_,Q,j,re,ge,De,Se){var Qe;return R(this,v),Qe=S.call(this,k,E,D,_,Q,j,re,De,Se),Qe.spec=ge,Qe}return U(v,[{key:"update",value:function(E,D,_,Q){if(this.dirty==Ve)return!1;if(this.spec.update&&(this.node.type==E.type||this.spec.multiType)){var j=this.spec.update(E,D,_);return j&&this.updateInner(E,D,_,Q),j}else return!this.contentDOM&&!E.isLeaf?!1:s(T(v.prototype),"update",this).call(this,E,D,_,Q)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():s(T(v.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():s(T(v.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(E,D,_,Q){this.spec.setSelection?this.spec.setSelection(E,D,_.root):s(T(v.prototype),"setSelection",this).call(this,E,D,_,Q)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),s(T(v.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(E){return this.spec.stopEvent?this.spec.stopEvent(E):!1}},{key:"ignoreMutation",value:function(E){return this.spec.ignoreMutation?this.spec.ignoreMutation(E):s(T(v.prototype),"ignoreMutation",this).call(this,E)}}]),v}(x);function de(m,S,v){for(var k=m.firstChild,E=!1,D=0;D<S.length;D++){var _=S[D],Q=_.dom;if(Q.parentNode==m){for(;Q!=k;)k=Gr(k),E=!0;k=k.nextSibling}else E=!0,m.insertBefore(Q,k);if(_ instanceof $){var j=k?k.previousSibling:m.lastChild;de(_.contentDOM,_.children,v),k=j?j.nextSibling:m.firstChild}}for(;k;)k=Gr(k),E=!0;E&&v.trackWrites==m&&(v.trackWrites=null)}var Ae=function(S){S&&(this.nodeName=S)};Ae.prototype=Object.create(null);var Ne=[new Ae];function tt(m,S,v){if(m.length==0)return Ne;for(var k=v?Ne[0]:new Ae,E=[k],D=0;D<m.length;D++){var _=m[D].type.attrs;if(_){_.nodeName&&E.push(k=new Ae(_.nodeName));for(var Q in _){var j=_[Q];j!=null&&(v&&E.length==1&&E.push(k=new Ae(S.isInline?"span":"div")),Q=="class"?k.class=(k.class?k.class+" ":"")+j:Q=="style"?k.style=(k.style?k.style+";":"")+j:Q!="nodeName"&&(k[Q]=j))}}}return E}function rt(m,S,v,k){if(v==Ne&&k==Ne)return S;for(var E=S,D=0;D<k.length;D++){var _=k[D],Q=v[D];if(D){var j=void 0;Q&&Q.nodeName==_.nodeName&&E!=m&&(j=E.parentNode)&&j.nodeName.toLowerCase()==_.nodeName||(j=document.createElement(_.nodeName),j.pmIsDeco=!0,j.appendChild(E),Q=Ne[0]),E=j}mt(E,Q||Ne[0],_)}return E}function mt(m,S,v){for(var k in S)k!="class"&&k!="style"&&k!="nodeName"&&!(k in v)&&m.removeAttribute(k);for(var E in v)E!="class"&&E!="style"&&E!="nodeName"&&v[E]!=S[E]&&m.setAttribute(E,v[E]);if(S.class!=v.class){for(var D=S.class?S.class.split(" ").filter(Boolean):[],_=v.class?v.class.split(" ").filter(Boolean):[],Q=0;Q<D.length;Q++)_.indexOf(D[Q])==-1&&m.classList.remove(D[Q]);for(var j=0;j<_.length;j++)D.indexOf(_[j])==-1&&m.classList.add(_[j]);m.classList.length==0&&m.removeAttribute("class")}if(S.style!=v.style){if(S.style)for(var re=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,ge;ge=re.exec(S.style);)m.style.removeProperty(ge[1]);v.style&&(m.style.cssText+=v.style)}}function zt(m,S,v){return rt(m,m,Ne,tt(S,v,m.nodeType!=1))}function wr(m,S){if(m.length!=S.length)return!1;for(var v=0;v<m.length;v++)if(!m[v].type.eq(S[v].type))return!1;return!0}function Gr(m){var S=m.nextSibling;return m.parentNode.removeChild(m),S}var ea=function(){function m(S,v,k){R(this,m),this.lock=v,this.view=k,this.index=0,this.stack=[],this.changed=!1,this.top=S,this.preMatch=ko(S.node.content,S)}return U(m,[{key:"destroyBetween",value:function(v,k){if(v!=k){for(var E=v;E<k;E++)this.top.children[E].destroy();this.top.children.splice(v,k-v),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(v,k,E){for(var D=0,_=this.stack.length>>1,Q=Math.min(_,v.length);D<Q&&(D==_-1?this.top:this.stack[D+1<<1]).matchesMark(v[D])&&v[D].type.spec.spanning!==!1;)D++;for(;D<_;)this.destroyRest(),this.top.dirty=me,this.index=this.stack.pop(),this.top=this.stack.pop(),_--;for(;_<v.length;){this.stack.push(this.top,this.index+1);for(var j=-1,re=this.index;re<Math.min(this.index+3,this.top.children.length);re++){var ge=this.top.children[re];if(ge.matchesMark(v[_])&&!this.isLocked(ge.dom)){j=re;break}}if(j>-1)j>this.index&&(this.changed=!0,this.destroyBetween(this.index,j)),this.top=this.top.children[this.index];else{var De=$.create(this.top,v[_],k,E);this.top.children.splice(this.index,0,De),this.top=De,this.changed=!0}this.index=0,_++}}},{key:"findNodeMatch",value:function(v,k,E,D){var _=-1,Q;if(D>=this.preMatch.index&&(Q=this.preMatch.matches[D-this.preMatch.index]).parent==this.top&&Q.matchesNode(v,k,E))_=this.top.children.indexOf(Q,this.index);else for(var j=this.index,re=Math.min(this.top.children.length,j+5);j<re;j++){var ge=this.top.children[j];if(ge.matchesNode(v,k,E)&&!this.preMatch.matched.has(ge)){_=j;break}}return _<0?!1:(this.destroyBetween(this.index,_),this.index++,!0)}},{key:"updateNodeAt",value:function(v,k,E,D,_){var Q=this.top.children[D];return Q.dirty==Ve&&Q.dom==Q.contentDOM&&(Q.dirty=Re),Q.update(v,k,E,_)?(this.destroyBetween(this.index,D),this.index++,!0):!1}},{key:"findIndexWithChild",value:function(v){for(;;){var k=v.parentNode;if(!k)return-1;if(k==this.top.contentDOM){var E=v.pmViewDesc;if(E){for(var D=this.index;D<this.top.children.length;D++)if(this.top.children[D]==E)return D}return-1}v=k}}},{key:"updateNextNode",value:function(v,k,E,D,_,Q){for(var j=this.index;j<this.top.children.length;j++){var re=this.top.children[j];if(re instanceof x){var ge=this.preMatch.matched.get(re);if(ge!=null&&ge!=_)return!1;var De=re.dom,Se=void 0,Qe=this.isLocked(De)&&!(v.isText&&re.node&&re.node.isText&&re.nodeDOM.nodeValue==v.text&&re.dirty!=Ve&&wr(k,re.outerDeco));if(!Qe&&re.update(v,k,E,D))return this.destroyBetween(this.index,j),re.dom!=De&&(this.changed=!0),this.index++,!0;if(!Qe&&(Se=this.recreateWrapper(re,v,k,E,D,Q)))return this.destroyBetween(this.index,j),this.top.children[this.index]=Se,Se.contentDOM&&(Se.dirty=Re,Se.updateChildren(D,Q+1),Se.dirty=me),this.changed=!0,this.index++,!0;break}}return!1}},{key:"recreateWrapper",value:function(v,k,E,D,_,Q){if(v.dirty||k.isAtom||!v.children.length||!v.node.content.eq(k.content)||!wr(E,v.outerDeco)||!D.eq(v.innerDeco))return null;var j=x.create(this.top,k,E,D,_,Q);if(j.contentDOM){j.children=v.children,v.children=[];var re=i(j.children),ge;try{for(re.s();!(ge=re.n()).done;){var De=ge.value;De.parent=j}}catch(Se){re.e(Se)}finally{re.f()}}return v.destroy(),j}},{key:"addNode",value:function(v,k,E,D,_){var Q=x.create(this.top,v,k,E,D,_);Q.contentDOM&&Q.updateChildren(D,_+1),this.top.children.splice(this.index++,0,Q),this.changed=!0}},{key:"placeWidget",value:function(v,k,E){var D=this.index<this.top.children.length?this.top.children[this.index]:null;if(D&&D.matchesWidget(v)&&(v==D.widget||!D.widget.type.toDOM.parentNode))this.index++;else{var _=new Lt(this.top,v,k,E);this.top.children.splice(this.index++,0,_),this.changed=!0}}},{key:"addTextblockHacks",value:function(){for(var v=this.top.children[this.index-1],k=this.top;v instanceof $;)k=v,v=k.children[k.children.length-1];(!v||!(v instanceof I)||/\n$/.test(v.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(v.node.text))&&((sr||Yt)&&v&&v.dom.contentEditable=="false"&&this.addHackNode("IMG",k),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(v,k){if(k==this.top&&this.index<k.children.length&&k.children[this.index].matchesHack(v))this.index++;else{var E=document.createElement(v);v=="IMG"&&(E.className="ProseMirror-separator",E.alt=""),v=="BR"&&(E.className="ProseMirror-trailingBreak");var D=new Y(this.top,[],E,null);k!=this.top?k.children.push(D):k.children.splice(this.index++,0,D),this.changed=!0}}},{key:"isLocked",value:function(v){return this.lock&&(v==this.lock||v.nodeType==1&&v.contains(this.lock.parentNode))}}]),m}();function ko(m,S){var v=S,k=v.children.length,E=m.childCount,D=new Map,_=[];e:for(;E>0;){for(var Q=void 0;;)if(k){var j=v.children[k-1];if(j instanceof $)v=j,k=j.children.length;else{Q=j,k--;break}}else{if(v==S)break e;k=v.parent.children.indexOf(v),v=v.parent}var re=Q.node;if(re){if(re!=m.child(E-1))break;--E,D.set(Q,E),_.push(Q)}}return{index:E,matched:D,matches:_.reverse()}}function Ko(m,S){return m.type.side-S.type.side}function cu(m,S,v,k){var E=S.locals(m),D=0;if(E.length==0){for(var _=0;_<m.childCount;_++){var Q=m.child(_);k(Q,E,S.forChild(D,Q),_),D+=Q.nodeSize}return}for(var j=0,re=[],ge=null,De=0;;){for(var Se=void 0,Qe=void 0;j<E.length&&E[j].to==D;){var Ke=E[j++];Ke.widget&&(Se?(Qe||(Qe=[Se])).push(Ke):Se=Ke)}if(Se)if(Qe){Qe.sort(Ko);for(var ht=0;ht<Qe.length;ht++)v(Qe[ht],De,!!ge)}else v(Se,De,!!ge);var xt=void 0,it=void 0;if(ge)it=-1,xt=ge,ge=null;else if(De<m.childCount)it=De,xt=m.child(De++);else break;for(var Ht=0;Ht<re.length;Ht++)re[Ht].to<=D&&re.splice(Ht--,1);for(;j<E.length&&E[j].from<=D&&E[j].to>D;)re.push(E[j++]);var Bt=D+xt.nodeSize;if(xt.isText){var Zt=Bt;j<E.length&&E[j].from<Zt&&(Zt=E[j].from);for(var yr=0;yr<re.length;yr++)re[yr].to<Zt&&(Zt=re[yr].to);Zt<Bt&&(ge=xt.cut(Zt-D),xt=xt.cut(0,Zt-D),Bt=Zt,it=-1)}else for(;j<E.length&&E[j].to<Bt;)j++;var Br=xt.isInline&&!xt.isLeaf?re.filter(function(on){return!on.inline}):re.slice();k(xt,Br,S.forChild(D,xt),it),D=Bt}}function Ol(m){if(m.nodeName=="UL"||m.nodeName=="OL"){var S=m.style.cssText;m.style.cssText=S+"; list-style: square !important",window.getComputedStyle(m).listStyle,m.style.cssText=S}}function Jo(m,S,v,k){for(var E=0,D=0;E<m.childCount&&D<=k;){var _=m.child(E++),Q=D;if(D+=_.nodeSize,!!_.isText){for(var j=_.text;E<m.childCount;){var re=m.child(E++);if(D+=re.nodeSize,!re.isText)break;j+=re.text}if(D>=v){if(D>=k&&j.slice(k-S.length-Q,k-Q)==S)return k-S.length;var ge=Q<k?j.lastIndexOf(S,k-Q-1):-1;if(ge>=0&&ge+S.length+Q>=v)return Q+ge;if(v==k&&j.length>=k+S.length-Q&&j.slice(k-Q,k-Q+S.length)==S)return k}}}return-1}function ta(m,S,v,k,E){for(var D=[],_=0,Q=0;_<m.length;_++){var j=m[_],re=Q,ge=Q+=j.size;re>=v||ge<=S?D.push(j):(re<S&&D.push(j.slice(0,S-re,k)),E&&(D.push(E),E=void 0),ge>v&&D.push(j.slice(v-re,j.size,k)))}return D}function za(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=m.domSelectionRange(),k=m.state.doc;if(!v.focusNode)return null;var E=m.docView.nearestDesc(v.focusNode),D=E&&E.size==0,_=m.docView.posFromDOM(v.focusNode,v.focusOffset,1);if(_<0)return null;var Q=k.resolve(_),j,re;if(Pt(v)){for(j=_;E&&!E.node;)E=E.parent;var ge=E.node;if(E&&ge.isAtom&&ee.NodeSelection.isSelectable(ge)&&E.parent&&!(ge.isInline&&bt(v.focusNode,v.focusOffset,E.dom))){var De=E.posBefore;re=new ee.NodeSelection(_==De?Q:k.resolve(De))}}else{if(v instanceof m.dom.ownerDocument.defaultView.Selection&&v.rangeCount>1){for(var Se=_,Qe=_,Ke=0;Ke<v.rangeCount;Ke++){var ht=v.getRangeAt(Ke);Se=Math.min(Se,m.docView.posFromDOM(ht.startContainer,ht.startOffset,1)),Qe=Math.max(Qe,m.docView.posFromDOM(ht.endContainer,ht.endOffset,-1))}if(Se<0)return null;var xt=Qe==m.state.selection.anchor?[Qe,Se]:[Se,Qe],it=r(xt,2);j=it[0],_=it[1],Q=k.resolve(_)}else j=m.docView.posFromDOM(v.anchorNode,v.anchorOffset,1);if(j<0)return null}var Ht=k.resolve(j);if(!re){var Bt=S=="pointer"||m.state.selection.head<Q.pos&&!D?1:-1;re=ra(m,Ht,Q,Bt)}return re}function yl(m){return m.editable?m.hasFocus():fu(m)&&document.activeElement&&document.activeElement.contains(m.dom)}function mi(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=m.state.selection;if(es(m,v),!!yl(m)){if(!S&&m.input.mouseDown&&m.input.mouseDown.allowDefault&&Yt){var k=m.domSelectionRange(),E=m.domObserver.currentSelection;if(k.anchorNode&&E.anchorNode&&at(k.anchorNode,k.anchorOffset,E.anchorNode,E.anchorOffset)){m.input.mouseDown.delayedSelectionSync=!0,m.domObserver.setCurSelection();return}}if(m.domObserver.disconnectSelection(),m.cursorWrapper)Ha(m);else{var D=v.anchor,_=v.head,Q,j;bl&&!(v instanceof ee.TextSelection)&&(v.$from.parent.inlineContent||(Q=wl(m,v.from)),!v.empty&&!v.$from.parent.inlineContent&&(j=wl(m,v.to))),m.docView.setSelection(D,_,m,S),bl&&(Q&&_s(Q),j&&_s(j)),v.visible?m.dom.classList.remove("ProseMirror-hideselection"):(m.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Is(m))}m.domObserver.setCurSelection(),m.domObserver.connectSelection()}}var bl=sr||Yt&&Cr<63;function wl(m,S){var v=m.docView.domFromPos(S,0),k=v.node,E=v.offset,D=E<k.childNodes.length?k.childNodes[E]:null,_=E?k.childNodes[E-1]:null;if(sr&&D&&D.contentEditable=="false")return Ls(D);if((!D||D.contentEditable=="false")&&(!_||_.contentEditable=="false")){if(D)return Ls(D);if(_)return Ls(_)}}function Ls(m){return m.contentEditable="true",sr&&m.draggable&&(m.draggable=!1,m.wasDraggable=!0),m}function _s(m){m.contentEditable="false",m.wasDraggable&&(m.draggable=!0,m.wasDraggable=null)}function Is(m){var S=m.dom.ownerDocument;S.removeEventListener("selectionchange",m.input.hideSelectionGuard);var v=m.domSelectionRange(),k=v.anchorNode,E=v.anchorOffset;S.addEventListener("selectionchange",m.input.hideSelectionGuard=function(){(v.anchorNode!=k||v.anchorOffset!=E)&&(S.removeEventListener("selectionchange",m.input.hideSelectionGuard),setTimeout(function(){(!yl(m)||m.state.selection.visible)&&m.dom.classList.remove("ProseMirror-hideselection")},20))})}function Ha(m){var S=m.domSelection(),v=document.createRange();if(S){var k=m.cursorWrapper.dom,E=k.nodeName=="IMG";E?v.setStart(k.parentNode,be(k)+1):v.setStart(k,0),v.collapse(!0),S.removeAllRanges(),S.addRange(v),!E&&!m.state.selection.visible&&Ze&&st<=11&&(k.disabled=!0,k.disabled=!1)}}function es(m,S){if(S instanceof ee.NodeSelection){var v=m.docView.descAt(S.from);v!=m.lastSelectedViewDesc&&(ts(m),v&&v.selectNode(),m.lastSelectedViewDesc=v)}else ts(m)}function ts(m){m.lastSelectedViewDesc&&(m.lastSelectedViewDesc.parent&&m.lastSelectedViewDesc.deselectNode(),m.lastSelectedViewDesc=void 0)}function ra(m,S,v,k){return m.someProp("createSelectionBetween",function(E){return E(m,S,v)})||ee.TextSelection.between(S,v,k)}function So(m){return m.editable&&!m.hasFocus()?!1:fu(m)}function fu(m){var S=m.domSelectionRange();if(!S.anchorNode)return!1;try{return m.dom.contains(S.anchorNode.nodeType==3?S.anchorNode.parentNode:S.anchorNode)&&(m.editable||m.dom.contains(S.focusNode.nodeType==3?S.focusNode.parentNode:S.focusNode))}catch{return!1}}function xo(m){var S=m.docView.domFromPos(m.state.selection.anchor,0),v=m.domSelectionRange();return at(S.node,S.offset,v.anchorNode,v.anchorOffset)}function Wa(m,S){var v=m.selection,k=v.$anchor,E=v.$head,D=S>0?k.max(E):k.min(E),_=D.parent.inlineContent?D.depth?m.doc.resolve(S>0?D.after():D.before()):null:D;return _&&ee.Selection.findFrom(_,S)}function xa(m,S){return m.dispatch(m.state.tr.setSelection(S).scrollIntoView()),!0}function Qs(m,S,v){var k=m.state.selection;if(k instanceof ee.TextSelection)if(v.indexOf("s")>-1){var E=k.$head,D=E.textOffset?null:S<0?E.nodeBefore:E.nodeAfter;if(!D||D.isText||!D.isLeaf)return!1;var _=m.state.doc.resolve(E.pos+D.nodeSize*(S<0?-1:1));return xa(m,new ee.TextSelection(k.$anchor,_))}else if(k.empty){if(m.endOfTextblock(S>0?"forward":"backward")){var Q=Wa(m.state,S);return Q&&Q instanceof ee.NodeSelection?xa(m,Q):!1}else if(!(Zr&&v.indexOf("m")>-1)){var j=k.$head,re=j.textOffset?null:S<0?j.nodeBefore:j.nodeAfter,ge;if(!re||re.isText)return!1;var De=S<0?j.pos-re.nodeSize:j.pos;return re.isAtom||(ge=m.docView.descAt(De))&&!ge.contentDOM?ee.NodeSelection.isSelectable(re)?xa(m,new ee.NodeSelection(S<0?m.state.doc.resolve(j.pos-re.nodeSize):j)):tn?xa(m,new ee.TextSelection(m.state.doc.resolve(S<0?De:De+re.nodeSize))):!1:!1}}else return!1;else{if(k instanceof ee.NodeSelection&&k.node.isInline)return xa(m,new ee.TextSelection(S>0?k.$to:k.$from));var Se=Wa(m.state,S);return Se?xa(m,Se):!1}}function rs(m){return m.nodeType==3?m.nodeValue.length:m.childNodes.length}function Co(m,S){var v=m.pmViewDesc;return v&&v.size==0&&(S<0||m.nextSibling||m.nodeName!="BR")}function Ca(m,S){return S<0?hu(m):Cf(m)}function hu(m){var S=m.domSelectionRange(),v=S.focusNode,k=S.focusOffset;if(v){var E,D,_=!1;for($t&&v.nodeType==1&&k<rs(v)&&Co(v.childNodes[k],-1)&&(_=!0);;)if(k>0){if(v.nodeType!=1)break;var Q=v.childNodes[k-1];if(Co(Q,-1))E=v,D=--k;else if(Q.nodeType==3)v=Q,k=v.nodeValue.length;else break}else{if(Li(v))break;for(var j=v.previousSibling;j&&Co(j,-1);)E=v.parentNode,D=be(j),j=j.previousSibling;if(j)v=j,k=rs(v);else{if(v=v.parentNode,v==m.dom)break;k=0}}_?kl(m,v,k):E&&kl(m,E,D)}}function Cf(m){var S=m.domSelectionRange(),v=S.focusNode,k=S.focusOffset;if(v){for(var E=rs(v),D,_;;)if(k<E){if(v.nodeType!=1)break;var Q=v.childNodes[k];if(Co(Q,1))D=v,_=++k;else break}else{if(Li(v))break;for(var j=v.nextSibling;j&&Co(j,1);)D=j.parentNode,_=be(j)+1,j=j.nextSibling;if(j)v=j,k=0,E=rs(v);else{if(v=v.parentNode,v==m.dom)break;k=E=0}}D&&kl(m,D,_)}}function Li(m){var S=m.pmViewDesc;return S&&S.node&&S.node.isBlock}function dc(m,S){for(;m&&S==m.childNodes.length&&!Rt(m);)S=be(m)+1,m=m.parentNode;for(;m&&S<m.childNodes.length;){var v=m.childNodes[S];if(v.nodeType==3)return v;if(v.nodeType==1&&v.contentEditable=="false")break;m=v,S=0}}function pc(m,S){for(;m&&!S&&!Rt(m);)S=be(m),m=m.parentNode;for(;m&&S;){var v=m.childNodes[S-1];if(v.nodeType==3)return v;if(v.nodeType==1&&v.contentEditable=="false")break;m=v,S=m.childNodes.length}}function kl(m,S,v){if(S.nodeType!=3){var k,E;(E=dc(S,v))?(S=E,v=0):(k=pc(S,v))&&(S=k,v=k.nodeValue.length)}var D=m.domSelection();if(D){if(Pt(D)){var _=document.createRange();_.setEnd(S,v),_.setStart(S,v),D.removeAllRanges(),D.addRange(_)}else D.extend&&D.extend(S,v);m.domObserver.setCurSelection();var Q=m.state;setTimeout(function(){m.state==Q&&mi(m)},50)}}function mc(m,S){var v=m.state.doc.resolve(S);if(!(Yt||Lr)&&v.parent.inlineContent){var k=m.coordsAtPos(S);if(S>v.start()){var E=m.coordsAtPos(S-1),D=(E.top+E.bottom)/2;if(D>k.top&&D<k.bottom&&Math.abs(E.left-k.left)>1)return E.left<k.left?"ltr":"rtl"}if(S<v.end()){var _=m.coordsAtPos(S+1),Q=(_.top+_.bottom)/2;if(Q>k.top&&Q<k.bottom&&Math.abs(_.left-k.left)>1)return _.left>k.left?"ltr":"rtl"}}var j=getComputedStyle(m.dom).direction;return j=="rtl"?"rtl":"ltr"}function Ua(m,S,v){var k=m.state.selection;if(k instanceof ee.TextSelection&&!k.empty||v.indexOf("s")>-1||Zr&&v.indexOf("m")>-1)return!1;var E=k.$from,D=k.$to;if(!E.parent.inlineContent||m.endOfTextblock(S<0?"up":"down")){var _=Wa(m.state,S);if(_&&_ instanceof ee.NodeSelection)return xa(m,_)}if(!E.parent.inlineContent){var Q=S<0?E:D,j=k instanceof ee.AllSelection?ee.Selection.near(Q,S):ee.Selection.findFrom(Q,S);return j?xa(m,j):!1}return!1}function na(m,S){if(!(m.state.selection instanceof ee.TextSelection))return!0;var v=m.state.selection,k=v.$head,E=v.$anchor,D=v.empty;if(!k.sameParent(E))return!0;if(!D)return!1;if(m.endOfTextblock(S>0?"forward":"backward"))return!0;var _=!k.textOffset&&(S<0?k.nodeBefore:k.nodeAfter);if(_&&!_.isText){var Q=m.state.tr;return S<0?Q.delete(k.pos-_.nodeSize,k.pos):Q.delete(k.pos,k.pos+_.nodeSize),m.dispatch(Q),!0}return!1}function du(m,S,v){m.domObserver.stop(),S.contentEditable=v,m.domObserver.start()}function vc(m){if(!sr||m.state.selection.$head.parentOffset>0)return!1;var S=m.domSelectionRange(),v=S.focusNode,k=S.focusOffset;if(v&&v.nodeType==1&&k==0&&v.firstChild&&v.firstChild.contentEditable=="false"){var E=v.firstChild;du(m,E,"true"),setTimeout(function(){return du(m,E,"false")},20)}return!1}function gc(m){var S="";return m.ctrlKey&&(S+="c"),m.metaKey&&(S+="m"),m.altKey&&(S+="a"),m.shiftKey&&(S+="s"),S}function Tf(m,S){var v=S.keyCode,k=gc(S);if(v==8||Zr&&v==72&&k=="c")return na(m,-1)||Ca(m,-1);if(v==46&&!S.shiftKey||Zr&&v==68&&k=="c")return na(m,1)||Ca(m,1);if(v==13||v==27)return!0;if(v==37||Zr&&v==66&&k=="c"){var E=v==37?mc(m,m.state.selection.from)=="ltr"?-1:1:-1;return Qs(m,E,k)||Ca(m,E)}else if(v==39||Zr&&v==70&&k=="c"){var D=v==39?mc(m,m.state.selection.from)=="ltr"?1:-1:1;return Qs(m,D,k)||Ca(m,D)}else{if(v==38||Zr&&v==80&&k=="c")return Ua(m,-1,k)||Ca(m,-1);if(v==40||Zr&&v==78&&k=="c")return vc(m)||Ua(m,1,k)||Ca(m,1);if(k==(Zr?"m":"c")&&(v==66||v==73||v==89||v==90))return!0}return!1}function ft(m,S){m.someProp("transformCopied",function(it){S=it(S,m)});for(var v=[],k=S,E=k.content,D=k.openStart,_=k.openEnd;D>1&&_>1&&E.childCount==1&&E.firstChild.childCount==1;){D--,_--;var Q=E.firstChild;v.push(Q.type.name,Q.attrs!=Q.type.defaultAttrs?Q.attrs:null),E=Q.content}var j=m.someProp("clipboardSerializer")||le.DOMSerializer.fromSchema(m.state.schema),re=Sl(),ge=re.createElement("div");ge.appendChild(j.serializeFragment(E,{document:re}));for(var De=ge.firstChild,Se,Qe=0;De&&De.nodeType==1&&(Se=ns[De.nodeName.toLowerCase()]);){for(var Ke=Se.length-1;Ke>=0;Ke--){for(var ht=re.createElement(Se[Ke]);ge.firstChild;)ht.appendChild(ge.firstChild);ge.appendChild(ht),Qe++}De=ge.firstChild}De&&De.nodeType==1&&De.setAttribute("data-pm-slice","".concat(D," ").concat(_).concat(Qe?" -".concat(Qe):""," ").concat(JSON.stringify(v)));var xt=m.someProp("clipboardTextSerializer",function(it){return it(S,m)})||S.content.textBetween(0,S.content.size,`

`);return{dom:ge,text:xt,slice:S}}function Ce(m,S,v,k,E){var D=E.parent.type.spec.code,_,Q;if(!v&&!S)return null;var j=S&&(k||D||!v);if(j){if(m.someProp("transformPastedText",function(Br){S=Br(S,D||k,m)}),D)return S?new le.Slice(le.Fragment.from(m.state.schema.text(S.replace(/\r\n?/g,`
`))),0,0):le.Slice.empty;var re=m.someProp("clipboardTextParser",function(Br){return Br(S,E,k,m)});if(re)Q=re;else{var ge=E.marks(),De=m.state.schema,Se=le.DOMSerializer.fromSchema(De);_=document.createElement("div"),S.split(/(?:\r\n?|\n)+/).forEach(function(Br){var on=_.appendChild(document.createElement("p"));Br&&on.appendChild(Se.serializeNode(De.text(Br,ge)))})}}else m.someProp("transformPastedHTML",function(Br){v=Br(v,m)}),_=Ef(v),tn&&ia(_);var Qe=_&&_.querySelector("[data-pm-slice]"),Ke=Qe&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(Qe.getAttribute("data-pm-slice")||"");if(Ke&&Ke[3])for(var ht=+Ke[3];ht>0;ht--){for(var xt=_.firstChild;xt&&xt.nodeType!=1;)xt=xt.nextSibling;if(!xt)break;_=xt}if(!Q){var it=m.someProp("clipboardParser")||m.someProp("domParser")||le.DOMParser.fromSchema(m.state.schema);Q=it.parseSlice(_,{preserveWhitespace:!!(j||Ke),context:E,ruleFromNode:function(on){return on.nodeName=="BR"&&!on.nextSibling&&on.parentNode&&!lt.test(on.parentNode.nodeName)?{ignore:!0}:null}})}if(Ke)Q=Xh(_i(Q,+Ke[1],+Ke[2]),Ke[4]);else if(Q=le.Slice.maxOpen(Nt(Q.content,E),!0),Q.openStart||Q.openEnd){for(var Ht=0,Bt=0,Zt=Q.content.firstChild;Ht<Q.openStart&&!Zt.type.spec.isolating;Ht++,Zt=Zt.firstChild);for(var yr=Q.content.lastChild;Bt<Q.openEnd&&!yr.type.spec.isolating;Bt++,yr=yr.lastChild);Q=_i(Q,Ht,Bt)}return m.someProp("transformPasted",function(Br){Q=Br(Q,m)}),Q}var lt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Nt(m,S){if(m.childCount<2)return m;for(var v=function(){var _=S.node(E),Q=_.contentMatchAt(S.index(E)),j,re=[];if(m.forEach(function(ge){if(re){var De=Q.findWrapping(ge.type),Se;if(!De)return re=null;if(Se=re.length&&j.length&&Pn(De,j,ge,re[re.length-1],0))re[re.length-1]=Se;else{re.length&&(re[re.length-1]=Rn(re[re.length-1],j.length));var Qe=Rr(ge,De);re.push(Qe),Q=Q.matchType(Qe.type),j=De}}}),re)return{v:le.Fragment.from(re)}},k,E=S.depth;E>=0;E--)if(k=v(),k)return k.v;return m}function Rr(m,S){for(var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,k=S.length-1;k>=v;k--)m=S[k].create(null,le.Fragment.from(m));return m}function Pn(m,S,v,k,E){if(E<m.length&&E<S.length&&m[E]==S[E]){var D=Pn(m,S,v,k.lastChild,E+1);if(D)return k.copy(k.content.replaceChild(k.childCount-1,D));var _=k.contentMatchAt(k.childCount);if(_.matchType(E==m.length-1?v.type:m[E+1]))return k.copy(k.content.append(le.Fragment.from(Rr(v,m,E+1))))}}function Rn(m,S){if(S==0)return m;var v=m.content.replaceChild(m.childCount-1,Rn(m.lastChild,S-1)),k=m.contentMatchAt(m.childCount).fillBefore(le.Fragment.empty,!0);return m.copy(v.append(k))}function xn(m,S,v,k,E,D){var _=S<0?m.firstChild:m.lastChild,Q=_.content;return m.childCount>1&&(D=0),E<k-1&&(Q=xn(Q,S,v,k,E+1,D)),E>=v&&(Q=S<0?_.contentMatchAt(0).fillBefore(Q,D<=E).append(Q):Q.append(_.contentMatchAt(_.childCount).fillBefore(le.Fragment.empty,!0))),m.replaceChild(S<0?0:m.childCount-1,_.copy(Q))}function _i(m,S,v){return S<m.openStart&&(m=new le.Slice(xn(m.content,-1,S,m.openStart,0,m.openEnd),S,m.openEnd)),v<m.openEnd&&(m=new le.Slice(xn(m.content,1,v,m.openEnd,0,0),m.openStart,v)),m}var ns={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},bn=null;function Sl(){return bn||(bn=document.implementation.createHTMLDocument("title"))}var Xa=null;function Uh(m){var S=window.trustedTypes;return S?(Xa||(Xa=S.defaultPolicy||S.createPolicy("ProseMirrorClipboard",{createHTML:function(k){return k}})),Xa.createHTML(m)):m}function Ef(m){var S=/^(\s*<meta [^>]*>)*/.exec(m);S&&(m=m.slice(S[0].length));var v=Sl().createElement("div"),k=/<([a-z][^>\s]+)/i.exec(m),E;if((E=k&&ns[k[1].toLowerCase()])&&(m=E.map(function(_){return"<"+_+">"}).join("")+m+E.map(function(_){return"</"+_+">"}).reverse().join("")),v.innerHTML=Uh(m),E)for(var D=0;D<E.length;D++)v=v.querySelector(E[D])||v;return v}function ia(m){for(var S=m.querySelectorAll(Yt?"span:not([class]):not([style])":"span.Apple-converted-space"),v=0;v<S.length;v++){var k=S[v];k.childNodes.length==1&&k.textContent=="Â "&&k.parentNode&&k.parentNode.replaceChild(m.ownerDocument.createTextNode(" "),k)}}function Xh(m,S){if(!m.size)return m;var v=m.content.firstChild.type.schema,k;try{k=JSON.parse(S)}catch{return m}for(var E=m.content,D=m.openStart,_=m.openEnd,Q=k.length-2;Q>=0;Q-=2){var j=v.nodes[k[Q]];if(!j||j.hasRequiredAttrs())break;E=le.Fragment.from(j.create(k[Q+1],E)),D++,_++}return new le.Slice(E,D,_)}var ri={},ni={},jh={touchstart:!0,touchmove:!0},Yh=U(function m(){R(this,m),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null});function Gh(m){var S=function(){var E=ri[v];m.dom.addEventListener(v,m.input.eventHandlers[v]=function(D){Kh(m,D)&&!Mf(m,D)&&(m.editable||!(D.type in ni))&&E(m,D)},jh[v]?{passive:!0}:void 0)};for(var v in ri)S();sr&&m.dom.addEventListener("input",function(){return null}),xi(m)}function Cn(m,S){m.input.lastSelectionOrigin=S,m.input.lastSelectionTime=Date.now()}function hm(m){m.domObserver.stop();for(var S in m.input.eventHandlers)m.dom.removeEventListener(S,m.input.eventHandlers[S]);clearTimeout(m.input.composingTimeout),clearTimeout(m.input.lastIOSEnterFallbackTimeout)}function xi(m){m.someProp("handleDOMEvents",function(S){for(var v in S)m.input.eventHandlers[v]||m.dom.addEventListener(v,m.input.eventHandlers[v]=function(k){return Mf(m,k)})})}function Mf(m,S){return m.someProp("handleDOMEvents",function(v){var k=v[S.type];return k?k(m,S)||S.defaultPrevented:!1})}function Kh(m,S){if(!S.bubbles)return!0;if(S.defaultPrevented)return!1;for(var v=S.target;v!=m.dom;v=v.parentNode)if(!v||v.nodeType==11||v.pmViewDesc&&v.pmViewDesc.stopEvent(S))return!1;return!0}function is(m,S){!Mf(m,S)&&ri[S.type]&&(m.editable||!(S.type in ni))&&ri[S.type](m,S)}ni.keydown=function(m,S){var v=S;if(m.input.shiftKey=v.keyCode==16||v.shiftKey,!Jh(m,v)&&(m.input.lastKeyCode=v.keyCode,m.input.lastKeyCodeTime=Date.now(),!(pr&&Yt&&v.keyCode==13)))if(v.keyCode!=229&&m.domObserver.forceFlush(),un&&v.keyCode==13&&!v.ctrlKey&&!v.altKey&&!v.metaKey){var k=Date.now();m.input.lastIOSEnter=k,m.input.lastIOSEnterFallbackTimeout=setTimeout(function(){m.input.lastIOSEnter==k&&(m.someProp("handleKeyDown",function(E){return E(m,tr(13,"Enter"))}),m.input.lastIOSEnter=0)},200)}else m.someProp("handleKeyDown",function(E){return E(m,v)})||Tf(m,v)?v.preventDefault():Cn(m,"key")},ni.keyup=function(m,S){S.keyCode==16&&(m.input.shiftKey=!1)},ni.keypress=function(m,S){var v=S;if(!(Jh(m,v)||!v.charCode||v.ctrlKey&&!v.altKey||Zr&&v.metaKey)){if(m.someProp("handleKeyPress",function(D){return D(m,v)})){v.preventDefault();return}var k=m.state.selection;if(!(k instanceof ee.TextSelection)||!k.$from.sameParent(k.$to)){var E=String.fromCharCode(v.charCode);!/[\r\n]/.test(E)&&!m.someProp("handleTextInput",function(D){return D(m,k.$from.pos,k.$to.pos,E)})&&m.dispatch(m.state.tr.insertText(E).scrollIntoView()),v.preventDefault()}}};function Bs(m){return{left:m.clientX,top:m.clientY}}function Af(m,S){var v=S.x-m.clientX,k=S.y-m.clientY;return v*v+k*k<100}function Kr(m,S,v,k,E){if(k==-1)return!1;for(var D=m.state.doc.resolve(k),_=function(ge){if(m.someProp(S,function(De){return ge>D.depth?De(m,v,D.nodeAfter,D.before(ge),E,!0):De(m,v,D.node(ge),D.before(ge),E,!1)}))return{v:!0}},Q,j=D.depth+1;j>0;j--)if(Q=_(j),Q)return Q.v;return!1}function Ii(m,S,v){if(m.focused||m.focus(),!m.state.selection.eq(S)){var k=m.state.tr.setSelection(S);k.setMeta("pointer",!0),m.dispatch(k)}}function Df(m,S){if(S==-1)return!1;var v=m.state.doc.resolve(S),k=v.nodeAfter;return k&&k.isAtom&&ee.NodeSelection.isSelectable(k)?(Ii(m,new ee.NodeSelection(v)),!0):!1}function dm(m,S){if(S==-1)return!1;var v=m.state.selection,k,E;v instanceof ee.NodeSelection&&(k=v.node);for(var D=m.state.doc.resolve(S),_=D.depth+1;_>0;_--){var Q=_>D.depth?D.nodeAfter:D.node(_);if(ee.NodeSelection.isSelectable(Q)){k&&v.$from.depth>0&&_>=v.$from.depth&&D.before(v.$from.depth+1)==v.$from.pos?E=D.before(v.$from.depth):E=D.before(_);break}}return E!=null?(Ii(m,ee.NodeSelection.create(m.state.doc,E)),!0):!1}function Pf(m,S,v,k,E){return Kr(m,"handleClickOn",S,v,k)||m.someProp("handleClick",function(D){return D(m,S,k)})||(E?dm(m,v):Df(m,v))}function pm(m,S,v,k){return Kr(m,"handleDoubleClickOn",S,v,k)||m.someProp("handleDoubleClick",function(E){return E(m,S,k)})}function mm(m,S,v,k){return Kr(m,"handleTripleClickOn",S,v,k)||m.someProp("handleTripleClick",function(E){return E(m,S,k)})||vm(m,v,k)}function vm(m,S,v){if(v.button!=0)return!1;var k=m.state.doc;if(S==-1)return k.inlineContent?(Ii(m,ee.TextSelection.create(k,0,k.content.size)),!0):!1;for(var E=k.resolve(S),D=E.depth+1;D>0;D--){var _=D>E.depth?E.nodeAfter:E.node(D),Q=E.before(D);if(_.inlineContent)Ii(m,ee.TextSelection.create(k,Q+1,Q+1+_.content.size));else if(ee.NodeSelection.isSelectable(_))Ii(m,ee.NodeSelection.create(k,Q));else continue;return!0}}function Oc(m){return mu(m)}var pu=Zr?"metaKey":"ctrlKey";ri.mousedown=function(m,S){var v=S;m.input.shiftKey=v.shiftKey;var k=Oc(m),E=Date.now(),D="singleClick";E-m.input.lastClick.time<500&&Af(v,m.input.lastClick)&&!v[pu]&&m.input.lastClick.button==v.button&&(m.input.lastClick.type=="singleClick"?D="doubleClick":m.input.lastClick.type=="doubleClick"&&(D="tripleClick")),m.input.lastClick={time:E,x:v.clientX,y:v.clientY,type:D,button:v.button};var _=m.posAtCoords(Bs(v));_&&(D=="singleClick"?(m.input.mouseDown&&m.input.mouseDown.done(),m.input.mouseDown=new xl(m,_,v,!!k)):(D=="doubleClick"?pm:mm)(m,_.pos,_.inside,v)?v.preventDefault():Cn(m,"pointer"))};var xl=function(){function m(S,v,k,E){var D=this;R(this,m),this.view=S,this.pos=v,this.event=k,this.flushed=E,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=S.state.doc,this.selectNode=!!k[pu],this.allowDefault=k.shiftKey;var _,Q;if(v.inside>-1)_=S.state.doc.nodeAt(v.inside),Q=v.inside;else{var j=S.state.doc.resolve(v.pos);_=j.parent,Q=j.depth?j.before():0}var re=E?null:k.target,ge=re?S.docView.nearestDesc(re,!0):null;this.target=ge&&ge.dom.nodeType==1?ge.dom:null;var De=S.state.selection;(k.button==0&&_.type.spec.draggable&&_.type.spec.selectable!==!1||De instanceof ee.NodeSelection&&De.from<=Q&&De.to>Q)&&(this.mightDrag={node:_,pos:Q,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&$t&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){D.view.input.mouseDown==D&&D.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),S.root.addEventListener("mouseup",this.up=this.up.bind(this)),S.root.addEventListener("mousemove",this.move=this.move.bind(this)),Cn(S,"pointer")}return U(m,[{key:"done",value:function(){var v=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return mi(v.view)}),this.view.input.mouseDown=null}},{key:"up",value:function(v){if(this.done(),!!this.view.dom.contains(v.target)){var k=this.pos;this.view.state.doc!=this.startDoc&&(k=this.view.posAtCoords(Bs(v))),this.updateAllowDefault(v),this.allowDefault||!k?Cn(this.view,"pointer"):Pf(this.view,k.pos,k.inside,v,this.selectNode)?v.preventDefault():v.button==0&&(this.flushed||sr&&this.mightDrag&&!this.mightDrag.node.isAtom||Yt&&!this.view.state.selection.visible&&Math.min(Math.abs(k.pos-this.view.state.selection.from),Math.abs(k.pos-this.view.state.selection.to))<=2)?(Ii(this.view,ee.Selection.near(this.view.state.doc.resolve(k.pos))),v.preventDefault()):Cn(this.view,"pointer")}}},{key:"move",value:function(v){this.updateAllowDefault(v),Cn(this.view,"pointer"),v.buttons==0&&this.done()}},{key:"updateAllowDefault",value:function(v){!this.allowDefault&&(Math.abs(this.event.x-v.clientX)>4||Math.abs(this.event.y-v.clientY)>4)&&(this.allowDefault=!0)}}]),m}();ri.touchstart=function(m){m.input.lastTouch=Date.now(),Oc(m),Cn(m,"pointer")},ri.touchmove=function(m){m.input.lastTouch=Date.now(),Cn(m,"pointer")},ri.contextmenu=function(m){return Oc(m)};function Jh(m,S){return m.composing?!0:sr&&Math.abs(S.timeStamp-m.input.compositionEndedAt)<500?(m.input.compositionEndedAt=-2e8,!0):!1}var ed=pr?5e3:-1;ni.compositionstart=ni.compositionupdate=function(m){if(!m.composing){m.domObserver.flush();var S=m.state,v=S.selection.$to;if(S.selection instanceof ee.TextSelection&&(S.storedMarks||!v.textOffset&&v.parentOffset&&v.nodeBefore.marks.some(function(j){return j.type.spec.inclusive===!1})))m.markCursor=m.state.storedMarks||v.marks(),mu(m,!0),m.markCursor=null;else if(mu(m,!S.selection.empty),$t&&S.selection.empty&&v.parentOffset&&!v.textOffset&&v.nodeBefore.marks.length)for(var k=m.domSelectionRange(),E=k.focusNode,D=k.focusOffset;E&&E.nodeType==1&&D!=0;){var _=D<0?E.lastChild:E.childNodes[D-1];if(!_)break;if(_.nodeType==3){var Q=m.domSelection();Q&&Q.collapse(_,_.nodeValue.length);break}else E=_,D=-1}m.input.composing=!0}Rf(m,ed)},ni.compositionend=function(m,S){m.composing&&(m.input.composing=!1,m.input.compositionEndedAt=S.timeStamp,m.input.compositionPendingChanges=m.domObserver.pendingRecords().length?m.input.compositionID:0,m.input.compositionNode=null,m.input.compositionPendingChanges&&Promise.resolve().then(function(){return m.domObserver.flush()}),m.input.compositionID++,Rf(m,20))};function Rf(m,S){clearTimeout(m.input.composingTimeout),S>-1&&(m.input.composingTimeout=setTimeout(function(){return mu(m)},S))}function yc(m){for(m.composing&&(m.input.composing=!1,m.input.compositionEndedAt=td());m.input.compositionNodes.length>0;)m.input.compositionNodes.pop().markParentsDirty()}function Nf(m){var S=m.domSelectionRange();if(!S.focusNode)return null;var v=Vt(S.focusNode,S.focusOffset),k=ar(S.focusNode,S.focusOffset);if(v&&k&&v!=k){var E=k.pmViewDesc,D=m.domObserver.lastChangedTextNode;if(v==D||k==D)return D;if(!E||!E.isText(k.nodeValue))return k;if(m.input.compositionNode==k){var _=v.pmViewDesc;if(!(!_||!_.isText(v.nodeValue)))return k}}return v||k}function td(){var m=document.createEvent("Event");return m.initEvent("event",!0,!0),m.timeStamp}function mu(m){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(pr&&m.domObserver.flushingSoon>=0)){if(m.domObserver.forceFlush(),yc(m),S||m.docView&&m.docView.dirty){var v=za(m),k=m.state.selection;return v&&!v.eq(k)?m.dispatch(m.state.tr.setSelection(v)):(m.markCursor||S)&&!k.$from.node(k.$from.sharedDepth(k.to)).inlineContent?m.dispatch(m.state.tr.deleteSelection()):m.updateState(m.state),!0}return!1}}function $f(m,S){if(m.dom.parentNode){var v=m.dom.parentNode.appendChild(document.createElement("div"));v.appendChild(S),v.style.cssText="position: fixed; left: -10000px; top: 10px";var k=getSelection(),E=document.createRange();E.selectNodeContents(S),m.dom.blur(),k.removeAllRanges(),k.addRange(E),setTimeout(function(){v.parentNode&&v.parentNode.removeChild(v),m.focus()},50)}}var qs=Ze&&st<15||un&&$i<604;ri.copy=ni.cut=function(m,S){var v=S,k=m.state.selection,E=v.type=="cut";if(!k.empty){var D=qs?null:v.clipboardData,_=k.content(),Q=ft(m,_),j=Q.dom,re=Q.text;D?(v.preventDefault(),D.clearData(),D.setData("text/html",j.innerHTML),D.setData("text/plain",re)):$f(m,j),E&&m.dispatch(m.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function gm(m){return m.openStart==0&&m.openEnd==0&&m.content.childCount==1?m.content.firstChild:null}function rd(m,S){if(m.dom.parentNode){var v=m.input.shiftKey||m.state.selection.$from.parent.type.spec.code,k=m.dom.parentNode.appendChild(document.createElement(v?"textarea":"div"));v||(k.contentEditable="true"),k.style.cssText="position: fixed; left: -10000px; top: 10px",k.focus();var E=m.input.shiftKey&&m.input.lastKeyCode!=45;setTimeout(function(){m.focus(),k.parentNode&&k.parentNode.removeChild(k),v?zn(m,k.value,null,E,S):zn(m,k.textContent,k.innerHTML,E,S)},50)}}function zn(m,S,v,k,E){var D=Ce(m,S,v,k,m.state.selection.$from);if(m.someProp("handlePaste",function(j){return j(m,E,D||le.Slice.empty)}))return!0;if(!D)return!1;var _=gm(D),Q=_?m.state.tr.replaceSelectionWith(_,k):m.state.tr.replaceSelection(D);return m.dispatch(Q.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function bc(m){var S=m.getData("text/plain")||m.getData("Text");if(S)return S;var v=m.getData("text/uri-list");return v?v.replace(/\r?\n/g," "):""}ni.paste=function(m,S){var v=S;if(!(m.composing&&!pr)){var k=qs?null:v.clipboardData,E=m.input.shiftKey&&m.input.lastKeyCode!=45;k&&zn(m,bc(k),k.getData("text/html"),E,v)?v.preventDefault():rd(m,v)}};var Cl=U(function m(S,v,k){R(this,m),this.slice=S,this.move=v,this.node=k}),nd=Zr?"altKey":"ctrlKey";function Lf(m,S){var v=m.someProp("dragCopies",function(k){return!k(S)});return v??!S[nd]}ri.dragstart=function(m,S){var v=S,k=m.input.mouseDown;if(k&&k.done(),!!v.dataTransfer){var E=m.state.selection,D=E.empty?null:m.posAtCoords(Bs(v)),_;if(!(D&&D.pos>=E.from&&D.pos<=(E instanceof ee.NodeSelection?E.to-1:E.to))){if(k&&k.mightDrag)_=ee.NodeSelection.create(m.state.doc,k.mightDrag.pos);else if(v.target&&v.target.nodeType==1){var Q=m.docView.nearestDesc(v.target,!0);Q&&Q.node.type.spec.draggable&&Q!=m.docView&&(_=ee.NodeSelection.create(m.state.doc,Q.posBefore))}}var j=(_||m.state.selection).content(),re=ft(m,j),ge=re.dom,De=re.text,Se=re.slice;(!v.dataTransfer.files.length||!Yt||Cr>120)&&v.dataTransfer.clearData(),v.dataTransfer.setData(qs?"Text":"text/html",ge.innerHTML),v.dataTransfer.effectAllowed="copyMove",qs||v.dataTransfer.setData("text/plain",De),m.dragging=new Cl(Se,Lf(m,v),_)}},ri.dragend=function(m){var S=m.dragging;window.setTimeout(function(){m.dragging==S&&(m.dragging=null)},50)},ni.dragover=ni.dragenter=function(m,S){return S.preventDefault()},ni.drop=function(m,S){var v=S,k=m.dragging;if(m.dragging=null,!!v.dataTransfer){var E=m.posAtCoords(Bs(v));if(E){var D=m.state.doc.resolve(E.pos),_=k&&k.slice;_?m.someProp("transformPasted",function(xt){_=xt(_,m)}):_=Ce(m,bc(v.dataTransfer),qs?null:v.dataTransfer.getData("text/html"),!1,D);var Q=!!(k&&Lf(m,v));if(m.someProp("handleDrop",function(xt){return xt(m,v,_||le.Slice.empty,Q)})){v.preventDefault();return}if(_){v.preventDefault();var j=_?pe.dropPoint(m.state.doc,D.pos,_):D.pos;j==null&&(j=D.pos);var re=m.state.tr;if(Q){var ge=k.node;ge?ge.replace(re):re.deleteSelection()}var De=re.mapping.map(j),Se=_.openStart==0&&_.openEnd==0&&_.content.childCount==1,Qe=re.doc;if(Se?re.replaceRangeWith(De,De,_.content.firstChild):re.replaceRange(De,De,_),!re.doc.eq(Qe)){var Ke=re.doc.resolve(De);if(Se&&ee.NodeSelection.isSelectable(_.content.firstChild)&&Ke.nodeAfter&&Ke.nodeAfter.sameMarkup(_.content.firstChild))re.setSelection(new ee.NodeSelection(Ke));else{var ht=re.mapping.map(j);re.mapping.maps[re.mapping.maps.length-1].forEach(function(xt,it,Ht,Bt){return ht=Bt}),re.setSelection(ra(m,Ke,re.doc.resolve(ht)))}m.focus(),m.dispatch(re.setMeta("uiEvent","drop"))}}}}},ri.focus=function(m){m.input.lastFocus=Date.now(),m.focused||(m.domObserver.stop(),m.dom.classList.add("ProseMirror-focused"),m.domObserver.start(),m.focused=!0,setTimeout(function(){m.docView&&m.hasFocus()&&!m.domObserver.currentSelection.eq(m.domSelectionRange())&&mi(m)},20))},ri.blur=function(m,S){var v=S;m.focused&&(m.domObserver.stop(),m.dom.classList.remove("ProseMirror-focused"),m.domObserver.start(),v.relatedTarget&&m.dom.contains(v.relatedTarget)&&m.domObserver.currentSelection.clear(),m.focused=!1)},ri.beforeinput=function(m,S){var v=S;if(Yt&&pr&&v.inputType=="deleteContentBackward"){m.domObserver.flushSoon();var k=m.input.domChangeCount;setTimeout(function(){if(m.input.domChangeCount==k&&(m.dom.blur(),m.focus(),!m.someProp("handleKeyDown",function(D){return D(m,tr(8,"Backspace"))}))){var E=m.state.selection.$cursor;E&&E.pos>0&&m.dispatch(m.state.tr.delete(E.pos-1,E.pos).scrollIntoView())}},50)}};for(var id in ni)ri[id]=ni[id];function vu(m,S){if(m==S)return!0;for(var v in m)if(m[v]!==S[v])return!1;for(var k in S)if(!(k in m))return!1;return!0}var ad=function(){function m(S,v){R(this,m),this.toDOM=S,this.spec=v||Fs,this.side=this.spec.side||0}return U(m,[{key:"map",value:function(v,k,E,D){var _=v.mapResult(k.from+D,this.side<0?-1:1),Q=_.pos,j=_.deleted;return j?null:new aa(Q-E,Q-E,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(v){return this==v||v instanceof m&&(this.spec.key&&this.spec.key==v.spec.key||this.toDOM==v.toDOM&&vu(this.spec,v.spec))}},{key:"destroy",value:function(v){this.spec.destroy&&this.spec.destroy(v)}}]),m}(),gu=function(){function m(S,v){R(this,m),this.attrs=S,this.spec=v||Fs}return U(m,[{key:"map",value:function(v,k,E,D){var _=v.map(k.from+D,this.spec.inclusiveStart?-1:1)-E,Q=v.map(k.to+D,this.spec.inclusiveEnd?1:-1)-E;return _>=Q?null:new aa(_,Q,this)}},{key:"valid",value:function(v,k){return k.from<k.to}},{key:"eq",value:function(v){return this==v||v instanceof m&&vu(this.attrs,v.attrs)&&vu(this.spec,v.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(v){return v.type instanceof m}}]),m}(),Om=function(){function m(S,v){R(this,m),this.attrs=S,this.spec=v||Fs}return U(m,[{key:"map",value:function(v,k,E,D){var _=v.mapResult(k.from+D,1);if(_.deleted)return null;var Q=v.mapResult(k.to+D,-1);return Q.deleted||Q.pos<=_.pos?null:new aa(_.pos-E,Q.pos-E,this)}},{key:"valid",value:function(v,k){var E=v.content.findIndex(k.from),D=E.index,_=E.offset,Q;return _==k.from&&!(Q=v.child(D)).isText&&_+Q.nodeSize==k.to}},{key:"eq",value:function(v){return this==v||v instanceof m&&vu(this.attrs,v.attrs)&&vu(this.spec,v.spec)}},{key:"destroy",value:function(){}}]),m}(),aa=function(){function m(S,v,k){R(this,m),this.from=S,this.to=v,this.type=k}return U(m,[{key:"copy",value:function(v,k){return new m(v,k,this.type)}},{key:"eq",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.type.eq(v.type)&&this.from+k==v.from&&this.to+k==v.to}},{key:"map",value:function(v,k,E){return this.type.map(v,this,k,E)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof gu}},{key:"widget",get:function(){return this.type instanceof ad}}],[{key:"widget",value:function(v,k,E){return new m(v,v,new ad(k,E))}},{key:"inline",value:function(v,k,E,D){return new m(v,k,new gu(E,D))}},{key:"node",value:function(v,k,E,D){return new m(v,k,new Om(E,D))}}]),m}(),Tl=[],Fs={},Qi=function(){function m(S,v){R(this,m),this.local=S.length?S:Tl,this.children=v.length?v:Tl}return U(m,[{key:"find",value:function(v,k,E){var D=[];return this.findInner(v??0,k??1e9,D,0,E),D}},{key:"findInner",value:function(v,k,E,D,_){for(var Q=0;Q<this.local.length;Q++){var j=this.local[Q];j.from<=k&&j.to>=v&&(!_||_(j.spec))&&E.push(j.copy(j.from+D,j.to+D))}for(var re=0;re<this.children.length;re+=3)if(this.children[re]<k&&this.children[re+1]>v){var ge=this.children[re]+1;this.children[re+2].findInner(v-ge,k-ge,E,D+ge,_)}}},{key:"map",value:function(v,k,E){return this==Hn||v.maps.length==0?this:this.mapInner(v,k,0,0,E||Fs)}},{key:"mapInner",value:function(v,k,E,D,_){for(var Q,j=0;j<this.local.length;j++){var re=this.local[j].map(v,E,D);re&&re.type.valid(k,re)?(Q||(Q=[])).push(re):_.onRemove&&_.onRemove(this.local[j].spec)}return this.children.length?wc(this.children,Q||[],v,k,E,D,_):Q?new m(Q.sort(as),Tl):Hn}},{key:"add",value:function(v,k){return k.length?this==Hn?m.create(v,k):this.addInner(v,k,0):this}},{key:"addInner",value:function(v,k,E){var D=this,_,Q=0;v.forEach(function(ge,De){var Se=De+E,Qe;if(Qe=sd(k,ge,Se)){for(_||(_=D.children.slice());Q<_.length&&_[Q]<De;)Q+=3;_[Q]==De?_[Q+2]=_[Q+2].addInner(ge,Qe,Se+1):_.splice(Q,0,De,De+ge.nodeSize,Ci(Qe,ge,Se+1,Fs)),Q+=3}});for(var j=od(Q?Vs(k):k,-E),re=0;re<j.length;re++)j[re].type.valid(v,j[re])||j.splice(re--,1);return new m(j.length?this.local.concat(j).sort(as):this.local,_||this.children)}},{key:"remove",value:function(v){return v.length==0||this==Hn?this:this.removeInner(v,0)}},{key:"removeInner",value:function(v,k){for(var E=this.children,D=this.local,_=0;_<E.length;_+=3){for(var Q=void 0,j=E[_]+k,re=E[_+1]+k,ge=0,De;ge<v.length;ge++)(De=v[ge])&&De.from>j&&De.to<re&&(v[ge]=null,(Q||(Q=[])).push(De));if(Q){E==this.children&&(E=this.children.slice());var Se=E[_+2].removeInner(Q,j+1);Se!=Hn?E[_+2]=Se:(E.splice(_,3),_-=3)}}if(D.length){for(var Qe=0,Ke;Qe<v.length;Qe++)if(Ke=v[Qe])for(var ht=0;ht<D.length;ht++)D[ht].eq(Ke,k)&&(D==this.local&&(D=this.local.slice()),D.splice(ht--,1))}return E==this.children&&D==this.local?this:D.length||E.length?new m(D,E):Hn}},{key:"forChild",value:function(v,k){if(this==Hn)return this;if(k.isLeaf)return m.empty;for(var E,D,_=0;_<this.children.length;_+=3)if(this.children[_]>=v){this.children[_]==v&&(E=this.children[_+2]);break}for(var Q=v+1,j=Q+k.content.size,re=0;re<this.local.length;re++){var ge=this.local[re];if(ge.from<j&&ge.to>Q&&ge.type instanceof gu){var De=Math.max(Q,ge.from)-Q,Se=Math.min(j,ge.to)-Q;De<Se&&(D||(D=[])).push(ge.copy(De,Se))}}if(D){var Qe=new m(D.sort(as),Tl);return E?new To([Qe,E]):Qe}return E||Hn}},{key:"eq",value:function(v){if(this==v)return!0;if(!(v instanceof m)||this.local.length!=v.local.length||this.children.length!=v.children.length)return!1;for(var k=0;k<this.local.length;k++)if(!this.local[k].eq(v.local[k]))return!1;for(var E=0;E<this.children.length;E+=3)if(this.children[E]!=v.children[E]||this.children[E+1]!=v.children[E+1]||!this.children[E+2].eq(v.children[E+2]))return!1;return!0}},{key:"locals",value:function(v){return _f(this.localsInner(v))}},{key:"localsInner",value:function(v){if(this==Hn)return Tl;if(v.inlineContent||!this.local.some(gu.is))return this.local;for(var k=[],E=0;E<this.local.length;E++)this.local[E].type instanceof gu||k.push(this.local[E]);return k}},{key:"forEachSet",value:function(v){v(this)}}],[{key:"create",value:function(v,k){return k.length?Ci(k,v,0,Fs):Hn}}]),m}();Qi.empty=new Qi([],[]),Qi.removeOverlap=_f;var Hn=Qi.empty,To=function(){function m(S){R(this,m),this.members=S}return U(m,[{key:"map",value:function(v,k){var E=this.members.map(function(D){return D.map(v,k,Fs)});return m.from(E)}},{key:"forChild",value:function(v,k){if(k.isLeaf)return Qi.empty;for(var E=[],D=0;D<this.members.length;D++){var _=this.members[D].forChild(v,k);_!=Hn&&(_ instanceof m?E=E.concat(_.members):E.push(_))}return m.from(E)}},{key:"eq",value:function(v){if(!(v instanceof m)||v.members.length!=this.members.length)return!1;for(var k=0;k<this.members.length;k++)if(!this.members[k].eq(v.members[k]))return!1;return!0}},{key:"locals",value:function(v){for(var k,E=!0,D=0;D<this.members.length;D++){var _=this.members[D].localsInner(v);if(_.length)if(!k)k=_;else{E&&(k=k.slice(),E=!1);for(var Q=0;Q<_.length;Q++)k.push(_[Q])}}return k?_f(E?k:k.sort(as)):Tl}},{key:"forEachSet",value:function(v){for(var k=0;k<this.members.length;k++)this.members[k].forEachSet(v)}}],[{key:"from",value:function(v){switch(v.length){case 0:return Hn;case 1:return v[0];default:return new m(v.every(function(k){return k instanceof Qi})?v:v.reduce(function(k,E){return k.concat(E instanceof Qi?E:E.members)},[]))}}}]),m}();function wc(m,S,v,k,E,D,_){for(var Q=m.slice(),j=function(vi){var Ao=0;v.maps[re].forEach(function(Wn,Tn,Cm,Tm){for(var Tc=Tm-Cm-(Tn-Wn),Zs=0;Zs<Q.length;Zs+=3){var yu=Q[Zs+1];if(!(yu<0||Wn>yu+vi-Ao)){var Dl=Q[Zs]+vi-Ao;Tn>=Dl?Q[Zs+1]=Wn<=Dl?-2:-1:Wn>=vi&&Tc&&(Q[Zs]+=Tc,Q[Zs+1]+=Tc)}}Ao+=Tc}),vi=v.maps[re].map(vi,-1),ge=vi},re=0,ge=D;re<v.maps.length;re++)j(ge);for(var De=!1,Se=0;Se<Q.length;Se+=3)if(Q[Se+1]<0){if(Q[Se+1]==-2){De=!0,Q[Se+1]=-1;continue}var Qe=v.map(m[Se]+D),Ke=Qe-E;if(Ke<0||Ke>=k.content.size){De=!0;continue}var ht=v.map(m[Se+1]+D,-1),xt=ht-E,it=k.content.findIndex(Ke),Ht=it.index,Bt=it.offset,Zt=k.maybeChild(Ht);if(Zt&&Bt==Ke&&Bt+Zt.nodeSize==xt){var yr=Q[Se+2].mapInner(v,Zt,Qe+1,m[Se]+D+1,_);yr!=Hn?(Q[Se]=Ke,Q[Se+1]=xt,Q[Se+2]=yr):(Q[Se+1]=-2,De=!0)}else De=!0}if(De){var Br=ym(Q,m,S,v,E,D,_),on=Ci(Br,k,0,_);S=on.local;for(var Bi=0;Bi<Q.length;Bi+=3)Q[Bi+1]<0&&(Q.splice(Bi,3),Bi-=3);for(var mn=0,ii=0;mn<on.children.length;mn+=3){for(var sn=on.children[mn];ii<Q.length&&Q[ii]<sn;)ii+=3;Q.splice(ii,0,on.children[mn],on.children[mn+1],on.children[mn+2])}}return new Qi(S.sort(as),Q)}function od(m,S){if(!S||!m.length)return m;for(var v=[],k=0;k<m.length;k++){var E=m[k];v.push(new aa(E.from+S,E.to+S,E.type))}return v}function ym(m,S,v,k,E,D,_){function Q(re,ge){for(var De=0;De<re.local.length;De++){var Se=re.local[De].map(k,E,ge);Se?v.push(Se):_.onRemove&&_.onRemove(re.local[De].spec)}for(var Qe=0;Qe<re.children.length;Qe+=3)Q(re.children[Qe+2],re.children[Qe]+ge+1)}for(var j=0;j<m.length;j+=3)m[j+1]==-1&&Q(m[j+2],S[j]+D+1);return v}function sd(m,S,v){if(S.isLeaf)return null;for(var k=v+S.nodeSize,E=null,D=0,_;D<m.length;D++)(_=m[D])&&_.from>v&&_.to<k&&((E||(E=[])).push(_),m[D]=null);return E}function Vs(m){for(var S=[],v=0;v<m.length;v++)m[v]!=null&&S.push(m[v]);return S}function Ci(m,S,v,k){var E=[],D=!1;S.forEach(function(j,re){var ge=sd(m,j,re+v);if(ge){D=!0;var De=Ci(ge,j,v+re+1,k);De!=Hn&&E.push(re,re+j.nodeSize,De)}});for(var _=od(D?Vs(m):m,-v).sort(as),Q=0;Q<_.length;Q++)_[Q].type.valid(S,_[Q])||(k.onRemove&&k.onRemove(_[Q].spec),_.splice(Q--,1));return _.length||E.length?new Qi(_,E):Hn}function as(m,S){return m.from-S.from||m.to-S.to}function _f(m){for(var S=m,v=0;v<S.length-1;v++){var k=S[v];if(k.from!=k.to)for(var E=v+1;E<S.length;E++){var D=S[E];if(D.from==k.from){D.to!=k.to&&(S==m&&(S=m.slice()),S[E]=D.copy(D.from,k.to),ld(S,E+1,D.copy(k.to,D.to)));continue}else{D.from<k.to&&(S==m&&(S=m.slice()),S[v]=k.copy(k.from,D.from),ld(S,E,k.copy(D.from,k.to)));break}}}return S}function ld(m,S,v){for(;S<m.length&&as(v,m[S])>0;)S++;m.splice(S,0,v)}function If(m){var S=[];return m.someProp("decorations",function(v){var k=v(m.state);k&&k!=Hn&&S.push(k)}),m.cursorWrapper&&S.push(Qi.create(m.state.doc,[m.cursorWrapper.deco])),To.from(S)}var bm={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},wm=Ze&&st<=11,El=function(){function m(){R(this,m),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return U(m,[{key:"set",value:function(v){this.anchorNode=v.anchorNode,this.anchorOffset=v.anchorOffset,this.focusNode=v.focusNode,this.focusOffset=v.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(v){return v.anchorNode==this.anchorNode&&v.anchorOffset==this.anchorOffset&&v.focusNode==this.focusNode&&v.focusOffset==this.focusOffset}}]),m}(),Ee=function(){function m(S,v){var k=this;R(this,m),this.view=S,this.handleDOMChange=v,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new El,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(function(E){for(var D=0;D<E.length;D++)k.queue.push(E[D]);Ze&&st<=11&&E.some(function(_){return _.type=="childList"&&_.removedNodes.length||_.type=="characterData"&&_.oldValue.length>_.target.nodeValue.length})?k.flushSoon():k.flush()}),wm&&(this.onCharData=function(E){k.queue.push({target:E.target,type:"characterData",oldValue:E.prevValue}),k.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return U(m,[{key:"flushSoon",value:function(){var v=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){v.flushingSoon=-1,v.flush()},20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,bm)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var v=this;if(this.observer){var k=this.observer.takeRecords();if(k.length){for(var E=0;E<k.length;E++)this.queue.push(k[E]);window.setTimeout(function(){return v.flush()},20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var v=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return v.suppressingSelectionUpdates=!1},50)}},{key:"onSelectionChange",value:function(){if(So(this.view)){if(this.suppressingSelectionUpdates)return mi(this.view);if(Ze&&st<=11&&!this.view.state.selection.empty){var v=this.view.domSelectionRange();if(v.focusNode&&at(v.focusNode,v.focusOffset,v.anchorNode,v.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(v){if(!v.focusNode)return!0;for(var k=new Set,E,D=v.focusNode;D;D=Fe(D))k.add(D);for(var _=v.anchorNode;_;_=Fe(_))if(k.has(_)){E=_;break}var Q=E&&this.view.docView.nearestDesc(E);if(Q&&Q.ignoreMutation({type:"selection",target:E.nodeType==3?E.parentNode:E}))return this.setCurSelection(),!0}},{key:"pendingRecords",value:function(){if(this.observer){var v=i(this.observer.takeRecords()),k;try{for(v.s();!(k=v.n()).done;){var E=k.value;this.queue.push(E)}}catch(D){v.e(D)}finally{v.f()}}return this.queue}},{key:"flush",value:function(){var v=this.view;if(!(!v.docView||this.flushingSoon>-1)){var k=this.pendingRecords();k.length&&(this.queue=[]);var E=v.domSelectionRange(),D=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(E)&&So(v)&&!this.ignoreSelectionChange(E),_=-1,Q=-1,j=!1,re=[];if(v.editable)for(var ge=0;ge<k.length;ge++){var De=this.registerMutation(k[ge],re);De&&(_=_<0?De.from:Math.min(De.from,_),Q=Q<0?De.to:Math.max(De.to,Q),De.typeOver&&(j=!0))}if($t&&re.length){var Se=re.filter(function(Br){return Br.nodeName=="BR"});if(Se.length==2){var Qe=r(Se,2),Ke=Qe[0],ht=Qe[1];Ke.parentNode&&Ke.parentNode.parentNode==ht.parentNode?ht.remove():Ke.remove()}else{var xt=this.currentSelection.focusNode,it=i(Se),Ht;try{for(it.s();!(Ht=it.n()).done;){var Bt=Ht.value,Zt=Bt.parentNode;Zt&&Zt.nodeName=="LI"&&(!xt||Nn(v,xt)!=Zt)&&Bt.remove()}}catch(Br){it.e(Br)}finally{it.f()}}}var yr=null;_<0&&D&&v.input.lastFocus>Date.now()-200&&Math.max(v.input.lastTouch,v.input.lastClick.time)<Date.now()-300&&Pt(E)&&(yr=za(v))&&yr.eq(ee.Selection.near(v.state.doc.resolve(0),1))?(v.input.lastFocus=0,mi(v),this.currentSelection.set(E),v.scrollToSelection()):(_>-1||D)&&(_>-1&&(v.docView.markDirty(_,Q),Ct(v)),this.handleDOMChange(_,Q,j,re),v.docView&&v.docView.dirty?v.updateState(v.state):this.currentSelection.eq(E)||mi(v),this.currentSelection.set(E))}}},{key:"registerMutation",value:function(v,k){if(k.indexOf(v.target)>-1)return null;var E=this.view.docView.nearestDesc(v.target);if(v.type=="attributes"&&(E==this.view.docView||v.attributeName=="contenteditable"||v.attributeName=="style"&&!v.oldValue&&!v.target.getAttribute("style"))||!E||E.ignoreMutation(v))return null;if(v.type=="childList"){for(var D=0;D<v.addedNodes.length;D++){var _=v.addedNodes[D];k.push(_),_.nodeType==3&&(this.lastChangedTextNode=_)}if(E.contentDOM&&E.contentDOM!=E.dom&&!E.contentDOM.contains(v.target))return{from:E.posBefore,to:E.posAfter};var Q=v.previousSibling,j=v.nextSibling;if(Ze&&st<=11&&v.addedNodes.length)for(var re=0;re<v.addedNodes.length;re++){var ge=v.addedNodes[re],De=ge.previousSibling,Se=ge.nextSibling;(!De||Array.prototype.indexOf.call(v.addedNodes,De)<0)&&(Q=De),(!Se||Array.prototype.indexOf.call(v.addedNodes,Se)<0)&&(j=Se)}var Qe=Q&&Q.parentNode==v.target?be(Q)+1:0,Ke=E.localPosFromDOM(v.target,Qe,-1),ht=j&&j.parentNode==v.target?be(j):v.target.childNodes.length,xt=E.localPosFromDOM(v.target,ht,1);return{from:Ke,to:xt}}else return v.type=="attributes"?{from:E.posAtStart-E.border,to:E.posAtEnd+E.border}:(this.lastChangedTextNode=v.target,{from:E.posAtStart,to:E.posAtEnd,typeOver:v.target.nodeValue==v.oldValue})}}]),m}(),Ue=new WeakMap,Ie=!1;function Ct(m){if(!Ue.has(m)&&(Ue.set(m,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(m.dom).whiteSpace)!==-1)){if(m.requiresGeckoHackNode=$t,Ie)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ie=!0}}function rr(m,S){var v=S.startContainer,k=S.startOffset,E=S.endContainer,D=S.endOffset,_=m.domAtPos(m.state.selection.anchor);if(at(_.node,_.offset,E,D)){var Q=[E,D,v,k];v=Q[0],k=Q[1],E=Q[2],D=Q[3]}return{anchorNode:v,anchorOffset:k,focusNode:E,focusOffset:D}}function Nr(m,S){if(S.getComposedRanges){var v=S.getComposedRanges(m.root)[0];if(v)return rr(m,v)}var k;function E(D){D.preventDefault(),D.stopImmediatePropagation(),k=D.getTargetRanges()[0]}return m.dom.addEventListener("beforeinput",E,!0),document.execCommand("indent"),m.dom.removeEventListener("beforeinput",E,!0),k?rr(m,k):null}function Nn(m,S){for(var v=S.parentNode;v&&v!=m.dom;v=v.parentNode){var k=m.docView.nearestDesc(v,!0);if(k&&k.node.isBlock)return v}return null}function jr(m,S,v){var k=m.docView.parseRange(S,v),E=k.node,D=k.fromOffset,_=k.toOffset,Q=k.from,j=k.to,re=m.domSelectionRange(),ge,De=re.anchorNode;if(De&&m.dom.contains(De.nodeType==1?De:De.parentNode)&&(ge=[{node:De,offset:re.anchorOffset}],Pt(re)||ge.push({node:re.focusNode,offset:re.focusOffset})),Yt&&m.input.lastKeyCode===8)for(var Se=_;Se>D;Se--){var Qe=E.childNodes[Se-1],Ke=Qe.pmViewDesc;if(Qe.nodeName=="BR"&&!Ke){_=Se;break}if(!Ke||Ke.size)break}var ht=m.state.doc,xt=m.someProp("domParser")||le.DOMParser.fromSchema(m.state.schema),it=ht.resolve(Q),Ht=null,Bt=xt.parse(E,{topNode:it.parent,topMatch:it.parent.contentMatchAt(it.index()),topOpen:!0,from:D,to:_,preserveWhitespace:it.parent.type.whitespace=="pre"?"full":!0,findPositions:ge,ruleFromNode:Qf,context:it});if(ge&&ge[0].pos!=null){var Zt=ge[0].pos,yr=ge[1]&&ge[1].pos;yr==null&&(yr=Zt),Ht={anchor:Zt+Q,head:yr+Q}}return{doc:Bt,sel:Ht,from:Q,to:j}}function Qf(m){var S=m.pmViewDesc;if(S)return S.parseRule();if(m.nodeName=="BR"&&m.parentNode){if(sr&&/^(ul|ol)$/i.test(m.parentNode.nodeName)){var v=document.createElement("div");return v.appendChild(document.createElement("li")),{skip:v}}else if(m.parentNode.lastChild==m||sr&&/^(tr|table)$/i.test(m.parentNode.nodeName))return{ignore:!0}}else if(m.nodeName=="IMG"&&m.getAttribute("mark-placeholder"))return{ignore:!0};return null}var km=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function oa(m,S,v,k,E){var D=m.input.compositionPendingChanges||(m.composing?m.input.compositionID:0);if(m.input.compositionPendingChanges=0,S<0){var _=m.input.lastSelectionTime>Date.now()-50?m.input.lastSelectionOrigin:null,Q=za(m,_);if(Q&&!m.state.selection.eq(Q)){if(Yt&&pr&&m.input.lastKeyCode===13&&Date.now()-100<m.input.lastKeyCodeTime&&m.someProp("handleKeyDown",function(Tn){return Tn(m,tr(13,"Enter"))}))return;var j=m.state.tr.setSelection(Q);_=="pointer"?j.setMeta("pointer",!0):_=="key"&&j.scrollIntoView(),D&&j.setMeta("composition",D),m.dispatch(j)}return}var re=m.state.doc.resolve(S),ge=re.sharedDepth(v);S=re.before(ge+1),v=m.state.doc.resolve(v).after(ge+1);var De=m.state.selection,Se=jr(m,S,v),Qe=m.state.doc,Ke=Qe.slice(Se.from,Se.to),ht,xt;m.input.lastKeyCode===8&&Date.now()-100<m.input.lastKeyCodeTime?(ht=m.state.selection.to,xt="end"):(ht=m.state.selection.from,xt="start"),m.input.lastKeyCode=null;var it=kc(Ke.content,Se.doc.content,Se.from,ht,xt);if(it&&m.input.domChangeCount++,(un&&m.input.lastIOSEnter>Date.now()-225||pr)&&E.some(function(Tn){return Tn.nodeType==1&&!km.test(Tn.nodeName)})&&(!it||it.endA>=it.endB)&&m.someProp("handleKeyDown",function(Tn){return Tn(m,tr(13,"Enter"))})){m.input.lastIOSEnter=0;return}if(!it)if(k&&De instanceof ee.TextSelection&&!De.empty&&De.$head.sameParent(De.$anchor)&&!m.composing&&!(Se.sel&&Se.sel.anchor!=Se.sel.head))it={start:De.from,endA:De.to,endB:De.to};else{if(Se.sel){var Ht=Ou(m,m.state.doc,Se.sel);if(Ht&&!Ht.eq(m.state.selection)){var Bt=m.state.tr.setSelection(Ht);D&&Bt.setMeta("composition",D),m.dispatch(Bt)}}return}m.state.selection.from<m.state.selection.to&&it.start==it.endB&&m.state.selection instanceof ee.TextSelection&&(it.start>m.state.selection.from&&it.start<=m.state.selection.from+2&&m.state.selection.from>=Se.from?it.start=m.state.selection.from:it.endA<m.state.selection.to&&it.endA>=m.state.selection.to-2&&m.state.selection.to<=Se.to&&(it.endB+=m.state.selection.to-it.endA,it.endA=m.state.selection.to)),Ze&&st<=11&&it.endB==it.start+1&&it.endA==it.start&&it.start>Se.from&&Se.doc.textBetween(it.start-Se.from-1,it.start-Se.from+1)==" Â "&&(it.start--,it.endA--,it.endB--);var Zt=Se.doc.resolveNoCache(it.start-Se.from),yr=Se.doc.resolveNoCache(it.endB-Se.from),Br=Qe.resolve(it.start),on=Zt.sameParent(yr)&&Zt.parent.inlineContent&&Br.end()>=it.endA,Bi;if((un&&m.input.lastIOSEnter>Date.now()-225&&(!on||E.some(function(Tn){return Tn.nodeName=="DIV"||Tn.nodeName=="P"}))||!on&&Zt.pos<Se.doc.content.size&&(!Zt.sameParent(yr)||!Zt.parent.inlineContent)&&!/\S/.test(Se.doc.textBetween(Zt.pos,yr.pos,"",""))&&(Bi=ee.Selection.findFrom(Se.doc.resolve(Zt.pos+1),1,!0))&&Bi.head>Zt.pos)&&m.someProp("handleKeyDown",function(Tn){return Tn(m,tr(13,"Enter"))})){m.input.lastIOSEnter=0;return}if(m.state.selection.anchor>it.start&&Ml(Qe,it.start,it.endA,Zt,yr)&&m.someProp("handleKeyDown",function(Tn){return Tn(m,tr(8,"Backspace"))})){pr&&Yt&&m.domObserver.suppressSelectionUpdates();return}Yt&&it.endB==it.start&&(m.input.lastChromeDelete=Date.now()),pr&&!on&&Zt.start()!=yr.start()&&yr.parentOffset==0&&Zt.depth==yr.depth&&Se.sel&&Se.sel.anchor==Se.sel.head&&Se.sel.head==it.endA&&(it.endB-=2,yr=Se.doc.resolveNoCache(it.endB-Se.from),setTimeout(function(){m.someProp("handleKeyDown",function(Tn){return Tn(m,tr(13,"Enter"))})},20));var mn=it.start,ii=it.endA,sn,Mo,vi;if(on){if(Zt.pos==yr.pos)Ze&&st<=11&&Zt.parentOffset==0&&(m.domObserver.suppressSelectionUpdates(),setTimeout(function(){return mi(m)},20)),sn=m.state.tr.delete(mn,ii),Mo=Qe.resolve(it.start).marksAcross(Qe.resolve(it.endA));else if(it.endA==it.endB&&(vi=Sm(Zt.parent.content.cut(Zt.parentOffset,yr.parentOffset),Br.parent.content.cut(Br.parentOffset,it.endA-Br.start()))))sn=m.state.tr,vi.type=="add"?sn.addMark(mn,ii,vi.mark):sn.removeMark(mn,ii,vi.mark);else if(Zt.parent.child(Zt.index()).isText&&Zt.index()==yr.index()-(yr.textOffset?0:1)){var Ao=Zt.parent.textBetween(Zt.parentOffset,yr.parentOffset);if(m.someProp("handleTextInput",function(Tn){return Tn(m,mn,ii,Ao)}))return;sn=m.state.tr.insertText(Ao,mn,ii)}}if(sn||(sn=m.state.tr.replace(mn,ii,Se.doc.slice(it.start-Se.from,it.endB-Se.from))),Se.sel){var Wn=Ou(m,sn.doc,Se.sel);Wn&&!(Yt&&m.composing&&Wn.empty&&(it.start!=it.endB||m.input.lastChromeDelete<Date.now()-100)&&(Wn.head==mn||Wn.head==sn.mapping.map(ii)-1)||Ze&&Wn.empty&&Wn.head==mn)&&sn.setSelection(Wn)}Mo&&sn.ensureMarks(Mo),D&&sn.setMeta("composition",D),m.dispatch(sn.scrollIntoView())}function Ou(m,S,v){return Math.max(v.anchor,v.head)>S.content.size?null:ra(m,S.resolve(v.anchor),S.resolve(v.head))}function Sm(m,S){for(var v=m.firstChild.marks,k=S.firstChild.marks,E=v,D=k,_,Q,j,re=0;re<k.length;re++)E=k[re].removeFromSet(E);for(var ge=0;ge<v.length;ge++)D=v[ge].removeFromSet(D);if(E.length==1&&D.length==0)Q=E[0],_="add",j=function(Ke){return Ke.mark(Q.addToSet(Ke.marks))};else if(E.length==0&&D.length==1)Q=D[0],_="remove",j=function(Ke){return Ke.mark(Q.removeFromSet(Ke.marks))};else return null;for(var De=[],Se=0;Se<S.childCount;Se++)De.push(j(S.child(Se)));if(le.Fragment.from(De).eq(m))return{mark:Q,type:_}}function Ml(m,S,v,k,E){if(v-S<=E.pos-k.pos||Al(k,!0,!1)<E.pos)return!1;var D=m.resolve(S);if(!k.parent.isTextblock){var _=D.nodeAfter;return _!=null&&v==S+_.nodeSize}if(D.parentOffset<D.parent.content.size||!D.parent.isTextblock)return!1;var Q=m.resolve(Al(D,!0,!0));return!Q.parent.isTextblock||Q.pos>v||Al(Q,!0,!1)<v?!1:k.parent.content.cut(k.parentOffset).eq(Q.parent.content)}function Al(m,S,v){for(var k=m.depth,E=S?m.end():m.pos;k>0&&(S||m.indexAfter(k)==m.node(k).childCount);)k--,E++,S=!1;if(v)for(var D=m.node(k).maybeChild(m.indexAfter(k));D&&!D.isLeaf;)D=D.firstChild,E++;return E}function kc(m,S,v,k,E){var D=m.findDiffStart(S,v);if(D==null)return null;var _=m.findDiffEnd(S,v+m.size,v+S.size),Q=_.a,j=_.b;if(E=="end"){var re=Math.max(0,D-Math.min(Q,j));k-=Q+re-D}if(Q<D&&m.size<S.size){var ge=k<=D&&k>=Q?D-k:0;D-=ge,D&&D<S.size&&Ir(S.textBetween(D-1,D+1))&&(D+=ge?1:-1),j=D+(j-Q),Q=D}else if(j<D){var De=k<=D&&k>=j?D-k:0;D-=De,D&&D<m.size&&Ir(m.textBetween(D-1,D+1))&&(D+=De?1:-1),Q=D+(Q-j),j=D}return{start:D,endA:Q,endB:j}}function Ir(m){if(m.length!=2)return!1;var S=m.charCodeAt(0),v=m.charCodeAt(1);return S>=56320&&S<=57343&&v>=55296&&v<=56319}var xm=Ce,ud=mu,Sc=function(){function m(S,v){var k=this;R(this,m),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Yh,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=v,this.state=v.state,this.directPlugins=v.plugins||[],this.directPlugins.forEach(Bf),this.dispatch=this.dispatch.bind(this),this.dom=S&&S.mount||document.createElement("div"),S&&(S.appendChild?S.appendChild(this.dom):typeof S=="function"?S(this.dom):S.mount&&(this.mounted=!0)),this.editable=hd(this),fd(this),this.nodeViews=Eo(this),this.docView=A(this.state.doc,cd(this),If(this),this.dom,this),this.domObserver=new Ee(this,function(E,D,_,Q){return oa(k,E,D,_,Q)}),this.domObserver.start(),Gh(this),this.updatePluginViews()}return U(m,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var v=this._props;this._props={};for(var k in v)this._props[k]=v[k];this._props.state=this.state}return this._props}},{key:"update",value:function(v){v.handleDOMEvents!=this._props.handleDOMEvents&&xi(this);var k=this._props;this._props=v,v.plugins&&(v.plugins.forEach(Bf),this.directPlugins=v.plugins),this.updateStateInner(v.state,k)}},{key:"setProps",value:function(v){var k={};for(var E in this._props)k[E]=this._props[E];k.state=this.state;for(var D in v)k[D]=v[D];this.update(k)}},{key:"updateState",value:function(v){this.updateStateInner(v,this._props)}},{key:"updateStateInner",value:function(v,k){var E,D=this.state,_=!1,Q=!1;v.storedMarks&&this.composing&&(yc(this),Q=!0),this.state=v;var j=D.plugins!=v.plugins||this._props.plugins!=k.plugins;if(j||this._props.plugins!=k.plugins||this._props.nodeViews!=k.nodeViews){var re=Eo(this);Cc(re,this.nodeViews)&&(this.nodeViews=re,_=!0)}(j||k.handleDOMEvents!=this._props.handleDOMEvents)&&xi(this),this.editable=hd(this),fd(this);var ge=If(this),De=cd(this),Se=D.plugins!=v.plugins&&!D.doc.eq(v.doc)?"reset":v.scrollToSelection>D.scrollToSelection?"to selection":"preserve",Qe=_||!this.docView.matchesNode(v.doc,De,ge);(Qe||!v.selection.eq(D.selection))&&(Q=!0);var Ke=Se=="preserve"&&Q&&this.dom.style.overflowAnchor==null&&Ft(this);if(Q){this.domObserver.stop();var ht=Qe&&(Ze||Yt)&&!this.composing&&!D.selection.empty&&!v.selection.empty&&xc(D.selection,v.selection);if(Qe){var xt=Yt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Nf(this)),(_||!this.docView.update(v.doc,De,ge,this))&&(this.docView.updateOuterDeco(De),this.docView.destroy(),this.docView=A(v.doc,De,ge,this.dom,this)),xt&&!this.trackWrites&&(ht=!0)}ht||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&xo(this))?mi(this,ht):(es(this,v.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(D),!((E=this.dragging)===null||E===void 0)&&E.node&&!D.doc.eq(v.doc)&&this.updateDraggedNode(this.dragging,D),Se=="reset"?this.dom.scrollTop=0:Se=="to selection"?this.scrollToSelection():Ke&&Or(Ke)}},{key:"scrollToSelection",value:function(){var v=this,k=this.domSelectionRange().focusNode;if(!(!k||!this.dom.contains(k.nodeType==1?k:k.parentNode))){if(!this.someProp("handleScrollToSelection",function(D){return D(v)}))if(this.state.selection instanceof ee.NodeSelection){var E=this.docView.domAfterPos(this.state.selection.from);E.nodeType==1&&pt(this,E.getBoundingClientRect(),k)}else pt(this,this.coordsAtPos(this.state.selection.head,1),k)}}},{key:"destroyPluginViews",value:function(){for(var v;v=this.pluginViews.pop();)v.destroy&&v.destroy()}},{key:"updatePluginViews",value:function(v){if(!v||v.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var k=0;k<this.directPlugins.length;k++){var E=this.directPlugins[k];E.spec.view&&this.pluginViews.push(E.spec.view(this))}for(var D=0;D<this.state.plugins.length;D++){var _=this.state.plugins[D];_.spec.view&&this.pluginViews.push(_.spec.view(this))}}else for(var Q=0;Q<this.pluginViews.length;Q++){var j=this.pluginViews[Q];j.update&&j.update(this,v)}}},{key:"updateDraggedNode",value:function(v,k){var E=v.node,D=-1;if(this.state.doc.nodeAt(E.from)==E.node)D=E.from;else{var _=E.from+(this.state.doc.content.size-k.doc.content.size),Q=_>0&&this.state.doc.nodeAt(_);Q==E.node&&(D=_)}this.dragging=new Cl(v.slice,v.move,D<0?void 0:ee.NodeSelection.create(this.state.doc,D))}},{key:"someProp",value:function(v,k){var E=this._props&&this._props[v],D;if(E!=null&&(D=k?k(E):E))return D;for(var _=0;_<this.directPlugins.length;_++){var Q=this.directPlugins[_].props[v];if(Q!=null&&(D=k?k(Q):Q))return D}var j=this.state.plugins;if(j)for(var re=0;re<j.length;re++){var ge=j[re].props[v];if(ge!=null&&(D=k?k(ge):ge))return D}}},{key:"hasFocus",value:function(){if(Ze){var v=this.root.activeElement;if(v==this.dom)return!0;if(!v||!this.dom.contains(v))return!1;for(;v&&this.dom!=v&&this.dom.contains(v);){if(v.contentEditable=="false")return!1;v=v.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&Xr(this.dom),mi(this),this.domObserver.start()}},{key:"root",get:function(){var v=this,k=this._root;if(k==null){for(var E=function(j){if(j.nodeType==9||j.nodeType==11&&j.host)return j.getSelection||(Object.getPrototypeOf(j).getSelection=function(){return j.ownerDocument.getSelection()}),{v:v._root=j}},D,_=this.dom.parentNode;_;_=_.parentNode)if(D=E(_),D)return D.v}return k||document}},{key:"updateRoot",value:function(){this._root=null}},{key:"posAtCoords",value:function(v){return ei(this,v)}},{key:"coordsAtPos",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return ke(this,v,k)}},{key:"domAtPos",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.domFromPos(v,k)}},{key:"nodeDOM",value:function(v){var k=this.docView.descAt(v);return k?k.nodeDOM:null}},{key:"posAtDOM",value:function(v,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,D=this.docView.posFromDOM(v,k,E);if(D==null)throw new RangeError("DOM position not inside the editor");return D}},{key:"endOfTextblock",value:function(v,k){return qe(this,k||this.state,v)}},{key:"pasteHTML",value:function(v,k){return zn(this,"",v,!1,k||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(v,k){return zn(this,v,null,!0,k||new ClipboardEvent("paste"))}},{key:"serializeForClipboard",value:function(v){return ft(this,v)}},{key:"destroy",value:function(){this.docView&&(hm(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],If(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,ot())}},{key:"isDestroyed",get:function(){return this.docView==null}},{key:"dispatchEvent",value:function(v){return is(this,v)}},{key:"dispatch",value:function(v){var k=this._props.dispatchTransaction;k?k.call(this,v):this.updateState(this.state.apply(v))}},{key:"domSelectionRange",value:function(){var v=this.domSelection();return v?sr&&this.root.nodeType===11&&or(this.dom.ownerDocument)==this.dom&&Nr(this,v)||v:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),m}();function cd(m){var S=Object.create(null);return S.class="ProseMirror",S.contenteditable=String(m.editable),m.someProp("attributes",function(v){if(typeof v=="function"&&(v=v(m.state)),v)for(var k in v)k=="class"?S.class+=" "+v[k]:k=="style"?S.style=(S.style?S.style+";":"")+v[k]:!S[k]&&k!="contenteditable"&&k!="nodeName"&&(S[k]=String(v[k]))}),S.translate||(S.translate="no"),[aa.node(0,m.state.doc.content.size,S)]}function fd(m){if(m.markCursor){var S=document.createElement("img");S.className="ProseMirror-separator",S.setAttribute("mark-placeholder","true"),S.setAttribute("alt",""),m.cursorWrapper={dom:S,deco:aa.widget(m.state.selection.from,S,{raw:!0,marks:m.markCursor})}}else m.cursorWrapper=null}function hd(m){return!m.someProp("editable",function(S){return S(m.state)===!1})}function xc(m,S){var v=Math.min(m.$anchor.sharedDepth(m.head),S.$anchor.sharedDepth(S.head));return m.$anchor.start(v)!=S.$anchor.start(v)}function Eo(m){var S=Object.create(null);function v(k){for(var E in k)Object.prototype.hasOwnProperty.call(S,E)||(S[E]=k[E])}return m.someProp("nodeViews",v),m.someProp("markViews",v),S}function Cc(m,S){var v=0,k=0;for(var E in m){if(m[E]!=S[E])return!0;v++}for(var D in S)k++;return v!=k}function Bf(m){if(m.spec.state||m.spec.filterTransaction||m.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}return ah.Decoration=aa,ah.DecorationSet=Qi,ah.EditorView=Sc,ah.__endComposition=ud,ah.__parseFromClipboard=xm,ah}/*!
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */var bV;function qxt(){return bV||(bV=1,function(r,e){(function(n,i){r.exports=i(_xt(),Qxt(),wk(),kk(),Bxt())})(self,function(t,n,i,a,o){return function(){var s={368:function(h){/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */(function(p,g){h.exports=g()})(this,function(){function p(ct){if(Array.isArray(ct)){for(var pt=0,Ft=Array(ct.length);pt<ct.length;pt++)Ft[pt]=ct[pt];return Ft}else return Array.from(ct)}var g=Object.hasOwnProperty,O=Object.setPrototypeOf,T=Object.isFrozen,M=Object.getPrototypeOf,R=Object.getOwnPropertyDescriptor,z=Object.freeze,U=Object.seal,G=Object.create,J=typeof Reflect<"u"&&Reflect,ee=J.apply,le=J.construct;ee||(ee=function(pt,Ft,er){return pt.apply(Ft,er)}),z||(z=function(pt){return pt}),U||(U=function(pt){return pt}),le||(le=function(pt,Ft){return new(Function.prototype.bind.apply(pt,[null].concat(p(Ft))))});var pe=Vt(Array.prototype.forEach),be=Vt(Array.prototype.pop),Fe=Vt(Array.prototype.push),Ge=Vt(String.prototype.toLowerCase),_e=Vt(String.prototype.match),ot=Vt(String.prototype.replace),at=Vt(String.prototype.indexOf),dt=Vt(String.prototype.trim),Ot=Vt(RegExp.prototype.test),Qt=ar(TypeError);function Vt(ct){return function(pt){for(var Ft=arguments.length,er=Array(Ft>1?Ft-1:0),Or=1;Or<Ft;Or++)er[Or-1]=arguments[Or];return ee(ct,pt,er)}}function ar(ct){return function(){for(var pt=arguments.length,Ft=Array(pt),er=0;er<pt;er++)Ft[er]=arguments[er];return le(ct,Ft)}}function bt(ct,pt){O&&O(ct,null);for(var Ft=pt.length;Ft--;){var er=pt[Ft];if(typeof er=="string"){var Or=Ge(er);Or!==er&&(T(pt)||(pt[Ft]=Or),er=Or)}ct[er]=!0}return ct}function Rt(ct){var pt=G(null),Ft=void 0;for(Ft in ct)ee(g,ct,[Ft])&&(pt[Ft]=ct[Ft]);return pt}function Pt(ct,pt){for(;ct!==null;){var Ft=R(ct,pt);if(Ft){if(Ft.get)return Vt(Ft.get);if(typeof Ft.value=="function")return Vt(Ft.value)}ct=M(ct)}function er(Or){return console.warn("fallback value for",Or),null}return er}var tr=z(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),or=z(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Sr=z(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Le=z(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Pe=z(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ve=z(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),xe=z(["#text"]),Oe=z(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Be=z(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ze=z(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),st=z(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$t=U(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Jt=U(/<%[\s\S]*|[\s\S]*%>/gm),Yt=U(/^data-[\-\w.\u00B7-\uFFFF]/),Cr=U(/^aria-[\-\w]+$/),sr=U(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),un=U(/^(?:\w+script|data):/i),Zr=U(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ct){return typeof ct}:function(ct){return ct&&typeof Symbol=="function"&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct};function pr(ct){if(Array.isArray(ct)){for(var pt=0,Ft=Array(ct.length);pt<ct.length;pt++)Ft[pt]=ct[pt];return Ft}else return Array.from(ct)}var tn=function(){return typeof window>"u"?null:window},$i=function(pt,Ft){if((typeof pt>"u"?"undefined":Lr(pt))!=="object"||typeof pt.createPolicy!="function")return null;var er=null,Or="data-tt-policy-suffix";Ft.currentScript&&Ft.currentScript.hasAttribute(Or)&&(er=Ft.currentScript.getAttribute(Or));var pn="dompurify"+(er?"#"+er:"");try{return pt.createPolicy(pn,{createHTML:function(Xr){return Xr}})}catch{return console.warn("TrustedTypes policy "+pn+" could not be created."),null}};function On(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tn(),pt=function(Ce){return On(Ce)};if(pt.version="2.3.3",pt.removed=[],!ct||!ct.document||ct.document.nodeType!==9)return pt.isSupported=!1,pt;var Ft=ct.document,er=ct.document,Or=ct.DocumentFragment,pn=ct.HTMLTemplateElement,_r=ct.Node,Xr=ct.Element,ur=ct.NodeFilter,Zn=ct.NamedNodeMap,rn=Zn===void 0?ct.NamedNodeMap||ct.MozNamedAttrMap:Zn,Jn=ct.Text,di=ct.Comment,pi=ct.DOMParser,cn=ct.trustedTypes,ei=Xr.prototype,ti=Pt(ei,"cloneNode"),te=Pt(ei,"nextSibling"),se=Pt(ei,"childNodes"),ke=Pt(ei,"parentNode");if(typeof pn=="function"){var $e=er.createElement("template");$e.content&&$e.content.ownerDocument&&(er=$e.content.ownerDocument)}var W=$i(cn,Ft),X=W&&Ko?W.createHTML(""):"",B=er,L=B.implementation,q=B.createNodeIterator,Z=B.createDocumentFragment,oe=B.getElementsByTagName,Te=Ft.importNode,qe={};try{qe=Rt(er).documentMode?er.documentMode:{}}catch{}var me={};pt.isSupported=typeof ke=="function"&&L&&typeof L.createHTMLDocument<"u"&&qe!==9;var ce=$t,Re=Jt,Ve=Yt,ut=Cr,Lt=un,V=Zr,$=sr,x=null,A=bt({},[].concat(pr(tr),pr(or),pr(Sr),pr(Pe),pr(xe))),I=null,Y=bt({},[].concat(pr(Oe),pr(Be),pr(Ze),pr(st))),ae=null,de=null,Ae=!0,Ne=!0,tt=!1,rt=!1,mt=!1,zt=!1,wr=!1,Gr=!1,ea=!1,ko=!0,Ko=!1,cu=!0,Ol=!0,Jo=!1,ta={},za=null,yl=bt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),mi=null,bl=bt({},["audio","video","img","source","image","track"]),wl=null,Ls=bt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_s="http://www.w3.org/1998/Math/MathML",Is="http://www.w3.org/2000/svg",Ha="http://www.w3.org/1999/xhtml",es=Ha,ts=!1,ra=void 0,So=["application/xhtml+xml","text/html"],fu="text/html",xo=void 0,Wa=null,xa=er.createElement("form"),Qs=function(Ce){Wa&&Wa===Ce||((!Ce||(typeof Ce>"u"?"undefined":Lr(Ce))!=="object")&&(Ce={}),Ce=Rt(Ce),x="ALLOWED_TAGS"in Ce?bt({},Ce.ALLOWED_TAGS):A,I="ALLOWED_ATTR"in Ce?bt({},Ce.ALLOWED_ATTR):Y,wl="ADD_URI_SAFE_ATTR"in Ce?bt(Rt(Ls),Ce.ADD_URI_SAFE_ATTR):Ls,mi="ADD_DATA_URI_TAGS"in Ce?bt(Rt(bl),Ce.ADD_DATA_URI_TAGS):bl,za="FORBID_CONTENTS"in Ce?bt({},Ce.FORBID_CONTENTS):yl,ae="FORBID_TAGS"in Ce?bt({},Ce.FORBID_TAGS):{},de="FORBID_ATTR"in Ce?bt({},Ce.FORBID_ATTR):{},ta="USE_PROFILES"in Ce?Ce.USE_PROFILES:!1,Ae=Ce.ALLOW_ARIA_ATTR!==!1,Ne=Ce.ALLOW_DATA_ATTR!==!1,tt=Ce.ALLOW_UNKNOWN_PROTOCOLS||!1,rt=Ce.SAFE_FOR_TEMPLATES||!1,mt=Ce.WHOLE_DOCUMENT||!1,Gr=Ce.RETURN_DOM||!1,ea=Ce.RETURN_DOM_FRAGMENT||!1,ko=Ce.RETURN_DOM_IMPORT!==!1,Ko=Ce.RETURN_TRUSTED_TYPE||!1,wr=Ce.FORCE_BODY||!1,cu=Ce.SANITIZE_DOM!==!1,Ol=Ce.KEEP_CONTENT!==!1,Jo=Ce.IN_PLACE||!1,$=Ce.ALLOWED_URI_REGEXP||$,es=Ce.NAMESPACE||Ha,ra=So.indexOf(Ce.PARSER_MEDIA_TYPE)===-1?ra=fu:ra=Ce.PARSER_MEDIA_TYPE,xo=ra==="application/xhtml+xml"?function(lt){return lt}:Ge,rt&&(Ne=!1),ea&&(Gr=!0),ta&&(x=bt({},[].concat(pr(xe))),I=[],ta.html===!0&&(bt(x,tr),bt(I,Oe)),ta.svg===!0&&(bt(x,or),bt(I,Be),bt(I,st)),ta.svgFilters===!0&&(bt(x,Sr),bt(I,Be),bt(I,st)),ta.mathMl===!0&&(bt(x,Pe),bt(I,Ze),bt(I,st))),Ce.ADD_TAGS&&(x===A&&(x=Rt(x)),bt(x,Ce.ADD_TAGS)),Ce.ADD_ATTR&&(I===Y&&(I=Rt(I)),bt(I,Ce.ADD_ATTR)),Ce.ADD_URI_SAFE_ATTR&&bt(wl,Ce.ADD_URI_SAFE_ATTR),Ce.FORBID_CONTENTS&&(za===yl&&(za=Rt(za)),bt(za,Ce.FORBID_CONTENTS)),Ol&&(x["#text"]=!0),mt&&bt(x,["html","head","body"]),x.table&&(bt(x,["tbody"]),delete ae.tbody),z&&z(Ce),Wa=Ce)},rs=bt({},["mi","mo","mn","ms","mtext"]),Co=bt({},["foreignobject","desc","title","annotation-xml"]),Ca=bt({},or);bt(Ca,Sr),bt(Ca,Le);var hu=bt({},Pe);bt(hu,ve);var Cf=function(Ce){var lt=ke(Ce);(!lt||!lt.tagName)&&(lt={namespaceURI:Ha,tagName:"template"});var Nt=Ge(Ce.tagName),Rr=Ge(lt.tagName);if(Ce.namespaceURI===Is)return lt.namespaceURI===Ha?Nt==="svg":lt.namespaceURI===_s?Nt==="svg"&&(Rr==="annotation-xml"||rs[Rr]):!!Ca[Nt];if(Ce.namespaceURI===_s)return lt.namespaceURI===Ha?Nt==="math":lt.namespaceURI===Is?Nt==="math"&&Co[Rr]:!!hu[Nt];if(Ce.namespaceURI===Ha){if(lt.namespaceURI===Is&&!Co[Rr]||lt.namespaceURI===_s&&!rs[Rr])return!1;var Pn=bt({},["title","style","font","a","script"]);return!hu[Nt]&&(Pn[Nt]||!Ca[Nt])}return!1},Li=function(Ce){Fe(pt.removed,{element:Ce});try{Ce.parentNode.removeChild(Ce)}catch{try{Ce.outerHTML=X}catch{Ce.remove()}}},dc=function(Ce,lt){try{Fe(pt.removed,{attribute:lt.getAttributeNode(Ce),from:lt})}catch{Fe(pt.removed,{attribute:null,from:lt})}if(lt.removeAttribute(Ce),Ce==="is"&&!I[Ce])if(Gr||ea)try{Li(lt)}catch{}else try{lt.setAttribute(Ce,"")}catch{}},pc=function(Ce){var lt=void 0,Nt=void 0;if(wr)Ce="<remove></remove>"+Ce;else{var Rr=_e(Ce,/^[\r\n\t ]+/);Nt=Rr&&Rr[0]}ra==="application/xhtml+xml"&&(Ce='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ce+"</body></html>");var Pn=W?W.createHTML(Ce):Ce;if(es===Ha)try{lt=new pi().parseFromString(Pn,ra)}catch{}if(!lt||!lt.documentElement){lt=L.createDocument(es,"template",null);try{lt.documentElement.innerHTML=ts?"":Pn}catch{}}var Rn=lt.body||lt.documentElement;return Ce&&Nt&&Rn.insertBefore(er.createTextNode(Nt),Rn.childNodes[0]||null),es===Ha?oe.call(lt,mt?"html":"body")[0]:mt?lt.documentElement:Rn},kl=function(Ce){return q.call(Ce.ownerDocument||Ce,Ce,ur.SHOW_ELEMENT|ur.SHOW_COMMENT|ur.SHOW_TEXT,null,!1)},mc=function(Ce){return Ce instanceof Jn||Ce instanceof di?!1:typeof Ce.nodeName!="string"||typeof Ce.textContent!="string"||typeof Ce.removeChild!="function"||!(Ce.attributes instanceof rn)||typeof Ce.removeAttribute!="function"||typeof Ce.setAttribute!="function"||typeof Ce.namespaceURI!="string"||typeof Ce.insertBefore!="function"},Ua=function(Ce){return(typeof _r>"u"?"undefined":Lr(_r))==="object"?Ce instanceof _r:Ce&&(typeof Ce>"u"?"undefined":Lr(Ce))==="object"&&typeof Ce.nodeType=="number"&&typeof Ce.nodeName=="string"},na=function(Ce,lt,Nt){me[Ce]&&pe(me[Ce],function(Rr){Rr.call(pt,lt,Nt,Wa)})},du=function(Ce){var lt=void 0;if(na("beforeSanitizeElements",Ce,null),mc(Ce)||_e(Ce.nodeName,/[\u0080-\uFFFF]/))return Li(Ce),!0;var Nt=xo(Ce.nodeName);if(na("uponSanitizeElement",Ce,{tagName:Nt,allowedTags:x}),!Ua(Ce.firstElementChild)&&(!Ua(Ce.content)||!Ua(Ce.content.firstElementChild))&&Ot(/<[/\w]/g,Ce.innerHTML)&&Ot(/<[/\w]/g,Ce.textContent)||Nt==="select"&&Ot(/<template/i,Ce.innerHTML))return Li(Ce),!0;if(!x[Nt]||ae[Nt]){if(Ol&&!za[Nt]){var Rr=ke(Ce)||Ce.parentNode,Pn=se(Ce)||Ce.childNodes;if(Pn&&Rr)for(var Rn=Pn.length,xn=Rn-1;xn>=0;--xn)Rr.insertBefore(ti(Pn[xn],!0),te(Ce))}return Li(Ce),!0}return Ce instanceof Xr&&!Cf(Ce)||(Nt==="noscript"||Nt==="noembed")&&Ot(/<\/no(script|embed)/i,Ce.innerHTML)?(Li(Ce),!0):(rt&&Ce.nodeType===3&&(lt=Ce.textContent,lt=ot(lt,ce," "),lt=ot(lt,Re," "),Ce.textContent!==lt&&(Fe(pt.removed,{element:Ce.cloneNode()}),Ce.textContent=lt)),na("afterSanitizeElements",Ce,null),!1)},vc=function(Ce,lt,Nt){if(cu&&(lt==="id"||lt==="name")&&(Nt in er||Nt in xa))return!1;if(!(Ne&&!de[lt]&&Ot(Ve,lt))){if(!(Ae&&Ot(ut,lt))){if(!I[lt]||de[lt])return!1;if(!wl[lt]){if(!Ot($,ot(Nt,V,""))){if(!((lt==="src"||lt==="xlink:href"||lt==="href")&&Ce!=="script"&&at(Nt,"data:")===0&&mi[Ce])){if(!(tt&&!Ot(Lt,ot(Nt,V,"")))){if(Nt)return!1}}}}}}return!0},gc=function(Ce){var lt=void 0,Nt=void 0,Rr=void 0,Pn=void 0;na("beforeSanitizeAttributes",Ce,null);var Rn=Ce.attributes;if(Rn){var xn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I};for(Pn=Rn.length;Pn--;){lt=Rn[Pn];var _i=lt,ns=_i.name,bn=_i.namespaceURI;if(Nt=dt(lt.value),Rr=xo(ns),xn.attrName=Rr,xn.attrValue=Nt,xn.keepAttr=!0,xn.forceKeepAttr=void 0,na("uponSanitizeAttribute",Ce,xn),Nt=xn.attrValue,!xn.forceKeepAttr&&(dc(ns,Ce),!!xn.keepAttr)){if(Ot(/\/>/i,Nt)){dc(ns,Ce);continue}rt&&(Nt=ot(Nt,ce," "),Nt=ot(Nt,Re," "));var Sl=xo(Ce.nodeName);if(vc(Sl,Rr,Nt))try{bn?Ce.setAttributeNS(bn,ns,Nt):Ce.setAttribute(ns,Nt),be(pt.removed)}catch{}}}na("afterSanitizeAttributes",Ce,null)}},Tf=function ft(Ce){var lt=void 0,Nt=kl(Ce);for(na("beforeSanitizeShadowDOM",Ce,null);lt=Nt.nextNode();)na("uponSanitizeShadowNode",lt,null),!du(lt)&&(lt.content instanceof Or&&ft(lt.content),gc(lt));na("afterSanitizeShadowDOM",Ce,null)};return pt.sanitize=function(ft,Ce){var lt=void 0,Nt=void 0,Rr=void 0,Pn=void 0,Rn=void 0;if(ts=!ft,ts&&(ft="<!-->"),typeof ft!="string"&&!Ua(ft)){if(typeof ft.toString!="function")throw Qt("toString is not a function");if(ft=ft.toString(),typeof ft!="string")throw Qt("dirty is not a string, aborting")}if(!pt.isSupported){if(Lr(ct.toStaticHTML)==="object"||typeof ct.toStaticHTML=="function"){if(typeof ft=="string")return ct.toStaticHTML(ft);if(Ua(ft))return ct.toStaticHTML(ft.outerHTML)}return ft}if(zt||Qs(Ce),pt.removed=[],typeof ft=="string"&&(Jo=!1),!Jo)if(ft instanceof _r)lt=pc("<!---->"),Nt=lt.ownerDocument.importNode(ft,!0),Nt.nodeType===1&&Nt.nodeName==="BODY"||Nt.nodeName==="HTML"?lt=Nt:lt.appendChild(Nt);else{if(!Gr&&!rt&&!mt&&ft.indexOf("<")===-1)return W&&Ko?W.createHTML(ft):ft;if(lt=pc(ft),!lt)return Gr?null:X}lt&&wr&&Li(lt.firstChild);for(var xn=kl(Jo?ft:lt);Rr=xn.nextNode();)Rr.nodeType===3&&Rr===Pn||du(Rr)||(Rr.content instanceof Or&&Tf(Rr.content),gc(Rr),Pn=Rr);if(Pn=null,Jo)return ft;if(Gr){if(ea)for(Rn=Z.call(lt.ownerDocument);lt.firstChild;)Rn.appendChild(lt.firstChild);else Rn=lt;return ko&&(Rn=Te.call(Ft,Rn,!0)),Rn}var _i=mt?lt.outerHTML:lt.innerHTML;return rt&&(_i=ot(_i,ce," "),_i=ot(_i,Re," ")),W&&Ko?W.createHTML(_i):_i},pt.setConfig=function(ft){Qs(ft),zt=!0},pt.clearConfig=function(){Wa=null,zt=!1},pt.isValidAttribute=function(ft,Ce,lt){Wa||Qs({});var Nt=xo(ft),Rr=xo(Ce);return vc(Nt,Rr,lt)},pt.addHook=function(ft,Ce){typeof Ce=="function"&&(me[ft]=me[ft]||[],Fe(me[ft],Ce))},pt.removeHook=function(ft){me[ft]&&be(me[ft])},pt.removeHooks=function(ft){me[ft]&&(me[ft]=[])},pt.removeAllHooks=function(){me={}},pt}var yn=On();return yn})},928:function(h,p,g){var O=g(322);function T(M,R,z){var U,G;if(z=z||0,!O(R))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(R,M,z);for(G=R.length,U=z;z>=0&&U<G;U+=1)if(R[U]===M)return U;return-1}h.exports=T},690:function(h,p,g){var O=g(322),T=g(893),M=g(956);function R(z,U,G){O(z)?T(z,U,G):M(z,U,G)}h.exports=R},893:function(h){function p(g,O,T){var M=0,R=g.length;for(T=T||null;M<R&&O.call(T,g[M],M,g)!==!1;M+=1);}h.exports=p},956:function(h){function p(g,O,T){var M;T=T||null;for(M in g)if(g.hasOwnProperty(M)&&O.call(T,g[M],M,g)===!1)break}h.exports=p},990:function(h,p,g){var O=g(893);function T(M){var R;try{R=Array.prototype.slice.call(M)}catch{R=[],O(M,function(U){R.push(U)})}return R}h.exports=T},755:function(h){var p="_feEventKey";function g(O,T){var M=O[p],R;return M||(M=O[p]={}),R=M[T],R||(R=M[T]=[]),R}h.exports=g},349:function(h,p,g){var O=g(758),T=g(690),M=g(755);function R(G,J,ee){if(O(J)){T(J.split(/\s+/g),function(le){z(G,le,ee)});return}T(J,function(le,pe){z(G,pe,le)})}function z(G,J,ee){var le=M(G,J),pe;ee?(T(le,function(be,Fe){return ee===be.handler?(U(G,J,be.wrappedHandler),pe=Fe,!1):!0}),le.splice(pe,1)):(T(le,function(be){U(G,J,be.wrappedHandler)}),le.splice(0,le.length))}function U(G,J,ee){"removeEventListener"in G?G.removeEventListener(J,ee):"detachEvent"in G&&G.detachEvent("on"+J,ee)}h.exports=R},348:function(h,p,g){var O=g(758),T=g(690),M=g(755);function R(G,J,ee,le){if(O(J)){T(J.split(/\s+/g),function(pe){z(G,pe,ee,le)});return}T(J,function(pe,be){z(G,be,pe,ee)})}function z(G,J,ee,le){function pe(be){ee.call(le||G,be||window.event)}"addEventListener"in G?G.addEventListener(J,pe):"attachEvent"in G&&G.attachEvent("on"+J,pe),U(G,J,ee,pe)}function U(G,J,ee,le){var pe=M(G,J),be=!1;T(pe,function(Fe){return Fe.handler===ee?(be=!0,!1):!0}),be||pe.push({handler:ee,wrappedHandler:le})}h.exports=R},24:function(h,p,g){var O=g(322),T=g(929);function M(R,z){if(z=O(z)?z.join(" "):z,z=z.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),T(R.className.baseVal)){R.className=z;return}R.className.baseVal=z}h.exports=M},204:function(h,p,g){var O=g(690),T=g(928),M=g(902),R=g(24);function z(U){var G=Array.prototype.slice.call(arguments,1),J=U.classList,ee=[],le;if(J){O(G,function(pe){U.classList.add(pe)});return}le=M(U),le&&(G=[].concat(le.split(/\s+/),G)),O(G,function(pe){T(pe,ee)<0&&ee.push(pe)}),R(U,ee)}h.exports=z},522:function(h,p,g){var O=g(758),T=g(690);function M(R,z,U){var G=R.style;if(O(z)){G[z]=U;return}T(z,function(J,ee){G[ee]=J})}h.exports=M},902:function(h,p,g){var O=g(929);function T(M){return!M||!M.className?"":O(M.className.baseVal)?M.className:M.className.baseVal}h.exports=T},714:function(h,p,g){var O=g(928),T=g(902);function M(R,z){var U;return R.classList?R.classList.contains(z):(U=T(R).split(/\s+/),O(z,U)>-1)}h.exports=M},471:function(h,p,g){var O=g(928),T=g(990),M=Element.prototype,R=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.msMatchesSelector||function(U){var G=this.document||this.ownerDocument;return O(this,T(G.querySelectorAll(U)))>-1};function z(U,G){return R.call(U,G)}h.exports=z},462:function(h,p,g){var O=g(893),T=g(928),M=g(902),R=g(24);function z(U){var G=Array.prototype.slice.call(arguments,1),J=U.classList,ee,le;if(J){O(G,function(pe){J.remove(pe)});return}ee=M(U).split(/\s+/),le=[],O(ee,function(pe){T(pe,G)<0&&le.push(pe)}),R(U,le)}h.exports=z},969:function(h){function p(g,O){var T=Object.prototype.hasOwnProperty,M,R,z,U;for(z=1,U=arguments.length;z<U;z+=1){M=arguments[z];for(R in M)T.call(M,R)&&(g[R]=M[R])}return g}h.exports=p},254:function(h,p,g){var O=g(956);function T(M,R){var z=document.createElement("img"),U="";return O(R,function(G,J){U+="&"+J+"="+G}),U=U.substring(1),z.src=M+"?"+U,z.style.display="none",document.body.appendChild(z),document.body.removeChild(z),z}h.exports=T},391:function(h,p,g){var O=g(929),T=g(254),M=7*24*60*60*1e3;function R(U){var G=new Date().getTime();return G-U>M}function z(U,G){var J="https://www.google-analytics.com/collect",ee=location.hostname,le="event",pe="use",be="TOAST UI "+U+" for "+ee+": Statistics",Fe=window.localStorage.getItem(be);!O(window.tui)&&window.tui.usageStatistics===!1||Fe&&!R(Fe)||(window.localStorage.setItem(be,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&T(J,{v:1,t:le,tid:G,cid:ee,dp:ee,dh:U,el:U,ec:pe})},1e3))}h.exports=z},322:function(h){function p(g){return g instanceof Array}h.exports=p},65:function(h,p,g){var O=g(929),T=g(934);function M(R){return!O(R)&&!T(R)}h.exports=M},404:function(h,p,g){var O=g(790);function T(M){return!O(M)}h.exports=T},294:function(h){function p(g){return g instanceof Function}h.exports=p},934:function(h){function p(g){return g===null}h.exports=p},758:function(h){function p(g){return typeof g=="string"||g instanceof String}h.exports=p},790:function(h,p,g){var O=g(65);function T(M){return O(M)&&M!==!1}h.exports=T},929:function(h){function p(g){return g===void 0}h.exports=p},479:function(h){h.exports=t},481:function(h){h.exports=n},43:function(h){h.exports=i},814:function(h){h.exports=a},311:function(h){h.exports=o}},l={};function u(h){var p=l[h];if(p!==void 0)return p.exports;var g=l[h]={exports:{}};return s[h].call(g.exports,g,g.exports,u),g.exports}(function(){u.n=function(h){var p=h&&h.__esModule?function(){return h.default}:function(){return h};return u.d(p,{a:p}),p}})(),function(){u.d=function(h,p){for(var g in p)u.o(p,g)&&!u.o(h,g)&&Object.defineProperty(h,g,{enumerable:!0,get:p[g]})}}(),function(){u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){u.o=function(h,p){return Object.prototype.hasOwnProperty.call(h,p)}}();var c={};return function(){u.d(c,{default:function(){return Ebe}});var h=function(){return h=Object.assign||function(y){for(var C,P=1,F=arguments.length;P<F;P++){C=arguments[P];for(var ne in C)Object.prototype.hasOwnProperty.call(C,ne)&&(y[ne]=C[ne])}return y},h.apply(this,arguments)};function p(b,y,C){if(arguments.length===2)for(var P=0,F=y.length,ne;P<F;P++)(ne||!(P in y))&&(ne||(ne=Array.prototype.slice.call(y,0,P)),ne[P]=y[P]);return b.concat(ne||Array.prototype.slice.call(y))}/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var g=function(b,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,P){C.__proto__=P}||function(C,P){for(var F in P)Object.prototype.hasOwnProperty.call(P,F)&&(C[F]=P[F])},g(b,y)};function O(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(b,y);function C(){this.constructor=b}b.prototype=y===null?Object.create(y):(C.prototype=y.prototype,new C)}var T=function(){return T=Object.assign||function(y){for(var C,P=1,F=arguments.length;P<F;P++){C=arguments[P];for(var ne in C)Object.prototype.hasOwnProperty.call(C,ne)&&(y[ne]=C[ne])}return y},T.apply(this,arguments)};function M(b,y,C){if(arguments.length===2)for(var P=0,F=y.length,ne;P<F;P++)(ne||!(P in y))&&(ne||(ne=Array.prototype.slice.call(y,0,P)),ne[P]=y[P]);return b.concat(ne||Array.prototype.slice.call(y))}var R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof u.g<"u"?u.g:typeof self<"u"?self:{},z={};function U(b){var y,C,P=z[b];if(P)return P;for(P=z[b]=[],y=0;y<128;y++)C=String.fromCharCode(y),/^[0-9a-z]$/i.test(C)?P.push(C):P.push("%"+("0"+y.toString(16).toUpperCase()).slice(-2));for(y=0;y<b.length;y++)P[b.charCodeAt(y)]=b[y];return P}function G(b,y,C){var P,F,ne,ue,ye,We="";for(typeof y!="string"&&(C=y,y=G.defaultChars),typeof C>"u"&&(C=!0),ye=U(y),P=0,F=b.length;P<F;P++){if(ne=b.charCodeAt(P),C&&ne===37&&P+2<F&&/^[0-9a-f]{2}$/i.test(b.slice(P+1,P+3))){We+=b.slice(P,P+3),P+=2;continue}if(ne<128){We+=ye[ne];continue}if(ne>=55296&&ne<=57343){if(ne>=55296&&ne<=56319&&P+1<F&&(ue=b.charCodeAt(P+1),ue>=56320&&ue<=57343)){We+=encodeURIComponent(b[P]+b[P+1]),P++;continue}We+="%EF%BF%BD";continue}We+=encodeURIComponent(b[P])}return We}G.defaultChars=";/?:@&=+$,-_.!~*'()#",G.componentChars="-_.!~*'()";var J=G,ee={},le={},pe="Ã",be="Ã¡",Fe="Ä",Ge="Ä",_e="â¾",ot="â¿",at="â¾Ì³",dt="Ã",Ot="Ã¢",Qt="Â´",Vt="Ð",ar="Ð°",bt="Ã",Rt="Ã¦",Pt="â¡",tr="ð",or="ð",Sr="Ã",Le="Ã ",Pe="âµ",ve="âµ",xe="Î",Oe="Î±",Be="Ä",Ze="Ä",st="â¨¿",$t="&",Jt="&",Yt="â©",Cr="â©",sr="â§",un="â©",Zr="â©",Lr="â©",pr="â ",tn="â¦¤",$i="â ",On="â¦¨",yn="â¦©",ct="â¦ª",pt="â¦«",Ft="â¦¬",er="â¦­",Or="â¦®",pn="â¦¯",_r="â¡",Xr="â",ur="â¾",Zn="â¦",rn="â¢",Jn="Ã",di="â¼",pi="Ä",cn="Ä",ei="ð¸",ti="ð",te="â©¯",se="â",ke="â©°",$e="â",W="â",X="'",B="â¡",L="â",q="â",Z="Ã",oe="Ã¥",Te="ð",qe="ð¶",me="â",ce="*",Re="â",Ve="â",ut="Ã",Lt="Ã£",V="Ã",$="Ã¤",x="â³",A="â¨",I="â",Y="Ï¶",ae="âµ",de="â½",Ae="â",Ne="â",tt="â«§",rt="â½",mt="â",zt="â",wr="â",Gr="âµ",ea="â¶",ko="â",Ko="Ð",cu="Ð±",Ol="â",Jo="âµ",ta="âµ",za="âµ",yl="â¦°",mi="Ï¶",bl="â¬",wl="â¬",Ls="Î",_s="Î²",Is="â¶",Ha="â¬",es="ð",ts="ð",ra="â",So="â¯",fu="â",xo="â¨",Wa="â¨",xa="â¨",Qs="â¨",rs="â",Co="â½",Ca="â³",hu="â¨",Cf="â",Li="â",dc="â¤",pc="â§«",kl="âª",mc="â´",Ua="â¾",na="â",du="â¸",vc="â£",gc="â",Tf="â",ft="â",Ce="â",lt="=â¥",Nt="â¡â¥",Rr="â«­",Pn="â",Rn="ð¹",xn="ð",_i="â¥",ns="â¥",bn="â",Sl="â§",Xa="â",Uh="â",Ef="â",ia="â",Xh="â",ri="â",ni="â",jh="â",Yh="â",Gh="â",Cn="â¬",hm="â¤",xi="â¥",Mf="â¦",Kh="â´",is="â§",Bs="â¨",Af="â©",Kr="â",Ii="â",Df="â ",dm="â",Pf="â",pm="â",mm="â",vm="â",Oc="â",pu="â",xl="â",Jh="â",ed="â",Rf="â¼",yc="âª",Nf="â«",td="â¬",mu="â¤",$f="â¡",qs="â¢",gm="â£",rd="â",zn="â",bc="â",Cl="â ",nd="âµ",Lf="Ë",id="Ë",vu="Â¦",ad="ð·",gu="â¬",Om="â",aa="â½",Tl="â",Fs="â§",Qi="\\",Hn="â",To="â¢",wc="â¢",od="â",ym="âª®",sd="â",Vs="â",Ci="â",as="Ä",_f="Ä",ld="â©",If="â©",bm="â©",wm="â©",El="â",Ee="â©",Ue="â©",Ie="â",Ct="â©ï¸",rr="â",Nr="Ë",Nn="â­",jr="â©",Qf="Ä",km="Ä",oa="Ã",Ou="Ã§",Sm="Ä",Ml="Ä",Al="â°",kc="â©",Ir="â©",xm="Ä",ud="Ä",Sc="Â¸",cd="Â¸",fd="â¦²",hd="Â¢",xc="Â·",Eo="Â·",Cc="ð ",Bf="â­",m="Ð§",S="Ñ",v="â",k="â",E="Î§",D="Ï",_="Ë",Q="â",j="âº",re="â»",ge="â",De="â",Se="â",Qe="â",Ke="Â®",ht="â",xt="â",it="â",Ht="â",Bt="â",Zt="â§",yr="â",Br="â¨",on="â«¯",Bi="â§",mn="â²",ii="â",sn="â",Mo="â£",vi="â£",Ao=":",Wn="â·",Tn="â©´",Cm="â",Tm="â",Tc=",",Zs="@",yu="â",Dl="â",EO="â",K="â",Ec="â",dd="â©­",ja="â¡",Tr="â®",Sk="â¯",xk="â®",Ck="ð",bu="â",Tk="â",Ek="â",Mk="Â©",Ak="Â©",Dk="â",zs="â³",Pk="âµ",Rk="â",Nk="â¨¯",$k="ð",Lk="ð¸",Hs="â«",_k="â«",Ik="â«",Qk="â«",Bk="â¯",qk="â¤¸",wu="â¤µ",Fk="â",Vk="â",Do="â¶",Zk="â¤½",zk="â©",Hk="â©",Wk="â",Uk="âª",MO="â",AO="â©",Xk="â",jk="â©",Em="âªï¸",qf="â·",pd="â¤¼",Yk="â",DO="â",Gk="â",Ws="â",Mm="Â¤",ku="â¶",Ya="â·",Kk="â",PO="â",RO="â²",Ff="â±",Pl="â­",NO="â ",Jk="â¡",md="â¸",eS="â",$O="â¡",gi="â",Am="â",LO="â«¤",ss="â£",Dm="â¤",vd="Ë",Su="Ä",_O="Ä",qi="Ð",Pm="Ð´",tS="â¡",rS="â",nS="â",Rm="â",iS="â¤",Vf="â©·",IO="Â°",aS="â",oS="Î",Zf="Î´",sS="â¦±",lS="â¥¿",Nm="ð",QO="ð¡",uS="â¥¥",cS="â",fS="â",BO="Â´",$m="Ë",hS="Ë",Lm="`",qO="Ë",FO="â",VO="â",gd="â",dS="â¦",ZO="â¦",zO="Â¨",pS="â",HO="Ï",mS="â²",_m="Ã·",WO="Ã·",Im="â",vS="â",Qm="Ð",br="Ñ",gS="â",OS="â",zf="$",UO="ð»",yS="ð",bS="Â¨",Ga="Ë",wS="â",Od="â",Bm="â",XO="â",jO="â¸",Ta="â",Rl="â¡",qm="â",YO="â¯",yd="Â¨",GO="â",Fm="â",KO="â",Vm="â«¤",Zm="â¸",Nl="âº",kS="â¹",$l="â",JO="â¨",ey="â",zm="â",SS="â¥",xS="â¤",CS="â",ty="â",ry="â",TS="âµ",ny="Ì",iy="â",sa="â",ls="â",ES="â¥",MS="â¥",bd="â¥",Mc="â½",ay="â¥",oy="â¥",AS="â",sy="â§",Ac="â¤",Hf="â¤",DS="â",ly="â",uy="ð",wd="ð¹",cy="Ð",kd="Ñ",Hm="â§¶",Sd="Ä",PS="Ä",fy="â±",xd="â¿",hy="â¾",Wm="âµ",RS="â¥¯",dy="â¦¦",Us="Ð",py="Ñ",my="â¿",NS="Ã",vy="Ã©",$S="â©®",LS="Ä",Xs="Ä",Um="Ã",Xm="Ãª",jm="â",Cd="â",Dc="Ð­",Xt="Ñ",Td="â©·",Ym="Ä",xu="Ä",_S="â",Gm="â",gy="â",Ti="ð",IS="ð¢",QS="âª",Oy="Ã",BS="Ã¨",yy="âª",qS="âª",FS="âª",VS="â",js="â§",Fi="â",Km="âª",ZS="âª",Jm="Ä",zS="Ä",HS="â",Wf="â",by="â»",wy="â",WS="â«",US="â",XS="â",jS="â",ky="Å",Sy="Å",YS="â",ev="Ä",xy="Ä",Uf="ð¼",tv="ð",Cy="â",Ty="â§£",Ed="â©±",Ey="Îµ",us="Î",Cu="Îµ",GS="Ïµ",My="â",KS="â",JS="â",ex="âª",tx="âª",rx="â©µ",nx="=",ix="â",ax="â",ox="â",sx="â¡",lx="â©¸",Ay="â§¥",Dy="â¥±",Py="â",ux="â¯",cx="â°",fx="â",Ry="â©³",hx="â",dx="Î",px="Î·",mx="Ã",vx="Ã°",gx="Ã",Ka="Ã«",Ox="â¬",yx="!",bx="â",Ny="â",wx="â°",kx="â",Sx="â",xx="â",rv="Ð¤",Cx="Ñ",Tx="â",Ex="ï¬",Mx="ï¬",Ax="ï¬",Dx="ð",Px="ð£",Rx="ï¬",Nx="â¼",$x="âª",Lx="fj",_x="â­",Ix="ï¬",Qx="â±",Bx="Æ",qx="ð½",Fx="ð",Vx="â",Zx="â",zx="â",nv="â«",$y="â±",Hx="â¨",Wx="Â½",Ux="â",Xx="Â¼",jx="â",Yx="â",Gx="â",Kx="â",Ly="â",Jx="Â¾",Md="â",eC="â",tC="â",rC="â",nC="â",iC="â",aC="â",oC="â¢",sC="ð»",lC="â±",uC="Çµ",cC="Î",fC="Î³",hC="Ï",dC="Ï",pC="âª",mC="Ä",_y="Ä",Iy="Ä¢",vC="Ä",gC="Ä",OC="Ð",yC="Ð³",Ad="Ä ",bC="Ä¡",wC="â¥",kC="â§",SC="âª",xC="â",CC="â¥",TC="â§",EC="â©¾",MC="âª©",AC="â©¾",DC="âª",Dd="âª",PC="âª",Qy="âï¸",By="âª",iv="ð",qy="ð¤",Fy="â«",Vy="â",Zy="â",RC="â·",NC="Ð",$C="Ñ",Pd="âª¥",Rd="â·",LC="âª",_C="âª¤",av="âª",zy="âª",IC="âª",QC="â©",BC="âª",qC="â©",FC="â§",VC="ð¾",ZC="ð",zC="`",HC="â¥",WC="â",UC="â§",XC="âª¢",Po="â·",jC="â©¾",YC="â³",Tu="ð¢",lr="â",GC="â³",la="âª",$n="âª",KC="âª§",Ll="â©º",JC=">",eT=">",tT="â«",rT="â",nT="â¦",ov="â©¼",iT="âª",Ys="â¥¸",Hy="â",Nd="â",wn="âª",En="â·",Wy="â³",aT="â©ï¸",oT="â©ï¸",sT="Ë",lT="â",uT="Â½",cT="â",Uy="Ðª",Xf="Ñ",sv="â¥",fT="â",Xy="â",$d="â­",Ea="^",Pc="â",hT="Ä¤",dT="Ä¥",pT="â¥",mT="â¥",vT="â¦",jy="â¹",Gs="ð¥",dr="â",Yy="â",Ja="â¤¥",Gy="â¤¦",gT="â¿",zr="â»",OT="â©",Ky="âª",Ld="ð",yT="â",bT="â",wT="â",kT="ð½",ST="â",xT="â",CT="Ä¦",TT="Ä§",ET="â",MT="â",AT="â",DT="â",PT="Ã",lv="Ã­",RT="â£",uv="Ã",NT="Ã®",$T="Ð",LT="Ð¸",ai="Ä°",ua="Ð",_T="Ðµ",IT="Â¡",QT="â",Jy="ð¦",BT="â",qT="Ã",FT="Ã¬",eb="â",VT="â¨",ZT="â­",zT="â§",tb="â©",rb="Ä²",HT="Ä³",WT="Äª",UT="Ä«",XT="â",Rc="â",jT="â",YT="â",GT="Ä±",KT="â",JT="â·",nb="Æµ",ib="â",eE="â",tE="â",rE="â§",nE="Ä±",iE="âº",aE="â«",oE="â¬",sE="â¤",lE="â«",uE="âº",cE="â",fE="â¨",hE="â¨¼",dE="â£",pE="â¢",mE="Ð",vE="Ñ",gE="Ä®",OE="Ä¯",yE="ð",bE="ð",wE="Î",kE="Î¹",SE="â¨¼",xE="Â¿",cv="ð¾",ab="â",ob="â",CE="âµ",TE="â¹",EE="â´",fv="â³",ME="â",AE="â¢",DE="Ä¨",ca="Ä©",hv="Ð",PE="Ñ",RE="Ã",NE="Ã¯",$E="Ä´",dv="Äµ",LE="Ð",pv="Ð¹",_E="ð",IE="ð§",QE="È·",BE="ð",sb="ð",qE="ð¥",FE="ð¿",VE="Ð",mv="Ñ",vv="Ð",ZE="Ñ",zE="Î",HE="Îº",WE="Ï°",UE="Ä¶",XE="Ä·",jE="Ð",YE="Ðº",GE="ð",KE="ð¨",JE="Ä¸",eM="Ð¥",tM="Ñ",rM="Ð",nM="Ñ",iM="ð",aM="ð",oM="ð¦",sM="ð",lM="â",uM="Ä¹",f="Äº",d="â¦´",w="â",N="Î",H="Î»",ie="â¨",fe="âª",we="â¦",Me="â¨",Xe="âª",je="â",et="Â«",wt="â¤",_t="â¤",Gt="â",mr="â",Kt="â",xr="â¤",Mr="â©",Ma="â«",Vi="â¤¹",Aa="â¥³",Ln="â¢",Ro="â¤",Ks="â¤",lb="âª«",gj="âª­",Oj="âª­ï¸",yj="â¤",bj="â¤",wj="â²",kj="{",Sj="[",xj="â¦",Cj="â¦",Tj="â¦",Ej="Ä½",Mj="Ä¾",Aj="Ä»",Dj="Ä¼",Pj="â",Rj="{",Nj="Ð",$j="Ð»",Lj="â¤¶",_j="â",Ij="â",Qj="â¥§",Bj="â¥",qj="â²",Fj="â¤",Vj="â¦",Zj="â¨",zj="â¤",Hj="â",Wj="â",Uj="â",Xj="â",jj="â¢",Yj="â",Gj="â¦",Kj="â¥¡",Jj="â¥",e4="â",t4="â",r4="â½",n4="â¼",i4="â",a4="â",o4="â",s4="â",l4="â",u4="â",c4="â­",f4="â¥",h4="â¤",d4="â£",p4="â¥",m4="â",v4="â§",g4="â²",O4="â´",y4="â¥",b4="â¥ ",w4="â¥",k4="â¿",S4="â¥",x4="â¼",C4="âª",T4="â",E4="â¤",M4="â¦",A4="â©½",D4="âª¨",P4="â©½",R4="â©¿",N4="âª",$4="âª",L4="âï¸",_4="âª",I4="âª",Q4="â",B4="â",q4="âª",F4="â",V4="â¦",Z4="â¶",z4="â¶",H4="âª¡",W4="â²",U4="â©½",X4="â²",j4="â¥¼",Y4="â",G4="ð",K4="ð©",J4="â¶",eY="âª",tY="â¥¢",rY="â½",nY="â¼",iY="â¥ª",aY="â",oY="Ð",sY="Ñ",lY="â",uY="âª",cY="â",fY="â",hY="â",dY="â¥«",pY="âº",mY="Ä¿",vY="Å",gY="â°",OY="â°",yY="âª",bY="âª",wY="âª",kY="â¨",SY="âª",xY="â¨",CY="â¦",TY="â¬",EY="â½",MY="â¦",AY="âµ",DY="âµ",PY="â¸",RY="â·",NY="â·",$Y="âº",LY="â¼",_Y="â¶",IY="â¶",QY="â¹",BY="â«",qY="â¬",FY="â¦",VY="ð",ZY="ð",zY="â¨­",HY="â¨´",WY="â",UY="_",XY="â",jY="â",YY="â",GY="â",KY="â§«",JY="(",eG="â¦",tG="â",rG="â",nG="â",iG="â¥­",aG="â",oG="â¿",sG="â¹",lG="ð",uG="â",cG="â°",fG="â°",hG="â²",dG="âª",pG="âª",mG="[",vG="â",gG="â",OG="Å",yG="Å",bG="âª¦",wG="â©¹",kG="<",SG="<",xG="âª",CG="â",TG="â",EG="â",MG="â¥¶",AG="â©»",DG="â",PG="â´",RG="â",NG="â¦",$G="â¥",LG="â¥¦",_G="â¨ï¸",IG="â¨ï¸",QG="Â¯",BG="â",qG="â ",FG="â ",VG="â¦",ZG="â¦",zG="â§",HG="â¤",WG="â¥",UG="â®",XG="â¨©",jG="Ð",YG="Ð¼",GG="â",KG="âº",JG="â¡",e7="â",t7="â³",r7="ð",n7="ðª",i7="â§",a7="Âµ",o7="*",s7="â«°",l7="â£",u7="Â·",c7="â",f7="â",h7="â¸",d7="â¨ª",p7="â",m7="â«",v7="â¦",g7="â",O7="â§",y7="ð",b7="ð",w7="â",k7="ð",S7="â³",x7="â¾",C7="Î",T7="Î¼",E7="â¸",M7="â¸",A7="â",D7="Å",P7="Å",R7="â â",N7="â",$7="â©°Ì¸",L7="âÌ¸",_7="Å",I7="â",Q7="â®",B7="â",q7="â®",F7="Â ",V7="âÌ¸",Z7="âÌ¸",z7="â©",H7="Å",W7="Å",U7="Å",X7="Å",j7="â",Y7="â©­Ì¸",G7="â©",K7="Ð",J7="Ð½",e9="â",t9="â¤¤",r9="â",n9="â",i9="â",a9="â ",o9="âÌ¸",s9="â",l9="â",u9="â",c9="â",f9="â¢",h9="â¤¨",d9="âÌ¸",p9="â«",m9="âª",v9=`
`,g9="â",O9="â",y9="ð",b9="ð«",w9="â§Ì¸",k9="â±",S9="â±",x9="â§Ì¸",C9="â©¾Ì¸",T9="â©¾Ì¸",E9="âÌ¸",M9="âµ",A9="â«â",D9="â¯",P9="â¯",R9="â«Ì¸",N9="â®",$9="â",L9="â«²",_9="â",I9="â¼",Q9="âº",B9="â",q9="Ð",F9="Ñ",V9="â",Z9="â",z9="â¥",H9="â¦Ì¸",W9="â°",U9="â",X9="â",j9="â®",Y9="â",G9="â°",K9="â¦Ì¸",J9="â©½Ì¸",e8="â©½Ì¸",t8="â®",r8="âÌ¸",n8="â´",i8="âªâ",a8="â®",o8="âª",s8="â¬",l8="âªÌ¸",u8="â¤",c8="â ",f8="Â ",h8="ð",d8="â",p8="â«¬",m8="Â¬",v8="â¢",g8="â­",O8="â¦",y8="â",b8="â ",w8="âÌ¸",k8="â",S8="â¯",x8="â±",C8="â§Ì¸",T8="â«Ì¸",E8="â¹",M8="â©¾Ì¸",A8="âµ",D8="âÌ¸",P8="âÌ¸",R8="â",N8="âµÌ¸",$8="â¹Ì¸",L8="â",_8="â·",I8="â¶",Q8="â§Ì¸",B8="âª",q8="â¬",F8="â®",V8="â°",Z8="â¸",z8="âªÌ¸",H8="â©½Ì¸",W8="â´",U8="âª¢Ì¸",X8="âª¡Ì¸",j8="â",Y8="â",G8="â¾",K8="â½",J8="â",e6="âª¯Ì¸",t6="â ",r6="â",n6="â§Ì¸",i6="â«",a6="â­",o6="âÌ¸",s6="â¢",l6="âÌ¸",u6="â£",c6="ââ",f6="â",h6="â",d6="âª°Ì¸",p6="â¡",m6="â¿Ì¸",v6="ââ",g6="â",O6="â",y6="â",b6="â",w6="â",k6="â¤",S6="â¦",x6="â¦",C6="â«½â¥",T6="âÌ¸",E6="â¨",M6="â",A6="â ",D6="â",P6="âª¯Ì¸",R6="âª¯Ì¸",N6="â¤³Ì¸",$6="â",L6="â",_6="âÌ¸",I6="â",Q6="â",B6="â«",q6="â­",F6="â",V6="â¡",Z6="âª°Ì¸",z6="ð©",H6="ð",W6="â¤",U6="â¦",X6="â",j6="â",Y6="â",G6="â¤",K6="â¦",J6="â¢",eK="â£",tK="â",rK="â«Ì¸",nK="â",iK="ââ",aK="â",oK="â«Ì¸",sK="â",lK="âª°Ì¸",uK="â",cK="â«Ì¸",fK="â",hK="ââ",dK="â",pK="â«Ì¸",mK="â¹",vK="Ã",gK="Ã±",OK="â¸",yK="âª",bK="â¬",wK="â«",kK="â­",SK="Î",xK="Î½",CK="#",TK="â",EK="â",MK="ââ",AK="â¬",DK="â­",PK="â®",RK="â¯",NK="â¥â",$K=">â",LK="â¤",_K="â§",IK="â¤",QK="â¤â",BK="<â",qK="â´â",FK="â¤",VK="âµâ",ZK="â¼â",zK="â¤£",HK="â",WK="â",UK="â",XK="â¤§",jK="Ã",YK="Ã³",GK="â",KK="Ã",JK="Ã´",eJ="â",tJ="Ð",rJ="Ð¾",nJ="â",iJ="Å",aJ="Å",oJ="â¨¸",sJ="â",lJ="â¦¼",uJ="Å",cJ="Å",fJ="â¦¿",hJ="ð",dJ="ð¬",pJ="Ë",mJ="Ã",vJ="Ã²",gJ="â§",OJ="â¦µ",yJ="Î©",bJ="â®",wJ="âº",kJ="â¦¾",SJ="â¦»",xJ="â¾",CJ="â§",TJ="Å",EJ="Å",MJ="Î©",AJ="Ï",DJ="Î",PJ="Î¿",RJ="â¦¶",NJ="â",$J="ð",LJ="ð ",_J="â¦·",IJ="â",QJ="â",BJ="â¦¹",qJ="â",FJ="â»",VJ="â©",ZJ="â¨",zJ="â©",HJ="â´",WJ="â´",UJ="Âª",XJ="Âº",jJ="â¶",YJ="â©",GJ="â©",KJ="â©",JJ="â",eee="ðª",tee="â´",ree="Ã",nee="Ã¸",iee="â",aee="Ã",oee="Ãµ",see="â¨¶",lee="â¨·",uee="â",cee="Ã",fee="Ã¶",hee="â½",dee="â¾",pee="â",mee="â´",vee="â",gee="Â¶",Oee="â¥",yee="â¥",bee="â«³",wee="â«½",kee="â",See="â",xee="Ð",Cee="Ð¿",Tee="%",Eee=".",Mee="â°",Aee="â¥",Dee="â±",Pee="ð",Ree="ð­",Nee="Î¦",$ee="Ï",Lee="Ï",_ee="â³",Iee="â",Qee="Î ",Bee="Ï",qee="â",Fee="Ï",Vee="â",Zee="â",zee="â",Hee="â¨£",Wee="â",Uee="â¨¢",Xee="+",jee="â",Yee="â¨¥",Gee="â©²",Kee="Â±",Jee="Â±",ete="â¨¦",tte="â¨§",rte="Â±",nte="â",ite="â¨",ate="ð¡",ote="â",ste="Â£",lte="âª·",ute="âª»",cte="âº",fte="â¼",hte="âª·",dte="âº",pte="â¼",mte="âº",vte="âª¯",gte="â¼",Ote="â¾",yte="âª¯",bte="âª¹",wte="âªµ",kte="â¨",Ste="âª¯",xte="âª³",Cte="â¾",Tte="â²",Ete="â³",Mte="â",Ate="âª¹",Dte="âªµ",Pte="â¨",Rte="â",Nte="â",$te="â®",Lte="â",_te="â",Ite="â",Qte="â",Bte="â·",qte="â",Fte="â¾",Vte="â°",Zte="ð«",zte="ð",Hte="Î¨",Wte="Ï",Ute="â",Xte="ð",jte="ð®",Yte="â¨",Gte="ð¢",Kte="â",Jte="â",ere="ð¬",tre="ð",rre="â",nre="â¨",ire="?",are="â",ore='"',sre='"',lre="â",ure="â½Ì±",cre="Å",fre="Å",hre="â",dre="â¦³",pre="â©",mre="â«",vre="â¦",gre="â¦¥",Ore="â©",yre="Â»",bre="â¥µ",wre="â¥",kre="â¤ ",Sre="â¤³",xre="â",Cre="â ",Tre="â",Ere="â¤",Mre="âª",Are="â¬",Dre="â¥",Pre="â¥´",Rre="â¤",Nre="â£",$re="â",Lre="â¤",_re="â¤",Ire="â¶",Qre="â",Bre="â¤",qre="â¤",Fre="â¤",Vre="â³",Zre="}",zre="]",Hre="â¦",Wre="â¦",Ure="â¦",Xre="Å",jre="Å",Yre="Å",Gre="Å",Kre="â",Jre="}",ene="Ð ",tne="Ñ",rne="â¤·",nne="â¥©",ine="â",ane="â",one="â³",sne="â",lne="â",une="â",cne="â",fne="â",hne="â­",dne="Â®",pne="Â®",mne="â",vne="â",gne="â¥¯",One="â¥½",yne="â",bne="ð¯",wne="â",kne="â¥¤",Sne="â",xne="â",Cne="â¥¬",Tne="Î¡",Ene="Ï",Mne="Ï±",Ane="â©",Dne="â¥",Pne="â",Rne="â",Nne="â",$ne="â",Lne="â£",_ne="â",Ine="â§",Qne="â¥",Bne="â¥",qne="â",Fne="â",Vne="â",Zne="â",zne="â",Hne="â",Wne="â",Une="â",Xne="â¦",jne="â¢",Yne="â¥",Gne="â",Kne="â§",Jne="â³",eie="âµ",tie="â¥",rie="â¥",nie="â¥",iie="â¾",aie="â¥",oie="â",sie="Ë",lie="â",uie="â",cie="â",fie="â",hie="â±",die="â±",pie="â«®",mie="â­",vie="â¾",gie="â§",Oie="â¦",yie="ð£",bie="â",wie="â¨®",kie="â¨µ",Sie="â¥°",xie=")",Cie="â¦",Tie="â¨",Eie="â",Mie="â",Aie="âº",Die="ð",Pie="â",Rie="â±",Nie="â±",$ie="]",Lie="â",_ie="â",Iie="â",Qie="â",Bie="â¹",qie="âµ",Fie="â¸",Vie="â§",Zie="â§´",zie="â¥¨",Hie="â",Wie="Å",Uie="Å",Xie="â",jie="âª¸",Yie="Å ",Gie="Å¡",Kie="âª¼",Jie="â»",eae="â½",tae="âª°",rae="âª´",nae="Å",iae="Å",aae="Å",oae="Å",sae="âªº",lae="âª¶",uae="â©",cae="â¨",fae="â¿",hae="Ð¡",dae="Ñ",pae="â¡",mae="â",vae="â©¦",gae="â¤¥",Oae="â",yae="â",bae="â",wae="Â§",kae=";",Sae="â¤©",xae="â",Cae="â",Tae="â¶",Eae="ð",Mae="ð°",Aae="â¢",Dae="â¯",Pae="Ð©",Rae="Ñ",Nae="Ð¨",$ae="Ñ",Lae="â",_ae="â",Iae="â£",Qae="â¥",Bae="â",qae="â",Fae="Â­",Vae="Î£",Zae="Ï",zae="Ï",Hae="Ï",Wae="â¼",Uae="â©ª",Xae="â",jae="â",Yae="âª",Gae="âª ",Kae="âª",Jae="âª",eoe="â",toe="â¨¤",roe="â¥²",noe="â",ioe="â",aoe="â",ooe="â¨³",soe="â§¤",loe="â£",uoe="â£",coe="âªª",foe="âª¬",hoe="âª¬ï¸",doe="Ð¬",poe="Ñ",moe="â¿",voe="â§",goe="/",Ooe="ð",yoe="ð¤",boe="â ",woe="â ",koe="â¥",Soe="â",xoe="âï¸",Coe="â",Toe="âï¸",Eoe="â",Moe="â",Aoe="â",Doe="â",Poe="â",Roe="â",Noe="â",$oe="â",Loe="â",_oe="â¡",Ioe="â¡",Qoe="â",Boe="â",qoe="â",Foe="â",Voe="â",Zoe="â",zoe="âª",Hoe="â¡",Woe="âª",Uoe="â",Xoe="ð®",joe="ð",Yoe="â",Goe="â£",Koe="â",Joe="â",ese="â",tse="â",rse="Ïµ",nse="Ï",ise="Â¯",ase="â",ose="â",sse="âª½",lse="â«",use="â",cse="â«",fse="â«",hse="â«",dse="â",pse="âª¿",mse="â¥¹",vse="â",gse="â",Ose="â",yse="â«",bse="â",wse="â",kse="â«",Sse="â«",xse="â«",Cse="â«",Tse="âª¸",Ese="â»",Mse="â½",Ase="â»",Dse="âª°",Pse="â½",Rse="â¿",Nse="âª°",$se="âªº",Lse="âª¶",_se="â©",Ise="â¿",Qse="â",Bse="â",qse="â",Fse="âª",Vse="Â¹",Zse="Â²",zse="Â³",Hse="â",Wse="â",Use="âª¾",Xse="â«",jse="â«",Yse="â",Gse="â«",Kse="â",Jse="â",ele="â",tle="â«",rle="â¥»",nle="â«",ile="â«",ale="â",ole="â«",sle="â",lle="â",ule="â",cle="â«",fle="â",hle="â«",dle="â«",ple="â«",mle="â«",vle="â¤¦",gle="â",Ole="â",yle="â",ble="â¤ª",wle="Ã",kle="	",Sle="â",xle="Î¤",Cle="Ï",Tle="â´",Ele="Å¤",Mle="Å¥",Ale="Å¢",Dle="Å£",Ple="Ð¢",Rle="Ñ",Nle="â",$le="â",Lle="ð",_le="ð±",Ile="â´",Qle="â´",Ble="â´",qle="Î",Fle="Î¸",Vle="Ï",Zle="Ï",zle="â",Hle="â¼",Wle="ââ",Ule="â",Xle="â",jle="â",Yle="â¼",Gle="Ã",Kle="Ã¾",Jle="Ë",eue="â¼",tue="â",rue="â",nue="â",iue="â¨±",aue="â ",oue="Ã",sue="â¨°",lue="â­",uue="â¤¨",cue="â¶",fue="â«±",hue="â¤",due="ð",pue="ð¥",mue="â«",vue="â¤©",gue="â´",Oue="â¢",yue="â¢",bue="âµ",wue="â¿",kue="â",Sue="â´",xue="â",Cue="â¹",Tue="âµ",Eue="â¬",Mue="â",Aue="â¨º",Due="â",Pue="â¨¹",Rue="â§",Nue="â¨»",$ue="â¢",Lue="ð¯",_ue="ð",Iue="Ð¦",Que="Ñ",Bue="Ð",que="Ñ",Fue="Å¦",Vue="Å§",Zue="â¬",zue="â",Hue="â ",Wue="Ã",Uue="Ãº",Xue="â",jue="â",Yue="â",Gue="â¥",Kue="Ð",Jue="Ñ",ece="Å¬",tce="Å­",rce="Ã",nce="Ã»",ice="Ð£",ace="Ñ",oce="â",sce="Å°",lce="Å±",uce="â¥®",cce="â¥¾",fce="ð",hce="ð²",dce="Ã",pce="Ã¹",mce="â¥£",vce="â¿",gce="â¾",Oce="â",yce="â",bce="â",wce="â",kce="â¸",Sce="Åª",xce="Å«",Cce="Â¨",Tce="_",Ece="â",Mce="âµ",Ace="â",Dce="â",Pce="â",Rce="Å²",Nce="Å³",$ce="ð",Lce="ð¦",_ce="â¤",Ice="â",Qce="â",Bce="â",qce="â",Fce="â",Vce="â",Zce="â",zce="â¥®",Hce="â¿",Wce="â¾",Uce="â",Xce="â",jce="â",Yce="Ï",Gce="Ï",Kce="Ï",Jce="Î¥",efe="Ï",tfe="â¥",rfe="â¥",nfe="â",ife="â",afe="â",ofe="â",sfe="Å®",lfe="Å¯",ufe="â¹",cfe="ð°",ffe="ð",hfe="â°",dfe="Å¨",pfe="Å©",mfe="âµ",vfe="â´",gfe="â",Ofe="Ã",yfe="Ã¼",bfe="â¦§",wfe="â¦",kfe="Ïµ",Sfe="Ï°",xfe="â",Cfe="Ï",Tfe="Ï",Efe="â",Mfe="â",Afe="â",Dfe="Ï±",Pfe="Ï",Rfe="âï¸",Nfe="â«ï¸",$fe="âï¸",Lfe="â«ï¸",_fe="Ï",Ife="â²",Qfe="â³",Bfe="â«¨",qfe="â««",Ffe="â«©",Vfe="Ð",Zfe="Ð²",zfe="â¢",Hfe="â¨",Wfe="â©",Ufe="â«",Xfe="â«¦",jfe="â»",Yfe="â¨",Gfe="â",Kfe="â",Jfe="â®",ehe="|",the="â",rhe="|",nhe="â",ihe="â£",ahe="|",ohe="â",she="â",lhe="â",uhe="ð",che="ð³",fhe="â²",hhe="ââ",dhe="ââ",phe="ð",mhe="ð§",vhe="â",ghe="â³",Ohe="ð±",yhe="ð",bhe="â«ï¸",whe="âï¸",khe="â«ï¸",She="âï¸",xhe="âª",Che="â¦",The="Å´",Ehe="Åµ",Mhe="â©",Ahe="â§",Dhe="â",Phe="â",Rhe="â",Nhe="ð",$he="ð´",Lhe="ð",_he="ð¨",Ihe="â",Qhe="â",Bhe="â",qhe="ð²",Fhe="ð",Vhe="â",Zhe="â¯",zhe="â",Hhe="â½",Whe="ð",Uhe="ðµ",Xhe="â·",jhe="âº",Yhe="Î",Ghe="Î¾",Khe="âµ",Jhe="â¸",ede="â¼",tde="â»",rde="â¨",nde="ð",ide="ð©",ade="â¨",ode="â¨",sde="â¶",lde="â¹",ude="ð³",cde="ð",fde="â¨",hde="â¨",dde="â³",pde="â",mde="â",vde="Ã",gde="Ã½",Ode="Ð¯",yde="Ñ",bde="Å¶",wde="Å·",kde="Ð«",Sde="Ñ",xde="Â¥",Cde="ð",Tde="ð¶",Ede="Ð",Mde="Ñ",Ade="ð",Dde="ðª",Pde="ð´",Rde="ð",Nde="Ð®",$de="Ñ",Lde="Ã¿",_de="Å¸",Ide="Å¹",Qde="Åº",Bde="Å½",qde="Å¾",Fde="Ð",Vde="Ð·",Zde="Å»",zde="Å¼",Hde="â¨",Wde="â",Ude="Î",Xde="Î¶",jde="ð·",Yde="â¨",Gde="Ð",Kde="Ð¶",Jde="â",epe="ð«",tpe="â¤",rpe="ðµ",npe="ð",ipe="â",ape="â",rL={Aacute:pe,aacute:be,Abreve:Fe,abreve:Ge,ac:_e,acd:ot,acE:at,Acirc:dt,acirc:Ot,acute:Qt,Acy:Vt,acy:ar,AElig:bt,aelig:Rt,af:Pt,Afr:tr,afr:or,Agrave:Sr,agrave:Le,alefsym:Pe,aleph:ve,Alpha:xe,alpha:Oe,Amacr:Be,amacr:Ze,amalg:st,amp:$t,AMP:Jt,andand:Yt,And:Cr,and:sr,andd:un,andslope:Zr,andv:Lr,ang:pr,ange:tn,angle:$i,angmsdaa:On,angmsdab:yn,angmsdac:ct,angmsdad:pt,angmsdae:Ft,angmsdaf:er,angmsdag:Or,angmsdah:pn,angmsd:_r,angrt:Xr,angrtvb:ur,angrtvbd:Zn,angsph:rn,angst:Jn,angzarr:di,Aogon:pi,aogon:cn,Aopf:ei,aopf:ti,apacir:te,ap:se,apE:ke,ape:$e,apid:W,apos:X,ApplyFunction:B,approx:L,approxeq:q,Aring:Z,aring:oe,Ascr:Te,ascr:qe,Assign:me,ast:ce,asymp:Re,asympeq:Ve,Atilde:ut,atilde:Lt,Auml:V,auml:$,awconint:x,awint:A,backcong:I,backepsilon:Y,backprime:ae,backsim:de,backsimeq:Ae,Backslash:Ne,Barv:tt,barvee:rt,barwed:mt,Barwed:zt,barwedge:wr,bbrk:Gr,bbrktbrk:ea,bcong:ko,Bcy:Ko,bcy:cu,bdquo:Ol,becaus:Jo,because:ta,Because:za,bemptyv:yl,bepsi:mi,bernou:bl,Bernoullis:wl,Beta:Ls,beta:_s,beth:Is,between:Ha,Bfr:es,bfr:ts,bigcap:ra,bigcirc:So,bigcup:fu,bigodot:xo,bigoplus:Wa,bigotimes:xa,bigsqcup:Qs,bigstar:rs,bigtriangledown:Co,bigtriangleup:Ca,biguplus:hu,bigvee:Cf,bigwedge:Li,bkarow:dc,blacklozenge:pc,blacksquare:kl,blacktriangle:mc,blacktriangledown:Ua,blacktriangleleft:na,blacktriangleright:du,blank:vc,blk12:gc,blk14:Tf,blk34:ft,block:Ce,bne:lt,bnequiv:Nt,bNot:Rr,bnot:Pn,Bopf:Rn,bopf:xn,bot:_i,bottom:ns,bowtie:bn,boxbox:Sl,boxdl:Xa,boxdL:Uh,boxDl:Ef,boxDL:ia,boxdr:Xh,boxdR:ri,boxDr:ni,boxDR:jh,boxh:Yh,boxH:Gh,boxhd:Cn,boxHd:hm,boxhD:xi,boxHD:Mf,boxhu:Kh,boxHu:is,boxhU:Bs,boxHU:Af,boxminus:Kr,boxplus:Ii,boxtimes:Df,boxul:dm,boxuL:Pf,boxUl:pm,boxUL:mm,boxur:vm,boxuR:Oc,boxUr:pu,boxUR:xl,boxv:Jh,boxV:ed,boxvh:Rf,boxvH:yc,boxVh:Nf,boxVH:td,boxvl:mu,boxvL:$f,boxVl:qs,boxVL:gm,boxvr:rd,boxvR:zn,boxVr:bc,boxVR:Cl,bprime:nd,breve:Lf,Breve:id,brvbar:vu,bscr:ad,Bscr:gu,bsemi:Om,bsim:aa,bsime:Tl,bsolb:Fs,bsol:Qi,bsolhsub:Hn,bull:To,bullet:wc,bump:od,bumpE:ym,bumpe:sd,Bumpeq:Vs,bumpeq:Ci,Cacute:as,cacute:_f,capand:ld,capbrcup:If,capcap:bm,cap:wm,Cap:El,capcup:Ee,capdot:Ue,CapitalDifferentialD:Ie,caps:Ct,caret:rr,caron:Nr,Cayleys:Nn,ccaps:jr,Ccaron:Qf,ccaron:km,Ccedil:oa,ccedil:Ou,Ccirc:Sm,ccirc:Ml,Cconint:Al,ccups:kc,ccupssm:Ir,Cdot:xm,cdot:ud,cedil:Sc,Cedilla:cd,cemptyv:fd,cent:hd,centerdot:xc,CenterDot:Eo,cfr:Cc,Cfr:Bf,CHcy:m,chcy:S,check:v,checkmark:k,Chi:E,chi:D,circ:_,circeq:Q,circlearrowleft:j,circlearrowright:re,circledast:ge,circledcirc:De,circleddash:Se,CircleDot:Qe,circledR:Ke,circledS:ht,CircleMinus:xt,CirclePlus:it,CircleTimes:Ht,cir:Bt,cirE:Zt,cire:yr,cirfnint:Br,cirmid:on,cirscir:Bi,ClockwiseContourIntegral:mn,CloseCurlyDoubleQuote:ii,CloseCurlyQuote:sn,clubs:Mo,clubsuit:vi,colon:Ao,Colon:Wn,Colone:Tn,colone:Cm,coloneq:Tm,comma:Tc,commat:Zs,comp:yu,compfn:Dl,complement:EO,complexes:K,cong:Ec,congdot:dd,Congruent:ja,conint:Tr,Conint:Sk,ContourIntegral:xk,copf:Ck,Copf:bu,coprod:Tk,Coproduct:Ek,copy:Mk,COPY:Ak,copysr:Dk,CounterClockwiseContourIntegral:zs,crarr:Pk,cross:Rk,Cross:Nk,Cscr:$k,cscr:Lk,csub:Hs,csube:_k,csup:Ik,csupe:Qk,ctdot:Bk,cudarrl:qk,cudarrr:wu,cuepr:Fk,cuesc:Vk,cularr:Do,cularrp:Zk,cupbrcap:zk,cupcap:Hk,CupCap:Wk,cup:Uk,Cup:MO,cupcup:AO,cupdot:Xk,cupor:jk,cups:Em,curarr:qf,curarrm:pd,curlyeqprec:Yk,curlyeqsucc:DO,curlyvee:Gk,curlywedge:Ws,curren:Mm,curvearrowleft:ku,curvearrowright:Ya,cuvee:Kk,cuwed:PO,cwconint:RO,cwint:Ff,cylcty:Pl,dagger:NO,Dagger:Jk,daleth:md,darr:eS,Darr:$O,dArr:gi,dash:Am,Dashv:LO,dashv:ss,dbkarow:Dm,dblac:vd,Dcaron:Su,dcaron:_O,Dcy:qi,dcy:Pm,ddagger:tS,ddarr:rS,DD:nS,dd:Rm,DDotrahd:iS,ddotseq:Vf,deg:IO,Del:aS,Delta:oS,delta:Zf,demptyv:sS,dfisht:lS,Dfr:Nm,dfr:QO,dHar:uS,dharl:cS,dharr:fS,DiacriticalAcute:BO,DiacriticalDot:$m,DiacriticalDoubleAcute:hS,DiacriticalGrave:Lm,DiacriticalTilde:qO,diam:FO,diamond:VO,Diamond:gd,diamondsuit:dS,diams:ZO,die:zO,DifferentialD:pS,digamma:HO,disin:mS,div:_m,divide:WO,divideontimes:Im,divonx:vS,DJcy:Qm,djcy:br,dlcorn:gS,dlcrop:OS,dollar:zf,Dopf:UO,dopf:yS,Dot:bS,dot:Ga,DotDot:wS,doteq:Od,doteqdot:Bm,DotEqual:XO,dotminus:jO,dotplus:Ta,dotsquare:Rl,doublebarwedge:qm,DoubleContourIntegral:YO,DoubleDot:yd,DoubleDownArrow:GO,DoubleLeftArrow:Fm,DoubleLeftRightArrow:KO,DoubleLeftTee:Vm,DoubleLongLeftArrow:Zm,DoubleLongLeftRightArrow:Nl,DoubleLongRightArrow:kS,DoubleRightArrow:$l,DoubleRightTee:JO,DoubleUpArrow:ey,DoubleUpDownArrow:zm,DoubleVerticalBar:SS,DownArrowBar:xS,downarrow:CS,DownArrow:ty,Downarrow:ry,DownArrowUpArrow:TS,DownBreve:ny,downdownarrows:iy,downharpoonleft:sa,downharpoonright:ls,DownLeftRightVector:ES,DownLeftTeeVector:MS,DownLeftVectorBar:bd,DownLeftVector:Mc,DownRightTeeVector:ay,DownRightVectorBar:oy,DownRightVector:AS,DownTeeArrow:sy,DownTee:Ac,drbkarow:Hf,drcorn:DS,drcrop:ly,Dscr:uy,dscr:wd,DScy:cy,dscy:kd,dsol:Hm,Dstrok:Sd,dstrok:PS,dtdot:fy,dtri:xd,dtrif:hy,duarr:Wm,duhar:RS,dwangle:dy,DZcy:Us,dzcy:py,dzigrarr:my,Eacute:NS,eacute:vy,easter:$S,Ecaron:LS,ecaron:Xs,Ecirc:Um,ecirc:Xm,ecir:jm,ecolon:Cd,Ecy:Dc,ecy:Xt,eDDot:Td,Edot:Ym,edot:xu,eDot:_S,ee:Gm,efDot:gy,Efr:Ti,efr:IS,eg:QS,Egrave:Oy,egrave:BS,egs:yy,egsdot:qS,el:FS,Element:VS,elinters:js,ell:Fi,els:Km,elsdot:ZS,Emacr:Jm,emacr:zS,empty:HS,emptyset:Wf,EmptySmallSquare:by,emptyv:wy,EmptyVerySmallSquare:WS,emsp13:US,emsp14:XS,emsp:jS,ENG:ky,eng:Sy,ensp:YS,Eogon:ev,eogon:xy,Eopf:Uf,eopf:tv,epar:Cy,eparsl:Ty,eplus:Ed,epsi:Ey,Epsilon:us,epsilon:Cu,epsiv:GS,eqcirc:My,eqcolon:KS,eqsim:JS,eqslantgtr:ex,eqslantless:tx,Equal:rx,equals:nx,EqualTilde:ix,equest:ax,Equilibrium:ox,equiv:sx,equivDD:lx,eqvparsl:Ay,erarr:Dy,erDot:Py,escr:ux,Escr:cx,esdot:fx,Esim:Ry,esim:hx,Eta:dx,eta:px,ETH:mx,eth:vx,Euml:gx,euml:Ka,euro:Ox,excl:yx,exist:bx,Exists:Ny,expectation:wx,exponentiale:kx,ExponentialE:Sx,fallingdotseq:xx,Fcy:rv,fcy:Cx,female:Tx,ffilig:Ex,fflig:Mx,ffllig:Ax,Ffr:Dx,ffr:Px,filig:Rx,FilledSmallSquare:Nx,FilledVerySmallSquare:$x,fjlig:Lx,flat:_x,fllig:Ix,fltns:Qx,fnof:Bx,Fopf:qx,fopf:Fx,forall:Vx,ForAll:Zx,fork:zx,forkv:nv,Fouriertrf:$y,fpartint:Hx,frac12:Wx,frac13:Ux,frac14:Xx,frac15:jx,frac16:Yx,frac18:Gx,frac23:Kx,frac25:Ly,frac34:Jx,frac35:Md,frac38:eC,frac45:tC,frac56:rC,frac58:nC,frac78:iC,frasl:aC,frown:oC,fscr:sC,Fscr:lC,gacute:uC,Gamma:cC,gamma:fC,Gammad:hC,gammad:dC,gap:pC,Gbreve:mC,gbreve:_y,Gcedil:Iy,Gcirc:vC,gcirc:gC,Gcy:OC,gcy:yC,Gdot:Ad,gdot:bC,ge:wC,gE:kC,gEl:SC,gel:xC,geq:CC,geqq:TC,geqslant:EC,gescc:MC,ges:AC,gesdot:DC,gesdoto:Dd,gesdotol:PC,gesl:Qy,gesles:By,Gfr:iv,gfr:qy,gg:Fy,Gg:Vy,ggg:Zy,gimel:RC,GJcy:NC,gjcy:$C,gla:Pd,gl:Rd,glE:LC,glj:_C,gnap:av,gnapprox:zy,gne:IC,gnE:QC,gneq:BC,gneqq:qC,gnsim:FC,Gopf:VC,gopf:ZC,grave:zC,GreaterEqual:HC,GreaterEqualLess:WC,GreaterFullEqual:UC,GreaterGreater:XC,GreaterLess:Po,GreaterSlantEqual:jC,GreaterTilde:YC,Gscr:Tu,gscr:lr,gsim:GC,gsime:la,gsiml:$n,gtcc:KC,gtcir:Ll,gt:JC,GT:eT,Gt:tT,gtdot:rT,gtlPar:nT,gtquest:ov,gtrapprox:iT,gtrarr:Ys,gtrdot:Hy,gtreqless:Nd,gtreqqless:wn,gtrless:En,gtrsim:Wy,gvertneqq:aT,gvnE:oT,Hacek:sT,hairsp:lT,half:uT,hamilt:cT,HARDcy:Uy,hardcy:Xf,harrcir:sv,harr:fT,hArr:Xy,harrw:$d,Hat:Ea,hbar:Pc,Hcirc:hT,hcirc:dT,hearts:pT,heartsuit:mT,hellip:vT,hercon:jy,hfr:Gs,Hfr:dr,HilbertSpace:Yy,hksearow:Ja,hkswarow:Gy,hoarr:gT,homtht:zr,hookleftarrow:OT,hookrightarrow:Ky,hopf:Ld,Hopf:yT,horbar:bT,HorizontalLine:wT,hscr:kT,Hscr:ST,hslash:xT,Hstrok:CT,hstrok:TT,HumpDownHump:ET,HumpEqual:MT,hybull:AT,hyphen:DT,Iacute:PT,iacute:lv,ic:RT,Icirc:uv,icirc:NT,Icy:$T,icy:LT,Idot:ai,IEcy:ua,iecy:_T,iexcl:IT,iff:QT,ifr:Jy,Ifr:BT,Igrave:qT,igrave:FT,ii:eb,iiiint:VT,iiint:ZT,iinfin:zT,iiota:tb,IJlig:rb,ijlig:HT,Imacr:WT,imacr:UT,image:XT,ImaginaryI:Rc,imagline:jT,imagpart:YT,imath:GT,Im:KT,imof:JT,imped:nb,Implies:ib,incare:eE,in:"â",infin:tE,infintie:rE,inodot:nE,intcal:iE,int:aE,Int:oE,integers:sE,Integral:lE,intercal:uE,Intersection:cE,intlarhk:fE,intprod:hE,InvisibleComma:dE,InvisibleTimes:pE,IOcy:mE,iocy:vE,Iogon:gE,iogon:OE,Iopf:yE,iopf:bE,Iota:wE,iota:kE,iprod:SE,iquest:xE,iscr:cv,Iscr:ab,isin:ob,isindot:CE,isinE:TE,isins:EE,isinsv:fv,isinv:ME,it:AE,Itilde:DE,itilde:ca,Iukcy:hv,iukcy:PE,Iuml:RE,iuml:NE,Jcirc:$E,jcirc:dv,Jcy:LE,jcy:pv,Jfr:_E,jfr:IE,jmath:QE,Jopf:BE,jopf:sb,Jscr:qE,jscr:FE,Jsercy:VE,jsercy:mv,Jukcy:vv,jukcy:ZE,Kappa:zE,kappa:HE,kappav:WE,Kcedil:UE,kcedil:XE,Kcy:jE,kcy:YE,Kfr:GE,kfr:KE,kgreen:JE,KHcy:eM,khcy:tM,KJcy:rM,kjcy:nM,Kopf:iM,kopf:aM,Kscr:oM,kscr:sM,lAarr:lM,Lacute:uM,lacute:f,laemptyv:d,lagran:w,Lambda:N,lambda:H,lang:ie,Lang:fe,langd:we,langle:Me,lap:Xe,Laplacetrf:je,laquo:et,larrb:wt,larrbfs:_t,larr:Gt,Larr:mr,lArr:Kt,larrfs:xr,larrhk:Mr,larrlp:Ma,larrpl:Vi,larrsim:Aa,larrtl:Ln,latail:Ro,lAtail:Ks,lat:lb,late:gj,lates:Oj,lbarr:yj,lBarr:bj,lbbrk:wj,lbrace:kj,lbrack:Sj,lbrke:xj,lbrksld:Cj,lbrkslu:Tj,Lcaron:Ej,lcaron:Mj,Lcedil:Aj,lcedil:Dj,lceil:Pj,lcub:Rj,Lcy:Nj,lcy:$j,ldca:Lj,ldquo:_j,ldquor:Ij,ldrdhar:Qj,ldrushar:Bj,ldsh:qj,le:Fj,lE:Vj,LeftAngleBracket:Zj,LeftArrowBar:zj,leftarrow:Hj,LeftArrow:Wj,Leftarrow:Uj,LeftArrowRightArrow:Xj,leftarrowtail:jj,LeftCeiling:Yj,LeftDoubleBracket:Gj,LeftDownTeeVector:Kj,LeftDownVectorBar:Jj,LeftDownVector:e4,LeftFloor:t4,leftharpoondown:r4,leftharpoonup:n4,leftleftarrows:i4,leftrightarrow:a4,LeftRightArrow:o4,Leftrightarrow:s4,leftrightarrows:l4,leftrightharpoons:u4,leftrightsquigarrow:c4,LeftRightVector:f4,LeftTeeArrow:h4,LeftTee:d4,LeftTeeVector:p4,leftthreetimes:m4,LeftTriangleBar:v4,LeftTriangle:g4,LeftTriangleEqual:O4,LeftUpDownVector:y4,LeftUpTeeVector:b4,LeftUpVectorBar:w4,LeftUpVector:k4,LeftVectorBar:S4,LeftVector:x4,lEg:C4,leg:T4,leq:E4,leqq:M4,leqslant:A4,lescc:D4,les:P4,lesdot:R4,lesdoto:N4,lesdotor:$4,lesg:L4,lesges:_4,lessapprox:I4,lessdot:Q4,lesseqgtr:B4,lesseqqgtr:q4,LessEqualGreater:F4,LessFullEqual:V4,LessGreater:Z4,lessgtr:z4,LessLess:H4,lesssim:W4,LessSlantEqual:U4,LessTilde:X4,lfisht:j4,lfloor:Y4,Lfr:G4,lfr:K4,lg:J4,lgE:eY,lHar:tY,lhard:rY,lharu:nY,lharul:iY,lhblk:aY,LJcy:oY,ljcy:sY,llarr:lY,ll:uY,Ll:cY,llcorner:fY,Lleftarrow:hY,llhard:dY,lltri:pY,Lmidot:mY,lmidot:vY,lmoustache:gY,lmoust:OY,lnap:yY,lnapprox:bY,lne:wY,lnE:kY,lneq:SY,lneqq:xY,lnsim:CY,loang:TY,loarr:EY,lobrk:MY,longleftarrow:AY,LongLeftArrow:DY,Longleftarrow:PY,longleftrightarrow:RY,LongLeftRightArrow:NY,Longleftrightarrow:$Y,longmapsto:LY,longrightarrow:_Y,LongRightArrow:IY,Longrightarrow:QY,looparrowleft:BY,looparrowright:qY,lopar:FY,Lopf:VY,lopf:ZY,loplus:zY,lotimes:HY,lowast:WY,lowbar:UY,LowerLeftArrow:XY,LowerRightArrow:jY,loz:YY,lozenge:GY,lozf:KY,lpar:JY,lparlt:eG,lrarr:tG,lrcorner:rG,lrhar:nG,lrhard:iG,lrm:aG,lrtri:oG,lsaquo:sG,lscr:lG,Lscr:uG,lsh:cG,Lsh:fG,lsim:hG,lsime:dG,lsimg:pG,lsqb:mG,lsquo:vG,lsquor:gG,Lstrok:OG,lstrok:yG,ltcc:bG,ltcir:wG,lt:kG,LT:SG,Lt:xG,ltdot:CG,lthree:TG,ltimes:EG,ltlarr:MG,ltquest:AG,ltri:DG,ltrie:PG,ltrif:RG,ltrPar:NG,lurdshar:$G,luruhar:LG,lvertneqq:_G,lvnE:IG,macr:QG,male:BG,malt:qG,maltese:FG,Map:"â¤",map:VG,mapsto:ZG,mapstodown:zG,mapstoleft:HG,mapstoup:WG,marker:UG,mcomma:XG,Mcy:jG,mcy:YG,mdash:GG,mDDot:KG,measuredangle:JG,MediumSpace:e7,Mellintrf:t7,Mfr:r7,mfr:n7,mho:i7,micro:a7,midast:o7,midcir:s7,mid:l7,middot:u7,minusb:c7,minus:f7,minusd:h7,minusdu:d7,MinusPlus:p7,mlcp:m7,mldr:v7,mnplus:g7,models:O7,Mopf:y7,mopf:b7,mp:w7,mscr:k7,Mscr:S7,mstpos:x7,Mu:C7,mu:T7,multimap:E7,mumap:M7,nabla:A7,Nacute:D7,nacute:P7,nang:R7,nap:N7,napE:$7,napid:L7,napos:_7,napprox:I7,natural:Q7,naturals:B7,natur:q7,nbsp:F7,nbump:V7,nbumpe:Z7,ncap:z7,Ncaron:H7,ncaron:W7,Ncedil:U7,ncedil:X7,ncong:j7,ncongdot:Y7,ncup:G7,Ncy:K7,ncy:J7,ndash:e9,nearhk:t9,nearr:r9,neArr:n9,nearrow:i9,ne:a9,nedot:o9,NegativeMediumSpace:s9,NegativeThickSpace:l9,NegativeThinSpace:u9,NegativeVeryThinSpace:c9,nequiv:f9,nesear:h9,nesim:d9,NestedGreaterGreater:p9,NestedLessLess:m9,NewLine:v9,nexist:g9,nexists:O9,Nfr:y9,nfr:b9,ngE:w9,nge:k9,ngeq:S9,ngeqq:x9,ngeqslant:C9,nges:T9,nGg:E9,ngsim:M9,nGt:A9,ngt:D9,ngtr:P9,nGtv:R9,nharr:N9,nhArr:$9,nhpar:L9,ni:_9,nis:I9,nisd:Q9,niv:B9,NJcy:q9,njcy:F9,nlarr:V9,nlArr:Z9,nldr:z9,nlE:H9,nle:W9,nleftarrow:U9,nLeftarrow:X9,nleftrightarrow:j9,nLeftrightarrow:Y9,nleq:G9,nleqq:K9,nleqslant:J9,nles:e8,nless:t8,nLl:r8,nlsim:n8,nLt:i8,nlt:a8,nltri:o8,nltrie:s8,nLtv:l8,nmid:u8,NoBreak:c8,NonBreakingSpace:f8,nopf:h8,Nopf:d8,Not:p8,not:m8,NotCongruent:v8,NotCupCap:g8,NotDoubleVerticalBar:O8,NotElement:y8,NotEqual:b8,NotEqualTilde:w8,NotExists:k8,NotGreater:S8,NotGreaterEqual:x8,NotGreaterFullEqual:C8,NotGreaterGreater:T8,NotGreaterLess:E8,NotGreaterSlantEqual:M8,NotGreaterTilde:A8,NotHumpDownHump:D8,NotHumpEqual:P8,notin:R8,notindot:N8,notinE:$8,notinva:L8,notinvb:_8,notinvc:I8,NotLeftTriangleBar:Q8,NotLeftTriangle:B8,NotLeftTriangleEqual:q8,NotLess:F8,NotLessEqual:V8,NotLessGreater:Z8,NotLessLess:z8,NotLessSlantEqual:H8,NotLessTilde:W8,NotNestedGreaterGreater:U8,NotNestedLessLess:X8,notni:j8,notniva:Y8,notnivb:G8,notnivc:K8,NotPrecedes:J8,NotPrecedesEqual:e6,NotPrecedesSlantEqual:t6,NotReverseElement:r6,NotRightTriangleBar:n6,NotRightTriangle:i6,NotRightTriangleEqual:a6,NotSquareSubset:o6,NotSquareSubsetEqual:s6,NotSquareSuperset:l6,NotSquareSupersetEqual:u6,NotSubset:c6,NotSubsetEqual:f6,NotSucceeds:h6,NotSucceedsEqual:d6,NotSucceedsSlantEqual:p6,NotSucceedsTilde:m6,NotSuperset:v6,NotSupersetEqual:g6,NotTilde:O6,NotTildeEqual:y6,NotTildeFullEqual:b6,NotTildeTilde:w6,NotVerticalBar:k6,nparallel:S6,npar:x6,nparsl:C6,npart:T6,npolint:E6,npr:M6,nprcue:A6,nprec:D6,npreceq:P6,npre:R6,nrarrc:N6,nrarr:$6,nrArr:L6,nrarrw:_6,nrightarrow:I6,nRightarrow:Q6,nrtri:B6,nrtrie:q6,nsc:F6,nsccue:V6,nsce:Z6,Nscr:z6,nscr:H6,nshortmid:W6,nshortparallel:U6,nsim:X6,nsime:j6,nsimeq:Y6,nsmid:G6,nspar:K6,nsqsube:J6,nsqsupe:eK,nsub:tK,nsubE:rK,nsube:nK,nsubset:iK,nsubseteq:aK,nsubseteqq:oK,nsucc:sK,nsucceq:lK,nsup:uK,nsupE:cK,nsupe:fK,nsupset:hK,nsupseteq:dK,nsupseteqq:pK,ntgl:mK,Ntilde:vK,ntilde:gK,ntlg:OK,ntriangleleft:yK,ntrianglelefteq:bK,ntriangleright:wK,ntrianglerighteq:kK,Nu:SK,nu:xK,num:CK,numero:TK,numsp:EK,nvap:MK,nvdash:AK,nvDash:DK,nVdash:PK,nVDash:RK,nvge:NK,nvgt:$K,nvHarr:LK,nvinfin:_K,nvlArr:IK,nvle:QK,nvlt:BK,nvltrie:qK,nvrArr:FK,nvrtrie:VK,nvsim:ZK,nwarhk:zK,nwarr:HK,nwArr:WK,nwarrow:UK,nwnear:XK,Oacute:jK,oacute:YK,oast:GK,Ocirc:KK,ocirc:JK,ocir:eJ,Ocy:tJ,ocy:rJ,odash:nJ,Odblac:iJ,odblac:aJ,odiv:oJ,odot:sJ,odsold:lJ,OElig:uJ,oelig:cJ,ofcir:fJ,Ofr:hJ,ofr:dJ,ogon:pJ,Ograve:mJ,ograve:vJ,ogt:gJ,ohbar:OJ,ohm:yJ,oint:bJ,olarr:wJ,olcir:kJ,olcross:SJ,oline:xJ,olt:CJ,Omacr:TJ,omacr:EJ,Omega:MJ,omega:AJ,Omicron:DJ,omicron:PJ,omid:RJ,ominus:NJ,Oopf:$J,oopf:LJ,opar:_J,OpenCurlyDoubleQuote:IJ,OpenCurlyQuote:QJ,operp:BJ,oplus:qJ,orarr:FJ,Or:VJ,or:ZJ,ord:zJ,order:HJ,orderof:WJ,ordf:UJ,ordm:XJ,origof:jJ,oror:YJ,orslope:GJ,orv:KJ,oS:JJ,Oscr:eee,oscr:tee,Oslash:ree,oslash:nee,osol:iee,Otilde:aee,otilde:oee,otimesas:see,Otimes:lee,otimes:uee,Ouml:cee,ouml:fee,ovbar:hee,OverBar:dee,OverBrace:pee,OverBracket:mee,OverParenthesis:vee,para:gee,parallel:Oee,par:yee,parsim:bee,parsl:wee,part:kee,PartialD:See,Pcy:xee,pcy:Cee,percnt:Tee,period:Eee,permil:Mee,perp:Aee,pertenk:Dee,Pfr:Pee,pfr:Ree,Phi:Nee,phi:$ee,phiv:Lee,phmmat:_ee,phone:Iee,Pi:Qee,pi:Bee,pitchfork:qee,piv:Fee,planck:Vee,planckh:Zee,plankv:zee,plusacir:Hee,plusb:Wee,pluscir:Uee,plus:Xee,plusdo:jee,plusdu:Yee,pluse:Gee,PlusMinus:Kee,plusmn:Jee,plussim:ete,plustwo:tte,pm:rte,Poincareplane:nte,pointint:ite,popf:ate,Popf:ote,pound:ste,prap:lte,Pr:ute,pr:cte,prcue:fte,precapprox:hte,prec:dte,preccurlyeq:pte,Precedes:mte,PrecedesEqual:vte,PrecedesSlantEqual:gte,PrecedesTilde:Ote,preceq:yte,precnapprox:bte,precneqq:wte,precnsim:kte,pre:Ste,prE:xte,precsim:Cte,prime:Tte,Prime:Ete,primes:Mte,prnap:Ate,prnE:Dte,prnsim:Pte,prod:Rte,Product:Nte,profalar:$te,profline:Lte,profsurf:_te,prop:Ite,Proportional:Qte,Proportion:Bte,propto:qte,prsim:Fte,prurel:Vte,Pscr:Zte,pscr:zte,Psi:Hte,psi:Wte,puncsp:Ute,Qfr:Xte,qfr:jte,qint:Yte,qopf:Gte,Qopf:Kte,qprime:Jte,Qscr:ere,qscr:tre,quaternions:rre,quatint:nre,quest:ire,questeq:are,quot:ore,QUOT:sre,rAarr:lre,race:ure,Racute:cre,racute:fre,radic:hre,raemptyv:dre,rang:pre,Rang:mre,rangd:vre,range:gre,rangle:Ore,raquo:yre,rarrap:bre,rarrb:wre,rarrbfs:kre,rarrc:Sre,rarr:xre,Rarr:Cre,rArr:Tre,rarrfs:Ere,rarrhk:Mre,rarrlp:Are,rarrpl:Dre,rarrsim:Pre,Rarrtl:Rre,rarrtl:Nre,rarrw:$re,ratail:Lre,rAtail:_re,ratio:Ire,rationals:Qre,rbarr:Bre,rBarr:qre,RBarr:Fre,rbbrk:Vre,rbrace:Zre,rbrack:zre,rbrke:Hre,rbrksld:Wre,rbrkslu:Ure,Rcaron:Xre,rcaron:jre,Rcedil:Yre,rcedil:Gre,rceil:Kre,rcub:Jre,Rcy:ene,rcy:tne,rdca:rne,rdldhar:nne,rdquo:ine,rdquor:ane,rdsh:one,real:sne,realine:lne,realpart:une,reals:cne,Re:fne,rect:hne,reg:dne,REG:pne,ReverseElement:mne,ReverseEquilibrium:vne,ReverseUpEquilibrium:gne,rfisht:One,rfloor:yne,rfr:bne,Rfr:wne,rHar:kne,rhard:Sne,rharu:xne,rharul:Cne,Rho:Tne,rho:Ene,rhov:Mne,RightAngleBracket:Ane,RightArrowBar:Dne,rightarrow:Pne,RightArrow:Rne,Rightarrow:Nne,RightArrowLeftArrow:$ne,rightarrowtail:Lne,RightCeiling:_ne,RightDoubleBracket:Ine,RightDownTeeVector:Qne,RightDownVectorBar:Bne,RightDownVector:qne,RightFloor:Fne,rightharpoondown:Vne,rightharpoonup:Zne,rightleftarrows:zne,rightleftharpoons:Hne,rightrightarrows:Wne,rightsquigarrow:Une,RightTeeArrow:Xne,RightTee:jne,RightTeeVector:Yne,rightthreetimes:Gne,RightTriangleBar:Kne,RightTriangle:Jne,RightTriangleEqual:eie,RightUpDownVector:tie,RightUpTeeVector:rie,RightUpVectorBar:nie,RightUpVector:iie,RightVectorBar:aie,RightVector:oie,ring:sie,risingdotseq:lie,rlarr:uie,rlhar:cie,rlm:fie,rmoustache:hie,rmoust:die,rnmid:pie,roang:mie,roarr:vie,robrk:gie,ropar:Oie,ropf:yie,Ropf:bie,roplus:wie,rotimes:kie,RoundImplies:Sie,rpar:xie,rpargt:Cie,rppolint:Tie,rrarr:Eie,Rrightarrow:Mie,rsaquo:Aie,rscr:Die,Rscr:Pie,rsh:Rie,Rsh:Nie,rsqb:$ie,rsquo:Lie,rsquor:_ie,rthree:Iie,rtimes:Qie,rtri:Bie,rtrie:qie,rtrif:Fie,rtriltri:Vie,RuleDelayed:Zie,ruluhar:zie,rx:Hie,Sacute:Wie,sacute:Uie,sbquo:Xie,scap:jie,Scaron:Yie,scaron:Gie,Sc:Kie,sc:Jie,sccue:eae,sce:tae,scE:rae,Scedil:nae,scedil:iae,Scirc:aae,scirc:oae,scnap:sae,scnE:lae,scnsim:uae,scpolint:cae,scsim:fae,Scy:hae,scy:dae,sdotb:pae,sdot:mae,sdote:vae,searhk:gae,searr:Oae,seArr:yae,searrow:bae,sect:wae,semi:kae,seswar:Sae,setminus:xae,setmn:Cae,sext:Tae,Sfr:Eae,sfr:Mae,sfrown:Aae,sharp:Dae,SHCHcy:Pae,shchcy:Rae,SHcy:Nae,shcy:$ae,ShortDownArrow:Lae,ShortLeftArrow:_ae,shortmid:Iae,shortparallel:Qae,ShortRightArrow:Bae,ShortUpArrow:qae,shy:Fae,Sigma:Vae,sigma:Zae,sigmaf:zae,sigmav:Hae,sim:Wae,simdot:Uae,sime:Xae,simeq:jae,simg:Yae,simgE:Gae,siml:Kae,simlE:Jae,simne:eoe,simplus:toe,simrarr:roe,slarr:noe,SmallCircle:ioe,smallsetminus:aoe,smashp:ooe,smeparsl:soe,smid:loe,smile:uoe,smt:coe,smte:foe,smtes:hoe,SOFTcy:doe,softcy:poe,solbar:moe,solb:voe,sol:goe,Sopf:Ooe,sopf:yoe,spades:boe,spadesuit:woe,spar:koe,sqcap:Soe,sqcaps:xoe,sqcup:Coe,sqcups:Toe,Sqrt:Eoe,sqsub:Moe,sqsube:Aoe,sqsubset:Doe,sqsubseteq:Poe,sqsup:Roe,sqsupe:Noe,sqsupset:$oe,sqsupseteq:Loe,square:_oe,Square:Ioe,SquareIntersection:Qoe,SquareSubset:Boe,SquareSubsetEqual:qoe,SquareSuperset:Foe,SquareSupersetEqual:Voe,SquareUnion:Zoe,squarf:zoe,squ:Hoe,squf:Woe,srarr:Uoe,Sscr:Xoe,sscr:joe,ssetmn:Yoe,ssmile:Goe,sstarf:Koe,Star:Joe,star:ese,starf:tse,straightepsilon:rse,straightphi:nse,strns:ise,sub:ase,Sub:ose,subdot:sse,subE:lse,sube:use,subedot:cse,submult:fse,subnE:hse,subne:dse,subplus:pse,subrarr:mse,subset:vse,Subset:gse,subseteq:Ose,subseteqq:yse,SubsetEqual:bse,subsetneq:wse,subsetneqq:kse,subsim:Sse,subsub:xse,subsup:Cse,succapprox:Tse,succ:Ese,succcurlyeq:Mse,Succeeds:Ase,SucceedsEqual:Dse,SucceedsSlantEqual:Pse,SucceedsTilde:Rse,succeq:Nse,succnapprox:$se,succneqq:Lse,succnsim:_se,succsim:Ise,SuchThat:Qse,sum:Bse,Sum:qse,sung:Fse,sup1:Vse,sup2:Zse,sup3:zse,sup:Hse,Sup:Wse,supdot:Use,supdsub:Xse,supE:jse,supe:Yse,supedot:Gse,Superset:Kse,SupersetEqual:Jse,suphsol:ele,suphsub:tle,suplarr:rle,supmult:nle,supnE:ile,supne:ale,supplus:ole,supset:sle,Supset:lle,supseteq:ule,supseteqq:cle,supsetneq:fle,supsetneqq:hle,supsim:dle,supsub:ple,supsup:mle,swarhk:vle,swarr:gle,swArr:Ole,swarrow:yle,swnwar:ble,szlig:wle,Tab:kle,target:Sle,Tau:xle,tau:Cle,tbrk:Tle,Tcaron:Ele,tcaron:Mle,Tcedil:Ale,tcedil:Dle,Tcy:Ple,tcy:Rle,tdot:Nle,telrec:$le,Tfr:Lle,tfr:_le,there4:Ile,therefore:Qle,Therefore:Ble,Theta:qle,theta:Fle,thetasym:Vle,thetav:Zle,thickapprox:zle,thicksim:Hle,ThickSpace:Wle,ThinSpace:Ule,thinsp:Xle,thkap:jle,thksim:Yle,THORN:Gle,thorn:Kle,tilde:Jle,Tilde:eue,TildeEqual:tue,TildeFullEqual:rue,TildeTilde:nue,timesbar:iue,timesb:aue,times:oue,timesd:sue,tint:lue,toea:uue,topbot:cue,topcir:fue,top:hue,Topf:due,topf:pue,topfork:mue,tosa:vue,tprime:gue,trade:Oue,TRADE:yue,triangle:bue,triangledown:wue,triangleleft:kue,trianglelefteq:Sue,triangleq:xue,triangleright:Cue,trianglerighteq:Tue,tridot:Eue,trie:Mue,triminus:Aue,TripleDot:Due,triplus:Pue,trisb:Rue,tritime:Nue,trpezium:$ue,Tscr:Lue,tscr:_ue,TScy:Iue,tscy:Que,TSHcy:Bue,tshcy:que,Tstrok:Fue,tstrok:Vue,twixt:Zue,twoheadleftarrow:zue,twoheadrightarrow:Hue,Uacute:Wue,uacute:Uue,uarr:Xue,Uarr:jue,uArr:Yue,Uarrocir:Gue,Ubrcy:Kue,ubrcy:Jue,Ubreve:ece,ubreve:tce,Ucirc:rce,ucirc:nce,Ucy:ice,ucy:ace,udarr:oce,Udblac:sce,udblac:lce,udhar:uce,ufisht:cce,Ufr:fce,ufr:hce,Ugrave:dce,ugrave:pce,uHar:mce,uharl:vce,uharr:gce,uhblk:Oce,ulcorn:yce,ulcorner:bce,ulcrop:wce,ultri:kce,Umacr:Sce,umacr:xce,uml:Cce,UnderBar:Tce,UnderBrace:Ece,UnderBracket:Mce,UnderParenthesis:Ace,Union:Dce,UnionPlus:Pce,Uogon:Rce,uogon:Nce,Uopf:$ce,uopf:Lce,UpArrowBar:_ce,uparrow:Ice,UpArrow:Qce,Uparrow:Bce,UpArrowDownArrow:qce,updownarrow:Fce,UpDownArrow:Vce,Updownarrow:Zce,UpEquilibrium:zce,upharpoonleft:Hce,upharpoonright:Wce,uplus:Uce,UpperLeftArrow:Xce,UpperRightArrow:jce,upsi:Yce,Upsi:Gce,upsih:Kce,Upsilon:Jce,upsilon:efe,UpTeeArrow:tfe,UpTee:rfe,upuparrows:nfe,urcorn:ife,urcorner:afe,urcrop:ofe,Uring:sfe,uring:lfe,urtri:ufe,Uscr:cfe,uscr:ffe,utdot:hfe,Utilde:dfe,utilde:pfe,utri:mfe,utrif:vfe,uuarr:gfe,Uuml:Ofe,uuml:yfe,uwangle:bfe,vangrt:wfe,varepsilon:kfe,varkappa:Sfe,varnothing:xfe,varphi:Cfe,varpi:Tfe,varpropto:Efe,varr:Mfe,vArr:Afe,varrho:Dfe,varsigma:Pfe,varsubsetneq:Rfe,varsubsetneqq:Nfe,varsupsetneq:$fe,varsupsetneqq:Lfe,vartheta:_fe,vartriangleleft:Ife,vartriangleright:Qfe,vBar:Bfe,Vbar:qfe,vBarv:Ffe,Vcy:Vfe,vcy:Zfe,vdash:zfe,vDash:Hfe,Vdash:Wfe,VDash:Ufe,Vdashl:Xfe,veebar:jfe,vee:Yfe,Vee:Gfe,veeeq:Kfe,vellip:Jfe,verbar:ehe,Verbar:the,vert:rhe,Vert:nhe,VerticalBar:ihe,VerticalLine:ahe,VerticalSeparator:ohe,VerticalTilde:she,VeryThinSpace:lhe,Vfr:uhe,vfr:che,vltri:fhe,vnsub:hhe,vnsup:dhe,Vopf:phe,vopf:mhe,vprop:vhe,vrtri:ghe,Vscr:Ohe,vscr:yhe,vsubnE:bhe,vsubne:whe,vsupnE:khe,vsupne:She,Vvdash:xhe,vzigzag:Che,Wcirc:The,wcirc:Ehe,wedbar:Mhe,wedge:Ahe,Wedge:Dhe,wedgeq:Phe,weierp:Rhe,Wfr:Nhe,wfr:$he,Wopf:Lhe,wopf:_he,wp:Ihe,wr:Qhe,wreath:Bhe,Wscr:qhe,wscr:Fhe,xcap:Vhe,xcirc:Zhe,xcup:zhe,xdtri:Hhe,Xfr:Whe,xfr:Uhe,xharr:Xhe,xhArr:jhe,Xi:Yhe,xi:Ghe,xlarr:Khe,xlArr:Jhe,xmap:ede,xnis:tde,xodot:rde,Xopf:nde,xopf:ide,xoplus:ade,xotime:ode,xrarr:sde,xrArr:lde,Xscr:ude,xscr:cde,xsqcup:fde,xuplus:hde,xutri:dde,xvee:pde,xwedge:mde,Yacute:vde,yacute:gde,YAcy:Ode,yacy:yde,Ycirc:bde,ycirc:wde,Ycy:kde,ycy:Sde,yen:xde,Yfr:Cde,yfr:Tde,YIcy:Ede,yicy:Mde,Yopf:Ade,yopf:Dde,Yscr:Pde,yscr:Rde,YUcy:Nde,yucy:$de,yuml:Lde,Yuml:_de,Zacute:Ide,zacute:Qde,Zcaron:Bde,zcaron:qde,Zcy:Fde,zcy:Vde,Zdot:Zde,zdot:zde,zeetrf:Hde,ZeroWidthSpace:Wde,Zeta:Ude,zeta:Xde,zfr:jde,Zfr:Yde,ZHcy:Gde,zhcy:Kde,zigrarr:Jde,zopf:epe,Zopf:tpe,Zscr:rpe,zscr:npe,zwj:ipe,zwnj:ape},ope="Ã",spe="Ã¡",lpe="Ã",upe="Ã¢",cpe="Â´",fpe="Ã",hpe="Ã¦",dpe="Ã",ppe="Ã ",mpe="&",vpe="&",gpe="Ã",Ope="Ã¥",ype="Ã",bpe="Ã£",wpe="Ã",kpe="Ã¤",Spe="Â¦",xpe="Ã",Cpe="Ã§",Tpe="Â¸",Epe="Â¢",Mpe="Â©",Ape="Â©",Dpe="Â¤",Ppe="Â°",Rpe="Ã·",Npe="Ã",$pe="Ã©",Lpe="Ã",_pe="Ãª",Ipe="Ã",Qpe="Ã¨",Bpe="Ã",qpe="Ã°",Fpe="Ã",Vpe="Ã«",Zpe="Â½",zpe="Â¼",Hpe="Â¾",Wpe=">",Upe=">",Xpe="Ã",jpe="Ã­",Ype="Ã",Gpe="Ã®",Kpe="Â¡",Jpe="Ã",eme="Ã¬",tme="Â¿",rme="Ã",nme="Ã¯",ime="Â«",ame="<",ome="<",sme="Â¯",lme="Âµ",ume="Â·",cme="Â ",fme="Â¬",hme="Ã",dme="Ã±",pme="Ã",mme="Ã³",vme="Ã",gme="Ã´",Ome="Ã",yme="Ã²",bme="Âª",wme="Âº",kme="Ã",Sme="Ã¸",xme="Ã",Cme="Ãµ",Tme="Ã",Eme="Ã¶",Mme="Â¶",Ame="Â±",Dme="Â£",Pme='"',Rme='"',Nme="Â»",$me="Â®",Lme="Â®",_me="Â§",Ime="Â­",Qme="Â¹",Bme="Â²",qme="Â³",Fme="Ã",Vme="Ã",Zme="Ã¾",zme="Ã",Hme="Ã",Wme="Ãº",Ume="Ã",Xme="Ã»",jme="Ã",Yme="Ã¹",Gme="Â¨",Kme="Ã",Jme="Ã¼",eve="Ã",tve="Ã½",rve="Â¥",nve="Ã¿",ive={Aacute:ope,aacute:spe,Acirc:lpe,acirc:upe,acute:cpe,AElig:fpe,aelig:hpe,Agrave:dpe,agrave:ppe,amp:mpe,AMP:vpe,Aring:gpe,aring:Ope,Atilde:ype,atilde:bpe,Auml:wpe,auml:kpe,brvbar:Spe,Ccedil:xpe,ccedil:Cpe,cedil:Tpe,cent:Epe,copy:Mpe,COPY:Ape,curren:Dpe,deg:Ppe,divide:Rpe,Eacute:Npe,eacute:$pe,Ecirc:Lpe,ecirc:_pe,Egrave:Ipe,egrave:Qpe,ETH:Bpe,eth:qpe,Euml:Fpe,euml:Vpe,frac12:Zpe,frac14:zpe,frac34:Hpe,gt:Wpe,GT:Upe,Iacute:Xpe,iacute:jpe,Icirc:Ype,icirc:Gpe,iexcl:Kpe,Igrave:Jpe,igrave:eme,iquest:tme,Iuml:rme,iuml:nme,laquo:ime,lt:ame,LT:ome,macr:sme,micro:lme,middot:ume,nbsp:cme,not:fme,Ntilde:hme,ntilde:dme,Oacute:pme,oacute:mme,Ocirc:vme,ocirc:gme,Ograve:Ome,ograve:yme,ordf:bme,ordm:wme,Oslash:kme,oslash:Sme,Otilde:xme,otilde:Cme,Ouml:Tme,ouml:Eme,para:Mme,plusmn:Ame,pound:Dme,quot:Pme,QUOT:Rme,raquo:Nme,reg:$me,REG:Lme,sect:_me,shy:Ime,sup1:Qme,sup2:Bme,sup3:qme,szlig:Fme,THORN:Vme,thorn:Zme,times:zme,Uacute:Hme,uacute:Wme,Ucirc:Ume,ucirc:Xme,Ugrave:jme,ugrave:Yme,uml:Gme,Uuml:Kme,uuml:Jme,Yacute:eve,yacute:tve,yen:rve,yuml:nve},ave="&",ove="'",sve=">",lve="<",uve='"',nL={amp:ave,apos:ove,gt:sve,lt:lve,quot:uve},cM={},cve={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},fve=R&&R.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(cM,"__esModule",{value:!0});var iL=fve(cve),hve=String.fromCodePoint||function(b){var y="";return b>65535&&(b-=65536,y+=String.fromCharCode(b>>>10&1023|55296),b=56320|b&1023),y+=String.fromCharCode(b),y};function dve(b){return b>=55296&&b<=57343||b>1114111?"ï¿½":(b in iL.default&&(b=iL.default[b]),hve(b))}cM.default=dve;var ub=R&&R.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(le,"__esModule",{value:!0}),le.decodeHTML=le.decodeHTMLStrict=le.decodeXML=void 0;var fM=ub(rL),pve=ub(ive),mve=ub(nL),aL=ub(cM),vve=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;le.decodeXML=oL(mve.default),le.decodeHTMLStrict=oL(fM.default);function oL(b){var y=lL(b);return function(C){return String(C).replace(vve,y)}}var sL=function(b,y){return b<y?1:-1};le.decodeHTML=function(){for(var b=Object.keys(pve.default).sort(sL),y=Object.keys(fM.default).sort(sL),C=0,P=0;C<y.length;C++)b[P]===y[C]?(y[C]+=";?",P++):y[C]+=";";var F=new RegExp("&(?:"+y.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),ne=lL(fM.default);function ue(ye){return ye.substr(-1)!==";"&&(ye+=";"),ne(ye)}return function(ye){return String(ye).replace(F,ue)}}();function lL(b){return function(C){if(C.charAt(1)==="#"){var P=C.charAt(2);return P==="X"||P==="x"?aL.default(parseInt(C.substr(3),16)):aL.default(parseInt(C.substr(2),10))}return b[C.slice(1,-1)]||C}}var No={},uL=R&&R.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(No,"__esModule",{value:!0}),No.escapeUTF8=No.escape=No.encodeNonAsciiHTML=No.encodeHTML=No.encodeXML=void 0;var gve=uL(nL),cL=hL(gve.default),fL=dL(cL);No.encodeXML=vL(cL);var Ove=uL(rL),hM=hL(Ove.default),yve=dL(hM);No.encodeHTML=wve(hM,yve),No.encodeNonAsciiHTML=vL(hM);function hL(b){return Object.keys(b).sort().reduce(function(y,C){return y[b[C]]="&"+C+";",y},{})}function dL(b){for(var y=[],C=[],P=0,F=Object.keys(b);P<F.length;P++){var ne=F[P];ne.length===1?y.push("\\"+ne):C.push(ne)}y.sort();for(var ue=0;ue<y.length-1;ue++){for(var ye=ue;ye<y.length-1&&y[ye].charCodeAt(1)+1===y[ye+1].charCodeAt(1);)ye+=1;var We=1+ye-ue;We<3||y.splice(ue,We,y[ue]+"-"+y[ye])}return C.unshift("["+y.join("")+"]"),new RegExp(C.join("|"),"g")}var pL=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,bve=String.prototype.codePointAt!=null?function(b){return b.codePointAt(0)}:function(b){return(b.charCodeAt(0)-55296)*1024+b.charCodeAt(1)-56320+65536};function cb(b){return"&#x"+(b.length>1?bve(b):b.charCodeAt(0)).toString(16).toUpperCase()+";"}function wve(b,y){return function(C){return C.replace(y,function(P){return b[P]}).replace(pL,cb)}}var mL=new RegExp(fL.source+"|"+pL.source,"g");function kve(b){return b.replace(mL,cb)}No.escape=kve;function Sve(b){return b.replace(fL,cb)}No.escapeUTF8=Sve;function vL(b){return function(y){return y.replace(mL,function(C){return b[C]||cb(C)})}}(function(b){Object.defineProperty(b,"__esModule",{value:!0}),b.decodeXMLStrict=b.decodeHTML5Strict=b.decodeHTML4Strict=b.decodeHTML5=b.decodeHTML4=b.decodeHTMLStrict=b.decodeHTML=b.decodeXML=b.encodeHTML5=b.encodeHTML4=b.escapeUTF8=b.escape=b.encodeNonAsciiHTML=b.encodeHTML=b.encodeXML=b.encode=b.decodeStrict=b.decode=void 0;var y=le,C=No;function P(We,Je){return(!Je||Je<=0?y.decodeXML:y.decodeHTML)(We)}b.decode=P;function F(We,Je){return(!Je||Je<=0?y.decodeXML:y.decodeHTMLStrict)(We)}b.decodeStrict=F;function ne(We,Je){return(!Je||Je<=0?C.encodeXML:C.encodeHTML)(We)}b.encode=ne;var ue=No;Object.defineProperty(b,"encodeXML",{enumerable:!0,get:function(){return ue.encodeXML}}),Object.defineProperty(b,"encodeHTML",{enumerable:!0,get:function(){return ue.encodeHTML}}),Object.defineProperty(b,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return ue.encodeNonAsciiHTML}}),Object.defineProperty(b,"escape",{enumerable:!0,get:function(){return ue.escape}}),Object.defineProperty(b,"escapeUTF8",{enumerable:!0,get:function(){return ue.escapeUTF8}}),Object.defineProperty(b,"encodeHTML4",{enumerable:!0,get:function(){return ue.encodeHTML}}),Object.defineProperty(b,"encodeHTML5",{enumerable:!0,get:function(){return ue.encodeHTML}});var ye=le;Object.defineProperty(b,"decodeXML",{enumerable:!0,get:function(){return ye.decodeXML}}),Object.defineProperty(b,"decodeHTML",{enumerable:!0,get:function(){return ye.decodeHTML}}),Object.defineProperty(b,"decodeHTMLStrict",{enumerable:!0,get:function(){return ye.decodeHTMLStrict}}),Object.defineProperty(b,"decodeHTML4",{enumerable:!0,get:function(){return ye.decodeHTML}}),Object.defineProperty(b,"decodeHTML5",{enumerable:!0,get:function(){return ye.decodeHTML}}),Object.defineProperty(b,"decodeHTML4Strict",{enumerable:!0,get:function(){return ye.decodeHTMLStrict}}),Object.defineProperty(b,"decodeHTML5Strict",{enumerable:!0,get:function(){return ye.decodeHTMLStrict}}),Object.defineProperty(b,"decodeXMLStrict",{enumerable:!0,get:function(){return ye.decodeXML}})})(ee);var gL="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",xve=92,Cve=/[\\&]/,dM="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",Tve=new RegExp("\\\\"+dM+"|"+gL,"gi"),Eve='[&<>"]',OL=new RegExp(Eve,"g"),Mve=function(b){return b.charCodeAt(0)===xve?b.charAt(1):ee.decodeHTML(b)};function gv(b){return Cve.test(b)?b.replace(Tve,Mve):b}function fb(b){try{return J(b)}catch{return b}}function Ave(b){switch(b){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return b}}function _d(b){return OL.test(b)?b.replace(OL,Ave):b}function pM(b,y){for(var C=[],P=0;P<y;P++)C.push(b);return C.join("")}function yL(b){return b?!/[^ \t]+/.test(b):!0}var Dve=function(){function b(y){this.current=y,this.root=y,this.entering=!0}return b.prototype.next=function(){var y=this.current,C=this.entering;if(y===null)return null;var P=mM(y);return C&&P?y.firstChild?(this.current=y.firstChild,this.entering=!0):this.entering=!1:y===this.root?this.current=null:y.next===null?(this.current=y.parent,this.entering=!1):(this.current=y.next,this.entering=!0),{entering:C,node:y}},b.prototype.resumeAt=function(y,C){this.current=y,this.entering=C===!0},b}();function mM(b){switch(b.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var Pve=1,hb={};function Rve(b){return hb[b]}function vM(b){delete hb[b]}function Nve(){hb={}}var Ov=function(){function b(y,C){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,y==="document"?this.id=-1:this.id=Pve++,this.type=y,this.sourcepos=C,hb[this.id]=this}return b.prototype.isContainer=function(){return mM(this)},b.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},b.prototype.replaceWith=function(y){this.insertBefore(y),this.unlink()},b.prototype.insertAfter=function(y){y.unlink(),y.next=this.next,y.next&&(y.next.prev=y),y.prev=this,this.next=y,this.parent&&(y.parent=this.parent,y.next||(y.parent.lastChild=y))},b.prototype.insertBefore=function(y){y.unlink(),y.prev=this.prev,y.prev&&(y.prev.next=y),y.next=this,this.prev=y,y.parent=this.parent,y.prev||(y.parent.firstChild=y)},b.prototype.appendChild=function(y){y.unlink(),y.parent=this,this.lastChild?(this.lastChild.next=y,y.prev=this.lastChild,this.lastChild=y):(this.firstChild=y,this.lastChild=y)},b.prototype.prependChild=function(y){y.unlink(),y.parent=this,this.firstChild?(this.firstChild.prev=y,y.next=this.firstChild,this.firstChild=y):(this.firstChild=y,this.lastChild=y)},b.prototype.walker=function(){return new Dve(this)},b}(),Eu=function(b){O(y,b);function y(C,P){var F=b.call(this,C,P)||this;return F.open=!0,F.lineOffsets=null,F.stringContent=null,F.lastLineBlank=!1,F.lastLineChecked=!1,F.type=C,F}return y}(Ov),$ve=function(b){O(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.listData=null,C}return y}(Eu),Lve=function(b){O(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.level=0,C.headingType="atx",C}return y}(Eu),_ve=function(b){O(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.isFenced=!1,C.fenceChar=null,C.fenceLength=0,C.fenceOffset=-1,C.info=null,C.infoPadding=0,C}return y}(Eu),Ive=function(b){O(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.columns=[],C}return y}(Eu),Qve=function(b){O(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.startIdx=0,C.endIdx=0,C.paddingLeft=0,C.paddingRight=0,C.ignored=!1,C}return y}(Eu),Bve=function(b){O(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.title="",C.dest="",C.label="",C}return y}(Eu),qve=function(b){O(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.syntaxLength=0,C.offset=-1,C.info="",C}return y}(Eu),Fve=function(b){O(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.htmlBlockType=-1,C}return y}(Eu),Vve=function(b){O(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.destination=null,C.title=null,C.extendedAutolink=!1,C}return y}(Ov),Zve=function(b){O(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.tickCount=0,C}return y}(Ov),zve=function(b){O(y,b);function y(){var C=b!==null&&b.apply(this,arguments)||this;return C.info="",C}return y}(Ov);function Un(b,y){switch(b){case"heading":return new Lve(b,y);case"list":case"item":return new $ve(b,y);case"link":case"image":return new Vve(b,y);case"codeBlock":return new _ve(b,y);case"htmlBlock":return new Fve(b,y);case"table":return new Ive(b,y);case"tableCell":return new Qve(b,y);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Eu(b,y);case"code":return new Zve(b,y);case"refDef":return new Bve(b,y);case"customBlock":return new qve(b,y);case"customInline":return new zve(b,y);default:return new Ov(b,y)}}function bL(b){return b.type==="codeBlock"}function Hve(b){return b.type==="htmlBlock"}function Wve(b){return b.type==="heading"}function wL(b){return b.type==="list"}function Uve(b){return b.type==="table"}function Id(b){return b.type==="refDef"}function kL(b){return b.type==="customBlock"}function Xve(b){return b.type==="customInline"}function Oi(b,y){var C=Un("text",y);return C.literal=b,C}var SL="[A-Za-z][A-Za-z0-9-]*",jve="[a-zA-Z_:][a-zA-Z0-9:._-]*",Yve="[^\"'=<>`\\x00-\\x20]+",Gve="'[^']*'",Kve='"[^"]*"',Jve="(?:"+Yve+"|"+Gve+"|"+Kve+")",ege="(?:\\s*=\\s*"+Jve+")",tge="(?:\\s+"+jve+ege+"?)",xL="<"+SL+tge+"*\\s*/?>",CL="</"+SL+"\\s*[>]",rge="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",nge="[<][?].*?[?][>]",ige="<![A-Z]+\\s+[^>]*>",age="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",oge="(?:"+xL+"|"+CL+"|"+rge+"|"+nge+"|"+ige+"|"+age+")",sge=new RegExp("^"+oge,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var gM;if(String.fromCodePoint)gM=function(b){try{return String.fromCodePoint(b)}catch(y){if(y instanceof RangeError)return"ï¿½";throw y}};else{var lge=String.fromCharCode,uge=Math.floor;gM=function(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];var C=16384,P=[],F,ne,ue=-1,ye=b.length;if(!ye)return"";for(var We="";++ue<ye;){var Je=Number(b[ue]);if(!isFinite(Je)||Je<0||Je>1114111||uge(Je)!==Je)return"ï¿½";Je<=65535?P.push(Je):(Je-=65536,F=(Je>>10)+55296,ne=Je%1024+56320,P.push(F,ne)),(ue+1===ye||P.length>C)&&(We+=lge.apply(void 0,P),P.length=0)}return We}}var OM=gM,cge="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",fge="[^<\\s]*[^<?!.,:*_?~\\s]",hge="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function dge(b){var y=/\)+$/.exec(b);if(y){for(var C=0,P=0,F=b;P<F.length;P++){var ne=F[P];ne==="("?C<0?C=1:C+=1:ne===")"&&(C-=1)}if(C<0){var ue=Math.min(-C,y[0].length);return b.substring(0,b.length-ue)}}return b}function pge(b){return b.replace(/&[A-Za-z0-9]+;$/,"")}function mge(b){for(var y=new RegExp(hge,"g"),C=[],P;P=y.exec(b);){var F=P[0];/[_-]+$/.test(F)||C.push({text:F,range:[P.index,P.index+F.length-1],url:"mailto:"+F})}return C}function vge(b){for(var y=new RegExp("(www|https?://)."+cge+fge,"g"),C=[],P;P=y.exec(b);){var F=pge(dge(P[0])),ne=P[1]==="www"?"http://":"";C.push({text:F,range:[P.index,P.index+F.length-1],url:""+ne+F})}return C}function gge(b){return M(M([],vge(b)),mge(b)).sort(function(y,C){return y.range[0]-C.range[0]})}function Oge(b,y){typeof y=="boolean"&&(y=gge);for(var C,P=function(){var F=C.entering,ne=C.node;if(F&&ne.type==="text"&&ne.parent.type!=="link"){var ue=ne.literal,ye=y(ue);if(!ye||!ye.length)return"continue";for(var We=0,Je=ne.sourcepos[0],kt=Je[0],Et=Je[1],gt=function(Pu,Mbe){return[[kt,Et+Pu],[kt,Et+Mbe]]},Ut=[],Wt=0,Hr=ye;Wt<Hr.length;Wt++){var Xn=Hr[Wt],Ei=Xn.range,Mu=Xn.url,cs=Xn.text;Ei[0]>We&&Ut.push(Oi(ue.substring(We,Ei[0]),gt(We,Ei[0]-1)));var Lo=Un("link",gt.apply(void 0,Ei));Lo.appendChild(Oi(cs,gt.apply(void 0,Ei))),Lo.destination=Mu,Lo.extendedAutolink=!0,Ut.push(Lo),We=Ei[1]+1}We<ue.length&&Ut.push(Oi(ue.substring(We),gt(We,ue.length-1)));for(var Js=0,Au=Ut;Js<Au.length;Js++){var Du=Au[Js];ne.insertBefore(Du)}ne.unlink()}};C=b.next();)P()}function db(b){return b[b.length-1]}function TL(b){return b.slice(1,b.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function pb(b,y){Object.keys(b).forEach(function(C){y(C,b[C])})}function yge(b){for(var y=[],C=1;C<arguments.length;C++)y[C-1]=arguments[C];var P=T({},b);return y.forEach(function(F){delete P[F]}),P}function Qd(b){return!Object.keys(b).length}function bge(b){Object.keys(b).forEach(function(y){delete b[y]})}var yM=10,bM=42,mb=95,wge=96,EL=91,kge=93,vb=126,ML=60,Sge=33,AL=92,xge=38,DL=40,wM=41,Cge=58,jf=39,Yf=34,Gf=36,kM="\\\\"+dM,PL=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),Tge=new RegExp('^(?:"('+kM+'|[^"\\x00])*"|'+("'("+kM+"|[^'\\x00])*'")+"|"+("\\(("+kM+"|[^()\\x00])*\\))")),Ege=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,RL=new RegExp("^"+dM),Mge=new RegExp("^"+gL,"i"),Age=/`+/,Dge=/^`+/,Pge=/\.\.\./g,Rge=/--+/g,Nge=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,$ge=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,Lge=/^ *(?:\n *)?/,SM=/^[ \t\n\x0b\x0c\x0d]/,NL=/^\s/,_ge=/ *$/,Ige=/^ */,$L=/^ *(?:\n|$)/,Qge=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,Bge=/^[^\n`\[\]\\!<&*_'"~$]+/m,qge=function(){function b(y){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=y}return b.prototype.sourcepos=function(y,C){var P=this.linePosOffset+this.lineOffsets[this.lineIdx],F=this.lineStartNum+this.lineIdx,ne=[F,y+P];return typeof C=="number"?[ne,[F,C+P]]:ne},b.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},b.prototype.match=function(y){var C=y.exec(this.subject.slice(this.pos));return C===null?null:(this.pos+=C.index+C[0].length,C[0])},b.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},b.prototype.spnl=function(){return this.match(Lge),!0},b.prototype.parseBackticks=function(y){var C=this.pos+1,P=this.match(Dge);if(P===null)return!1;for(var F=this.pos,ne;(ne=this.match(Age))!==null;)if(ne===P){var ue=this.subject.slice(F,this.pos-P.length),ye=this.sourcepos(C,this.pos),We=ue.split(`
`);if(We.length>1){var Je=db(We);this.lineIdx+=We.length-1,this.linePosOffset=-(this.pos-Je.length-P.length),ye[1]=this.sourcepos(this.pos),ue=We.join(" ")}var kt=Un("code",ye);return ue.length>0&&ue.match(/[^ ]/)!==null&&ue[0]==" "&&ue[ue.length-1]==" "?kt.literal=ue.slice(1,ue.length-1):kt.literal=ue,kt.tickCount=P.length,y.appendChild(kt),!0}return this.pos=F,y.appendChild(Oi(P,this.sourcepos(C,this.pos-1))),!0},b.prototype.parseBackslash=function(y){var C=this.subject,P;this.pos+=1;var F=this.pos;return this.peek()===yM?(this.pos+=1,P=Un("linebreak",this.sourcepos(this.pos-1,this.pos)),y.appendChild(P),this.nextLine()):RL.test(C.charAt(this.pos))?(y.appendChild(Oi(C.charAt(this.pos),this.sourcepos(F,this.pos))),this.pos+=1):y.appendChild(Oi("\\",this.sourcepos(F,F))),!0},b.prototype.parseAutolink=function(y){var C,P,F,ne=this.pos+1;return(C=this.match(Nge))?(P=C.slice(1,C.length-1),F=Un("link",this.sourcepos(ne,this.pos)),F.destination=fb("mailto:"+P),F.title="",F.appendChild(Oi(P,this.sourcepos(ne+1,this.pos-1))),y.appendChild(F),!0):(C=this.match($ge))?(P=C.slice(1,C.length-1),F=Un("link",this.sourcepos(ne,this.pos)),F.destination=fb(P),F.title="",F.appendChild(Oi(P,this.sourcepos(ne+1,this.pos-1))),y.appendChild(F),!0):!1},b.prototype.parseHtmlTag=function(y){var C=this.pos+1,P=this.match(sge);if(P===null)return!1;var F=Un("htmlInline",this.sourcepos(C,this.pos));return F.literal=P,y.appendChild(F),!0},b.prototype.scanDelims=function(y){var C=0,P=this.pos;if(y===jf||y===Yf)C++,this.pos++;else for(;this.peek()===y;)C++,this.pos++;if(C===0||C<2&&(y===vb||y===Gf))return this.pos=P,null;var F=P===0?`
`:this.subject.charAt(P-1),ne=this.peek(),ue;ne===-1?ue=`
`:ue=OM(ne);var ye=NL.test(ue),We=PL.test(ue),Je=NL.test(F),kt=PL.test(F),Et=!ye&&(!We||Je||kt),gt=!Je&&(!kt||ye||We),Ut,Wt;return y===mb?(Ut=Et&&(!gt||kt),Wt=gt&&(!Et||We)):y===jf||y===Yf?(Ut=Et&&!gt,Wt=gt):y===Gf?(Ut=!ye,Wt=!Je):(Ut=Et,Wt=gt),this.pos=P,{numdelims:C,canOpen:Ut,canClose:Wt}},b.prototype.handleDelim=function(y,C){var P=this.scanDelims(y);if(!P)return!1;var F=P.numdelims,ne=this.pos+1,ue;this.pos+=F,y===jf?ue="â":y===Yf?ue="â":ue=this.subject.slice(ne-1,this.pos);var ye=Oi(ue,this.sourcepos(ne,this.pos));return C.appendChild(ye),(P.canOpen||P.canClose)&&(this.options.smart||y!==jf&&y!==Yf)&&(this.delimiters={cc:y,numdelims:F,origdelims:F,node:ye,previous:this.delimiters,next:null,canOpen:P.canOpen,canClose:P.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},b.prototype.removeDelimiter=function(y){y.previous!==null&&(y.previous.next=y.next),y.next===null?this.delimiters=y.previous:y.next.previous=y.previous},b.prototype.removeDelimitersBetween=function(y,C){y.next!==C&&(y.next=C,C.previous=y)},b.prototype.processEmphasis=function(y){var C,P,F,ne,ue,ye,We,Je=!1,kt=(C={},C[mb]=[y,y,y],C[bM]=[y,y,y],C[jf]=[y],C[Yf]=[y],C[vb]=[y],C[Gf]=[y],C);for(F=this.delimiters;F!==null&&F.previous!==y;)F=F.previous;for(;F!==null;){var Et=F.cc,gt=Et===mb||Et===bM;if(!F.canClose)F=F.next;else{for(P=F.previous,We=!1;P!==null&&P!==y&&P!==kt[Et][gt?F.origdelims%3:0];){if(Je=gt&&(F.canOpen||P.canClose)&&F.origdelims%3!==0&&(P.origdelims+F.origdelims)%3===0,P.cc===F.cc&&P.canOpen&&!Je){We=!0;break}P=P.previous}if(ne=F,gt||Et===vb||Et===Gf){if(!We)F=F.next;else if(P){var Ut=F.numdelims>=2&&P.numdelims>=2?2:1,Wt=gt?0:1;ue=P.node,ye=F.node;var Hr=gt?Ut===1?"emph":"strong":"strike";Et===Gf&&(Hr="customInline");var Xn=Un(Hr),Ei=ue.sourcepos[1],Mu=ye.sourcepos[0];Xn.sourcepos=[[Ei[0],Ei[1]-Ut+1],[Mu[0],Mu[1]+Ut-1]],ue.sourcepos[1][1]-=Ut,ye.sourcepos[0][1]+=Ut,ue.literal=ue.literal.slice(Ut),ye.literal=ye.literal.slice(Ut),P.numdelims-=Ut,F.numdelims-=Ut;for(var cs=ue.next,Lo=void 0;cs&&cs!==ye;)Lo=cs.next,cs.unlink(),Xn.appendChild(cs),cs=Lo;if(Et===Gf){var Js=Xn.firstChild,Au=Js.literal||"",Du=Au.split(/\s/)[0];Xn.info=Du,Au.length<=Du.length?Js.unlink():(Js.sourcepos[0][1]+=Du.length,Js.literal=Au.replace(Du+" ",""))}if(ue.insertAfter(Xn),this.removeDelimitersBetween(P,F),P.numdelims<=Wt&&(P.numdelims===0&&ue.unlink(),this.removeDelimiter(P)),F.numdelims<=Wt){F.numdelims===0&&ye.unlink();var Pu=F.next;this.removeDelimiter(F),F=Pu}}}else Et===jf?(F.node.literal="â",We&&(P.node.literal="â"),F=F.next):Et===Yf&&(F.node.literal="â",We&&(P.node.literal="â"),F=F.next);We||(kt[Et][gt?ne.origdelims%3:0]=ne.previous,ne.canOpen||this.removeDelimiter(ne))}}for(;this.delimiters!==null&&this.delimiters!==y;)this.removeDelimiter(this.delimiters)},b.prototype.parseLinkTitle=function(){var y=this.match(Tge);return y===null?null:gv(y.substr(1,y.length-2))},b.prototype.parseLinkDestination=function(){var y=this.match(Ege);if(y===null){if(this.peek()===ML)return null;for(var C=this.pos,P=0,F=void 0;(F=this.peek())!==-1;)if(F===AL&&RL.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(F===DL)this.pos+=1,P+=1;else if(F===wM){if(P<1)break;this.pos+=1,P-=1}else{if(SM.exec(OM(F))!==null)break;this.pos+=1}return this.pos===C&&F!==wM||P!==0?null:(y=this.subject.substr(C,this.pos-C),fb(gv(y)))}return fb(gv(y.substr(1,y.length-2)))},b.prototype.parseLinkLabel=function(){var y=this.match(Qge);return y===null||y.length>1001?0:y.length},b.prototype.parseOpenBracket=function(y){var C=this.pos;this.pos+=1;var P=Oi("[",this.sourcepos(this.pos,this.pos));return y.appendChild(P),this.addBracket(P,C,!1),!0},b.prototype.parseBang=function(y){var C=this.pos;if(this.pos+=1,this.peek()===EL){this.pos+=1;var P=Oi("![",this.sourcepos(this.pos-1,this.pos));y.appendChild(P),this.addBracket(P,C+1,!0)}else{var P=Oi("!",this.sourcepos(this.pos,this.pos));y.appendChild(P)}return!0},b.prototype.parseCloseBracket=function(y){var C=null,P=null,F=!1;this.pos+=1;var ne=this.pos,ue=this.brackets;if(ue===null)return y.appendChild(Oi("]",this.sourcepos(ne,ne))),!0;if(!ue.active)return y.appendChild(Oi("]",this.sourcepos(ne,ne))),this.removeBracket(),!0;var ye=ue.image,We=this.pos;this.peek()===DL&&(this.pos++,this.spnl()&&(C=this.parseLinkDestination())!==null&&this.spnl()&&(SM.test(this.subject.charAt(this.pos-1))&&(P=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===wM?(this.pos+=1,F=!0):this.pos=We);var Je="";if(!F){var kt=this.pos,Et=this.parseLinkLabel();if(Et>2?Je=this.subject.slice(kt,kt+Et):ue.bracketAfter||(Je=this.subject.slice(ue.index,ne)),Et===0&&(this.pos=We),Je){Je=TL(Je);var gt=this.refMap[Je];gt&&(C=gt.destination,P=gt.title,F=!0)}}if(F){var Ut=Un(ye?"image":"link");Ut.destination=C,Ut.title=P||"",Ut.sourcepos=[ue.startpos,this.sourcepos(this.pos)];for(var Wt=ue.node.next,Hr=void 0;Wt;)Hr=Wt.next,Wt.unlink(),Ut.appendChild(Wt),Wt=Hr;if(y.appendChild(Ut),this.processEmphasis(ue.previousDelimiter),this.removeBracket(),ue.node.unlink(),!ye)for(ue=this.brackets;ue!==null;)ue.image||(ue.active=!1),ue=ue.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[y.id]={node:y,refLabel:Je}),!0}return this.removeBracket(),this.pos=ne,y.appendChild(Oi("]",this.sourcepos(ne,ne))),this.options.referenceDefinition&&(this.refLinkCandidateMap[y.id]={node:y,refLabel:Je}),!0},b.prototype.addBracket=function(y,C,P){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:y,startpos:this.sourcepos(C+(P?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:C,image:P,active:!0}},b.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},b.prototype.parseEntity=function(y){var C,P=this.pos+1;return(C=this.match(Mge))?(y.appendChild(Oi(ee.decodeHTML(C),this.sourcepos(P,this.pos))),!0):!1},b.prototype.parseString=function(y){var C,P=this.pos+1;if(C=this.match(Bge)){if(this.options.smart){var F=C.replace(Pge,"â¦").replace(Rge,function(ue){var ye=0,We=0;return ue.length%3===0?We=ue.length/3:ue.length%2===0?ye=ue.length/2:ue.length%3===2?(ye=1,We=(ue.length-2)/3):(ye=2,We=(ue.length-4)/3),pM("â",We)+pM("â",ye)});y.appendChild(Oi(F,this.sourcepos(P,this.pos)))}else{var ne=Oi(C,this.sourcepos(P,this.pos));y.appendChild(ne)}return!0}return!1},b.prototype.parseNewline=function(y){this.pos+=1;var C=y.lastChild;if(C&&C.type==="text"&&C.literal[C.literal.length-1]===" "){var P=C.literal[C.literal.length-2]===" ",F=C.literal.length;C.literal=C.literal.replace(_ge,"");var ne=F-C.literal.length;C.sourcepos[1][1]-=ne,y.appendChild(Un(P?"linebreak":"softbreak",this.sourcepos(this.pos-ne,this.pos)))}else y.appendChild(Un("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(Ige),!0},b.prototype.parseReference=function(y,C){if(!this.options.referenceDefinition)return 0;this.subject=y.stringContent,this.pos=0;var P=null,F=this.pos,ne=this.parseLinkLabel();if(ne===0)return 0;var ue=this.subject.substr(0,ne);if(this.peek()===Cge)this.pos++;else return this.pos=F,0;this.spnl();var ye=this.parseLinkDestination();if(ye===null)return this.pos=F,0;var We=this.pos;this.spnl(),this.pos!==We&&(P=this.parseLinkTitle()),P===null&&(P="",this.pos=We);var Je=!0;if(this.match($L)===null&&(P===""?Je=!1:(P="",this.pos=We,Je=this.match($L)!==null)),!Je)return this.pos=F,0;var kt=TL(ue);if(kt==="")return this.pos=F,0;var Et=this.getReferenceDefSourcepos(y);y.sourcepos[0][0]=Et[1][0]+1;var gt=Un("refDef",Et);return gt.title=P,gt.dest=ye,gt.label=kt,y.insertBefore(gt),C[kt]?this.refDefCandidateMap[gt.id]=gt:C[kt]=AM(gt),this.pos-F},b.prototype.mergeTextNodes=function(y){for(var C,P=[];C=y.next();){var F=C.entering,ne=C.node;if(F&&ne.type==="text")P.push(ne);else if(P.length===1)P=[];else if(P.length>1){var ue=P[0],ye=P[P.length-1];ue.sourcepos&&ye.sourcepos&&(ue.sourcepos[1]=ye.sourcepos[1]),ue.next=ye.next,ue.next&&(ue.next.prev=ue);for(var We=1;We<P.length;We+=1)ue.literal+=P[We].literal,P[We].unlink();P=[]}}},b.prototype.getReferenceDefSourcepos=function(y){for(var C=y.stringContent.split(/\n|\r\n/),P=!1,F=0,ne={line:0,ch:0},ue=0;ue<C.length;ue+=1){var ye=C[ue];if(SM.test(ye))break;if(/\:/.test(ye)&&F===0){if(P)break;var We=ye.indexOf(":")===ye.length-1?ue+1:ue;ne={line:We,ch:C[We].length},P=!0}var Je=ye.match(/'|"/g);if(Je&&(F+=Je.length),F===2){ne={line:ue,ch:ye.length};break}}return[[y.sourcepos[0][0],y.sourcepos[0][1]],[y.sourcepos[0][0]+ne.line,ne.ch]]},b.prototype.parseInline=function(y){var C,P=!1,F=this.peek();if(F===-1)return!1;switch(F){case yM:P=this.parseNewline(y);break;case AL:P=this.parseBackslash(y);break;case wge:P=this.parseBackticks(y);break;case bM:case mb:case vb:case Gf:P=this.handleDelim(F,y);break;case jf:case Yf:P=!!(!((C=this.options)===null||C===void 0)&&C.smart)&&this.handleDelim(F,y);break;case EL:P=this.parseOpenBracket(y);break;case Sge:P=this.parseBang(y);break;case kge:P=this.parseCloseBracket(y);break;case ML:P=this.parseAutolink(y)||this.parseHtmlTag(y);break;case xge:y.disabledEntityParse||(P=this.parseEntity(y));break;default:P=this.parseString(y);break}return P||(this.pos+=1,y.appendChild(Oi(OM(F),this.sourcepos(this.pos,this.pos+1)))),!0},b.prototype.parse=function(y){for(this.subject=y.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=y.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=y.sourcepos[0][0],Wve(y)&&(this.lineOffsets[0]+=y.level+1);this.parseInline(y););y.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(y.walker());var C=this.options,P=C.extendedAutolinks,F=C.customParser;if(P&&Oge(y.walker(),P),F&&y.firstChild)for(var ne,ue=y.firstChild.walker();ne=ue.next();){var ye=ne.node,We=ne.entering;F[ye.type]&&F[ye.type](ye,{entering:We,options:this.options})}},b}(),Fge=/^\[([ \txX])\][ \t]+/;function Vge(b,y){if(y.firstChild&&y.firstChild.type==="paragraph"){var C=y.firstChild,P=C.stringContent.match(Fge);if(P){var F=P[0].length;C.stringContent=C.stringContent.substring(F-1),C.sourcepos[0][1]+=F,C.lineOffsets[0]+=F,y.listData.task=!0,y.listData.checked=/[xX]/.test(P[1])}}}var Zge={continue:function(){return 0},finalize:function(){},canContain:function(b){return b==="tableHead"||b==="tableBody"},acceptsLines:!1},zge={continue:function(){return 0},finalize:function(){},canContain:function(b){return b==="tableRow"},acceptsLines:!1},Hge={continue:function(){return 1},finalize:function(){},canContain:function(b){return b==="tableRow"||b==="tableDelimRow"},acceptsLines:!1},Wge={continue:function(){return 1},finalize:function(){},canContain:function(b){return b==="tableDelimCell"},acceptsLines:!1},Uge={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Xge={continue:function(){return 1},finalize:function(){},canContain:function(b){return b==="tableCell"},acceptsLines:!1},jge={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},gb=4,LL=9,_L=62,Yge=60,IL=32,QL=91,BL=/[^ \t\f\v\r\n]/,Gge=/^(?:`{3,}|~{3,})(?= *$)/;function qL(b){for(var y=b;y;){if(y.lastLineBlank)return!0;var C=y.type;if(!y.lastLineChecked&&(C==="list"||C==="item"))y.lastLineChecked=!0,y=y.lastChild;else{y.lastLineChecked=!0;break}}return!1}function $o(b,y){return y<b.length?b.charCodeAt(y):-1}function FL(b){return!BL.test(b)}function Bd(b){return b===IL||b===LL}var Kge=/^\$\$$/,Jge={continue:function(b,y){var C=b.currentLine,P=C.match(Kge);if(P)return b.lastLineLength=P[0].length,b.finalize(y,b.lineNumber),2;for(var F=y.offset;F>0&&Bd($o(C,b.offset));)b.advanceOffset(1,!0),F--;return 0},finalize:function(b,y){if(y.stringContent!==null){var C=y.stringContent,P=C.indexOf(`
`),F=C.slice(0,P),ne=C.slice(P+1),ue=F.match(/^(\s*)(.*)/);y.info=gv(ue[2].trim()),y.literal=ne,y.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},VL={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},eOe={continue:function(){return 0},finalize:function(){},canContain:function(b){return b!=="item"},acceptsLines:!1},tOe={continue:function(){return 0},finalize:function(b,y){for(var C=y.firstChild;C;){if(qL(C)&&C.next){y.listData.tight=!1;break}for(var P=C.firstChild;P;){if(qL(P)&&(C.next||P.next)){y.listData.tight=!1;break}P=P.next}C=C.next}},canContain:function(b){return b==="item"},acceptsLines:!1},rOe={continue:function(b){var y=b.currentLine;if(!b.indented&&$o(y,b.nextNonspace)===_L)b.advanceNextNonspace(),b.advanceOffset(1,!1),Bd($o(y,b.offset))&&b.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(b){return b!=="item"},acceptsLines:!1},nOe={continue:function(b,y){if(b.blank){if(y.firstChild===null)return 1;b.advanceNextNonspace()}else if(b.indent>=y.listData.markerOffset+y.listData.padding)b.advanceOffset(y.listData.markerOffset+y.listData.padding,!0);else return 1;return 0},finalize:Vge,canContain:function(b){return b!=="item"},acceptsLines:!1},iOe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},aOe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},oOe={continue:function(b,y){var C=b.currentLine,P=b.indent;if(y.isFenced){var F=P<=3&&C.charAt(b.nextNonspace)===y.fenceChar&&C.slice(b.nextNonspace).match(Gge);if(F&&F[0].length>=y.fenceLength)return b.lastLineLength=b.offset+P+F[0].length,b.finalize(y,b.lineNumber),2;for(var ne=y.fenceOffset;ne>0&&Bd($o(C,b.offset));)b.advanceOffset(1,!0),ne--}else if(P>=gb)b.advanceOffset(gb,!0);else if(b.blank)b.advanceNextNonspace();else return 1;return 0},finalize:function(b,y){var C;if(y.stringContent!==null){if(y.isFenced){var P=y.stringContent,F=P.indexOf(`
`),ne=P.slice(0,F),ue=P.slice(F+1),ye=ne.match(/^(\s*)(.*)/);y.infoPadding=ye[1].length,y.info=gv(ye[2].trim()),y.literal=ue}else y.literal=(C=y.stringContent)===null||C===void 0?void 0:C.replace(/(\n *)+$/,`
`);y.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},sOe={continue:function(b,y){return b.blank&&(y.htmlBlockType===6||y.htmlBlockType===7)?1:0},finalize:function(b,y){var C;y.literal=((C=y.stringContent)===null||C===void 0?void 0:C.replace(/(\n *)+$/,""))||null,y.stringContent=null},canContain:function(){return!1},acceptsLines:!0},lOe={continue:function(b){return b.blank?1:0},finalize:function(b,y){if(y.stringContent!==null){for(var C,P=!1;$o(y.stringContent,0)===QL&&(C=b.inlineParser.parseReference(y,b.refMap));)y.stringContent=y.stringContent.slice(C),P=!0;P&&FL(y.stringContent)&&y.unlink()}},canContain:function(){return!1},acceptsLines:!0},uOe=VL,cOe=VL,qd={document:eOe,list:tOe,blockQuote:rOe,item:nOe,heading:iOe,thematicBreak:aOe,codeBlock:oOe,htmlBlock:sOe,paragraph:lOe,table:Zge,tableBody:zge,tableHead:Hge,tableRow:Xge,tableCell:jge,tableDelimRow:Wge,tableDelimCell:Uge,refDef:uOe,customBlock:Jge,frontMatter:cOe};function xM(b){for(var y=0,C=0,P=[],F=0;F<b.length;F+=1)if(b[F]==="|"&&b[F-1]!=="\\"){var ne=b.substring(y,F);y===0&&yL(ne)?C=F+1:P.push(ne),y=F+1}if(y<b.length){var ne=b.substring(y,b.length);yL(ne)||P.push(ne)}return[C,P]}function CM(b,y,C,P){for(var F=[],ne=0,ue=y;ne<ue.length;ne++){var ye=ue[ne],We=ye.match(/^[ \t]+/),Je=We?We[0].length:0,kt=void 0,Et=void 0;if(Je===ye.length)Je=0,kt=0,Et="";else{var gt=ye.match(/[ \t]+$/);kt=gt?gt[0].length:0,Et=ye.slice(Je,ye.length-kt)}var Ut=P+Je,Wt=Un(b,[[C,P],[C,P+ye.length-1]]);Wt.stringContent=Et.replace(/\\\|/g,"|"),Wt.startIdx=F.length,Wt.endIdx=F.length,Wt.lineOffsets=[Ut-1],Wt.paddingLeft=Je,Wt.paddingRight=kt,F.push(Wt),P+=ye.length+1}return F}function fOe(b){var y=null,C=b.stringContent,P=C[0],F=C[C.length-1];return F===":"?y=P===":"?"center":"right":P===":"&&(y="left"),{align:y}}var hOe=function(b,y){var C=y.stringContent;if(y.type==="paragraph"&&!b.indented&&!b.blank){var P=C.length-1,F=C.lastIndexOf(`
`,P-1)+1,ne=C.slice(F,P),ue=b.currentLine.slice(b.nextNonspace),ye=xM(ne),We=ye[0],Je=ye[1],kt=xM(ue),Et=kt[0],gt=kt[1],Ut=/^[ \t]*:?-+:?[ \t]*$/;if(!Je.length||!gt.length||gt.some(function(Pu){return!Ut.test(Pu)})||gt.length===1&&ue.indexOf("|")!==0)return 0;var Wt=y.lineOffsets,Hr=b.lineNumber-1,Xn=db(Wt)+1,Ei=Un("table",[[Hr,Xn],[b.lineNumber,b.offset]]);if(Ei.columns=gt.map(function(){return{align:null}}),y.insertAfter(Ei),Wt.length===1)y.unlink();else{y.stringContent=C.slice(0,F);var Mu=C.lastIndexOf(`
`,F-2)+1,cs=F-Mu-1;b.lastLineLength=Wt[Wt.length-2]+cs,b.finalize(y,Hr-1)}b.advanceOffset(b.currentLine.length-b.offset,!1);var Lo=Un("tableHead",[[Hr,Xn],[b.lineNumber,b.offset]]);Ei.appendChild(Lo);var Js=Un("tableRow",[[Hr,Xn],[Hr,Xn+ne.length-1]]),Au=Un("tableDelimRow",[[b.lineNumber,b.nextNonspace+1],[b.lineNumber,b.offset]]);Lo.appendChild(Js),Lo.appendChild(Au),CM("tableCell",Je,Hr,Xn+We).forEach(function(Pu){Js.appendChild(Pu)});var Du=CM("tableDelimCell",gt,b.lineNumber,b.nextNonspace+1+Et);return Du.forEach(function(Pu){Au.appendChild(Pu)}),Ei.columns=Du.map(fOe),b.tip=Ei,2}return 0},dOe=function(b,y){if(y.type!=="table"&&y.type!=="tableBody"||!b.blank&&b.currentLine.indexOf("|")===-1)return 0;if(b.advanceOffset(b.currentLine.length-b.offset,!1),b.blank){var C=y;return y.type==="tableBody"&&(C=y.parent,b.finalize(y,b.lineNumber-1)),b.finalize(C,b.lineNumber-1),0}var P=y;y.type==="table"&&(P=b.addChild("tableBody",b.nextNonspace),P.stringContent=null);var F=Un("tableRow",[[b.lineNumber,b.nextNonspace+1],[b.lineNumber,b.currentLine.length]]);P.appendChild(F);var ne=P.parent,ue=b.currentLine.slice(b.nextNonspace),ye=xM(ue),We=ye[0],Je=ye[1];return CM("tableCell",Je,b.lineNumber,b.nextNonspace+1+We).forEach(function(kt,Et){Et>=ne.columns.length&&(kt.ignored=!0),F.appendChild(kt)}),2},pOe=/^(\$\$)(\s*[a-zA-Z])+/,mOe=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,vOe=function(b){var y;if(!b.indented&&!mOe.test(b.currentLine)&&(y=b.currentLine.match(pOe))){var C=y[1].length;b.closeUnmatchedBlocks();var P=b.addChild("customBlock",b.nextNonspace);return P.syntaxLength=C,P.offset=b.indent,b.advanceNextNonspace(),b.advanceOffset(C,!1),2}return 0},gOe=/^`{3,}(?!.*`)|^~{3,}/,OOe=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+xL+"|"+CL+")\\s*$","i")],yOe=/^(?:=+|-+)[ \t]*$/,bOe=/^#{1,6}(?:[ \t]+|$)/,wOe=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,ZL=/^[*+-]/,zL=/^(\d{1,9})([.)])/;function kOe(b,y){var C=b.currentLine.slice(b.nextNonspace),P,F,ne={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:b.indent,task:!1,checked:!1};if(b.indent>=4)return null;if(P=C.match(ZL))ne.type="bullet",ne.bulletChar=P[0][0];else if((P=C.match(zL))&&(y.type!=="paragraph"||P[1]==="1"))ne.type="ordered",ne.start=parseInt(P[1],10),ne.delimiter=P[2];else return null;if(F=$o(b.currentLine,b.nextNonspace+P[0].length),!(F===-1||F===LL||F===IL)||y.type==="paragraph"&&!b.currentLine.slice(b.nextNonspace+P[0].length).match(BL))return null;b.advanceNextNonspace(),b.advanceOffset(P[0].length,!0);var ue=b.column,ye=b.offset;do b.advanceOffset(1,!0),F=$o(b.currentLine,b.offset);while(b.column-ue<5&&Bd(F));var We=$o(b.currentLine,b.offset)===-1,Je=b.column-ue;return Je>=5||Je<1||We?(ne.padding=P[0].length+1,b.column=ue,b.offset=ye,Bd($o(b.currentLine,b.offset))&&b.advanceOffset(1,!0)):ne.padding=P[0].length+Je,ne}function SOe(b,y){return b.type===y.type&&b.delimiter===y.delimiter&&b.bulletChar===y.bulletChar}function HL(b,y){return b.options.disallowDeepHeading&&(y.type==="blockQuote"||y.type==="item")}var xOe=function(b){return!b.indented&&$o(b.currentLine,b.nextNonspace)===_L?(b.advanceNextNonspace(),b.advanceOffset(1,!1),Bd($o(b.currentLine,b.offset))&&b.advanceOffset(1,!0),b.closeUnmatchedBlocks(),b.addChild("blockQuote",b.nextNonspace),1):0},COe=function(b,y){var C;if(!b.indented&&!HL(b,y)&&(C=b.currentLine.slice(b.nextNonspace).match(bOe))){b.advanceNextNonspace(),b.advanceOffset(C[0].length,!1),b.closeUnmatchedBlocks();var P=b.addChild("heading",b.nextNonspace);return P.level=C[0].trim().length,P.headingType="atx",P.stringContent=b.currentLine.slice(b.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),b.advanceOffset(b.currentLine.length-b.offset),2}return 0},TOe=function(b){var y;if(!b.indented&&(y=b.currentLine.slice(b.nextNonspace).match(gOe))){var C=y[0].length;b.closeUnmatchedBlocks();var P=b.addChild("codeBlock",b.nextNonspace);return P.isFenced=!0,P.fenceLength=C,P.fenceChar=y[0][0],P.fenceOffset=b.indent,b.advanceNextNonspace(),b.advanceOffset(C,!1),2}return 0},EOe=function(b,y){if(!b.indented&&$o(b.currentLine,b.nextNonspace)===Yge){var C=b.currentLine.slice(b.nextNonspace),P=b.options.disallowedHtmlBlockTags,F=void 0;for(F=1;F<=7;F++){var ne=C.match(OOe[F]);if(ne){if(F===7){if(y.type==="paragraph")return 0;if(P.length>0){var ue=new RegExp("</?(?:"+P.join("|")+")","i");if(ue.test(ne[0]))return 0}}b.closeUnmatchedBlocks();var ye=b.addChild("htmlBlock",b.offset);return ye.htmlBlockType=F,2}}}return 0},MOe=function(b,y){var C;if(y.stringContent!==null&&!b.indented&&y.type==="paragraph"&&!HL(b,y.parent)&&(C=b.currentLine.slice(b.nextNonspace).match(yOe))){b.closeUnmatchedBlocks();for(var P=void 0;$o(y.stringContent,0)===QL&&(P=b.inlineParser.parseReference(y,b.refMap));)y.stringContent=y.stringContent.slice(P);if(y.stringContent.length>0){var F=Un("heading",y.sourcepos);return F.level=C[0][0]==="="?1:2,F.headingType="setext",F.stringContent=y.stringContent,y.insertAfter(F),y.unlink(),b.tip=F,b.advanceOffset(b.currentLine.length-b.offset,!1),2}return 0}return 0},AOe=function(b){return!b.indented&&wOe.test(b.currentLine.slice(b.nextNonspace))?(b.closeUnmatchedBlocks(),b.addChild("thematicBreak",b.nextNonspace),b.advanceOffset(b.currentLine.length-b.offset,!1),2):0},DOe=function(b,y){var C,P=y;return(!b.indented||y.type==="list")&&(C=kOe(b,P))?(b.closeUnmatchedBlocks(),(b.tip.type!=="list"||!SOe(P.listData,C))&&(P=b.addChild("list",b.nextNonspace),P.listData=C),P=b.addChild("item",b.nextNonspace),P.listData=C,1):0},POe=function(b){return b.indented&&b.tip.type!=="paragraph"&&!b.blank?(b.advanceOffset(gb,!0),b.closeUnmatchedBlocks(),b.addChild("codeBlock",b.offset),2):0},TM=[xOe,COe,TOe,EOe,MOe,AOe,DOe,POe,hOe,dOe,vOe],WL=/^(-{3}|\+{3}|;{3})$/,ROe=function(b,y){var C=b.currentLine,P=b.lineNumber,F=b.indented;if(P===1&&!F&&y.type==="document"&&WL.test(C)){b.closeUnmatchedBlocks();var ne=b.addChild("frontMatter",b.nextNonspace);return ne.stringContent=C,b.advanceNextNonspace(),b.advanceOffset(C.length,!1),2}return 0},NOe={continue:function(b,y){var C=b.currentLine,P=C.match(WL);return y.type==="frontMatter"&&P?(y.stringContent+=C,b.lastLineLength=P[0].length,b.finalize(y,b.lineNumber),2):0},finalize:function(b,y){y.stringContent!==null&&(y.literal=y.stringContent,y.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},$Oe=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],LOe=/^[#`~*+_=<>0-9-;$]/,_Oe=/\r\n|\n|\r/;function EM(){return Un("document",[[1,1],[0,0]])}var IOe={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},QOe=function(){function b(y){this.options=T(T({},IOe),y),this.doc=EM(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(qd.frontMatter=NOe,TM.unshift(ROe)),this.inlineParser=new qge(this.options)}return b.prototype.advanceOffset=function(y,C){C===void 0&&(C=!1);for(var P=this.currentLine,F,ne,ue;y>0&&(ue=P[this.offset]);)ue==="	"?(F=4-this.column%4,C?(this.partiallyConsumedTab=F>y,ne=F>y?y:F,this.column+=ne,this.offset+=this.partiallyConsumedTab?0:1,y-=ne):(this.partiallyConsumedTab=!1,this.column+=F,this.offset+=1,y-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,y-=1)},b.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},b.prototype.findNextNonspace=function(){for(var y=this.currentLine,C=this.offset,P=this.column,F;(F=y.charAt(C))!=="";)if(F===" ")C++,P++;else if(F==="	")C++,P+=4-P%4;else break;this.blank=F===`
`||F==="\r"||F==="",this.nextNonspace=C,this.nextNonspaceColumn=P,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=gb},b.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var y=4-this.column%4;this.tip.stringContent+=pM(" ",y)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},b.prototype.addChild=function(y,C){for(;!qd[this.tip.type].canContain(y);)this.finalize(this.tip,this.lineNumber-1);var P=C+1,F=Un(y,[[this.lineNumber,P],[0,0]]);return F.stringContent="",this.tip.appendChild(F),this.tip=F,F},b.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var y=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=y}this.allClosed=!0}},b.prototype.finalize=function(y,C){var P=y.parent;y.open=!1,y.sourcepos[1]=[C,this.lastLineLength],qd[y.type].finalize(this,y),this.tip=P},b.prototype.processInlines=function(y){var C,P=this.options.customParser,F=y.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;C=F.next();){var ne=C.node,ue=C.entering,ye=ne.type;P&&P[ye]&&P[ye](ne,{entering:ue,options:this.options}),!ue&&(ye==="paragraph"||ye==="heading"||ye==="tableCell"&&!ne.ignored)&&this.inlineParser.parse(ne)}},b.prototype.incorporateLine=function(y){var C=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,y.indexOf("\0")!==-1&&(y=y.replace(/\0/g,"ï¿½")),this.currentLine=y;for(var P=!0,F;(F=C.lastChild)&&F.open;){switch(C=F,this.findNextNonspace(),qd[C.type].continue(this,C)){case 0:break;case 1:P=!1;break;case 2:this.lastLineLength=y.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!P){C=C.parent;break}}this.allClosed=C===this.oldtip,this.lastMatchedContainer=C;for(var ne=C.type!=="paragraph"&&qd[C.type].acceptsLines,ue=TM.length;!ne;){if(this.findNextNonspace(),C.type!=="table"&&C.type!=="tableBody"&&C.type!=="paragraph"&&!this.indented&&!LOe.test(y.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var ye=0;ye<ue;){var We=TM[ye](this,C);if(We===1){C=this.tip;break}else if(We===2){C=this.tip,ne=!0;break}else ye++}if(ye===ue){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&C.lastChild&&(C.lastChild.lastLineBlank=!0);for(var Je=C.type,kt=this.blank&&!(Je==="blockQuote"||bL(C)&&C.isFenced||Je==="item"&&!C.firstChild&&C.sourcepos[0][0]===this.lineNumber),Et=C;Et;)Et.lastLineBlank=kt,Et=Et.parent;qd[Je].acceptsLines?(this.addLine(),Hve(C)&&C.htmlBlockType>=1&&C.htmlBlockType<=5&&$Oe[C.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=y.length,this.finalize(C,this.lineNumber))):this.offset<y.length&&!this.blank&&(C=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=y.length},b.prototype.parse=function(y,C){this.doc=EM(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var P=y.split(_Oe),F=P.length;this.lines=C||P,this.options.referenceDefinition&&this.clearRefMaps(),y.charCodeAt(y.length-1)===yM&&(F-=1);for(var ne=0;ne<F;ne++)this.incorporateLine(P[ne]);for(;this.tip;)this.finalize(this.tip,F);return this.processInlines(this.doc),this.doc},b.prototype.partialParseStart=function(y,C){this.doc=EM(),this.tip=this.doc,this.lineNumber=y-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var P=C.length,F=0;F<P;F++)this.incorporateLine(C[F]);return this.doc},b.prototype.partialParseExtends=function(y){for(var C=0;C<y.length;C++)this.incorporateLine(y[C])},b.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},b.prototype.setRefMaps=function(y,C,P){this.refMap=y,this.refLinkCandidateMap=C,this.refDefCandidateMap=P},b.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(y){bge(y)})},b}();function UL(b,y){return b[0]<y[0]?1:b[0]>y[0]?-1:b[1]<y[1]?1:b[1]>y[1]?-1:0}function BOe(b,y){var C=b[0],P=b[1];return UL(P,y)===1?1:UL(C,y)===-1?-1:0}function qOe(b,y){if(!(b.parent!==y.parent||b===y)){for(var C=b.next;C&&C!==y;){for(var P=C.next,F=0,ne=["parent","prev","next"];F<ne.length;F++){var ue=ne[F];C[ue]&&(vM(C[ue].id),C[ue]=null)}C=P}b.next=y.next,y.next?y.next.prev=b:b.parent.lastChild=b}}function FOe(b){for(var y=[],C=b.firstChild;C;)y.push(C),C=C.next;return y}function XL(b,y){for(var C=0,P=y;C<P.length;C++){var F=P[C];b.insertBefore(F)}}function VOe(b,y){for(var C=y.length-1;C>=0;C-=1)b.prependChild(y[C])}function ZOe(b,y){if(!(!b||!b.parent||y===0)){var C=b.parent.walker();C.resumeAt(b,!0);for(var P;P=C.next();){var F=P.node,ne=P.entering;ne&&(F.sourcepos[0][0]+=y,F.sourcepos[1][0]+=y)}}}function jL(b,y){var C=b[0],P=b[1];return P[0]<y?1:C[0]>y?-1:0}function Ob(b,y){for(var C=b.firstChild;C;){var P=jL(C.sourcepos,y);if(P===0)return C;if(P===-1)return C.prev||C;C=C.next}return b.lastChild}function zOe(b){for(;b.lastChild;)b=b.lastChild;return b}function HOe(b){for(;b.parent&&b.parent.type!=="document"&&b.parent.sourcepos[0][0]===b.sourcepos[0][0];)b=b.parent;return b}function WOe(b,y){for(var C=b.firstChild,P=null;C;){var F=jL(C.sourcepos,y);if(F===0){if(C.sourcepos[0][0]===y||!C.firstChild)return C;P=C,C=C.firstChild}else{if(F===-1)break;P=C,C=C.next}}return P?HOe(zOe(P)):null}function UOe(b,y){for(var C=b,P=null;C;){var F=BOe(C.sourcepos,y);if(F===0)if(C.firstChild)P=C,C=C.firstChild;else return C;else{if(F===-1)return P;if(C.next)C=C.next;else return P}}return C}function YL(b){return Rve(b)||null}function MM(b,y,C){if(C===void 0&&(C=null),y)for(var P=y.walker();y&&y!==C;){b(y);var F=P.next();if(F)y=F.node;else break}}function XOe(b){var y=YL(b);if(!y)return!0;for(;y&&y.type!=="document";){if(!y.parent&&!y.prev&&!y.next)return!0;y=y.parent}return!1}var GL=/\r\n|\n|\r/;function jOe(b){var y=b.match(/^[ \t]+/);if(y&&(y[0].length>=2||/\t/.test(y[0])))return!0;var C=y?b.slice(y.length):b;return ZL.test(C)||zL.test(C)}function YOe(b){return!FL(b)&&b.indexOf("|")!==-1}function AM(b){var y=b.id,C=b.title,P=b.sourcepos,F=b.dest;return{id:y,title:C,sourcepos:P,unlinked:!1,destination:F}}var GOe=function(){function b(y,C){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(C!=null&&C.referenceDefinition),this.parser=new QOe(C),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},y=y||"",this.lineTexts=y.split(GL),this.root=this.parser.parse(y,this.lineTexts)}return b.prototype.updateLineTexts=function(y,C,P){var F,ne=y[0],ue=y[1],ye=C[0],We=C[1],Je=P.split(GL),kt=Je.length,Et=this.lineTexts[ne-1],gt=this.lineTexts[ye-1];Je[0]=Et.slice(0,ue-1)+Je[0],Je[kt-1]=Je[kt-1]+gt.slice(We-1);var Ut=ye-ne+1;return(F=this.lineTexts).splice.apply(F,M([ne-1,Ut],Je)),kt-Ut},b.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var y=this.lineTexts,C=y.length-1;y[C]==="";)C-=1;y.length-2>C&&(C+=1),this.root.sourcepos[1]=[C+1,y[C].length]},b.prototype.replaceRangeNodes=function(y,C,P){y?(XL(y,P),qOe(y,C),[y.id,C.id].forEach(function(F){return vM(F)}),y.unlink()):C?(XL(C,P),vM(C.id),C.unlink()):VOe(this.root,P)},b.prototype.getNodeRange=function(y,C){var P=Ob(this.root,y[0]),F=Ob(this.root,C[0]);return F&&F.next&&C[0]+1===F.next.sourcepos[0][0]&&(F=F.next),[P,F]},b.prototype.trigger=function(y,C){this.eventHandlerMap[y].forEach(function(P){P(C)})},b.prototype.extendEndLine=function(y){for(;this.lineTexts[y]==="";)y+=1;return y},b.prototype.parseRange=function(y,C,P,F){y&&y.prev&&(wL(y.prev)&&jOe(this.lineTexts[P-1])||Uve(y.prev)&&YOe(this.lineTexts[P-1]))&&(y=y.prev,P=y.sourcepos[0][0]);for(var ne=this.lineTexts.slice(P-1,F),ue=this.parser.partialParseStart(P,ne),ye=C?C.next:this.root.firstChild,We=ue.lastChild,Je=We&&bL(We)&&We.open,kt=We&&kL(We)&&We.open,Et=We&&wL(We);(Je||kt)&&ye||Et&&ye&&(ye.type==="list"||ye.sourcepos[0][1]>=2);){var gt=this.extendEndLine(ye.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(F,gt)),y||(y=C),C=ye,F=gt,ye=ye.next}this.parser.partialParseFinish();var Ut=FOe(ue);return{newNodes:Ut,extStartNode:y,extEndNode:C}},b.prototype.getRemovedNodeRange=function(y,C){return!y||y&&Id(y)||C&&Id(C)?null:{id:[y.id,C.id],line:[y.sourcepos[0][0]-1,C.sourcepos[1][0]-1]}},b.prototype.markDeletedRefMap=function(y,C){var P=this;if(!Qd(this.refMap)){var F=function(ne){if(Id(ne)){var ue=P.refMap[ne.label];ue&&ne.id===ue.id&&(ue.unlinked=!0)}};y&&MM(F,y.parent,C),C&&MM(F,C)}},b.prototype.replaceWithNewRefDefState=function(y){var C=this;if(!Qd(this.refMap)){var P=function(F){if(Id(F)){var ne=F.label,ue=C.refMap[ne];(!ue||ue.unlinked)&&(C.refMap[ne]=AM(F))}};y.forEach(function(F){MM(P,F)})}},b.prototype.replaceWithRefDefCandidate=function(){var y=this;Qd(this.refDefCandidateMap)||pb(this.refDefCandidateMap,function(C,P){var F=P.label,ne=P.sourcepos,ue=y.refMap[F];(!ue||ue.unlinked||ue.sourcepos[0][0]>ne[0][0])&&(y.refMap[F]=AM(P))})},b.prototype.getRangeWithRefDef=function(y,C,P,F,ne){if(this.referenceDefinition&&!Qd(this.refMap)){var ue=Ob(this.root,y-1),ye=Ob(this.root,C+1);ue&&Id(ue)&&ue!==P&&ue!==F&&(P=ue,y=P.sourcepos[0][0]),ye&&Id(ye)&&ye!==P&&ye!==F&&(F=ye,C=this.extendEndLine(F.sourcepos[1][0]+ne))}return[P,F,y,C]},b.prototype.parse=function(y,C,P){P===void 0&&(P=0);var F=this.getNodeRange(y,C),ne=F[0],ue=F[1],ye=ne?Math.min(ne.sourcepos[0][0],y[0]):y[0],We=this.extendEndLine((ue?Math.max(ue.sourcepos[1][0],C[0]):C[0])+P),Je=this.parseRange.apply(this,this.getRangeWithRefDef(ye,We,ne,ue,P)),kt=Je.newNodes,Et=Je.extStartNode,gt=Je.extEndNode,Ut=this.getRemovedNodeRange(Et,gt),Wt=gt?gt.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(Et,gt),this.replaceRangeNodes(Et,gt,kt),this.replaceWithNewRefDefState(kt)):this.replaceRangeNodes(Et,gt,kt),{nodes:kt,removedNodeRange:Ut,nextNode:Wt}},b.prototype.parseRefLink=function(){var y=this,C=[];return Qd(this.refMap)||pb(this.refMap,function(P,F){F.unlinked&&delete y.refMap[P],pb(y.refLinkCandidateMap,function(ne,ue){var ye=ue.node,We=ue.refLabel;We===P&&C.push(y.parse(ye.sourcepos[0],ye.sourcepos[1]))})}),C},b.prototype.removeUnlinkedCandidate=function(){Qd(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(y){pb(y,function(C){XOe(C)&&delete y[C]})})},b.prototype.editMarkdown=function(y,C,P){var F=this.updateLineTexts(y,C,P),ne=this.parse(y,C,F),ue=yge(ne,"nextNode");ZOe(ne.nextNode,F),this.updateRootNodeState();var ye=[ue];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),ye=ye.concat(this.parseRefLink())),this.trigger("change",ye),ye},b.prototype.getLineTexts=function(){return this.lineTexts},b.prototype.getRootNode=function(){return this.root},b.prototype.findNodeAtPosition=function(y){var C=UOe(this.root,y);return!C||C===this.root?null:C},b.prototype.findFirstNodeAtLine=function(y){return WOe(this.root,y)},b.prototype.on=function(y,C){this.eventHandlerMap[y].push(C)},b.prototype.off=function(y,C){var P=this.eventHandlerMap[y],F=P.indexOf(C);P.splice(F,1)},b.prototype.findNodeById=function(y){return YL(y)},b.prototype.removeAllNode=function(){Nve()},b}(),KOe=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],KL=new RegExp("<(/?(?:"+KOe.join("|")+")[^>]*>)","ig");function JL(b){return KL.test(b)?b.replace(KL,function(y,C){return"&lt;"+C}):b}var e_={heading:function(b,y){var C=y.entering;return{type:C?"openTag":"closeTag",tagName:"h"+b.level,outerNewLine:!0}},text:function(b){return{type:"text",content:b.literal}},softbreak:function(b,y){var C=y.options;return{type:"html",content:C.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(b,y){var C=y.entering;return{type:C?"openTag":"closeTag",tagName:"em"}},strong:function(b,y){var C=y.entering;return{type:C?"openTag":"closeTag",tagName:"strong"}},paragraph:function(b,y){var C,P=y.entering,F=(C=b.parent)===null||C===void 0?void 0:C.parent;return F&&F.type==="list"&&F.listData.tight?null:{type:P?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(b,y){var C=y.entering;return{type:C?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(b,y){var C=y.entering,P=b.listData,F=P.type,ne=P.start,ue=F==="bullet"?"ul":"ol",ye={};return ue==="ol"&&ne!==null&&ne!==1&&(ye.start=ne.toString()),{type:C?"openTag":"closeTag",tagName:ue,attributes:ye,outerNewLine:!0}},item:function(b,y){var C=y.entering;return{type:C?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(b,y){var C=y.options,P=C.tagFilter?JL(b.literal):b.literal;return{type:"html",content:P}},htmlBlock:function(b,y){var C=y.options,P=C.tagFilter?JL(b.literal):b.literal;return C.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:P},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:P,outerNewLine:!0}},code:function(b){return[{type:"openTag",tagName:"code"},{type:"text",content:b.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(b){var y=b.info,C=y?y.split(/\s+/):[],P=[];return C.length>0&&C[0].length>0&&P.push("language-"+_d(C[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:P},{type:"text",content:b.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(b,y){var C=y.entering;if(C){var P=b,F=P.title,ne=P.destination;return{type:"openTag",tagName:"a",attributes:T({href:_d(ne)},F&&{title:_d(F)})}}return{type:"closeTag",tagName:"a"}},image:function(b,y){var C=y.getChildrenText,P=y.skipChildren,F=b,ne=F.title,ue=F.destination;return P(),{type:"openTag",tagName:"img",selfClose:!0,attributes:T({src:_d(ue),alt:C(b)},ne&&{title:_d(ne)})}},customBlock:function(b,y,C){var P=b.info.trim().toLowerCase(),F=C[P];if(F)try{return F(b,y)}catch(ne){console.warn("[@toast-ui/editor] - The error occurred when "+P+" block node was parsed in markdown renderer: "+ne)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:b.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(b){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:b.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(b,y,C){var P=b,F=P.info,ne=P.firstChild,ue=F.trim().toLowerCase(),ye=C[ue],We=y.entering;if(ye)try{return ye(b,y)}catch(Je){console.warn("[@toast-ui/editor] - The error occurred when "+ue+" inline node was parsed in markdown renderer: "+Je)}return We?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+F+(ne?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},t_={strike:function(b,y){var C=y.entering;return{type:C?"openTag":"closeTag",tagName:"del"}},item:function(b,y){var C=y.entering,P=b.listData,F=P.checked,ne=P.task;if(C){var ue={type:"openTag",tagName:"li",outerNewLine:!0};return ne?[ue,{type:"openTag",tagName:"input",selfClose:!0,attributes:T(T({},F&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:ue}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(b,y){var C=y.entering;return{type:C?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(b,y){var C=y.entering;return{type:C?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(b,y){var C=y.entering;return{type:C?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(b,y){var C=y.entering;if(C)return{type:"openTag",tagName:"tr",outerNewLine:!0};var P=[];if(b.lastChild)for(var F=b.parent.parent.columns.length,ne=b.lastChild.endIdx,ue=ne+1;ue<F;ue+=1)P.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return P.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),P},tableCell:function(b,y){var C=y.entering;if(b.ignored)return{type:"text",content:""};var P=b.parent.parent,F=P.type==="tableHead"?"th":"td",ne=P.parent,ue=ne.columns[b.startIdx],ye=ue!=null&&ue.align?{align:ue.align}:null;return C?T({type:"openTag",tagName:F,outerNewLine:!0},ye&&{attributes:ye}):{type:"closeTag",tagName:F,outerNewLine:!0}}},JOe={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function eye(b){for(var y=[],C=b.walker(),P=null;P=C.next();){var F=P.node;F.type==="text"&&y.push(F.literal)}return y.join("")}var tye=function(){function b(y){this.buffer=[],this.options=T(T({},JOe),y),this.convertors=this.createConvertors(),delete this.options.convertors}return b.prototype.createConvertors=function(){var y=T({},e_);if(this.options.gfm&&(y=T(T({},y),t_)),this.options.convertors){var C=this.options.convertors,P=Object.keys(C),F=T(T({},e_),t_);P.forEach(function(ne){var ue=y[ne],ye=C[ne],We=Object.keys(F).indexOf(ne)===-1?ne.toLowerCase():ne;ue?y[We]=function(Je,kt,Et){return kt.origin=function(){return ue(Je,kt,Et)},ye(Je,kt)}:y[We]=ye})}return y},b.prototype.getConvertors=function(){return this.convertors},b.prototype.getOptions=function(){return this.options},b.prototype.render=function(y){var C=this;this.buffer=[];for(var P=y.walker(),F=null,ne=function(){var ye=F.node,We=F.entering,Je=ue.convertors[ye.type];if(!Je)return"continue";var kt=!1,Et={entering:We,leaf:!mM(ye),options:ue.options,getChildrenText:eye,skipChildren:function(){kt=!0}},gt=kL(ye)||Xve(ye)?Je(ye,Et,ue.convertors):Je(ye,Et);if(gt){var Ut=Array.isArray(gt)?gt:[gt];Ut.forEach(function(Wt,Hr){Wt.type==="openTag"&&C.options.nodeId&&Hr===0&&(Wt.attributes||(Wt.attributes={}),Wt.attributes["data-nodeid"]=String(ye.id)),C.renderHTMLNode(Wt)}),kt&&(P.resumeAt(ye,!1),P.next())}},ue=this;F=P.next();)ne();return this.addNewLine(),this.buffer.join("")},b.prototype.renderHTMLNode=function(y){switch(y.type){case"openTag":case"closeTag":this.renderElementNode(y);break;case"text":this.renderTextNode(y);break;case"html":this.renderRawHtmlNode(y);break}},b.prototype.generateOpenTagString=function(y){var C=this,P=y.tagName,F=y.classNames,ne=y.attributes;this.buffer.push("<"+P),F&&F.length>0&&this.buffer.push(' class="'+F.join(" ")+'"'),ne&&Object.keys(ne).forEach(function(ue){var ye=ne[ue];C.buffer.push(" "+ue+'="'+ye+'"')}),y.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},b.prototype.generateCloseTagString=function(y){var C=y.tagName;this.buffer.push("</"+C+">")},b.prototype.addNewLine=function(){this.buffer.length&&db(db(this.buffer))!==`
`&&this.buffer.push(`
`)},b.prototype.addOuterNewLine=function(y){y.outerNewLine&&this.addNewLine()},b.prototype.addInnerNewLine=function(y){y.innerNewLine&&this.addNewLine()},b.prototype.renderTextNode=function(y){this.buffer.push(_d(y.content))},b.prototype.renderRawHtmlNode=function(y){this.addOuterNewLine(y),this.buffer.push(y.content),this.addOuterNewLine(y)},b.prototype.renderElementNode=function(y){y.type==="openTag"?(this.addOuterNewLine(y),this.generateOpenTagString(y),y.selfClose?this.addOuterNewLine(y):this.addInnerNewLine(y)):(this.addInnerNewLine(y),this.generateCloseTagString(y),this.addOuterNewLine(y))},b}(),rye=u(956),nye=u.n(rye),iye=u(969),r_=u.n(iye),aye=u(348),n_=u.n(aye),oye=u(349),i_=u.n(oye),sye=u(204),a_=u.n(sye),lye=u(462),DM=u.n(lye),uye=u(522),o_=u.n(uye),cye=u(990),fye=u.n(cye),hye=u(322),dye=u.n(hye),pye=u(758),mye=u.n(pye),vye=u(929),yb=u.n(vye),gye=u(714),Oye=u.n(gye);u(471);var s_="[A-Za-z][A-Za-z0-9-]*",yye="[a-zA-Z_:][a-zA-Z0-9:._-]*",bye="[^\"'=<>`\\x00-\\x20]+",wye="'[^']*'",kye='"[^"]*"',Sye="(?:"+bye+"|"+wye+"|"+kye+")",xye="(?:\\s*=\\s*"+Sye+")",l_="(?:\\s+"+yye+xye+"?)",Cye="<("+s_+")("+l_+")*\\s*/?>",Tye="</("+s_+")\\s*[>]",Eye="(?:"+Cye+"|"+Tye+")",u_=new RegExp("^"+Eye,"i");u(934),u(391);function PM(b,y){return b.indexOf(y)!==-1}var Mye=["rel","target","hreflang","type"];function Aye(b){if(!b)return null;var y={};return Mye.forEach(function(C){yb()(b[C])||(y[C]=b[C])}),y}function Dye(b){return b[b.length-1]}function RM(b){return typeof b=="object"&&b!==null}function NM(b,y){var C=h({},b);return b&&y&&Object.keys(y).forEach(function(P){RM(C[P])?Array.isArray(y[P])?C[P]=$M(y[P]):C.hasOwnProperty(P)?C[P]=NM(C[P],y[P]):C[P]=LM(y[P]):C[P]=y[P]}),C}function $M(b){return b.map(function(y){return RM(y)?Array.isArray(y)?$M(y):LM(y):y})}function LM(b){var y=Object.keys(b);return y.length?y.reduce(function(C,P){return RM(b[P])?C[P]=Array.isArray(b[P])?$M(b[P]):LM(b[P]):C[P]=b[P],C},{}):b}function c_(b,y){return y===void 0&&(y={}),Object.keys(y).forEach(function(C){b.hasOwnProperty(C)&&typeof b[C]=="object"?Array.isArray(y[C])?b[C]=y[C]:c_(b[C],y[C]):b[C]=y[C]}),b}function f_(b,y){return b>y?[y,b]:[b,y]}function Pye(b,y,C){var P=parseInt(b.left,10),F=parseInt(b.top,10),ne=parseInt(b.width,10)+parseInt(b.paddingLeft,10)+parseInt(b.paddingRight,10),ue=parseInt(b.height,10)+parseInt(b.paddingTop,10)+parseInt(b.paddingBottom,10);return y>=P&&y<=P+ne&&C>=F&&C<=F+ue}var Rye="toastui-editor-";function bb(){for(var b=[],y=0;y<arguments.length;y++)b[y]=arguments[y];for(var C=[],P=0,F=b;P<F.length;P++){var ne=F[P],ue=void 0;Array.isArray(ne)?ue=ne[0]?ne[1]:null:ue=ne,ue&&C.push(""+Rye+ue)}return C.join(" ")}function h_(b){b.parentNode&&b.parentNode.removeChild(b)}function d_(b,y,C){yb()(C)&&(C=!Oye()(b,y));var P=C?a_():DM();P(b,y)}function Nye(b,y){var C=document.createElement("div");mye()(b)?C.innerHTML=b:C.appendChild(b);var P=C.firstChild;return P}function $ye(b){var y=/<img class="ProseMirror-separator" alt="">/g,C=/ class="ProseMirror-trailingBreak"/g,P=b;return P=P.replace(y,""),P=P.replace(C,""),P}var Lye=u(294),p_=u.n(Lye);function _ye(b){return b.sourcepos[0][1]}function Iye(b){switch(b.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Qye(b,y,C){for(C===void 0&&(C=!0),b=C?b:b.parent;b&&b.type!=="document";){if(y(b))return b;b=b.parent}return null}function Bye(b){var y=b.firstChild.literal;switch(b.type){case"emph":return"*"+y+"*";case"strong":return"**"+y+"**";case"strike":return"~~"+y+"~~";case"code":return"`"+y+"`";case"link":case"image":var C=b,P=C.destination,F=C.title,ne=b.type==="link"?"":"!";return ne+"["+y+"]("+P+(F?' "'+F+'"':"")+")";default:return null}}var qye={},m_=/\$\$widget\d+\s/;function v_(b){var y=b.search(m_);if(y!==-1){var C=b.substring(y),P=C.replace(m_,"").replace("$$","");b=b.substring(0,y),b+=v_(P)}return b}function Fye(b,y){var C=qye[b],P=C.rule,F=C.toDOM,ne=v_(y).match(P);return ne&&(y=ne[0]),F(y)}function Vye(b){for(var y,C="",P=b.walker();y=P.next();){var F=y.node,ne=y.entering;ne&&(F!==b&&F.type!=="text"?(C+=Bye(F),P.resumeAt(b,!1),P.next()):F.type==="text"&&(C+=F.literal))}return C}var Zye=u(368),zye=u.n(Zye),Hye=["iframe","embed"],g_=[];function Wye(b){PM(Hye,b)&&g_.push(b.toLowerCase())}function Uye(b,y){return zye().sanitize(b,h({ADD_TAGS:g_,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},y))}function Xye(b,y){return b.literal.replace(new RegExp("(<\\s*"+y+"[^>]*>)|(</"+y+"\\s*[>])","ig"),"").trim()}function jye(b){b=b.match(u_)[0];var y=b.match(new RegExp(l_,"g"));return y?y.reduce(function(C,P){var F=P.trim().split("="),ne=F[0],ue=F.slice(1);return ue.length&&(C[ne]=ue.join("=").replace(/'|"/g,"").trim()),C},{}):{}}var Yye=/^\s*<\s*\//,Gye={paragraph:function(b,y){var C=y.entering,P=y.origin,F=y.options;return F.nodeId?{type:C?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:P()},softbreak:function(b){var y=b.prev&&b.prev.type==="htmlInline",C=y&&/<br ?\/?>/.test(b.prev.literal),P=C?`
`:`<br>
`;return{type:"html",content:P}},item:function(b,y){var C=y.entering;if(C){var P={},F=[];return b.listData.task&&(P["data-task"]="",F.push("task-list-item"),b.listData.checked&&(F.push("checked"),P["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:F,attributes:P,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(b){var y={"data-backticks":String(b.tickCount)};return[{type:"openTag",tagName:"code",attributes:y},{type:"text",content:b.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(b){var y=b,C=y.fenceLength,P=y.info,F=P?P.split(/\s+/):[],ne=[],ue={};if(C>3&&(ue["data-backticks"]=C),F.length>0&&F[0].length>0){var ye=F[0];ne.push("lang-"+ye),ue["data-language"]=ye}return[{type:"openTag",tagName:"pre",classNames:ne},{type:"openTag",tagName:"code",attributes:ue},{type:"text",content:b.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(b,y){var C=y.origin,P=y.entering,F=y.skipChildren,ne=b.info;if(ne.indexOf("widget")!==-1&&P){F();var ue=Vye(b),ye=Fye(ne,ue).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:ye},{type:"closeTag",tagName:"span"}]}return C()}};function Kye(b,y){var C=h({},Gye);return b&&(C.link=function(P,F){var ne=F.entering,ue=F.origin,ye=ue();return ne&&(ye.attributes=h(h({},ye.attributes),b)),ye}),y&&Object.keys(y).forEach(function(P){var F=C[P],ne=y[P];F&&p_()(ne)?C[P]=function(ue,ye){var We=h({},ye);return We.origin=function(){return F(ue,ye)},ne(ue,We)}:PM(["htmlBlock","htmlInline"],P)&&!p_()(ne)?C[P]=function(ue,ye){var We=ue.literal.match(u_);if(We){var Je=We[0],kt=We[1],Et=We[3],gt=(kt||Et).toLowerCase(),Ut=ne[gt],Wt=Xye(ue,gt);if(Ut){var Hr=h({},ue);return Hr.attrs=jye(Je),Hr.childrenHTML=Wt,Hr.type=gt,ye.entering=!Yye.test(ue.literal),Ut(Hr,ye)}}return ye.origin()}:C[P]=ne}),C}var Jye=["UL","OL","BLOCKQUOTE"];function ebe(b,y){for(var C=0;b&&b!==y&&(PM(Jye,b.tagName)||(C+=b.offsetTop),b.offsetParent!==y.offsetParent);)b=b.parentElement;return C}function tbe(b,y){for(var C=y,P=null;C;){var F=C.firstElementChild;if(!F)break;var ne=O_(F,b,ebe(C,y));P=C,C=ne}var ue=C||P;return ue===y?null:ue}function O_(b,y,C){return b&&y>C+b.offsetTop?O_(b.nextElementSibling,y,C)||b:null}var rbe={};function _M(b){b&&(delete rbe[Number(b.getAttribute("data-nodeid"))],fye()(b.children).forEach(function(y){_M(y)}))}var IM=bb("md-preview-highlight");function nbe(b,y){for(var C=b.firstChild;C&&C.next&&!(_ye(C.next)>y+1);)C=C.next;return C}var ibe=function(){function b(y,C){var P=document.createElement("div");this.el=P,this.eventEmitter=y,this.isViewer=!!C.isViewer,this.el.className=bb("md-preview");var F=C.linkAttributes,ne=C.customHTMLRenderer,ue=C.sanitizer,ye=C.highlight,We=ye===void 0?!1:ye;this.renderer=new tye({gfm:!0,nodeId:!0,convertors:Kye(F,ne)}),this.cursorNodeId=null,this.sanitizer=ue,this.initEvent(We),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return b.prototype.initContentSection=function(){this.previewContent=Nye('<div class="'+bb("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},b.prototype.toggleActive=function(y){d_(this.el,"active",y)},b.prototype.initEvent=function(y){var C=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(y&&(this.eventEmitter.listen("changeToolbarState",function(P){var F=P.mdNode,ne=P.cursorPos;C.updateCursorNode(F,ne)}),this.eventEmitter.listen("blur",function(){C.removeHighlight()})),n_()(this.el,"scroll",function(P){C.eventEmitter.emit("scroll","preview",tbe(P.target.scrollTop,C.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return C.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return C.toggleActive(!1)}))},b.prototype.removeHighlight=function(){if(this.cursorNodeId){var y=this.getElementByNodeId(this.cursorNodeId);y&&DM()(y,IM)}},b.prototype.updateCursorNode=function(y,C){y&&(y=Qye(y,function(ue){return!Iye(ue)}),y.type==="tableRow"?y=nbe(y,C[1]):y.type==="tableBody"&&(y=null));var P=y?y.id:null;if(this.cursorNodeId!==P){var F=this.getElementByNodeId(this.cursorNodeId),ne=this.getElementByNodeId(P);F&&DM()(F,IM),ne&&a_()(ne,IM),this.cursorNodeId=P}},b.prototype.getElementByNodeId=function(y){return y?this.previewContent.querySelector('[data-nodeid="'+y+'"]'):null},b.prototype.update=function(y){var C=this;y.forEach(function(P){return C.replaceRangeNodes(P)}),this.eventEmitter.emit("afterPreviewRender",this)},b.prototype.replaceRangeNodes=function(y){var C=this,P=y.nodes,F=y.removedNodeRange,ne=this.previewContent,ue=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(P.map(function(Wt){return C.renderer.render(Wt)}).join("")));if(!F)ne.insertAdjacentHTML("afterbegin",ue);else{var ye=F.id,We=ye[0],Je=ye[1],kt=this.getElementByNodeId(We),Et=this.getElementByNodeId(Je);if(kt){kt.insertAdjacentHTML("beforebegin",ue);for(var gt=kt;gt&&gt!==Et;){var Ut=gt.nextElementSibling;h_(gt),_M(gt),gt=Ut}gt!=null&&gt.parentNode&&(h_(gt),_M(gt))}}},b.prototype.getRenderer=function(){return this.renderer},b.prototype.destroy=function(){i_()(this.el,"scroll"),this.el=null},b.prototype.getElement=function(){return this.el},b.prototype.getHTML=function(){return $ye(this.previewContent.innerHTML)},b.prototype.setHTML=function(y){this.previewContent.innerHTML=y},b.prototype.setHeight=function(y){o_()(this.el,{height:y+"px"})},b.prototype.setMinHeight=function(y){o_()(this.el,{minHeight:y+"px"})},b}(),abe=ibe,wb=u(814),QM=u(479),y_=u(311),obe=u(481),sbe=u(43),lbe=u(928),ube=u.n(lbe),cbe=function(){function b(){this.keys=[],this.values=[]}return b.prototype.getKeyIndex=function(y){return ube()(y,this.keys)},b.prototype.get=function(y){return this.values[this.getKeyIndex(y)]},b.prototype.set=function(y,C){var P=this.getKeyIndex(y);return P>-1?this.values[P]=C:(this.keys.push(y),this.values.push(C)),this},b.prototype.has=function(y){return this.getKeyIndex(y)>-1},b.prototype.delete=function(y){var C=this.getKeyIndex(y);return C>-1?(this.keys.splice(C,1),this.values.splice(C,1),!0):!1},b.prototype.forEach=function(y,C){var P=this;C===void 0&&(C=this),this.values.forEach(function(F,ne){F&&P.keys[ne]&&y.call(C,F,P.keys[ne],P)})},b.prototype.clear=function(){this.keys=[],this.values=[]},b}(),b_=cbe,BM="en-US",fbe=function(){function b(){this.code=BM,this.langs=new b_}return b.prototype.setCode=function(y){this.code=y||BM},b.prototype.setLanguage=function(y,C){var P=this;y=[].concat(y),y.forEach(function(F){if(!P.langs.has(F))P.langs.set(F,C);else{var ne=P.langs.get(F);P.langs.set(F,r_()(ne,C))}})},b.prototype.get=function(y,C){C||(C=this.code);var P=this.langs.get(C);P||(P=this.langs.get(BM));var F=P[y];if(!F)throw new Error('There is no text key "'+y+'" in '+C);return F},b}(),hbe=new fbe;function dbe(b,y){for(var C=b.depth;C;){var P=b.node(C);if(y(P,C))return{node:P,depth:C,offset:C>0?b.before(C):0};C-=1}return null}var w_=new Map,k_=function(){function b(y,C,P,F){this.table=y,this.tableRows=C,this.tableStartPos=P,this.rowInfo=F}return b.create=function(y){var C=dbe(y,function(Wt){var Hr=Wt.type;return Hr.name==="table"});if(C){var P=C.node,F=C.depth,ne=C.offset,ue=w_.get(P);if((ue==null?void 0:ue.tableStartPos)===ne+1)return ue;var ye=[],We=y.start(F),Je=P.child(0),kt=P.child(1),Et=qM(Je,We),gt=qM(kt,We+Je.nodeSize);Je.forEach(function(Wt){return ye.push(Wt)}),kt.forEach(function(Wt){return ye.push(Wt)});var Ut=new b(P,ye,We,Et.concat(gt));return w_.set(P,Ut),Ut}return null},Object.defineProperty(b.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),b.prototype.getCellInfo=function(y,C){return this.rowInfo[y][C]},b.prototype.posAt=function(y,C){for(var P=0,F=this.tableStartPos;;P+=1){var ne=F+this.tableRows[P].nodeSize;if(P===y){for(var ue=C;ue<this.totalColumnCount&&this.rowInfo[P][ue].offset<F;)ue+=1;return ue===this.totalColumnCount?ne:this.rowInfo[P][ue].offset}F=ne}},b.prototype.getNodeAndPos=function(y,C){var P=this.rowInfo[y][C];return{node:this.table.nodeAt(P.offset-this.tableStartOffset),pos:P.offset}},b.prototype.extendedRowspan=function(y,C){return!1},b.prototype.extendedColspan=function(y,C){return!1},b.prototype.getRowspanCount=function(y,C){return 0},b.prototype.getColspanCount=function(y,C){return 0},b.prototype.decreaseColspanCount=function(y,C){return 0},b.prototype.decreaseRowspanCount=function(y,C){return 0},b.prototype.getColspanStartInfo=function(y,C){return null},b.prototype.getRowspanStartInfo=function(y,C){return null},b.prototype.getCellStartOffset=function(y,C){var P=this.rowInfo[y][C].offset;return this.extendedRowspan(y,C)?this.posAt(y,C):P},b.prototype.getCellEndOffset=function(y,C){var P=this.rowInfo[y][C],F=P.offset,ne=P.nodeSize;return this.extendedRowspan(y,C)?this.posAt(y,C):F+ne},b.prototype.getCellIndex=function(y){for(var C=0;C<this.totalRowCount;C+=1)for(var P=this.rowInfo[C],F=0;F<this.totalColumnCount;F+=1)if(P[F].offset+1>y.pos)return[C,F];return[0,0]},b.prototype.getRectOffsets=function(y,C){var P,F,ne;C===void 0&&(C=y),y.pos>C.pos&&(P=[C,y],y=P[0],C=P[1]);var ue=this.getCellIndex(y),ye=ue[0],We=ue[1],Je=this.getCellIndex(C),kt=Je[0],Et=Je[1];return F=f_(ye,kt),ye=F[0],kt=F[1],ne=f_(We,Et),We=ne[0],Et=ne[1],this.getSpannedOffsets({startRowIdx:ye,startColIdx:We,endRowIdx:kt,endColIdx:Et})},b.prototype.getSpannedOffsets=function(y){return y},b}(),qM=function(b,y){var C=[];return b.forEach(function(P,F){var ne={rowspanMap:{},colspanMap:{},length:0};P.forEach(function(ue,ye){for(var We=ue.nodeSize,Je=0;ne[Je];)Je+=1;ne[Je]={offset:y+F+ye+2,nodeSize:We},ne.length+=1}),C.push(ne)}),C};function pbe(b,y){return c_(k_.prototype,b),qM=y,k_}function mbe(b){var y=b.plugin,C=b.eventEmitter,P=b.usageStatistics,F=b.instance,ne={Plugin:wb.Plugin,PluginKey:wb.PluginKey,Selection:wb.Selection,TextSelection:wb.TextSelection},ue={Decoration:y_.Decoration,DecorationSet:y_.DecorationSet},ye={Fragment:sbe.Fragment},We={InputRule:QM.InputRule,inputRules:QM.inputRules,undoInputRule:QM.undoInputRule},Je={keymap:obe.keymap},kt={eventEmitter:C,usageStatistics:P,instance:F,pmState:ne,pmView:ue,pmModel:ye,pmRules:We,pmKeymap:Je,i18n:hbe};if(dye()(y)){var Et=y[0],gt=y[1],Ut=gt===void 0?{}:gt;return Et(kt,Ut)}return y(kt)}function vbe(b){var y=b.plugins,C=b.eventEmitter,P=b.usageStatistics,F=b.instance;return C.listen("mixinTableOffsetMapPrototype",pbe),(y??[]).reduce(function(ne,ue){var ye=mbe({plugin:ue,eventEmitter:C,usageStatistics:P,instance:F});if(!ye)throw new Error("The return value of the executed plugin is empty.");var We=ye.markdownParsers,Je=ye.toHTMLRenderers,kt=ye.toMarkdownRenderers,Et=ye.markdownPlugins,gt=ye.wysiwygPlugins,Ut=ye.wysiwygNodeViews,Wt=ye.markdownCommands,Hr=ye.wysiwygCommands,Xn=ye.toolbarItems;return Je&&(ne.toHTMLRenderers=NM(ne.toHTMLRenderers,Je)),kt&&(ne.toMarkdownRenderers=NM(ne.toMarkdownRenderers,kt)),Et&&(ne.mdPlugins=ne.mdPlugins.concat(Et)),gt&&(ne.wwPlugins=ne.wwPlugins.concat(gt)),Ut&&(ne.wwNodeViews=h(h({},ne.wwNodeViews),Ut)),Wt&&(ne.mdCommands=h(h({},ne.mdCommands),Wt)),Hr&&(ne.wwCommands=h(h({},ne.wwCommands),Hr)),Xn&&(ne.toolbarItems=ne.toolbarItems.concat(Xn)),We&&(ne.markdownParsers=h(h({},ne.markdownParsers),We)),ne},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var gbe=u(404),Obe=u.n(gbe),S_=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],ybe=function(){function b(){var y=this;this.events=new b_,this.eventTypes=S_.reduce(function(C,P){return h(h({},C),{type:P})},{}),this.hold=!1,S_.forEach(function(C){y.addEventType(C)})}return b.prototype.listen=function(y,C){var P=this.getTypeInfo(y),F=this.events.get(P.type)||[];if(!this.hasEventType(P.type))throw new Error("There is no event type "+P.type);P.namespace&&(C.namespace=P.namespace),F.push(C),this.events.set(P.type,F)},b.prototype.emit=function(y){for(var C=[],P=1;P<arguments.length;P++)C[P-1]=arguments[P];var F=this.getTypeInfo(y),ne=this.events.get(F.type),ue=[];return!this.hold&&ne&&ne.forEach(function(ye){var We=ye.apply(void 0,C);yb()(We)||ue.push(We)}),ue},b.prototype.emitReduce=function(y,C){for(var P=[],F=2;F<arguments.length;F++)P[F-2]=arguments[F];var ne=this.events.get(y);return!this.hold&&ne&&ne.forEach(function(ue){var ye=ue.apply(void 0,p([C],P));Obe()(ye)||(C=ye)}),C},b.prototype.getTypeInfo=function(y){var C=y.split(".");return{type:C[0],namespace:C[1]}},b.prototype.hasEventType=function(y){return!yb()(this.eventTypes[this.getTypeInfo(y).type])},b.prototype.addEventType=function(y){if(this.hasEventType(y))throw new Error("There is already have event type "+y);this.eventTypes[y]=y},b.prototype.removeEventHandler=function(y,C){var P=this,F=this.getTypeInfo(y),ne=F.type,ue=F.namespace;ne&&C?this.removeEventHandlerWithHandler(ne,C):ne&&!ue?this.events.delete(ne):!ne&&ue?this.events.forEach(function(ye,We){P.removeEventHandlerWithTypeInfo(We,ue)}):ne&&ue&&this.removeEventHandlerWithTypeInfo(ne,ue)},b.prototype.removeEventHandlerWithHandler=function(y,C){var P=this.events.get(y);if(P){var F=P.indexOf(C);P.indexOf(C)>=0&&P.splice(F,1)}},b.prototype.removeEventHandlerWithTypeInfo=function(y,C){var P=[],F=this.events.get(y);F&&(F.map(function(ne){return ne.namespace!==C&&P.push(ne),null}),this.events.set(y,P))},b.prototype.getEvents=function(){return this.events},b.prototype.holdEventInvoke=function(y){this.hold=!0,y(),this.hold=!1},b}(),bbe=ybe,wbe="data-task",kbe="data-task-disabled",Sbe="checked";function xbe(b){["htmlBlock","htmlInline"].forEach(function(y){b[y]&&Object.keys(b[y]).forEach(function(C){return Wye(C)})})}var Cbe=function(){function b(y){var C=this;this.options=r_()({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},y),this.eventEmitter=new bbe;var P=Aye(this.options.linkAttributes),F=vbe({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},ne=F.toHTMLRenderers,ue=F.markdownParsers,ye=this.options,We=ye.customHTMLRenderer,Je=ye.extendedAutolinks,kt=ye.referenceDefinition,Et=ye.frontMatter,gt=ye.customHTMLSanitizer,Ut={linkAttributes:P,customHTMLRenderer:h(h({},ne),We),extendedAutolinks:Je,referenceDefinition:kt,frontMatter:Et,sanitizer:gt||Uye};xbe(Ut.customHTMLRenderer),this.options.events&&nye()(this.options.events,function(cs,Lo){C.on(Lo,cs)});var Wt=this.options,Hr=Wt.el,Xn=Wt.initialValue,Ei=Wt.theme,Mu=Hr.innerHTML;Ei!=="light"&&Hr.classList.add(bb(Ei)),Hr.innerHTML="",this.toastMark=new GOe("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:Je,referenceDefinition:kt,disallowDeepHeading:!0,frontMatter:Et,customParser:ue}),this.preview=new abe(this.eventEmitter,h(h({},Ut),{isViewer:!0})),n_()(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),Xn?this.setMarkdown(Xn):Mu&&this.preview.setHTML(Mu),Hr.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return b.prototype.toggleTask=function(y){var C=y.target,P=getComputedStyle(C,":before");!C.hasAttribute(kbe)&&C.hasAttribute(wbe)&&Pye(P,y.offsetX,y.offsetY)&&(d_(C,Sbe),this.eventEmitter.emit("change",{source:"viewer",date:y}))},b.prototype.setMarkdown=function(y){var C=this.toastMark.getLineTexts(),P=C.length,F=Dye(C),ne=[P,F.length+1],ue=this.toastMark.editMarkdown([1,1],ne,y||"");this.eventEmitter.emit("updatePreview",ue)},b.prototype.on=function(y,C){this.eventEmitter.listen(y,C)},b.prototype.off=function(y){this.eventEmitter.removeEventHandler(y)},b.prototype.addHook=function(y,C){this.eventEmitter.removeEventHandler(y),this.eventEmitter.listen(y,C)},b.prototype.destroy=function(){i_()(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},b.prototype.isViewer=function(){return!0},b.prototype.isMarkdownMode=function(){return!1},b.prototype.isWysiwygMode=function(){return!1},b}(),Tbe=Cbe,Ebe=Tbe}(),c=c.default,c}()})}(ND)),ND.exports}var Fxt=qxt();const STt=APe(Fxt);export{KCt as $,RCt as A,Hxt as B,Xxt as C,DCt as D,At as E,RV as F,Wxt as G,HCt as H,jCt as I,uO as J,zCt as K,ACt as L,vCt as M,twe as N,MCt as O,oCt as P,mCt as Q,rCt as R,fr as S,Yxt as T,PCt as U,uCt as V,hCt as W,iCt as X,Uxt as Y,wCt as Z,JCt as _,pCt as a,YCt as a0,fi as a1,jxt as a2,aCt as a3,NCt as a4,yo as a5,ir as a6,ZD as a7,kCt as a8,OCt as a9,tCt as aa,ECt as ab,wTt as ac,wi as ad,yTt as ae,bTt as af,fCt as ag,gCt as ah,eCt as ai,zxt as aj,cCt as ak,Zxt as al,SCt as am,dCt as an,yCt as ao,OTt as ap,bCt as aq,GCt as ar,kTt as as,STt as at,lCt as b,LCt as c,iwe as d,sCt as e,Kxt as f,nCt as g,CCt as h,TCt as i,L0e as j,xCt as k,Gxt as l,u0e as m,WCt as n,q0e as o,l0e as p,C1 as q,In as r,ao as s,M0e as t,P0e as u,$Ct as v,aAe as w,kMe as x,XCt as y,Jxt as z};
