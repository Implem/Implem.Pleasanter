{
    "Version": 1.017,
    "ReferenceType": "Results",
    "GridColumns": [ "ResultId", "ClassA", "Status", "Title", "NumA", "Owner", "DateA", "Manager", "DateB", "Updator", "UpdatedTime" ],
    "EditorColumnHash": { "General": [ "ClassA", "Status", "_Section-2", "Title", "Body", "NumA", "AttachmentsA", "Owner", "DateA", "_Section-1", "Manager", "DateB", "Comments" ] },
    "SectionLatestId": 2,
    "Sections": [
        {
            "Id": 2,
            "LabelText": "申請欄",
            "AllowExpand": false,
            "Expand": true
        },
        {
            "Id": 1,
            "LabelText": "承認欄",
            "AllowExpand": false,
            "Expand": true
        }
    ],
    "Columns": [
        {
            "ColumnName": "AttachmentsA",
            "LabelText": "添付資料"
        },
        {
            "ColumnName": "Status",
            "LabelText": "ステータス",
            "ChoicesText": "100,起票,起\n200,申請,申\n900,承認,承\n920,否決,否\n930,条件付き承認,条\n940,保留,留",
            "CopyByDefault": true,
            "EditorReadOnly": true
        },
        {
            "ColumnName": "Manager",
            "LabelText": "承認者",
            "DefaultInput": "",
            "CopyByDefault": true,
            "EditorReadOnly": true
        },
        {
            "ColumnName": "NumA",
            "LabelText": "金額",
            "Format": "C",
            "Nullable": true,
            "DateFilterSetMode": 2
        },
        {
            "ColumnName": "DateA",
            "LabelText": "申請日時",
            "GridFormat": "Ymdahm",
            "EditorFormat": "Ymdhm",
            "ExportFormat": "Ymda",
            "CopyByDefault": true,
            "EditorReadOnly": true
        },
        {
            "ColumnName": "DateB",
            "LabelText": "承認日時",
            "GridFormat": "Ymdahm",
            "EditorFormat": "Ymdhm",
            "ExportFormat": "Ymda",
            "CopyByDefault": true,
            "EditorReadOnly": true
        },
        {
            "ColumnName": "Owner",
            "LabelText": "申請者",
            "DefaultInput": "",
            "CopyByDefault": true,
            "EditorReadOnly": true
        },
        {
            "ColumnName": "Title",
            "LabelText": "件名"
        },
        {
            "ColumnName": "Body",
            "LabelText": "申請理由"
        },
        {
            "ColumnName": "ClassA",
            "LabelText": "稟議番号",
            "AutoNumberingFormat": "[yyyyMMdd]-[NNNNN]",
            "AutoNumberingResetType": "Year",
            "EditorReadOnly": true
        }
    ],
    "Aggregations": [
        {
            "Id": 1,
            "GroupBy": "Status",
            "Type": 0,
            "Target": ""
        }
    ],
    "Processes": [
        {
            "Id": 1,
            "Name": "申請",
            "DisplayName": "申請",
            "CurrentStatus": 100,
            "ChangedStatus": 200,
            "ConfirmationMessage": "申請します。よろしいですか？",
            "SuccessMessage": "申請しました。",
            "ValidateInputs": [
                {
                    "Id": 1,
                    "ColumnName": "Body",
                    "Required": true
                },
                {
                    "Id": 2,
                    "ColumnName": "NumA",
                    "Required": true
                }
            ],
            "View": {
                "Id": 0,
                "ApiColumnKeyDisplayType": 0,
                "ApiColumnValueDisplayType": 0,
                "ApiDataType": 0
            },
            "ErrorMessage": "データが正しくありません。"
        },
        {
            "Id": 2,
            "Name": "承認（20万未満）",
            "DisplayName": "承認（20万未満）",
            "CurrentStatus": 200,
            "ChangedStatus": 900,
            "ConfirmationMessage": "承認してよろしいですか？",
            "SuccessMessage": "承認しました。",
            "Users": [ "#User11#" ],
            "View": {
                "Id": 0,
                "ColumnFilterHash": { "NumA": "[\",199999\"]" },
                "ApiColumnKeyDisplayType": 0,
                "ApiColumnValueDisplayType": 0,
                "ApiDataType": 0
            },
            "ErrorMessage": "データが正しくありません。",
            "Notifications": [
                {
                    "Type": 1,
                    "Subject": "承認通知",
                    "Address": "[Creator],[Updator]",
                    "Body": "承認しました。\n{Url}",
                    "BeforeCondition": 0,
                    "AfterCondition": 0,
                    "Expression": 0,
                    "Id": 1
                }
            ]
        },
        {
            "Id": 3,
            "Name": "承認（20万以上）",
            "DisplayName": "承認（20万以上）",
            "CurrentStatus": 200,
            "ChangedStatus": 900,
            "ConfirmationMessage": "承認してよろしいですか？",
            "SuccessMessage": "承認しました。",
            "Users": [ "#User12#" ],
            "View": {
                "Id": 0,
                "ColumnFilterHash": { "NumA": "[\"200000,\"]" },
                "ApiColumnKeyDisplayType": 0,
                "ApiColumnValueDisplayType": 0,
                "ApiDataType": 0
            },
            "ErrorMessage": "データが正しくありません。",
            "Notifications": [
                {
                    "Type": 1,
                    "Subject": "承認通知",
                    "Address": "[Creator],[Updator]",
                    "Body": "承認しました。\n{Url}",
                    "BeforeCondition": 0,
                    "AfterCondition": 0,
                    "Expression": 0,
                    "Id": 1
                }
            ]
        },
        {
            "Id": 4,
            "Name": "否決",
            "DisplayName": "否決",
            "CurrentStatus": 200,
            "ChangedStatus": 920,
            "ConfirmationMessage": "否決してよろしいですか？",
            "SuccessMessage": "否決しました。",
            "Users": [ "#User11#", "#User12#" ],
            "View": {
                "Id": 0,
                "ApiColumnKeyDisplayType": 0,
                "ApiColumnValueDisplayType": 0,
                "ApiDataType": 0
            },
            "ErrorMessage": "データが正しくありません。"
        },
        {
            "Id": 5,
            "Name": "承認後取り消し",
            "DisplayName": "承認後取り消し",
            "CurrentStatus": 900,
            "ChangedStatus": 100,
            "ConfirmationMessage": "取り下げてよいですか？",
            "SuccessMessage": "取り下げました。",
            "View": {
                "Id": 0,
                "ApiColumnKeyDisplayType": 0,
                "ApiColumnValueDisplayType": 0,
                "ApiDataType": 0
            },
            "ErrorMessage": "データが正しくありません。"
        }
    ],
    "ServerScripts": [
        {
            "Title": "編集画面制御",
            "Name": "",
            "BeforeOpeningPage": true,
            "Body": "if (model.Status > 100) {\n    columns.Title.ReadOnly = true;\n    columns.Body.ReadOnly = true;\n    columns.NumA.ReadOnly = true;\n    columns.AttachmentsA.ReadOnly = true;\n}",
            "Id": 1
        },
        {
            "Title": "申請",
            "Name": "",
            "BeforeUpdate": true,
            "Body": "if (context.ControlId === 'Process_1') {\n    model.Owner = context.UserId;\n    model.DateA = new Date();\n}",
            "Id": 2
        },
        {
            "Title": "決済",
            "Name": "",
            "BeforeUpdate": true,
            "Body": "if (context.ControlId === 'Process_2' || context.ControlId === 'Process_3') {\n    model.Manager = context.UserId;\n    model.DateB = new Date();\n}",
            "Id": 3
        },
        {
            "Title": "承認後取消",
            "Name": "",
            "BeforeUpdate": true,
            "Body": "if (context.ControlId === 'Process_5') {\n    model.Manager = undefined;\n    model.Owner = undefined;\n    model.DateA = undefined;\n    model.DateB = undefined;\n}",
            "Id": 4
        }
    ],
    "AllowCopy": false,
    "AllowReferenceCopy": true,
    "SwitchRecordWithAjax": true,
    "NoDisplayIfReadOnly": false
}
