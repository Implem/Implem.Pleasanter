case "CurrentPermissionsAll":
    RecordPermissions = context.Forms.List("CurrentPermissionsAll");
    // アクセス権を継承する場合にはPermissionsテーブルのレコードを削除する
    // CurrentPermissionsAllよりInheritPermissionが先に処理された場合の対策
    if (context.Forms.ContainsKey("InheritPermission")
        && context.Forms.Long("InheritPermission") != SiteId)
    {
        RecordPermissions = new List<string>();
    }
    break;
case "InheritPermission":
    // アクセス権を継承する場合にはPermissionsテーブルのレコードを削除する
    if (context.Forms.Long("InheritPermission") != SiteId)
    {
        RecordPermissions = new List<string>();
    }
    break;